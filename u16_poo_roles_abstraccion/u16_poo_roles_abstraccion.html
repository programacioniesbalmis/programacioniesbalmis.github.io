<!DOCTYPE html><html><head>
      <title>Programación 1º DAM Unidad 16</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css">
      
      
      
      
      
      <style>
      @import url(https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css);
code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}@font-face{font-family:"Material Icons";font-style:normal;font-weight:400;src:local("Material Icons"),local("MaterialIcons-Regular"),url("data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAfIAAsAAAAADDAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFZW7kosY21hcAAAAYAAAADTAAACjtP6ytBnbHlmAAACVAAAAxgAAAQ4zRtvlGhlYWQAAAVsAAAALwAAADYRwZsnaGhlYQAABZwAAAAcAAAAJAeKAzxobXR4AAAFuAAAABIAAAA8OGQAAGxvY2EAAAXMAAAAIAAAACAG5AfwbWF4cAAABewAAAAfAAAAIAEfAERuYW1lAAAGDAAAAVcAAAKFkAhoC3Bvc3QAAAdkAAAAYgAAAK2vz7wkeJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2BkPsQ4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDgwVLy4xKzzX4chhrmK4QpQmBEkBwAZygyweJzFkr0NwjAQhZ+TEP6CRUfHBEwRUWaQTICyQbpMwRCskA5RUIONxG0RnnNpKAIV4qzPku/8c353ACYAYrIjCWCuMAh2ptf0/hiL3p/gyPUWa3osqlt0L1zu9r71z8dGrJRykFoauXQd932Lj5vhG+MjxGeYI8MKETObMpslf5EyP8tg+vHun5r539PvlvXzaVhRFVQDTPEWKVQR90KhnnC5Ek67vUKN4VuFasM/ldARj43CCkCsEjpJSoVVgRyU0GVSK6wUpFFCx8lFgX0BiXpRPQB4nE2TTWjcRhTH3xttpDhxN7uxPlp3u/FK7moRPixafRijNosxSw/LUsIwNcaEHPZggo/FmEKMCKWU4kNOOftQSlhE8alnH0Ix9BqWnHooPRrTQ0+mnu2bXTu2pPdGM9LM/6c3fwECTM4gBBMYQNqxzLrZAjqYSlqu2TAHZQA0/DQJH6FtzqGDnvbt4Ggwvzw/nL8EfH8kW0fsuRqhgWXZnY7M1picaUL7Du5BHeDzMIl83dAt016wH1qmvtSMo5R6YRJHTR//FXsff/nj/tc/5K9P5d+nP22+fFK5u7v3K39SW3y+OtDKO3L85vD09PD9z5X17a2N1g4tqk01RlqX7gyoEmnsWQtVr4rtZMmukEaFBZxzefkCn11cyKMLZgshRwgTYNoLNXCBz2ja7HvZG7hDpPSNfoo5vs0knK/9hb+rNpu+8kHPgk/Ao4kK3tWtTpSEtvkA9c+wE6UaUdwieNkaHg55tBEtRiEPw1s0+FtrtTcc9two2lhMknV7PZF/cs6+uUFTmpTGbEx7sQCPSLOttHS3GRltqp7SNzVSKzl6aWnZT/CX5k6/v9N3Hh8fHBwffJVjhrC6OgH5dkIt/tPsq+d/PD5Qz7G7efzq1THFjdZVPe/N6ulQ3JnDWSE5junsFsVIiFwL/htf1S5gJ3BfOcUxfHKLnzqpFpyfZ9cX+/5WB6a+Y0pHpzkNrYNVDwMsikK+y7WuLCRg/oFHkA8VT3rDg5ZnU6ktzzINymV0m74Xd5pfIGXyFeVEQSShkzqG7TBBa2OxVRKitLXv7h3uuftXnXq7lz2tZ/WnWa9dx9dCjDhHzmuVQATlmljr9dZErUydSo2Hbi/b1vXtrOeGCk2/8s3ZlO8+ueJT8BVlw5pGw2oYccdSiHHqx0RlabHqdNR9jAETl6PreJcPBnnfpTLnOQ8C3OV8AmQGzouV1iZdeb5SSIoVc8W8/kcDtksUH5FrU6/aqBqNWcMEzxG4DAQ14qRQhi9mWU0rzepKezbjfgCwQKxVYq5ajRgpRqy45CqwkJydcEkbTkvRz8P5/2ZpDTN4nGNgZGBgAOKb6v+/xvPbfGXgZmEAgeuB2kkI+v8bFgbmKiCXg4EJJAoAPyAKhQB4nGNgZGBg1vmvwxDDwgACQJKRARXwAwAzZQHQeJxjYQCCFAYGFgbSMQAcWACdAAAAAAAAAAwALgBgAIQAmADSAQgBIgE8AVABoAHeAfwCHHicY2BkYGDgZ7BgYGMAASYg5gJCBob/YD4DAA/hAWQAeJxlkbtuwkAURMc88gApQomUJoq0TdIQzEOpUDokKCNR0BuzBiO/tF6QSJcPyHflE9Klyyekz2CuG8cr7547M3d9JQO4xjccnJ57vid2cMHqxDWc40G4Tv1JuEF+Fm6ijRfhM+oz4Ra6eBVu4wZvvMFpXLIa40PYQQefwjVc4Uu4Tv1HuEH+FW7i1mkKn6Hj3Am3sHC6wm08Ou8tpSZGe1av1PKggjSxPd8zJtSGTuinyVGa6/Uu8kxZludCmzxMEzV0B6U004k25W35fj2yNlCBSWM1paujKFWZSbfat+7G2mzc7weiu34aczzFNYGBhgfLfcV6iQP3ACkSaj349AxXSN9IT0j16JepOb01doiKbNWt1ovippz6sVYYwsXgX2rGVFIkq7Pl2PNrI6qW6eOshj0xaSq9mpNEZIWs8LZUfOouNkVXxp/d5woqebeYIf4D2J1ywQB4nG3LOw6AIBAE0B384B+PAkgEa+QwNnYmHt+EpXSal5lkSBBnoP8oCFSo0aCFRIceA0ZMmLFAYSW88rmvtMUjG3RiQ9HvpfusM6zWNmtc5H/iPewha50tOt5PS/QBx2IeSwAA") format("woff")}.admonition{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);position:relative;margin:1.5625em 0;padding:0 1.2rem;border-left:.4rem solid rgba(68,138,255,.8);border-radius:.2rem;background-color:rgba(255,255,255,.05);overflow:auto}.admonition>p{margin-top:.8rem}.admonition>.admonition-title{margin:0 -1.2rem;padding:.8rem 1.2rem .8rem 3.6rem;border-bottom:1px solid rgba(68,138,255,.2);background-color:rgba(68,138,255,.1);font-weight:700}.admonition>.admonition-title:before{position:absolute;left:1.2rem;font-size:1.5rem;color:rgba(68,138,255,.8);content:"\E3C9"}.admonition>.admonition-title:before{font-family:Material Icons;font-style:normal;font-variant:normal;font-weight:400;line-height:2rem;text-transform:none;white-space:nowrap;speak:none;word-wrap:normal;direction:ltr}.admonition.abstract,.admonition.summary,.admonition.tldr{border-left-color:rgba(0,176,255,.8)}.admonition.abstract>.admonition-title,.admonition.summary>.admonition-title,.admonition.tldr>.admonition-title{background-color:rgba(0,176,255,.1);border-bottom-color:rgba(0,176,255,.2)}.admonition.abstract>.admonition-title:before,.admonition.summary>.admonition-title:before,.admonition.tldr>.admonition-title:before{color:#00b0ff;content:"\E8D2"}.admonition.hint,.admonition.tip{border-left-color:rgba(0,191,165,.8)}.admonition.hint>.admonition-title,.admonition.tip>.admonition-title{background-color:rgba(0,191,165,.1);border-bottom-color:rgba(0,191,165,.2)}.admonition.hint>.admonition-title:before,.admonition.tip>.admonition-title:before{color:#00bfa5;content:"\E80E"}.admonition.info,.admonition.todo{border-left-color:rgba(0,184,212,.8)}.admonition.info>.admonition-title,.admonition.todo>.admonition-title{background-color:rgba(0,184,212,.1);border-bottom-color:rgba(0,184,212,.2)}.admonition.info>.admonition-title:before,.admonition.todo>.admonition-title:before{color:#00b8d4;content:"\E88E"}.admonition.check,.admonition.done,.admonition.success{border-left-color:rgba(0,200,83,.8)}.admonition.check>.admonition-title,.admonition.done>.admonition-title,.admonition.success>.admonition-title{background-color:rgba(0,200,83,.1);border-bottom-color:rgba(0,200,83,.2)}.admonition.check>.admonition-title:before,.admonition.done>.admonition-title:before,.admonition.success>.admonition-title:before{color:#00c853;content:"\E876"}.admonition.faq,.admonition.help,.admonition.question{border-left-color:rgba(100,221,23,.8)}.admonition.faq>.admonition-title,.admonition.help>.admonition-title,.admonition.question>.admonition-title{background-color:rgba(100,221,23,.1);border-bottom-color:rgba(100,221,23,.2)}.admonition.faq>.admonition-title:before,.admonition.help>.admonition-title:before,.admonition.question>.admonition-title:before{color:#64dd17;content:"\E887"}.admonition.attention,.admonition.caution,.admonition.warning{border-left-color:rgba(255,145,0,.8)}.admonition.attention>.admonition-title,.admonition.caution>.admonition-title,.admonition.warning>.admonition-title{background-color:rgba(255,145,0,.1);border-bottom-color:rgba(255,145,0,.2)}.admonition.attention>.admonition-title:before{color:#ff9100;content:"\E417"}.admonition.caution>.admonition-title:before,.admonition.warning>.admonition-title:before{color:#ff9100;content:"\E002"}.admonition.fail,.admonition.failure,.admonition.missing{border-left-color:rgba(255,82,82,.8)}.admonition.fail>.admonition-title,.admonition.failure>.admonition-title,.admonition.missing>.admonition-title{background-color:rgba(255,82,82,.1);border-bottom-color:rgba(255,82,82,.2)}.admonition.fail>.admonition-title:before,.admonition.failure>.admonition-title:before,.admonition.missing>.admonition-title:before{color:#ff5252;content:"\E14C"}.admonition.bug,.admonition.danger,.admonition.error{border-left-color:rgba(255,23,68,.8)}.admonition.bug>.admonition-title,.admonition.danger>.admonition-title,.admonition.error>.admonition-title{background-color:rgba(255,23,68,.1);border-bottom-color:rgba(255,23,68,.2)}.admonition.danger>.admonition-title:before{color:#ff1744;content:"\E3E7"}.admonition.error>.admonition-title:before{color:#ff1744;content:"\E14C"}.admonition.bug>.admonition-title:before{color:#ff1744;content:"\E868"}.admonition.example,.admonition.snippet{border-left-color:rgba(0,184,212,.8)}.admonition.example>.admonition-title,.admonition.snippet>.admonition-title{background-color:rgba(0,184,212,.1);border-bottom-color:rgba(0,184,212,.2)}.admonition.example>.admonition-title:before,.admonition.snippet>.admonition-title:before{color:#00b8d4;content:"\E242"}.admonition.cite,.admonition.quote{border-left-color:rgba(158,158,158,.8)}.admonition.cite>.admonition-title,.admonition.quote>.admonition-title{background-color:rgba(158,158,158,.1);border-bottom-color:rgba(158,158,158,.2)}.admonition.cite>.admonition-title:before,.admonition.quote>.admonition-title:before{color:#9e9e9e;content:"\E244"}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v27/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
@page a4landscape {
  size: A4 landscape;
  margin: 1cm;
}
@page a4portrait {
  size: A4 portrait;
  margin: 1cm 1cm 2.5cm 1cm;
}
.markdown-preview.markdown-preview .landscape {
  page: a4landscape;
}
.markdown-preview.markdown-preview .portrait {
  page: a4portrait;
}
.markdown-preview.markdown-preview .box_bg_lightgray {
  background-color: #f5f5f5;
  border: 2px solid #969696;
  padding: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .box_bg_lightgreen {
  background-color: #f5faf5;
  border: 2px solid #969b96;
  padding-left: 15px;
  padding-right: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .salida_consola {
  background-color: #000000;
  color: aquamarine;
  border: 3px solid slategrey;
  padding-top: 15px;
  padding-bottom: 15px;
  padding-left: 10px;
  padding-right: 10px;
  margin-top: 10px;
  margin-bottom: 10px;
  border-radius: 5px;
  box-shadow: 3px 3px 6px 0 slategrey;
  font-family: "Lucida Console", Courier, monospace;
  font-size: 0.8rem;
}
.markdown-preview.markdown-preview .contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.markdown-preview.markdown-preview .fondo {
  background: url(https://balmisdigigs.github.io/digitalizacion.github.io/imagenes/fondos/quote.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.markdown-preview.markdown-preview .cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.markdown-preview.markdown-preview .abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.markdown-preview.markdown-preview .cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.markdown-preview.markdown-preview .autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
.markdown-preview.markdown-preview .flotante {
  display: flex;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    justify-content: center;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    justify-content: space-between;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: row;
  }
}
.markdown-preview.markdown-preview .flotante_izq {
  margin-right: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: auto;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: auto;
  }
}
.markdown-preview.markdown-preview .galeria_imagenes {
  display: flex;
  justify-content: space-evenly;
  align-items: center;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .galeria_imagenes {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .galeria_imagenes {
    flex-direction: row;
  }
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
    const configureMermaidIconPacks = () => {
        window["mermaid"].registerIconPacks([
            {
                name: "logos",
                loader: () =>
                    fetch("https://unpkg.com/@iconify-json/logos@1/icons.json").then(
                        (res) => res.json()
                    ),
            },
        ]);
    };

    if (document.readyState !== 'loading') {
        configureMermaidIconPacks();
    } else {
        document.addEventListener("DOMContentLoaded", () => {
            configureMermaidIconPacks();
        });
    }
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="unidad-16">Unidad 16 </h1>
<p>Descargar estos apunte en <a href="./u16_poo_roles_abstraccion.pdf">pdf</a> o <a href="./u16_poo_roles_abstraccion.html">html</a></p>
<h2 id="índice">Índice </h2>

<div class="md-toc">
<div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">
          <a href="#índice" class="md-toc-link">
            <p>Índice</p>

          </a></div><details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#abstracción" class="md-toc-link"><p>Abstracción</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#concepto-de-clase-asbtracta" class="md-toc-link">
            <p>Concepto de clase asbtracta</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#modelando-la-abstracción-en-uml" class="md-toc-link">
            <p>Modelando la abstracción en UML</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#clases-asbtractas-en-csharp" class="md-toc-link">
            <p>Clases asbtractas en CSharp</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#el-patrón-union-type-o-sum-type" class="md-toc-link"><p>El Patrón "<em>Union Type</em>" o "<em>Sum Type</em>"</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#union-type-en-csharp" class="md-toc-link">
            <p>"<em>Union Type</em>" en CSharp</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    <details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#interfaces" class="md-toc-link"><p>Interfaces</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#representación-en-los-diagramas-de-clases-uml" class="md-toc-link">
            <p>Representación en los diagramas de clases UML</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#interfaces-en-csharp" class="md-toc-link">
            <p>Interfaces en CSharp</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#interfaces-de-utilidad-predefinidos-en-las-bcl" class="md-toc-link"><p>Interfaces de utilidad predefinidos en las BCL</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ienumerable" class="md-toc-link">
            <p>IEnumerable</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#icloneable" class="md-toc-link">
            <p>ICloneable</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#icomparable" class="md-toc-link">
            <p>IComparable</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#idisposable" class="md-toc-link">
            <p>IDisposable</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ejemplo-de-uso-de-interfaces-predefinidos-en-las-bcl" class="md-toc-link">
            <p>Ejemplo de uso de interfaces predefinidos en las BCL</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#el-patrón-strategy" class="md-toc-link">
            <p>El Patrón "<em>Strategy</em>"</p>

          </a></div>
        </div>
      </details>
    
</div>
<div style="page-break-after:always;"></div>
<h2 id="abstracción">Abstracción </h2>
<h3 id="concepto-de-clase-asbtracta">Concepto de clase asbtracta </h3>
<div class="row">
<div class="col-sm-6 my-auto">
<p>En la mayoría de los casos, al buscar el polimorfismo con la herencia de superclases se nos darán <strong>generalizaciones que no tienen sentido como objetos</strong>. A este tipo de clases se les denominará <strong>Clases Abstractas</strong> y de las mismas <strong>no podremos definir objetos</strong>, y sí objetos para sus subclases.<br>
El típico ejemplo, que muestra el diagrama, es el de <strong>figuras geométrica</strong>, no tiene sentido crear un objeto de la clase <strong><code>Figura</code></strong>. En cambio, sí que tiene sentido crear objetos de las subclases como <strong><code>Cuadrado</code></strong>, <strong><code>Rombo</code></strong> o <strong><code>Circulo</code></strong>.</p>
</div>
<div class="col-sm-6 my-auto">
<p></p><p align="center" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 12.2.0 (20241103.1931)
 -->
<!-- Title: G Pages: 1 -->
<svg width="250pt" height="175pt" viewBox="0.00 0.00 250.00 175.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.6 0.6) rotate(0) translate(14.13 271.83)">
<title>G</title>
<!-- f -->
<g id="node1" class="node">
<title>f</title>
<polygon fill="none" stroke="black" stroke-dasharray="5,2" points="195.58,-144.15 199,-144.44 202.39,-144.89 205.73,-145.47 209.01,-146.21 212.22,-147.08 215.33,-148.09 218.34,-149.24 221.25,-150.53 224.02,-151.94 226.67,-153.48 229.17,-155.14 231.53,-156.92 233.72,-158.82 235.75,-160.82 237.61,-162.92 239.3,-165.12 240.8,-167.4 242.13,-169.78 243.28,-172.22 244.24,-174.74 245.01,-177.33 245.61,-179.97 246.02,-182.66 246.26,-185.39 246.33,-188.16 246.22,-190.95 245.95,-193.76 245.52,-196.59 244.94,-199.41 244.21,-202.24 243.34,-205.05 242.33,-207.84 241.2,-210.61 239.95,-213.34 238.59,-216.03 237.13,-218.67 235.57,-221.26 233.93,-223.78 232.2,-226.22 230.4,-228.6 228.53,-230.88 226.6,-233.08 224.62,-235.18 222.59,-237.18 220.51,-239.08 218.4,-240.86 216.26,-242.52 214.09,-244.06 211.9,-245.47 209.68,-246.76 207.45,-247.91 205.2,-248.92 202.94,-249.79 200.67,-250.53 198.4,-251.11 196.12,-251.56 193.83,-251.85 191.54,-252 189.26,-252 186.97,-251.85 184.68,-251.56 182.4,-251.11 180.13,-250.53 177.86,-249.79 175.6,-248.92 173.35,-247.91 171.12,-246.76 168.9,-245.47 166.71,-244.06 164.54,-242.52 162.4,-240.86 160.29,-239.08 158.21,-237.18 156.18,-235.18 154.2,-233.08 152.27,-230.88 150.4,-228.6 148.6,-226.22 146.87,-223.78 145.23,-221.26 143.67,-218.67 142.21,-216.03 140.85,-213.34 139.6,-210.61 138.47,-207.84 137.46,-205.05 136.59,-202.24 135.86,-199.41 135.28,-196.59 134.85,-193.76 134.58,-190.95 134.47,-188.16 134.54,-185.39 134.78,-182.66 135.19,-179.97 135.79,-177.33 136.56,-174.74 137.52,-172.22 138.67,-169.78 140,-167.4 141.5,-165.12 143.19,-162.92 145.05,-160.82 147.08,-158.82 149.27,-156.92 151.63,-155.14 154.13,-153.48 156.78,-151.94 159.55,-150.53 162.46,-149.24 165.47,-148.09 168.58,-147.08 171.79,-146.21 175.07,-145.47 178.41,-144.89 181.8,-144.44 185.22,-144.15 188.67,-144 192.13,-144 195.58,-144.15"></polygon>
<text text-anchor="middle" x="190.4" y="-210.6" font-family="Arial" font-size="14.00">Figura</text>
<text text-anchor="middle" x="190.4" y="-193.8" font-family="Arial" font-size="14.00">Geométrica</text>
<text text-anchor="middle" x="190.4" y="-177" font-family="Arial" font-size="14.00">???</text>
</g>
<!-- cu -->
<g id="node2" class="node">
<title>cu</title>
<polygon fill="#8b1a1a" stroke="black" points="100.8,-104.4 0,-104.4 0,-3.6 100.8,-3.6 100.8,-104.4"></polygon>
<text text-anchor="middle" x="50.4" y="-49.8" font-family="Arial" font-size="14.00" fill="white">Cuadrado</text>
</g>
<!-- f&#45;&#45;cu -->
<g id="edge1" class="edge">
<title>f--cu</title>
<path fill="none" stroke="black" d="M149.91,-155.93C134.16,-139.96 115.97,-121.51 99.49,-104.79"></path>
</g>
<!-- ti -->
<g id="node3" class="node">
<title>ti</title>
<polygon fill="navy" stroke="black" points="190.4,-104.4 118.4,-54 190.4,-3.6 262.4,-54 190.4,-104.4"></polygon>
<text text-anchor="middle" x="190.4" y="-49.8" font-family="Arial" font-size="14.00" fill="white">Rombo</text>
</g>
<!-- f&#45;&#45;ti -->
<g id="edge2" class="edge">
<title>f--ti</title>
<path fill="none" stroke="black" d="M190.4,-143.72C190.4,-130.97 190.4,-117.41 190.4,-104.82"></path>
</g>
<!-- ci -->
<g id="node4" class="node">
<title>ci</title>
<ellipse fill="darkgreen" stroke="black" cx="334.4" cy="-54" rx="54" ry="54"></ellipse>
<text text-anchor="middle" x="334.4" y="-49.8" font-family="Arial" font-size="14.00" fill="white">Círculo</text>
</g>
<!-- f&#45;&#45;ci -->
<g id="edge3" class="edge">
<title>f--ci</title>
<path fill="none" stroke="black" d="M231.28,-156.69C251.73,-136.52 276.34,-112.25 296.38,-92.49"></path>
</g>
</g>
</svg>
</p><p></p>
</div>
</div>
<p>Definiciones desde el punto de vista de la POO tradicional:</p>
<ul>
<li>
<p>Cómo hemos comentado, no podremos <strong>instanciar objetos</strong> de una clase abstracta, pues no tiene sentido la existencia de dicha abstracción sin una especificación.</p>
</li>
<li>
<p>Deberían, pero no es necesario, tener <strong>al menos un campo o propiedad</strong> común a todas las subclases.</p>
</li>
<li>
<p>Deberían, tener <strong>al menos un método abstracto o virtual puro</strong>.</p>
<ul>
<li>Un <strong>método abstracto</strong> o virtual puro <strong>no definirá un '<em>cuerpo de método</em>'</strong> y por tanto dejaremos su implementación en manos de las subclases o especificaciones.</li>
<li>Este método abstracto <strong>deberá ser redefinido obligatoriamente en la subclases</strong>.</li>
</ul>
</li>
<li>
<p>A las clases abstractas con <strong>todos sus métodos abstractos</strong> se les denomina <em>'<strong>clases abstractas puras</strong>'</em>.</p>
</li>
</ul>
<div style="page-break-after:always;"></div>
<h3 id="modelando-la-abstracción-en-uml">Modelando la abstracción en UML </h3>
<p>Un posible modelo de clases para representar la <strong>jerarquía de figuras representada en el diagrama del ejemplo anterior</strong>, podría ser el siguiente:</p>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="268.8px" preserveAspectRatio="none" style="width:655px;height:268px;background:#FFFFFF;" version="1.1" viewBox="0 0 655 268" width="655.2px" zoomAndPan="magnify"><defs></defs><g><!--class ColorFigura--><g class="entity" data-entity="ColorFigura" data-source-line="15" data-uid="ent0002" id="entity_ColorFigura"><rect fill="#FFFAFA" height="83.25" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="64.834" x="449.4" y="12.6"></rect><ellipse cx="458.4" cy="25.4109" fill="#EB937F" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"></ellipse><path d="M457.7156,25.8891 L457.7156,27.3891 L460.3125,27.3891 L460.3125,26.8359 Q460.3125,26.4703 460.4531,26.3109 Q460.6031,26.1516 460.8281,26.1516 Q461.0531,26.1516 461.1937,26.3109 Q461.3344,26.4703 461.3344,26.8359 L461.3344,28.4109 L456.5344,28.4109 Q456.1594,28.4109 456,28.2703 Q455.85,28.1297 455.85,27.8953 Q455.85,27.6703 456.0094,27.5297 Q456.1688,27.3891 456.5344,27.3891 L456.6937,27.3891 L456.6937,23.3953 L456.5344,23.3953 Q456.1594,23.3953 456,23.2547 Q455.85,23.1141 455.85,22.8797 Q455.85,22.6547 456,22.5141 Q456.1594,22.3734 456.5344,22.3734 L461.1094,22.3734 L461.1094,23.9297 Q461.1094,24.2953 460.9688,24.4547 Q460.8375,24.6047 460.6031,24.6047 Q460.3781,24.6047 460.2375,24.4547 Q460.0969,24.2953 460.0969,23.9297 L460.0969,23.3953 L457.7156,23.3953 L457.7156,24.8672 L458.6063,24.8672 Q458.6063,24.4734 458.6813,24.3609 Q458.8406,24.1172 459.1219,24.1172 Q459.3469,24.1172 459.4875,24.2766 Q459.6281,24.4266 459.6281,24.7922 L459.6281,25.9734 Q459.6281,26.3016 459.5531,26.4141 Q459.3938,26.6484 459.1219,26.6484 Q458.8406,26.6484 458.6813,26.4047 Q458.6063,26.2922 458.6063,25.8891 L457.7156,25.8891 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="7.2" font-style="italic" lengthAdjust="spacing" textLength="48.034" x="465.6" y="23.0742">«enumeration»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="43.8826" x="467.6757" y="33.3762">ColorFigura</text><line style="stroke:#000000;stroke-width:0.3;" x1="450" x2="513.634" y1="38.2219" y2="38.2219"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="19.6096" x="453" y="49.3418">Rojo,</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="18.6744" x="453" y="59.9074">Azul,</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="24.7488" x="453" y="70.473">Verde,</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="31.7502" x="453" y="81.0387">Naranja,</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="7.0014" x="453" y="91.6043">...</text></g><!--class FG--><g class="entity" data-entity="FG" data-source-line="24" data-uid="ent0003" id="entity_FG"><rect fill="#FFFAFA" height="100.125" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="140.0332" x="261.9" y="4.2"></rect><ellipse cx="311.6212" cy="17.7656" fill="#A9DCDF" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"></ellipse><path d="M312.9337,18.825 L310.4493,18.825 L310.1962,19.4437 L310.4493,19.4437 Q310.8149,19.4437 310.9743,19.5844 Q311.1337,19.725 311.1337,19.9594 Q311.1337,20.1844 310.9743,20.325 Q310.8149,20.4656 310.4493,20.4656 L309.0712,20.4656 Q308.7056,20.4656 308.5556,20.325 Q308.3962,20.1844 308.3962,19.95 Q308.3962,19.725 308.5649,19.5844 Q308.7243,19.4344 309.0993,19.4437 L310.7024,15.45 L310.0368,15.45 Q309.6712,15.45 309.5118,15.3094 Q309.3524,15.1688 309.3524,14.9344 Q309.3524,14.7094 309.5118,14.5688 Q309.6712,14.4281 310.0368,14.4281 L312.2399,14.4281 L314.2743,19.4437 Q314.6306,19.4437 314.7431,19.5281 Q314.9774,19.6875 314.9774,19.9594 Q314.9774,20.1844 314.8181,20.325 Q314.6681,20.4656 314.3024,20.4656 L312.9243,20.4656 Q312.5587,20.4656 312.3993,20.325 Q312.2399,20.1844 312.2399,19.95 Q312.2399,19.725 312.3993,19.5844 Q312.5587,19.4437 312.9243,19.4437 L313.1774,19.4437 L312.9337,18.825 Z M312.5024,17.8031 L311.6868,15.7781 L310.8618,17.8031 L312.5024,17.8031 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="23.8096" x="329.7618" y="15.9199">Figura</text><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="35.4908" x="323.9212" y="26.4855">{abstract}</text><line style="stroke:#000000;stroke-width:0.3;" x1="262.5" x2="401.3332" y1="31.3312" y2="31.3312"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="92.9127" x="265.5" y="42.4512">-color : Color { readonly }</text><line style="stroke:#000000;stroke-width:0.3;" x1="262.5" x2="401.3332" y1="46.6969" y2="46.6969"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="69.0785" x="265.5" y="57.8168">-GetColor() : Color</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="85.8949" x="265.5" y="68.3824">#Figura(in color: Color)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="114.167" x="265.5" y="78.948">+/GetArea() : double {abstract}</text><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="132.8332" x="265.5" y="89.5137">+/GetPerimetro() : double {abstract}</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="73.7297" x="265.5" y="100.0793">^+ToString() : string</text></g><!--class Cuadrado--><g class="entity" data-entity="Cuadrado" data-source-line="35" data-uid="ent0004" id="entity_Cuadrado"><rect fill="#FFFAFA" height="92.1938" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="186.2619" x="4.2" y="156.6"></rect><ellipse cx="76.3342" cy="166.2" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"></ellipse><path d="M77.9936,163.725 Q78.0873,163.5938 78.1998,163.5281 Q78.3123,163.4625 78.4436,163.4625 Q78.6686,163.4625 78.8092,163.6219 Q78.9498,163.7719 78.9498,164.1375 L78.9498,165.0094 Q78.9498,165.375 78.8092,165.5344 Q78.6686,165.6938 78.4436,165.6938 Q78.2373,165.6938 78.1154,165.5719 Q77.9936,165.4594 77.9279,165.15 Q77.8998,164.9344 77.7873,164.8219 Q77.5904,164.5969 77.2248,164.4656 Q76.8592,164.3344 76.4842,164.3344 Q76.0248,164.3344 75.6404,164.5313 Q75.2654,164.7281 74.9654,165.1781 Q74.6748,165.6281 74.6748,166.2469 L74.6748,166.9031 Q74.6748,167.6437 75.2092,168.1406 Q75.7436,168.6281 76.6998,168.6281 Q77.2623,168.6281 77.6561,168.4781 Q77.8904,168.3844 78.1436,168.1219 Q78.3029,167.9625 78.3873,167.9156 Q78.4811,167.8688 78.6029,167.8688 Q78.7998,167.8688 78.9498,168.0281 Q79.1092,168.1781 79.1092,168.3844 Q79.1092,168.5906 78.9029,168.8344 Q78.6029,169.1813 78.1248,169.3781 Q77.4779,169.65 76.6998,169.65 Q75.7904,169.65 75.0686,169.275 Q74.4779,168.975 74.0654,168.3375 Q73.6529,167.6906 73.6529,166.9219 L73.6529,166.2281 Q73.6529,165.4313 74.0186,164.7469 Q74.3936,164.0531 75.0498,163.6875 Q75.7061,163.3125 76.4467,163.3125 Q76.8873,163.3125 77.2717,163.4156 Q77.6654,163.5094 77.9936,163.725 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="36.8936" x="88.6342" y="169.6371">Cuadrado</text><line style="stroke:#000000;stroke-width:0.3;" x1="4.8" x2="189.8619" y1="175.8" y2="175.8"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="106.94" x="7.8" y="186.9199">-lado_cm : double {readonly}</text><line style="stroke:#000000;stroke-width:0.3;" x1="4.8" x2="189.8619" y1="191.1656" y2="191.1656"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="72.8438" x="7.8" y="202.2855">-GetLado() : double</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="179.0619" x="7.8" y="212.8512">+Cuadrado(in color : Color, in lado_cm : double)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="80.284" x="7.8" y="223.4168">^/+GetArea() : double</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="98.9502" x="7.8" y="233.9824">^/+GetPerimetro() : double</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="73.7297" x="7.8" y="244.548">^+ToString() : string</text></g><!--class Rombo--><g class="entity" data-entity="Rombo" data-source-line="46" data-uid="ent0005" id="entity_Rombo"><rect fill="#FFFAFA" height="123.8906" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="240.8865" x="211.5" y="141"></rect><ellipse cx="315.854" cy="150.6" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"></ellipse><path d="M317.5134,148.125 Q317.6071,147.9938 317.7196,147.9281 Q317.8321,147.8625 317.9634,147.8625 Q318.1884,147.8625 318.329,148.0219 Q318.4696,148.1719 318.4696,148.5375 L318.4696,149.4094 Q318.4696,149.775 318.329,149.9344 Q318.1884,150.0938 317.9634,150.0938 Q317.7571,150.0938 317.6353,149.9719 Q317.5134,149.8594 317.4478,149.55 Q317.4196,149.3344 317.3071,149.2219 Q317.1103,148.9969 316.7446,148.8656 Q316.379,148.7344 316.004,148.7344 Q315.5446,148.7344 315.1603,148.9313 Q314.7853,149.1281 314.4853,149.5781 Q314.1946,150.0281 314.1946,150.6469 L314.1946,151.3031 Q314.1946,152.0438 314.729,152.5406 Q315.2634,153.0281 316.2196,153.0281 Q316.7821,153.0281 317.1759,152.8781 Q317.4103,152.7844 317.6634,152.5219 Q317.8228,152.3625 317.9071,152.3156 Q318.0009,152.2687 318.1228,152.2687 Q318.3196,152.2687 318.4696,152.4281 Q318.629,152.5781 318.629,152.7844 Q318.629,152.9906 318.4228,153.2344 Q318.1228,153.5812 317.6446,153.7781 Q316.9978,154.05 316.2196,154.05 Q315.3103,154.05 314.5884,153.675 Q313.9978,153.375 313.5853,152.7375 Q313.1728,152.0906 313.1728,151.3219 L313.1728,150.6281 Q313.1728,149.8312 313.5384,149.1469 Q313.9134,148.4531 314.5696,148.0875 Q315.2259,147.7125 315.9665,147.7125 Q316.4071,147.7125 316.7915,147.8156 Q317.1853,147.9094 317.5134,148.125 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="27.0785" x="328.154" y="154.0371">Rombo</text><line style="stroke:#000000;stroke-width:0.3;" x1="212.1" x2="451.7865" y1="160.2" y2="160.2"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="127.493" x="215.1" y="171.3199">-diagonal1_cm : double {readonly}</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="127.493" x="215.1" y="181.8855">-diagonal2_cm : double {readonly}</text><line style="stroke:#000000;stroke-width:0.3;" x1="212.1" x2="451.7865" y1="186.1313" y2="186.1313"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="91.9857" x="215.1" y="197.2512">-GetDiagonal1() : double</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="91.9857" x="215.1" y="207.8168">-GetDiagonal2() : double</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="75.1775" x="215.1" y="218.3824">-/GetLado() : double</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="233.6865" x="215.1" y="228.948">+Rombo(in color : Color, in d1_cm : double, in d2_cm : double)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="80.284" x="215.1" y="239.5137">^+/GetArea() : double</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="98.9502" x="215.1" y="250.0793">^+/GetPerimetro() : double</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="76.0635" x="215.1" y="260.6449">^+/ToString() : string</text></g><!--class Circulo--><g class="entity" data-entity="Circulo" data-source-line="59" data-uid="ent0006" id="entity_Circulo"><rect fill="#FFFAFA" height="92.1938" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="178.3049" x="473.1" y="156.6"></rect><ellipse cx="546.6328" cy="166.2" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"></ellipse><path d="M548.2922,163.725 Q548.3859,163.5938 548.4984,163.5281 Q548.6109,163.4625 548.7422,163.4625 Q548.9672,163.4625 549.1078,163.6219 Q549.2484,163.7719 549.2484,164.1375 L549.2484,165.0094 Q549.2484,165.375 549.1078,165.5344 Q548.9672,165.6938 548.7422,165.6938 Q548.5359,165.6938 548.4141,165.5719 Q548.2922,165.4594 548.2266,165.15 Q548.1984,164.9344 548.0859,164.8219 Q547.8891,164.5969 547.5234,164.4656 Q547.1578,164.3344 546.7828,164.3344 Q546.3234,164.3344 545.9391,164.5313 Q545.5641,164.7281 545.2641,165.1781 Q544.9734,165.6281 544.9734,166.2469 L544.9734,166.9031 Q544.9734,167.6437 545.5078,168.1406 Q546.0422,168.6281 546.9984,168.6281 Q547.5609,168.6281 547.9547,168.4781 Q548.1891,168.3844 548.4422,168.1219 Q548.6016,167.9625 548.6859,167.9156 Q548.7797,167.8688 548.9016,167.8688 Q549.0984,167.8688 549.2484,168.0281 Q549.4078,168.1781 549.4078,168.3844 Q549.4078,168.5906 549.2016,168.8344 Q548.9016,169.1813 548.4234,169.3781 Q547.7766,169.65 546.9984,169.65 Q546.0891,169.65 545.3672,169.275 Q544.7766,168.975 544.3641,168.3375 Q543.9516,167.6906 543.9516,166.9219 L543.9516,166.2281 Q543.9516,165.4313 544.3172,164.7469 Q544.6922,164.0531 545.3484,163.6875 Q546.0047,163.3125 546.7453,163.3125 Q547.1859,163.3125 547.5703,163.4156 Q547.9641,163.5094 548.2922,163.725 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="26.1393" x="558.9328" y="169.6371">Circulo</text><line style="stroke:#000000;stroke-width:0.3;" x1="473.7" x2="650.8049" y1="175.8" y2="175.8"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="109.7373" x="476.7" y="186.9199">-radio_cm : double {readonly}</text><line style="stroke:#000000;stroke-width:0.3;" x1="473.7" x2="650.8049" y1="191.1656" y2="191.1656"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="76.1045" x="476.7" y="202.2855">-GetRadio() : double</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="171.1049" x="476.7" y="212.8512">+Circulo(in color : Color, in radio_cm : double)</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="80.284" x="476.7" y="223.4168">^/+GetArea() : double</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="98.9502" x="476.7" y="233.9824">^/+GetPerimetro() : double</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="73.7297" x="476.7" y="244.548">^+ToString() : string</text></g><!--reverse link FG to Cuadrado--><g class="link" data-entity-1="FG" data-entity-2="Cuadrado" data-source-line="70" data-uid="lnk7" id="link_FG_Cuadrado"><path codeline="70" d="M252.7412,104.5385 C223.7072,122.7665 199.164,138.18 169.848,156.588" fill="none" id="FG-backto-Cuadrado" style="stroke:#000000;stroke-width:0.6;"></path><polygon fill="none" points="261.888,98.796,250.827,101.4896,254.6554,107.5874,261.888,98.796" style="stroke:#000000;stroke-width:0.6;"></polygon></g><!--reverse link FG to Rombo--><g class="link" data-entity-1="FG" data-entity-2="Rombo" data-source-line="71" data-uid="lnk8" id="link_FG_Rombo"><path codeline="71" d="M331.8,115.362 C331.8,127.056 331.8,128.856 331.8,140.988" fill="none" id="FG-backto-Rombo" style="stroke:#000000;stroke-width:0.6;"></path><polygon fill="none" points="331.8,104.562,328.2,115.362,335.4,115.362,331.8,104.562" style="stroke:#000000;stroke-width:0.6;"></polygon></g><!--reverse link FG to Circulo--><g class="link" data-entity-1="FG" data-entity-2="Circulo" data-source-line="72" data-uid="lnk9" id="link_FG_Circulo"><path codeline="72" d="M410.8103,105.413 C439.0103,123.449 462.426,138.414 490.782,156.54" fill="none" id="FG-backto-Circulo" style="stroke:#000000;stroke-width:0.6;"></path><polygon fill="none" points="401.712,99.594,408.8706,108.4458,412.75,102.3803,401.712,99.594" style="stroke:#000000;stroke-width:0.6;"></polygon></g><!--link FG to ColorFigura--><g class="link" data-entity-1="FG" data-entity-2="ColorFigura" data-source-line="73" data-uid="lnk10" id="link_FG_ColorFigura"><path codeline="73" d="M401.748,54.3 C418.398,54.3 431.784,54.3 445.8,54.3" fill="none" id="FG-to-ColorFigura" style="stroke:#000000;stroke-width:0.6;"></path><polygon fill="#000000" points="449.4,54.3,444,51.9,446.4,54.3,444,56.7,449.4,54.3" style="stroke:#000000;stroke-width:0.6;"></polygon><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="26.2412" x="412.65" y="50.3971">&lt;&lt;use&gt;</text></g><!--SRC=[jLJ1Rjf04BtlLqo9L2KYGA5A3mb2CbI98bLLX55pgQZMzXGsh7VHUgqeGVdtZdTjC62QNig5cNdFR-ODOpua-5ieX60SpgR1P0OVp_g3ppSyogpXiIsognl6ifLGQsvu2h7aMHPOQqIKMxoFjGh5AyAd6YKmHZzFjDG6nfB7gnhqG2bVu9Y-5aRdAl6qnwMm6APwXJNkfEWqrYP1qopc2GTIeTBFDKu1hU_L4esmNCK8VJ8JSqaJTxymjXG90gPh-m8ffX6QZ35KEMaNOhTYaHiEms5HGiEjq6eqOXi6z9dg9ttfek0rbpxwWJIj3xzJU_N4VTBjTjaROzLM_HBXzWvu1YtVvQVQLF1RgspHYPsbQpyDRC0WJxIIBq1YZd27rc7d5nNBrS-yvhbGu2HAxCA1kpxGxf50GAhk-KJdaToTGYFvWHQPeZNwv1Fpzao7T1vguIYP2mlttlGavuaX5vL5IV6lEDs9RIgJDO_Vg59hwEhjIcdhibh19L3bKDTxd_VQnuvhI9EzVt4rrMcqjPG8lj2Ao_ufNtkimRlklrPwXqFLmS4Hs3krE3TiyzQIlPbzQT2mngR3gI5_MMElUO_bSGWJvtAxIFfrnVl7CIrOnzVXfPfj7Wd_h-kWLtpUwUoElipzkLHWQPhIpcZlZ-SQMiDXdk6enVu0]--></g></svg></p><p></p>
<p>Fíjate que en el diagrama UML hemos indicado que la clase es abstracta, además de usando el modificador <strong><code>{abstract}</code></strong> hemos puesto en <em>cursiva</em> el nombre, y en los get de las propiedades abstractas (virtuales) además de la cursiva hemos puesto el modificador <strong><code>{abstract}</code></strong>. Lo mismo sucedería con cualquier otro método.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Aunque, la cursiva ya no es necesaria a partir de la versión 2.5 de UML aún sigue siendo ampliamente aceptada.</p>
</div>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">La abstracción implica definir un tipo de objeto por las operaciones que se pueden realizar sobre él, sin preocuparse por los detalles."
        </div>
        <div class="autor">- Alan Kay.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<h3 id="clases-asbtractas-en-csharp">Clases asbtractas en CSharp </h3>
<p>La sintaxis será muy similar a la de la herencia, pero ampliando las condiciones que hemos descrito con anterioridad.</p>
<p>Vamos a ver la sintaxis a través de la implementación de nuestro <strong>ejemplo con figuras</strong>. Puedes descargar el código de este ejemplo del siguiente enlace: <strong><a href="./assets/codigo/abstraccion_figuras_ejemplo.cs">abstraccion_figuras.cs</a></strong>.</p>
<p><strong>Paso 1</strong>: Definimos el tipo enumerado <strong><code>ColorFigura</code></strong> que representará los colores de las figuras que es usada por la clase <strong><code>Figura</code></strong> y por tanto sus subclases y por tanto <strong>hay una dependencia de dicho tipo</strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">ColorFigura</span> <span class="token punctuation">{</span> Rojo<span class="token punctuation">,</span> Azul<span class="token punctuation">,</span> Verde<span class="token punctuation">,</span> Naranja <span class="token punctuation">}</span>
</code></pre><p><strong>Paso 2</strong>: En primer lugar vamos a implementar la clase abstracta <strong><code>Figura</code></strong>.</p>
<div class="row">
<div class="col-sm-6">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Figura</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">ColorFigura</span> Color <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-protected">protected</span> <span class="token function">Figura</span><span class="token punctuation">(</span><span class="token class-name">ColorFigura</span> color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Color <span class="token operator">=</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Area_cm2 <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Perimetro_cm <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                    Color<span class="token punctuation">:</span> <span class="token punctuation">{</span>Color<span class="token punctuation">}</span>
                    Area<span class="token punctuation">:</span> <span class="token punctuation">{</span>Area_cm2<span class="token punctuation">:</span>F2<span class="token punctuation">}</span> cm²
                    Perímetro<span class="token punctuation">:</span> <span class="token punctuation">{</span>Perimetro_cm<span class="token punctuation">:</span>F2<span class="token punctuation">}</span> cm
                    <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-6 my-auto">
<p>Definimos la clase anteponiendo el modificador <strong><code>abstract</code></strong> y después<br>
añadimos una <strong>propiedad privada de solo lectura</strong> común a todas las especificaciones que en este caso es el <strong><code>Color</code></strong>. Será privada pues es responsabilidad de la clase y así no repetimos código en las concreciones manteniendo la encapsulación.</p>
<p>Aquellas <strong>propiedades calculadas que no podemos implementar hasta que no sepamos la especificación</strong> que son <strong><code>Area_cm2</code></strong> y <strong><code>Perimetro_cm</code></strong>, les anteponemos el modificador <strong><code>abstract</code></strong> y las declaramos como <strong><code>public</code></strong> para que sean accesibles desde las subclases.</p>
</div>
</div>
<p>Los constructores que definamos pueden ser <strong><code>protected</code></strong> pues <strong>solo tiene sentido usarlos desde las subclases</strong>.<br>
Nunca podré hacer un <strong><code>Figura f = new (color: ColorFigura.Rojo);</code></strong></p>
<p>Pero, <strong>¿Cómo puede ser que <code>Figura</code> use <code>Area_cm2</code> o <code>Perimetro_cm</code> si no están implementados?</strong>. De hecho, estoy accediendo a su valor desde el <strong><code>ToString()</code></strong> pero realmente no se implementan.</p>
<p>Porque, tendré siempre la seguridad de que un si tengo un objeto de tipo <strong><code>Figura</code></strong> habré realizado una sustitución de tipo y por tanto <strong>tendré un objeto de una subclase</strong> que <strong>implementa esas propiedades o métodos de forma obligatoria</strong> y por tanto, <strong>siempre se producirá un enlace dinámico</strong> a la propiedad de la concreción que la implementa.</p>
<p><strong>Paso 3</strong>: Implementación de las concreciones (subclases)</p>
<div class="row">
<div class="col-sm-6 my-auto">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Circulo</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Figura</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Radio_cm <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Circulo</span><span class="token punctuation">(</span>
           <span class="token class-name">ColorFigura</span> color<span class="token punctuation">,</span>
           <span class="token class-name"><span class="token keyword keyword-double">double</span></span> radio_cm<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Radio_cm <span class="token operator">=</span> radio_cm<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Area_cm2 <span class="token operator">=&gt;</span>
        Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span>Radio_cm<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Perimetro_cm <span class="token operator">=&gt;</span>
        Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> Radio_cm <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                    ____Cí<span class="token class-name">rculo____</span>
                    Radio<span class="token punctuation">:</span> <span class="token punctuation">{</span>Radio_cm<span class="token punctuation">}</span> cm
                    <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                    <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-6">
<p>Desde el constructor de la subclase <strong><code>Circulo</code></strong> llamamos al constructor de la superclase <strong><code>Figura</code></strong> para inicializar el color y es posible porque lo hemos definido como <strong><code>protected</code></strong>.</p>
<p>Nos obligará a implementar las propiedades <strong><code>Area_cm2</code></strong> y <strong><code>Perimetro_cm</code></strong>. Fíjate que las hemos implementado como propiedades de calculadas.</p>
<p>Además, hemos implementado el método <strong><code>ToString()</code></strong> que nos permite mostrar la información propia de la figura como el Color que no es accesible desde las subclases. En ocasiones, esto no es posible y deberíamos marcar <strong><code>Color</code></strong> como <strong><code>protected</code></strong> para que las subclases puedan acceder a él.</p>
</div>
</div>
<p>El resto de implementaciones como <strong><code>Cuadrado</code></strong> y <strong><code>Rombo</code></strong> serán análogas a <strong><code>Circulo</code></strong>...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Cuadrado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Figura</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Lado_cm <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Cuadrado</span><span class="token punctuation">(</span><span class="token class-name">ColorFigura</span> color<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> lado_cm<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Lado_cm <span class="token operator">=</span> lado_cm<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Area_cm2 <span class="token operator">=&gt;</span> Lado_cm <span class="token operator">*</span> Lado_cm<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Perimetro_cm <span class="token operator">=&gt;</span> Lado_cm <span class="token operator">*</span> <span class="token number">4d</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                    <span class="token class-name">____Cuadrado____</span>
                    Lado<span class="token punctuation">:</span> <span class="token punctuation">{</span>Lado_cm<span class="token punctuation">}</span> cm
                    <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                    <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Rombo</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Figura</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Diagonal1_cm <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Diagonal2_cm <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Rombo</span><span class="token punctuation">(</span><span class="token class-name">ColorFigura</span> color<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> d1_cm<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> d2_cm<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Diagonal1_cm <span class="token operator">=</span> d1_cm<span class="token punctuation">;</span>
        Diagonal2_cm <span class="token operator">=</span> d2_cm<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Lado_cm <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span>Diagonal1_cm <span class="token operator">/</span> <span class="token number">2d</span><span class="token punctuation">,</span> <span class="token number">2d</span><span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span>Diagonal2_cm <span class="token operator">/</span> <span class="token number">2d</span><span class="token punctuation">,</span> <span class="token number">2d</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Area_cm2 <span class="token operator">=&gt;</span> Diagonal1_cm <span class="token operator">*</span> Diagonal2_cm <span class="token operator">/</span> <span class="token number">2d</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Perimetro_cm <span class="token operator">=&gt;</span> Lado_cm <span class="token operator">*</span> <span class="token number">4d</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                    <span class="token class-name">____Rombo____</span>
                    Diagonal1<span class="token punctuation">:</span> <span class="token punctuation">{</span>Diagonal1_cm<span class="token punctuation">}</span> <span class="token class-name">cm</span>
                    Diagonal2<span class="token punctuation">:</span> <span class="token punctuation">{</span>Diagonal2_cm<span class="token punctuation">}</span> <span class="token class-name">cm</span>
                    Lado<span class="token punctuation">:</span> <span class="token punctuation">{</span>Lado_cm<span class="token punctuation">:</span>F2<span class="token punctuation">}</span> cm
                    <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                    <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>El polimorfismo de datos lo vamos a poder realizar igual que en el caso de <strong><code>Articulo</code></strong> pero <strong>no vamos a poder crear ningún artículo directamente</strong>.</p>
<div class="row">
<div class="col-sm-6 my-auto">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">List<span class="token punctuation">&lt;</span>Figura<span class="token punctuation">&gt;</span></span> figuras <span class="token operator">=</span>
    <span class="token punctuation">[</span>
        <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Cuadrado</span><span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">color</span><span class="token punctuation">:</span> ColorFigura<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">lado_cm</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Rombo</span><span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">color</span><span class="token punctuation">:</span> ColorFigura<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">d1_cm</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">d2_cm</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Circulo</span><span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">color</span><span class="token punctuation">:</span> ColorFigura<span class="token punctuation">.</span>Verde<span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">radio_cm</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Figura</span> f <span class="token keyword keyword-in">in</span> figuras<span class="token punctuation">)</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-6 my-auto">
<p><strong>Mostrará por consola:</strong></p>
<pre class="salida_consola">____Cuadrado____
Lado: 2 cm
Color: Rojo
Area: 4,00 cm²
Perímetro: 8,00 cm
____Rombo____
Diagonal1: 2 cm
Diagonal2: 2 cm
Lado: 1,41 cm
Color: Azul
Area: 2,00 cm²
Perímetro: 5,66 cm
____Círculo____
Radio: 2 cm
Color: Verde
Area: 12,57 cm²
Perímetro: 12,57 cm</pre>
</div>
</div>
<div style="page-break-after:always;"></div>
<div class="box_bg_lightgray">
<p><strong>🎓 Caso de estudio</strong></p>
<p>Supongamos el siguiente modelo simplificado, en el cual, un <strong>Sicólogo</strong> crea un gabinete o <strong>consulta</strong> psicológica, donde cada día atiende a los <strong>pacientes</strong> que le llegan.<br>
Los pacientes <strong>irán entrando a la consulta</strong> y en un momento dado el sicólogo les <strong>pasará consulta</strong> por orden de llegada.<br>
Los pacientes tendrán un <strong>nombre</strong> y <strong>de momento</strong>, nuestro sicólogo solo sabe atender a dos tipos de pacientes:</p>
<ol>
<li>Pacientes <strong>alegres</strong></li>
<li>Pacientes <strong>tristes</strong></li>
</ol>
<p>En el momento en que el sicólogo <strong>atiende a un paciente</strong>, se producirá un diálogo con el mismo que empezará igual para todos los pacientes:</p>
<pre class="salida_consola">- Sicólogo: Buenos días!. ¿Cómo se llama?
- Paciente: Soy &lt;Nombre&gt;
- Sicólogo: Dígame &lt;Nombre&gt;!.. ¿Qué siente?
</pre>
<p>Pero dependiendo del tipo de paciente obtendremos un tipo de <strong>respuesta</strong> diferente dependiendo de si es un paciente alegre o triste respectivamente...</p>
<pre class="salida_consola">- Paciente:  Pues... ahora estoy alegre.

- Paciente:  Pues... ahora estoy triste.
</pre>
<p>El sicólogo realizará un <strong>diagnóstico</strong> diferente dependiendo de si es un paciente alegre o triste respectivamente...</p>
<pre class="salida_consola">- Sicólogo: <nombre> le veo estupendamente. Enhorabuena!! no necesita más terapia.

- Sicólogo: <nombre> tome fluoxetina 20mg y vuelva en un mes.
</nombre></nombre></pre>
<p>Tras realizar el diagnostico el sicólogo dira ...</p>
<pre class="salida_consola">- Sicólogo: Que pase el siguiente !!!</pre>
<p>Atendiendo a otro paciente si hay aún pendientes en consulta.</p>
<p><strong>Piensa en un posible modelado o diseño de clases para representar las especificaciones anteriores.</strong><br>
Si no se te ocurre ningúno, aquí tienes una propuesta de implementación.</p>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="439.2px" preserveAspectRatio="none" style="width:477px;height:439px;" version="1.1" viewBox="0 0 477 439" width="477.9px" zoomAndPan="magnify"><defs></defs><g><!--class P--><g class="entity" data-entity="P" data-source-line="13" data-uid="ent0002" id="entity_P"><rect fill="#FFFAFA" height="118.4906" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="208.6471" x="137.7" y="191.7"></rect><ellipse cx="211.5804" cy="212.0484" fill="#A9DCDF" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M213.5492,213.6375 L209.8226,213.6375 L209.4429,214.5656 L209.8226,214.5656 Q210.371,214.5656 210.6101,214.7766 Q210.8492,214.9875 210.8492,215.3391 Q210.8492,215.6766 210.6101,215.8875 Q210.371,216.0984 209.8226,216.0984 L207.7554,216.0984 Q207.207,216.0984 206.982,215.8875 Q206.7429,215.6766 206.7429,215.325 Q206.7429,214.9875 206.996,214.7766 Q207.2351,214.5516 207.7976,214.5656 L210.2023,208.575 L209.2039,208.575 Q208.6554,208.575 208.4164,208.3641 Q208.1773,208.1531 208.1773,207.8016 Q208.1773,207.4641 208.4164,207.2531 Q208.6554,207.0422 209.2039,207.0422 L212.5085,207.0422 L215.5601,214.5656 Q216.0945,214.5656 216.2632,214.6922 Q216.6148,214.9313 216.6148,215.3391 Q216.6148,215.6766 216.3757,215.8875 Q216.1507,216.0984 215.6023,216.0984 L213.5351,216.0984 Q212.9867,216.0984 212.7476,215.8875 Q212.5085,215.6766 212.5085,215.325 Q212.5085,214.9875 212.7476,214.7766 Q212.9867,214.5656 213.5351,214.5656 L213.9148,214.5656 L213.5492,213.6375 Z M212.9023,212.1047 L211.6789,209.0672 L210.4414,212.1047 L212.9023,212.1047 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="49.0342" x="232.1314" y="209.2799">Paciente</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="53.2362" x="230.0304" y="225.1283">{abstract}</text><line style="stroke:#000000;stroke-width:0.45;" x1="138.6" x2="345.4471" y1="232.3969" y2="232.3969"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="151.2738" x="143.1" y="249.0768">-nombre : string {readOnly}</text><line style="stroke:#000000;stroke-width:0.45;" x1="138.6" x2="345.4471" y1="255.4453" y2="255.4453"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="122.1855" x="143.1" y="272.1252">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="161.7759" x="143.1" y="287.9736">#Paciente(in nombre : string)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="197.8471" x="143.1" y="303.8221">+/GetRespuesta() : string {abstract}</text></g><!--class PacienteFeliz--><g class="entity" data-entity="PacienteFeliz" data-source-line="22" data-uid="ent0003" id="entity_PacienteFeliz"><rect fill="#FFFAFA" height="67.6969" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="199.5293" x="25.2" y="365.4"></rect><ellipse cx="83.3212" cy="379.8" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M85.8103,376.0875 Q85.9509,375.8906 86.1196,375.7922 Q86.2884,375.6938 86.4853,375.6938 Q86.8228,375.6938 87.0337,375.9328 Q87.2446,376.1578 87.2446,376.7063 L87.2446,378.0141 Q87.2446,378.5625 87.0337,378.8016 Q86.8228,379.0406 86.4853,379.0406 Q86.1759,379.0406 85.9931,378.8578 Q85.8103,378.6891 85.7118,378.225 Q85.6696,377.9016 85.5009,377.7328 Q85.2056,377.3953 84.6571,377.1984 Q84.1087,377.0016 83.5462,377.0016 Q82.8571,377.0016 82.2806,377.2969 Q81.7181,377.5922 81.2681,378.2672 Q80.8321,378.9422 80.8321,379.8703 L80.8321,380.8547 Q80.8321,381.9656 81.6337,382.7109 Q82.4353,383.4422 83.8696,383.4422 Q84.7134,383.4422 85.304,383.2172 Q85.6556,383.0766 86.0353,382.6828 Q86.2743,382.4438 86.4009,382.3734 Q86.5415,382.3031 86.7243,382.3031 Q87.0196,382.3031 87.2446,382.5422 Q87.4837,382.7672 87.4837,383.0766 Q87.4837,383.3859 87.1743,383.7516 Q86.7243,384.2719 86.0071,384.5672 Q85.0368,384.975 83.8696,384.975 Q82.5056,384.975 81.4228,384.4125 Q80.5368,383.9625 79.9181,383.0063 Q79.2993,382.0359 79.2993,380.8828 L79.2993,379.8422 Q79.2993,378.6469 79.8478,377.6203 Q80.4103,376.5797 81.3946,376.0313 Q82.379,375.4688 83.4899,375.4688 Q84.1509,375.4688 84.7274,375.6234 Q85.3181,375.7641 85.8103,376.0875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="75.6369" x="101.7712" y="384.9557">PacienteFeliz</text><line style="stroke:#000000;stroke-width:0.45;" x1="26.1" x2="223.8293" y1="394.2" y2="394.2"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="188.7293" x="30.6" y="410.8799">+PacienteFeliz(in nombre : string)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="147.0226" x="30.6" y="426.7283">^+/GetRespuesta() : string</text></g><!--class PacienteTriste--><g class="entity" data-entity="PacienteTriste" data-source-line="28" data-uid="ent0004" id="entity_PacienteTriste"><rect fill="#FFFAFA" height="67.6969" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="204.4266" x="256.95" y="365.4"></rect><ellipse cx="315.0712" cy="379.8" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M317.5603,376.0875 Q317.7009,375.8906 317.8696,375.7922 Q318.0384,375.6938 318.2353,375.6938 Q318.5728,375.6938 318.7837,375.9328 Q318.9946,376.1578 318.9946,376.7063 L318.9946,378.0141 Q318.9946,378.5625 318.7837,378.8016 Q318.5728,379.0406 318.2353,379.0406 Q317.9259,379.0406 317.7431,378.8578 Q317.5603,378.6891 317.4618,378.225 Q317.4196,377.9016 317.2509,377.7328 Q316.9556,377.3953 316.4071,377.1984 Q315.8587,377.0016 315.2962,377.0016 Q314.6071,377.0016 314.0306,377.2969 Q313.4681,377.5922 313.0181,378.2672 Q312.5821,378.9422 312.5821,379.8703 L312.5821,380.8547 Q312.5821,381.9656 313.3837,382.7109 Q314.1853,383.4422 315.6196,383.4422 Q316.4634,383.4422 317.054,383.2172 Q317.4056,383.0766 317.7853,382.6828 Q318.0243,382.4438 318.1509,382.3734 Q318.2915,382.3031 318.4743,382.3031 Q318.7696,382.3031 318.9946,382.5422 Q319.2337,382.7672 319.2337,383.0766 Q319.2337,383.3859 318.9243,383.7516 Q318.4743,384.2719 317.7571,384.5672 Q316.7868,384.975 315.6196,384.975 Q314.2556,384.975 313.1728,384.4125 Q312.2868,383.9625 311.6681,383.0063 Q311.0493,382.0359 311.0493,380.8828 L311.0493,379.8422 Q311.0493,378.6469 311.5978,377.6203 Q312.1603,376.5797 313.1446,376.0313 Q314.129,375.4688 315.2399,375.4688 Q315.9009,375.4688 316.4774,375.6234 Q317.0681,375.7641 317.5603,376.0875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="80.5342" x="333.5212" y="384.9557">PacienteTriste</text><line style="stroke:#000000;stroke-width:0.45;" x1="257.85" x2="460.4766" y1="394.2" y2="394.2"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="193.6266" x="262.35" y="410.8799">+PacienteTriste(in nombre : string)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="147.0226" x="262.35" y="426.7283">^+/GetRespuesta() : string</text></g><!--class Consulta--><g class="entity" data-entity="Consulta" data-source-line="34" data-uid="ent0005" id="entity_Consulta"><rect fill="#FFFAFA" height="99.3938" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="196.7484" x="274.95" y="14.4"></rect><ellipse cx="344.6345" cy="28.8" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M347.1236,25.0875 Q347.2642,24.8906 347.433,24.7922 Q347.6017,24.6938 347.7986,24.6938 Q348.1361,24.6938 348.347,24.9328 Q348.558,25.1578 348.558,25.7063 L348.558,27.0141 Q348.558,27.5625 348.347,27.8016 Q348.1361,28.0406 347.7986,28.0406 Q347.4892,28.0406 347.3064,27.8578 Q347.1236,27.6891 347.0251,27.225 Q346.983,26.9016 346.8142,26.7328 Q346.5189,26.3953 345.9705,26.1984 Q345.422,26.0016 344.8595,26.0016 Q344.1705,26.0016 343.5939,26.2969 Q343.0314,26.5922 342.5814,27.2672 Q342.1455,27.9422 342.1455,28.8703 L342.1455,29.8547 Q342.1455,30.9656 342.947,31.7109 Q343.7486,32.4422 345.183,32.4422 Q346.0267,32.4422 346.6173,32.2172 Q346.9689,32.0766 347.3486,31.6828 Q347.5876,31.4438 347.7142,31.3734 Q347.8548,31.3031 348.0376,31.3031 Q348.333,31.3031 348.558,31.5422 Q348.797,31.7672 348.797,32.0766 Q348.797,32.3859 348.4876,32.7516 Q348.0376,33.2719 347.3205,33.5672 Q346.3501,33.975 345.183,33.975 Q343.8189,33.975 342.7361,33.4125 Q341.8501,32.9625 341.2314,32.0063 Q340.6126,31.0359 340.6126,29.8828 L340.6126,28.8422 Q340.6126,27.6469 341.1611,26.6203 Q341.7236,25.5797 342.708,25.0313 Q343.6923,24.4688 344.8033,24.4688 Q345.4642,24.4688 346.0408,24.6234 Q346.6314,24.7641 347.1236,25.0875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="49.7294" x="363.0845" y="33.9557">Consulta</text><line style="stroke:#000000;stroke-width:0.45;" x1="275.85" x2="470.7984" y1="43.2" y2="43.2"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="99.0958" x="280.35" y="59.8799">+Consulta() : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="182.0909" x="280.35" y="75.7283">-GetPacientes() : List&lt;Paciente&gt;</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="185.9484" x="280.35" y="91.5768">+Entra(in p : Paciente) : Consulta</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="134.8348" x="280.35" y="107.4252">+Siguiente() : Paciente?</text></g><!--class Sicologo--><g class="entity" data-entity="Sicologo" data-source-line="42" data-uid="ent0006" id="entity_Sicologo"><rect fill="#FFFAFA" height="115.2422" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="210.3882" x="6.3" y="6.3"></rect><ellipse cx="83.5027" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M85.9917,16.9875 Q86.1324,16.7906 86.3011,16.6922 Q86.4699,16.5938 86.6667,16.5938 Q87.0042,16.5938 87.2152,16.8328 Q87.4261,17.0578 87.4261,17.6063 L87.4261,18.9141 Q87.4261,19.4625 87.2152,19.7016 Q87.0042,19.9406 86.6667,19.9406 Q86.3574,19.9406 86.1746,19.7578 Q85.9917,19.5891 85.8933,19.125 Q85.8511,18.8016 85.6824,18.6328 Q85.3871,18.2953 84.8386,18.0984 Q84.2902,17.9016 83.7277,17.9016 Q83.0386,17.9016 82.4621,18.1969 Q81.8996,18.4922 81.4496,19.1672 Q81.0136,19.8422 81.0136,20.7703 L81.0136,21.7547 Q81.0136,22.8656 81.8152,23.6109 Q82.6167,24.3422 84.0511,24.3422 Q84.8949,24.3422 85.4855,24.1172 Q85.8371,23.9766 86.2167,23.5828 Q86.4558,23.3438 86.5824,23.2734 Q86.723,23.2031 86.9058,23.2031 Q87.2011,23.2031 87.4261,23.4422 Q87.6652,23.6672 87.6652,23.9766 Q87.6652,24.2859 87.3558,24.6516 Q86.9058,25.1719 86.1886,25.4672 Q85.2183,25.875 84.0511,25.875 Q82.6871,25.875 81.6042,25.3125 Q80.7183,24.8625 80.0996,23.9063 Q79.4808,22.9359 79.4808,21.7828 L79.4808,20.7422 Q79.4808,19.5469 80.0292,18.5203 Q80.5917,17.4797 81.5761,16.9313 Q82.5605,16.3688 83.6714,16.3688 Q84.3324,16.3688 84.9089,16.5234 Q85.4996,16.6641 85.9917,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="48.3328" x="101.9527" y="25.8557">Sicologo</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="215.7882" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="97.6992" x="11.7" y="51.7799">+Sicologo() : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="146.0197" x="11.7" y="67.6283">+GetConsulta() : Consulta</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" text-decoration="underline" textLength="199.5882" x="11.7" y="83.4768">-Diagnostico(in p : Paciente) : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" text-decoration="underline" textLength="168.7896" x="11.7" y="99.3252">-Atiende(in p : Paciente) : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="127.8149" x="11.7" y="115.1736">+PasaConsulta() : void</text></g><!--reverse link P to PacienteFeliz--><g class="link" data-entity-1="P" data-entity-2="PacienteFeliz" data-source-line="53" data-uid="lnk7" id="link_P_PacienteFeliz"><path codeline="53" d="M185.0622,323.2935 C170.1852,341.8875 164.394,349.137 151.488,365.265" fill="none" id="P-backto-PacienteFeliz" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="195.183,310.644,180.8457,319.9199,189.2787,326.6671,195.183,310.644" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link P to PacienteTriste--><g class="link" data-entity-1="P" data-entity-2="PacienteTriste" data-source-line="54" data-uid="lnk8" id="link_P_PacienteTriste"><path codeline="54" d="M299.1378,323.2935 C314.0148,341.8875 319.806,349.137 332.712,365.265" fill="none" id="P-backto-PacienteTriste" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="289.017,310.644,294.9213,326.6671,303.3543,319.9199,289.017,310.644" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--link Sicologo to P--><g class="link" data-entity-1="Sicologo" data-entity-2="P" data-source-line="55" data-uid="lnk9" id="link_Sicologo_P"><path codeline="55" d="M151.641,121.689 C167.229,143.829 181.9677,164.7753 197.6727,187.0863" fill="none" id="Sicologo-to-P" style="stroke:#000000;stroke-width:0.9;stroke-dasharray:6.3,6.3;"></path><polygon fill="#000000" points="200.781,191.502,199.0624,182.8062,198.1908,187.8222,193.1748,186.9506,200.781,191.502" style="stroke:#000000;stroke-width:0.9;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="31.8779" x="181.8" y="161.5456">«use»</text></g><!--link Sicologo to Consulta--><g class="link" data-entity-1="Sicologo" data-entity-2="Consulta" data-source-line="56" data-uid="lnk10" id="link_Sicologo_Consulta"><path codeline="56" d="M227.79,63.9 C246.843,63.9 250.434,63.9 269.289,63.9" fill="none" id="Sicologo-Consulta" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="#000000" points="216.99,63.9,222.39,67.5,227.79,63.9,222.39,60.3,216.99,63.9" style="stroke:#000000;stroke-width:0.9;"></polygon><polygon fill="#000000" points="274.689,63.9,266.589,60.3,270.189,63.9,266.589,67.5,274.689,63.9" style="stroke:#000000;stroke-width:0.9;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="25.3709" x="233.325" y="58.0456">tiene</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="223.9568" y="61.1931">1</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="261.2395" y="61.1366">1</text></g><!--link Consulta to P--><g class="link" data-entity-1="Consulta" data-entity-2="P" data-source-line="57" data-uid="lnk11" id="link_Consulta_P"><path codeline="57" d="M332.7322,122.3202 C315.7762,146.2512 304.5777,162.0495 286.7667,187.1775" fill="none" id="Consulta-P" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="338.976,113.508,332.9167,115.8328,332.7322,122.3202,338.7915,119.9954,338.976,113.508" style="stroke:#000000;stroke-width:0.9;"></polygon><polygon fill="#000000" points="283.644,191.583,291.2651,187.0565,286.2462,187.9117,285.391,182.8929,283.644,191.583" style="stroke:#000000;stroke-width:0.9;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="55.2779" x="312.3" y="161.5456">es visitada</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="327.6511" y="133.282">1</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="17.5614" x="270.1863" y="182.0657">0..*</text></g><!--SRC=[fPDHJzim58NV_IlkWeGeLJeOsiEWofIMRKAQHaKgxGKXkSabM4tiodP0KFM_xyQfsoIKf_KbyhsVppdNTZzb-2WaGZn9vdVnT0x7H-TVBgxumbZDKrkllbunPfP2hhZc9QG5DoQsLej5PV4cLJ8HRmXdBIJMMhrCLQ4qJ0gUBbkj6IrvZXFwv5fLCckmlq_2ObAg9RROQUqqKJf3VLYi0NfIYLGlBQRVdcik3RLGMfegvGL57trZp0_Sp0Spu0O2IYi8n7kvzlrDmDOCw1TALIuqmYLGGyWSrXfvTYkBrmrpmF0NsZ-EEHdiADSvyhedGa9FPk28lHqCFvFE7PfLXSRobjJkoXWPRbDlTNzY8TwsEOUTueUE3n_wl9UVQs4izlMRwdyPJ9KqLM6vb_Ph1pyhaJKdJphUrBZMRt8U-rBKxFqXwG3hD2i2VA-6ToOEIqHUDNSnQ77VzvaIaTB3oPNFvDVTJFLbTz9sNC9hmNEfZAMzXoBv5qJdGiYcsHDRwcTuYAzjkpJTWk7lZukcU18P0fOh-mebbWlKXh4PF8HXxxLqQzihziF2AAA_n2MCnvN1ADhNW_C0JiF8VRqzSNLqPBj2tLLXZPsDHgU1aq83py88opFE_W40]--></g></svg></p><p></p>
<p>Antes de ver la implementación comentada de esta prupuesta, intenta realizarla tú y así posteriormente puedes ver la propuesta de solución para lo que no has sabido resolver. Puedes descargar el código de la propuesta de solución del siguiente enlace: <strong><a href="./assets/codigo/abstraccion_sicologo_ejemplo.cs">abstraccion_sicologo.cs</a></strong>.</p>
<p><strong>Propuesta de solución al caso de estudio:</strong></p>
<p><strong>Paso 1</strong>: Crearemos la clase abstracta <strong><code>Paciente</code></strong>. Será abstracta porque los pacientes del sicólogo responden de forma diferente dependiendo de su especificación.</p>
<div class="row">
<div class="col-sm-6 my-auto">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Paciente</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Respuesta <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-protected">protected</span> <span class="token function">Paciente</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-6 mt-2">
<p>Marcamos la clase como <strong><code>abstract</code></strong> y definimos una propiedad <strong><code>Nombre</code></strong> común a todos los pacientes y una <strong>propiedad abstracta</strong> <strong><code>Respuesta</code></strong> que será implementada por las <strong>concreciones de paciente</strong>.</p>
</div>
</div>
<div style="page-break-after:always;"></div>
<p><strong>Paso 2</strong>: Definiremos las <strong>concreciones de <code>Paciente</code></strong> para que respondan según su estado de ánimo.</p>
<div class="row">
<div class="col-sm-6 my-auto">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">PacienteAlegre</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Paciente</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Respuesta 
    <span class="token operator">=&gt;</span> <span class="token string">"Pues... ahora estoy alegre."</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">PacienteAlegre</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">)</span> 
    <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>   

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">PacienteTriste</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Paciente</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Respuesta 
    <span class="token operator">=&gt;</span> <span class="token string">"Pues... ahora estoy triste."</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">PacienteTriste</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">)</span> 
    <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-6 mt-2">
<p>Tanto <strong><code>PacienteAlegre</code></strong> como <strong><code>PacienteTriste</code></strong> están obligados a invalidar la propiedad <strong><code>Respuesta</code></strong>.</p>
<p>Además, en el constructor de cada concreción <strong>llamamos al constructor protegido de la superclase</strong> para inicializar el nombre. Sin embargo, el cuerpo del constructor de las concreciones está vacío pues no hay nada más que inicializar. Un convenio, para indicar a otros programadores q<strong>ue lo hemos dejado vacío a propósito</strong>, es poner una instrucción vacía <strong><code>{ ; }</code></strong>.</p>
</div>
</div>
<p><strong>Paso 3</strong>: Definiremos la clase <strong><code>Consulta</code></strong></p>
<div class="row">
<div class="col-sm-6 my-auto">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Consulta</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Paciente<span class="token punctuation">&gt;</span></span> Pacientes <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Consulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Pacientes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Consulta</span> <span class="token function">Entra</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Pacientes<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Paciente<span class="token punctuation">?</span></span> Siguiente
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-get">get</span>
        <span class="token punctuation">{</span>
            <span class="token class-name">Paciente<span class="token punctuation">?</span></span> p <span class="token operator">=</span> Pacientes<span class="token punctuation">.</span><span class="token function">FirstOrDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
                Pacientes<span class="token punctuation">.</span><span class="token function">RemoveAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> p<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-6 mt-2">
<p>Representamos la agregación multiple con una lista de pacientes que inicializamos en el constructor.</p>
<p>Definimos el método <strong><code>Entra</code></strong> que añade un paciente a la consulta y devuelve la propia consulta para poder encadenar llamadas de forma <strong>fluida</strong>.</p>
<p>El métodos <strong><code>Siguiente</code></strong> devuelve el siguiente paciente en la lista o <strong><code>null</code></strong> si no hay pacientes. Fíjate que el método <strong><code>FirstOrDefault()</code></strong> devuelve el primer elemento o <strong><code>null</code></strong> si la lista está vacía. Además, si devuelve un paciente, lo elimina de la lista.</p>
</div>
</div>
<p><strong>Paso 4</strong>: Definiremos la clase <strong><code>Sicologo</code></strong></p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Tiene un dependencia débil de uso (<strong><code>&lt;&lt;use&gt;&gt;</code></strong>) con <strong><code>Paciente</code></strong> en el UML, ya que necesita conocer la clase. Normalmente no se suele indicar en el UML, pero es importante que lo tengas en cuenta.</p>
</div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Sicologo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Consulta</span> Consulta <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Sicologo</span><span class="token punctuation">(</span><span class="token class-name">Consulta</span> consulta<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Consulta <span class="token operator">=</span> consulta<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">Diagnostico</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> p <span class="token keyword keyword-switch">switch</span>
    <span class="token punctuation">{</span>
        <span class="token return-type class-name">PacienteAlegre</span> _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span>Nombre</span><span class="token punctuation">}</span></span><span class="token string"> le veo estupendamente. Enhorabuena!! no necesita más terapia."</span></span><span class="token punctuation">,</span>
        <span class="token return-type class-name">PacienteTriste</span> _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span>Nombre</span><span class="token punctuation">}</span></span><span class="token string"> tome fluoxetina 20mg y vuelva en un mes."</span></span><span class="token punctuation">,</span>
        _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span>Nombre</span><span class="token punctuation">}</span></span><span class="token string"> déjeme que estudie un poco más su caso y vuelva la semana que viene."</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Atiende</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> proceso <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        proceso<span class="token punctuation">.</span><span class="token function">AppendLine</span><span class="token punctuation">(</span><span class="token string">"- Sicólogo: Buenos días!. ¿Cómo se llama?"</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">AppendLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"- Paciente: Soy </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span>Nombre</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">AppendLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"- Sicólogo: Dígame </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span>Nombre</span><span class="token punctuation">}</span></span><span class="token string">!.. ¿Qué siente?"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">AppendLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"- Paciente: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span>Respuesta</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">AppendLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"- Sicólogo: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">Diagnostico</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">AppendLine</span><span class="token punctuation">(</span><span class="token string">"- Sicólogo: Que pase el siguiente !!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>proceso<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PasaConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Paciente<span class="token punctuation">?</span></span> p<span class="token punctuation">;</span>
        <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>p <span class="token operator">=</span> Consulta<span class="token punctuation">.</span>Siguiente<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
            <span class="token function">Atiende</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Fíjate que <strong><code>Sicologo</code></strong> tiene una <strong>composición</strong> con <strong><code>Consulta</code></strong> y por tanto el sicólogo es responsable de la misma. Además, su único método público es <strong><code>PasaConsulta()</code></strong> que atiende a todos los pacientes que hay en la consulta. Siendo el resto de métodos <strong>privados y de clase (estáticos)</strong>, pues no necesitan acceder a ningún campo o propiedad de instancia y simplemente es una <strong>modularización de la tarea de pasar consulta</strong>.</p>
<p><strong>Paso 5</strong>: Vamos a crear un sencillo programa principal de test...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Sicologo</span> sicologo <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token named-parameter punctuation">consulta</span> <span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    sicologo<span class="token punctuation">.</span>Consulta
            <span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">PacienteAlegre</span><span class="token punctuation">(</span><span class="token string">"Xusa"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">PacienteAlegre</span><span class="token punctuation">(</span><span class="token string">"Juanjo"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">PacienteTriste</span><span class="token punctuation">(</span><span class="token string">"Carmen"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    sicologo<span class="token punctuation">.</span><span class="token function">PasaConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Cómo sucedía en otros casos podemos crear una nueva especificación de <strong><code>Paciente</code></strong> por ejemplo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">PacienteSociopata</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Paciente</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Respuesta <span class="token operator">=&gt;</span> <span class="token string">"Vas a morir .. muuhaaahahahaha !!"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">PacienteSociopata</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>El <strong>consultorio seguiría funcionando</strong>. Pero, esta vez el <strong><code>Sicologo</code></strong> debería actualizarse para saber tratar a este tipo de pacientes.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">Diagnostico</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> p <span class="token keyword keyword-switch">switch</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido por abreviar</span>
    <span class="token return-type class-name">PacienteSociopata</span> _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"Lo siento!. Debo aplicarte una decarga de 10000V justo ahora."</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="admonition danger">
<p class="admonition-title">Reto</p>
<p>¿Se te ocurre cómo crear <strong>diferentes tipos de sicólogos que diagnostiquen de forma diferente</strong> o alguna forma de hacer que sepamos que tenemos que actualizar al sicólogo si hay nuevos pacientes?</p>
</div>
</div>
<div style="page-break-after:always;"></div>
<h3 id="el-patrón-union-type-o-sum-type">El Patrón "<em>Union Type</em>" o "<em>Sum Type</em>" </h3>
<p>En programación, un "union type" (también conocido como "sum type", tipo de unión, tipo de suma o unión etiquetada) es un tipo de dato que <strong>puede contener un valor de varios tipos diferentes, pero solo uno a la vez</strong>.</p>
<p>El nombre "<em><strong>Union Type</strong></em>" proviene de la <strong><a href="https://en.wikipedia.org/wiki/Tagged_union">teoría de tipos</a></strong>, donde el conjunto total de posibles valores del tipo es la "suma" (o unión) de los conjuntos de valores de sus tipos constituyentes. Este concepto <strong>es común en lenguajes de programación funcional</strong> como <strong><code>Haskell</code></strong> y <strong><code>F#</code></strong> donde permiten modelar datos de una manera muy expresiva y segura evitando errores en tiempo de ejecución.</p>
<p>Con el tiempo, los beneficios de este patrón se hicieron evidentes y <strong>los lenguajes de programación más modernos, incluidos los orientados a objetos</strong>, han ido adoptando formas de implementarlo como el caso de como <strong><code>C#</code></strong>, <strong><code>Java</code></strong>, <strong><code>Kotlin</code></strong>, <strong><code>Swift</code></strong> o <strong><code>Rust</code></strong>.</p>
<p>Por resumir y poner un símil de algo que ya conocemos, <strong>podríamos decir que es un tipo enumerado excluyente mejorado</strong>. Donde en lugar de tener un conjunto de constantes, tenemos una enumeración de tipos diferentes unificados por una abstracción y que guardarán un estado inmutable diferente al poder tener propiedades distintas. Por todo ello, en un momento dado, una instancia de la abstracción, <strong>solo podrá ser de uno de ellos de forma excluyente</strong>. De hecho, en lenguajes como <strong><code>Swift</code></strong> o <strong><code>Rust</code></strong> se definen con la palabra reservada <strong><code>enum</code></strong>.</p>
<h4 id="union-type-en-csharp">"<em>Union Type</em>" en CSharp </h4>
<p>En <strong><code>C#</code></strong> no existe una sintaxis específica para definir un "<em>Union Type</em>" pero podemos implementarlo usando <strong>clases abstractas y herencia</strong>. Vamoslo a través a ver un <strong>ejemplo sencillo</strong>.</p>
<div class="row">
<div class="col-sm-4">
<p>Supongamos que queremos retornar en una solo tipo una validación sobre una entrada de datos. Hasta ahora, devolvíamos una tupla con un booleano y un mensaje de error <strong><code>(bool valido, string? mensaje)</code></strong> y si el booleano era verdadero, el mensaje estaría a null. En el ejemplo validamos que <strong>un entero con la edad tuviese 18 años o más</strong>.</p>
</div>
<div class="col-sm-8">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token punctuation">(</span><span class="token keyword keyword-bool">bool</span> valido<span class="token punctuation">,</span> <span class="token keyword keyword-string">string</span><span class="token punctuation">?</span> mensaje<span class="token punctuation">)</span></span> <span class="token function">ValidaEdad</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> edad<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> valido <span class="token operator">=</span> edad <span class="token operator">&gt;=</span> <span class="token number">18</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword keyword-string">string</span><span class="token punctuation">?</span></span> mensaje <span class="token operator">=</span> <span class="token operator">!</span>valido 
                      <span class="token punctuation">?</span> <span class="token string">"El usuario debe ser mayor de 18 años."</span> 
                      <span class="token punctuation">:</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token punctuation">(</span>valido<span class="token punctuation">,</span> mensaje<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> valido<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-string">string</span><span class="token punctuation">?</span></span> _<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">ValidaEdad</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>valido<span class="token punctuation">)</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Edad válida"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
</div>
<p>Pero, si lo pensamos bien realmente hay dos posibles tipos de resultado y uno de ellos <strong>tiene asociado un estado de error</strong> (el mensaje) y el otro no y esa consistencia debe saberla y gestionarla el que llama al método.</p>
<div class="row">
<div class="col-sm-7 my-auto">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-record">record</span> <span class="token class-name">Validacion</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-record">record</span> <span class="token class-name">Exito</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Validacion</span></span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-record">record</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> Mensaje<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Validacion</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-5 my-auto">
<p>Una posible solución es definir un <strong>value object abstracto por referencia denominado <code>Validacion</code></strong> con dos <strong>tipos anidados</strong> a modo de enumeración de casos que en nuestro ejemplo podrían ser <strong><code>Exito</code></strong> y <strong><code>Error</code></strong>.</p>
</div>
</div>
<p>Cada tipo anidado será a su vez un <strong>record</strong> que hereda de <strong><code>Validacion</code></strong> y que podrá tener sus propias propiedades. En este caso, <strong><code>Error</code></strong> tiene una propiedad <strong><code>Mensaje</code></strong>.</p>
<p>Imaginemos ahora, que tenemos una clase de utilidad llamada <strong><code>Validador</code></strong> que tiene varios métodos de validación que devuelven una <strong><code>Validacion</code></strong>...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Validador</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name">Validacion</span> <span class="token function">ValidaEdad</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> edad<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> edad <span class="token keyword keyword-switch">switch</span>
    <span class="token punctuation">{</span>
        <span class="token operator">&gt;=</span> <span class="token number">18</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Validacion<span class="token punctuation">.</span>Exito</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Validacion<span class="token punctuation">.</span>Error</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Mensaje</span><span class="token punctuation">:</span> <span class="token string">"El usuario debe ser mayor de 18 años."</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name">Validacion</span> <span class="token function">ValidaNombre</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrWhiteSpace</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token keyword keyword-switch">switch</span>
    <span class="token punctuation">{</span>
        <span class="token boolean">false</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Validacion<span class="token punctuation">.</span>Exito</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token boolean">true</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Validacion<span class="token punctuation">.</span>Error</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">Mensaje</span><span class="token punctuation">:</span> <span class="token string">"El nombre no puede estar vacío."</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Fíjate que en cada método de utilidad, si la validación es correcta devolvemos una instancia de <strong><code>Validacion.Exito</code></strong> y si no lo es, devolvemos una instancia de <strong><code>Validacion.Error</code></strong> con el mensaje de error correspondiente. Esto es, retornamos en un solo tipo dos posibles tipos de resultado con su propio estado inmutable.</p>
<div style="page-break-after:always;"></div>
<p>Un caso de uso del ejemplo que nos hemos planteado podría ser una clase <strong><code>Acceso</code></strong> que representa el <strong>acceso de un usuario a una web</strong> y que tiene una propiedad <strong><code>Validacion</code></strong> que valida el nombre y la edad del usuario.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-record">record</span> <span class="token class-name"><span class="token keyword keyword-class">class</span></span> Acceso
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">DateTime</span> FechaHora <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Edad <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Validacion</span> Validacion <span class="token operator">=&gt;</span>
        Validador<span class="token punctuation">.</span><span class="token function">ValidaNombre</span><span class="token punctuation">(</span>Nombre<span class="token punctuation">)</span> <span class="token keyword keyword-is">is</span> <span class="token class-name">Validacion<span class="token punctuation">.</span>Error</span> <span class="token class-name">errorNombre
        <span class="token punctuation">?</span></span> errorNombre
        <span class="token punctuation">:</span> Validador<span class="token punctuation">.</span><span class="token function">ValidaEdad</span><span class="token punctuation">(</span>Edad<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Acceso</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> edad<span class="token punctuation">,</span> <span class="token class-name">DateTime<span class="token punctuation">?</span></span> fechaHora <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        FechaHora <span class="token operator">=</span> fechaHora <span class="token operator">??</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">;</span>
        Nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        Edad <span class="token operator">=</span> edad<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Nombre</span><span class="token punctuation">}</span></span><span class="token string"> (</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Edad</span><span class="token punctuation">}</span></span><span class="token string"> años) el </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">FechaHora</span><span class="token format-string"><span class="token punctuation">:</span>dd/MM/yyyy</span><span class="token punctuation">}</span></span><span class="token string"> a las </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">FechaHora</span><span class="token format-string"><span class="token punctuation">:</span>HH:mm</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Fíjate que la propiedad <strong><code>Validacion</code></strong> usa el operador <strong><code>is</code></strong> para comprobar si la validación del nombre ha devuelto un error y en ese caso, devuelve dicho error. Si no ha habido error en el nombre, entonces valida la edad y devuelve el resultado de dicha validación que puede ser un éxito o un error.</p>
<p>Si ejecutamos el siguiente <strong>programa principal de test</strong> donde verificamos los casos posibles de acceso...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">List<span class="token punctuation">&lt;</span>Acceso<span class="token punctuation">&gt;</span></span> accesos <span class="token operator">=</span>
    <span class="token punctuation">[</span>
        <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">edad</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">fechaHora</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2026</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Luis"</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">edad</span><span class="token punctuation">:</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">fechaHora</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2026</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Marta"</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">edad</span><span class="token punctuation">:</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">fechaHora</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2026</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-var">var</span></span> acceso <span class="token keyword keyword-in">in</span> accesos<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> mensaje <span class="token operator">=</span> acceso<span class="token punctuation">.</span>Validacion <span class="token keyword keyword-switch">switch</span>
        <span class="token punctuation">{</span>
            <span class="token return-type class-name">Validacion<span class="token punctuation">.</span>Error</span> error <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"Acceso denegado a </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">acceso</span><span class="token punctuation">}</span></span><span class="token string">.\nMotivo: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">error<span class="token punctuation">.</span>Mensaje</span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span><span class="token punctuation">,</span>
            _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"Acceso permitido a </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">acceso</span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>mensaje<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>Mostrará por consola:</strong></p>
<pre class="salida_consola">Acceso denegado a  (30 años) el 22/03/2026 a las 10:35.
Motivo: El nombre no puede estar vacío.

Acceso denegado a Luis (17 años) el 22/03/2026 a las 10:39.
Motivo: El usuario debe ser mayor de 18 años.

Acceso permitido a Marta (22 años) el 22/03/2026 a las 10:50
</pre>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Puedes descargar el código de este ejemplo del siguiente enlace: <strong><a href="./assets/codigo/abstraccion_uniontype_ejemplo.cs">abstraccion_uniontype.cs</a></strong>.</p>
</div>
<div style="page-break-after:always;"></div>
<h2 id="interfaces">Interfaces </h2>
<p>Básicamente un <strong>Interfaz</strong> es la definición de un conjunto de <strong>interfaces de métodos</strong> y accesores o mutadores (como <strong>Propiedades</strong>). Es muy parecido a definir una <strong>clase abstracta pura</strong>, pero <strong>sin ningún tipo de campo</strong>, constructor, <strong>ni modificador de acceso</strong> (public, private, etc…). Como en las clases abstractas, las interfaces son tipos referencia, no puede crearse objetos de ellas sino sólo de tipos que deriven de ellas, y participan del polimorfismo.</p>
<p>De hecho, es el caso de abstracción más puro que existe, pues <strong>solo define el comportamiento que debe tener una clase</strong> que la <strong>implemente</strong> el interfaz y por tanto <strong>es la forma más común y recomendable de definir la abstracción</strong> de un comportamiento. En otras palabras, siempre que no haya un <strong>campo</strong> o <strong>propiedad no calculada</strong> común a todas las especificaciones, la forma correcta de definir la abstracción es mediante un interfaz.</p>
<p>Pueden implementarse en muchos lenguajes OO con idénticas características:</p>
<ul>
<li>Es posible la <strong>herencia múltiple</strong> de interfaces.</li>
<li>No pueden definir campos pero sí propiedades calculadas.</li>
<li>Un interfaz <strong>puede heredar de otro interfaz</strong>.</li>
<li>Si una clase hereda de un interfaz. Esta, deberá invalidar todo lo que hayamos definido en el mismo.</li>
</ul>
<h3 id="representación-en-los-diagramas-de-clases-uml">Representación en los diagramas de clases UML </h3>
<div class="row">
<div class="col-sm-5 my-auto">
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="156.6px" preserveAspectRatio="none" style="width:203px;height:156px;background:#FFFFFF;" version="1.1" viewBox="0 0 203 156" width="203.4px" zoomAndPan="magnify"><defs></defs><g><!--class ICloneable--><g class="entity" data-entity="ICloneable" data-source-line="11" data-uid="ent0002" id="entity_ICloneable"><rect fill="#FFFAFA" height="61.4813" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="96.2376" x="6.3" y="6.3"></rect><ellipse cx="23.0372" cy="25.5164" fill="#B4A7E5" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M23.895,22.493 L23.895,28.4836 L25.4419,28.4836 Q25.9904,28.4836 26.2294,28.6945 Q26.4685,28.9055 26.4685,29.257 Q26.4685,29.5945 26.2294,29.8055 Q25.9904,30.0164 25.4419,30.0164 L20.8154,30.0164 Q20.2669,30.0164 20.0279,29.8055 Q19.7888,29.5945 19.7888,29.243 Q19.7888,28.9055 20.0279,28.6945 Q20.2669,28.4836 20.8154,28.4836 L22.3622,28.4836 L22.3622,22.493 L20.8154,22.493 Q20.2669,22.493 20.0279,22.282 Q19.7888,22.0711 19.7888,21.7195 Q19.7888,21.382 20.0279,21.1711 Q20.2669,20.9602 20.8154,20.9602 L25.4419,20.9602 Q25.9904,20.9602 26.2294,21.1711 Q26.4685,21.382 26.4685,21.7195 Q26.4685,22.0711 26.2294,22.282 Q25.9904,22.493 25.4419,22.493 L23.895,22.493 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="54.0369" x="39.46" y="22.0113">«Interface»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="60.2438" x="36.3566" y="37.4643">ICloneable</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="101.6376" y1="44.7328" y2="44.7328"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="85.4376" x="11.7" y="61.4127">Clone() : object</text></g><!--class m1--><g class="entity" data-entity="m1" data-source-line="15" data-uid="ent0003" id="entity_m1"><rect fill="#FFFAFA" height="28.8" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="74.3089" x="17.1" y="121.5"></rect><ellipse cx="30.6" cy="135.9" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M33.0891,132.1875 Q33.2297,131.9906 33.3984,131.8922 Q33.5672,131.7938 33.7641,131.7938 Q34.1016,131.7938 34.3125,132.0328 Q34.5234,132.2578 34.5234,132.8063 L34.5234,134.1141 Q34.5234,134.6625 34.3125,134.9016 Q34.1016,135.1406 33.7641,135.1406 Q33.4547,135.1406 33.2719,134.9578 Q33.0891,134.7891 32.9906,134.325 Q32.9484,134.0016 32.7797,133.8328 Q32.4844,133.4953 31.9359,133.2984 Q31.3875,133.1016 30.825,133.1016 Q30.1359,133.1016 29.5594,133.3969 Q28.9969,133.6922 28.5469,134.3672 Q28.1109,135.0422 28.1109,135.9703 L28.1109,136.9547 Q28.1109,138.0656 28.9125,138.8109 Q29.7141,139.5422 31.1484,139.5422 Q31.9922,139.5422 32.5828,139.3172 Q32.9344,139.1766 33.3141,138.7828 Q33.5531,138.5438 33.6797,138.4734 Q33.8203,138.4031 34.0031,138.4031 Q34.2984,138.4031 34.5234,138.6422 Q34.7625,138.8672 34.7625,139.1766 Q34.7625,139.4859 34.4531,139.8516 Q34.0031,140.3719 33.2859,140.6672 Q32.3156,141.075 31.1484,141.075 Q29.7844,141.075 28.7016,140.5125 Q27.8156,140.0625 27.1969,139.1063 Q26.5781,138.1359 26.5781,136.9828 L26.5781,135.9422 Q26.5781,134.7469 27.1266,133.7203 Q27.6891,132.6797 28.6734,132.1313 Q29.6578,131.5688 30.7688,131.5688 Q31.4297,131.5688 32.0063,131.7234 Q32.5969,131.8641 33.0891,132.1875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="45.5089" x="43.2" y="141.0557">MiClase</text></g><!--class m2--><g class="entity" data-entity="m2" data-source-line="16" data-uid="ent0004" id="entity_m2"><rect fill="#FFFAFA" height="28.8" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="74.3089" x="123.3" y="121.5"></rect><ellipse cx="136.8" cy="135.9" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M139.2891,132.1875 Q139.4297,131.9906 139.5984,131.8922 Q139.7672,131.7938 139.9641,131.7938 Q140.3016,131.7938 140.5125,132.0328 Q140.7234,132.2578 140.7234,132.8063 L140.7234,134.1141 Q140.7234,134.6625 140.5125,134.9016 Q140.3016,135.1406 139.9641,135.1406 Q139.6547,135.1406 139.4719,134.9578 Q139.2891,134.7891 139.1906,134.325 Q139.1484,134.0016 138.9797,133.8328 Q138.6844,133.4953 138.1359,133.2984 Q137.5875,133.1016 137.025,133.1016 Q136.3359,133.1016 135.7594,133.3969 Q135.1969,133.6922 134.7469,134.3672 Q134.3109,135.0422 134.3109,135.9703 L134.3109,136.9547 Q134.3109,138.0656 135.1125,138.8109 Q135.9141,139.5422 137.3484,139.5422 Q138.1922,139.5422 138.7828,139.3172 Q139.1344,139.1766 139.5141,138.7828 Q139.7531,138.5438 139.8797,138.4734 Q140.0203,138.4031 140.2031,138.4031 Q140.4984,138.4031 140.7234,138.6422 Q140.9625,138.8672 140.9625,139.1766 Q140.9625,139.4859 140.6531,139.8516 Q140.2031,140.3719 139.4859,140.6672 Q138.5156,141.075 137.3484,141.075 Q135.9844,141.075 134.9016,140.5125 Q134.0156,140.0625 133.3969,139.1063 Q132.7781,138.1359 132.7781,136.9828 L132.7781,135.9422 Q132.7781,134.7469 133.3266,133.7203 Q133.8891,132.6797 134.8734,132.1313 Q135.8578,131.5688 136.9688,131.5688 Q137.6297,131.5688 138.2063,131.7234 Q138.7969,131.8641 139.2891,132.1875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="45.5089" x="149.4" y="141.0557">MiClase</text></g><g class="entity" data-entity="m2lol6" data-source-line="19" data-uid="ent0007" id="entity_m2lol6"><ellipse cx="160.65" cy="36.9" fill="#F1F1F1" rx="4.5" ry="4.5" style="stroke:#181818;stroke-width:1.35;"></ellipse></g><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="60.2438" x="130.5281" y="54.4799">ICloneable</text><!--reverse link ICloneable to m1--><g class="link" data-entity-1="ICloneable" data-entity-2="m1" data-source-line="18" data-uid="lnk5" id="link_ICloneable_m1"><path codeline="18" d="M54.45,83.952 C54.45,101.808 54.45,107.415 54.45,121.257" fill="none" id="ICloneable-backto-m1" style="stroke:#000000;stroke-width:0.9;stroke-dasharray:6.3,6.3;"></path><polygon fill="none" points="54.45,67.752,49.05,83.952,59.85,83.952,54.45,67.752" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--link m2lol6 to m2--><g class="link" data-entity-1="m2lol6" data-entity-2="m2" data-source-line="19" data-uid="lnk8" id="link_m2lol6_m2"><path d="M160.65,41.49 C160.65,54.531 160.65,98.847 160.65,121.473" fill="none" id="m2lol6-m2" style="stroke:#000000;stroke-width:0.9;"></path></g><!--SRC=[ROz1Yy9038Nl-HN1arwAwyr51DjJ3mj23vxJQLR7panAPaJSrV- -hQAKnLF8Un_l9R6reICbZyPHZ9kKrDQdnAMHKDaVnZd45x9HbNCXJXHpHwOTMTj-fJtd_TYhd4Bpm7O7cxZoqlA8BOQcNBHXVH_s0Fv5LK7E0D6Gwu_Abd2m3IFxBbtGiwzP8u0DYVMR36DPE0bCTG-lLkLJNg_n5-xET8QVAFMHJO8RmFrvd7pPePedI17znrjr0J3ElcRPG8wawMoG5l07]--></g></svg></p><p></p>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="156.6px" preserveAspectRatio="none" style="width:238px;height:156px;background:#FFFFFF;" version="1.1" viewBox="0 0 238 156" width="238.5px" zoomAndPan="magnify"><defs></defs><g><!--class ICloneable--><g class="entity" data-entity="ICloneable" data-source-line="11" data-uid="ent0002" id="entity_ICloneable"><rect fill="#FFFAFA" height="61.4813" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="96.2376" x="6.3" y="6.3"></rect><ellipse cx="23.0372" cy="25.5164" fill="#B4A7E5" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M23.895,22.493 L23.895,28.4836 L25.4419,28.4836 Q25.9904,28.4836 26.2294,28.6945 Q26.4685,28.9055 26.4685,29.257 Q26.4685,29.5945 26.2294,29.8055 Q25.9904,30.0164 25.4419,30.0164 L20.8154,30.0164 Q20.2669,30.0164 20.0279,29.8055 Q19.7888,29.5945 19.7888,29.243 Q19.7888,28.9055 20.0279,28.6945 Q20.2669,28.4836 20.8154,28.4836 L22.3622,28.4836 L22.3622,22.493 L20.8154,22.493 Q20.2669,22.493 20.0279,22.282 Q19.7888,22.0711 19.7888,21.7195 Q19.7888,21.382 20.0279,21.1711 Q20.2669,20.9602 20.8154,20.9602 L25.4419,20.9602 Q25.9904,20.9602 26.2294,21.1711 Q26.4685,21.382 26.4685,21.7195 Q26.4685,22.0711 26.2294,22.282 Q25.9904,22.493 25.4419,22.493 L23.895,22.493 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="54.0369" x="39.46" y="22.0113">«Interface»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="60.2438" x="36.3566" y="37.4643">ICloneable</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="101.6376" y1="44.7328" y2="44.7328"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="85.4376" x="11.7" y="61.4127">Clone() : object</text></g><!--class IDisposable--><g class="entity" data-entity="IDisposable" data-source-line="15" data-uid="ent0003" id="entity_IDisposable"><rect fill="#FFFAFA" height="61.4813" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="98.3294" x="134.1" y="6.3"></rect><ellipse cx="149.2619" cy="25.5164" fill="#B4A7E5" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M150.1197,22.493 L150.1197,28.4836 L151.6666,28.4836 Q152.215,28.4836 152.4541,28.6945 Q152.6932,28.9055 152.6932,29.257 Q152.6932,29.5945 152.4541,29.8055 Q152.215,30.0164 151.6666,30.0164 L147.04,30.0164 Q146.4916,30.0164 146.2525,29.8055 Q146.0135,29.5945 146.0135,29.243 Q146.0135,28.9055 146.2525,28.6945 Q146.4916,28.4836 147.04,28.4836 L148.5869,28.4836 L148.5869,22.493 L147.04,22.493 Q146.4916,22.493 146.2525,22.282 Q146.0135,22.0711 146.0135,21.7195 Q146.0135,21.382 146.2525,21.1711 Q146.4916,20.9602 147.04,20.9602 L151.6666,20.9602 Q152.215,20.9602 152.4541,21.1711 Q152.6932,21.382 152.6932,21.7195 Q152.6932,22.0711 152.4541,22.282 Q152.215,22.493 151.6666,22.493 L150.1197,22.493 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="54.0369" x="168.1309" y="22.0113">«Interface»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="65.8362" x="162.2312" y="37.4643">IDisposable</text><line style="stroke:#000000;stroke-width:0.45;" x1="135" x2="231.5294" y1="44.7328" y2="44.7328"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="87.5294" x="139.5" y="61.4127">Dispose() : void</text></g><!--class m1--><g class="entity" data-entity="m1" data-source-line="19" data-uid="ent0004" id="entity_m1"><rect fill="#FFFAFA" height="28.8" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="74.3089" x="81" y="121.5"></rect><ellipse cx="94.5" cy="135.9" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M96.9891,132.1875 Q97.1297,131.9906 97.2984,131.8922 Q97.4672,131.7938 97.6641,131.7938 Q98.0016,131.7938 98.2125,132.0328 Q98.4234,132.2578 98.4234,132.8063 L98.4234,134.1141 Q98.4234,134.6625 98.2125,134.9016 Q98.0016,135.1406 97.6641,135.1406 Q97.3547,135.1406 97.1719,134.9578 Q96.9891,134.7891 96.8906,134.325 Q96.8484,134.0016 96.6797,133.8328 Q96.3844,133.4953 95.8359,133.2984 Q95.2875,133.1016 94.725,133.1016 Q94.0359,133.1016 93.4594,133.3969 Q92.8969,133.6922 92.4469,134.3672 Q92.0109,135.0422 92.0109,135.9703 L92.0109,136.9547 Q92.0109,138.0656 92.8125,138.8109 Q93.6141,139.5422 95.0484,139.5422 Q95.8922,139.5422 96.4828,139.3172 Q96.8344,139.1766 97.2141,138.7828 Q97.4531,138.5438 97.5797,138.4734 Q97.7203,138.4031 97.9031,138.4031 Q98.1984,138.4031 98.4234,138.6422 Q98.6625,138.8672 98.6625,139.1766 Q98.6625,139.4859 98.3531,139.8516 Q97.9031,140.3719 97.1859,140.6672 Q96.2156,141.075 95.0484,141.075 Q93.6844,141.075 92.6016,140.5125 Q91.7156,140.0625 91.0969,139.1063 Q90.4781,138.1359 90.4781,136.9828 L90.4781,135.9422 Q90.4781,134.7469 91.0266,133.7203 Q91.5891,132.6797 92.5734,132.1313 Q93.5578,131.5688 94.6688,131.5688 Q95.3297,131.5688 95.9063,131.7234 Q96.4969,131.8641 96.9891,132.1875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="45.5089" x="107.1" y="141.0557">MiClase</text></g><!--reverse link ICloneable to m1--><g class="link" data-entity-1="ICloneable" data-entity-2="m1" data-source-line="21" data-uid="lnk5" id="link_ICloneable_m1"><path codeline="21" d="M83.0398,81.2897 C94.7758,99.1457 100.215,107.415 109.314,121.257" fill="none" id="ICloneable-backto-m1" style="stroke:#000000;stroke-width:0.9;stroke-dasharray:6.3,6.3;"></path><polygon fill="none" points="74.142,67.752,78.5272,84.2556,87.5523,78.3238,74.142,67.752" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link IDisposable to m1--><g class="link" data-entity-1="IDisposable" data-entity-2="m1" data-source-line="22" data-uid="lnk6" id="link_IDisposable_m1"><path codeline="22" d="M154.196,81.2333 C142.298,99.0893 136.746,107.415 127.512,121.257" fill="none" id="IDisposable-backto-m1" style="stroke:#000000;stroke-width:0.9;stroke-dasharray:6.3,6.3;"></path><polygon fill="none" points="163.179,67.752,149.7022,78.239,158.6898,84.2276,163.179,67.752" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--SRC=[RP11Ry8m38Nl_XKMf-rIZICJGgBbqWCIKWyxfwa7MPEuiiFG1lllQ-asbObJbFU-zsnPMnSx8oQWzKPrdPAu-fYej1mhzqdu1Fg7h4NuLB1dmTmRsqwiNVyrUyhxPozyZCs8lHnSeYfmInEs62RbB0t9_R8H-5TLHJu1g3M-NofRmC4rX1Iwz861GasY02ucabTZ2Sl2SoHJz_1oMVxAgnMUuUeyFE8pSlr6Di7NJN3Zj6EzcnojCVlEhXcIrxFXREk6fMc6HZ7C0QRpBrasQ3VDFzet]--></g></svg></p><p></p>
</div>
<div class="col-sm-7 my-auto">
<p>Representa que la clase <strong><code>MiClase</code></strong> <strong>implementa</strong> el interfaz <strong><code>ICloneable</code></strong>.</p>
<p>Fíjate que usamos la palabra <strong>implementa</strong> en lugar de "<em>hereda de</em>" ya que, como hemos comentado, más que responder <strong><code>MiClase</code></strong> a la pregunta "<em>es un</em>", un interfaz define un comportamiento abstracto que <strong><code>MiClase</code></strong> deberá <strong>implementar</strong>.</p>
<p><strong><code>MiClase</code></strong> ahora está obligada a <strong>implementar</strong> el método público <strong><code>Clone</code></strong> con <strong>idéntica signatura</strong>.</p>
<p>Además como vemos en este segundo diagrama. Podemos hacer que una clase <strong>implemente</strong> o "<em>herede</em>" de más de un interfaz.</p>
</div>
</div>
<div style="page-break-after:always;"></div>
<h3 id="interfaces-en-csharp">Interfaces en CSharp </h3>
<div class="row">
<div class="col-sm-5 my-auto">
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="227px" preserveAspectRatio="none" style="width:184px;height:227px;background:#FFFFFF;" version="1.1" viewBox="0 0 184 227" width="184px" zoomAndPan="magnify"><defs></defs><g><!--class IMedia--><g class="entity" data-entity="IMedia" data-source-line="10" data-uid="ent0002" id="entity_IMedia"><rect fill="#FFFAFA" height="121.1406" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="152.834" x="15.5" y="7"></rect><ellipse cx="59.6568" cy="28.3516" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M60.61,24.9922 L60.61,31.6484 L62.3287,31.6484 Q62.9381,31.6484 63.2037,31.8828 Q63.4693,32.1172 63.4693,32.5078 Q63.4693,32.8828 63.2037,33.1172 Q62.9381,33.3516 62.3287,33.3516 L57.1881,33.3516 Q56.5787,33.3516 56.3131,33.1172 Q56.0475,32.8828 56.0475,32.4922 Q56.0475,32.1172 56.3131,31.8828 Q56.5787,31.6484 57.1881,31.6484 L58.9068,31.6484 L58.9068,24.9922 L57.1881,24.9922 Q56.5787,24.9922 56.3131,24.7578 Q56.0475,24.5234 56.0475,24.1328 Q56.0475,23.7578 56.3131,23.5234 Q56.5787,23.2891 57.1881,23.2891 L62.3287,23.2891 Q62.9381,23.2891 63.2037,23.5234 Q63.4693,23.7578 63.4693,24.1328 Q63.4693,24.5234 63.2037,24.7578 Q62.9381,24.9922 62.3287,24.9922 L60.61,24.9922 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="60.041" x="78.1361" y="24.457">«Interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="42.0205" x="87.1464" y="41.627">IMedia</text><line style="stroke:#000000;stroke-width:0.5;" x1="16.5" x2="167.334" y1="49.7031" y2="49.7031"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9102" x="21.5" y="68.2363">Play() : void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.4756" x="21.5" y="85.8457">Stop() : void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.3721" x="21.5" y="103.4551">Pause() : void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.834" x="21.5" y="121.0645">/GetDuracion_sg() : int</text></g><!--class Video--><g class="entity" data-entity="Video" data-source-line="17" data-uid="ent0003" id="entity_Video"><rect fill="#FFFAFA" height="32" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="67.8066" x="7" y="188"></rect><ellipse cx="22" cy="204" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M24.7656,199.875 Q24.9219,199.6563 25.1094,199.5469 Q25.2969,199.4375 25.5156,199.4375 Q25.8906,199.4375 26.125,199.7031 Q26.3594,199.9531 26.3594,200.5625 L26.3594,202.0156 Q26.3594,202.625 26.125,202.8906 Q25.8906,203.1563 25.5156,203.1563 Q25.1719,203.1563 24.9688,202.9531 Q24.7656,202.7656 24.6563,202.25 Q24.6094,201.8906 24.4219,201.7031 Q24.0938,201.3281 23.4844,201.1094 Q22.875,200.8906 22.25,200.8906 Q21.4844,200.8906 20.8438,201.2188 Q20.2188,201.5469 19.7188,202.2969 Q19.2344,203.0469 19.2344,204.0781 L19.2344,205.1719 Q19.2344,206.4063 20.125,207.2344 Q21.0156,208.0469 22.6094,208.0469 Q23.5469,208.0469 24.2031,207.7969 Q24.5938,207.6406 25.0156,207.2031 Q25.2813,206.9375 25.4219,206.8594 Q25.5781,206.7813 25.7813,206.7813 Q26.1094,206.7813 26.3594,207.0469 Q26.625,207.2969 26.625,207.6406 Q26.625,207.9844 26.2813,208.3906 Q25.7813,208.9688 24.9844,209.2969 Q23.9063,209.75 22.6094,209.75 Q21.0938,209.75 19.8906,209.125 Q18.9063,208.625 18.2188,207.5625 Q17.5313,206.4844 17.5313,205.2031 L17.5313,204.0469 Q17.5313,202.7188 18.1406,201.5781 Q18.7656,200.4219 19.8594,199.8125 Q20.9531,199.1875 22.1875,199.1875 Q22.9219,199.1875 23.5625,199.3594 Q24.2188,199.5156 24.7656,199.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.8066" x="36" y="209.7285">Video</text></g><!--class Audio--><g class="entity" data-entity="Audio" data-source-line="18" data-uid="ent0005" id="entity_Audio"><rect fill="#FFFAFA" height="32" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="67.8066" x="110" y="188"></rect><ellipse cx="125" cy="204" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M127.7656,199.875 Q127.9219,199.6563 128.1094,199.5469 Q128.2969,199.4375 128.5156,199.4375 Q128.8906,199.4375 129.125,199.7031 Q129.3594,199.9531 129.3594,200.5625 L129.3594,202.0156 Q129.3594,202.625 129.125,202.8906 Q128.8906,203.1563 128.5156,203.1563 Q128.1719,203.1563 127.9688,202.9531 Q127.7656,202.7656 127.6563,202.25 Q127.6094,201.8906 127.4219,201.7031 Q127.0938,201.3281 126.4844,201.1094 Q125.875,200.8906 125.25,200.8906 Q124.4844,200.8906 123.8438,201.2188 Q123.2188,201.5469 122.7188,202.2969 Q122.2344,203.0469 122.2344,204.0781 L122.2344,205.1719 Q122.2344,206.4063 123.125,207.2344 Q124.0156,208.0469 125.6094,208.0469 Q126.5469,208.0469 127.2031,207.7969 Q127.5938,207.6406 128.0156,207.2031 Q128.2813,206.9375 128.4219,206.8594 Q128.5781,206.7813 128.7813,206.7813 Q129.1094,206.7813 129.3594,207.0469 Q129.625,207.2969 129.625,207.6406 Q129.625,207.9844 129.2813,208.3906 Q128.7813,208.9688 127.9844,209.2969 Q126.9063,209.75 125.6094,209.75 Q124.0938,209.75 122.8906,209.125 Q121.9063,208.625 121.2188,207.5625 Q120.5313,206.4844 120.5313,205.2031 L120.5313,204.0469 Q120.5313,202.7188 121.1406,201.5781 Q121.7656,200.4219 122.8594,199.8125 Q123.9531,199.1875 125.1875,199.1875 Q125.9219,199.1875 126.5625,199.3594 Q127.2188,199.5156 127.7656,199.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.8066" x="139" y="209.7285">Audio</text></g><!--reverse link IMedia to Video--><g class="link" data-entity-1="IMedia" data-entity-2="Video" data-source-line="17" data-uid="lnk4" id="link_IMedia_Video"><path codeline="17" d="M62.9483,145.1107 C54.6483,167.0007 52.33,173.13 46.79,187.72" fill="none" id="IMedia-backto-Video" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"></path><polygon fill="none" points="69.33,128.28,57.3381,142.9835,68.5586,147.238,69.33,128.28" style="stroke:#000000;stroke-width:1;"></polygon></g><!--reverse link IMedia to Audio--><g class="link" data-entity-1="IMedia" data-entity-2="Audio" data-source-line="18" data-uid="lnk6" id="link_IMedia_Audio"><path codeline="18" d="M121.5989,145.0697 C130.0589,166.9597 132.45,173.13 138.09,187.72" fill="none" id="IMedia-backto-Audio" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"></path><polygon fill="none" points="115.11,128.28,116.0023,147.2327,127.1954,142.9068,115.11,128.28" style="stroke:#000000;stroke-width:1;"></polygon></g><!--SRC=[ROvFQyCm3CNl-XGwRfTkvr4AIGSZXq4Wi1w7QskfI6m5sMxf_dptUIqTpPWkGh_tU4znu30PDHxjQ6AiKbBUvaIDbT3nE-4zn5zBfIg7jOoYM8_63bTIMqxJKrrMhvA3EzisEqxKUHdeohl-QQf57Ud_OMV3dwWko05WnuwG_9IEwCblIIC0XqJwPYnXyqoE3IwNpGMjLlW1MAOTpV7c5XzmB-nEf4iopKbhSgGvkdkYz9ZLM9Rm6lkJMFhW2-1IzhbOu4jvIsQaoeu5lW40]--></g></svg></p><p></p>
</div>
<div class="col-sm-7 my-auto">
<p>Como ya habrás podido apreciar en los diagramas, según el <strong>convenio de nomenclatura de C#</strong>, el identificador o nombre de la clase irá siempre precedido por la <strong>letra mayúscula <code>I</code></strong> (<strong><code>I</code></strong><code>nterface</code>) para distinguirlo de otro tipo de clases.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token operator">&lt;</span>modificadores<span class="token operator">&gt;</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">I<span class="token punctuation">&lt;</span>identificador<span class="token punctuation">&gt;</span></span> <span class="token punctuation">:</span> <span class="token operator">&lt;</span>interfacesBase<span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token operator">&lt;</span>interfaces de métodos<span class="token punctuation">,</span> propiedades o indizadores<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre></div>
</div>
<p>Por tanto, si queremos definir el interfaz anterior y aplicarlo a una <strong><code>Video</code></strong>. Haremos que <strong><code>Video</code></strong> herede del interfaz con la sintaxis de herencia que hemos usado hasta ahora y esta se verá obligada a implementar todo lo que hayamos definido en el interfaz, <strong>sin necesidad de anteponer el modificador <code>override</code></strong>.</p>
<div class="row">
<div class="col-sm-4 my-auto">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-interface">interface</span> <span class="token class-name">IMedia</span>
<span class="token punctuation">{</span>
    <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Duracion_sg <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-8 my-auto">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Video</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IMedia</span></span> 
<span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Duracion_sg <span class="token operator">=&gt;</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Pausando el vídeo."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Reproduciendo el vídeo."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Parando el vídeo."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Aviso</p>
<p>Fíjate que no hemos definido ni en el UML ni en el código ningún modificador de acceso en el interfaz. Por defecto, <strong>todos los métodos y propiedades de un interfaz son públicos</strong>. Es un error muy común entre los programadores noveles el poner el modificador <strong><code>public</code></strong> y esto <strong>será considerado en el examen como un error</strong>.</p>
</div>
<div style="page-break-after:always;"></div>
<h3 id="interfaces-de-utilidad-predefinidos-en-las-bcl">Interfaces de utilidad predefinidos en las BCL </h3>
<p>Podemos decir que <strong>me permiten definir comportamientos para mis propios tipos, que serán reconocidos por otras clases o tipos ya implementadas en las BCL</strong>. Aunque podríamos utilizar interfaces propios para hacer lo mismo, no lo hacemos porque <strong>perderíamos interoperabilidad con el resto de clases de las BCL</strong>.</p>
<h4 id="ienumerable">IEnumerable </h4>
<p>Lo veremos más adelante, al usar o definir colecciones.</p>
<h4 id="icloneable">ICloneable </h4>
<p><strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.icloneable">ICloneable</a></strong> Me indicará que puedo crear copias del objeto, puesto que me obliga a implementar un "<em>constructor copia</em>" con el interfaz <strong><code>object Clone()</code></strong> el cual me permitirá hacer <strong>copias en profundidad</strong> de objetos de tipo referencia.</p>
<h4 id="icomparable">IComparable </h4>
<div class="row">
<div class="col-sm-6">
<p><strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.icomparable">IComparable</a></strong> Me indicará que el objeto debe implementar el método <strong><code>int CompareTo(Object otro)</code></strong> que me servirá para comparar dos objetos de la misma clase y que básicamente implementan muchos tipos como las cadenas, números, fechas, etc... y que es usado por las BCL para ordenar listas o arrays de objetos.</p>
</div>
<div class="col-sm-6 my-auto">
<p><strong>Recordatorio de uso:</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Tipo</span> o1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Tipo</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Tipo</span> o2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Tipo</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Si Tipo es IComparable entonces ...</span>
<span class="token class-name"><span class="token keyword keyword-int">int</span></span> comparacion <span class="token operator">=</span> o1<span class="token punctuation">.</span><span class="token function">CompareTo</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// comparacion = 0 si o1 y o2 son iguales.</span>
<span class="token comment">// comparacion &gt; 0 si o1 &gt; o2.</span>
<span class="token comment">// comparacion &lt; 0 si o1 &lt; o2.</span>
</code></pre></div>
</div>
<h4 id="idisposable">IDisposable </h4>
<p><strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.idisposable">IDisposable</a></strong> Me indicará que el objeto debe implementar el método <strong><code>void Dispose()</code></strong> que <strong>se encargará de liberar los recursos usados por el objeto.</strong> No debemos confundirlo con el destructor <strong><code>~&lt;Tipo&gt;()</code></strong>.</p>
<p>Indicaremos a las BCL que nuestro objeto tiene el comportamiento de liberar recursos y lo utilizaremos junto a la <strong>instrucción</strong> <strong><code>using</code></strong> que veremos más adelante.</p>
<p>Veamos un ejemplo "<em>genérico</em>" comentado el uso de este tipo de interfaces. Para ello, supongamos la siguiente agregación con tipos definidos por el usuario, donde ambos implementan los interfaces <strong><code>ICloneable</code></strong> e <strong><code>IComparable</code></strong>.</p>
<h3 id="ejemplo-de-uso-de-interfaces-predefinidos-en-las-bcl">Ejemplo de uso de interfaces predefinidos en las BCL </h3>
<div class="row">
<div class="col-sm-6">
<p>Vamos a definir una clase <strong><code>Empleado</code></strong> que tiene una propiedad <strong><code>Nombre</code></strong> de solo lectura y una <strong><code>Sueldo</code></strong> que debe estar entre 1200 y 3000 euros. Además, <strong>implementa los interfacesde las BCL <code>IComparable</code></strong> e <strong><code>ICloneable</code></strong>. De tal manera que la comparación entre empleados <strong>se hará por su sueldo</strong>.</p>
<p>Puedes descargar el código de este ejemplo del siguiente enlace: <strong><a href="./assets/codigo/interfaces_empleado_comparable_y_clonable_ejemplo.cs">interfaces_empleado_comparable_y_clonable.cs</a></strong>.</p>
</div>
<div class="col-sm-6 my-auto">
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="236px" preserveAspectRatio="none" style="width:291px;height:236px;background:#FFFFFF;" version="1.1" viewBox="0 0 291 236" width="291.2px" zoomAndPan="magnify"><defs></defs><g><!--class ICloneable--><g class="entity" data-entity="ICloneable" data-source-line="11" data-uid="ent0002" id="entity_ICloneable"><rect fill="#FFFAFA" height="54.65" rx="2" ry="2" style="stroke:#000000;stroke-width:0.4;" width="85.5445" x="11.6" y="5.6"></rect><ellipse cx="26.4775" cy="22.6813" fill="#B4A7E5" rx="8.8" ry="8.8" style="stroke:#181818;stroke-width:0.8;"></ellipse><path d="M27.24,19.9938 L27.24,25.3188 L28.615,25.3188 Q29.1025,25.3188 29.315,25.5063 Q29.5275,25.6938 29.5275,26.0063 Q29.5275,26.3063 29.315,26.4938 Q29.1025,26.6813 28.615,26.6813 L24.5025,26.6813 Q24.015,26.6813 23.8025,26.4938 Q23.59,26.3063 23.59,25.9938 Q23.59,25.6938 23.8025,25.5063 Q24.015,25.3188 24.5025,25.3188 L25.8775,25.3188 L25.8775,19.9938 L24.5025,19.9938 Q24.015,19.9938 23.8025,19.8063 Q23.59,19.6188 23.59,19.3063 Q23.59,19.0063 23.8025,18.8188 Q24.015,18.6313 24.5025,18.6313 L28.615,18.6313 Q29.1025,18.6313 29.315,18.8188 Q29.5275,19.0063 29.5275,19.3063 Q29.5275,19.6188 29.315,19.8063 Q29.1025,19.9938 28.615,19.9938 L27.24,19.9938 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.6" font-style="italic" lengthAdjust="spacing" textLength="47.4984" x="41.3428" y="19.5656">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="53.55" x="38.317" y="33.3016">ICloneable</text><line style="stroke:#000000;stroke-width:0.4;" x1="12.4" x2="96.3445" y1="39.7625" y2="39.7625"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="75.9445" x="16.4" y="54.5891">Clone() : object</text></g><!--class IComparable--><g class="entity" data-entity="IComparable" data-source-line="16" data-uid="ent0003" id="entity_IComparable"><rect fill="#FFFAFA" height="54.65" rx="2" ry="2" style="stroke:#000000;stroke-width:0.4;" width="160.2422" x="125.6" y="5.6"></rect><ellipse cx="170.2605" cy="22.6813" fill="#B4A7E5" rx="8.8" ry="8.8" style="stroke:#181818;stroke-width:0.8;"></ellipse><path d="M171.023,19.9938 L171.023,25.3188 L172.398,25.3188 Q172.8855,25.3188 173.098,25.5063 Q173.3105,25.6938 173.3105,26.0063 Q173.3105,26.3063 173.098,26.4938 Q172.8855,26.6813 172.398,26.6813 L168.2855,26.6813 Q167.798,26.6813 167.5855,26.4938 Q167.373,26.3063 167.373,25.9938 Q167.373,25.6938 167.5855,25.5063 Q167.798,25.3188 168.2855,25.3188 L169.6605,25.3188 L169.6605,19.9938 L168.2855,19.9938 Q167.798,19.9938 167.5855,19.8063 Q167.373,19.6188 167.373,19.3063 Q167.373,19.0063 167.5855,18.8188 Q167.798,18.6313 168.2855,18.6313 L172.398,18.6313 Q172.8855,18.6313 173.098,18.8188 Q173.3105,19.0063 173.3105,19.3063 Q173.3105,19.6188 173.098,19.8063 Q172.8855,19.9938 172.398,19.9938 L171.023,19.9938 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.6" font-style="italic" lengthAdjust="spacing" textLength="47.4984" x="194.9719" y="19.5656">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="64.1211" x="186.6605" y="33.3016">IComparable</text><line style="stroke:#000000;stroke-width:0.4;" x1="126.4" x2="285.0422" y1="39.7625" y2="39.7625"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="150.6422" x="130.4" y="54.5891">CompareTo(in obj: object) : int</text></g><!--class Empleado--><g class="entity" data-entity="Empleado" data-source-line="21" data-uid="ent0004" id="entity_Empleado"><rect fill="#FFFAFA" height="122.925" rx="2" ry="2" style="stroke:#000000;stroke-width:0.4;" width="248.3602" x="5.6" y="108"></rect><ellipse cx="101.1637" cy="120.8" fill="#ADD1B2" rx="8.8" ry="8.8" style="stroke:#181818;stroke-width:0.8;"></ellipse><path d="M103.3762,117.5 Q103.5012,117.325 103.6512,117.2375 Q103.8012,117.15 103.9762,117.15 Q104.2762,117.15 104.4637,117.3625 Q104.6512,117.5625 104.6512,118.05 L104.6512,119.2125 Q104.6512,119.7 104.4637,119.9125 Q104.2762,120.125 103.9762,120.125 Q103.7012,120.125 103.5387,119.9625 Q103.3762,119.8125 103.2887,119.4 Q103.2512,119.1125 103.1012,118.9625 Q102.8387,118.6625 102.3512,118.4875 Q101.8637,118.3125 101.3637,118.3125 Q100.7512,118.3125 100.2387,118.575 Q99.7387,118.8375 99.3387,119.4375 Q98.9512,120.0375 98.9512,120.8625 L98.9512,121.7375 Q98.9512,122.725 99.6637,123.3875 Q100.3762,124.0375 101.6512,124.0375 Q102.4012,124.0375 102.9262,123.8375 Q103.2387,123.7125 103.5762,123.3625 Q103.7887,123.15 103.9012,123.0875 Q104.0262,123.025 104.1887,123.025 Q104.4512,123.025 104.6512,123.2375 Q104.8637,123.4375 104.8637,123.7125 Q104.8637,123.9875 104.5887,124.3125 Q104.1887,124.775 103.5512,125.0375 Q102.6887,125.4 101.6512,125.4 Q100.4387,125.4 99.4762,124.9 Q98.6887,124.5 98.1387,123.65 Q97.5887,122.7875 97.5887,121.7625 L97.5887,120.8375 Q97.5887,119.775 98.0762,118.8625 Q98.5762,117.9375 99.4512,117.45 Q100.3262,116.95 101.3137,116.95 Q101.9012,116.95 102.4137,117.0875 Q102.9387,117.2125 103.3762,117.5 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="50.4328" x="117.5637" y="125.3828">Empleado</text><line style="stroke:#000000;stroke-width:0.4;" x1="6.4" x2="253.1602" y1="133.6" y2="133.6"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="78.4273" x="10.4" y="148.4266">-nombre : string</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="79.7016" x="10.4" y="162.5141">-sueldo : double</text><line style="stroke:#000000;stroke-width:0.4;" x1="6.4" x2="253.1602" y1="168.175" y2="168.175"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="238.7602" x="10.4" y="183.0016">+Empleado(in nombre: string, in sueldo: double)</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="108.6094" x="10.4" y="197.0891">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="109.8945" x="10.4" y="211.1766">+GetSueldo() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="101.418" x="10.4" y="225.2641">^+ ToString() : string</text></g><!--reverse link ICloneable to Empleado--><g class="link" data-entity-1="ICloneable" data-entity-2="Empleado" data-source-line="32" data-uid="lnk5" id="link_ICloneable_Empleado"><path codeline="32" d="M76.2543,72.8971 C83.8303,86.5211 86.384,91.104 95.64,107.736" fill="none" id="ICloneable-backto-Empleado" style="stroke:#000000;stroke-width:0.8;"></path><polygon fill="none" points="69.256,60.312,72.0593,75.2298,80.4493,70.5643,69.256,60.312" style="stroke:#000000;stroke-width:0.8;"></polygon></g><!--reverse link IComparable to Empleado--><g class="link" data-entity-1="IComparable" data-entity-2="Empleado" data-source-line="33" data-uid="lnk6" id="link_IComparable_Empleado"><path codeline="33" d="M183.5295,72.8656 C175.8735,86.4896 173.28,91.104 163.928,107.736" fill="none" id="IComparable-backto-Empleado" style="stroke:#000000;stroke-width:0.8;"></path><polygon fill="none" points="190.584,60.312,179.3449,70.5141,187.714,75.2171,190.584,60.312" style="stroke:#000000;stroke-width:0.8;"></polygon></g><!--SRC=[TP1BQyCm48Jl-XKw9gGkFPOI0h4f9PTISA2tWYnj7TMIraWoeQ__Nab-r2wfBy8xyyr8wnffMcQPfbmnv_RUMrbr7WuSJIa_WDuGDrdsrkAvG8MMvehnPYOzXLzMGnwEsc9dH6zxFaaFfSO6PjuYDkLe1TZBORtXJrHfy4o8uqo5IrtV4dAI0YZerhzJ3Re2wuWq7kmhuq0FXK83h0hcxNOQxtRaaz3m9NMrfdSKgpVWddoJ1OmwtkHVEibmn9KqCM1CYNd17SFIDkczRXKmWGENKOEwiX1iBkpPrCFKTQ04Xgd0BdIcwMQ2OqdFZTXLQ1cWaLaFq0Fun-HDZvkr9AbCJ99cLIyRUiGoMUTKU0MPh_4hotuVj5ZHGla1]--></g></svg></p><p></p>
</div>
</div>
<p>Fíjate que podemos implementar más de un interfaz en la misma clase y los indicaremos separados por comas.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Empleado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IComparable</span><span class="token punctuation">,</span> <span class="token class-name">ICloneable</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> _sueldo<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Sueldo
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-get">get</span> <span class="token operator">=&gt;</span> _sueldo<span class="token punctuation">;</span>
        <span class="token keyword keyword-set">set</span>
        <span class="token punctuation">{</span>
            Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>
                <span class="token named-parameter punctuation">condition</span><span class="token punctuation">:</span> <span class="token keyword keyword-value">value</span> <span class="token operator">&gt;=</span> <span class="token number">1200D</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword keyword-value">value</span> <span class="token operator">&lt;=</span> <span class="token number">3000D</span><span class="token punctuation">,</span>
                <span class="token named-parameter punctuation">message</span><span class="token punctuation">:</span> <span class="token string">"El sueldo debe estar entre 1200 y 3000 euros"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _sueldo <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Empleado</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> sueldo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        Sueldo <span class="token operator">=</span> sueldo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Nombre<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token string">Sueldo: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Sueldo</span><span class="token format-string"><span class="token punctuation">:</span>F0</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p>Ahora estaremos obligados a implementar los métodos y propiedades definidos en los interfaces.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>En <strong>VSCode</strong>, si situas el cursor sobre un interfaz que implementa una clase y pulsas <strong><code>Ctrl + .</code></strong> te mostrará un menú contextual con la opción de <em><strong>"Implementar interfaz"</strong></em> que generará automáticamente los métodos y propiedades que debes implementar.</p>
</div>
<p>Puesto que vamos a comparar por <strong><code>Sueldo</code></strong> que es un tipo básico que ya implementa <strong><code>IComparable</code></strong>, podemos usar su método <strong><code>CompareTo</code></strong> para implementar el nuestro.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">CompareTo</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-object">object</span><span class="token punctuation">?</span></span> obj<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Sueldo<span class="token punctuation">.</span><span class="token function">CompareTo</span><span class="token punctuation">(</span><span class="token punctuation">(</span>obj <span class="token keyword keyword-as">as</span> <span class="token class-name">Empleado</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">.</span>Sueldo<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>Fíjate que comparamos el <strong><code>Sueldo</code></strong> del objeto que llama a <strong><code>CompareTo</code></strong> (<strong><code>this</code></strong>) con el sueldo del objeto que se pasa como parámetro. Pero hemos hecho un <strong>downcasting</strong> con <strong><code>as</code></strong> y el operador de supresión de nulabilidad <strong><code>!</code></strong> para indicarle al compilador genere un error de ejecución si el objeto no es un <strong><code>Empleado</code></strong>.</p>
<p>Para implementar el método <strong><code>Clone</code></strong> simplemente llamamos al constructor de la clase con los mismos parámetros que el objeto que llama a <strong><code>Clone</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-object">object</span></span> <span class="token function">Clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Empleado</span><span class="token punctuation">(</span>Nombre<span class="token punctuation">,</span> Sueldo<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="admonition warning">
<p class="admonition-title">Aviso</p>
<p>Si alguno de los objetos que componen la clase <strong>fuera un tipo referencia mutable</strong>, deberíamos hacer una <strong>copia en profundidad</strong> de los mismos para evitar que el objeto clonado comparta referencias con el original. Esto es, deberíamos llamar al método <strong><code>Clone</code></strong> de dichos objetos si implementan <strong><code>ICloneable</code></strong> o crear nuevas instancias de los mismos copiando sus valores. En este caso, como <strong><code>string</code></strong> es inmutable y <strong><code>double</code></strong> es un tipo valor, no tenemos que preocuparnos por pasarlos tal cual al constructor.</p>
</div>
<div style="page-break-after:always;"></div>
<p>Veamos ahora un sencillo programa principal de test donde probar la clase <strong><code>Empleado</code></strong> y los interfaces que implementa.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Empleado</span> e1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Juanjo"</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">sueldo</span><span class="token punctuation">:</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Empleado</span> e2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Carmen"</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">sueldo</span><span class="token punctuation">:</span> <span class="token number">2800</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Empleado</span> e3 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Xusa"</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">sueldo</span><span class="token punctuation">:</span> <span class="token number">2400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Aunque sabemos que e1 es ICloneable, podemos siempre</span>
    <span class="token comment">// preguntar a un objeto si implementa un interfaz</span>
    <span class="token comment">// para poder llamar a sus métodos en esta caso Clone()</span>
    <span class="token comment">// Como clone devuelve un object, debemos hacer un downcasting.</span>
    <span class="token class-name">Empleado</span> e4 <span class="token operator">=</span> e1 <span class="token keyword keyword-is">is</span> <span class="token class-name">ICloneable
                    <span class="token punctuation">?</span></span> <span class="token punctuation">(</span>e1<span class="token punctuation">.</span><span class="token function">Clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-as">as</span> <span class="token class-name">Empleado</span><span class="token punctuation">)</span><span class="token operator">!</span> 
                    <span class="token punctuation">:</span> e1<span class="token punctuation">;</span>
    <span class="token comment">// Modificamos el sueldo de e4 y no debería afectar a e1.</span>
    e4<span class="token punctuation">.</span>Sueldo <span class="token operator">=</span> <span class="token number">2900</span><span class="token punctuation">;</span>

    <span class="token class-name">Empleado<span class="token punctuation">[</span><span class="token punctuation">]</span></span> empleados <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">e1</span><span class="token punctuation">,</span> <span class="token class-name">e2</span><span class="token punctuation">,</span> <span class="token class-name">e3</span><span class="token punctuation">,</span> <span class="token class-name">e4</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// Puesto que Empleado es IComparable</span>
    <span class="token comment">// podemos usar Array.Sort() para ordenar el array por sueldo.</span>
    <span class="token comment">// Si no lo fuera, se produciría un error al ejecutar.</span>
    Array<span class="token punctuation">.</span><span class="token function">Sort</span><span class="token punctuation">(</span>empleados<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Join</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Empleado<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">,</span> empleados<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>Mostrará por consola:</strong></p>
<pre class="salida_consola">Nombre: Juanjo  Sueldo: 2000
Nombre: Xusa    Sueldo: 2400
Nombre: Carmen  Sueldo: 2800
Nombre: Juanjo  Sueldo: 2900
</pre>
<p>Fíjate que, además de <strong>mostrar los empleados ordenados por sueldo</strong>, al clonar <strong><code>e1</code></strong> en <strong><code>e4</code></strong> y cambiar su sueldo, no hemos modificado el sueldo de <strong><code>e1</code></strong>. Esto es porque hemos hecho una <strong>copia en profundidad</strong> del objeto.</p>
<div style="page-break-after:always;"></div>
<h3 id="el-patrón-strategy">El Patrón "<em>Strategy</em>" </h3>
<p>Los interfaces son muy usados en la industria del software para definir abstracciones de comportamientos y <strong>patrones de diseño</strong>. Uno de los más usados es el patrón <strong><a href="https://es.wikipedia.org/wiki/Strategy_(patr%C3%B3n_de_dise%C3%B1o)">Strategy</a></strong> que <strong>será base de muchos otros patrones de diseño</strong> y será básico para aplicar muchos aspectos de la POO moderna como los principios SOLID, la inyección de dependencias, etc...</p>
<p>Este patrón nos permite abstraer un comportamiento que puede tener múltiples implementaciones y que se definen en tiempo de ejecución. Es decir, el algoritmo o comportamiento concreto que se va a usar, <strong>no se define hasta que se instancia el objeto</strong>. Determinadas clases <strong>deberán exponer en su constructor las abstracciones colaboradoras</strong> (interfaces) que definen estos comportamientos para que el usuario de la clase pueda decidir qué implementación concreta usar al instanciar el objeto.</p>
<p>Vamos a ver pues <strong>un ejemplo de uso de interfaces</strong> a través del uso de este patrón de diseño. Tratando de aislar el concepto de otras consideraciones.</p>
<p>Para mostrar su uso, nada mejor que a través de juego de estrategia en tiempo real. En él, tendremos una <strong>unidad de ataque</strong> con una serie de propiedades como son <strong><code>Fuerza</code></strong>, <strong><code>Velocidad</code></strong> e  <strong><code>Inteligencia</code></strong>.  Sin embargo, hasta que no instanciemos el objeto unidad, no sabremos cómo se inicializarán estos valores y que '<em>estrategia</em>' va a seguir, es decir cómo se calcularán los puntos de ataque que va a tener la unidad de acuerdo a los valores  anteriores.</p>
<p>Para cumplir esta especificación, implementaremos el siguiente patrón Strategy, conforme se expresa en al diagrama de clases siguiente.</p>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="363px" preserveAspectRatio="none" style="width:682px;height:363px;" version="1.1" viewBox="0 0 682 363" width="682.5px" zoomAndPan="magnify"><defs></defs><g><!--class IEstrategiaDeAtaque--><g class="entity" data-entity="IEstrategiaDeAtaque" data-source-line="13" data-uid="ent0002" id="entity_IEstrategiaDeAtaque"><rect fill="#FFFAFA" height="43.207" rx="1.875" ry="1.875" style="stroke:#000000;stroke-width:0.375;" width="120.8943" x="196.125" y="231.375"></rect><ellipse cx="207.375" cy="243.375" fill="#B4A7E5" rx="8.25" ry="8.25" style="stroke:#181818;stroke-width:0.75;"></ellipse><path d="M208.0898,240.8555 L208.0898,245.8477 L209.3789,245.8477 Q209.8359,245.8477 210.0352,246.0234 Q210.2344,246.1992 210.2344,246.4922 Q210.2344,246.7734 210.0352,246.9492 Q209.8359,247.125 209.3789,247.125 L205.5234,247.125 Q205.0664,247.125 204.8672,246.9492 Q204.668,246.7734 204.668,246.4805 Q204.668,246.1992 204.8672,246.0234 Q205.0664,245.8477 205.5234,245.8477 L206.8125,245.8477 L206.8125,240.8555 L205.5234,240.8555 Q205.0664,240.8555 204.8672,240.6797 Q204.668,240.5039 204.668,240.2109 Q204.668,239.9297 204.8672,239.7539 Q205.0664,239.5781 205.5234,239.5781 L209.3789,239.5781 Q209.8359,239.5781 210.0352,239.7539 Q210.2344,239.9297 210.2344,240.2109 Q210.2344,240.5039 210.0352,240.6797 Q209.8359,240.8555 209.3789,240.8555 L208.0898,240.8555 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.5" font-style="italic" lengthAdjust="spacing" textLength="96.8943" x="217.875" y="247.6714">IEstrategiaDeAtaque</text><line style="stroke:#000000;stroke-width:0.375;" x1="196.875" x2="316.2693" y1="255.375" y2="255.375"></line><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="95.7151" x="200.625" y="269.2749">Ataca(u:Unidad) : int</text></g><!--class IGeneradorDePuntos--><g class="entity" data-entity="IGeneradorDePuntos" data-source-line="16" data-uid="ent0003" id="entity_IGeneradorDePuntos"><rect fill="#FFFAFA" height="69.6211" rx="1.875" ry="1.875" style="stroke:#000000;stroke-width:0.375;" width="123.2271" x="359.25" y="218.25"></rect><ellipse cx="370.5" cy="230.25" fill="#B4A7E5" rx="8.25" ry="8.25" style="stroke:#181818;stroke-width:0.75;"></ellipse><path d="M371.2148,227.7305 L371.2148,232.7227 L372.5039,232.7227 Q372.9609,232.7227 373.1602,232.8984 Q373.3594,233.0742 373.3594,233.3672 Q373.3594,233.6484 373.1602,233.8242 Q372.9609,234 372.5039,234 L368.6484,234 Q368.1914,234 367.9922,233.8242 Q367.793,233.6484 367.793,233.3555 Q367.793,233.0742 367.9922,232.8984 Q368.1914,232.7227 368.6484,232.7227 L369.9375,232.7227 L369.9375,227.7305 L368.6484,227.7305 Q368.1914,227.7305 367.9922,227.5547 Q367.793,227.3789 367.793,227.0859 Q367.793,226.8047 367.9922,226.6289 Q368.1914,226.4531 368.6484,226.4531 L372.5039,226.4531 Q372.9609,226.4531 373.1602,226.6289 Q373.3594,226.8047 373.3594,227.0859 Q373.3594,227.3789 373.1602,227.5547 Q372.9609,227.7305 372.5039,227.7305 L371.2148,227.7305 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.5" font-style="italic" lengthAdjust="spacing" textLength="99.2271" x="381" y="234.5464">IGeneradorDePuntos</text><line style="stroke:#000000;stroke-width:0.375;" x1="360" x2="481.7271" y1="242.25" y2="242.25"></line><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="79.355" x="363.75" y="256.1499">/GetFuerza() : int</text><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="92.7927" x="363.75" y="269.3569">/GetVelocidad() : int</text><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="99.7961" x="363.75" y="282.564">/GetInteligencia() : int</text></g><!--class GeneradorDePuntosFijo--><g class="entity" data-entity="GeneradorDePuntosFijo" data-source-line="21" data-uid="ent0004" id="entity_GeneradorDePuntosFijo"><rect fill="#FFFAFA" height="24" rx="1.875" ry="1.875" style="stroke:#000000;stroke-width:0.375;" width="137.2288" x="352.125" y="333.75"></rect><ellipse cx="363.375" cy="345.75" fill="#ADD1B2" rx="8.25" ry="8.25" style="stroke:#181818;stroke-width:0.75;"></ellipse><path d="M365.4492,342.6563 Q365.5664,342.4922 365.707,342.4102 Q365.8477,342.3281 366.0117,342.3281 Q366.293,342.3281 366.4688,342.5273 Q366.6445,342.7148 366.6445,343.1719 L366.6445,344.2617 Q366.6445,344.7188 366.4688,344.918 Q366.293,345.1172 366.0117,345.1172 Q365.7539,345.1172 365.6016,344.9648 Q365.4492,344.8242 365.3672,344.4375 Q365.332,344.168 365.1914,344.0273 Q364.9453,343.7461 364.4883,343.582 Q364.0313,343.418 363.5625,343.418 Q362.9883,343.418 362.5078,343.6641 Q362.0391,343.9102 361.6641,344.4727 Q361.3008,345.0352 361.3008,345.8086 L361.3008,346.6289 Q361.3008,347.5547 361.9688,348.1758 Q362.6367,348.7852 363.832,348.7852 Q364.5352,348.7852 365.0273,348.5977 Q365.3203,348.4805 365.6367,348.1523 Q365.8359,347.9531 365.9414,347.8945 Q366.0586,347.8359 366.2109,347.8359 Q366.457,347.8359 366.6445,348.0352 Q366.8438,348.2227 366.8438,348.4805 Q366.8438,348.7383 366.5859,349.043 Q366.2109,349.4766 365.6133,349.7227 Q364.8047,350.0625 363.832,350.0625 Q362.6953,350.0625 361.793,349.5938 Q361.0547,349.2188 360.5391,348.4219 Q360.0234,347.6133 360.0234,346.6523 L360.0234,345.7852 Q360.0234,344.7891 360.4805,343.9336 Q360.9492,343.0664 361.7695,342.6094 Q362.5898,342.1406 363.5156,342.1406 Q364.0664,342.1406 364.5469,342.2695 Q365.0391,342.3867 365.4492,342.6563 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="113.2288" x="373.875" y="350.0464">GeneradorDePuntosFijo</text></g><!--class GeneradorDePuntosAleatorio--><g class="entity" data-entity="GeneradorDePuntosAleatorio" data-source-line="23" data-uid="ent0006" id="entity_GeneradorDePuntosAleatorio"><rect fill="#FFFAFA" height="24" rx="1.875" ry="1.875" style="stroke:#000000;stroke-width:0.375;" width="161.751" x="516" y="333.75"></rect><ellipse cx="527.25" cy="345.75" fill="#ADD1B2" rx="8.25" ry="8.25" style="stroke:#181818;stroke-width:0.75;"></ellipse><path d="M529.3242,342.6563 Q529.4414,342.4922 529.582,342.4102 Q529.7227,342.3281 529.8867,342.3281 Q530.168,342.3281 530.3438,342.5273 Q530.5195,342.7148 530.5195,343.1719 L530.5195,344.2617 Q530.5195,344.7188 530.3438,344.918 Q530.168,345.1172 529.8867,345.1172 Q529.6289,345.1172 529.4766,344.9648 Q529.3242,344.8242 529.2422,344.4375 Q529.207,344.168 529.0664,344.0273 Q528.8203,343.7461 528.3633,343.582 Q527.9063,343.418 527.4375,343.418 Q526.8633,343.418 526.3828,343.6641 Q525.9141,343.9102 525.5391,344.4727 Q525.1758,345.0352 525.1758,345.8086 L525.1758,346.6289 Q525.1758,347.5547 525.8438,348.1758 Q526.5117,348.7852 527.707,348.7852 Q528.4102,348.7852 528.9023,348.5977 Q529.1953,348.4805 529.5117,348.1523 Q529.7109,347.9531 529.8164,347.8945 Q529.9336,347.8359 530.0859,347.8359 Q530.332,347.8359 530.5195,348.0352 Q530.7188,348.2227 530.7188,348.4805 Q530.7188,348.7383 530.4609,349.043 Q530.0859,349.4766 529.4883,349.7227 Q528.6797,350.0625 527.707,350.0625 Q526.5703,350.0625 525.668,349.5938 Q524.9297,349.2188 524.4141,348.4219 Q523.8984,347.6133 523.8984,346.6523 L523.8984,345.7852 Q523.8984,344.7891 524.3555,343.9336 Q524.8242,343.0664 525.6445,342.6094 Q526.4648,342.1406 527.3906,342.1406 Q527.9414,342.1406 528.4219,342.2695 Q528.9141,342.3867 529.3242,342.6563 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="137.751" x="537.75" y="350.0464">GeneradorDePuntosAleatorio</text></g><!--class EstrategiaAtaqueDemoledor--><g class="entity" data-entity="EstrategiaAtaqueDemoledor" data-source-line="25" data-uid="ent0008" id="entity_EstrategiaAtaqueDemoledor"><rect fill="#FFFAFA" height="24" rx="1.875" ry="1.875" style="stroke:#000000;stroke-width:0.375;" width="155.9114" x="5.25" y="333.75"></rect><ellipse cx="16.5" cy="345.75" fill="#ADD1B2" rx="8.25" ry="8.25" style="stroke:#181818;stroke-width:0.75;"></ellipse><path d="M18.5742,342.6563 Q18.6914,342.4922 18.832,342.4102 Q18.9727,342.3281 19.1367,342.3281 Q19.418,342.3281 19.5938,342.5273 Q19.7695,342.7148 19.7695,343.1719 L19.7695,344.2617 Q19.7695,344.7188 19.5938,344.918 Q19.418,345.1172 19.1367,345.1172 Q18.8789,345.1172 18.7266,344.9648 Q18.5742,344.8242 18.4922,344.4375 Q18.457,344.168 18.3164,344.0273 Q18.0703,343.7461 17.6133,343.582 Q17.1563,343.418 16.6875,343.418 Q16.1133,343.418 15.6328,343.6641 Q15.1641,343.9102 14.7891,344.4727 Q14.4258,345.0352 14.4258,345.8086 L14.4258,346.6289 Q14.4258,347.5547 15.0938,348.1758 Q15.7617,348.7852 16.957,348.7852 Q17.6602,348.7852 18.1523,348.5977 Q18.4453,348.4805 18.7617,348.1523 Q18.9609,347.9531 19.0664,347.8945 Q19.1836,347.8359 19.3359,347.8359 Q19.582,347.8359 19.7695,348.0352 Q19.9688,348.2227 19.9688,348.4805 Q19.9688,348.7383 19.7109,349.043 Q19.3359,349.4766 18.7383,349.7227 Q17.9297,350.0625 16.957,350.0625 Q15.8203,350.0625 14.918,349.5938 Q14.1797,349.2188 13.6641,348.4219 Q13.1484,347.6133 13.1484,346.6523 L13.1484,345.7852 Q13.1484,344.7891 13.6055,343.9336 Q14.0742,343.0664 14.8945,342.6094 Q15.7148,342.1406 16.6406,342.1406 Q17.1914,342.1406 17.6719,342.2695 Q18.1641,342.3867 18.5742,342.6563 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="131.9114" x="27" y="350.0464">EstrategiaAtaqueDemoledor</text></g><!--class EstrategiaAtaqueRapido--><g class="entity" data-entity="EstrategiaAtaqueRapido" data-source-line="27" data-uid="ent0010" id="entity_EstrategiaAtaqueRapido"><rect fill="#FFFAFA" height="24" rx="1.875" ry="1.875" style="stroke:#000000;stroke-width:0.375;" width="137.8286" x="187.5" y="333.75"></rect><ellipse cx="198.75" cy="345.75" fill="#ADD1B2" rx="8.25" ry="8.25" style="stroke:#181818;stroke-width:0.75;"></ellipse><path d="M200.8242,342.6563 Q200.9414,342.4922 201.082,342.4102 Q201.2227,342.3281 201.3867,342.3281 Q201.668,342.3281 201.8438,342.5273 Q202.0195,342.7148 202.0195,343.1719 L202.0195,344.2617 Q202.0195,344.7188 201.8438,344.918 Q201.668,345.1172 201.3867,345.1172 Q201.1289,345.1172 200.9766,344.9648 Q200.8242,344.8242 200.7422,344.4375 Q200.707,344.168 200.5664,344.0273 Q200.3203,343.7461 199.8633,343.582 Q199.4063,343.418 198.9375,343.418 Q198.3633,343.418 197.8828,343.6641 Q197.4141,343.9102 197.0391,344.4727 Q196.6758,345.0352 196.6758,345.8086 L196.6758,346.6289 Q196.6758,347.5547 197.3438,348.1758 Q198.0117,348.7852 199.207,348.7852 Q199.9102,348.7852 200.4023,348.5977 Q200.6953,348.4805 201.0117,348.1523 Q201.2109,347.9531 201.3164,347.8945 Q201.4336,347.8359 201.5859,347.8359 Q201.832,347.8359 202.0195,348.0352 Q202.2188,348.2227 202.2188,348.4805 Q202.2188,348.7383 201.9609,349.043 Q201.5859,349.4766 200.9883,349.7227 Q200.1797,350.0625 199.207,350.0625 Q198.0703,350.0625 197.168,349.5938 Q196.4297,349.2188 195.9141,348.4219 Q195.3984,347.6133 195.3984,346.6523 L195.3984,345.7852 Q195.3984,344.7891 195.8555,343.9336 Q196.3242,343.0664 197.1445,342.6094 Q197.9648,342.1406 198.8906,342.1406 Q199.4414,342.1406 199.9219,342.2695 Q200.4141,342.3867 200.8242,342.6563 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="113.8286" x="209.25" y="350.0464">EstrategiaAtaqueRapido</text></g><!--class Unidad--><g class="entity" data-entity="Unidad" data-source-line="30" data-uid="ent0012" id="entity_Unidad"><rect fill="#FFFAFA" height="154.8633" rx="1.875" ry="1.875" style="stroke:#000000;stroke-width:0.375;" width="417.2695" x="129.75" y="5.25"></rect><ellipse cx="318.5603" cy="17.25" fill="#ADD1B2" rx="8.25" ry="8.25" style="stroke:#181818;stroke-width:0.75;"></ellipse><path d="M320.6345,14.1563 Q320.7517,13.9922 320.8923,13.9102 Q321.033,13.8281 321.197,13.8281 Q321.4783,13.8281 321.6541,14.0273 Q321.8298,14.2148 321.8298,14.6719 L321.8298,15.7617 Q321.8298,16.2188 321.6541,16.418 Q321.4783,16.6172 321.197,16.6172 Q320.9392,16.6172 320.7869,16.4648 Q320.6345,16.3242 320.5525,15.9375 Q320.5173,15.668 320.3767,15.5273 Q320.1306,15.2461 319.6736,15.082 Q319.2166,14.918 318.7478,14.918 Q318.1736,14.918 317.6931,15.1641 Q317.2244,15.4102 316.8494,15.9727 Q316.4861,16.5352 316.4861,17.3086 L316.4861,18.1289 Q316.4861,19.0547 317.1541,19.6758 Q317.822,20.2852 319.0173,20.2852 Q319.7205,20.2852 320.2126,20.0977 Q320.5056,19.9805 320.822,19.6523 Q321.0212,19.4531 321.1267,19.3945 Q321.2439,19.3359 321.3962,19.3359 Q321.6423,19.3359 321.8298,19.5352 Q322.0291,19.7227 322.0291,19.9805 Q322.0291,20.2383 321.7712,20.543 Q321.3962,20.9766 320.7986,21.2227 Q319.99,21.5625 319.0173,21.5625 Q317.8806,21.5625 316.9783,21.0938 Q316.24,20.7188 315.7244,19.9219 Q315.2087,19.1133 315.2087,18.1523 L315.2087,17.2852 Q315.2087,16.2891 315.6658,15.4336 Q316.1345,14.5664 316.9548,14.1094 Q317.7751,13.6406 318.7009,13.6406 Q319.2517,13.6406 319.7322,13.7695 Q320.2244,13.8867 320.6345,14.1563 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="33.2739" x="333.9353" y="21.5464">Unidad</text><line style="stroke:#000000;stroke-width:0.375;" x1="130.5" x2="546.2695" y1="29.25" y2="29.25"></line><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="107.3943" x="134.25" y="43.1499">-fuerza : int «readonly»</text><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="122.5752" x="134.25" y="56.3569">-velocidad : int «readonly»</text><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="130.7476" x="134.25" y="69.564">-inteligencia : int «readonly»</text><line style="stroke:#000000;stroke-width:0.375;" x1="130.5" x2="546.2695" y1="74.8711" y2="74.8711"></line><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="408.2695" x="134.25" y="88.771">+Unidad(pointsGenerator : IGeneradorDePuntos, attackStrategy : IEstrategiaDeAtaque)</text><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="82.5696" x="134.25" y="101.978">+GetFuerza() : int</text><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="96.0073" x="134.25" y="115.1851">+GetVelocidad() : int</text><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="103.0107" x="134.25" y="128.3921">+GetInteligencia() : int</text><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="59.8162" x="134.25" y="141.5991">+Ataca() : int</text><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacing" textLength="92.1621" x="134.25" y="154.8062">+^ToString() : string</text></g><!--reverse link IGeneradorDePuntos to GeneradorDePuntosFijo--><g class="link" data-entity-1="IGeneradorDePuntos" data-entity-2="GeneradorDePuntosFijo" data-uid="lnk5" id="link_IGeneradorDePuntos_GeneradorDePuntosFijo"><path d="M420.75,301.5675 C420.75,317.625 420.75,322.2 420.75,333.5925" fill="none" id="IGeneradorDePuntos-backto-GeneradorDePuntosFijo" style="stroke:#000000;stroke-width:0.75;stroke-dasharray:5.25,5.25;"></path><polygon fill="none" points="420.75,288.0675,416.25,301.5675,425.25,301.5675,420.75,288.0675" style="stroke:#000000;stroke-width:0.75;"></polygon></g><!--reverse link IGeneradorDePuntos to GeneradorDePuntosAleatorio--><g class="link" data-entity-1="IGeneradorDePuntos" data-entity-2="GeneradorDePuntosAleatorio" data-uid="lnk7" id="link_IGeneradorDePuntos_GeneradorDePuntosAleatorio"><path d="M494.3836,291.9443 C526.6486,308.6318 552.135,321.8025 575.2125,333.735" fill="none" id="IGeneradorDePuntos-backto-GeneradorDePuntosAleatorio" style="stroke:#000000;stroke-width:0.75;stroke-dasharray:5.25,5.25;"></path><polygon fill="none" points="482.3925,285.7425,492.3164,295.9414,496.4509,287.9473,482.3925,285.7425" style="stroke:#000000;stroke-width:0.75;"></polygon></g><!--reverse link IEstrategiaDeAtaque to EstrategiaAtaqueDemoledor--><g class="link" data-entity-1="IEstrategiaDeAtaque" data-entity-2="EstrategiaAtaqueDemoledor" data-uid="lnk9" id="link_IEstrategiaDeAtaque_EstrategiaAtaqueDemoledor"><path d="M204.585,281.1831 C169.815,299.4756 132.6825,318.9975 104.8125,333.66" fill="none" id="IEstrategiaDeAtaque-backto-EstrategiaAtaqueDemoledor" style="stroke:#000000;stroke-width:0.75;stroke-dasharray:5.25,5.25;"></path><polygon fill="none" points="216.5325,274.8975,202.4899,277.2006,206.6802,285.1655,216.5325,274.8975" style="stroke:#000000;stroke-width:0.75;"></polygon></g><!--reverse link IEstrategiaDeAtaque to EstrategiaAtaqueRapido--><g class="link" data-entity-1="IEstrategiaDeAtaque" data-entity-2="EstrategiaAtaqueRapido" data-uid="lnk11" id="link_IEstrategiaDeAtaque_EstrategiaAtaqueRapido"><path d="M256.5,288.51 C256.5,306.81 256.5,319.065 256.5,333.69" fill="none" id="IEstrategiaDeAtaque-backto-EstrategiaAtaqueRapido" style="stroke:#000000;stroke-width:0.75;stroke-dasharray:5.25,5.25;"></path><polygon fill="none" points="256.5,275.01,252,288.51,261,288.51,256.5,275.01" style="stroke:#000000;stroke-width:0.75;"></polygon></g><!--link Unidad to IGeneradorDePuntos--><g class="link" data-entity-1="Unidad" data-entity-2="IGeneradorDePuntos" data-source-line="43" data-uid="lnk13" id="link_Unidad_IGeneradorDePuntos"><path codeline="43" d="M379.5836,167.9813 C389.5211,188.3513 393.8323,197.1954 402.0373,214.0179" fill="none" id="Unidad-IGeneradorDePuntos" style="stroke:#000000;stroke-width:0.75;"></path><polygon fill="none" points="375.6375,159.8925,374.9143,165.2523,379.5836,167.9813,380.3068,162.6215,375.6375,159.8925" style="stroke:#000000;stroke-width:0.75;"></polygon><polygon fill="#000000" points="404.01,218.0625,403.7473,210.6805,402.3661,214.692,398.3546,213.3108,404.01,218.0625" style="stroke:#000000;stroke-width:0.75;"></polygon><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="54.2106" x="393" y="193.1213">«Tiene una»</text></g><!--link Unidad to IEstrategiaDeAtaque--><g class="link" data-entity-1="Unidad" data-entity-2="IEstrategiaDeAtaque" data-source-line="44" data-uid="lnk14" id="link_Unidad_IEstrategiaDeAtaque"><path codeline="44" d="M297.2846,167.9962 C284.6996,194.0437 277.4928,208.9407 268.7628,227.0082" fill="none" id="Unidad-IEstrategiaDeAtaque" style="stroke:#000000;stroke-width:0.75;"></path><polygon fill="none" points="301.2,159.8925,296.5411,162.6392,297.2846,167.9962,301.9436,165.2495,301.2,159.8925" style="stroke:#000000;stroke-width:0.75;"></polygon><polygon fill="#000000" points="266.805,231.06,272.4429,226.2875,268.4365,227.6835,267.0405,223.6771,266.805,231.06" style="stroke:#000000;stroke-width:0.75;"></polygon><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacing" textLength="54.2106" x="291" y="193.1213">«Tiene una»</text></g><!--SRC=[ZP91Rzf048Nl-olcIDJIzb9LGX4IX2RY5fMqkKKQx8apPRtZxguRaIZ_lOFN58ED52x6C- -ztVayOSEkGeybP1P3cCNeULr7McRYLln2yCM4_vAPz_9y9LOyp2rccqxhLb-neBa-2Y-rovFi_eaZhKhPK4TxjJjfBZudFnoM12THAoVF7Stwf1qzkg0jSj6O9yu9gApY5aegr-I3CI53g-Dy-lRL67QH_2Dc1CllGPsH2iO5pIB-gGbU3UXFNp8SrPEVZdFCBs02wZ9lNUyDEVAOYr_GRUsYXDRw-ORYTKt-1KTxtxxyYwnaky1UPwcvbWjo6HziRwRvBD0xwPf_2t1PMIfruZ1mbzVpvfabZEBvtGa7I0dHWagnfDAZW3xAyma_iE9Su1t-DY1zXXRm61uRl8aIN5vwqeixkvrEs_xVFUVp4ku07r8riW_jmQDAL10I8sMdXZwmZu1HjsQpIdDiTwB-K1TjyF2IDFNXBMbQWskIkcbZZsiFTwAtOLSqzT3ytK5jSSfuF1qOPA8axbYhK3jK54Vg_aIdydy0]--></g></svg></p><p></p>
<p>Si nos fijamos, definimos 2 objetos agregados en mi <strong><code>Unidad</code></strong> que se corresponderán con 2 <strong>generalizaciones</strong> de <strong>objetos que sabemos que implementan un determinado comportamiento</strong> (interfaz). Uno tiene la funcionalidad de inicializar los puntos de las propiedades y otro la de calcular los puntos de ataque (estos són los algoritmos que hemos dicho antes que se definen al instanciar el objeto, en esta caso unidad).</p>
<p><strong>Abastracción y concrecciones de la estrategia de obtención de puntuaciones:</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">IGeneradorDePuntos</span>
<span class="token punctuation">{</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Fuerza <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Velocidad <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Inteligencia <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">GeneradorDePuntosFijo</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IGeneradorDePuntos</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Fuerza <span class="token operator">=&gt;</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Velocidad <span class="token operator">=&gt;</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Inteligencia <span class="token operator">=&gt;</span> <span class="token number">6</span><span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">GeneradorDePuntosAleatorio</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IGeneradorDePuntos</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> PuntosAlestorios <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Fuerza <span class="token operator">=&gt;</span> PuntosAlestorios<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Velocidad <span class="token operator">=&gt;</span> PuntosAlestorios<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Inteligencia <span class="token operator">=&gt;</span> PuntosAlestorios<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>Abastracción y concrecciones de la estrategia de ataque:</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">IEstrategiaDeAtaque</span> 
<span class="token punctuation">{</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">Ataca</span><span class="token punctuation">(</span><span class="token class-name">Unidad</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">EstrategiaAtaqueDemoledor</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IEstrategiaDeAtaque</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">Ataca</span><span class="token punctuation">(</span><span class="token class-name">Unidad</span> u<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> u<span class="token punctuation">.</span>Fuerza <span class="token operator">*</span> <span class="token punctuation">(</span>u<span class="token punctuation">.</span>Velocidad <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">EstrategiaAtaqueRapido</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IEstrategiaDeAtaque</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">Ataca</span><span class="token punctuation">(</span><span class="token class-name">Unidad</span> u<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> u<span class="token punctuation">.</span>Velocidad <span class="token operator">+</span> u<span class="token punctuation">.</span>Inteligencia<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Unidad</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Fuerza <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Velocidad <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Inteligencia <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">IGeneradorDePuntos</span> GeneradorDePuntos <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">IEstrategiaDeAtaque</span> EstrategiaDeAtaque <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token comment">// La clase siempre expondrá sus dependecias de abtracciones </span>
    <span class="token comment">// colaboradoras a través del constructor.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Unidad</span><span class="token punctuation">(</span>
        <span class="token class-name">IGeneradorDePuntos</span> generadorDePuntos<span class="token punctuation">,</span>
        <span class="token class-name">IEstrategiaDeAtaque</span> estrategiaDeAtaque<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        GeneradorDePuntos <span class="token operator">=</span> generadorDePuntos<span class="token punctuation">;</span>
        EstrategiaDeAtaque <span class="token operator">=</span> estrategiaDeAtaque<span class="token punctuation">;</span>
        Fuerza <span class="token operator">=</span> GeneradorDePuntos<span class="token punctuation">.</span>Fuerza<span class="token punctuation">;</span>
        Velocidad <span class="token operator">=</span> GeneradorDePuntos<span class="token punctuation">.</span>Velocidad<span class="token punctuation">;</span>
        Inteligencia <span class="token operator">=</span> GeneradorDePuntos<span class="token punctuation">.</span>Inteligencia<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">Ataca</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> EstrategiaDeAtaque<span class="token punctuation">.</span><span class="token function">Ataca</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"Unidad con </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">GeneradorDePuntos<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name</span><span class="token punctuation">}</span></span><span class="token string"> y </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">EstrategiaDeAtaque<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name</span><span class="token punctuation">}</span></span><span class="token string"> "</span></span> <span class="token operator">+</span>
       <span class="token interpolation-string"><span class="token string">$"F=</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Fuerza</span><span class="token punctuation">}</span></span><span class="token string"> V=</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Velocidad</span><span class="token punctuation">}</span></span><span class="token string"> I=</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Inteligencia</span><span class="token punctuation">}</span></span><span class="token string"> A=</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">Ataca</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Fíjate que ahora instanciamos nuestra unidades de ataque con las <strong>concreciones</strong> que implementan los interfaces esperados por la clase <strong><code>Unidad</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Unidad</span> uAleatoriaDeAtaqueRapido <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span>
                <span class="token named-parameter punctuation">generadorDePuntos</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">GeneradorDePuntosAleatorio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token named-parameter punctuation">estrategiaDeAtaque</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">EstrategiaAtaqueRapido</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Unidad</span> uFijaDeAtaqueDemoledor <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span>
                <span class="token named-parameter punctuation">generadorDePuntos</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">GeneradorDePuntosFijo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token named-parameter punctuation">estrategiaDeAtaque</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">EstrategiaAtaqueDemoledor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>uAleatoriaDeAtaqueRapido<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>uFijaDeAtaqueDemoledor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>Mostrará por consola:</strong></p>
<pre class="salida_consola">Unidad con GeneradorDePuntosAleatorio y EstrategiaAtaqueRapido F=2 V=4 I=4 A=8
Unidad con GeneradorDePuntosFijo y EstrategiaAtaqueDemoledor F=6 V=6 I=6 A=18
</pre>
<div class="admonition tip">
<p class="admonition-title">Idea principal 💡</p>
<p>Lo más importante de este patrón es que <strong>podemos definir nuevas estrategias</strong> de generación de puntos o de ataque sin necesidad de modificar la clase <strong><code>Unidad</code></strong> y por tanto, <strong>sin necesidad de recompilarla</strong>. Simplemente, creamos nuevas concreciones que implementen los interfaces definidos.</p>
</div>
<p>Puedes descargar el código de este ejemplo del siguiente enlace: <strong><a href="./assets/codigo/interfaces_satrategy_unidades_ejemplo.cs.cs">interfaces_satrategy_unidades.cs</a></strong>.</p>
<div style="page-break-after:always;"></div>
<div class="box_bg_lightgray">
<p>🎓 <strong>Caso de estudio:</strong></p>
<p>Vamos a aplicar alguno de los conceptos vistos en esta unidad para modelar una clase <strong><code>Coche</code></strong> que tendrá un <strong><code>Motor</code></strong> y unos <strong><code>Neumáticos</code></strong>. El motor podrá ser de gasolina o eléctrico y los neumáticos normales o deportivos. Además, el coche podrá acelerar y la forma de hacerlo dependerá del tipo de motor que tenga.</p>
<p>Para ello, vamoa a abdtraer el comportamiento de acelerar en un interfaz y haremos que el <strong><code>Motor</code></strong> y el <strong><code>Coche</code></strong> lo implemente. Además, haremos que el <strong><code>Coche</code></strong> implemente un patrón <strong>Strategy</strong> para definir el tipo de motor y neumáticos que tendrá en tiempo de ejecución a través de abstracciones que expondremos en el constructor.</p>
<p>Una posible modelización UML del caso de estudio podría ser la siguiente:</p>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="515.7px" preserveAspectRatio="none" style="width:614px;height:515px;" version="1.1" viewBox="0 0 614 515" width="614.7px" zoomAndPan="magnify"><defs></defs><g><!--class IAcelerable--><g class="entity" data-entity="IAcelerable" data-source-line="15" data-uid="ent0002" id="entity_IAcelerable"><rect fill="#FFFAFA" height="61.4813" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="95.5301" x="159.75" y="6.3"></rect><ellipse cx="174.9119" cy="25.5164" fill="#B4A7E5" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M175.7697,22.493 L175.7697,28.4836 L177.3166,28.4836 Q177.865,28.4836 178.1041,28.6945 Q178.3432,28.9055 178.3432,29.257 Q178.3432,29.5945 178.1041,29.8055 Q177.865,30.0164 177.3166,30.0164 L172.69,30.0164 Q172.1416,30.0164 171.9025,29.8055 Q171.6635,29.5945 171.6635,29.243 Q171.6635,28.9055 171.9025,28.6945 Q172.1416,28.4836 172.69,28.4836 L174.2369,28.4836 L174.2369,22.493 L172.69,22.493 Q172.1416,22.493 171.9025,22.282 Q171.6635,22.0711 171.6635,21.7195 Q171.6635,21.382 171.9025,21.1711 Q172.1416,20.9602 172.69,20.9602 L177.3166,20.9602 Q177.865,20.9602 178.1041,21.1711 Q178.3432,21.382 178.3432,21.7195 Q178.3432,22.0711 178.1041,22.282 Q177.865,22.493 177.3166,22.493 L175.7697,22.493 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="53.4357" x="192.6818" y="22.0113">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="63.0369" x="187.8812" y="37.4643">IAcelerable</text><line style="stroke:#000000;stroke-width:0.45;" x1="160.65" x2="254.3801" y1="44.7328" y2="44.7328"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="84.7301" x="165.15" y="61.4127">Acelera() : void</text></g><!--class MT--><g class="entity" data-entity="MT" data-source-line="21" data-uid="ent0003" id="entity_MT"><rect fill="#FFFAFA" height="134.3391" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="179.5772" x="99.45" y="280.35"></rect><ellipse cx="158.7955" cy="300.6984" fill="#A9DCDF" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M160.7643,302.2875 L157.0377,302.2875 L156.658,303.2156 L157.0377,303.2156 Q157.5861,303.2156 157.8252,303.4266 Q158.0643,303.6375 158.0643,303.9891 Q158.0643,304.3266 157.8252,304.5375 Q157.5861,304.7484 157.0377,304.7484 L154.9705,304.7484 Q154.4221,304.7484 154.1971,304.5375 Q153.958,304.3266 153.958,303.975 Q153.958,303.6375 154.2111,303.4266 Q154.4502,303.2016 155.0127,303.2156 L157.4174,297.225 L156.4189,297.225 Q155.8705,297.225 155.6314,297.0141 Q155.3924,296.8031 155.3924,296.4516 Q155.3924,296.1141 155.6314,295.9031 Q155.8705,295.6922 156.4189,295.6922 L159.7236,295.6922 L162.7752,303.2156 Q163.3096,303.2156 163.4783,303.3422 Q163.8299,303.5813 163.8299,303.9891 Q163.8299,304.3266 163.5908,304.5375 Q163.3658,304.7484 162.8174,304.7484 L160.7502,304.7484 Q160.2018,304.7484 159.9627,304.5375 Q159.7236,304.3266 159.7236,303.975 Q159.7236,303.6375 159.9627,303.4266 Q160.2018,303.2156 160.7502,303.2156 L161.1299,303.2156 L160.7643,302.2875 Z M160.1174,300.7547 L158.8939,297.7172 L157.6564,300.7547 L160.1174,300.7547 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="32.2075" x="187.7599" y="297.9299">Motor</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="53.2362" x="177.2455" y="313.7783">{abstract}</text><line style="stroke:#000000;stroke-width:0.45;" x1="100.35" x2="278.1272" y1="321.0469" y2="321.0469"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="166.6978" x="104.85" y="337.7268">-revoluciones : Int { readonly }</text><line style="stroke:#000000;stroke-width:0.45;" x1="100.35" x2="278.1272" y1="344.0953" y2="344.0953"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="136.2129" x="104.85" y="360.7752">+GetRevoluciones() : Int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="168.7772" x="104.85" y="376.6236">#SetRevoluciones(r: Int) : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="128.8424" x="104.85" y="392.4721">#Figura(in color: Color)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="148.8252" x="104.85" y="408.3205">+Acelera() : void {abstract}</text></g><!--class MotorGasolina--><g class="entity" data-entity="MotorGasolina" data-source-line="31" data-uid="ent0004" id="entity_MotorGasolina"><rect fill="#FFFAFA" height="28.8" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="110.7369" x="6.3" y="477.45"></rect><ellipse cx="19.8" cy="491.85" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M22.2891,488.1375 Q22.4297,487.9406 22.5984,487.8422 Q22.7672,487.7438 22.9641,487.7438 Q23.3016,487.7438 23.5125,487.9828 Q23.7234,488.2078 23.7234,488.7563 L23.7234,490.0641 Q23.7234,490.6125 23.5125,490.8516 Q23.3016,491.0906 22.9641,491.0906 Q22.6547,491.0906 22.4719,490.9078 Q22.2891,490.7391 22.1906,490.275 Q22.1484,489.9516 21.9797,489.7828 Q21.6844,489.4453 21.1359,489.2484 Q20.5875,489.0516 20.025,489.0516 Q19.3359,489.0516 18.7594,489.3469 Q18.1969,489.6422 17.7469,490.3172 Q17.3109,490.9922 17.3109,491.9203 L17.3109,492.9047 Q17.3109,494.0156 18.1125,494.7609 Q18.9141,495.4922 20.3484,495.4922 Q21.1922,495.4922 21.7828,495.2672 Q22.1344,495.1266 22.5141,494.7328 Q22.7531,494.4938 22.8797,494.4234 Q23.0203,494.3531 23.2031,494.3531 Q23.4984,494.3531 23.7234,494.5922 Q23.9625,494.8172 23.9625,495.1266 Q23.9625,495.4359 23.6531,495.8016 Q23.2031,496.3219 22.4859,496.6172 Q21.5156,497.025 20.3484,497.025 Q18.9844,497.025 17.9016,496.4625 Q17.0156,496.0125 16.3969,495.0563 Q15.7781,494.0859 15.7781,492.9328 L15.7781,491.8922 Q15.7781,490.6969 16.3266,489.6703 Q16.8891,488.6297 17.8734,488.0813 Q18.8578,487.5188 19.9688,487.5188 Q20.6297,487.5188 21.2063,487.6734 Q21.7969,487.8141 22.2891,488.1375 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="81.9369" x="32.4" y="497.0057">MotorGasolina</text></g><!--class MotorElectrico--><g class="entity" data-entity="MotorElectrico" data-source-line="33" data-uid="ent0006" id="entity_MotorElectrico"><rect fill="#FFFAFA" height="28.8" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="109.3219" x="148.5" y="477.45"></rect><ellipse cx="162" cy="491.85" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M164.4891,488.1375 Q164.6297,487.9406 164.7984,487.8422 Q164.9672,487.7438 165.1641,487.7438 Q165.5016,487.7438 165.7125,487.9828 Q165.9234,488.2078 165.9234,488.7563 L165.9234,490.0641 Q165.9234,490.6125 165.7125,490.8516 Q165.5016,491.0906 165.1641,491.0906 Q164.8547,491.0906 164.6719,490.9078 Q164.4891,490.7391 164.3906,490.275 Q164.3484,489.9516 164.1797,489.7828 Q163.8844,489.4453 163.3359,489.2484 Q162.7875,489.0516 162.225,489.0516 Q161.5359,489.0516 160.9594,489.3469 Q160.3969,489.6422 159.9469,490.3172 Q159.5109,490.9922 159.5109,491.9203 L159.5109,492.9047 Q159.5109,494.0156 160.3125,494.7609 Q161.1141,495.4922 162.5484,495.4922 Q163.3922,495.4922 163.9828,495.2672 Q164.3344,495.1266 164.7141,494.7328 Q164.9531,494.4938 165.0797,494.4234 Q165.2203,494.3531 165.4031,494.3531 Q165.6984,494.3531 165.9234,494.5922 Q166.1625,494.8172 166.1625,495.1266 Q166.1625,495.4359 165.8531,495.8016 Q165.4031,496.3219 164.6859,496.6172 Q163.7156,497.025 162.5484,497.025 Q161.1844,497.025 160.1016,496.4625 Q159.2156,496.0125 158.5969,495.0563 Q157.9781,494.0859 157.9781,492.9328 L157.9781,491.8922 Q157.9781,490.6969 158.5266,489.6703 Q159.0891,488.6297 160.0734,488.0813 Q161.0578,487.5188 162.1688,487.5188 Q162.8297,487.5188 163.4063,487.6734 Q163.9969,487.8141 164.4891,488.1375 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="80.5219" x="174.6" y="497.0057">MotorElectrico</text></g><!--class INeumaticos--><g class="entity" data-entity="INeumaticos" data-source-line="36" data-uid="ent0008" id="entity_INeumaticos"><rect fill="#FFFAFA" height="140.7234" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="173.2772" x="311.4" y="277.2"></rect><ellipse cx="359.2006" cy="296.4164" fill="#B4A7E5" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M360.0584,293.393 L360.0584,299.3836 L361.6053,299.3836 Q362.1538,299.3836 362.3928,299.5945 Q362.6319,299.8055 362.6319,300.157 Q362.6319,300.4945 362.3928,300.7055 Q362.1538,300.9164 361.6053,300.9164 L356.9788,300.9164 Q356.4303,300.9164 356.1913,300.7055 Q355.9522,300.4945 355.9522,300.143 Q355.9522,299.8055 356.1913,299.5945 Q356.4303,299.3836 356.9788,299.3836 L358.5256,299.3836 L358.5256,293.393 L356.9788,293.393 Q356.4303,293.393 356.1913,293.182 Q355.9522,292.9711 355.9522,292.6195 Q355.9522,292.282 356.1913,292.0711 Q356.4303,291.8602 356.9788,291.8602 L361.6053,291.8602 Q362.1538,291.8602 362.3928,292.0711 Q362.6319,292.282 362.6319,292.6195 Q362.6319,292.9711 362.3928,293.182 Q362.1538,293.393 361.6053,293.393 L360.0584,293.393 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="53.4357" x="385.9458" y="292.9113">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="70.026" x="377.6506" y="308.3643">INeumaticos</text><line style="stroke:#000000;stroke-width:0.45;" x1="312.3" x2="483.7772" y1="315.6328" y2="315.6328"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="162.4772" x="316.8" y="332.3127">/GetIndiceVelocidad() : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="123.9513" x="316.8" y="348.1611">/GetIndiceCarga() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="88.9321" x="316.8" y="364.0096">/GetRadio() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="84.7178" x="316.8" y="379.858">/GetPerfil() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="91.7376" x="316.8" y="395.7064">/GetAncho() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="139.3383" x="316.8" y="411.5549">/GetDescripcion() : string</text></g><!--class NeumaticosNormal--><g class="entity" data-entity="NeumaticosNormal" data-source-line="46" data-uid="ent0009" id="entity_NeumaticosNormal"><rect fill="#FFFAFA" height="38.4328" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="135.9308" x="315.9" y="472.5"></rect><ellipse cx="329.4" cy="491.7164" fill="#FF7700" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M329.9344,494.6555 L332.1563,489.368 L331.8047,489.368 Q331.2563,489.368 331.0172,489.157 Q330.7781,488.9461 330.7781,488.5945 Q330.7781,488.257 331.0172,488.0461 Q331.2563,487.8352 331.8047,487.8352 L333.8578,487.8352 Q334.4063,487.8352 334.6453,488.0461 Q334.8844,488.257 334.8844,488.5945 Q334.8844,489.0164 334.5188,489.2555 Q334.35,489.368 333.8156,489.368 L330.6797,496.8914 L329.2031,496.8914 L326.0672,489.368 Q325.5328,489.368 325.3641,489.2555 Q324.9984,489.0164 324.9984,488.5945 Q324.9984,488.257 325.2375,488.0461 Q325.4766,487.8352 326.025,487.8352 L328.0922,487.8352 Q328.6406,487.8352 328.8656,488.0461 Q329.1047,488.257 329.1047,488.5945 Q329.1047,488.9461 328.8656,489.157 Q328.6406,489.368 328.0922,489.368 L327.7266,489.368 L329.9344,494.6555 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="69.0451" x="361.0428" y="488.2113">«valueObject»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="107.1308" x="342" y="503.6643">NeumaticosNormal</text></g><!--class NeumaticosSport--><g class="entity" data-entity="NeumaticosSport" data-source-line="48" data-uid="ent0011" id="entity_NeumaticosSport"><rect fill="#FFFAFA" height="38.4328" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="125.441" x="483.3" y="472.5"></rect><ellipse cx="496.8" cy="491.7164" fill="#FF7700" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M497.3344,494.6555 L499.5563,489.368 L499.2047,489.368 Q498.6563,489.368 498.4172,489.157 Q498.1781,488.9461 498.1781,488.5945 Q498.1781,488.257 498.4172,488.0461 Q498.6563,487.8352 499.2047,487.8352 L501.2578,487.8352 Q501.8063,487.8352 502.0453,488.0461 Q502.2844,488.257 502.2844,488.5945 Q502.2844,489.0164 501.9188,489.2555 Q501.75,489.368 501.2156,489.368 L498.0797,496.8914 L496.6031,496.8914 L493.4672,489.368 Q492.9328,489.368 492.7641,489.2555 Q492.3984,489.0164 492.3984,488.5945 Q492.3984,488.257 492.6375,488.0461 Q492.8766,487.8352 493.425,487.8352 L495.4922,487.8352 Q496.0406,487.8352 496.2656,488.0461 Q496.5047,488.257 496.5047,488.5945 Q496.5047,488.9461 496.2656,489.157 Q496.0406,489.368 495.4922,489.368 L495.1266,489.368 L497.3344,494.6555 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="69.0451" x="523.1979" y="488.2113">«valueObject»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="96.641" x="509.4" y="503.6643">NeumaticosSport</text></g><!--class Coche--><g class="entity" data-entity="Coche" data-source-line="51" data-uid="ent0013" id="entity_Coche"><rect fill="#FFFAFA" height="84.5297" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="284.2532" x="237.15" y="122.4"></rect><ellipse cx="357.2407" cy="141.6164" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M359.7297,137.9039 Q359.8704,137.707 360.0391,137.6086 Q360.2079,137.5102 360.4047,137.5102 Q360.7422,137.5102 360.9532,137.7492 Q361.1641,137.9742 361.1641,138.5227 L361.1641,139.8305 Q361.1641,140.3789 360.9532,140.618 Q360.7422,140.857 360.4047,140.857 Q360.0954,140.857 359.9125,140.6742 Q359.7297,140.5055 359.6313,140.0414 Q359.5891,139.718 359.4204,139.5492 Q359.125,139.2117 358.5766,139.0148 Q358.0282,138.818 357.4657,138.818 Q356.7766,138.818 356.2,139.1133 Q355.6375,139.4086 355.1875,140.0836 Q354.7516,140.7586 354.7516,141.6867 L354.7516,142.6711 Q354.7516,143.782 355.5532,144.5273 Q356.3547,145.2586 357.7891,145.2586 Q358.6329,145.2586 359.2235,145.0336 Q359.575,144.893 359.9547,144.4992 Q360.1938,144.2602 360.3204,144.1898 Q360.461,144.1195 360.6438,144.1195 Q360.9391,144.1195 361.1641,144.3586 Q361.4032,144.5836 361.4032,144.893 Q361.4032,145.2023 361.0938,145.568 Q360.6438,146.0883 359.9266,146.3836 Q358.9563,146.7914 357.7891,146.7914 Q356.425,146.7914 355.3422,146.2289 Q354.4563,145.7789 353.8375,144.8227 Q353.2188,143.8523 353.2188,142.6992 L353.2188,141.6586 Q353.2188,140.4633 353.7672,139.4367 Q354.3297,138.3961 355.3141,137.8477 Q356.2985,137.2852 357.4094,137.2852 Q358.0704,137.2852 358.6469,137.4398 Q359.2375,137.5805 359.7297,137.9039 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="37.8264" x="374.9884" y="138.1113">«entity»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="36.4219" x="375.6907" y="153.5643">Coche</text><line style="stroke:#000000;stroke-width:0.45;" x1="238.05" x2="520.5032" y1="160.8328" y2="160.8328"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="84.041" x="242.55" y="177.5127">-id : string { id }</text><line style="stroke:#000000;stroke-width:0.45;" x1="238.05" x2="520.5032" y1="183.8813" y2="183.8813"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="273.4532" x="242.55" y="200.5611">+Coche(in id : int, in m: Motor, in n: INeumaticos)</text></g><!--reverse link MT to MotorGasolina--><g class="link" data-entity-1="MT" data-entity-2="MotorGasolina" data-uid="lnk5" id="link_MT_MotorGasolina"><path d="M119.2326,426.6793 C97.9836,450.4033 86.877,462.798 73.755,477.441" fill="none" id="MT-backto-MotorGasolina" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="130.041,414.612,115.2102,423.0765,123.2551,430.2821,130.041,414.612" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link MT to MotorElectrico--><g class="link" data-entity-1="MT" data-entity-2="MotorElectrico" data-uid="lnk7" id="link_MT_MotorElectrico"><path d="M197.2526,430.7396 C199.5026,454.4636 200.286,462.798 201.672,477.441" fill="none" id="MT-backto-MotorElectrico" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="195.723,414.612,191.8767,431.2495,202.6284,430.2298,195.723,414.612" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link INeumaticos to NeumaticosNormal--><g class="link" data-entity-1="INeumaticos" data-entity-2="NeumaticosNormal" data-uid="lnk10" id="link_INeumaticos_NeumaticosNormal"><path d="M389.589,434.0686 C387.555,454.1566 387.144,458.298 385.722,472.365" fill="none" id="INeumaticos-backto-NeumaticosNormal" style="stroke:#000000;stroke-width:0.9;stroke-dasharray:6.3,6.3;"></path><polygon fill="none" points="391.221,417.951,384.2165,433.5246,394.9616,434.6126,391.221,417.951" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link INeumaticos to NeumaticosSport--><g class="link" data-entity-1="INeumaticos" data-entity-2="NeumaticosSport" data-uid="lnk12" id="link_INeumaticos_NeumaticosSport"><path d="M481.9697,429.2103 C502.7507,449.2983 512.073,458.298 526.617,472.365" fill="none" id="INeumaticos-backto-NeumaticosSport" style="stroke:#000000;stroke-width:0.9;stroke-dasharray:6.3,6.3;"></path><polygon fill="none" points="470.322,417.951,478.2166,433.0928,485.7228,425.3277,470.322,417.951" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--link Coche to MT--><g class="link" data-entity-1="Coche" data-entity-2="MT" data-source-line="57" data-uid="lnk14" id="link_Coche_MT"><path codeline="57" d="M327.9633,214.5504 C305.3013,236.1504 288.769,251.8845 263.146,276.2925" fill="none" id="Coche-MT" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="335.781,207.099,329.3883,208.2188,327.9633,214.5504,334.3559,213.4306,335.781,207.099" style="stroke:#000000;stroke-width:0.9;"></polygon><polygon fill="#000000" points="259.236,280.017,267.584,277.0368,262.4943,276.9132,262.6179,271.8235,259.236,280.017" style="stroke:#000000;stroke-width:0.9;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="58.5457" x="308.25" y="247.0456">«Tiene un»</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="259.3173" y="270.6576">1</text></g><!--link Coche to INeumaticos--><g class="link" data-entity-1="Coche" data-entity-2="INeumaticos" data-source-line="58" data-uid="lnk15" id="link_Coche_INeumaticos"><path codeline="58" d="M384.8101,217.8405 C386.9791,238.6035 387.9788,248.1681 390.4448,271.8111" fill="none" id="Coche-INeumaticos" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="383.688,207.099,380.6685,212.8438,384.8101,217.8405,387.8296,212.0957,383.688,207.099" style="stroke:#000000;stroke-width:0.9;"></polygon><polygon fill="#000000" points="391.005,277.182,393.7453,268.7522,390.5382,272.7063,386.5841,269.4992,391.005,277.182" style="stroke:#000000;stroke-width:0.9;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="113.1952" x="388.35" y="247.0456">«Tiene uno juego de»</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="383.7442" y="267.5484">1</text></g><!--reverse link IAcelerable to Coche--><g class="link" data-entity-1="IAcelerable" data-entity-2="Coche" data-source-line="59" data-uid="lnk16" id="link_IAcelerable_Coche"><path codeline="59" d="M261.2505,77.2384 C283.4895,93.5374 298.314,104.4 322.65,122.238" fill="none" id="IAcelerable-backto-Coche" style="stroke:#000000;stroke-width:0.9;stroke-dasharray:6.3,6.3;"></path><polygon fill="none" points="248.184,67.662,258.0583,81.5939,264.4426,72.8829,248.184,67.662" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link IAcelerable to MT--><g class="link" data-entity-1="IAcelerable" data-entity-2="MT" data-source-line="60" data-uid="lnk17" id="link_IAcelerable_MT"><path codeline="60" d="M204.7614,83.8526 C201.9174,132.6506 197.154,214.425 193.311,280.242" fill="none" id="IAcelerable-backto-MT" style="stroke:#000000;stroke-width:0.9;stroke-dasharray:6.3,6.3;"></path><polygon fill="none" points="205.704,67.68,199.3706,83.5384,210.1523,84.1667,205.704,67.68" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--SRC=[dLJ1Rjf04BtlLqn1ge8IA6bLHIKHag4bua0QOPHUUbcl9sR3UXUjrwIKyk-TjGsu9gVwW3NptixCUplcNOpFKYC4et0n3yOBUD- -_lZfbaUPirmu7ts-PInRIRtcbgSW5C-om3ahezpXL1WTojy8_HebiDQyZeqo5aQAYrKDUgIG9pYYLs9DhkEIzcCf7OQfMM6DE_QTHiR6QDykLX8QfK9jNckSg06JAfqHXDenjfGn0gPhjuKKqmXjHae5LoIdzuKngHtQPouGfe50XPP71DtT7VF38TineAU2BpemW8sHCTipnWuUbfR1R04yWzRCE6D_wjq1tRUg6bsB6wDo8Ot6ZEfCjOCTMEInqMeBLD6pBk_HpMl4eYLH2x0TDa1ROCUf2iv49ZcDAZK8xyW02cCw7Yi8fydWigdhk2PUO2NBwxddcL5ISy1V3dNinUw8KcDyKoXePuHfKEecFs2USaUSx4sJFv3qgOwbm2TKHiYOnyLWDAtKIOCovZOfvvQLEHwRyrYQi-mZDPBgB1reiJmdVyLCMBds1jUx7_quYNWmDkMAf5myNRKdavkRVhy36wvo_1wza1l38SXqhJ2bNSpgwa_MdNBXsbZtdxMgOcCZbdvzYIBTbavKUmTqhmSTj74KxSjLAq_uJIaOvC8L_K0wAA-q2FIWtgt3VBkoaUbsXz2wRj553wZhGYBzpUIQhhE1ryxNYGPUSamCn7u3_la0__HwvMZdwTc2_GK0]--></g></svg></p><p></p>
<p><strong>¿Sabrías implementarlo en C#?</strong>. Si no es así, puedes seguir la explicación a continuación y descargar el código de este caso de estudio del siguiente enlace: <strong><a href="./assets/codigo/interfaces_strategy_coche_ejemplo.cs">interfaces_strategy_coche.cs</a></strong>.</p>
<div style="page-break-after:always;"></div>
<p>Definimos el interfaz <strong><code>IAcelerable</code></strong> que define el comportamiento de acelerar:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">IAcelerable</span>
<span class="token punctuation">{</span>
    <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Definimos la abstracción del <strong><code>Motor</code></strong> como una clase abstracta que implementa el interfaz <strong><code>IAcelerable</code></strong>. La hemos hecho ambstracta pues tiene un campos común que define un estado común a todas las especificaciones (<strong>las revoluciones</strong>).</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Motor</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IAcelerable</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Inicializando la propiedad evito definir un constructor.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-protected">protected</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// Hasta que no concretemos un tipo de motor</span>
    <span class="token comment">// no sabremos cómo se acelera.</span>
    <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">MotorGasolina</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Motor</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Comportamiento inventado de acelerar en un motorg gasolina.</span>
    <span class="token comment">// Cambia las revoluciones en +2</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"inyectando gasolina para explosión"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">MotorElectrico</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Motor</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Comportamiento inventado de acelerar en un motorg gasolina.</span>
    <span class="token comment">// Cambia las revoluciones en +2</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"aumentando potencia eléctrica"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p>Definimos las propiedades que debería tener un neumático a través del interfaz <strong><code>INeumaticos</code></strong> y dos concreciones que lo implementan coma <strong><code>value objects</code></strong> por referencia.</p>
<div class="admonition tip">
<p class="admonition-title">Importante</p>
<p>Fíjate que hemos definido una <strong>propiedad calculada</strong> llamada <strong><code>Descripcion</code></strong> que nos devuelve una cadena con la descripción completa del neumático. Es decir, <strong>es un método con cuerpo</strong>.</p>
<p>En muchos lenguajes de programación orientada a objetos, como es el caso de <strong><code>C#</code></strong>, <strong>las interfaces pueden definir métodos con cuerpo</strong>. Esto es una característica que no está en todos los lenguajes OO y que puede ser muy útil para evitar repetir código en las concreciones del interfaz. <strong>Vendría a ser una implementación por defecto, que podría ser sobreescrita en las concreciones si fuera necesario</strong>.</p>
<p><strong>Al tener una cuerpo de defecto, no es obligatorio que las concreciones lo implementen</strong>. De esta manera, como hemos comentado, evitamos repetir código en las concreciones.</p>
</div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">INeumaticos</span>
<span class="token punctuation">{</span>
    <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> IndiceVelocidad <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> IndiceCarga <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Radio <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Perfil <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Descripcion <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Ancho</span><span class="token punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Perfil</span><span class="token punctuation">}</span></span><span class="token string"> R</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Radio</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">IndiceCarga</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">IndiceVelocidad</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-record">record</span> <span class="token class-name"><span class="token keyword keyword-class">class</span></span> NeumaticosNormal <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">INeumaticos</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> IndiceVelocidad <span class="token operator">=&gt;</span> <span class="token string">"H"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> IndiceCarga <span class="token operator">=&gt;</span> <span class="token number">88</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Radio <span class="token operator">=&gt;</span> <span class="token number">16</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Perfil <span class="token operator">=&gt;</span> <span class="token number">55</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token operator">=&gt;</span> <span class="token number">205</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-record">record</span> <span class="token class-name"><span class="token keyword keyword-class">class</span></span> NeumaticosSport <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">INeumaticos</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> IndiceVelocidad <span class="token operator">=&gt;</span> <span class="token string">"Y"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> IndiceCarga <span class="token operator">=&gt;</span> <span class="token number">92</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Radio <span class="token operator">=&gt;</span> <span class="token number">18</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Perfil <span class="token operator">=&gt;</span> <span class="token number">40</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token operator">=&gt;</span> <span class="token number">225</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>La implementación de la clase <strong><code>Coche</code></strong> siguiendo el patrón <strong>Strategy</strong> y el diagrama UML anterior podría ser ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Coche</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IAcelerable</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Id <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Motor</span> Motor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">INeumaticos</span> Neumaticos <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Coche</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> id<span class="token punctuation">,</span> <span class="token class-name">Motor</span> motor<span class="token punctuation">,</span> <span class="token class-name">INeumaticos</span> neumaticos<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Id <span class="token operator">=</span> id<span class="token punctuation">;</span>
        Motor <span class="token operator">=</span> motor<span class="token punctuation">;</span>
        Neumaticos <span class="token operator">=</span> neumaticos<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Coche </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Id</span><span class="token punctuation">}</span></span><span class="token string"> "</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Motor<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$" a </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Motor<span class="token punctuation">.</span>Revoluciones</span><span class="token punctuation">}</span></span><span class="token string"> r.p.m."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        <span class="token interpolation-string"><span class="token string">$"Coche </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Id</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Motor<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name</span><span class="token punctuation">}</span></span><span class="token string"> y neumaticos </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Neumaticos<span class="token punctuation">.</span>Descripcion</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Podemos definir un sencillo programa principal de test ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Coche</span> c1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"C1"</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">motor</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">neumaticos</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NeumaticosNormal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        c1<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c1<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Coche</span> c2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"C2"</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">motor</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorElectrico</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">neumaticos</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NeumaticosSport</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        c2<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c2<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p><strong>Mostrará por consola:</strong></p>
<pre class="salida_consola">Coche C1 MotorGasolina y neumaticos 205/55 R16 88H
Coche C1 inyectando gasolina para explosión a 2 r.p.m.
Coche C1 inyectando gasolina para explosión a 4 r.p.m.

Coche C2 MotorElectrico y neumaticos 225/40 R18 92Y
Coche C2 aumentando potencia eléctrica a 6 r.p.m.
Coche C2 aumentando potencia eléctrica a 12 r.p.m.
</pre>
</div>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>