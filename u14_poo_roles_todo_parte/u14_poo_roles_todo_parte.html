<!DOCTYPE html><html><head>
      <title>Programación 1º DAM Unidad 14</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css">
      
      
      
      
      
      <style>
      @import url(https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css);
code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}@font-face{font-family:"Material Icons";font-style:normal;font-weight:400;src:local("Material Icons"),local("MaterialIcons-Regular"),url("data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAfIAAsAAAAADDAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFZW7kosY21hcAAAAYAAAADTAAACjtP6ytBnbHlmAAACVAAAAxgAAAQ4zRtvlGhlYWQAAAVsAAAALwAAADYRwZsnaGhlYQAABZwAAAAcAAAAJAeKAzxobXR4AAAFuAAAABIAAAA8OGQAAGxvY2EAAAXMAAAAIAAAACAG5AfwbWF4cAAABewAAAAfAAAAIAEfAERuYW1lAAAGDAAAAVcAAAKFkAhoC3Bvc3QAAAdkAAAAYgAAAK2vz7wkeJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2BkPsQ4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDgwVLy4xKzzX4chhrmK4QpQmBEkBwAZygyweJzFkr0NwjAQhZ+TEP6CRUfHBEwRUWaQTICyQbpMwRCskA5RUIONxG0RnnNpKAIV4qzPku/8c353ACYAYrIjCWCuMAh2ptf0/hiL3p/gyPUWa3osqlt0L1zu9r71z8dGrJRykFoauXQd932Lj5vhG+MjxGeYI8MKETObMpslf5EyP8tg+vHun5r539PvlvXzaVhRFVQDTPEWKVQR90KhnnC5Ek67vUKN4VuFasM/ldARj43CCkCsEjpJSoVVgRyU0GVSK6wUpFFCx8lFgX0BiXpRPQB4nE2TTWjcRhTH3xttpDhxN7uxPlp3u/FK7moRPixafRijNosxSw/LUsIwNcaEHPZggo/FmEKMCKWU4kNOOftQSlhE8alnH0Ix9BqWnHooPRrTQ0+mnu2bXTu2pPdGM9LM/6c3fwECTM4gBBMYQNqxzLrZAjqYSlqu2TAHZQA0/DQJH6FtzqGDnvbt4Ggwvzw/nL8EfH8kW0fsuRqhgWXZnY7M1picaUL7Du5BHeDzMIl83dAt016wH1qmvtSMo5R6YRJHTR//FXsff/nj/tc/5K9P5d+nP22+fFK5u7v3K39SW3y+OtDKO3L85vD09PD9z5X17a2N1g4tqk01RlqX7gyoEmnsWQtVr4rtZMmukEaFBZxzefkCn11cyKMLZgshRwgTYNoLNXCBz2ja7HvZG7hDpPSNfoo5vs0knK/9hb+rNpu+8kHPgk/Ao4kK3tWtTpSEtvkA9c+wE6UaUdwieNkaHg55tBEtRiEPw1s0+FtrtTcc9two2lhMknV7PZF/cs6+uUFTmpTGbEx7sQCPSLOttHS3GRltqp7SNzVSKzl6aWnZT/CX5k6/v9N3Hh8fHBwffJVjhrC6OgH5dkIt/tPsq+d/PD5Qz7G7efzq1THFjdZVPe/N6ulQ3JnDWSE5junsFsVIiFwL/htf1S5gJ3BfOcUxfHKLnzqpFpyfZ9cX+/5WB6a+Y0pHpzkNrYNVDwMsikK+y7WuLCRg/oFHkA8VT3rDg5ZnU6ktzzINymV0m74Xd5pfIGXyFeVEQSShkzqG7TBBa2OxVRKitLXv7h3uuftXnXq7lz2tZ/WnWa9dx9dCjDhHzmuVQATlmljr9dZErUydSo2Hbi/b1vXtrOeGCk2/8s3ZlO8+ueJT8BVlw5pGw2oYccdSiHHqx0RlabHqdNR9jAETl6PreJcPBnnfpTLnOQ8C3OV8AmQGzouV1iZdeb5SSIoVc8W8/kcDtksUH5FrU6/aqBqNWcMEzxG4DAQ14qRQhi9mWU0rzepKezbjfgCwQKxVYq5ajRgpRqy45CqwkJydcEkbTkvRz8P5/2ZpDTN4nGNgZGBgAOKb6v+/xvPbfGXgZmEAgeuB2kkI+v8bFgbmKiCXg4EJJAoAPyAKhQB4nGNgZGBg1vmvwxDDwgACQJKRARXwAwAzZQHQeJxjYQCCFAYGFgbSMQAcWACdAAAAAAAAAAwALgBgAIQAmADSAQgBIgE8AVABoAHeAfwCHHicY2BkYGDgZ7BgYGMAASYg5gJCBob/YD4DAA/hAWQAeJxlkbtuwkAURMc88gApQomUJoq0TdIQzEOpUDokKCNR0BuzBiO/tF6QSJcPyHflE9Klyyekz2CuG8cr7547M3d9JQO4xjccnJ57vid2cMHqxDWc40G4Tv1JuEF+Fm6ijRfhM+oz4Ra6eBVu4wZvvMFpXLIa40PYQQefwjVc4Uu4Tv1HuEH+FW7i1mkKn6Hj3Am3sHC6wm08Ou8tpSZGe1av1PKggjSxPd8zJtSGTuinyVGa6/Uu8kxZludCmzxMEzV0B6U004k25W35fj2yNlCBSWM1paujKFWZSbfat+7G2mzc7weiu34aczzFNYGBhgfLfcV6iQP3ACkSaj349AxXSN9IT0j16JepOb01doiKbNWt1ovippz6sVYYwsXgX2rGVFIkq7Pl2PNrI6qW6eOshj0xaSq9mpNEZIWs8LZUfOouNkVXxp/d5woqebeYIf4D2J1ywQB4nG3LOw6AIBAE0B384B+PAkgEa+QwNnYmHt+EpXSal5lkSBBnoP8oCFSo0aCFRIceA0ZMmLFAYSW88rmvtMUjG3RiQ9HvpfusM6zWNmtc5H/iPewha50tOt5PS/QBx2IeSwAA") format("woff")}.admonition{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);position:relative;margin:1.5625em 0;padding:0 1.2rem;border-left:.4rem solid rgba(68,138,255,.8);border-radius:.2rem;background-color:rgba(255,255,255,.05);overflow:auto}.admonition>p{margin-top:.8rem}.admonition>.admonition-title{margin:0 -1.2rem;padding:.8rem 1.2rem .8rem 3.6rem;border-bottom:1px solid rgba(68,138,255,.2);background-color:rgba(68,138,255,.1);font-weight:700}.admonition>.admonition-title:before{position:absolute;left:1.2rem;font-size:1.5rem;color:rgba(68,138,255,.8);content:"\E3C9"}.admonition>.admonition-title:before{font-family:Material Icons;font-style:normal;font-variant:normal;font-weight:400;line-height:2rem;text-transform:none;white-space:nowrap;speak:none;word-wrap:normal;direction:ltr}.admonition.abstract,.admonition.summary,.admonition.tldr{border-left-color:rgba(0,176,255,.8)}.admonition.abstract>.admonition-title,.admonition.summary>.admonition-title,.admonition.tldr>.admonition-title{background-color:rgba(0,176,255,.1);border-bottom-color:rgba(0,176,255,.2)}.admonition.abstract>.admonition-title:before,.admonition.summary>.admonition-title:before,.admonition.tldr>.admonition-title:before{color:#00b0ff;content:"\E8D2"}.admonition.hint,.admonition.tip{border-left-color:rgba(0,191,165,.8)}.admonition.hint>.admonition-title,.admonition.tip>.admonition-title{background-color:rgba(0,191,165,.1);border-bottom-color:rgba(0,191,165,.2)}.admonition.hint>.admonition-title:before,.admonition.tip>.admonition-title:before{color:#00bfa5;content:"\E80E"}.admonition.info,.admonition.todo{border-left-color:rgba(0,184,212,.8)}.admonition.info>.admonition-title,.admonition.todo>.admonition-title{background-color:rgba(0,184,212,.1);border-bottom-color:rgba(0,184,212,.2)}.admonition.info>.admonition-title:before,.admonition.todo>.admonition-title:before{color:#00b8d4;content:"\E88E"}.admonition.check,.admonition.done,.admonition.success{border-left-color:rgba(0,200,83,.8)}.admonition.check>.admonition-title,.admonition.done>.admonition-title,.admonition.success>.admonition-title{background-color:rgba(0,200,83,.1);border-bottom-color:rgba(0,200,83,.2)}.admonition.check>.admonition-title:before,.admonition.done>.admonition-title:before,.admonition.success>.admonition-title:before{color:#00c853;content:"\E876"}.admonition.faq,.admonition.help,.admonition.question{border-left-color:rgba(100,221,23,.8)}.admonition.faq>.admonition-title,.admonition.help>.admonition-title,.admonition.question>.admonition-title{background-color:rgba(100,221,23,.1);border-bottom-color:rgba(100,221,23,.2)}.admonition.faq>.admonition-title:before,.admonition.help>.admonition-title:before,.admonition.question>.admonition-title:before{color:#64dd17;content:"\E887"}.admonition.attention,.admonition.caution,.admonition.warning{border-left-color:rgba(255,145,0,.8)}.admonition.attention>.admonition-title,.admonition.caution>.admonition-title,.admonition.warning>.admonition-title{background-color:rgba(255,145,0,.1);border-bottom-color:rgba(255,145,0,.2)}.admonition.attention>.admonition-title:before{color:#ff9100;content:"\E417"}.admonition.caution>.admonition-title:before,.admonition.warning>.admonition-title:before{color:#ff9100;content:"\E002"}.admonition.fail,.admonition.failure,.admonition.missing{border-left-color:rgba(255,82,82,.8)}.admonition.fail>.admonition-title,.admonition.failure>.admonition-title,.admonition.missing>.admonition-title{background-color:rgba(255,82,82,.1);border-bottom-color:rgba(255,82,82,.2)}.admonition.fail>.admonition-title:before,.admonition.failure>.admonition-title:before,.admonition.missing>.admonition-title:before{color:#ff5252;content:"\E14C"}.admonition.bug,.admonition.danger,.admonition.error{border-left-color:rgba(255,23,68,.8)}.admonition.bug>.admonition-title,.admonition.danger>.admonition-title,.admonition.error>.admonition-title{background-color:rgba(255,23,68,.1);border-bottom-color:rgba(255,23,68,.2)}.admonition.danger>.admonition-title:before{color:#ff1744;content:"\E3E7"}.admonition.error>.admonition-title:before{color:#ff1744;content:"\E14C"}.admonition.bug>.admonition-title:before{color:#ff1744;content:"\E868"}.admonition.example,.admonition.snippet{border-left-color:rgba(0,184,212,.8)}.admonition.example>.admonition-title,.admonition.snippet>.admonition-title{background-color:rgba(0,184,212,.1);border-bottom-color:rgba(0,184,212,.2)}.admonition.example>.admonition-title:before,.admonition.snippet>.admonition-title:before{color:#00b8d4;content:"\E242"}.admonition.cite,.admonition.quote{border-left-color:rgba(158,158,158,.8)}.admonition.cite>.admonition-title,.admonition.quote>.admonition-title{background-color:rgba(158,158,158,.1);border-bottom-color:rgba(158,158,158,.2)}.admonition.cite>.admonition-title:before,.admonition.quote>.admonition-title:before{color:#9e9e9e;content:"\E244"}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v27/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
@page a4landscape {
  size: A4 landscape;
  margin: 1cm;
}
@page a4portrait {
  size: A4 portrait;
  margin: 1cm 1cm 2.5cm 1cm;
}
.markdown-preview.markdown-preview .landscape {
  page: a4landscape;
}
.markdown-preview.markdown-preview .portrait {
  page: a4portrait;
}
.markdown-preview.markdown-preview .box_bg_lightgray {
  background-color: #f5f5f5;
  border: 2px solid #969696;
  padding: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .box_bg_lightgreen {
  background-color: #f5faf5;
  border: 2px solid #969b96;
  padding-left: 15px;
  padding-right: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .salida_consola {
  background-color: #000000;
  color: aquamarine;
  border: 3px solid slategrey;
  padding-top: 15px;
  padding-bottom: 15px;
  padding-left: 10px;
  padding-right: 10px;
  margin-top: 10px;
  margin-bottom: 10px;
  border-radius: 5px;
  box-shadow: 3px 3px 6px 0 slategrey;
  font-family: "Lucida Console", Courier, monospace;
  font-size: 0.8rem;
}
.markdown-preview.markdown-preview .contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.markdown-preview.markdown-preview .fondo {
  background: url(https://balmisdigigs.github.io/digitalizacion.github.io/imagenes/fondos/quote.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.markdown-preview.markdown-preview .cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.markdown-preview.markdown-preview .abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.markdown-preview.markdown-preview .cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.markdown-preview.markdown-preview .autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
.markdown-preview.markdown-preview .flotante {
  display: flex;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    justify-content: center;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    justify-content: space-between;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: row;
  }
}
.markdown-preview.markdown-preview .flotante_izq {
  margin-right: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: auto;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: auto;
  }
}
.markdown-preview.markdown-preview .galeria_imagenes {
  display: flex;
  justify-content: space-evenly;
  align-items: center;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .galeria_imagenes {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .galeria_imagenes {
    flex-direction: row;
  }
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
    const configureMermaidIconPacks = () => {
        window["mermaid"].registerIconPacks([
            {
                name: "logos",
                loader: () =>
                    fetch("https://unpkg.com/@iconify-json/logos@1/icons.json").then(
                        (res) => res.json()
                    ),
            },
        ]);
    };

    if (document.readyState !== 'loading') {
        configureMermaidIconPacks();
    } else {
        document.addEventListener("DOMContentLoaded", () => {
            configureMermaidIconPacks();
        });
    }
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="unidad-14">Unidad 14 </h1>
<p>Descargar estos apunte en <a href="./u14_poo_roles_todo_parte.pdf">pdf</a> o <a href="./u14_poo_roles_todo_parte.html">html</a></p>
<h2 id="índice">Índice </h2>

<div class="md-toc">
<div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">
          <a href="#índice" class="md-toc-link">
            <p>Índice</p>

          </a></div><details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#roles-entre-clases" class="md-toc-link"><p>Roles entre clases</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#introducción" class="md-toc-link">
            <p>Introducción</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#colección-mejorada-listt" class="md-toc-link"><p>Colección mejorada <strong><code>List&lt;T&gt;</code></strong></p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#operaciones-con-listt" class="md-toc-link">
            <p>Operaciones con <strong><code>List&lt;T&gt;</code></strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#rol-todo-parte" class="md-toc-link"><p>Rol Todo-Parte</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#definición-de-cardinalidad" class="md-toc-link">
            <p>Definición de cardinalidad</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#agregación-o-referencia" class="md-toc-link"><p>Agregación o referencia</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ventajas-de-la-agregación-1" class="md-toc-link">
            <p>Ventajas de la agregación 👍</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#desventajas-de-la-agregación--1" class="md-toc-link">
            <p>Desventajas de la agregación 👎</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#composición-o-subobjetos" class="md-toc-link"><p>Composición o subobjetos</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ventajas-de-la-composición-1" class="md-toc-link">
            <p>Ventajas de la composición 👍</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#desventajas-de-la-composición--1" class="md-toc-link">
            <p>Desventajas de la composición 👎</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ejemplo-de-agregación-simple" class="md-toc-link">
            <p>Ejemplo de Agregación Simple</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ejemplo-de-composición" class="md-toc-link">
            <p>Ejemplo de Composición</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ejemplo-de-agregación-múltiple" class="md-toc-link">
            <p>Ejemplo de Agregación Múltiple</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    
</div>
<div style="page-break-after:always;"></div>
<h2 id="roles-entre-clases">Roles entre clases </h2>
<h3 id="introducción">Introducción </h3>
<div class="row">
<div class="col-sm-6 my-auto">
<p>En la Programación Orientada a Objetos (POO), las clases no existen de forma aislada, sino que interactúan entre sí para construir sistemas complejos y funcionales. Estas interacciones definen los roles y responsabilidades que cada clase asume dentro del programa, de manera similar a como las personas desempeñan diferentes funciones en la sociedad. Un rol especifica el propósito o la tarea que una clase se compromete a realizar en su relación con otras. Por ejemplo, en un sistema de ventas, una clase Cliente podría tener el rol de "comprador", mientras que una clase Producto asume el rol de "artículo a la venta".</p>
</div>
<div class="col-sm-6 my-auto">
<p><img src="assets/imagenes/Roles.png" alt="alt text"></p>
</div>
</div>
<p>Establecer roles claros es fundamental para un buen diseño de software, ya que promueve una alta cohesión y un bajo acoplamiento entre las clases. Esto significa que cada clase se enfoca en una tarea específica (alta cohesión) y depende lo menos posible de los detalles internos de otras (bajo acoplamiento), lo que facilita la reutilización del código, el mantenimiento y la escalabilidad del sistema. Conceptos como la herencia, la composición y las interfaces son las herramientas que permiten a los programadores implementar formalmente estos roles, definiendo contratos y comportamientos esperados que dan forma a la arquitectura de la aplicación.</p>
<div style="page-break-after:always;"></div>
<h3 id="colección-mejorada-listt">Colección mejorada <strong><code>List&lt;T&gt;</code></strong> </h3>
<p>Antes de adentrarnos en los roles entre clases, es importante mencionar que las colecciones mejoradas son una característica clave en la POO. Aunque <strong>profundizaremos en su uso definición y comprensión más adelante</strong>, durante el tema vamos utilizar el tipo <strong><code>List&lt;T&gt;</code></strong> en lugar de los arrays tradicionales <strong><code>T[]</code></strong> pues me van a proporcionar ciertas ventajas y además, de esta forma, ya nos vamos a ir acostumbrando a su uso.</p>
<p>Básicamente su uso es igual a de los arrays, pero con la ventaja de que <strong>no es necesario especificar el tamaño al crearla, y se pueden añadir, insertar o eliminar elementos de forma dinámica y eficiente</strong>.</p>
<p>Por ejemplo supongamos una implementación simple de la clase <strong><code>Persona</code></strong> siguiente:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Persona</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Edad <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Persona</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> edad<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        Edad <span class="token operator">=</span> edad<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Nombre</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Edad</span><span class="token punctuation">}</span></span><span class="token string"> años"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p>Si <strong>tuviéramos que añadir personas a un array vacío redimensionando</strong> o insertar elementos en una posición concreta o borrar elementos de un array, el código sería algo así:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Persona<span class="token punctuation">[</span><span class="token punctuation">]</span></span> personas <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// Añadir personas al final del array redimensionando</span>
    personas <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token range operator">..</span> personas<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token string">"Ana"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    personas <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token range operator">..</span> personas<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token string">"Luis"</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    personas <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token range operator">..</span> personas<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token string">"Pedro"</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> personas<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>personas<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Añadir una nueva persona en la posición 2 (María)</span>
    personas <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token range operator">..</span> personas<span class="token punctuation">[</span><span class="token range operator">..</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token string">"María"</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token range operator">..</span> personas<span class="token punctuation">[</span><span class="token number">2</span><span class="token range operator">..</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Persona</span> p <span class="token keyword keyword-in">in</span> personas<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Eliminar la persona en la posición 1 (Luis)</span>
    personas <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token range operator">..</span> personas<span class="token punctuation">[</span><span class="token range operator">..</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token range operator">..</span> personas<span class="token punctuation">[</span><span class="token number">2</span><span class="token range operator">..</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i<span class="token punctuation">,</span> <span class="token class-name">Persona</span> p<span class="token punctuation">)</span> <span class="token keyword keyword-in">in</span> personas<span class="token punctuation">.</span><span class="token function">Index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"[</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">i</span><span class="token punctuation">}</span></span><span class="token string">] = </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p>Pero el código anterior es <strong>complejo de leer y bastante ineficiente</strong>. Si usamos la clase <strong><code>List&lt;T&gt;</code></strong> de la siguiente forma, el código es mucho más sencillo y eficiente:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">List<span class="token punctuation">&lt;</span>Persona<span class="token punctuation">&gt;</span></span> personas <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Añadir personas al final de la lista</span>
    personas<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Persona</span><span class="token punctuation">(</span><span class="token string">"Ana"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    personas<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Persona</span><span class="token punctuation">(</span><span class="token string">"Luis"</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    personas<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Persona</span><span class="token punctuation">(</span><span class="token string">"Pedro"</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> personas<span class="token punctuation">.</span>Count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>personas<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Añadir una nueva persona en la posición 2 (María)</span>
    personas<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Persona</span><span class="token punctuation">(</span><span class="token string">"María"</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Persona</span> p <span class="token keyword keyword-in">in</span> personas<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Eliminar la persona en la posición 1 (Luis)</span>
    personas<span class="token punctuation">.</span><span class="token function">RemoveAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> personas<span class="token punctuation">.</span>Count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"[</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">i</span><span class="token punctuation">}</span></span><span class="token string">] = </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">personas<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>    
</code></pre><h4 id="operaciones-con-listt">Operaciones con <strong><code>List&lt;T&gt;</code></strong> </h4>
<p>Si has analizado el código anterior, habrás visto que las operaciones con <strong><code>List&lt;T&gt;</code></strong> son mucho más sencillas, legibles y eficientes que con los arrays. <strong>Además y más importante, las operaciones de añadir, borrar o insertar sobre arrays crean un array nuevo cada vez y sobre una lista esto no sucede porque el objeto lista siempre es el mismo y lo único que hacemos es modificar su contenido o estado</strong>. Veamos estas operaciones con un poco más de detalle:</p>
<p><strong>Inicializar la Lista</strong>, para poder usarla.<br>
Es lo primero que debemos hacer es instanciar la lista para luego ir añadiendo elementos. Esto se hace definiendo una variable de tipo <strong><code>List&lt;T&gt;</code></strong> y usando el  operador <strong><code>new</code></strong> para i<strong>nstanciarla como objeto de tipo referencia</strong>.</p>
<p>Supongamos una lista de cadenas, la inicialización se haría de la siguiente manera...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span> textos <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Puedo darles un tamaño inicial como a los arrays, aunque no es necesario.</span>
<span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span> textos <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Puedo definir unos datos iniciales como en los arrays.</span>
<span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span> textos <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"texto1"</span><span class="token punctuation">,</span> <span class="token string">"texto2"</span><span class="token punctuation">,</span> <span class="token string">"texto3"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><p><strong>Añadir datos</strong> una vez tenemos la lista creada, podemos añadir datos de dos formas:</p>
<ol>
<li>
<p>Usando el método de instáncia <strong>Add</strong>, añadiremos un elemento al final de ella.<br>
<strong><code>textos.Add("cadena añadida")</code></strong></p>
</li>
<li>
<p>Usando el método de instáncia <strong>Insert</strong>, añadiremos  un  elemento en la posición que indiquemos.<br>
<strong><code>textos.Insert(1, "otra cadena")</code></strong></p>
</li>
</ol>
<p><strong>Modificar un dato</strong>: Como en los arrays, si queremos cambiar directamente el valor de uno de los datos de la lista, basta con que accedamos a su índice o posición y modifiquemos o le asignemos otro valor.<br>
<strong><code>textos[1] = "Hola"</code></strong></p>
<p><strong>Eliminar un dato</strong> de la lista, se puede hacer de varias formas pero de momento solo vamos a usar la eliminación a partir del índice.</p>
<p>Para ello usaremos el método de instáncia <strong>RemoveAt</strong>, elimina el elemento de la posición que indiquemos:<br>
<strong><code>textos.RemoveAt(0);</code></strong></p>
<div class="admonition warning">
<p class="admonition-title">Cuidado</p>
<p>Debemos tener en cuenta que estas operaciones cambiarán el tamaño de la lista y por tanto deberemos llevar cuidado si eliminamos elementos mientras la recorremos o si nos hemos guardado la posición de algún dato ya que cambiará tras la eliminación de un elemento anterior.</p>
</div>
<p><strong>Recorrer los elementos</strong> de la lista a través de un bucle <strong><code>for</code></strong> o <strong><code>forech</code></strong> como vimos en el ejemplo anterior. <strong>Fíjate que La longitud de la lista ya no es la propiedad <code>Lenght</code> como en los arrays, sino la propiedad <code>Count</code></strong>.</p>
<p>De momento esto es todo lo que necesitamos saber sobre las listas, ya que en el tema de colecciones veremos más a fondo su uso y funcionalidades.</p>
<div style="page-break-after:always;"></div>
<h3 id="rol-todo-parte">Rol Todo-Parte </h3>
<p>La relación "<em><strong>Todo-Parte</strong></em>" es una de las formas más intuitivas de conectar objetos en la programación orientada a objetos. Para identificarla, nos hacemos la pregunta "<em><strong>¿Tiene un...?</strong></em>". Si la respuesta es afirmativa, probablemente estemos ante una relación de este tipo, también conocida como composición o agregación. Por ejemplo, si analizamos un coche, podemos preguntarnos: <strong>¿Un Coche tiene un Motor?</strong> La respuesta es sí. Esto indica que la clase Coche (<strong>el todo</strong>) contendrá una instancia o referencia a un objeto de la clase Motor (<strong>la parte</strong>).</p>
<h4 id="definición-de-cardinalidad">Definición de cardinalidad </h4>
<p>La cardinalidad define <strong>el número de instancias de una clase que se relacionan con las instancias de otra</strong>. En las relaciones Todo-Parte, especifica cuántas "partes" puede o debe tener un "todo", y a veces, a cuántos "todos" puede pertenecer una "parte". Esta regla numérica es fundamental para que el modelo de software sea preciso y coherente con la realidad que representa. Por ejemplo, la relación entre un CuerpoHumano y un Corazon es de uno a uno (1:1), ya que cada cuerpo tiene un único corazón.</p>
<p>La cardinalidad puede variar y es clave para definir las reglas del negocio. Un Coche tiene exactamente cuatro Ruedas (una relación de uno a cuatro, 1:4), mientras que un Pedido puede tener "uno o muchos" Productos (una relación de uno a muchos, 1..n). Definir esta cardinalidad es crucial, ya que impone restricciones en el sistema. Por ejemplo, el software no debería permitir crear un coche con tres ruedas o un pedido sin productos si las reglas no lo contemplan, garantizando así la integridad de los datos.</p>
<h4 id="agregación-o-referencia">Agregación o referencia </h4>
<div class="row">
<div class="col-sm-7">
<p>Es la relación todo-parte más común, donde almacenamos una <strong>referencia (<code>Reference Type</code>)</strong> al objeto '<em>original</em>' en el objeto '<em>contenedor</em>'.</p>
<p>La agregación indica independencia de los objetos, esto significa que <strong>si desaparece el contenedor, no desaparece el agregado</strong>.</p>
<p>En el ejemplo del diagrama diremos que: '<em>1 clase <strong>Banco</strong> tendrá de 0 a N <strong>Clientes</strong></em>'. Pero al tratarse de una agregación, <strong>al desaparecer un objeto banco, no desaparecerán con él sus clientes</strong>.</p>
</div>
<div class="col-sm-4 border rounded mb-3 mx-2 shadow-sm p-3">
<p><strong>Representación UML</strong></p>
<p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="187.2px" preserveAspectRatio="none" style="width:141px;height:187px;background:#FFFFFF;" version="1.1" viewBox="0 0 141 187" width="141.6px" zoomAndPan="magnify"><defs></defs><g><!--class Banco--><g class="entity" data-entity="Banco" data-source-line="10" data-uid="ent0002" id="entity_Banco"><rect fill="#FFFAFA" height="38.4" rx="3" ry="3" style="stroke:#000000;stroke-width:0.6;" width="86.0355" x="10.8" y="8.4"></rect><ellipse cx="28.8" cy="27.6" fill="#ADD1B2" rx="13.2" ry="13.2" style="stroke:#181818;stroke-width:1.2;"></ellipse><path d="M32.1188,22.65 Q32.3063,22.3875 32.5313,22.2562 Q32.7563,22.125 33.0188,22.125 Q33.4688,22.125 33.75,22.4437 Q34.0313,22.7438 34.0313,23.475 L34.0313,25.2188 Q34.0313,25.95 33.75,26.2688 Q33.4688,26.5875 33.0188,26.5875 Q32.6062,26.5875 32.3625,26.3438 Q32.1188,26.1188 31.9875,25.5 Q31.9313,25.0687 31.7062,24.8438 Q31.3125,24.3938 30.5812,24.1312 Q29.85,23.8688 29.1,23.8688 Q28.1813,23.8688 27.4125,24.2625 Q26.6625,24.6563 26.0625,25.5563 Q25.4813,26.4563 25.4813,27.6937 L25.4813,29.0062 Q25.4813,30.4875 26.55,31.4813 Q27.6188,32.4563 29.5313,32.4563 Q30.6563,32.4563 31.4437,32.1563 Q31.9125,31.9688 32.4187,31.4437 Q32.7375,31.125 32.9063,31.0313 Q33.0938,30.9375 33.3375,30.9375 Q33.7312,30.9375 34.0313,31.2562 Q34.35,31.5563 34.35,31.9688 Q34.35,32.3813 33.9375,32.8688 Q33.3375,33.5625 32.3813,33.9563 Q31.0875,34.5 29.5313,34.5 Q27.7125,34.5 26.2688,33.75 Q25.0875,33.15 24.2625,31.875 Q23.4375,30.5812 23.4375,29.0438 L23.4375,27.6563 Q23.4375,26.0625 24.1688,24.6937 Q24.9188,23.3063 26.2313,22.575 Q27.5438,21.825 29.025,21.825 Q29.9063,21.825 30.675,22.0313 Q31.4625,22.2188 32.1188,22.65 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="47.6355" x="45.6" y="34.4742">Banco</text></g><!--class Cliente--><g class="entity" data-entity="Cliente" data-source-line="10" data-uid="ent0003" id="entity_Cliente"><rect fill="#FFFAFA" height="38.4" rx="3" ry="3" style="stroke:#000000;stroke-width:0.6;" width="90.6949" x="8.4" y="140.4"></rect><ellipse cx="26.4" cy="159.6" fill="#ADD1B2" rx="13.2" ry="13.2" style="stroke:#181818;stroke-width:1.2;"></ellipse><path d="M29.7188,154.65 Q29.9063,154.3875 30.1312,154.2563 Q30.3563,154.125 30.6188,154.125 Q31.0687,154.125 31.35,154.4438 Q31.6312,154.7438 31.6312,155.475 L31.6312,157.2188 Q31.6312,157.95 31.35,158.2687 Q31.0687,158.5875 30.6188,158.5875 Q30.2062,158.5875 29.9625,158.3438 Q29.7188,158.1188 29.5875,157.5 Q29.5313,157.0688 29.3063,156.8438 Q28.9125,156.3937 28.1813,156.1313 Q27.45,155.8688 26.7,155.8688 Q25.7813,155.8688 25.0125,156.2625 Q24.2625,156.6563 23.6625,157.5563 Q23.0813,158.4562 23.0813,159.6938 L23.0813,161.0063 Q23.0813,162.4875 24.15,163.4813 Q25.2188,164.4562 27.1312,164.4562 Q28.2562,164.4562 29.0438,164.1563 Q29.5125,163.9688 30.0187,163.4438 Q30.3375,163.125 30.5062,163.0313 Q30.6937,162.9375 30.9375,162.9375 Q31.3312,162.9375 31.6312,163.2563 Q31.95,163.5563 31.95,163.9688 Q31.95,164.3813 31.5375,164.8688 Q30.9375,165.5625 29.9813,165.9562 Q28.6875,166.5 27.1312,166.5 Q25.3125,166.5 23.8688,165.75 Q22.6875,165.15 21.8625,163.875 Q21.0375,162.5812 21.0375,161.0438 L21.0375,159.6563 Q21.0375,158.0625 21.7688,156.6938 Q22.5188,155.3063 23.8313,154.575 Q25.1438,153.825 26.625,153.825 Q27.5062,153.825 28.275,154.0313 Q29.0625,154.2188 29.7188,154.65 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="52.2949" x="43.2" y="166.4742">Cliente</text></g><!--reverse link Banco to Cliente--><g class="link" data-entity-1="Banco" data-entity-2="Cliente" data-source-line="10" data-uid="lnk4" id="link_Banco_Cliente"><path codeline="10" d="M54,61.224 C54,85.836 54,115.356 54,140.112" fill="none" id="Banco-backto-Cliente" style="stroke:#000000;stroke-width:1.2;"></path><polygon fill="none" points="54,46.824,49.2,54.024,54,61.224,58.8,54.024,54,46.824" style="stroke:#000000;stroke-width:1.2;"></polygon><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="77.1926" x="55.2" y="100.1941">agregación</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="8.676" x="44.3148" y="72.636">1</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="26.0203" x="24.8458" y="127.5406">0..n</text></g><!--SRC=[ROqn3e9G44JxVueDlGGjxOJApeJ2UlbiS0D_bonBY5xB8tWnCJR4M4qcy_B6TGHNQDHT4xHi59rLGXrn8DZdXp3rB2CQ9eW3JjF9tRYPdSvHfUO7GR51JcQwL3geGJbWx3VJPQtOKRb6PpfB-yMkDtQga_QqOQlFKwdMalsNVO4VLIswX73Zbe3Iw7T8b1goAPGeKI7RPw2x7MH5daksAfZ42Ow0dL67aLzF2My0]--></g></svg></p></div>
</div>
<h5 id="ventajas-de-la-agregación-1">Ventajas de la agregación 👍 </h5>
<ul>
<li>Ahorramos memoria.</li>
<li>Al compartirse la referencia al mismo objeto, mantendremos la integridad referencial.</li>
<li>Mejor manejo de objetos complejos.</li>
<li>Los objetos solo se crean cuando se necesitan.</li>
</ul>
<h5 id="desventajas-de-la-agregación--1">Desventajas de la agregación 👎 </h5>
<ul>
<li>Sobre todo en lenguajes no gestionados como C++. Se puede producir un efecto de <strong>Aliasing</strong>, si destruimos el objeto agregado.</li>
</ul>
<h4 id="composición-o-subobjetos">Composición o subobjetos </h4>
<div class="row">
<div class="col-sm-7">
<p>Almacenaremos un <strong>Value Object</strong> ya sea como <strong><code>Value Type</code></strong> o como <strong><code>Reference Type</code></strong>, en el objeto '<em>contenedor</em>'.<br>
La composición indica <strong>dependencia de los objetos</strong>, esto significa que <strong>si desaparece el contenedor, desaparece el subobjeto</strong>.<br>
En el ejemplo del diagrama diremos que: '<em>1 clase <strong>Banco</strong> tendrá de 1 a N <strong>Sucursales</strong></em>'. Pero al tratarse de una composición, <strong>al desaparecer un objeto banco,  desaparecerán con él sus sucursales</strong>.</p>
</div>
<div class="col-sm-4 border rounded mb-3 mx-2 shadow-sm p-3">
<p><strong>Representación UML</strong></p>
<p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="187.2px" preserveAspectRatio="none" style="width:157px;height:187px;background:#FFFFFF;" version="1.1" viewBox="0 0 157 187" width="157.2px" zoomAndPan="magnify"><defs></defs><g><!--class Banco--><g class="entity" data-entity="Banco" data-source-line="10" data-uid="ent0002" id="entity_Banco"><rect fill="#FFFAFA" height="38.4" rx="3" ry="3" style="stroke:#000000;stroke-width:0.6;" width="86.0355" x="16.8" y="8.4"></rect><ellipse cx="34.8" cy="27.6" fill="#ADD1B2" rx="13.2" ry="13.2" style="stroke:#181818;stroke-width:1.2;"></ellipse><path d="M38.1188,22.65 Q38.3063,22.3875 38.5313,22.2562 Q38.7563,22.125 39.0188,22.125 Q39.4688,22.125 39.75,22.4437 Q40.0313,22.7438 40.0313,23.475 L40.0313,25.2188 Q40.0313,25.95 39.75,26.2688 Q39.4688,26.5875 39.0188,26.5875 Q38.6062,26.5875 38.3625,26.3438 Q38.1188,26.1188 37.9875,25.5 Q37.9313,25.0687 37.7063,24.8438 Q37.3125,24.3938 36.5813,24.1312 Q35.85,23.8688 35.1,23.8688 Q34.1813,23.8688 33.4125,24.2625 Q32.6625,24.6563 32.0625,25.5563 Q31.4813,26.4563 31.4813,27.6937 L31.4813,29.0062 Q31.4813,30.4875 32.55,31.4813 Q33.6188,32.4563 35.5313,32.4563 Q36.6563,32.4563 37.4438,32.1563 Q37.9125,31.9688 38.4187,31.4437 Q38.7375,31.125 38.9063,31.0313 Q39.0938,30.9375 39.3375,30.9375 Q39.7312,30.9375 40.0313,31.2562 Q40.35,31.5563 40.35,31.9688 Q40.35,32.3813 39.9375,32.8688 Q39.3375,33.5625 38.3813,33.9563 Q37.0875,34.5 35.5313,34.5 Q33.7125,34.5 32.2688,33.75 Q31.0875,33.15 30.2625,31.875 Q29.4375,30.5812 29.4375,29.0438 L29.4375,27.6563 Q29.4375,26.0625 30.1688,24.6937 Q30.9188,23.3063 32.2312,22.575 Q33.5437,21.825 35.025,21.825 Q35.9063,21.825 36.675,22.0313 Q37.4625,22.2188 38.1188,22.65 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="47.6355" x="51.6" y="34.4742">Banco</text></g><!--class Sucursal--><g class="entity" data-entity="Sucursal" data-source-line="10" data-uid="ent0003" id="entity_Sucursal"><rect fill="#FFFAFA" height="38.4" rx="3" ry="3" style="stroke:#000000;stroke-width:0.6;" width="103.7625" x="8.4" y="140.4"></rect><ellipse cx="26.4" cy="159.6" fill="#ADD1B2" rx="13.2" ry="13.2" style="stroke:#181818;stroke-width:1.2;"></ellipse><path d="M29.7188,154.65 Q29.9063,154.3875 30.1312,154.2563 Q30.3563,154.125 30.6188,154.125 Q31.0687,154.125 31.35,154.4438 Q31.6312,154.7438 31.6312,155.475 L31.6312,157.2188 Q31.6312,157.95 31.35,158.2687 Q31.0687,158.5875 30.6188,158.5875 Q30.2062,158.5875 29.9625,158.3438 Q29.7188,158.1188 29.5875,157.5 Q29.5313,157.0688 29.3063,156.8438 Q28.9125,156.3937 28.1813,156.1313 Q27.45,155.8688 26.7,155.8688 Q25.7813,155.8688 25.0125,156.2625 Q24.2625,156.6563 23.6625,157.5563 Q23.0813,158.4562 23.0813,159.6938 L23.0813,161.0063 Q23.0813,162.4875 24.15,163.4813 Q25.2188,164.4562 27.1312,164.4562 Q28.2562,164.4562 29.0438,164.1563 Q29.5125,163.9688 30.0187,163.4438 Q30.3375,163.125 30.5062,163.0313 Q30.6937,162.9375 30.9375,162.9375 Q31.3312,162.9375 31.6312,163.2563 Q31.95,163.5563 31.95,163.9688 Q31.95,164.3813 31.5375,164.8688 Q30.9375,165.5625 29.9813,165.9562 Q28.6875,166.5 27.1312,166.5 Q25.3125,166.5 23.8688,165.75 Q22.6875,165.15 21.8625,163.875 Q21.0375,162.5812 21.0375,161.0438 L21.0375,159.6563 Q21.0375,158.0625 21.7688,156.6938 Q22.5188,155.3063 23.8313,154.575 Q25.1438,153.825 26.625,153.825 Q27.5062,153.825 28.275,154.0313 Q29.0625,154.2188 29.7188,154.65 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacing" textLength="65.3625" x="43.2" y="166.4742">Sucursal</text></g><!--reverse link Banco to Sucursal--><g class="link" data-entity-1="Banco" data-entity-2="Sucursal" data-source-line="10" data-uid="lnk4" id="link_Banco_Sucursal"><path codeline="10" d="M60,61.224 C60,85.836 60,115.356 60,140.112" fill="none" id="Banco-backto-Sucursal" style="stroke:#000000;stroke-width:1.2;"></path><polygon fill="#000000" points="60,46.824,55.2,54.024,60,61.224,64.8,54.024,60,46.824" style="stroke:#000000;stroke-width:1.2;"></polygon><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="86.7064" x="61.2" y="100.1941">composición</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="8.676" x="50.3148" y="72.636">1</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="23.4152" x="33.4325" y="127.5406">1..*</text></g><!--SRC=[ROqn2i9044NxFSMGKZ0OIpjZPITiORsP33faToVCJX2zbaVmOaPiWbXzFl_nlia89j29cIJeMGcD9JkF8H8qzTQLWVCOD2J064hPcobtaz4H9Nj-46mMo5vLRWU9ej36WCDYEiqrNAYTuw8ovVwBdQziv9CCj60FdwTMj2VzB_i2FogVvURSbNi2IgFT8L7gI8jhGqQ1ggbWjLxFMTUh2lo4avOGOGSeQPJ2oAzdTcy0]--></g></svg></p></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Si el subobjeto fuese un <strong>Tipo Valor (<code>Value Type</code>)</strong> creado con <strong><code>struct</code></strong> o <strong><code>readonly record struct</code></strong> como por ejemplo: <strong><code>int</code></strong>, <strong><code>DateTime</code></strong>, <strong><code>DateOnly</code></strong>, <strong><code>TimeOnly</code></strong>, <strong><code>Guid</code></strong>, etc. Podremos <strong>obviar expresar la relación de composición</strong>, pues ya se sobreentiende que al ser un tipo valor, se almacena el valor directamente en el objeto contenedor y por tanto es un composición.</p>
</div>
<h5 id="ventajas-de-la-composición-1">Ventajas de la composición 👍 </h5>
<ul>
<li>Evitaremos efectos de <strong>Aliasing</strong> en lenguajes no gestionados como C++.</li>
</ul>
<h5 id="desventajas-de-la-composición--1">Desventajas de la composición 👎 </h5>
<ul>
<li>Puede producir un <strong>uso excesivo de memoria</strong>, ya que se crean objetos que pueden no ser necesarios.</li>
<li>Derivado del anterior, <strong>no podremos compartir el objeto entre diferentes contenedores</strong>, ya que al ser un subobjeto, solo puede pertenecer a un único contenedor. Por tanto, si necesitamos mantener la integridad referencial, deberemos hacerlo manualmente.</li>
</ul>
<h4 id="ejemplo-de-agregación-simple">Ejemplo de Agregación Simple </h4>
<p>Vamos a crear una relación las clases de ejemplo que fuimos creando en la <strong>unidad 13</strong> <strong><code>Escritor</code></strong> y <strong><code>Libro</code></strong> de tal manera que el <strong><code>Libro</code></strong> va a tener información del <strong><code>Escritor</code></strong> a través de una agregación.<br>
Cumple con la máxima de que, <strong>si desaparece el libro no tiene porque desaparecer el escritor</strong>.</p>
<p>Puedes descargarte el código de ejemplo de la unidad 13 en los siguientes enlaces: <strong><a href="../u13_poo_definir_tipos/assets/ejemplos/2_Libro_con_propiedades_ejemplo.cs">Libro.cs</a></strong>, <strong><a href="../u13_poo_definir_tipos/assets/ejemplos/4_Escritor_con_propiedades_ejemplo.cs">Escritor.cs</a></strong></p>
<p>Una posible forma de expresarlo en UML es la siguiente:</p>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="565.2px" preserveAspectRatio="none" style="width:443px;height:565px;background:#FFFFFF;" version="1.1" viewBox="0 0 443 565" width="443.7px" zoomAndPan="magnify"><defs></defs><g><!--class Libro--><g class="entity" data-entity="Libro" data-source-line="10" data-uid="ent0002" id="entity_Libro"><rect fill="#FFFAFA" height="265.0781" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="431.8356" x="6.3" y="6.3"></rect><ellipse cx="204.3839" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M206.873,16.9875 Q207.0136,16.7906 207.1824,16.6922 Q207.3511,16.5938 207.548,16.5938 Q207.8855,16.5938 208.0964,16.8328 Q208.3074,17.0578 208.3074,17.6063 L208.3074,18.9141 Q208.3074,19.4625 208.0964,19.7016 Q207.8855,19.9406 207.548,19.9406 Q207.2386,19.9406 207.0558,19.7578 Q206.873,19.5891 206.7746,19.125 Q206.7324,18.8016 206.5636,18.6328 Q206.2683,18.2953 205.7199,18.0984 Q205.1714,17.9016 204.6089,17.9016 Q203.9199,17.9016 203.3433,18.1969 Q202.7808,18.4922 202.3308,19.1672 Q201.8949,19.8422 201.8949,20.7703 L201.8949,21.7547 Q201.8949,22.8656 202.6964,23.6109 Q203.498,24.3422 204.9324,24.3422 Q205.7761,24.3422 206.3667,24.1172 Q206.7183,23.9766 207.098,23.5828 Q207.3371,23.3438 207.4636,23.2734 Q207.6042,23.2031 207.7871,23.2031 Q208.0824,23.2031 208.3074,23.4422 Q208.5464,23.6672 208.5464,23.9766 Q208.5464,24.2859 208.2371,24.6516 Q207.7871,25.1719 207.0699,25.4672 Q206.0996,25.875 204.9324,25.875 Q203.5683,25.875 202.4855,25.3125 Q201.5996,24.8625 200.9808,23.9063 Q200.3621,22.9359 200.3621,21.7828 L200.3621,20.7422 Q200.3621,19.5469 200.9105,18.5203 Q201.473,17.4797 202.4574,16.9313 Q203.4417,16.3688 204.5527,16.3688 Q205.2136,16.3688 205.7902,16.5234 Q206.3808,16.6641 206.873,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="28.0178" x="222.8339" y="25.8557">Libro</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="437.2356" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="135.167" x="11.7" y="51.7799">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="112.0711" x="11.7" y="67.6283">-año : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="141.4854" x="11.7" y="83.4768">-paginas : ints {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="109.2718" x="11.7" y="99.3252">-paginasLeidas : int</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="437.2356" y1="105.6938" y2="105.6938"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="421.0356" x="11.7" y="122.3736">+ Libro(in titulo : string, in año : int, in paginas : int, in autor : Escritor)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="108.1828" x="11.7" y="138.2221">+GetTitulo() : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="82.2876" x="11.7" y="154.0705">+GetAño() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="132.663" x="11.7" y="169.9189">+ GetAutor() : Escritor</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="105.402" x="11.7" y="185.7674">+GetPaginas() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="142.5313" x="11.7" y="201.6158">+GetPaginasLeidas() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="229.0333" x="11.7" y="217.4643">-SetPaginasLeidas(in paginas : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="145.3368" x="11.7" y="233.3127">+Lee(int paginas : int) : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="154.4361" x="11.7" y="249.1611">+/GetPorcentajeLeido() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="96.9794" x="11.7" y="265.0096">+ATexto() : string</text></g><!--class Escritor--><g class="entity" data-entity="Escritor" data-source-line="10" data-uid="ent0003" id="entity_Escritor"><rect fill="#FFFAFA" height="217.5328" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="271.6471" x="86.4" y="342"></rect><ellipse cx="197.0468" cy="356.4" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M199.5359,352.6875 Q199.6765,352.4906 199.8453,352.3922 Q200.014,352.2938 200.2109,352.2938 Q200.5484,352.2938 200.7593,352.5328 Q200.9703,352.7578 200.9703,353.3063 L200.9703,354.6141 Q200.9703,355.1625 200.7593,355.4016 Q200.5484,355.6406 200.2109,355.6406 Q199.9015,355.6406 199.7187,355.4578 Q199.5359,355.2891 199.4375,354.825 Q199.3953,354.5016 199.2265,354.3328 Q198.9312,353.9953 198.3828,353.7984 Q197.8343,353.6016 197.2718,353.6016 Q196.5828,353.6016 196.0062,353.8969 Q195.4437,354.1922 194.9937,354.8672 Q194.5578,355.5422 194.5578,356.4703 L194.5578,357.4547 Q194.5578,358.5656 195.3593,359.3109 Q196.1609,360.0422 197.5953,360.0422 Q198.439,360.0422 199.0296,359.8172 Q199.3812,359.6766 199.7609,359.2828 Q200,359.0438 200.1265,358.9734 Q200.2671,358.9031 200.45,358.9031 Q200.7453,358.9031 200.9703,359.1422 Q201.2093,359.3672 201.2093,359.6766 Q201.2093,359.9859 200.9,360.3516 Q200.45,360.8719 199.7328,361.1672 Q198.7625,361.575 197.5953,361.575 Q196.2312,361.575 195.1484,361.0125 Q194.2625,360.5625 193.6437,359.6063 Q193.025,358.6359 193.025,357.4828 L193.025,356.4422 Q193.025,355.2469 193.5734,354.2203 Q194.1359,353.1797 195.1203,352.6313 Q196.1046,352.0688 197.2156,352.0688 Q197.8765,352.0688 198.4531,352.2234 Q199.0437,352.3641 199.5359,352.6875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="42.7034" x="215.4968" y="361.5557">Escritor</text><line style="stroke:#000000;stroke-width:0.45;" x1="87.3" x2="357.1471" y1="370.8" y2="370.8"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="151.2738" x="91.8" y="387.4799">-nombre : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="151.9813" x="91.8" y="403.3283">-nacimiento : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="104.3561" x="91.8" y="419.1768">-publicaciones : int</text><line style="stroke:#000000;stroke-width:0.45;" x1="87.3" x2="357.1471" y1="425.5453" y2="425.5453"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="260.8471" x="91.8" y="442.2252">+Escritor(in nombre : string, in nacimiento : int)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="122.1855" x="91.8" y="458.0736">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="122.8931" x="91.8" y="473.9221">+GetNacimiento() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="137.6156" x="91.8" y="489.7705">+GetPublicaciones() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="256.3313" x="91.8" y="505.6189">-SetPublicaciones(in publicaciones : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="92.7958" x="91.8" y="521.4674">+/GetEdad() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="199.1514" x="91.8" y="537.3158">+ Escribe(in titulo : string) : Libro</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="96.9794" x="91.8" y="553.1643">+ATexto() : string</text></g><!--reverse link Libro to Escritor--><g class="link" data-entity-1="Libro" data-entity-2="Escritor" data-source-line="10" data-uid="lnk4" id="link_Libro_Escritor"><path codeline="10" d="M222.3,282.69 C222.3,306.009 222.3,319.248 222.3,341.82" fill="none" id="Libro-backto-Escritor" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="222.3,271.89,218.7,277.29,222.3,282.69,225.9,277.29,222.3,271.89" style="stroke:#000000;stroke-width:0.9;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="87.1501" x="223.2" y="311.8456">tiene como autor</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="215.8564" y="290.8367">1</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="215.8097" y="332.1351">1</text></g><!--SRC=[VLBBRjim4BppAnO- -L6toR6zsOOH533S03RGCqKjd8qbha6jwgQ1FwhVa1yhIKMo92lLXH1dTdQ7iy8d48Q4HJY7b1mQ8RQgC3f3kFlyLHL7iYVjT0ucqqMn476Kb8BV3TiT_V6a5cNX79zNdB63PQRDiGKz-bzzmAK_3evBcrQqdqyakClvY2tkAdHQialH3OjLX9xKpl9PgGqbZc5qFmAUp-EvBemZyOHlC192Ys0uPz2blnif5Mr1B5El2lmt1o4fC_O5XNTh3_3gKAS_RFPoUIVejxy19Ykts4aVoEgYWeiFyGrIMhDKXARJMJN7c6n_X4-UrkeQVpkDAa9P-QmjJwRJg3o31vHzL1nF6iqhjF324GYprAE4-w0NWLgnBVXOzUyKje7AOGUUmwuFzuq4-Y-cz5rkWpWEptp3kNRy4bgoCsX5FsEGvTvCYpt-bexrInryRQp9tdAUEFnFzbORolqUoSSRK2OP6KzZYvs4PqsxOBlNAIRO5vzSNtKRwOFvRPkgWJ3Qmmo4qO536BV3zo89xxrETNgpCT5SWWFh6vXnjPlz6Oha7m00]--></g></svg></p><p></p>
<p>Aunque no se especifica en el UML, de la relación <strong>se debe deducir</strong> que en la clase <strong><code>Libro</code></strong> <strong>tendremos una propiedad nueva</strong> que podemos denominar <strong>Autor</strong> y que será de solo lectura.</p>
<p>Veamos los cambios que implicará esta relación en la implementación de nuestra clase <strong><code>Libro</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido por brevedad.</span>
    <span class="token comment">// Añadiremos la propiedad Autor de solo lectura</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Escritor</span> Autor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token comment">// ... código omitido por brevedad.</span>
    <span class="token comment">// Recibimos la referencia al escritor en el constructor de libro.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span>
                <span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span>
                <span class="token keyword keyword-int">int</span> año<span class="token punctuation">,</span>
                <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">,</span>
                <span class="token class-name">Escritor</span> autor<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// ... código omitido por brevedad.</span>
        <span class="token comment">// Nos quedamos con la referencia y en ningún caso deberemos hacer un copia de escritor. </span>
        Autor <span class="token operator">=</span> autor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ... código omitido por brevedad.</span>
    <span class="token comment">// Acambiamos Atexto() para la información del escritor a la descripción del libro.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                Libro
                <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
                Título<span class="token punctuation">:</span> <span class="token punctuation">{</span>Titulo<span class="token punctuation">}</span>
                Año<span class="token punctuation">:</span> <span class="token punctuation">{</span>Año<span class="token punctuation">}</span>
                Páginas<span class="token punctuation">:</span> <span class="token punctuation">{</span>Paginas<span class="token punctuation">}</span>
                Páginas leídas<span class="token punctuation">:</span> <span class="token punctuation">{</span>PaginasLeidas<span class="token punctuation">}</span>
                Autor <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
                <span class="token punctuation">{</span>Autor<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>En cuanto a la clase <strong><code>Escritor</code></strong> la única modificación la deberíamos hacer en el método <strong><code>Escribe()</code></strong> que ahora debe pasar el escritor al constructor de <strong><code>Libro</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token comment">// ... código omitido por brevedad.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400</span><span class="token range operator">..</span><span class="token number">800</span><span class="token punctuation">;</span>
        Publicaciones<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">titulo</span><span class="token punctuation">:</span> titulo<span class="token punctuation">,</span> 
            año<span class="token punctuation">:</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Year<span class="token punctuation">,</span> 
            <span class="token named-parameter punctuation">paginas</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">autor</span><span class="token punctuation">:</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<div class="row">
<div class="col-sm-6 my-auto">
<p>Si implementamos y ejecutamos el siguiente código de test...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Escritor</span> e <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token string">"María"</span><span class="token punctuation">,</span> <span class="token number">1980</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Libro</span> l1 <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token string">"Programación en C#"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l1<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Libro</span> l2 <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token string">"Programación en Java"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l2<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Los dos objetos <strong><code>Libro</code></strong> <strong><code>l1</code></strong> y <strong><code>l2</code></strong> referenciarán al mismo objeto <strong><code>Escritor</code></strong> <strong><code>e</code></strong>. Es más, si te fijas en la salida, el escritor al ver la primera descripción en <strong><code>l1</code></strong> <strong>solo ha publicado un libro</strong> y después de escribir el segundo libro la descripción de <strong><code>l2</code></strong> <strong>mantiene la integridad referencial</strong> indicándonos <strong>que ha publicado 2</strong>.</p>
</div>
<div class="col-sm-6 my-auto">
<p><strong>Mostrará por consola:</strong></p>
<pre class="salida_consola">Libro
--------------------------
Título: Programación en C#
Año: 2026
Páginas: 754
Páginas leídas: 0
Autor --------------------
Nombre: María
Nacimiento: 1980
Publicaciones: 1

Libro
--------------------------
Título: Programación en Java
Año: 2026
Páginas: 443
Páginas leídas: 0
Autor --------------------
Nombre: María
Nacimiento: 1980
Publicaciones: 2
</pre> <!-- fin salida consola -->
</div>
</div>
<p>Además, en el siguiente diagrama de los objetos creados podemos ver que <strong><code>l1</code></strong> y <strong><code>l2</code></strong> referencian al mismo objeto <strong><code>e</code></strong> de tipo <strong><code>Escritor</code></strong> a través de la propiedad <strong><code>Autor</code></strong>.</p>
<p></p><p align="center" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 12.2.0 (20241103.1931)
 -->
<!-- Title: G Pages: 1 -->
<svg width="500pt" height="250pt" viewBox="0.00 0.00 500.00 250.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.8 0.8) rotate(0) translate(7.02 311.55)">
<title>G</title>
<polygon fill="white" stroke="none" points="-7.02,0.95 -7.02,-311.55 617.98,-311.55 617.98,0.95 -7.02,0.95"></polygon>
<!-- le -->
<g id="node1" class="node">
<title>le</title>
<ellipse fill="none" stroke="black" cx="189.87" cy="-292.6" rx="18" ry="18"></ellipse>
<text text-anchor="middle" x="189.87" y="-288.4" font-family="Arial" font-size="14.00">e</text>
</g>
<!-- oe -->
<g id="node6" class="node">
<title>oe</title>
<polygon fill="none" stroke="black" points="350.64,-177.4 350.64,-216.2 602.95,-216.2 602.95,-177.4 350.64,-177.4"></polygon>
<text text-anchor="start" x="361.64" y="-192.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e, l1::autor, l2::autor : Escritor &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="350.64,-105 350.64,-177.4 602.95,-177.4 602.95,-105 350.64,-105"></polygon>
<text text-anchor="start" x="420.28" y="-153.8" font-family="Arial" font-size="14.00">nombre = "María"</text>
<text text-anchor="start" x="470.96" y="-137" font-family="Arial" font-size="14.00">...</text>
<text text-anchor="start" x="414.73" y="-120.2" font-family="Arial" font-size="14.00">publicaciones = 2 &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- le&#45;&gt;oe -->
<g id="edge5" class="edge">
<title>le-&gt;oe</title>
<path fill="none" stroke="black" d="M207.89,-290.41C230.95,-287.04 273.08,-279.49 306.64,-265.6 332.33,-254.97 358.57,-240.66 382.48,-226.03"></path>
<polygon fill="black" stroke="black" points="384.29,-229.02 390.94,-220.77 380.6,-223.08 384.29,-229.02"></polygon>
</g>
<!-- l1 -->
<g id="node2" class="node">
<title>l1</title>
<ellipse fill="none" stroke="black" cx="18.55" cy="-196.6" rx="18.55" ry="18.55"></ellipse>
<text text-anchor="middle" x="18.55" y="-192.4" font-family="Arial" font-size="14.00">l1</text>
</g>
<!-- ol1 -->
<g id="node4" class="node">
<title>ol1</title>
<polygon fill="none" stroke="black" points="86.94,-213.4 86.94,-252.2 292.8,-252.2 292.8,-213.4 86.94,-213.4"></polygon>
<text text-anchor="start" x="141.63" y="-228.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l1: Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="86.94,-141 86.94,-213.4 292.8,-213.4 292.8,-141 86.94,-141"></polygon>
<text text-anchor="start" x="97.94" y="-189.8" font-family="Arial" font-size="14.00">titulo = "Programación en C#"</text>
<text text-anchor="start" x="270.13" y="-173" font-family="Arial" font-size="14.00">...</text>
<text text-anchor="start" x="249.89" y="-156.2" font-family="Arial" font-size="14.00">autor</text>
</g>
<!-- l1&#45;&gt;ol1 -->
<g id="edge1" class="edge">
<title>l1-&gt;ol1</title>
<path fill="none" stroke="black" d="M37.35,-196.6C45.52,-196.6 55.98,-196.6 67.57,-196.6"></path>
<polygon fill="black" stroke="black" points="67.47,-200.1 77.47,-196.6 67.47,-193.1 67.47,-200.1"></polygon>
</g>
<!-- l2 -->
<g id="node3" class="node">
<title>l2</title>
<ellipse fill="none" stroke="black" cx="18.55" cy="-59.6" rx="18.55" ry="18.55"></ellipse>
<text text-anchor="middle" x="18.55" y="-55.4" font-family="Arial" font-size="14.00">l2</text>
</g>
<!-- ol2 -->
<g id="node5" class="node">
<title>ol2</title>
<polygon fill="none" stroke="black" points="81.11,-76.4 81.11,-115.2 298.64,-115.2 298.64,-76.4 81.11,-76.4"></polygon>
<text text-anchor="start" x="141.63" y="-91.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l2: Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="81.11,-4 81.11,-76.4 298.64,-76.4 298.64,-4 81.11,-4"></polygon>
<text text-anchor="start" x="92.11" y="-52.8" font-family="Arial" font-size="14.00">titulo = "Programación en Java"</text>
<text text-anchor="start" x="275.97" y="-36" font-family="Arial" font-size="14.00">...</text>
<text text-anchor="start" x="255.73" y="-19.2" font-family="Arial" font-size="14.00">autor</text>
</g>
<!-- l2&#45;&gt;ol2 -->
<g id="edge2" class="edge">
<title>l2-&gt;ol2</title>
<path fill="none" stroke="black" d="M37.35,-59.6C44.19,-59.6 52.62,-59.6 61.98,-59.6"></path>
<polygon fill="black" stroke="black" points="61.83,-63.1 71.83,-59.6 61.83,-56.1 61.83,-63.1"></polygon>
</g>
<!-- ol1&#45;&gt;oe -->
<g id="edge3" class="edge">
<title>ol1:autor-&gt;oe</title>
<path fill="none" stroke="black" d="M282.8,-160.4C298.52,-160.4 314.97,-160.41 331.34,-160.42"></path>
<polygon fill="black" stroke="black" points="331.13,-163.92 341.13,-160.42 331.14,-156.92 331.13,-163.92"></polygon>
</g>
<!-- ol2&#45;&gt;oe -->
<g id="edge4" class="edge">
<title>ol2:autor-&gt;oe</title>
<path fill="none" stroke="black" d="M288.64,-23.4C340.67,-23.4 387.84,-58.32 421.8,-92.92"></path>
<polygon fill="black" stroke="black" points="419.23,-95.3 428.67,-100.12 424.3,-90.47 419.23,-95.3"></polygon>
</g>
</g>
</svg>
</p><p></p>
<p>Puedes descargar el código de ejemplo propuesto para esta agregación del siguiente enlace: <strong><a href="assets/ejemplos/1_agregacion_simple_ejemplo.cs">1_agregacion_simple.cs</a></strong>.</p>
<div style="page-break-after:always;"></div>
<h4 id="ejemplo-de-composición">Ejemplo de Composición </h4>
<p>Para este ejemplo de composición, vamos ha hacer algunos cambios añadiendo <strong>tres clases colaboradoras más</strong> y quitando alguna propiedad que ya no va a tener sentido. Dichas clases serán <strong>Value Objects</strong> que comentamos en la <strong>unidad 13</strong>. Su característica de inmutabilidad nos permite usarlas como <strong>subobjetos</strong> de forma implícita.</p>
<ol>
<li>Una es el <strong>(tipo referencia</strong>) <strong><code>Isbn13</code></strong> se encargará de asignar un <strong>identificador único o id</strong> a cada libro y por tanto convertirlo en una entidad (<strong><code>&lt;&lt;entity&gt;&gt;</code></strong>) y es una composición porque obviamente al desaparecer el libro, desaparece su Isbn. (<strong><a href="../u13_poo_definir_tipos/assets/ejemplos/6_isbn_record_class_ejemplo.cs">Enlace a Isbn13.cs</a></strong>). Quitaremos de <strong><code>Libro</code></strong> el método <strong><code>Lee(..)</code></strong> y la propiedades <strong><code>PaginasLeidas</code></strong> y <strong><code>PorcentajeLeido</code></strong> ya que no tienen sentido al convertirse en una entidad única. El libro, <strong>ya no representará un ejemplar concreto de un libro que se pueda leer</strong>, sino un libro en sí mismo como entidad publicada.</li>
<li>Otra es el (<strong>tipo valor</strong>) <strong><code>DateOnly</code></strong> definida en la BCL y <strong>que sustituiremos por la propiedad <code>Año</code></strong> en la clase <strong><code>Libro</code></strong>. Será una composición por los mismos motivos que el Isbn. La nueva propiedad se llamará <strong><code>FechaPublicacion</code></strong> asociada a este tipo será.<br>
También la vamos a usar en la clase <strong><code>Escritor</code></strong> por lo que vamos ha cambiar la propiedad <strong><code>int Nacimiento</code></strong> por  <strong><code>DateOnly FechaNacimiento</code></strong> y la convertiremos en una composición.</li>
<li>La última es el (<strong>tipo valor</strong>) <strong><code>Guid</code></strong> definida en la BCL y que añadiremos a la clase <strong><code>Escritor</code></strong> como propiedad <strong><code>Id</code></strong> para identificar de forma única a cada escritor. Será una composición por los mismos motivos que el Isbn y hará que el <strong><code>Escritor</code></strong> sea una entidad (<strong><code>&lt;&lt;entity&gt;&gt;</code></strong>).</li>
</ol>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="328.5px" preserveAspectRatio="none" style="width:443px;height:328px;background:#FFFFFF;" version="1.1" viewBox="0 0 443 328" width="443.7px" zoomAndPan="magnify"><defs></defs><g><!--class Libro--><g class="entity" data-entity="Libro" data-source-line="11" data-uid="ent0002" id="entity_Libro"><rect fill="#FFFAFA" height="77.3297" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="145.9854" x="174.6" y="6.3"></rect><ellipse cx="226.6545" cy="25.5164" fill="#FF7700" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M225.628,26.2336 L225.628,28.4836 L229.5233,28.4836 L229.5233,27.6539 Q229.5233,27.1055 229.7342,26.8664 Q229.9592,26.6273 230.2967,26.6273 Q230.6342,26.6273 230.8452,26.8664 Q231.0561,27.1055 231.0561,27.6539 L231.0561,30.0164 L223.8561,30.0164 Q223.2936,30.0164 223.0545,29.8055 Q222.8295,29.5945 222.8295,29.243 Q222.8295,28.9055 223.0686,28.6945 Q223.3077,28.4836 223.8561,28.4836 L224.0952,28.4836 L224.0952,22.493 L223.8561,22.493 Q223.2936,22.493 223.0545,22.282 Q222.8295,22.0711 222.8295,21.7195 Q222.8295,21.382 223.0545,21.1711 Q223.2936,20.9602 223.8561,20.9602 L230.7186,20.9602 L230.7186,23.2945 Q230.7186,23.843 230.5077,24.082 Q230.3108,24.307 229.9592,24.307 Q229.6217,24.307 229.4108,24.082 Q229.1999,23.843 229.1999,23.2945 L229.1999,22.493 L225.628,22.493 L225.628,24.7008 L226.9639,24.7008 Q226.9639,24.1102 227.0764,23.9414 Q227.3155,23.5758 227.7374,23.5758 Q228.0749,23.5758 228.2858,23.8148 Q228.4967,24.0398 228.4967,24.5883 L228.4967,26.3602 Q228.4967,26.8523 228.3842,27.0211 Q228.1452,27.3727 227.7374,27.3727 Q227.3155,27.3727 227.0764,27.007 Q226.9639,26.8383 226.9639,26.2336 L225.628,26.2336 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="37.8264" x="243.3045" y="22.0113">«entity»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="28.0178" x="248.2088" y="37.4643">Libro</text><line style="stroke:#000000;stroke-width:0.45;" x1="175.5" x2="319.6854" y1="44.7328" y2="44.7328"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="135.167" x="180" y="61.4127">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="135.1854" x="180" y="77.2611">-paginas : int {readOnly}</text></g><!--class Escritor--><g class="entity" data-entity="Escritor" data-source-line="17" data-uid="ent0003" id="entity_Escritor"><rect fill="#FFFAFA" height="61.4813" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="162.0738" x="6.3" y="153.9"></rect><ellipse cx="62.1602" cy="173.1164" fill="#FF7700" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M61.1336,173.8336 L61.1336,176.0836 L65.029,176.0836 L65.029,175.2539 Q65.029,174.7055 65.2399,174.4664 Q65.4649,174.2273 65.8024,174.2273 Q66.1399,174.2273 66.3508,174.4664 Q66.5618,174.7055 66.5618,175.2539 L66.5618,177.6164 L59.3618,177.6164 Q58.7993,177.6164 58.5602,177.4055 Q58.3352,177.1945 58.3352,176.843 Q58.3352,176.5055 58.5743,176.2945 Q58.8133,176.0836 59.3618,176.0836 L59.6008,176.0836 L59.6008,170.093 L59.3618,170.093 Q58.7993,170.093 58.5602,169.882 Q58.3352,169.6711 58.3352,169.3195 Q58.3352,168.982 58.5602,168.7711 Q58.7993,168.5602 59.3618,168.5602 L66.2243,168.5602 L66.2243,170.8945 Q66.2243,171.443 66.0133,171.682 Q65.8165,171.907 65.4649,171.907 Q65.1274,171.907 64.9165,171.682 Q64.7055,171.443 64.7055,170.8945 L64.7055,170.093 L61.1336,170.093 L61.1336,172.3008 L62.4696,172.3008 Q62.4696,171.7102 62.5821,171.5414 Q62.8211,171.1758 63.243,171.1758 Q63.5805,171.1758 63.7915,171.4148 Q64.0024,171.6398 64.0024,172.1883 L64.0024,173.9602 Q64.0024,174.4523 63.8899,174.6211 Q63.6508,174.9727 63.243,174.9727 Q62.8211,174.9727 62.5821,174.607 Q62.4696,174.4383 62.4696,173.8336 L61.1336,173.8336 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="37.8264" x="83.0487" y="169.6113">«entity»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="42.7034" x="80.6102" y="185.0643">Escritor</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="167.4738" y1="192.3328" y2="192.3328"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="151.2738" x="11.7" y="209.0127">-nombre : string {readOnly}</text></g><!--class Isbn13--><g class="entity" data-entity="Isbn13" data-source-line="22" data-uid="ent0004" id="entity_Isbn13"><rect fill="#FFFAFA" height="38.4328" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="94.2451" x="200.25" y="165.15"></rect><ellipse cx="213.75" cy="184.3664" fill="#FF7700" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M214.2844,187.3055 L216.5063,182.018 L216.1547,182.018 Q215.6063,182.018 215.3672,181.807 Q215.1281,181.5961 215.1281,181.2445 Q215.1281,180.907 215.3672,180.6961 Q215.6063,180.4852 216.1547,180.4852 L218.2078,180.4852 Q218.7563,180.4852 218.9953,180.6961 Q219.2344,180.907 219.2344,181.2445 Q219.2344,181.6664 218.8688,181.9055 Q218.7,182.018 218.1656,182.018 L215.0297,189.5414 L213.5531,189.5414 L210.4172,182.018 Q209.8828,182.018 209.7141,181.9055 Q209.3484,181.6664 209.3484,181.2445 Q209.3484,180.907 209.5875,180.6961 Q209.8266,180.4852 210.375,180.4852 L212.4422,180.4852 Q212.9906,180.4852 213.2156,180.6961 Q213.4547,180.907 213.4547,181.2445 Q213.4547,181.5961 213.2156,181.807 Q212.9906,182.018 212.4422,182.018 L212.0766,182.018 L214.2844,187.3055 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="69.0451" x="224.55" y="180.8613">«valueObject»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="37.8308" x="240.1572" y="196.3143">Isbn13</text></g><!--class Guid--><g class="entity" data-entity="Guid" data-source-line="26" data-uid="ent0005" id="entity_Guid"><rect fill="#FFFAFA" height="38.4328" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="82.2428" x="46.35" y="285.3"></rect><ellipse cx="59.85" cy="304.5164" fill="#FF7700" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M57.6422,307.4836 L57.6422,301.493 Q57.15,301.4789 56.9109,301.268 Q56.6859,301.057 56.6859,300.7195 Q56.6859,300.382 56.925,300.1711 Q57.1641,299.9602 57.7125,299.9602 L60.9188,299.9602 Q61.6641,299.9602 62.3813,300.2414 Q63.0984,300.5086 63.5344,300.9445 Q63.8578,301.268 64.2094,301.8305 Q64.5609,302.3789 64.7438,302.9414 Q64.9266,303.4898 64.9266,304.2914 L64.9266,305.0227 Q64.9266,305.993 64.5891,306.7523 Q64.2656,307.4977 63.7313,307.9758 Q63.1969,308.4398 62.7328,308.6648 Q61.9875,309.0164 60.7922,309.0164 L57.7125,309.0164 Q57.1641,309.0164 56.925,308.8055 Q56.6859,308.5945 56.6859,308.243 Q56.6859,307.9055 56.925,307.6945 Q57.1641,307.4836 57.6422,307.4836 Z M59.175,307.4836 L60.8063,307.4836 Q61.7063,307.4836 62.1703,307.2164 Q62.775,306.8789 63.0844,306.3586 Q63.3938,305.8242 63.3938,304.9805 L63.3938,304.2492 Q63.3938,303.532 63.1125,302.9836 Q62.6766,302.1258 62.1281,301.8164 Q61.5938,301.493 60.7922,301.493 L59.175,301.493 L59.175,307.4836 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="57.0428" x="70.65" y="301.0113">«dataType»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="26.615" x="85.8639" y="316.4643">Guid</text></g><!--class DateOnly--><g class="entity" data-entity="DateOnly" data-source-line="30" data-uid="ent0006" id="entity_DateOnly"><rect fill="#FFFAFA" height="38.4328" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="82.2428" x="175.05" y="285.3"></rect><ellipse cx="188.55" cy="304.5164" fill="#FF7700" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M186.3422,307.4836 L186.3422,301.493 Q185.85,301.4789 185.6109,301.268 Q185.3859,301.057 185.3859,300.7195 Q185.3859,300.382 185.625,300.1711 Q185.8641,299.9602 186.4125,299.9602 L189.6188,299.9602 Q190.3641,299.9602 191.0813,300.2414 Q191.7984,300.5086 192.2344,300.9445 Q192.5578,301.268 192.9094,301.8305 Q193.2609,302.3789 193.4438,302.9414 Q193.6266,303.4898 193.6266,304.2914 L193.6266,305.0227 Q193.6266,305.993 193.2891,306.7523 Q192.9656,307.4977 192.4313,307.9758 Q191.8969,308.4398 191.4328,308.6648 Q190.6875,309.0164 189.4922,309.0164 L186.4125,309.0164 Q185.8641,309.0164 185.625,308.8055 Q185.3859,308.5945 185.3859,308.243 Q185.3859,307.9055 185.625,307.6945 Q185.8641,307.4836 186.3422,307.4836 Z M187.875,307.4836 L189.5063,307.4836 Q190.4063,307.4836 190.8703,307.2164 Q191.475,306.8789 191.7844,306.3586 Q192.0938,305.8242 192.0938,304.9805 L192.0938,304.2492 Q192.0938,303.532 191.8125,302.9836 Q191.3766,302.1258 190.8281,301.8164 Q190.2938,301.493 189.4922,301.493 L187.875,301.493 L187.875,307.4836 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="57.0428" x="199.35" y="301.0113">«dataType»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="52.5226" x="201.6101" y="316.4643">DateOnly</text></g><!--reverse link Libro to Escritor--><g class="link" data-entity-1="Libro" data-entity-2="Escritor" data-source-line="34" data-uid="lnk7" id="link_Libro_Escritor"><path codeline="34" d="M177.9411,90.0144 C166.0341,98.3574 162.783,101.322 152.1,110.7 C137.34,123.66 122.652,139.842 110.997,153.666" fill="none" id="Libro-backto-Escritor" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="186.786,83.817,180.2978,83.9674,177.9411,90.0144,184.4294,89.864,186.786,83.817" style="stroke:#000000;stroke-width:0.9;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="87.1501" x="153" y="123.7456">tiene como autor</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="170.7085" y="103.0386">1</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="108.6265" y="144.1647">1</text></g><!--reverse link Libro to Isbn13--><g class="link" data-entity-1="Libro" data-entity-2="Isbn13" data-source-line="35" data-uid="lnk8" id="link_Libro_Isbn13"><path codeline="35" d="M247.5,94.689 C247.5,121.122 247.5,144.396 247.5,165.096" fill="none" id="Libro-backto-Isbn13" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="#000000" points="247.5,83.889,243.9,89.289,247.5,94.689,251.1,89.289,247.5,83.889" style="stroke:#000000;stroke-width:0.9;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="74.7989" x="248.4" y="123.7456">es identificado</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="240.7389" y="102.8323">1</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="240.379" y="155.4413">1</text></g><!--reverse link Libro to DateOnly--><g class="link" data-entity-1="Libro" data-entity-2="DateOnly" data-source-line="36" data-uid="lnk9" id="link_Libro_DateOnly"><path codeline="36" d="M318.4931,91.2877 C326.8001,99.0817 326.268,100.638 331.2,110.7 C334.368,117.162 332.028,119.745 331.2,126.9 C324.279,186.651 335.997,211.032 298.8,258.3 C288.153,271.836 272.313,281.907 257.328,289.089" fill="none" id="Libro-backto-DateOnly" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="#000000" points="310.617,83.898,312.0918,90.2182,318.4931,91.2877,317.0183,84.9675,310.617,83.898" style="stroke:#000000;stroke-width:0.9;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="106.6768" x="330.3" y="189.4456">fecha de publicacion</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="313.1262" y="102.8426">1</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="264.4059" y="283.2536">1</text></g><!--reverse link Escritor to DateOnly--><g class="link" data-entity-1="Escritor" data-entity-2="DateOnly" data-source-line="37" data-uid="lnk10" id="link_Escritor_DateOnly"><path codeline="37" d="M146.1634,221.2426 C157.8364,229.2796 160.902,232.344 171,242.1 C184.347,254.988 196.551,272.214 204.876,285.183" fill="none" id="Escritor-backto-DateOnly" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="#000000" points="137.268,215.118,139.6742,221.1455,146.1634,221.2426,143.7573,215.2152,137.268,215.118" style="stroke:#000000;stroke-width:0.9;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="104.7173" x="186.3" y="255.1456">fecha de nacimiento</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="140.1984" y="234.7125">1</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="194.5423" y="275.5106">1</text></g><!--reverse link Escritor to Guid--><g class="link" data-entity-1="Escritor" data-entity-2="Guid" data-source-line="38" data-uid="lnk11" id="link_Escritor_Guid"><path codeline="38" d="M87.3,226.062 C87.3,247.977 87.3,266.265 87.3,284.994" fill="none" id="Escritor-backto-Guid" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="#000000" points="87.3,215.262,83.7,220.662,87.3,226.062,90.9,220.662,87.3,215.262" style="stroke:#000000;stroke-width:0.9;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="74.7989" x="88.2" y="255.1456">es identificado</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="80.4122" y="234.6475">1</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="80.1352" y="275.6005">1</text></g><!--SRC=[XPBVIyCm4CVVyrSSzKN5oSG7SGnXFqKG52RwdARd5jVaId9LglY_UzjALwMoleGad_j-lxahKm5Ca18pESXiGCEMl8f6vmZzysiLrzONEcW79jSnZfY3JKl6EqD-OJy5QY6Z4EXZGZa56EVQh5jNZxBLInpBiWnK-co7lQmiuyBH6bliPECqff1Xw1RR0N-a5fu-b5hP305TmHKuT2c6gBR1uTwcWM0uF9wT7StdLrVz_WcWPylLpOtwKY1V3sHRvWG3YF9CluIlW3fxy7drNGE5Nbglen3MS_lwMzK-isY2PSbpmCgJImDsMZLQTp7r5vSRfUUzqhlEItn8tsHKMxc6lYrjjc6dUpRJh9-g0d-3KysuSJe0xpgMN2H0lTvsRTusW8GjUWH3Za2NSfQq-DEQh_CBZH5aCDA3LsjqHWbqq4qiuL_Hh3J8A8iopQN4o5-PgCR_O9cN2YS9cVwfsZQh8vZw0G00]--></g></svg></p><p></p>
<div style="page-break-after:always;"></div>
<p>Si te fijas el diagrama anterior, las relaciones tienen cardinalidad <strong><code>1..1</code></strong>, hemos añadido el estereotipo <strong><code>&lt;&lt;entity&gt;&gt;</code></strong> a las clases <strong><code>Libro</code></strong> y <strong><code>Escritor</code></strong>. Así como el estereotipo <strong><code>&lt;&lt;valueObject&gt;&gt;</code></strong> a la clases <strong><code>Isbn13</code></strong> y <strong><code>&lt;&lt;dataType&gt;&gt;</code></strong> a <strong><code>DateOnly</code></strong> y <strong><code>Guid</code></strong>.</p>
<p>Estas relaciones se transformarán en las siguientes propiedades definidas en las clases...</p>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="552.6px" preserveAspectRatio="none" style="width:430px;height:552px;background:#FFFFFF;" version="1.1" viewBox="0 0 430 552" width="430.2px" zoomAndPan="magnify"><defs></defs><g><!--class Libro--><g class="entity" data-entity="Libro" data-source-line="10" data-uid="ent0002" id="entity_Libro"><rect fill="#FFFAFA" height="227.1656" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="417.9067" x="6.3" y="6.3"></rect><ellipse cx="194.3152" cy="25.5164" fill="#FF7700" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M193.2886,26.2336 L193.2886,28.4836 L197.1839,28.4836 L197.1839,27.6539 Q197.1839,27.1055 197.3949,26.8664 Q197.6199,26.6273 197.9574,26.6273 Q198.2949,26.6273 198.5058,26.8664 Q198.7167,27.1055 198.7167,27.6539 L198.7167,30.0164 L191.5167,30.0164 Q190.9542,30.0164 190.7152,29.8055 Q190.4902,29.5945 190.4902,29.243 Q190.4902,28.9055 190.7292,28.6945 Q190.9683,28.4836 191.5167,28.4836 L191.7558,28.4836 L191.7558,22.493 L191.5167,22.493 Q190.9542,22.493 190.7152,22.282 Q190.4902,22.0711 190.4902,21.7195 Q190.4902,21.382 190.7152,21.1711 Q190.9542,20.9602 191.5167,20.9602 L198.3792,20.9602 L198.3792,23.2945 Q198.3792,23.843 198.1683,24.082 Q197.9714,24.307 197.6199,24.307 Q197.2824,24.307 197.0714,24.082 Q196.8605,23.843 196.8605,23.2945 L196.8605,22.493 L193.2886,22.493 L193.2886,24.7008 L194.6246,24.7008 Q194.6246,24.1102 194.7371,23.9414 Q194.9761,23.5758 195.398,23.5758 Q195.7355,23.5758 195.9464,23.8148 Q196.1574,24.0398 196.1574,24.5883 L196.1574,26.3602 Q196.1574,26.8523 196.0449,27.0211 Q195.8058,27.3727 195.398,27.3727 Q194.9761,27.3727 194.7371,27.007 Q194.6246,26.8383 194.6246,26.2336 L193.2886,26.2336 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="37.8264" x="210.9652" y="22.0113">«entity»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="28.0178" x="215.8695" y="37.4643">Libro</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="423.3067" y1="44.7328" y2="44.7328"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="109.2164" x="11.7" y="61.4127">- isbn : Isbn13 {id}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="135.167" x="11.7" y="77.2611">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="245.7677" x="11.7" y="93.1096">- fechaPublicacion : DateOnly {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="135.1854" x="11.7" y="108.958">-paginas : int {readOnly}</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="423.3067" y1="115.3266" y2="115.3266"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="407.1067" x="11.7" y="132.0064">+ Libro(in isbn: Isbn13, ..., in fecha : DateOnly, ..., in autor : Escritor)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="103.2548" x="11.7" y="147.8549">+ GetIsbn() : Isbn</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="108.1828" x="11.7" y="163.7033">+GetTitulo() : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="213.8985" x="11.7" y="179.5518">+ GetFechaPublicacion() : DateOnly</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="119.3801" x="11.7" y="195.4002">+GetAutor() : Escritor</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="105.402" x="11.7" y="211.2486">+GetPaginas() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="96.9794" x="11.7" y="227.0971">+ATexto() : string</text></g><!--class Escritor--><g class="entity" data-entity="Escritor" data-source-line="10" data-uid="ent0003" id="entity_Escritor"><rect fill="#FFFAFA" height="243.0141" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="373.8129" x="28.35" y="303.3"></rect><ellipse cx="190.0797" cy="322.5164" fill="#FF7700" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M189.0532,323.2336 L189.0532,325.4836 L192.9485,325.4836 L192.9485,324.6539 Q192.9485,324.1055 193.1594,323.8664 Q193.3844,323.6273 193.7219,323.6273 Q194.0594,323.6273 194.2704,323.8664 Q194.4813,324.1055 194.4813,324.6539 L194.4813,327.0164 L187.2813,327.0164 Q186.7188,327.0164 186.4797,326.8055 Q186.2547,326.5945 186.2547,326.243 Q186.2547,325.9055 186.4938,325.6945 Q186.7329,325.4836 187.2813,325.4836 L187.5204,325.4836 L187.5204,319.493 L187.2813,319.493 Q186.7188,319.493 186.4797,319.282 Q186.2547,319.0711 186.2547,318.7195 Q186.2547,318.382 186.4797,318.1711 Q186.7188,317.9602 187.2813,317.9602 L194.1438,317.9602 L194.1438,320.2945 Q194.1438,320.843 193.9329,321.082 Q193.736,321.307 193.3844,321.307 Q193.0469,321.307 192.836,321.082 Q192.625,320.843 192.625,320.2945 L192.625,319.493 L189.0532,319.493 L189.0532,321.7008 L190.3891,321.7008 Q190.3891,321.1102 190.5016,320.9414 Q190.7407,320.5758 191.1625,320.5758 Q191.5,320.5758 191.711,320.8148 Q191.9219,321.0398 191.9219,321.5883 L191.9219,323.3602 Q191.9219,323.8523 191.8094,324.0211 Q191.5704,324.3727 191.1625,324.3727 Q190.7407,324.3727 190.5016,324.007 Q190.3891,323.8383 190.3891,323.2336 L189.0532,323.2336 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="37.8264" x="210.9683" y="319.0113">«entity»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="42.7034" x="208.5297" y="334.4643">Escritor</text><line style="stroke:#000000;stroke-width:0.45;" x1="29.25" x2="401.2629" y1="341.7328" y2="341.7328"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="83.2904" x="33.75" y="358.4127">- id : Guid {id}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="151.2738" x="33.75" y="374.2611">-nombre : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="224.1114" x="33.75" y="390.1096">-fechaNacimiento : DateOnly {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="167.3991" x="33.75" y="405.958">-publicaciones : int {readOnly}</text><line style="stroke:#000000;stroke-width:0.45;" x1="29.25" x2="401.2629" y1="412.3266" y2="412.3266"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="363.0129" x="33.75" y="429.0064">+ Escritor(in nombre : string, in fechaNacimiento : DateOnly)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="91.3438" x="33.75" y="444.8549">+ GetId() : Guid</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="128.4855" x="33.75" y="460.7033">+GetNombre() : strings</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="174.6835" x="33.75" y="476.5518">+ GetNacimiento() : DateOnly</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="137.6156" x="33.75" y="492.4002">+GetPublicaciones() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="290.1691" x="33.75" y="508.2486">+ Escribe(in titulo : string, in isbn Isbn13) : Libro</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="92.7958" x="33.75" y="524.0971">+/GetEdad() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="96.9794" x="33.75" y="539.9455">+ATexto() : string</text></g><!--reverse link Libro to Escritor--><g class="link" data-entity-1="Libro" data-entity-2="Escritor" data-source-line="10" data-uid="lnk4" id="link_Libro_Escritor"><path codeline="10" d="M215.1,243.909 C215.1,266.751 215.1,280.062 215.1,303.183" fill="none" id="Libro-backto-Escritor" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="215.1,233.109,211.5,238.509,215.1,243.909,218.7,238.509,215.1,233.109" style="stroke:#000000;stroke-width:0.9;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="87.1501" x="216" y="273.1456">tiene como autor</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="208.595" y="252.9795">1</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.507" x="208.6148" y="293.4901">1</text></g><!--SRC=[ZLF1Rjf04BtxAqRq0XGeKGzHgoWIf115gb8a8kMytft22di7xQwLKfH_xtXjuyKYJNnPsU_Dctdprfxsu0bIyfvoKDgYz9fCugJ84AQJRudRQRCNLkGWC-7Sp7khqyBZWoIprd-P555crjBB7MLaOPu9kOkW5R-A3Sxvs5WgZAfeprljSPtJ3YFkNTbfJbQXlInM4JfIQqClIV9JfvQWTzK36e_3kN3IQi-4xz3p6Ws2f9n05FojboHRhH0mt_i3v9YdQ5qId4Ab13St_SNeqt9vVJsT3W2Dr_vmUviS4-1dE1o3TgbXxGS-hhx2KQlNuJ20Os1kaH63ZhTcDd2qADGlanrUJzM_KMx5gaWpBONarJFvX_1OaYBwIN4lDje8nonjVAnN2twknkvh4-PgnXh1P38PSKtLBshI8c4XZ3Jx6jHDIz5xzALGVr0RhQ40F0MJ0QfinbNBZhr0Qth7AhEoUq2R_Yssgam7b6tNmEm9__Yplho5AhfJvE-7fxZylk3ZB3X3UMhnpU3gs1xPKiutojFbr9hCMllul-IQgSlmEWEqqLtisOrAXQsKjk8LFmRDQ64kBcg5tyne5HivI-CqVehbz9rx7wOFlqbr6ylAS4rFubzOVQ64-aZ4_m00]--></g></svg></p><p></p>
<p>Fíjate que hemos añadido el estereotipo <strong><code>{id}</code></strong> a <strong><code>Isbn</code></strong> y al <strong><code>Id</code></strong> del escritor. Este además de indicar que es un <strong>identificador único</strong>, lleva implícito que es un de <strong>solo lectura</strong> (<strong><code>{readonly}</code></strong>).</p>
<p>Empecemos con la implementación. Primero vamos a modificar la clase <strong><code>Libro</code></strong> para que tenga las nuevas propiedades y el constructor que recibe los nuevos parámetros:</p>
<div class="admonition warning">
<p class="admonition-title">Aviso</p>
<p>Recuerda borrar el método <strong><code>Lee(..)</code></strong> y las propiedades <strong><code>PaginasLeidas</code></strong> y <strong><code>PorcentajeLeido</code></strong> de la clase <strong><code>Libro</code></strong>, ya que no tienen sentido como hemos comentado..</p>
</div>
<div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp {highlight=[4-5, 9, 11, 25,27]}" class="language-csharp csharp" data-line="4-5,9,11,25,27"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido por brevedad.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Isbn13</span> Isbn <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">DateOnly</span> FechaPublicacion <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token comment">// ... código omitido por brevedad.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span>
        <span class="token class-name">Isbn13</span> isbn<span class="token punctuation">,</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span>
        <span class="token class-name">DateOnly</span> fechaPublicacion<span class="token punctuation">,</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">,</span>
        <span class="token class-name">Escritor</span> autor<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Isbn <span class="token operator">=</span> isbn<span class="token punctuation">;</span>
        Titulo <span class="token operator">=</span> titulo<span class="token punctuation">;</span>
        FechaPublicacion <span class="token operator">=</span> fechaPublicacion<span class="token punctuation">;</span>
        Paginas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
        Autor <span class="token operator">=</span> autor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ... código omitido por brevedad.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                Libro
                <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
                ISBN<span class="token punctuation">:</span> <span class="token punctuation">{</span>Isbn<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                Título<span class="token punctuation">:</span> <span class="token punctuation">{</span>Titulo<span class="token punctuation">}</span>
                Fecha Publicación<span class="token punctuation">:</span> <span class="token punctuation">{</span>FechaPublicacion<span class="token punctuation">:</span>dd<span class="token operator">-</span>MM<span class="token operator">-</span>yyyy<span class="token punctuation">}</span>
                Páginas<span class="token punctuation">:</span> <span class="token punctuation">{</span>Paginas<span class="token punctuation">}</span>
                Autor <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
                <span class="token punctuation">{</span>Autor<span class="token punctuation">.</span>Nombre<span class="token punctuation">}</span>
                <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4-5" data-start="4" data-end="5">

</div></div><div class="line-highlight-wrapper">







<div aria-hidden="true" class="line-highlight" data-range="9" data-start="9">
</div></div><div class="line-highlight-wrapper">









<div aria-hidden="true" class="line-highlight" data-range="11" data-start="11">
</div></div><div class="line-highlight-wrapper">























<div aria-hidden="true" class="line-highlight" data-range="25" data-start="25">
</div></div><div class="line-highlight-wrapper">

























<div aria-hidden="true" class="line-highlight" data-range="27" data-start="27">
</div></div></pre><p>Al modificar el constructor de la clase <strong><code>Libro</code></strong>, deberemos modificar el método <strong><code>Escribe()</code></strong> de la clase <strong><code>Escritor</code></strong> para que cree un objeto <strong><code>Isbn13</code></strong> y un objeto <strong><code>DateOnly</code></strong> y los pase al constructor de <strong><code>Libro</code></strong>. Además, tiene cierto sentido que el método <strong><code>Escribe()</code></strong> reciba el <strong><code>Isbn13</code></strong> con el que se va a publicar el libro por parte de algún tipo de editorial o <strong>publicador</strong>.</p>
<p>Además, vamos a añadir las nuevas propiedades <strong><code>Id</code></strong> y <strong><code>FechaNacimiento</code></strong> a la clase <strong><code>Escritor</code></strong> y modificar el constructor que las inicializa y otros métodos donde se usen como la propiedad calculada <strong><code>Edad</code></strong> o el método <strong><code>ATexto()</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[4, 5, 11, 18, 20, 26, 31, 33]}" class="language-csharp csharp" data-line="4,5,11,18,20,26,31,33"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Escritor</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido por brevedad.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Guid</span> Id <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">DateOnly</span> FechaNacimiento <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Edad <span class="token operator">=&gt;</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Year <span class="token operator">-</span> FechaNacimiento<span class="token punctuation">.</span>Year<span class="token punctuation">;</span>

    <span class="token comment">// ... código omitido por brevedad.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Escritor</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token class-name">DateOnly</span> fechaNacimiento<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Id <span class="token operator">=</span> Guid<span class="token punctuation">.</span><span class="token function">NewGuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        FechaNacimiento <span class="token operator">=</span> fechaNacimiento<span class="token punctuation">;</span>
        Publicaciones <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                    Id<span class="token punctuation">:</span> <span class="token punctuation">{</span>Id<span class="token punctuation">}</span>
                    Nombre<span class="token punctuation">:</span> <span class="token punctuation">{</span>Nombre<span class="token punctuation">}</span>
                    Nacimiento<span class="token punctuation">:</span> <span class="token punctuation">{</span>FechaNacimiento<span class="token punctuation">}</span>
                    Publicaciones<span class="token punctuation">:</span> <span class="token punctuation">{</span>Publicaciones<span class="token punctuation">}</span>
                    <span class="token string">""</span>"<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span> 
        <span class="token class-name">Isbn13</span> isbn<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400</span><span class="token range operator">..</span><span class="token number">800</span><span class="token punctuation">;</span>
        Publicaciones<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">isbn</span><span class="token punctuation">:</span> isbn<span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">titulo</span><span class="token punctuation">:</span> titulo<span class="token punctuation">,</span> 
            <span class="token named-parameter punctuation">fechaPublicacion</span><span class="token punctuation">:</span> DateOnly<span class="token punctuation">.</span><span class="token function">FromDateTime</span><span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">paginas</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">autor</span><span class="token punctuation">:</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5" data-start="5">
</div></div><div class="line-highlight-wrapper">









<div aria-hidden="true" class="line-highlight" data-range="11" data-start="11">
</div></div><div class="line-highlight-wrapper">
















<div aria-hidden="true" class="line-highlight" data-range="18" data-start="18">
</div></div><div class="line-highlight-wrapper">


















<div aria-hidden="true" class="line-highlight" data-range="20" data-start="20">
</div></div><div class="line-highlight-wrapper">
























<div aria-hidden="true" class="line-highlight" data-range="26" data-start="26">
</div></div><div class="line-highlight-wrapper">





























<div aria-hidden="true" class="line-highlight" data-range="31" data-start="31">
</div></div><div class="line-highlight-wrapper">































<div aria-hidden="true" class="line-highlight" data-range="33" data-start="33">
</div></div></pre><div style="page-break-after:always;"></div>
<p>Por último, vamos modificar el <strong><code>Main()</code></strong> para que introducir el nuevo objeto <strong><code>Isbn13</code></strong> en el momento de crear el <strong><code>Libro</code></strong> y añadir <strong><code>FechaDeNacimiento</code></strong> al constructor de <strong><code>Escritor</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Escritor</span> e <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span>
        <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"María Pérez"</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">fechaNacimiento</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateOnly</span><span class="token punctuation">(</span><span class="token number">1985</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Libro</span> l <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">Escribe</span><span class="token punctuation">(</span>
        <span class="token named-parameter punctuation">titulo</span><span class="token punctuation">:</span> <span class="token string">"Programación en C#"</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">isbn</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Isbn13</span><span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">prefijo</span><span class="token punctuation">:</span> <span class="token number">978</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">grupoDeRegistro</span><span class="token punctuation">:</span> <span class="token number">84</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">titular</span><span class="token punctuation">:</span> <span class="token number">935489</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">publicacion</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>Mostrará por consola:</strong></p>
<pre class="salida_consola">Libro
--------------------------
ISBN: 978-84-935489-1-9
Título: Programación en C#
Fecha Publicación: 13-01-2026
Páginas: 555
Autor --------------------
María Pérez
</pre> <!-- fin salida consola -->
<p>Fíjate que al mostrar el <strong>libro</strong> <strong><code>l</code></strong> podemos su <strong>Isbn</strong> y la <strong>fecha de publicación</strong> como objetos compuestos y los datos del <strong>autor</strong> como objeto agregado.</p>
<p>Puedes descargar el código de ejemplo propuesto para esta composición del siguiente enlace: <strong><a href="assets/ejemplos/2_composicion_simple_ejemplo.cs">2_composicion_simple_ejemplo.cs</a></strong>.</p>
<div style="page-break-after:always;"></div>
<p>Vamos tratar de representar una vez más cómo quedarían los objetos creados en el <strong><code>Main()</code></strong> en la memoria para repasar una vez más los conceptos de <strong><code>value types</code></strong> y <strong><code>reference types</code></strong>, así como el <strong>Stack</strong> y el <strong>Heap</strong>.</p>
<div class="row">
<div class="col-sm-6 my-auto">
<p></p><p align="center" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 12.2.0 (20241103.1931)
 -->
<!-- Title: G Pages: 1 -->
<svg width="240pt" height="155pt" viewBox="0.00 0.00 240.00 155.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.5 0.5) rotate(0) translate(10.82 307)">
<title>G</title>
<!-- ll -->
<g id="node1" class="node">
<title>ll</title>
<ellipse fill="none" stroke="black" cx="18" cy="-147" rx="18" ry="18"></ellipse>
<text text-anchor="middle" x="18" y="-142.8" font-family="Arial" font-size="14.00">l</text>
</g>
<!-- ol -->
<g id="node3" class="node">
<title>ol</title>
<polygon fill="none" stroke="black" points="81,-206 81,-244.8 266.42,-244.8 266.42,-206 81,-206"></polygon>
<text text-anchor="start" x="129.36" y="-221.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l: Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="steelblue" points="92,-170.2 92,-195 255.42,-195 255.42,-170.2 92,-170.2"></polygon>
<text text-anchor="start" x="144.53" y="-178.4" font-family="Arial" font-size="14.00">DateOnly</text>
<polygon fill="none" stroke="steelblue" points="92,-113.8 92,-170.2 210.51,-170.2 210.51,-113.8 92,-113.8"></polygon>
<text text-anchor="start" x="96" y="-137.8" font-family="Arial" font-size="14.00" fill="steelblue">FechaPublicacion</text>
<text text-anchor="start" x="227.52" y="-154.6" font-family="Arial" font-size="14.00">Day</text>
<text text-anchor="start" x="213.51" y="-137.8" font-family="Arial" font-size="14.00">Month</text>
<text text-anchor="start" x="222.85" y="-121" font-family="Arial" font-size="14.00">Year</text>
<polygon fill="none" stroke="steelblue" points="91,-112.8 91,-196 256.42,-196 256.42,-112.8 91,-112.8"></polygon>
<text text-anchor="start" x="222.96" y="-80.2" font-family="Arial" font-size="14.00">Autor</text>
<text text-anchor="start" x="229.96" y="-63.4" font-family="Arial" font-size="14.00" fill="steelblue">Isbn</text>
<polygon fill="none" stroke="black" points="80,-48.2 80,-245.8 267.42,-245.8 267.42,-48.2 80,-48.2"></polygon>
</g>
<!-- ll&#45;&gt;ol -->
<g id="edge1" class="edge">
<title>ll-&gt;ol</title>
<path fill="none" stroke="black" d="M36.33,-147C43.16,-147 51.61,-147 60.92,-147"></path>
<polygon fill="black" stroke="black" points="60.69,-150.5 70.69,-147 60.69,-143.5 60.69,-150.5"></polygon>
</g>
<!-- le -->
<g id="node2" class="node">
<title>le</title>
<ellipse fill="none" stroke="black" cx="173.71" cy="-286" rx="18" ry="18"></ellipse>
<text text-anchor="middle" x="173.71" y="-281.8" font-family="Arial" font-size="14.00">e</text>
</g>
<!-- oa -->
<g id="node4" class="node">
<title>oa</title>
<polygon fill="none" stroke="black" points="322.54,-241 322.54,-279.8 447.24,-279.8 447.24,-241 322.54,-241"></polygon>
<text text-anchor="start" x="333.54" y="-256.2" font-family="Arial" font-size="14.00">e, autor: Escritor</text>
<polygon fill="none" stroke="black" points="322.54,-202.2 322.54,-241 447.24,-241 447.24,-202.2 322.54,-202.2"></polygon>
<text text-anchor="start" x="371.27" y="-217.4" font-family="Arial" font-size="14.00">... &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- le&#45;&gt;oa -->
<g id="edge4" class="edge">
<title>le-&gt;oa</title>
<path fill="none" stroke="black" d="M191.83,-282.32C216.23,-277.07 262.61,-267.09 303.68,-258.25"></path>
<polygon fill="black" stroke="black" points="304.3,-261.7 313.34,-256.18 302.83,-254.86 304.3,-261.7"></polygon>
</g>
<!-- ol&#45;&gt;oa -->
<g id="edge2" class="edge">
<title>ol:autor-&gt;oa:w</title>
<path fill="none" stroke="black" d="M257.42,-84.4C327.03,-84.4 249.84,-223.19 302.25,-239.45"></path>
<polygon fill="black" stroke="black" points="301.72,-242.91 312.1,-240.8 302.67,-235.98 301.72,-242.91"></polygon>
</g>
<!-- oi -->
<g id="node5" class="node">
<title>oi</title>
<polygon fill="none" stroke="steelblue" points="319.42,-93.2 319.42,-132 450.36,-132 450.36,-93.2 319.42,-93.2"></polygon>
<text text-anchor="start" x="347.14" y="-108.4" font-family="Arial" font-size="14.00">isbn: Isbn13</text>
<polygon fill="none" stroke="steelblue" points="319.42,-4 319.42,-93.2 450.36,-93.2 450.36,-4 319.42,-4"></polygon>
<text text-anchor="start" x="399.67" y="-69.6" font-family="Arial" font-size="14.00">Prefijo</text>
<text text-anchor="start" x="330.42" y="-52.8" font-family="Arial" font-size="14.00">GrupoDeRegistro</text>
<text text-anchor="start" x="400.46" y="-36" font-family="Arial" font-size="14.00">Titular</text>
<text text-anchor="start" x="367.76" y="-19.2" font-family="Arial" font-size="14.00">Publicacion</text>
</g>
<!-- ol&#45;&gt;oi -->
<g id="edge3" class="edge">
<title>ol:isbn-&gt;oi:w</title>
<path fill="none" stroke="steelblue" d="M257.42,-67.6C277.11,-67.6 284.68,-67.87 300.02,-67.97"></path>
<polygon fill="steelblue" stroke="steelblue" points="299.9,-71.47 309.91,-68 299.92,-64.47 299.9,-71.47"></polygon>
</g>
</g>
</svg>
</p><p></p>
</div>
<div class="col-sm-6 my-auto">
<p></p><p align="center" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 12.2.0 (20241103.1931)
 -->
<!-- Title: G Pages: 1 -->
<svg width="250pt" height="155pt" viewBox="0.00 0.00 250.00 155.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.4 0.4) rotate(0) translate(18.01 369.25)">
<title>G</title>
<g id="clust1" class="cluster">
<title>cluster1</title>
<polygon fill="SteelBlue" stroke="black" points="82,-92 82,-259 229.45,-259 229.45,-92 82,-92"></polygon>
<text text-anchor="middle" x="155.72" y="-242.4" font-family="Arial" font-size="14.00" fill="white">STACK</text>
</g>
<g id="clust2" class="cluster">
<title>cluster2</title>
<polygon fill="LightSteelBlue" stroke="black" points="323.45,-8 323.45,-343 530.87,-343 530.87,-8 323.45,-8"></polygon>
<text text-anchor="middle" x="427.16" y="-326.4" font-family="Arial" font-size="14.00">HEAP</text>
</g>
<!-- stack -->
<g id="node1" class="node">
<title>stack</title>
<text text-anchor="start" x="118" y="-188.2" font-family="Arial" font-size="14.00" fill="white">e</text>
<polygon fill="CornflowerBlue" stroke="none" points="145.79,-163 145.79,-221.8 213.45,-221.8 213.45,-163 145.79,-163"></polygon>
<polygon fill="none" stroke="white" points="145.79,-163 145.79,-221.8 213.45,-221.8 213.45,-163 145.79,-163"></polygon>
<text text-anchor="start" x="166.79" y="-188.2" font-family="Arial" font-size="14.00" fill="white">(ref)</text>
<text text-anchor="start" x="120.34" y="-129.4" font-family="Arial" font-size="14.00" fill="white">l</text>
<polygon fill="CornflowerBlue" stroke="none" points="145.79,-104.2 145.79,-163 213.45,-163 213.45,-104.2 145.79,-104.2"></polygon>
<polygon fill="none" stroke="white" points="145.79,-104.2 145.79,-163 213.45,-163 213.45,-104.2 145.79,-104.2"></polygon>
<text text-anchor="start" x="166.79" y="-129.4" font-family="Arial" font-size="14.00" fill="white">(ref)</text>
</g>
<!-- heap -->
<g id="node2" class="node">
<title>heap</title>
<polygon fill="none" stroke="black" points="339.45,-267.2 339.45,-306 514.87,-306 514.87,-267.2 339.45,-267.2"></polygon>
<text text-anchor="start" x="380.1" y="-282.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Escritor &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="339.45,-228.4 339.45,-267.2 514.87,-267.2 514.87,-228.4 339.45,-228.4"></polygon>
<text text-anchor="start" x="397.99" y="-243.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="339.45,-189.6 339.45,-228.4 514.87,-228.4 514.87,-189.6 339.45,-189.6"></polygon>
<text text-anchor="start" x="390.59" y="-205.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="421.71" y="-205.8" font-family="Arial" font-size="14.00" fill="steelblue">Isbn</text>
<text text-anchor="start" x="448.17" y="-205.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="339.45,-150.8 339.45,-189.6 514.87,-189.6 514.87,-150.8 339.45,-150.8"></polygon>
<text text-anchor="start" x="397.99" y="-166" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="339.45,-20 339.45,-150.8 514.87,-150.8 514.87,-20 339.45,-20"></polygon>
<polygon fill="none" stroke="SteelBlue" points="350.45,-121 350.45,-139.8 503.87,-139.8 503.87,-121 350.45,-121"></polygon>
<text text-anchor="start" x="397.98" y="-126.2" font-family="Arial" font-size="14.00">DateOnly</text>
<polygon fill="none" stroke="SteelBlue" points="350.45,-64.6 350.45,-121 462.96,-121 462.96,-64.6 350.45,-64.6"></polygon>
<text text-anchor="start" x="351.45" y="-88.6" font-family="Arial" font-size="14.00">FechaPublicacion</text>
<polygon fill="none" stroke="SteelBlue" points="462.96,-102.2 462.96,-121 503.87,-121 503.87,-102.2 462.96,-102.2"></polygon>
<text text-anchor="start" x="470.96" y="-107.4" font-family="Arial" font-size="14.00">Day</text>
<polygon fill="none" stroke="SteelBlue" points="462.96,-83.4 462.96,-102.2 503.87,-102.2 503.87,-83.4 462.96,-83.4"></polygon>
<text text-anchor="start" x="463.96" y="-88.6" font-family="Arial" font-size="14.00">Month</text>
<polygon fill="none" stroke="SteelBlue" points="462.96,-64.6 462.96,-83.4 503.87,-83.4 503.87,-64.6 462.96,-64.6"></polygon>
<text text-anchor="start" x="468.63" y="-69.8" font-family="Arial" font-size="14.00">Year</text>
<text text-anchor="start" x="440.85" y="-52" font-family="Arial" font-size="14.00">Autor (ref)</text>
<text text-anchor="start" x="447.85" y="-35.2" font-family="Arial" font-size="14.00">Isbn (ref)</text>
</g>
<!-- stack&#45;&gt;heap -->
<g id="edge2" class="edge">
<title>stack:e-&gt;heap:w</title>
<path fill="none" stroke="black" d="M213.45,-133.6C213.45,-133.6 298.24,-101.17 328.71,-89.51"></path>
<polygon fill="black" stroke="black" points="329.95,-92.78 338.03,-85.94 327.44,-86.24 329.95,-92.78"></polygon>
</g>
<!-- stack&#45;&gt;heap -->
<g id="edge3" class="edge">
<title>stack:e-&gt;heap:w</title>
<path fill="none" stroke="black" d="M213.45,-192.4C213.45,-192.4 301.5,-258.23 330.39,-279.83"></path>
<polygon fill="black" stroke="black" points="328.13,-282.51 338.24,-285.69 332.32,-276.9 328.13,-282.51"></polygon>
</g>
<!-- stack&#45;&gt;heap -->
<g id="edge6" class="edge">
<title>stack-&gt;heap</title>
<path fill="none" stroke="none" d="M229.45,-163C257.42,-163 289.88,-163 320.3,-163"></path>
<polygon fill="none" stroke="none" points="311.93,-166.5 321.93,-163 311.93,-159.5 311.93,-166.5"></polygon>
</g>
<!-- heap&#45;&gt;heap -->
<g id="edge4" class="edge">
<title>heap:e-&gt;heap:e</title>
<path fill="none" stroke="black" d="M503.87,-56.2C544.9,-47.2 588.97,-47.2 588.97,-171.4 588.97,-281.05 554.63,-293.89 525.91,-289.21"></path>
<polygon fill="black" stroke="black" points="526.88,-285.84 516.34,-286.95 525.27,-292.65 526.88,-285.84"></polygon>
</g>
<!-- heap&#45;&gt;heap -->
<g id="edge5" class="edge">
<title>heap:e-&gt;heap:e</title>
<path fill="none" stroke="SteelBlue" d="M503.87,-39.4C544.9,-30.4 588.97,-30.4 588.97,-124.2 588.97,-207.01 554.63,-216.71 525.91,-211.66"></path>
<polygon fill="SteelBlue" stroke="SteelBlue" points="526.88,-208.29 516.34,-209.35 525.24,-215.1 526.88,-208.29"></polygon>
</g>
<!-- Cima\nPila -->
<g id="node3" class="node">
<title>Cima\nPila</title>
<text text-anchor="middle" x="27" y="-225.2" font-family="Arial" font-size="14.00">Cima</text>
<text text-anchor="middle" x="27" y="-208.4" font-family="Arial" font-size="14.00">Pila</text>
</g>
<!-- Cima\nPila&#45;&gt;stack -->
<g id="edge1" class="edge">
<title>Cima\nPila-&gt;stack:nw</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M53.85,-221.4C78.9,-221.78 115.76,-222.34 134.28,-222.62"></path>
<polygon fill="black" stroke="black" points="134.22,-226.12 144.27,-222.78 134.33,-219.12 134.22,-226.12"></polygon>
</g>
</g>
</svg>
</p><p></p>
</div>
</div>
<p>En el <strong>proceso de creación de los objetos</strong> tendremos que:</p>
<ol>
<li>
<p>En el <strong>Stack</strong> tendremos dos referencias:</p>
<ul>
<li><strong><code>e</code></strong> que <strong>referencia al objeto</strong> de tipo <strong><code>Escritor</code></strong> <strong><code>"María"</code></strong></li>
<li><strong><code>l</code></strong> que <strong>referencia al objeto</strong> de tipo <strong><code>Libro</code></strong> <strong><code>"Programación en C#"</code></strong></li>
</ul>
</li>
<li>
<p>En el <strong>Heap</strong> tendremos:</p>
<ul>
<li>El objeto de tipo <strong><code>Escritor</code></strong> referenciado por <strong><code>e</code></strong> en el <strong>Stack</strong></li>
<li>El objeto valor de tipo <strong><code>Isbn13</code></strong> que aunque se ha creado en el main no se guarda ninguna referencia en el Stack pues se crea al hacer la llamada y por tanta estará <strong>referenciado únicamente</strong> a través de la propiedad <strong><code>Isbn</code></strong> dentro de <strong><code>Libro</code></strong>.</li>
<li>El objeto de tipo <strong><code>Libro</code></strong> que contiene el objeto valor <strong><code>DateOnly</code></strong> que al ser un tipo valor lo hemos representando formando parte del propio objeto <strong><code>Libro</code></strong> y no es una referencia a otro objeto en el Heap. Esto significa que <strong>será destruido junto con el libro</strong>.</li>
</ul>
</li>
</ol>
<p>En el <strong>proceso de destrucción de los objetos</strong> tendremos que:</p>
<ol>
<li>Se desapilarán las referencias <strong><code>l</code></strong> y <strong><code>e</code></strong> por lo que:
<ul>
<li>El objeto de tipo <strong><code>Libro</code></strong> ya no estará referenciado por nadie y <strong>será liberado en la siguiente pasada</strong> del <strong>GC</strong>.</li>
<li>El objeto de tipo <strong><code>Escritor</code></strong> aún seguirá referenciado por la propiedad <strong><code>Autor</code></strong> del objeto <strong><code>Libro</code></strong> y no se liberará.</li>
</ul>
</li>
<li>Al liberarse El objeto de tipo <strong><code>Libro</code></strong>...
<ul>
<li>La propiedad <strong><code>FechaPublicacion</code></strong> se liberará con él al ser un <strong><code>value type</code></strong>.</li>
<li>Los objetos de tipo <strong><code>Isbn13</code></strong> y <strong><code>Escritor</code></strong> dejará de estar referenciados y en la '<em>siguiente</em>' pasada del <strong><code>GC</code></strong> se liberarán.</li>
</ul>
</li>
</ol>
<div style="page-break-after:always;"></div>
<h4 id="ejemplo-de-agregación-múltiple">Ejemplo de Agregación Múltiple </h4>
<div class="row">
<div class="col-sm-5">
<p>Vamos ha hacer una última modificación sobre <strong><a href="assets/ejemplos/2_composicion_simple_ejemplo.cs">2_composicion_simple_ejemplo.cs</a></strong> para añadir agregaciones con cardinalidad <strong><code>1..n</code></strong> y <strong><code>0..n</code></strong>, es decir, que un <strong>Libro puede tener varios autores (Escritores)</strong> y un <strong>Escritor puede haber escrito ningún o varios Libros</strong>. Con estas relaciones un <strong><code>Escritor</code></strong> ya no escribe directamente un <strong><code>Libro</code></strong>, sino que lo hará a través de una Editorial que lo publica. Por tanto, vamos a eliminar el método <strong><code>Libro Escribe(..)</code></strong> de la clase <strong><code>Escritor</code></strong> y en su lugar crearemos el método <strong><code>void Publica(Libro l)</code></strong> como se aprecia en el diagrama. Además, la propiedad <strong><code>Publicaciones</code></strong> pasará a <strong>ser calculada</strong> a partir de la colección de libros que tenga el escritor.</p>
<p>La clase <strong><code>Libro</code></strong> ya no recibirá un único <strong><code>Escritor</code></strong> en su constructor, sino una colección de tipo <strong><code>List&lt;Escritor&gt;</code></strong> de escritores que comentamos a principio del tema.</p>
<p>Por último, aparece una nueva clase <strong><code>Editorial</code></strong> que se encargará de gestionar la publicación de los libros y que tendrá una colección de libros</p>
</div>
<div class="col-sm-7">
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="660.8px" preserveAspectRatio="none" style="width:373px;height:660px;background:#FFFFFF;" version="1.1" viewBox="0 0 373 660" width="373.8px" zoomAndPan="magnify"><defs></defs><g><!--class Libro--><g class="entity" data-entity="Libro" data-source-line="11" data-uid="ent0002" id="entity_Libro"><rect fill="#FFFAFA" height="176.6844" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.35;" width="248.8685" x="62.3" y="235.9"></rect><ellipse cx="170.449" cy="250.8461" fill="#FF7700" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.7;"></ellipse><path d="M169.6505,251.4039 L169.6505,253.1539 L172.6802,253.1539 L172.6802,252.5086 Q172.6802,252.082 172.8443,251.8961 Q173.0193,251.7102 173.2818,251.7102 Q173.5443,251.7102 173.7083,251.8961 Q173.8724,252.082 173.8724,252.5086 L173.8724,254.3461 L168.2724,254.3461 Q167.8349,254.3461 167.649,254.182 Q167.474,254.018 167.474,253.7445 Q167.474,253.482 167.6599,253.318 Q167.8458,253.1539 168.2724,253.1539 L168.4583,253.1539 L168.4583,248.4945 L168.2724,248.4945 Q167.8349,248.4945 167.649,248.3305 Q167.474,248.1664 167.474,247.893 Q167.474,247.6305 167.649,247.4664 Q167.8349,247.3023 168.2724,247.3023 L173.6099,247.3023 L173.6099,249.118 Q173.6099,249.5445 173.4458,249.7305 Q173.2927,249.9055 173.0193,249.9055 Q172.7568,249.9055 172.5927,249.7305 Q172.4287,249.5445 172.4287,249.118 L172.4287,248.4945 L169.6505,248.4945 L169.6505,250.2117 L170.6896,250.2117 Q170.6896,249.7523 170.7771,249.6211 Q170.963,249.3367 171.2912,249.3367 Q171.5537,249.3367 171.7177,249.5227 Q171.8818,249.6977 171.8818,250.1242 L171.8818,251.5023 Q171.8818,251.8852 171.7943,252.0164 Q171.6083,252.2898 171.2912,252.2898 Q170.963,252.2898 170.7771,252.0055 Q170.6896,251.8742 170.6896,251.4039 L169.6505,251.4039 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="29.4205" x="183.399" y="248.1199">«entity»</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="21.7916" x="187.2134" y="260.1389">Libro</text><line style="stroke:#000000;stroke-width:0.35;" x1="63" x2="310.4685" y1="265.7922" y2="265.7922"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="75.7299" x="66.5" y="278.7654">-isbn : Isbn13 {id}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="105.1299" x="66.5" y="291.092">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="175.4095" x="66.5" y="303.4186">-fechaPublicacion : DateOnly {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="105.1442" x="66.5" y="315.7451">-paginas : int {readOnly}</text><line style="stroke:#000000;stroke-width:0.35;" x1="63" x2="310.4685" y1="320.6984" y2="320.6984"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="113.035" x="66.5" y="333.6717">+Libro(in isbn : Isbn13, ...,</text><text fill="#000000" font-family="sans-serif" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="121.4473" x="182.2577" y="333.6717">in autores : List&lt;Escritor&gt;</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="3.2635" x="303.705" y="333.6717">)</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="84.1613" x="66.5" y="345.9982">+GetIsbn() : Isbn13</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="84.1422" x="66.5" y="358.3248">+GetTitulo() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="123.9212" x="66.5" y="370.6514">+GetFechaPublicacion() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="140.4922" x="66.5" y="382.9779">- GetAutores() : List&lt;Escritor&gt;</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="81.9793" x="66.5" y="395.3045">+GetPaginas() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="75.4284" x="66.5" y="407.6311">+ATexto() : string</text></g><!--class Escritor--><g class="entity" data-entity="Escritor" data-source-line="11" data-uid="ent0003" id="entity_Escritor"><rect fill="#FFFAFA" height="189.0109" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.35;" width="267.3822" x="53.2" y="466.9"></rect><ellipse cx="167.3092" cy="481.8461" fill="#FF7700" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.7;"></ellipse><path d="M166.5108,482.4039 L166.5108,484.1539 L169.5405,484.1539 L169.5405,483.5086 Q169.5405,483.082 169.7045,482.8961 Q169.8795,482.7102 170.142,482.7102 Q170.4045,482.7102 170.5686,482.8961 Q170.7327,483.082 170.7327,483.5086 L170.7327,485.3461 L165.1327,485.3461 Q164.6952,485.3461 164.5092,485.182 Q164.3342,485.018 164.3342,484.7445 Q164.3342,484.482 164.5202,484.318 Q164.7061,484.1539 165.1327,484.1539 L165.3186,484.1539 L165.3186,479.4945 L165.1327,479.4945 Q164.6952,479.4945 164.5092,479.3305 Q164.3342,479.1664 164.3342,478.893 Q164.3342,478.6305 164.5092,478.4664 Q164.6952,478.3023 165.1327,478.3023 L170.4702,478.3023 L170.4702,480.118 Q170.4702,480.5445 170.3061,480.7305 Q170.153,480.9055 169.8795,480.9055 Q169.617,480.9055 169.453,480.7305 Q169.2889,480.5445 169.2889,480.118 L169.2889,479.4945 L166.5108,479.4945 L166.5108,481.2117 L167.5499,481.2117 Q167.5499,480.7523 167.6374,480.6211 Q167.8233,480.3367 168.1514,480.3367 Q168.4139,480.3367 168.578,480.5227 Q168.742,480.6977 168.742,481.1242 L168.742,482.5023 Q168.742,482.8852 168.6545,483.0164 Q168.4686,483.2898 168.1514,483.2898 Q167.8233,483.2898 167.6374,483.0055 Q167.5499,482.8742 167.5499,482.4039 L166.5108,482.4039 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="29.4205" x="183.5559" y="479.1199">«entity»</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="33.2138" x="181.6592" y="491.1389">Escritor</text><line style="stroke:#000000;stroke-width:0.35;" x1="53.9" x2="319.8822" y1="496.7922" y2="496.7922"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="56.6562" x="57.4" y="509.7654">-id : Guid {id}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="117.6574" x="57.4" y="522.092">-nombre : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="174.3089" x="57.4" y="534.4186">-fechaNacimiento : DateOnly {readOnly}</text><line style="stroke:#000000;stroke-width:0.35;" x1="53.9" x2="319.8822" y1="539.3719" y2="539.3719"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="258.9822" x="57.4" y="552.3451">+Escritor(in nombre : string, in fechaNacimiento : DateOnly)</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="65.0877" x="57.4" y="564.6717">+GetId() : Guid</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="95.0332" x="57.4" y="576.9982">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="126.0841" x="57.4" y="589.3248">+GetNacimiento() : DateOnly</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="129.3667" x="57.4" y="601.6514">+Publica(in libro : Libro) : void</text><text fill="#000000" font-family="sans-serif" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="173.1461" x="57.4" y="613.9779">- GetLibrosPublicados() : List&lt;Libro&gt;</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="109.7571" x="57.4" y="626.3045">+/GetPublicaciones() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="72.1745" x="57.4" y="638.6311">+/GetEdad() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="75.4284" x="57.4" y="650.9576">+ATexto() : string</text></g><!--class Editorial--><g class="entity" data-entity="Editorial" data-source-line="13" data-uid="ent0006" id="entity_Editorial"><rect fill="#FFFAFA" height="176.6844" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.35;" width="364.2242" x="4.9" y="4.9"></rect><ellipse cx="166.3344" cy="19.8461" fill="#FF7700" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.7;"></ellipse><path d="M165.536,20.4039 L165.536,22.1539 L168.5657,22.1539 L168.5657,21.5086 Q168.5657,21.082 168.7297,20.8961 Q168.9047,20.7102 169.1672,20.7102 Q169.4297,20.7102 169.5938,20.8961 Q169.7579,21.082 169.7579,21.5086 L169.7579,23.3461 L164.1579,23.3461 Q163.7204,23.3461 163.5344,23.182 Q163.3594,23.018 163.3594,22.7445 Q163.3594,22.482 163.5454,22.318 Q163.7313,22.1539 164.1579,22.1539 L164.3438,22.1539 L164.3438,17.4945 L164.1579,17.4945 Q163.7204,17.4945 163.5344,17.3305 Q163.3594,17.1664 163.3594,16.893 Q163.3594,16.6305 163.5344,16.4664 Q163.7204,16.3023 164.1579,16.3023 L169.4954,16.3023 L169.4954,18.118 Q169.4954,18.5445 169.3313,18.7305 Q169.1782,18.9055 168.9047,18.9055 Q168.6422,18.9055 168.4782,18.7305 Q168.3141,18.5445 168.3141,18.118 L168.3141,17.4945 L165.536,17.4945 L165.536,19.2117 L166.575,19.2117 Q166.575,18.7523 166.6625,18.6211 Q166.8485,18.3367 167.1766,18.3367 Q167.4391,18.3367 167.6032,18.5227 Q167.7672,18.6977 167.7672,19.1242 L167.7672,20.5023 Q167.7672,20.8852 167.6797,21.0164 Q167.4938,21.2898 167.1766,21.2898 Q166.8485,21.2898 166.6625,21.0055 Q166.575,20.8742 166.575,20.4039 L165.536,20.4039 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="29.4205" x="183.6769" y="17.1199">«entity»</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="35.4054" x="180.6844" y="29.1389">Editorial</text><line style="stroke:#000000;stroke-width:0.35;" x1="5.6" x2="368.4242" y1="34.7922" y2="34.7922"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="62.0922" x="9.1" y="47.7654">-cif : string {id}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="117.6574" x="9.1" y="60.092">-nombre : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="74.6149" x="9.1" y="72.4186">-direccion : string</text><line style="stroke:#000000;stroke-width:0.35;" x1="5.6" x2="368.4242" y1="77.3719" y2="77.3719"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="257.9199" x="9.1" y="90.3451">+Editorial(in nombre : string, in fechaFundacion : DateOnly)</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="72.1554" x="9.1" y="102.6717">+GetCif() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="95.0332" x="9.1" y="114.9982">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="101.0242" x="9.1" y="127.3248">+GetDireccion() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="173.1939" x="9.1" y="139.6514">-SetDireccion(in direccion : string) : void</text><text fill="#000000" font-family="sans-serif" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="355.8242" x="9.1" y="151.9779">+ Publica(in titulo : string, in paginas : int, in autores : List&lt;Escritor&gt;) : Libro</text><text fill="#000000" font-family="sans-serif" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="173.1461" x="9.1" y="164.3045">- GetLibrosPublicados() : List&lt;Libro&gt;</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="75.4284" x="9.1" y="176.6311">+ATexto() : string</text></g><!--reverse link Libro to Escritor--><g class="link" data-entity-1="Libro" data-entity-2="Escritor" data-source-line="11" data-uid="lnk4" id="link_Libro_Escritor"><path codeline="11" d="M135.0455,420.4928 C132.5255,427.3528 133.252,426.412 131.6,433.3 C128.94,444.381 129.143,455.707 131.25,466.816" fill="none" id="Libro-backto-Escritor" style="stroke:#000000;stroke-width:0.7;"></path><polygon fill="none" points="137.942,412.608,133.8655,415.5849,135.0455,420.4928,139.122,417.5159,137.942,412.608" style="stroke:#000000;stroke-width:0.7;"></polygon><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="77.3944" x="132.3" y="443.4466">tiene como autores</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="5.061" x="130.0842" y="427.4941">1</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="15.1785" x="112.9222" y="459.2775">1..n</text></g><!--reverse link Escritor to Libro--><g class="link" data-entity-1="Escritor" data-entity-2="Libro" data-source-line="12" data-uid="lnk5" id="link_Escritor_Libro"><path codeline="12" d="M213.6774,458.3486 C214.7414,447.1346 214.081,444.171 212.8,433.3 C211.995,426.475 210.917,419.454 209.657,412.426" fill="none" id="Escritor-backto-Libro" style="stroke:#000000;stroke-width:0.7;"></path><polygon fill="none" points="212.884,466.711,216.0682,462.7943,213.6774,458.3486,210.4932,462.2653,212.884,466.711" style="stroke:#000000;stroke-width:0.7;"></polygon><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="39.4526" x="214.2" y="443.4466">ha escrito</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="5.061" x="209.3497" y="459.1664">1</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="15.1785" x="195.9205" y="427.595">0..n</text></g><!--reverse link Editorial to Libro--><g class="link" data-entity-1="Editorial" data-entity-2="Libro" data-source-line="13" data-uid="lnk7" id="link_Editorial_Libro"><path codeline="13" d="M186.9,189.987 C186.9,207.774 186.9,218.078 186.9,235.851" fill="none" id="Editorial-backto-Libro" style="stroke:#000000;stroke-width:0.7;"></path><polygon fill="none" points="186.9,181.587,184.1,185.787,186.9,189.987,189.7,185.787,186.9,181.587" style="stroke:#000000;stroke-width:0.7;"></polygon><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="28.8374" x="187.6" y="212.4466">publica</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="5.061" x="181.8488" y="196.7658">1</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="15.1785" x="171.7768" y="228.3775">0..n</text></g><!--SRC=[bPHTRzem58RlyokEiXj88QFQ1TA4a812LQdgaAYqQoSsO97Oo7RMTQZ_VSUEGq8AHN1ZuVSzNtuS6xa78o6HniWSA5SiDLoAGASaOp28Xu7USR4dYkIGPaJhYJ6A9uLXJwaKA_uFJGtBH2dvDfEPL33DIBfhI4lyIpPiYij6oKBGqlPxomrRvNB76jwPhJILYZ9rFbbfQALQ2VaM1C4pJvI4y3u4sU_Z6iSYXBbE5JTe-WcXuKmmI6KkWHIuntGO7FLZtC35bSamQ4k0bHuqKslb9BletXT9nbCI1e4xD2-CHfrvxzjYCHmE1brWmd3pFXu7Xm3mrmUk4u71JxZS_u03fnzUG5-HsRmQprviuA0OeRz4zbuPrYpTacLPCqLyQ7qWXbdBP_EURBWW6ZrScARizBkormuNf_tq88xZ7aGH2lxKK7lcseoginj7KTVdU6J6XdMwn_XQU7NJEAcSfvOMhJcS2RjqZYZgMy-aBEwaTlawqx8SyYJ17KnUsLzpKlgZ8dIy0DSWKGn-B71f018oJnIx1kW5PyhnxXbvWO_lich5CcXbxk4mNoHh7ZzrOzfEwyqNb-tiqTVvd5nbz0RFn7QK-Jlkhecr_f6-X0Va1EqZg6oGSagDwRlbLCDcRLfMdrD2Ru1u_32lK4pvka7h1f3kXVIVcAzUKQjgVubjWQzL-nDjK9lnzNawby4zL1srrJwicYfsyBdv5hyJqArNnyrmydQudKjlGRUw8XxthPVZBEN_]--></g></svg></p><p></p>
</div>
</div>
<p>publicados y si te fijas en el diagrama es una <strong>entidad <code>&lt;&lt;entity&gt;&gt;</code></strong> con un identificador que es la propiedad <strong><code>Cif</code></strong> de tipo <strong><code>string</code></strong>. Un método factoría <strong><code>Libro Publica(string titulo, int páginas, List&lt;Escritor&gt; autores)</code></strong> que se encargará de crear un libro y añadirlo a la colección de libros publicados. Además, se encargará de llamar al método <strong><code>Publica(Libro l)</code></strong> de cada uno de los escritores que hayan colaborado en la publicación del libro.</p>
<div class="admonition tip">
<p class="admonition-title">Importante</p>
<p>Lo más importante es tener en cuenta que cada relación de agregación múltiple, implicará una <strong>propiedad privada</strong> de tipo <strong><code>List&lt;T&gt;</code></strong> en la clase que hace de todo.</p>
</div>
<p>Veamos como quedará el código de las clases implicadas que puedes puedes descargar del siguiente enlace: <strong><a href="assets/ejemplos/3_agregacion_multiple_ejemplo.cs">3_agregacion_multiple_ejemplo.cs</a></strong>.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[7, 11, 17, 21-23]}" class="language-csharp csharp" data-line="7,11,17,21-23"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Isbn13</span> Isbn <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Titulo <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">DateOnly</span> FechaPublicacion <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Paginas <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Escritor<span class="token punctuation">&gt;</span></span> Autores <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span>
        <span class="token class-name">Isbn13</span> isbn<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span> <span class="token class-name">DateOnly</span> fechaPublicacion<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">,</span>
        <span class="token class-name">List<span class="token punctuation">&lt;</span>Escritor<span class="token punctuation">&gt;</span></span> autores<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Isbn <span class="token operator">=</span> isbn<span class="token punctuation">;</span>
        Titulo <span class="token operator">=</span> titulo<span class="token punctuation">;</span>
        FechaPublicacion <span class="token operator">=</span> fechaPublicacion<span class="token punctuation">;</span>
        Paginas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
        Autores <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token range operator">..</span> autores<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// En este contexto me haré una copia de la lista de autores.</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> autoresTexto <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Escritor</span> autor <span class="token keyword keyword-in">in</span> Autores<span class="token punctuation">)</span>
            autoresTexto<span class="token punctuation">.</span><span class="token function">AppendLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"\t- </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">autor<span class="token punctuation">.</span>Nombre</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                Libro
                <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
                ISBN<span class="token punctuation">:</span> <span class="token punctuation">{</span>Isbn<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                Título<span class="token punctuation">:</span> <span class="token punctuation">{</span>Titulo<span class="token punctuation">}</span>
                Fecha Publicación<span class="token punctuation">:</span> <span class="token punctuation">{</span>FechaPublicacion<span class="token punctuation">:</span>dd<span class="token operator">-</span>MM<span class="token operator">-</span>yyyy<span class="token punctuation">}</span>
                Páginas<span class="token punctuation">:</span> <span class="token punctuation">{</span>Paginas<span class="token punctuation">}</span>
                Autores<span class="token punctuation">:</span>
                <span class="token punctuation">{</span>autoresTexto<span class="token punctuation">}</span>
                <span class="token string">""</span>"<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><div class="line-highlight-wrapper">





<div aria-hidden="true" class="line-highlight" data-range="7" data-start="7">
</div></div><div class="line-highlight-wrapper">









<div aria-hidden="true" class="line-highlight" data-range="11" data-start="11">
</div></div><div class="line-highlight-wrapper">















<div aria-hidden="true" class="line-highlight" data-range="17" data-start="17">
</div></div><div class="line-highlight-wrapper">



















<div aria-hidden="true" class="line-highlight" data-range="21-23" data-start="21" data-end="23">


</div></div></pre><div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp {highlight=[7,8, 15, 20]}" class="language-csharp csharp" data-line="7,8,15,20"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Escritor</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Guid</span> Id <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">DateOnly</span> FechaNacimiento <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Edad <span class="token operator">=&gt;</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Year <span class="token operator">-</span> FechaNacimiento<span class="token punctuation">.</span>Year<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Libro<span class="token punctuation">&gt;</span></span> LibrosPublicados <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Publicaciones <span class="token operator">=&gt;</span> LibrosPublicados<span class="token punctuation">.</span>Count<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Escritor</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token class-name">DateOnly</span> fechaNacimiento<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Id <span class="token operator">=</span> Guid<span class="token punctuation">.</span><span class="token function">NewGuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        FechaNacimiento <span class="token operator">=</span> fechaNacimiento<span class="token punctuation">;</span>
        LibrosPublicados <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Publica</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> libro<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        LibrosPublicados<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>libro<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> librosTexto <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Libro</span> libro <span class="token keyword keyword-in">in</span> LibrosPublicados<span class="token punctuation">)</span>
            librosTexto<span class="token punctuation">.</span><span class="token function">AppendLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"\t- </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">libro<span class="token punctuation">.</span>Titulo</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                Escritor
                <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
                ID<span class="token punctuation">:</span> <span class="token punctuation">{</span>Id<span class="token punctuation">}</span>
                Nombre<span class="token punctuation">:</span> <span class="token punctuation">{</span>Nombre<span class="token punctuation">}</span>
                Nacimiento<span class="token punctuation">:</span> <span class="token punctuation">{</span>FechaNacimiento<span class="token punctuation">}</span>
                Publicaciones<span class="token punctuation">:</span> <span class="token punctuation">{</span>Publicaciones<span class="token punctuation">}</span>
                Edad<span class="token punctuation">:</span> <span class="token punctuation">{</span>Edad<span class="token punctuation">}</span>
                Libros<span class="token punctuation">:</span>
                <span class="token punctuation">{</span>librosTexto<span class="token punctuation">}</span>
                <span class="token string">""</span>"<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><div class="line-highlight-wrapper">





<div aria-hidden="true" class="line-highlight" data-range="7" data-start="7">
</div></div><div class="line-highlight-wrapper">






<div aria-hidden="true" class="line-highlight" data-range="8" data-start="8">
</div></div><div class="line-highlight-wrapper">













<div aria-hidden="true" class="line-highlight" data-range="15" data-start="15">
</div></div><div class="line-highlight-wrapper">


















<div aria-hidden="true" class="line-highlight" data-range="20" data-start="20">
</div></div></pre><p>Es importante volver a recalcar que la propiedad <strong><code>LibrosPublicados</code></strong> es <strong>privada</strong> y no se puede acceder directamente desde fuera de la clase <strong><code>Escritor</code></strong>. Por tanto, <strong>la única forma de añadir un libro a la colección es a través del método <code>Publica(Libro l)</code></strong>. Esto garantiza un bajo acoplamiento y que por error alguien manipule la lista de libros publicados directamente.</p>
<div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp {highlight=[6, 20]}" class="language-csharp csharp" data-line="6,20"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Editorial</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Cif <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Direccion <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Libro<span class="token punctuation">&gt;</span></span> LibrosPublicados  <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">ValidarCif</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> cif<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
            <span class="token operator">!</span><span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrWhiteSpace</span><span class="token punctuation">(</span>cif<span class="token punctuation">)</span>
            <span class="token operator">&amp;&amp;</span> Regex<span class="token punctuation">.</span><span class="token function">IsMatch</span><span class="token punctuation">(</span>cif<span class="token punctuation">,</span> <span class="token string">@"^[A-Z]\d{8}$"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Editorial</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> cif<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> direccion<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">condition</span><span class="token punctuation">:</span> <span class="token function">ValidarCif</span><span class="token punctuation">(</span>cif<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">message</span><span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">$"El CIF </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">cif</span><span class="token punctuation">}</span></span><span class="token string"> no es válido."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Cif <span class="token operator">=</span> cif<span class="token punctuation">;</span>
        Nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        Direccion <span class="token operator">=</span> direccion<span class="token punctuation">;</span>
        LibrosPublicados <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> librosTexto <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Libro</span> libro <span class="token keyword keyword-in">in</span> LibrosPublicados<span class="token punctuation">)</span>
            librosTexto<span class="token punctuation">.</span><span class="token function">AppendLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"\t- </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">libro<span class="token punctuation">.</span>Titulo</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                Editorial
                <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
                CIF<span class="token punctuation">:</span> <span class="token punctuation">{</span>Cif<span class="token punctuation">}</span>
                Nombre<span class="token punctuation">:</span> <span class="token punctuation">{</span>Nombre<span class="token punctuation">}</span>
                Dirección<span class="token punctuation">:</span> <span class="token punctuation">{</span>Direccion<span class="token punctuation">}</span>
                <span class="token class-name">Libros</span> Publicados<span class="token punctuation">:</span>
                <span class="token punctuation">{</span>librosTexto<span class="token punctuation">}</span>
                <span class="token string">""</span>"<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code><div class="line-highlight-wrapper">




<div aria-hidden="true" class="line-highlight" data-range="6" data-start="6">
</div></div><div class="line-highlight-wrapper">


















<div aria-hidden="true" class="line-highlight" data-range="20" data-start="20">
</div></div></pre><div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>   <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Libro</span> <span class="token function">Publica</span><span class="token punctuation">(</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span>s
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">,</span>
        <span class="token class-name">List<span class="token punctuation">&lt;</span>Escritor<span class="token punctuation">&gt;</span></span> autores<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Libro</span> l <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span>
            <span class="token comment">// Creamos un nuevo objeto Isbn13 para el libro.</span>
            isbn<span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span>
                <span class="token named-parameter punctuation">prefijo</span><span class="token punctuation">:</span> <span class="token number">978</span><span class="token punctuation">,</span>
                <span class="token named-parameter punctuation">grupoDeRegistro</span><span class="token punctuation">:</span> <span class="token number">84</span><span class="token punctuation">,</span>
                <span class="token named-parameter punctuation">titular</span><span class="token punctuation">:</span> <span class="token number">935489</span><span class="token punctuation">,</span>
                <span class="token named-parameter punctuation">publicacion</span><span class="token punctuation">:</span> LibrosPublicados<span class="token punctuation">.</span>Count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">titulo</span><span class="token punctuation">:</span> titulo<span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">fechaPublicacion</span><span class="token punctuation">:</span> DateOnly<span class="token punctuation">.</span><span class="token function">FromDateTime</span><span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">paginas</span><span class="token punctuation">:</span> paginas<span class="token punctuation">,</span>
            <span class="token comment">// Pasamos la lista de autores al libro.</span>
            autores<span class="token punctuation">:</span> autores<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Añadimos el libro a la colección de libros publicados.</span>
        LibrosPublicados<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Llamamos al método Publica de cada autor para que se añada a su colección de libros publicados.</span>
        <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Escritor</span> autor <span class="token keyword keyword-in">in</span> autores<span class="token punctuation">)</span> autor<span class="token punctuation">.</span><span class="token function">Publica</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-return">return</span> l<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="admonition warning">
<p class="admonition-title">Aviso</p>
<p>Es muy importante <strong>dar una dimensión inicial a la colección de libros publicados</strong> de la <strong><code>Editorial</code></strong> y el <strong><code>Escritor</code></strong> en los constructores. Para ellos hemos usado <strong><code>LibrosPublicados = []</code></strong>. Pues la lista es un objeto que se quedará a null si no lo inicializamos.<br>
Otra posibilidad menos recomendable sería inicializar la lista al definir la propiedad ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-private">private</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Libro<span class="token punctuation">&gt;</span></span> LibrosPublicados <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><p>Aunque se puede dar un valor inicial a las propiedades al definirlas, solo es recomendable hacerlos si tenemos más de un constructor, o hay un únicos constructor principal que definimos al definir el tipo como en los como hicimos con los <strong><code>record class</code></strong> simplificados.</p>
</div>
<p>Veamos ahora la ejecución e implementación de un código de test en el <strong><code>Main()</code></strong> que creará una editorial, varios escritores y publicará dos libros con diferentes autores.</p>
<div style="page-break-after:always;"></div>
<div class="row">
<div class="col-sm-6">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Editorial</span> editorial <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span>
        <span class="token named-parameter punctuation">cif</span><span class="token punctuation">:</span> <span class="token string">"A12345678"</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Editorial Balmis S.L."</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">direccion</span><span class="token punctuation">:</span> <span class="token string">"Calle La Cerámica, 12"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Escritor</span> e1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span>
        <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"María Pérez"</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">fechaNacimiento</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token number">1980</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Escritor</span> e2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span>
        <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Juan López"</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">fechaNacimiento</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token number">1975</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Escritor</span> e3 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span>
        <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Ana García"</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">fechaNacimiento</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token number">1990</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Libro</span> l1 <span class="token operator">=</span> editorial<span class="token punctuation">.</span><span class="token function">Publica</span><span class="token punctuation">(</span>
        <span class="token named-parameter punctuation">titulo</span><span class="token punctuation">:</span> <span class="token string">"Aprendiendo C#"</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">paginas</span><span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">autores</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">e1</span><span class="token punctuation">,</span> <span class="token class-name">e2</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l1<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>e1<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>e2<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>e3<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>editorial<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Libro</span> l2 <span class="token operator">=</span> editorial<span class="token punctuation">.</span><span class="token function">Publica</span><span class="token punctuation">(</span>
        <span class="token named-parameter punctuation">titulo</span><span class="token punctuation">:</span> <span class="token string">"Roles entre clases"</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">paginas</span><span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">autores</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">e2</span><span class="token punctuation">,</span> <span class="token class-name">e3</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l2<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>e1<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>e2<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>e3<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>editorial<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-6">
<p><strong>Salida tras pubicar <code>e1</code> y <code>e2</code> en el primer libro <code>l1</code>:</strong></p>
<pre class="salida_consola">Libro
--------------------------
ISBN: 978-84-935489-1-9
Título: Aprendiendo C#
Fecha Publicación: 15-08-2025
Páginas: 300
Autores:
        - María Pérez
        - Juan López

Escritor
--------------------------
ID: c120b322-df35-4a02-ae42-9243778ed65d
Nombre: María Pérez
Nacimiento: 15/05/1980
Publicaciones: 1
Edad: 45
Libros:
        - Aprendiendo C#

Escritor
--------------------------
ID: fd5e5689-f3eb-4833-abb4-a05c91646be2
Nombre: Juan López
Nacimiento: 20/03/1975
Publicaciones: 1
Edad: 50
Libros:
        - Aprendiendo C#

Escritor
--------------------------
ID: 87d415f7-611a-46a2-84ff-85fcdfa8cf5d
Nombre: Ana García
Nacimiento: 30/08/1990
Publicaciones: 0
Edad: 35
Libros:

Editorial
--------------------------
CIF: A12345678
Nombre: Editorial Balmis S.L.
Dirección: Calle La Cerámica, 12
Libros Publicados:
        - Aprendiendo C#
</pre> <!-- fin salida consola -->
</div>
</div>
<div style="page-break-after:always;"></div>
<p><strong>Salida tras pubicar <code>e2</code> y <code>e3</code> en el segundo libro <code>l2</code>:</strong></p>
<pre class="salida_consola">Libro
--------------------------
ISBN: 978-84-935489-2-6
Título: Roles entre clases
Fecha Publicación: 15-08-2025
Páginas: 200
Autores:
        - Juan López
        - Ana García

Escritor
--------------------------
ID: c120b322-df35-4a02-ae42-9243778ed65d
Nombre: María Pérez
Nacimiento: 15/05/1980
Publicaciones: 1
Edad: 45
Libros:
        - Aprendiendo C#

Escritor
--------------------------
ID: fd5e5689-f3eb-4833-abb4-a05c91646be2
Nombre: Juan López
Nacimiento: 20/03/1975
Publicaciones: 2
Edad: 50
Libros:
        - Aprendiendo C#
        - Roles entre clases

Escritor
--------------------------
ID: 87d415f7-611a-46a2-84ff-85fcdfa8cf5d
Nombre: Ana García
Nacimiento: 30/08/1990
Publicaciones: 1
Edad: 35
Libros:
        - Roles entre clases

Editorial
--------------------------
CIF: A12345678
Nombre: Editorial Balmis S.L.
Dirección: Calle La Cerámica, 12
Libros Publicados:
        - Aprendiendo C#
        - Roles entre clases
</pre> <!-- fin salida consola -->

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>