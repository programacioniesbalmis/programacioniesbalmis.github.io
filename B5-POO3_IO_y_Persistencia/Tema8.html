<!DOCTYPE html><html><head>
      <title>Programaci&#xF3;n 1&#xBA; DAM Tema 8</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1 class="mume-header undefined" id="tema-8">Tema 8</h1>

<p><a href="./Tema8.pdf">Descargar estos apuntes</a></p>
<h2 class="mume-header undefined" id="%C3%ADndice">&#xCD;ndice</h2>

<ol>
<li><a href="#definiciones-b%C3%A1sicas">Definiciones b&#xE1;sicas</a></li>
<li><a href="#gesti%C3%B3n-de-rutas-en-net">Gesti&#xF3;n de rutas en .NET</a>
<ol>
<li><a href="#clase-path">Clase Path</a>
<ol>
<li><a href="#operaciones-con-rutas">Operaciones con rutas</a></li>
</ol>
</li>
</ol>
</li>
<li><a href="#gesti%C3%B3n-de-archivos-y-directorios">Gesti&#xF3;n de archivos y directorios</a>
<ol>
<li><a href="#clases-de-utilidad-file-y-directory">Clases de utilidad File y Directory</a>
<ol>
<li><a href="#ejemplo-de-uso-de-file-y-directory">Ejemplo de uso de File y Directory</a></li>
</ol>
</li>
<li><a href="#clases-fileinfo-y-directoryinfo">Clases FileInfo y DirectoryInfo</a>
<ol>
<li><a href="#ejemplos-de-uso-de-fileinfo-y-directoryinfo">Ejemplos de uso de FileInfo y DirectoryInfo</a></li>
</ol>
</li>
</ol>
</li>
<li><a href="#flujos-de-datos-en-serie-o-streams">Flujos de datos en serie o streams</a>
<ol>
<li><a href="#conceptos-generales-sobre-streams">Conceptos generales sobre Streams</a>
<ol>
<li><a href="#operaciones-y-nomenclatura-relacionada-con-streams">Operaciones y nomenclatura relacionada con Streams</a>
<ol>
<li><a href="#apertura-open">Apertura (Open)</a></li>
<li><a href="#cierre-close">Cierre (Close)</a></li>
<li><a href="#lectura-read-y-escritura-write">Lectura (Read) y Escritura (Write)</a></li>
<li><a href="#volcado-flush">Volcado (Flush)</a></li>
</ol>
</li>
</ol>
</li>
<li><a href="#streams-en-chttpsdocsmicrosoftcomes-esdotnetstandardio">Streams en C#</a>
<ol>
<li><a href="#lectura-y-escritura-de-ficheros-sin-transformar">Lectura y escritura de ficheros sin transformar</a>
<ol>
<li><a href="#apertura-y-cierre-de-un-fichero-con-filestream">Apertura y Cierre de un fichero con FileStream</a></li>
<li><a href="#escritura-de-un-fichero-con-filestream">Escritura de un fichero con FileStream</a></li>
<li><a href="#lectura-de-un-fichero-con-filestream">Lectura de un fichero con FileStream</a></li>
<li><a href="#longitud-y-posici%C3%B3n-en-el-stream">Longitud y Posici&#xF3;n en el Stream</a></li>
<li><a href="#desplaz%C3%A1ndonos-por-el-stream">Desplaz&#xE1;ndonos por el Stream</a></li>
<li><a href="#recorriendo-un-filestream-hasta-el-final">Recorriendo un FileStream hasta el final</a></li>
</ol>
</li>
<li><a href="#pasando-el-flujo-por-un-decorator-stream">Pasando el flujo por un &apos;<em>Decorator Stream</em>&apos;</a></li>
</ol>
</li>
</ol>
</li>
</ol>
<div style="page-break-after:always;"></div>
<h2 class="mume-header" id="definiciones-b%C3%A1sicas">Definiciones b&#xE1;sicas</h2>

<p>El siguiente <em>&apos;pre-conocimiento&apos;</em> ser&#xE1; necesario tenerlo presente para abordar el siguiente tema. Por pertenecer los siguiente conceptos al curr&#xED;culo del m&#xF3;dulo de <strong>&apos;<em>Sistemas Inform&#xE1;ticos</em>&apos;</strong>, &#xFA;nicamente vamos a enumerar los conceptos que vamos a necesitar.</p>
<ul>
<li>
<p>Un <strong>archivo o fichero</strong> inform&#xE1;tico es un conjunto de bytes que son almacenados en un dispositivo.<br>
(<em>Fuente Wikipedia</em>)</p>
</li>
<li>
<p>En inform&#xE1;tica, <strong>una ruta (path, en ingl&#xE9;s)</strong> es la forma de referenciar un archivo inform&#xE1;tico o directorio en un sistema de archivos de un sistema operativo determinado.<br>
(<em>Fuente Wikipedia</em>)</p>
</li>
<li>
<p>Las <strong>rutas absolutas</strong> se&#xF1;alan la ubicaci&#xF3;n de un archivo o directorio desde el <strong>directorio ra&#xED;z</strong> del sistema de archivos.<br>
(<em>Fuente Wikipedia</em>)</p>
</li>
<li>
<p>Las <strong>rutas relativas</strong> se&#xF1;alan la ubicaci&#xF3;n de un archivo o directorio a partir de nuestra <strong>posici&#xF3;n actual</strong> en el sistema de archivos.<br>
(<em>Fuente Wikipedia</em>)</p>
</li>
</ul>
<h2 class="mume-header" id="gesti%C3%B3n-de-rutas-en-net">Gesti&#xF3;n de rutas en .NET</h2>

<p>Al tratarse .NET de un Framework <strong>multiplataforma</strong>, dispondr&#xE1; de una serie de <strong>clases de utilidad para el manejo de rutas</strong> de forma &apos;<em>transparente</em>&apos; al <strong>Sistema Operativo (SO)</strong> en el que estemos ejecutando.</p>
<h3 class="mume-header" id="clase-path">Clase Path</h3>

<p>Esta clase nos proporcionar&#xE1; de forma abstracta los siguientes propiedades que pueden tomar valores diferentes dependiendo del SO donde estemos ejecutando.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Campo</th>
<th style="text-align:left">Parte de la ruta que su valor representa</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong><code>DirectorySeparatorChar</code></strong></td>
<td style="text-align:left">Separador de directorios. En Windows es <code>\</code>, en Unix es <code>/</code> y Macintosh es <code>:</code></td>
</tr>
<tr>
<td style="text-align:left"><strong><code>AltDirectorySeparatorChar</code></strong></td>
<td style="text-align:left">Car&#xE1;cter alternativo usable como separador de directorios. En Windows y Macintosh es <code>/</code>, - mientras que en Unix es <code>\</code></td>
</tr>
<tr>
<td style="text-align:left"><strong><code>PathSeparator</code></strong></td>
<td style="text-align:left">Separador entre rutas. Aunque en los sistemas operativos m&#xE1;s comunes es ; podr&#xED;a variar en otros.</td>
</tr>
<tr>
<td style="text-align:left"><strong><code>VolumeSeparatorChar</code></strong></td>
<td style="text-align:left">Separador de unidades l&#xF3;gicas. En Windows y Macintosh es : (por ejemplo <code>C:\datos</code>) y en Unix <code>/</code></td>
</tr>
</tbody>
</table>
<p><strong>Ejemplo:</strong> Si en lugar de asignar el siguiente literal en en el c&#xF3;digo ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name"><span class="token keyword">string</span></span> ruta <span class="token operator">=</span> <span class="token string">@&quot;\datos\fichero.txt&quot;</span><span class="token punctuation">;</span>
</pre><p>escribimos...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name"><span class="token keyword">char</span></span> s <span class="token operator">=</span> Path<span class="token punctuation">.</span>DirectorySeparatorChar<span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">string</span></span> ruta <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token string">datos</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token string">fichero.txt&quot;</span></span><span class="token punctuation">;</span>
</pre><p>Conseguiremos que la variable <strong><code>ruta</code></strong> almacene el formato de la misma seg&#xFA;n corresponda al sistema operativo sobre el que se ejecute el c&#xF3;digo anterior. Es decir, mientras que en <strong>Windows</strong> contendr&#xED;a <strong><code>\datos\fichero.txt</code></strong>, en <strong>Linux o Mac OSX</strong> contendr&#xED;a <strong><code>/datos/fichero.txt</code></strong></p>
<h4 class="mume-header" id="operaciones-con-rutas">Operaciones con rutas</h4>

<p>Si te fijas en el ejemplo anterior, ocurre que en Windows el car&#xE1;cter usado como separador de directorios <strong><code>\</code></strong> coincide con el que C# usa como indicador de secuencias de escape. Por eso es incorrecto indicar literales de cadena para rutas como <strong><code>&quot;C:\datos&quot;</code></strong> ya que C# entender&#xED;a que estamos intentando escapar el caracter <strong><code>d</code></strong>.</p>
<p>En su lugar hay tres alternativas:</p>
<ol>
<li>
<p>Usar el campo independiente del sistema operativo <strong><code>$&quot;C:{Path.DirectorySeparatorChar}datos&quot;</code></strong></p>
</li>
<li>
<p>Duplicar los caracteres de los literales para que dejen de considerarse<br>
secuencias de escape. As&#xED;, la ruta de ejemplo anterior quedar&#xED;a... <strong><code>&quot;C:\\datos&quot;</code></strong></p>
</li>
<li>
<p>Lo que hemos hecho en nuestro ejemplo que consiste en especificar la ruta mediante un literal de cadena plano, pues en ellos no se tienen en cuenta las secuencias de escape. As&#xED;, ahora la ruta del ejemplo quedar&#xED;a ... como <strong><code>@&quot;C:\datos&quot;</code></strong>.<br>
Esta opci&#xF3;n es la m&#xE1;s simple, si sabemos cual es el SO donde vamos a ejecutar.</p>
</li>
</ol>
<div style="page-break-after:always;"></div>
<ul>
<li>
<p>Obtener la ruta con el <strong>directorio <em>&apos;padre&apos;</em></strong> o <strong>null</strong> si es ra&#xED;z.</p>
<p><strong>string Path.<a href="https://docs.microsoft.com/es-es/dotnet/api/system.io.path.getdirectoryname?view=net-5.0#System_IO_Path_GetDirectoryName_System_String_">GetDirectoryName</a>(string path)</strong></p>
<ul>
<li><strong><code>GetDirectoryName(@&quot;C:\MyDir\MySubDir\myfile.ext&quot;)</code></strong> devuelve <strong><code>&quot;C:\MyDir\MySubDir&quot;</code></strong></li>
<li><strong><code>GetDirectoryName(@&quot;C:\MyDir\MySubDir&quot;)</code></strong> devuelve <strong><code>&quot;C:\MyDir&quot;</code></strong></li>
<li><strong><code>GetDirectoryName(@&quot;C:\MyDir\&quot;)</code></strong> devuelve <strong><code>&quot;C:\MyDir&quot;</code></strong></li>
<li><strong><code>GetDirectoryName(@&quot;C:\MyDir&quot;)</code></strong> devuelve <strong><code>&quot;C:\&quot;</code></strong></li>
<li><strong><code>GetDirectoryName(@&quot;C:\&quot;)</code></strong> devuelve <strong><code>null</code></strong></li>
</ul>
</li>
<li>
<p>Obtener el archivo o directorio del final de la ruta. (vaci&#xF3; si acaba en separador)</p>
<p><strong>string Path.<a href="https://docs.microsoft.com/es-es/dotnet/api/system.io.path.getfilename?view=net-5.0#System_IO_Path_GetFileName_System_String_">GetFileName</a>(string path)</strong></p>
<ul>
<li><strong><code>GetFileName(@&quot;C:\MyDir\MySubDir\myfile.ext&quot;)</code></strong> devuelve <strong><code>&quot;myfile.ext&quot;</code></strong></li>
<li><strong><code>GetFileName(@&quot;C:\MyDir\MySubDir&quot;)</code></strong> devuelve <strong><code>&quot;MySubDir&quot;</code></strong></li>
<li><strong><code>GetFileName(@&quot;C:\MyDir\&quot;)</code></strong> devuelve <strong><code>&quot;&quot;</code></strong> (Cadena vac&#xED;a)</li>
</ul>
</li>
<li>
<p>Combinar un <strong>DirectoryName path1</strong> y un <strong>FileName path2</strong> para formar <strong>una nueva ruta</strong>.</p>
<blockquote>
<p>&#x26A0;&#xFE0F; <strong>Nota:</strong> Siempre que <strong>path2</strong> no empiece por el car&#xE1;cter separador de directorio o de volumen.</p>
</blockquote>
<p><strong>string <a href="https://docs.microsoft.com/es-es/dotnet/api/system.io.path.combine?view=net-5.0#System_IO_Path_Combine_System_String_System_String_">Combine</a>(string path1, string path2);</strong></p>
<ul>
<li><strong><code>Combine(@&quot;C:\MyDir&quot;, @&quot;myfile.ext&quot;)</code></strong> devuelve <strong><code>&quot;C:\MyDir\myfile.ext&quot;</code></strong></li>
<li><strong><code>Combine(@&quot;C:\MyDir\&quot;, @&quot;myfile.ext&quot;)</code></strong> devuelve <strong><code>&quot;C:\MyDir\myfile.ext&quot;</code></strong></li>
<li><strong><code>Combine(@&quot;C:\MyDir&quot;, @&quot;MySubDir\myfile.ext&quot;)</code></strong>  devuelve <strong><code>&quot;C:\MyDir\MySubDir\myfile.ext&quot;</code></strong></li>
<li><strong><code>Combine(@&quot;C:\MyDir\&quot;, @&quot;MySubDir\myfile.ext&quot;)</code></strong> devuelve <strong><code>&quot;C:\MyDir\MySubDir\myfile.ext&quot;</code></strong></li>
<li>&#x274C; <strong><code>Combine(@&quot;C:\MyDir\&quot;, @&quot;\MySubDir\myfile.ext&quot;)</code></strong></li>
<li>&#x274C; <strong><code>Combine(@&quot;C:\MyDir\&quot;, @&quot;C:\MySubDir\myfile.ext&quot;)</code></strong></li>
</ul>
</li>
</ul>
<div style="page-break-after:always;"></div>
<h2 class="mume-header" id="gesti%C3%B3n-de-archivos-y-directorios">Gesti&#xF3;n de archivos y directorios</h2>

<h3 class="mume-header" id="clases-de-utilidad-file-y-directory">Clases de utilidad File y Directory</h3>

<p>Ambas clases contienen gran cantidad de <strong>m&#xE9;todos est&#xE1;ticos de utilidad</strong> para hacer <strong>operaciones</strong> con ficheros/archivos y directorios/carpetas del estilo de las que se hacen desde la <strong>l&#xED;nea de comandos</strong>.</p>
<p>L&#xF3;gicamente los m&#xE9;todos definidos en <strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.io.directory?view=net-5.0">Directory</a></strong> realizan operaciones sobre <strong>directorios</strong> y los definidos en <strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.io.file?view=net-5.0">FIle</a></strong> sobre <strong>archivos</strong>.</p>
<blockquote>
<p><strong>Nota:</strong> C&#xF3;mo no es idea de estos temas copiar la documentaci&#xF3;n de Microsoft en castellano. Es recomendable que le eches un vistazo a los enlaces del anterior p&#xE1;rrafo para hacerte una idea de las operaciones definidas en estas clases.</p>
</blockquote>
<h4 class="mume-header" id="ejemplo-de-uso-de-file-y-directory">Ejemplo de uso de File y Directory</h4>

<p>Veamos alguno de estos m&#xE9;todos a trav&#xE9;s del siguiente <strong>ejemplo comentado</strong>:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">char</span></span> s <span class="token operator">=</span> Path<span class="token punctuation">.</span>DirectorySeparatorChar<span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">string</span></span> ruta <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$&quot;.</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token string">datos</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token string">datos.txt&quot;</span></span><span class="token punctuation">;</span>

    <span class="token comment">// Si no existe el directorio datos en la ruta relativa actual lo crear&#xE9;.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Directory<span class="token punctuation">.</span><span class="token function">Exists</span><span class="token punctuation">(</span>Path<span class="token punctuation">.</span><span class="token function">GetDirectoryName</span><span class="token punctuation">(</span>ruta<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
        Directory<span class="token punctuation">.</span><span class="token function">CreateDirectory</span><span class="token punctuation">(</span><span class="token string">&quot;datos&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Creo el fichero datos.txt vac&#xED;o. M&#xE1;s adelante en el tema</span>
    <span class="token comment">// veremos que llamar al Close() es importante para que no</span>
    <span class="token comment">// se quede abierto.</span>
    File<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>ruta<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Me sit&#xFA;o en el directorio datos.</span>
    Directory<span class="token punctuation">.</span><span class="token function">SetCurrentDirectory</span><span class="token punctuation">(</span>Path<span class="token punctuation">.</span><span class="token function">GetDirectoryName</span><span class="token punctuation">(</span>ruta<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;El fichero &quot;</span> <span class="token operator">+</span> ruta <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Compruebo si se ha creado el fichero correctamente viendo si </span>
    <span class="token comment">// existe o no en el directorio datos (donde me acabo de situar).</span>
    <span class="token comment">// Mostrar&#xE9; si existe o no por pantalla.</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>File<span class="token punctuation">.</span><span class="token function">Exists</span><span class="token punctuation">(</span>Path<span class="token punctuation">.</span><span class="token function">GetFileName</span><span class="token punctuation">(</span>ruta<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">?</span><span class="token string">&quot;existe&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;no exite&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h3 class="mume-header" id="clases-fileinfo-y-directoryinfo">Clases FileInfo y DirectoryInfo</h3>

<p>Adem&#xE1;s de las clases con m&#xE9;todos de operaciones sobre directorios y ficheros. Tambi&#xE9;n dispondremos de objetos que contendr&#xE1;n informaci&#xF3;n sobre los mismos adem&#xE1;s de permitirnos tambi&#xE9;n hacer ciertas operaciones.<br>
Dichos objetos se instanciar&#xE1;n en memoria a trav&#xE9;s de las clases...</p>
<p><strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.io.directoryinfo?view=net-5.0">DirectoryInfo</a></strong> y <strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.io.fileinfo?view=net-5.0">FileInfo</a></strong> pues ...</p>
<ul>
<li>
<p>Me devolver&#xE1;n informaci&#xF3;n sobre <strong>carpetas</strong> y <strong>archivos</strong> respectivamente.</p>
</li>
<li>
<p>Adem&#xE1;s de permitirme <em>&apos;navega&apos;r</em> por el sistema de ficheros, movi&#xE9;ndome entre las diferentes carpetas. Me permitir&#xE1;n <strong>realizar acciones con m&#xE1;s precisas y con m&#xE1;s detalle</strong> sobre el sistema de ficheros.</p>
</li>
<li>
<p><strong>Ambas clases heredar&#xE1;n de la clases abstracta</strong> <code>FileSystemInfo</code> que contendr&#xE1; la informaci&#xF3;n com&#xFA;n a archivos y carpetas. Un ejemplo ser&#xED;a la fecha de creaci&#xF3;n y otras propiedades comunes.</p>
</li>
<li>
<p>La abstracci&#xF3;n de elemento el sistema de ficheros almacenada la clase <strong><code>FileSystemInfo</code></strong>:</p>
<ul>
<li>Se acceder&#xE1; a trav&#xE9;s de la sustituci&#xF3;n de Liskov de objetos de tipo <strong><code>DirectoryInfo</code></strong> o <strong><code>FileInfo</code></strong>.</li>
</ul>
<p align="center" style="zoom:0.8"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="335px" preserveAspectRatio="none" style="width:496px;height:335px;" version="1.1" viewBox="0 0 496 335" width="496px" zoomAndPan="magnify"><defs><filter height="300%" id="f16zo7l63bh4vn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFAFA" filter="url(#f16zo7l63bh4vn)" height="110.4932" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="214" x="263" y="111.3452"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="103" x="318.5" y="139.7061">FileSystemInfo</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="372" y="155.8047"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="166" x="287" y="171.9033">Informaci&#xF3;n y operaciones</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="184" x="278" y="188.002">comunes a ambos elementos</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="295.5" y="204.1006">del sistema de ficheros.</text><rect fill="#F0F8FF" filter="url(#f16zo7l63bh4vn)" height="126.5918" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="193" x="10" y="25"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="61" y="53.3608">DirectoryInfo</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="108.5" y="69.4595"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="39.5" y="85.5581">Contiene informaci&#xF3;n</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="142" x="35.5" y="101.6567">especifica de carpetas</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="163" x="25" y="117.7554">y operaciones especificas</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="50" y="133.854">sobre las mismas.</text><path d="M263,166.5918 L253,166.5918 C238,166.5918 228,88.2959 213,88.2959 L203,88.2959 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><rect fill="#F0F8FF" filter="url(#f16zo7l63bh4vn)" height="126.5918" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="193" x="10" y="181.5918"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="80" y="209.9526">FileInfo</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="108.5" y="226.0513"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="39.5" y="242.1499">Contiene informaci&#xF3;n</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="36.5" y="258.2485">especifica de archivos</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="163" x="25" y="274.3472">y operaciones especificas</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="70" y="290.4458">sobre ellos.</text><path d="M263,166.5918 L253,166.5918 C238,166.5918 228,244.8877 213,244.8877 L203,244.8877 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[27fdf018062049b26c6da8797636dd1e]
@startmindmap
right to left direction
<style>
mindmapDiagram {
  Linecolor black
  FontName Arial
  FontSize 14
  node {
    Padding 15
    Margin 15
    HorizontalAlignment center
    BackGroundColor white
  }
}
</style>

*[#snow] **FileSystemInfo**\n\nInformación y operaciones\ncomunes a ambos elementos\ndel sistema de ficheros.

**[#aliceblue] **DirectoryInfo**\n\nContiene información\nespecifica de carpetas\ny operaciones especificas\nsobre las mismas.
**[#aliceblue] **FileInfo**\n\nContiene información\nespecifica de archivos\ny operaciones especificas\nsobre ellos.

@endmindmap

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><ul>
<li>Una ejemplo de esta informaci&#xF3;n com&#xFA;n detallada. Es el campo <strong><code>Attributes</code></strong> del sistema de ficheros.<br>
El campo <strong><code>Attributes</code></strong> es una m&#xE1;scara creada a partir del <strong>Enum <a href="https://docs.microsoft.com/es-es/dotnet/api/system.io.fileattributes?view=net-5.0">FileAttributes</a></strong>. Con informaci&#xF3;n com&#xFA;n a ficheros y directorios.
<blockquote>
<p><strong>Nota:</strong> &#xC9;chale un vistazo a los bits de la m&#xE1;scara al enlace del tipo.</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<p>Aunque ser&#xED;a inabordable tratar todas los casos de uso de estos objetos. Vamos a ver un par ejemplos y un caso de uso.</p>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="ejemplos-de-uso-de-fileinfo-y-directoryinfo">Ejemplos de uso de FileInfo y DirectoryInfo</h4>

<p><strong>Ejemplo 1:</strong></p>
<p>Supongamos una funci&#xF3;n que recibe la ruta al fichero del sistema Windows 10 <strong><code>C:\Windows\write.exe</code></strong> y nos muestra la informaci&#xF3;n com&#xFA;n almacenada en la clase abstracta <strong><code>FileSystemInfo</code></strong> sobre &#xE9;l.</p>
<pre data-role="codeBlock" data-info="csharp  {highlight=[7, 15-21]}" class="language-csharp" data-line="7,15-21"><span class="token keyword">class</span> <span class="token class-name">EjemploFileInfo</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ObtenInformacion</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> rutaAFichero<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Obtenemos la informaci&#xF3;n del fichero y </span>
        <span class="token comment">// hacemos una sustituci&#xF3;n a la superclase.</span>
        <span class="token class-name">FileSystemInfo</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileInfo</span><span class="token punctuation">(</span>rutaAFichero<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">StringBuilder</span> informacion <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// A&#xF1;adimos informaci&#xF3;n del fichero.</span>
        <span class="token comment">// F&#xED;jate que f.Attributes muestra todos </span>
        <span class="token comment">// los valores dele enum a&#xF1;adidos a la m&#xE1;scara.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>f<span class="token punctuation">.</span>Exists<span class="token punctuation">)</span>
            informacion<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Nombre completo: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f<span class="token punctuation">.</span>FullName</span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span><span class="token punctuation">)</span>
                       <span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Nombre : </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f<span class="token punctuation">.</span>Name</span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span><span class="token punctuation">)</span>
                       <span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Extensi&#xF3;n : </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f<span class="token punctuation">.</span>Extension</span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span><span class="token punctuation">)</span>
                       <span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Fecha creaci&#xF3;n: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f<span class="token punctuation">.</span>CreationTime</span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span><span class="token punctuation">)</span>
                       <span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Fecha &#xFA;ltimo acceso: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f<span class="token punctuation">.</span>LastAccessTime</span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span><span class="token punctuation">)</span>
                       <span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Fecha &#xFA;ltima modificaci&#xF3;n: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f<span class="token punctuation">.</span>LastWriteTime</span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span><span class="token punctuation">)</span>
                       <span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Atributos: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f<span class="token punctuation">.</span>Attributes</span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> 
            informacion<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token string">&quot;Archivo no encontrado&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> informacion<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token function">ObtenInformacion</span><span class="token punctuation">(</span><span class="token string">@&quot;C:\Windows\write.exe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">





<div aria-hidden="true" class="line-highlight" data-range="7" data-start="7">
</div></div><div class="line-highlight-wrapper">













<div aria-hidden="true" class="line-highlight" data-range="15-21" data-start="15" data-end="21">






</div></div></pre><div style="page-break-after:always;"></div>
<p><strong>Ejemplo 2:</strong></p>
<p>Supongamos un programa que me liste lo que contiene el directorio &apos;<em>HOME</em>&apos; de un usuario para diferentes SO, indic&#xE1;ndome si lo encontrado es un archivo o una carpeta.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[17,22,25,27,34]}" class="language-csharp" data-line="17,22,25,27,34"><span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//La siguiente expresi&#xF3;n est&#xE1; fuera del alcance de este curso pero por resumir</span>
    <span class="token comment">// lo que hace diremod que ...</span>
    <span class="token comment">// Si me estoy ejecutando en Unix, Linux y MacOS X tomo el valor de la</span>
    <span class="token comment">// carpeta de usuario de la variable HOME, en caso contr&#xE1;rio de la</span>
    <span class="token comment">// ubicaci&#xF3;n que indique Windows en su variable de ambiente.</span>
    <span class="token class-name"><span class="token keyword">string</span></span> home <span class="token operator">=</span> Environment<span class="token punctuation">.</span>OSVersion<span class="token punctuation">.</span>Platform <span class="token operator">==</span> <span class="token return-type class-name">PlatformID<span class="token punctuation">.</span>Unix          
                  <span class="token punctuation">?</span></span> Environment<span class="token punctuation">.</span><span class="token function">GetEnvironmentVariable</span><span class="token punctuation">(</span><span class="token string">&quot;HOME&quot;</span><span class="token punctuation">)</span>
                  <span class="token punctuation">:</span> Environment<span class="token punctuation">.</span><span class="token function">ExpandEnvironmentVariables</span><span class="token punctuation">(</span><span class="token string">&quot;%HOMEDRIVE%%HOMEPATH%&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Compruebo si existe la ruta devuelta por el entorno.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Directory<span class="token punctuation">.</span><span class="token function">Exists</span><span class="token punctuation">(</span>home<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Me sit&#xFA;o en el directorio home.</span>
        Directory<span class="token punctuation">.</span><span class="token function">SetCurrentDirectory</span><span class="token punctuation">(</span>home<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Instancio el objeto de tipo DirectoryInfo con la informaci&#xF3;n de la carpeta.</span>
        <span class="token class-name">DirectoryInfo</span> infoCarpeta <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DirectoryInfo</span><span class="token punctuation">(</span>home<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Obtengo informaci&#xF3;n de todos los objetos que hay en dicha carpeta ya sean</span>
        <span class="token comment">// otras capetas o archivos. Para eso llamo a GetFileSystemInfos() que me</span>
        <span class="token comment">// devuelve un array de FileSystemInfo con dicha informaci&#xF3;n.</span>
        <span class="token class-name">FileSystemInfo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> infosEnFS <span class="token operator">=</span> infoCarpeta<span class="token punctuation">.</span><span class="token function">GetFileSystemInfos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si hubiera querido ver si hay otras carpetas hubiera hecho...</span>
        <span class="token comment">// -&gt; DirectoryInfo[] infoCarpetas = infoCarpeta.GetDirectories();</span>
        <span class="token comment">// De forma an&#xE1;loga si hubiera querido coger solo informaci&#xF3;n de archivos...</span>
        <span class="token comment">// -&gt; FileInfo[] infoArchivos = infoCarpeta.GetFiles();</span>

        <span class="token comment">// Recorro el array.</span>
        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">FileSystemInfo</span> infoEnFS <span class="token keyword">in</span> infosEnFS<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Compruebo si en la m&#xE1;scara el item que estoy recorriendo </span>
            <span class="token comment">// me indica que es una carpeta.</span>
            <span class="token class-name"><span class="token keyword">bool</span></span> esCarpeta <span class="token operator">=</span> <span class="token punctuation">(</span>infoEnFS<span class="token punctuation">.</span>Attributes <span class="token operator">&amp;</span> FileAttributes<span class="token punctuation">.</span>Directory<span class="token punctuation">)</span> 
                              <span class="token operator">==</span> FileAttributes<span class="token punctuation">.</span>Directory<span class="token punctuation">;</span>
            <span class="token comment">// Muestro el nombre completo indicando si es un archivo o una carpeta.</span>
            <span class="token class-name"><span class="token keyword">string</span></span> info <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token punctuation">(</span>esCarpeta <span class="token punctuation">?</span> <span class="token string">&quot;Carpeta&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;Archivo&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">-&gt;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">infoEnFS<span class="token punctuation">.</span>FullName</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;No se ha podido encontrar la carpeta home.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">















<div aria-hidden="true" class="line-highlight" data-range="17" data-start="17">
</div></div><div class="line-highlight-wrapper">




















<div aria-hidden="true" class="line-highlight" data-range="22" data-start="22">
</div></div><div class="line-highlight-wrapper">























<div aria-hidden="true" class="line-highlight" data-range="25" data-start="25">
</div></div><div class="line-highlight-wrapper">

























<div aria-hidden="true" class="line-highlight" data-range="27" data-start="27">
</div></div><div class="line-highlight-wrapper">
































<div aria-hidden="true" class="line-highlight" data-range="34" data-start="34">
</div></div></pre><div style="page-break-after:always;"></div>
<blockquote>
<p>&#x1F393; <strong>Caso de estudio:</strong></p>
<p>En el siguiente caso de estudio, vamos a crear un m&#xE9;todo llamado <strong>void OcultaDirectorio(string ruta)</strong> que reciba una ruta a una carpeta y la marque como oculta.<br>
Adem&#xE1;s, vamos a controlar las posibles excepciones que se generen y las vamos a relanzar al <strong><code>Main</code></strong>. Para ello, si hacemos <strong><code>Ctrl + Click</code></strong> sobre el constructor de <strong><code>DirectoryInfo</code></strong> podemos ver que genera las excepciones:</p>
<ul>
<li><strong><code>UnauthorizedAccessException</code></strong>: Si no tenemos permiso de acceso a la carpeta.</li>
<li><strong><code>ArgumentException</code></strong>: Si la ruta contiene alg&#xFA;n caracter inv&#xE1;lido.</li>
<li><strong><code>PathTooLongException</code></strong>: Si la ruta es demasiado larga para el SO.</li>
</ul>
<p>Adem&#xE1;s de las anteriores, generar&#xE9; yo la excepci&#xF3;n <strong><code>FileNotFoundException</code></strong> si no existe la ruta que recibe el m&#xE9;todo por par&#xE1;metro.</p>
<p>Una <strong>propuesta de soluci&#xF3;n</strong> podr&#xED;a ser la siguiente ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OcultaDirectorio</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> ruta<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">string</span></span> log <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$&quot;Ocultando el directorio &apos;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ruta</span><span class="token punctuation">}</span></span><span class="token string">&apos;&quot;</span></span><span class="token punctuation">;</span>
    <span class="token comment">// Mensaje para la consola de depuraci&#xF3;n.</span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> 
    <span class="token punctuation">{</span>
        <span class="token class-name">FileSystemInfo</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DirectoryInfo</span><span class="token punctuation">(</span>ruta<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Genero la excepci&#xF3;n indic&#xE1;ndo lo que estoy haciendo y adem&#xE1;s le a&#xF1;ado</span>
        <span class="token comment">// como innerException otra inst&#xE1;ncia donde indico realmente el error.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>d<span class="token punctuation">.</span>Exists<span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileNotFoundException</span><span class="token punctuation">(</span>log<span class="token punctuation">,</span> 
                  <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileNotFoundException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;El directorio &apos;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ruta</span><span class="token punctuation">}</span></span><span class="token string">&apos; no existe&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// A&#xF1;ado con un OR de bit el atributo Hidden (Oculto) a la m&#xE1;scara de </span>
        <span class="token comment">// atributos del FileSystemInfo del directorio.</span>
        d<span class="token punctuation">.</span>Attributes <span class="token operator">|=</span> FileAttributes<span class="token punctuation">.</span>Hidden<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">UnauthorizedAccessException</span> e<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">UnauthorizedAccessException</span><span class="token punctuation">(</span>log<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ArgumentException</span> e<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span>log<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">PathTooLongException</span> e<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PathTooLongException</span><span class="token punctuation">(</span>log<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></blockquote>
<div style="page-break-after:always;"></div>
<blockquote>
<p>&#x1F393; <strong>continuaci&#xF3;n ...</strong></p>
<p>Ahora defino un <strong><code>Main</code></strong> donde voy a usar el m&#xE9;todo definido de tal manera que:</p>
<ol>
<li>Primero creo un directorio llamado <strong><code>&apos;oculto&apos;</code></strong> donde estoy ejecutando la aplicaci&#xF3;n.</li>
<li>Posteriormente lo ocultar&#xE9; llamando al m&#xE9;todo <strong><code>OcultaDirectorio</code></strong>.<br>
Adem&#xE1;s, capturo cualquier excepci&#xF3;n que se pueda producir, tanto creando el directorio prueba, como llam&#xE1;ndo al m&#xE9;todo para ocultarlo,</li>
</ol>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">try</span> 
    <span class="token punctuation">{</span>
        <span class="token class-name">DirectoryInfo</span> d <span class="token operator">=</span> Directory<span class="token punctuation">.</span><span class="token function">CreateDirectory</span><span class="token punctuation">(</span><span class="token string">&quot;oculto&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// F&#xED;jate que Directory.CreateDirectory(..) devuelve un DirectoryInfo con la</span>
        <span class="token comment">// informaci&#xF3;n del directorio que acabo de crear y que aprovecho para </span>
        <span class="token comment">// pasar la informaci&#xF3;n de la ruta completa a OcultaDirectorio(...)</span>
        <span class="token function">OcultaDirectorio</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>FullName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>e <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>Message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            e <span class="token operator">=</span> e<span class="token punctuation">.</span>InnerException<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>En este caso de estudio, se propone hacer las siguientes modificaciones...</p>
<ol>
<li>Ejecutal&#xF3; y comprueba si se ha creado un directorio oculto llamado <em>&apos;oculto&apos;</em>.</li>
<li>Intenta ocultar un directorio inexistente.</li>
<li>Revoca todos los permisos a tu usuario para esa carpeta y prueba a ocultarla.<br>
<strong>Nota:</strong> En el <strong><a href="https://answers.microsoft.com/es-es/windows/forum/all/windows-10-como-quito-los-permisos-de/86863693-988f-4546-b516-2e4298e2586f">siguiente enlace</a></strong> puede ver somo se quitan los permisos al Administrador en Windows 10. <strong>Haz lo mismo pero solo para tu usuario</strong>.</li>
</ol>
</blockquote>
<div style="page-break-after:always;"></div>
<h2 class="mume-header" id="flujos-de-datos-en-serie-o-streams">Flujos de datos en serie o streams</h2>

<h3 class="mume-header" id="conceptos-generales-sobre-streams">Conceptos generales sobre Streams</h3>

<p>La lectura y escritura de un archivo son hechas usando un concepto gen&#xE9;rico llamado <strong>stream</strong>.</p>
<p>Los <strong>stream</strong> son <strong>flujos de datos</strong> <strong>secuenciales</strong> que se utilizan para la <strong>transferencia de informaci&#xF3;n de un punto a otro</strong>.</p>
<p>Los datos del stream se agrupan de forma b&#xE1;sica en una <strong>secuencia de bytes</strong>....</p>
<p align="center" style="zoom:1"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="474pt" height="140pt" viewBox="0.00 0.00 474.00 140.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 136)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-136 470,-136 470,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster0</title>
<polygon fill="none" stroke="transparent" points="8,-8 8,-124 458,-124 458,-8 8,-8"/>
</g>
<!-- cluster0_stream -->
<g id="node1" class="node">
<title>cluster0_stream</title>
<polygon fill="none" stroke="#000000" points="24,-20 24,-54 80,-54 80,-20 24,-20"/>
<text text-anchor="start" x="32.9355" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">byte 0</text>
<polygon fill="none" stroke="#000000" points="80,-20 80,-54 136,-54 136,-20 80,-20"/>
<text text-anchor="start" x="88.9355" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">byte 1</text>
<polygon fill="none" stroke="#000000" points="136,-20 136,-54 192,-54 192,-20 136,-20"/>
<text text-anchor="start" x="144.9355" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">byte 2</text>
<polygon fill="none" stroke="#000000" points="192,-20 192,-54 248,-54 248,-20 192,-20"/>
<text text-anchor="start" x="200.9355" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">byte 3</text>
<polygon fill="none" stroke="#000000" points="248,-20 248,-54 304,-54 304,-20 248,-20"/>
<text text-anchor="start" x="256.9355" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">byte 4</text>
<polygon fill="none" stroke="#000000" points="304,-20 304,-54 360,-54 360,-20 304,-20"/>
<text text-anchor="start" x="312.9355" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">byte 5</text>
<polygon fill="none" stroke="#000000" points="360,-20 360,-54 416,-54 416,-20 360,-20"/>
<text text-anchor="start" x="368.9355" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">byte 6</text>
<text text-anchor="start" x="423.6641" y="-32.8" font-family="Arial" font-size="14.00" fill="#000000">...</text>
</g>
<!-- posición -->
<g id="node2" class="node">
<title>posici&#xF3;n</title>
<text text-anchor="middle" x="192" y="-93.8" font-family="Arial" font-size="14.00" fill="#000000">posici&#xF3;n</text>
</g>
<!-- posición&#45;&gt;cluster0_stream -->
<g id="edge1" class="edge">
<title>posici&#xF3;n-&gt;cluster0_stream:ne</title>
<path fill="none" stroke="#000000" d="M192,-79.8495C192,-79.8495 192,-64 192,-64"/>
<polygon fill="#000000" stroke="#000000" points="195.5001,-64 192,-54 188.5001,-64 195.5001,-64"/>
</g>
</g>
</svg>
</p><p>Los stream pueden ser transferidos en <strong>dos posibles direcciones</strong>:</p>
<ol>
<li>Si los datos son transferidos desde una fuente externa al programa, entonces se habla de <strong>&apos;<em>leer desde el stream</em>&apos;</strong>.</li>
<li>Si los datos son transferidos desde el programa a alguna fuente externa, entonces se habla de <strong>&apos;<em>escribir al stream</em>&apos;</strong>.</li>
</ol>
<p>Frecuentemente, la fuente externa ser&#xE1; un <strong>archivo</strong>, pero no es absolutamente necesario. Las fuentes de informaci&#xF3;n externas  pueden ser de diversos tipos. Algunas posibilidades incluyen:</p>
<ul>
<li>Leer o escribir datos a una red utilizando alg&#xFA;n protocolo de red, donde la intenci&#xF3;n es que estos datos sean recibidos o enviados por otro computador.</li>
<li>Lectura o escritura a un &#xE1;rea de memoria.</li>
<li>La Consola.</li>
<li>La Impresora.</li>
<li>Otros ...</li>
</ul>
<blockquote>
<p>&#x1F4E3; <strong>Resumen:</strong> Por tanto, podemos considerar un <strong>flujo</strong> o <strong>stream</strong> como una <strong>secuencia bytes</strong> sobre la que podemos leer o escribir. Un fichero es un tipo espec&#xED;fico de <strong>stream</strong>.</p>
</blockquote>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="operaciones-y-nomenclatura-relacionada-con-streams">Operaciones y nomenclatura relacionada con Streams</h4>

<h5 class="mume-header" id="apertura-open">Apertura (Open)</h5>

<p>Adem&#xE1;s de memoria, muchos flujos necesitan recursos extra. Por ejemplo, las conexiones de red crean sockets y los ficheros crean descriptores de ficheros en el sistema operativo.</p>
<p>En ocasiones, este proceso de apertura puede devolver errores o excepciones normalmente generadas por el SO como podr&#xED;an ser:</p>
<ul>
<li>Falta de permisos de acceso.</li>
<li>Bloqueo o uso por parte de otro programa.</li>
<li>El SO no puede crear m&#xE1;s descriptores o &apos;<em>manejadores</em>&apos; de ficheros.</li>
<li>Otros ...</li>
</ul>
<blockquote>
<p>&#x1F4E3; <strong>Resumen:</strong> Por tanto, al proceso de reservar, adquirir o bloquear estos recursos se denomina <strong>&apos;<em>apertura</em>&apos;</strong> y tras crear un flujo de datos diremos que lo estamos <strong>&apos;<em>abriendo</em>&apos;</strong>.</p>
</blockquote>
<h5 class="mume-header" id="cierre-close">Cierre (Close)</h5>

<p>C&#xF3;mo hemos comentado, si en el proceso de apertura necesitamos reservar, adquirir o bloquear recursos. Necesitaremos realizar el proceso opuesto de <strong>&apos;<em>liberaci&#xF3;n</em>&apos;</strong> de los mismos.</p>
<p>Deberemos llevar especial cuidado que este proceso de cierre se haga tambi&#xE9;n si se ha producido alg&#xFA;n error. Por tanto, si usamos excepciones, el <strong>&apos;<em>cierre</em>&apos;</strong> de un flujo deber&#xED;a ir en un bloque <strong><code>finally</code></strong>.</p>
<blockquote>
<p>&#x1F4E3; <strong>Resumen:</strong> Por tanto, tras finalizar el trabajo con el flujo de datos deberemos <strong>&apos;<em>cerrarlo</em>&apos;</strong>.</p>
</blockquote>
<h5 class="mume-header" id="lectura-read-y-escritura-write">Lectura (Read) y Escritura (Write)</h5>

<p>Son las operaciones b&#xE1;sicas sobre flujos y por tanto en su forma m&#xE1;s b&#xE1;sica transferir&#xE1;n bytes. Sin embargo en ocasiones estos bytes se pueden &apos;<em>agrupar</em>&apos; en la lectura para obtener tipos m&#xE1;s manejables y por tanto tambi&#xE9;n puede suceder el proceso inverso en el proceso de escritura.</p>
<h5 class="mume-header" id="volcado-flush">Volcado (Flush)</h5>

<p>Muchos flujos, en especial los que manejan ficheros, trabajan internamente con buffers donde se almacena temporalmente los bytes que se solicita <strong>escribir</strong>, hasta que su n&#xFA;mero alcance una cierta cantidad, momento en que son verdaderamente escritos todos a la vez en el flujo.<br>
Esto se hace porque las <strong>escrituras</strong> en flujos suelen ser <strong>operaciones lentas</strong>, e interesa que se hagan el menor n&#xFA;mero de veces posible.<br>
Sin embargo, hay ocasiones en que puede interesar asegurarse de que en un cierto instante se haya realizado el <strong>&apos;<em>volcado</em>&apos;</strong> real de los bytes en un flujo. En esos casos puede forzarse el volcado mediante la operaci&#xF3;n <strong>Flush</strong>, que vac&#xED;a por completo su buffer interno en el flujo.</p>
<blockquote>
<p>&#x1F4E3; <strong>Resumen:</strong> Por tanto, la operaci&#xF3;n de <strong>escritura</strong> en ficheros se realiza sobre un buffer de memoria RAM el cual se <strong>&apos;<em>volcar&#xE1;</em>&apos;</strong> en el soporte de almacenamiento por bloques para optimizar, ya sea de forma transparente o forzada.</p>
</blockquote>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="streams-en-chttpsdocsmicrosoftcomes-esdotnetstandardio"><a href="https://docs.microsoft.com/es-es/dotnet/standard/io/">Streams en C#</a></h3>

<p>En C# los archivos, directorios y flujos con ficheros, se manejan con clases del las BCL definidas en el namespace: <strong><code>System.IO</code></strong></p>
<p><strong>Todos los flujos de datos</strong> en C# heredan de la clase <strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.io.stream?view=net-5.0">Stream</a></strong> que implementa las operaciones b&#xE1;sicas antes descritas.</p>
<p>En el diagrama siguiente podemos ver de forma <strong>resumida</strong> c&#xF3;mo ha dise&#xF1;ado .NET sus clases para manejo de flujos.</p>
<blockquote>
<p><strong>Nota:</strong> Estos patrones de dise&#xF1;o y clases son an&#xE1;logos en otros lenguajes OO.</p>
</blockquote>
<p align="center" style="zoom:0.4"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="1624pt" height="496pt" viewBox="0.00 0.00 1624.30 496.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 492)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-492 1620.2953,-492 1620.2953,4 -4,4"/>
<g id="clust2" class="cluster">
<title>clusterG</title>
<polygon fill="none" stroke="#104e8b" points="354.891,-48 354.891,-480 1315.891,-480 1315.891,-48 354.891,-48"/>
<text text-anchor="middle" x="835.391" y="-449" font-family="Arial" font-size="30.00" fill="#104e8b">Clases para el manejo de streams</text>
</g>
<g id="clust3" class="cluster">
<title>cluster1</title>
<polygon fill="#e0eeee" stroke="#e0eeee" points="359.891,-73 359.891,-431 543.891,-431 543.891,-73 359.891,-73"/>
<text text-anchor="middle" x="451.891" y="-409" font-family="Arial" font-size="20.00" fill="#104e8b">Stream Adapters</text>
</g>
<g id="clust4" class="cluster">
<title>cluster2</title>
<polygon fill="#e0eeee" stroke="#e0eeee" points="722.891,-73 722.891,-431 906.891,-431 906.891,-73 722.891,-73"/>
<text text-anchor="middle" x="814.891" y="-409" font-family="Arial" font-size="20.00" fill="#104e8b">Decorator Streams</text>
</g>
<g id="clust5" class="cluster">
<title>cluster3</title>
<polygon fill="#e0eeee" stroke="#e0eeee" points="1090.891,-149 1090.891,-431 1310.891,-431 1310.891,-149 1090.891,-149"/>
<text text-anchor="middle" x="1200.891" y="-409" font-family="Arial" font-size="20.00" fill="#104e8b">Backing Store Streams</text>
</g>
<g id="clust6" class="cluster">
<title>cluster4</title>
<polygon fill="none" stroke="transparent" points="1424.2953,-146 1424.2953,-446 1608.2953,-446 1608.2953,-146 1424.2953,-146"/>
<text text-anchor="middle" x="1516.2953" y="-415" font-family="Arial" font-size="30.00" fill="#000000">Dispositivos</text>
</g>
<g id="clust1" class="cluster">
<title>cluster0</title>
<polygon fill="none" stroke="transparent" points="8,-8 8,-404 168,-404 168,-8 8,-8"/>
<text text-anchor="middle" x="88" y="-373" font-family="Arial" font-size="30.00" fill="#000000">Datos</text>
</g>
<!-- Texto -->
<g id="node1" class="node">
<title>Texto</title>
<polygon fill="none" stroke="#000000" points="154,-352 16,-352 16,-268 160,-268 160,-346 154,-352"/>
<polyline fill="none" stroke="#000000" points="154,-352 154,-346 "/>
<polyline fill="none" stroke="#000000" points="160,-346 154,-346 "/>
<text text-anchor="middle" x="88" y="-316" font-family="Arial" font-size="20.00" fill="#000000">Texto en</text>
<text text-anchor="middle" x="88" y="-292" font-family="Arial" font-size="20.00" fill="#000000">UTF-8</text>
</g>
<!-- StreamWriter -->
<g id="node4" class="node">
<title>StreamWriter</title>
<polygon fill="#36648b" stroke="#36648b" points="523.891,-379 379.891,-379 379.891,-321 523.891,-321 523.891,-379"/>
<text text-anchor="middle" x="451.891" y="-345.2" font-family="Arial" font-size="16.00" fill="#ffffff">StreamWriter</text>
</g>
<!-- Texto&#45;&gt;StreamWriter -->
<g id="edge1" class="edge">
<title>Texto-&gt;StreamWriter</title>
<path fill="none" stroke="#1874cd" stroke-width="3" d="M160.3282,-336.5C160.3282,-336.5 369.6997,-336.5 369.6997,-336.5"/>
<polygon fill="#1874cd" stroke="#1874cd" stroke-width="3" points="369.6997,-340.0001 379.6997,-336.5 369.6996,-333.0001 369.6997,-340.0001"/>
<text text-anchor="middle" x="269.9455" y="-324.7" font-family="Arial" font-size="19.00" fill="#1874cd">string</text>
</g>
<!-- Tipos -->
<g id="node2" class="node">
<title>Tipos</title>
<polygon fill="none" stroke="#000000" points="154,-250 16,-250 16,-118 160,-118 160,-244 154,-250"/>
<polyline fill="none" stroke="#000000" points="154,-250 154,-244 "/>
<polyline fill="none" stroke="#000000" points="160,-244 154,-244 "/>
<text text-anchor="start" x="34" y="-214" font-family="Arial" font-size="20.00" fill="#000000">int</text>
<text text-anchor="start" x="34" y="-190" font-family="Arial" font-size="20.00" fill="#000000">double</text>
<text text-anchor="start" x="34" y="-166" font-family="Arial" font-size="20.00" fill="#000000">string</text>
<text text-anchor="start" x="34" y="-142" font-family="Arial" font-size="20.00" fill="#000000">...</text>
</g>
<!-- BinaryWriter -->
<g id="node6" class="node">
<title>BinaryWriter</title>
<polygon fill="#36648b" stroke="#36648b" points="523.891,-151 379.891,-151 379.891,-93 523.891,-93 523.891,-151"/>
<text text-anchor="middle" x="451.891" y="-117.2" font-family="Arial" font-size="16.00" fill="#ffffff">BinaryWriter</text>
</g>
<!-- Tipos&#45;&gt;BinaryWriter -->
<g id="edge2" class="edge">
<title>Tipos-&gt;BinaryWriter</title>
<path fill="none" stroke="#1874cd" stroke-width="3" d="M160.3282,-134.5C160.3282,-134.5 369.6997,-134.5 369.6997,-134.5"/>
<polygon fill="#1874cd" stroke="#1874cd" stroke-width="3" points="369.6997,-138.0001 379.6997,-134.5 369.6996,-131.0001 369.6997,-138.0001"/>
<text text-anchor="middle" x="269.9455" y="-150.7" font-family="Arial" font-size="19.00" fill="#1874cd">tipos b&#xE1;sicos</text>
</g>
<!-- Bytes -->
<g id="node3" class="node">
<title>Bytes</title>
<polygon fill="none" stroke="#000000" points="154,-100 16,-100 16,-16 160,-16 160,-94 154,-100"/>
<polyline fill="none" stroke="#000000" points="154,-100 154,-94 "/>
<polyline fill="none" stroke="#000000" points="160,-94 154,-94 "/>
<text text-anchor="middle" x="88" y="-64" font-family="Arial" font-size="20.00" fill="#000000">Bytes sin</text>
<text text-anchor="middle" x="88" y="-40" font-family="Arial" font-size="20.00" fill="#000000">transformar</text>
</g>
<!-- DeflateStream -->
<g id="node8" class="node">
<title>DeflateStream</title>
<polygon fill="#4f94cd" stroke="#4f94cd" points="886.891,-379 742.891,-379 742.891,-321 886.891,-321 886.891,-379"/>
<text text-anchor="middle" x="814.891" y="-345.2" font-family="Arial" font-size="16.00" fill="#ffffff">DeflateStream</text>
</g>
<!-- StreamWriter&#45;&gt;DeflateStream -->
<g id="edge5" class="edge">
<title>StreamWriter-&gt;DeflateStream</title>
<path fill="none" stroke="transparent" stroke-width="3" d="M524.0421,-350C524.0421,-350 732.8764,-350 732.8764,-350"/>
<polygon fill="transparent" stroke="transparent" stroke-width="3" points="732.8765,-353.5001 742.8764,-350 732.8764,-346.5001 732.8765,-353.5001"/>
</g>
<!-- StreamReader -->
<g id="node5" class="node">
<title>StreamReader</title>
<polygon fill="#36648b" stroke="#36648b" points="523.891,-303 379.891,-303 379.891,-245 523.891,-245 523.891,-303"/>
<text text-anchor="middle" x="451.891" y="-269.2" font-family="Arial" font-size="16.00" fill="#ffffff">StreamReader</text>
</g>
<!-- StreamReader&#45;&gt;Texto -->
<g id="edge3" class="edge">
<title>StreamReader-&gt;Texto</title>
<path fill="none" stroke="#1874cd" stroke-width="3" d="M379.5628,-285.5C379.5628,-285.5 170.1913,-285.5 170.1913,-285.5"/>
<polygon fill="#1874cd" stroke="#1874cd" stroke-width="3" points="170.1914,-282.0001 160.1913,-285.5 170.1913,-289.0001 170.1914,-282.0001"/>
</g>
<!-- BinaryReader -->
<g id="node7" class="node">
<title>BinaryReader</title>
<polygon fill="#36648b" stroke="#36648b" points="523.891,-227 379.891,-227 379.891,-169 523.891,-169 523.891,-227"/>
<text text-anchor="middle" x="451.891" y="-193.2" font-family="Arial" font-size="16.00" fill="#ffffff">BinaryReader</text>
</g>
<!-- BinaryReader&#45;&gt;Tipos -->
<g id="edge4" class="edge">
<title>BinaryReader-&gt;Tipos</title>
<path fill="none" stroke="#1874cd" stroke-width="3" d="M379.5628,-198C379.5628,-198 170.1913,-198 170.1913,-198"/>
<polygon fill="#1874cd" stroke="#1874cd" stroke-width="3" points="170.1914,-194.5001 160.1913,-198 170.1913,-201.5001 170.1914,-194.5001"/>
</g>
<!-- FileStream -->
<g id="node13" class="node">
<title>FileStream</title>
<polygon fill="#5cacee" stroke="#5cacee" points="1272.891,-379 1128.891,-379 1128.891,-321 1272.891,-321 1272.891,-379"/>
<text text-anchor="middle" x="1200.891" y="-345.2" font-family="Arial" font-size="16.00" fill="#ffffff">FileStream</text>
</g>
<!-- DeflateStream&#45;&gt;FileStream -->
<g id="edge6" class="edge">
<title>DeflateStream-&gt;FileStream</title>
<path fill="none" stroke="transparent" stroke-width="3" d="M887.0418,-350C887.0418,-350 1118.7671,-350 1118.7671,-350"/>
<polygon fill="transparent" stroke="transparent" stroke-width="3" points="1118.7671,-353.5001 1128.7671,-350 1118.7671,-346.5001 1118.7671,-353.5001"/>
</g>
<!-- GZipStream -->
<g id="node9" class="node">
<title>GZipStream</title>
<polygon fill="#4f94cd" stroke="#4f94cd" points="886.891,-303 742.891,-303 742.891,-245 886.891,-245 886.891,-303"/>
<text text-anchor="middle" x="814.891" y="-269.2" font-family="Arial" font-size="16.00" fill="#ffffff">GZipStream</text>
</g>
<!-- CryptoStream -->
<g id="node10" class="node">
<title>CryptoStream</title>
<polygon fill="#4f94cd" stroke="#4f94cd" points="886.891,-227 742.891,-227 742.891,-169 886.891,-169 886.891,-227"/>
<text text-anchor="middle" x="814.891" y="-193.2" font-family="Arial" font-size="16.00" fill="#ffffff">CryptoStream</text>
</g>
<!-- BufferedStream -->
<g id="node11" class="node">
<title>BufferedStream</title>
<polygon fill="#4f94cd" stroke="#4f94cd" points="886.891,-151 742.891,-151 742.891,-93 886.891,-93 886.891,-151"/>
<text text-anchor="middle" x="814.891" y="-117.2" font-family="Arial" font-size="16.00" fill="#ffffff">BufferedStream</text>
</g>
<!-- c1 -->
<g id="node12" class="node">
<title>c1</title>
<ellipse fill="#000000" stroke="#000000" cx="451.891" cy="-53" rx=".36" ry=".36"/>
</g>
<!-- Fichero -->
<g id="node16" class="node">
<title>Fichero</title>
<polygon fill="none" stroke="#000000" points="1588.2953,-382 1448.2953,-382 1444.2953,-378 1444.2953,-322 1584.2953,-322 1588.2953,-326 1588.2953,-382"/>
<polyline fill="none" stroke="#000000" points="1584.2953,-378 1444.2953,-378 "/>
<polyline fill="none" stroke="#000000" points="1584.2953,-378 1584.2953,-322 "/>
<polyline fill="none" stroke="#000000" points="1584.2953,-378 1588.2953,-382 "/>
<text text-anchor="middle" x="1516.2953" y="-346" font-family="Arial" font-size="20.00" fill="#000000">Fichero</text>
</g>
<!-- FileStream&#45;&gt;Fichero -->
<g id="edge7" class="edge">
<title>FileStream-&gt;Fichero</title>
<path fill="none" stroke="#1874cd" stroke-width="3" d="M1283.2511,-350.5C1283.2511,-350.5 1434.2719,-350.5 1434.2719,-350.5"/>
<polygon fill="#1874cd" stroke="#1874cd" stroke-width="3" points="1434.2719,-354 1444.2719,-350.5 1434.2719,-347 1434.2719,-354"/>
<polygon fill="#1874cd" stroke="#1874cd" stroke-width="3" points="1283.2511,-347 1273.2511,-350.5 1283.2511,-354 1283.2511,-347"/>
<text text-anchor="middle" x="1367.5932" y="-356.7" font-family="Arial" font-size="19.00" fill="#1874cd">bytes</text>
</g>
<!-- MemoryStream -->
<g id="node14" class="node">
<title>MemoryStream</title>
<polygon fill="#5cacee" stroke="#5cacee" points="1272.891,-303 1128.891,-303 1128.891,-245 1272.891,-245 1272.891,-303"/>
<text text-anchor="middle" x="1200.891" y="-269.2" font-family="Arial" font-size="16.00" fill="#ffffff">MemoryStream</text>
</g>
<!-- Memoria -->
<g id="node17" class="node">
<title>Memoria</title>
<polygon fill="none" stroke="#000000" points="1588.2953,-304 1448.2953,-304 1444.2953,-300 1444.2953,-244 1584.2953,-244 1588.2953,-248 1588.2953,-304"/>
<polyline fill="none" stroke="#000000" points="1584.2953,-300 1444.2953,-300 "/>
<polyline fill="none" stroke="#000000" points="1584.2953,-300 1584.2953,-244 "/>
<polyline fill="none" stroke="#000000" points="1584.2953,-300 1588.2953,-304 "/>
<text text-anchor="middle" x="1516.2953" y="-268" font-family="Arial" font-size="20.00" fill="#000000">Memoria</text>
</g>
<!-- MemoryStream&#45;&gt;Memoria -->
<g id="edge8" class="edge">
<title>MemoryStream-&gt;Memoria</title>
<path fill="none" stroke="#1874cd" stroke-width="3" d="M1283.2511,-274C1283.2511,-274 1434.2719,-274 1434.2719,-274"/>
<polygon fill="#1874cd" stroke="#1874cd" stroke-width="3" points="1434.2719,-277.5 1444.2719,-274 1434.2719,-270.5 1434.2719,-277.5"/>
<polygon fill="#1874cd" stroke="#1874cd" stroke-width="3" points="1283.2511,-270.5 1273.2511,-274 1283.2511,-277.5 1283.2511,-270.5"/>
<text text-anchor="middle" x="1367.5932" y="-279.7" font-family="Arial" font-size="19.00" fill="#1874cd">bytes</text>
</g>
<!-- NetworkStream -->
<g id="node15" class="node">
<title>NetworkStream</title>
<polygon fill="#5cacee" stroke="#5cacee" points="1272.891,-227 1128.891,-227 1128.891,-169 1272.891,-169 1272.891,-227"/>
<text text-anchor="middle" x="1200.891" y="-193.2" font-family="Arial" font-size="16.00" fill="#ffffff">NetworkStream</text>
</g>
<!-- Red -->
<g id="node18" class="node">
<title>Red</title>
<polygon fill="none" stroke="#000000" points="1588.2953,-226 1448.2953,-226 1444.2953,-222 1444.2953,-166 1584.2953,-166 1588.2953,-170 1588.2953,-226"/>
<polyline fill="none" stroke="#000000" points="1584.2953,-222 1444.2953,-222 "/>
<polyline fill="none" stroke="#000000" points="1584.2953,-222 1584.2953,-166 "/>
<polyline fill="none" stroke="#000000" points="1584.2953,-222 1588.2953,-226 "/>
<text text-anchor="middle" x="1516.2953" y="-190" font-family="Arial" font-size="20.00" fill="#000000">Red</text>
</g>
<!-- NetworkStream&#45;&gt;Red -->
<g id="edge9" class="edge">
<title>NetworkStream-&gt;Red</title>
<path fill="none" stroke="#1874cd" stroke-width="3" d="M1283.2511,-197.5C1283.2511,-197.5 1434.2719,-197.5 1434.2719,-197.5"/>
<polygon fill="#1874cd" stroke="#1874cd" stroke-width="3" points="1434.2719,-201 1444.2719,-197.5 1434.2719,-194 1434.2719,-201"/>
<polygon fill="#1874cd" stroke="#1874cd" stroke-width="3" points="1283.2511,-194 1273.2511,-197.5 1283.2511,-201 1283.2511,-194"/>
<text text-anchor="middle" x="1367.5932" y="-202.7" font-family="Arial" font-size="19.00" fill="#1874cd">bytes</text>
</g>
</g>
</svg>
</p><p>Si nos fijamos, tendremos de derecha a izquierda ...</p>
<ul>
<li>Una serie de <strong>dispositivos</strong> donde vamos a realizar las operaciones de lectura y escritura.</li>
<li>Una serie de clases denominadas <strong>Backing Store Streams</strong> que ser&#xE1;n las que hereden de <strong><code>Stream</code></strong> y hagan las operaciones del lectura y escritura en los dispositivos. En concreto, <strong>para ficheros usaremos</strong> la subclase de stream <strong><code>FileStream</code></strong>.</li>
<li>Una serie de clases denominadas <strong>Decorator Streams</strong> que transformar&#xE1;n una secuencia de <strong>bytes</strong> en otra secuencia de <strong>bytes</strong> y cuyo uso ser&#xE1; opcional si queremos hacer operaciones como compresi&#xF3;n, cifrado, etc. En este, tema veremos un case de uso <strong><code>BufferedStream</code></strong> pero no profundizaremos en su uso.</li>
<li>&#x270B; <strong>Importante:</strong> Una serie de clases denominadas <strong>Stream Adapters</strong> adapter que adaptar&#xE1;n, en ambos sentidos, <strong>tipos de datos b&#xE1;sicos</strong> manejables por los programas a secuencias de <strong>bytes</strong> manejables por los streams.<br>
<strong>Nota:</strong> Si los datos que manejamos en el programa son directamente <strong>bytes sin transformar</strong> nos saltaremos estas clases para manejar directamente &apos;<em>Decorator Streams</em>&apos; o &apos;<em>Backing Store Streams</em>&apos;</li>
</ul>
<p>Podremos realizar correspondencias, entre los diferentes bloques de clases, dependiendo de flujo de datos que queramos manejar y lo que queramos hacer teniendo en cuenta los datos.</p>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="lectura-y-escritura-de-ficheros-sin-transformar">Lectura y escritura de ficheros sin transformar</h4>

<p>Escribiremos y leeremos bloques de <strong>bytes</strong>. Por tanto, solo necesitaremos usar la clase <strong><code>FileStream</code></strong> y por tanto estaremos usando la siguiente combinaci&#xF3;n...</p>
<p align="center" style="zoom:0.4"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="1078pt" height="208pt" viewBox="0.00 0.00 1077.81 208.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 204)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-204 1073.8086,-204 1073.8086,4 -4,4"/>
<g id="clust4" class="cluster">
<title>cluster4</title>
<polygon fill="none" stroke="transparent" points="877.8086,-12 877.8086,-156 1061.8086,-156 1061.8086,-12 877.8086,-12"/>
<text text-anchor="middle" x="969.8086" y="-125" font-family="Arial" font-size="30.00" fill="#000000">Dispositivos</text>
</g>
<g id="clust2" class="cluster">
<title>clusterG</title>
<polygon fill="none" stroke="#104e8b" points="293.4043,-8 293.4043,-192 764.4043,-192 764.4043,-8 293.4043,-8"/>
<text text-anchor="middle" x="528.9043" y="-161" font-family="Arial" font-size="30.00" fill="#104e8b">Clases para el manejo de streams</text>
</g>
<g id="clust3" class="cluster">
<title>cluster3</title>
<polygon fill="#e0eeee" stroke="#e0eeee" points="418.4043,-13 418.4043,-143 638.4043,-143 638.4043,-13 418.4043,-13"/>
<text text-anchor="middle" x="528.4043" y="-121" font-family="Arial" font-size="20.00" fill="#104e8b">Backing Store Streams</text>
</g>
<g id="clust1" class="cluster">
<title>cluster0</title>
<polygon fill="none" stroke="transparent" points="8,-12 8,-156 168,-156 168,-12 8,-12"/>
<text text-anchor="middle" x="88" y="-125" font-family="Arial" font-size="30.00" fill="#000000">Datos</text>
</g>
<!-- Bytes -->
<g id="node1" class="node">
<title>Bytes</title>
<polygon fill="none" stroke="#000000" points="154,-104 16,-104 16,-20 160,-20 160,-98 154,-104"/>
<polyline fill="none" stroke="#000000" points="154,-104 154,-98 "/>
<polyline fill="none" stroke="#000000" points="160,-98 154,-98 "/>
<text text-anchor="middle" x="88" y="-68" font-family="Arial" font-size="20.00" fill="#000000">Bytes sin</text>
<text text-anchor="middle" x="88" y="-44" font-family="Arial" font-size="20.00" fill="#000000">transformar</text>
</g>
<!-- FileStream -->
<g id="node2" class="node">
<title>FileStream</title>
<polygon fill="#5cacee" stroke="#5cacee" points="600.4043,-91 456.4043,-91 456.4043,-33 600.4043,-33 600.4043,-91"/>
<text text-anchor="middle" x="528.4043" y="-57.2" font-family="Arial" font-size="16.00" fill="#ffffff">FileStream</text>
</g>
<!-- Bytes&#45;&gt;FileStream -->
<g id="edge1" class="edge">
<title>Bytes-&gt;FileStream</title>
<path fill="none" stroke="#1874cd" stroke-width="3" d="M170.2307,-62C170.2307,-62 446.1342,-62 446.1342,-62"/>
<polygon fill="#1874cd" stroke="#1874cd" stroke-width="3" points="446.1342,-65.5 456.1342,-62 446.1342,-58.5 446.1342,-65.5"/>
<polygon fill="#1874cd" stroke="#1874cd" stroke-width="3" points="170.2307,-58.5 160.2307,-62 170.2307,-65.5 170.2307,-58.5"/>
<text text-anchor="middle" x="236.7022" y="-67.7" font-family="Arial" font-size="19.00" fill="#1874cd">bytes</text>
</g>
<!-- Fichero -->
<g id="node3" class="node">
<title>Fichero</title>
<polygon fill="none" stroke="#000000" points="1041.8086,-92 901.8086,-92 897.8086,-88 897.8086,-32 1037.8086,-32 1041.8086,-36 1041.8086,-92"/>
<polyline fill="none" stroke="#000000" points="1037.8086,-88 897.8086,-88 "/>
<polyline fill="none" stroke="#000000" points="1037.8086,-88 1037.8086,-32 "/>
<polyline fill="none" stroke="#000000" points="1037.8086,-88 1041.8086,-92 "/>
<text text-anchor="middle" x="969.8086" y="-56" font-family="Arial" font-size="20.00" fill="#000000">Fichero</text>
</g>
<!-- FileStream&#45;&gt;Fichero -->
<g id="edge2" class="edge">
<title>FileStream-&gt;Fichero</title>
<path fill="none" stroke="#1874cd" stroke-width="3" d="M610.799,-62C610.799,-62 887.741,-62 887.741,-62"/>
<polygon fill="#1874cd" stroke="#1874cd" stroke-width="3" points="887.741,-65.5 897.741,-62 887.741,-58.5 887.741,-65.5"/>
<polygon fill="#1874cd" stroke="#1874cd" stroke-width="3" points="610.799,-58.5 600.799,-62 610.799,-65.5 610.799,-58.5"/>
<text text-anchor="middle" x="821.1065" y="-67.7" font-family="Arial" font-size="19.00" fill="#1874cd">bytes</text>
</g>
</g>
</svg>
</p><h5 class="mume-header" id="apertura-y-cierre-de-un-fichero-con-filestream">Apertura y Cierre de un fichero con FileStream</h5>

<p>La forma de abrirlo o crearlo m&#xE1;s com&#xFA;n de encontrar en la mayor&#xED;a de lenguajes es usando el constructor...</p>
<p><strong>public <a href="https://docs.microsoft.com/es-es/dotnet/api/system.io.filestream.-ctor?view=net-5.0#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_">FileStream</a>(string path, FileMode mode, FileAccess access)</strong></p>
<ul>
<li>
<p><strong><code>string path</code></strong>: Ubicaci&#xF3;n del fichero sobre el que queremos abrir un flujo.</p>
</li>
<li>
<p><strong><code>FileMode mode</code></strong>: Enum con las posibilidades de apertura del fichero.</p>
<ul>
<li><strong><code>Append</code></strong>: Abre el archivo si existe y realiza una b&#xFA;squeda hasta el final del mismo, o crea un archivo nuevo.</li>
<li><strong><code>Create</code></strong>: Especifica que el sistema operativo debe crear un archivo nuevo. Si el archivo ya existe, se sobrescribir&#xE1;.</li>
<li><strong><code>CreateNew</code></strong>: Especifica que el sistema operativo debe crear un archivo nuevo. Si el archivo ya existe hay una excepci&#xF3;n.</li>
<li><strong><code>Open</code></strong>: Especifica que el sistema operativo debe abrir un archivo existente.</li>
<li><strong><code>OpenOrCreate</code></strong>: Especifica que el sistema operativo debe abrir un archivo si ya existe; en caso contrario, debe crearse uno nuevo.</li>
<li><strong><code>Truncate</code></strong>: Especifica que el sistema operativo debe abrir un archivo existente. Una vez abierto, debe truncarse el archivo para que su tama&#xF1;o sea de cero bytes.</li>
</ul>
</li>
<li>
<p><strong><code>FileAccess access</code></strong>: Enum con el tipo de operaci&#xF3;n que vamos a realizar.</p>
<ul>
<li><strong><code>Read</code></strong>: Acceso de lectura al archivo.</li>
<li><strong><code>ReadWrite</code></strong>: Acceso de lectura y escritura al archivo.</li>
<li><strong><code>Write</code></strong>: Acceso de escritura al archivo.</li>
</ul>
</li>
</ul>
<p>El cierre del fichero lo haremos a trav&#xE9;s de...</p>
<p><strong>public void Stream.<a href="https://docs.microsoft.com/es-es/dotnet/api/system.io.stream.close?view=net-5.0">Close</a>()</strong></p>
<ul>
<li>Libera el descriptor o manejador del fichero creado por el SO.</li>
<li>Hace un <strong><code>Flush()</code></strong> del buffer del <strong><code>Stream</code></strong> en el dispositivo si lo hemos abierto para escritura y hay escrituras pendientes de guardar.</li>
<li>En el lenguaje C#, esta tarea la hace el m&#xE9;todo <strong><code>Dispose()</code></strong> con el que todo flujo cuenta como <strong>est&#xE1;ndar recomendado</strong> para liberar recursos de manera determinista. Sin embargo, por analog&#xED;a con otros lenguajes a la clase <strong><code>Stream</code></strong> tambi&#xE9;n dispone de un m&#xE9;todo <strong><code>Close()</code></strong> que hace lo mismo.</li>
</ul>
<div style="page-break-after:always;"></div>
<p><strong>Ejemplo b&#xE1;sico de uso</strong>:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>IO</span><span class="token punctuation">;</span>
<span class="token keyword">namespace</span> <span class="token namespace">Ejemplo</span>
<span class="token punctuation">{</span>
    <span class="token keyword">class</span> <span class="token class-name">Program</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// El siguiente programa crea o sobreescribe el archivo ejemplo.txt en el</span>
        <span class="token comment">// directorio donde me estoy ejecutando.</span>
        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name">FileStream</span> fichero <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileStream</span><span class="token punctuation">(</span>
                                        <span class="token string">&quot;ejemplo.txt&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// Nombre del fichero</span>
                                        FileMode<span class="token punctuation">.</span>Create<span class="token punctuation">,</span>    <span class="token comment">// Lo creo o sobreescribo si exite</span>
                                        FileAccess<span class="token punctuation">.</span>Write<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Solo puedo escribir en &#xE9;l.</span>
            fichero<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><h5 class="mume-header" id="escritura-de-un-fichero-con-filestream">Escritura de un fichero con FileStream</h5>

<p>La forma escribir m&#xE1;s com&#xFA;n, herencia del lenguaje C es el m&#xE9;todo...</p>
<p><strong>public override void fileStream.<a href="https://docs.microsoft.com/es-es/dotnet/api/system.io.filestream.write?view=net-5.0#System_IO_FileStream_Write_System_Byte___System_Int32_System_Int32_">Write</a>(byte[] array, int offset, int count)</strong></p>
<ul>
<li><strong><code>byte[] array</code></strong>: Buffer que contiene los datos a escribir.</li>
<li><strong><code>int offset</code></strong>: Desplazamiento en bytes de base cero de array donde se comienzan a copiar los datos en la secuencia actual.</li>
<li><strong>int count</strong>: N&#xFA;mero m&#xE1;ximo de bytes que se deben escribir.</li>
</ul>
<p><strong>Ejemplo b&#xE1;sico de uso</strong>:</p>
<pre data-role="codeBlock" data-info="csharp {highlight=6}" class="language-csharp" data-line="6"><span class="token class-name">FileStream</span> fs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileStream</span><span class="token punctuation">(</span><span class="token string">&quot;ejemplo.txt&quot;</span><span class="token punctuation">,</span> FileMode<span class="token punctuation">.</span>Create<span class="token punctuation">,</span> FileAccess<span class="token punctuation">.</span>Write<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Escribo 3 bytes con el valor en hexadecimal del </span>
<span class="token comment">// d&#xED;gito &apos;0&apos; en UTF-8 al principio del stream.</span>
<span class="token class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> datos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span> <span class="token number">0x31</span><span class="token punctuation">,</span> <span class="token number">0x30</span><span class="token punctuation">,</span> <span class="token number">0x30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>datos<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> datos<span class="token punctuation">.</span>Length<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Volcamos a disco el buffer de manera forzada.</span>
fs<span class="token punctuation">.</span><span class="token function">Flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Cerramos el stream.</span>
fs<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<div class="line-highlight-wrapper">




<div aria-hidden="true" class="line-highlight" data-range="6" data-start="6">
</div></div></pre><p align="center" style="zoom:0.8"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="348pt" height="203pt" viewBox="0.00 0.00 348.00 203.40" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 199.4)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-199.4 344,-199.4 344,4 -4,4"/>
<text text-anchor="middle" x="170" y="-178.8" font-family="Arial" font-size="14.00" fill="#000000">El descriptor se se desplzar&#xE1; por el Stream</text>
<g id="clust1" class="cluster">
<title>cluster0</title>
<polygon fill="none" stroke="transparent" points="8,-8 8,-115 332,-115 332,-8 8,-8"/>
</g>
<!-- cluster0_stream -->
<g id="node1" class="node">
<title>cluster0_stream</title>
<polygon fill="none" stroke="#000000" points="40,-51.5 40,-102.5 88,-102.5 88,-51.5 40,-51.5"/>
<text text-anchor="start" x="48.8261" y="-80.9" font-family="Arial" font-size="14.00" fill="#000000">0x30</text>
<text text-anchor="start" x="57.0161" y="-64.1" font-family="Arial" font-size="14.00" fill="#000000">&apos;0&apos;</text>
<polygon fill="none" stroke="#000000" points="88,-51.5 88,-102.5 136,-102.5 136,-51.5 88,-51.5"/>
<text text-anchor="start" x="96.8261" y="-80.9" font-family="Arial" font-size="14.00" fill="#000000">0x30</text>
<text text-anchor="start" x="105.0161" y="-64.1" font-family="Arial" font-size="14.00" fill="#000000">&apos;0&apos;</text>
<polygon fill="none" stroke="#000000" points="136,-51.5 136,-102.5 184,-102.5 184,-51.5 136,-51.5"/>
<text text-anchor="start" x="144.8261" y="-80.9" font-family="Arial" font-size="14.00" fill="#000000">0x30</text>
<text text-anchor="start" x="153.0161" y="-64.1" font-family="Arial" font-size="14.00" fill="#000000">&apos;0&apos;</text>
<polygon fill="none" stroke="#000000" points="184,-51.5 184,-102.5 202,-102.5 202,-51.5 184,-51.5"/>
<polygon fill="none" stroke="#000000" points="202,-51.5 202,-102.5 220,-102.5 220,-51.5 202,-51.5"/>
<polygon fill="none" stroke="#000000" points="220,-51.5 220,-102.5 238,-102.5 238,-51.5 220,-51.5"/>
<polygon fill="none" stroke="#000000" points="238,-51.5 238,-102.5 256,-102.5 256,-51.5 238,-51.5"/>
<text text-anchor="start" x="263.9432" y="-72.8" font-family="Arial" font-size="14.00" fill="#000000">Stream</text>
<text text-anchor="start" x="52.3261" y="-31.9" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="60.1087" y="-31.9" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">00</text>
<text text-anchor="start" x="100.3261" y="-31.9" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="108.1087" y="-31.9" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">01</text>
<text text-anchor="start" x="148.3261" y="-31.9" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="156.1087" y="-31.9" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">02</text>
</g>
<!-- p1 -->
<g id="node2" class="node">
<title>p1</title>
<text text-anchor="middle" x="40" y="-154" font-family="Arial" font-size="14.00" fill="#d3d3d3">antes</text>
<text text-anchor="middle" x="40" y="-137.2" font-family="Arial" font-size="14.00" fill="#d3d3d3">Write</text>
</g>
<!-- p1&#45;&gt;cluster0_stream -->
<g id="edge1" class="edge">
<title>p1-&gt;cluster0_stream:nw</title>
<path fill="none" stroke="#d3d3d3" d="M41.25,-129.1911C41.25,-129.1911 41.25,-112.5 41.25,-112.5"/>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="44.7501,-112.5 41.25,-102.5 37.7501,-112.5 44.7501,-112.5"/>
</g>
<!-- p2 -->
<g id="node3" class="node">
<title>p2</title>
<text text-anchor="middle" x="184" y="-154" font-family="Arial" font-size="14.00" fill="#000000">depu&#xE9;s</text>
<text text-anchor="middle" x="184" y="-137.2" font-family="Arial" font-size="14.00" fill="#000000">Write</text>
</g>
<!-- p2&#45;&gt;cluster0_stream -->
<g id="edge2" class="edge">
<title>p2-&gt;cluster0_stream:ne</title>
<path fill="none" stroke="#000000" d="M184,-129.1911C184,-129.1911 184,-112.5 184,-112.5"/>
<polygon fill="#000000" stroke="#000000" points="187.5001,-112.5 184,-102.5 180.5001,-112.5 187.5001,-112.5"/>
</g>
</g>
</svg>
</p><div style="page-break-after:always;"></div>
<p><strong>public override void fileStream.<a href="https://docs.microsoft.com/es-es/dotnet/api/system.io.filestream.writebyte?view=net-5.0">WriteByte</a>(byte byte)</strong></p>
<p>Est&#xE9; m&#xE9;todo ser&#xE1; an&#xE1;logo al anterior pero escribir&#xE1; solo 1 byte en el flujo desplazando el descriptor una posici&#xF3;n.</p>
<h5 class="mume-header" id="lectura-de-un-fichero-con-filestream">Lectura de un fichero con FileStream</h5>

<p>La forma escribir m&#xE1;s com&#xFA;n, herencia del lenguaje C es el m&#xE9;todo...</p>
<p><strong>public override int <a href="https://docs.microsoft.com/es-es/dotnet/api/system.io.filestream.read?view=net-5.0#System_IO_FileStream_Read_System_Byte___System_Int32_System_Int32_">Read</a>(byte[] array, int offset, int count)</strong></p>
<ul>
<li><strong><code>byte[] array</code></strong>: Array a rellenar con los bytes le&#xED;dos.<br>
&#x270B; <strong>Debe estar predimensionado con el espacio suficiente</strong>. Adem&#xE1;s, esta dimensi&#xF3;n puede ser mayor al n&#xFA;mero de bytes a leer.</li>
<li><strong><code>int offset</code></strong>: Desplazamiento de bytes en el par&#xE1;metro array donde debe comenzar la lectura.</li>
<li><strong><code>int count</code></strong>: N&#xFA;mero m&#xE1;ximo de bytes que se pueden leer.</li>
<li><strong>Devuelve:</strong> un entero con <strong>el n&#xFA;mero de bytes le&#xED;dos</strong>.</li>
</ul>
<p><strong>Ejemplo b&#xE1;sico de uso</strong>:</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[3,4,11]}" class="language-csharp" data-line="3,4,11"><span class="token class-name">FileStream</span> fichero <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileStream</span><span class="token punctuation">(</span>
        <span class="token string">&quot;ejemplo.txt&quot;</span><span class="token punctuation">,</span> 
        FileMode<span class="token punctuation">.</span>Open<span class="token punctuation">,</span>      <span class="token comment">// Abro un fichero existente (sino error)</span>
        FileAccess<span class="token punctuation">.</span>Read<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// Lo abro espec&#xED;ficamente para lectura.</span>

<span class="token comment">// Como voy a leer los 3 bytes que escrib&#xED; en el ejemplo anterior</span>
<span class="token comment">// creo un array con esp&#xE1;cio de 3 como m&#xED;nimo.</span>
<span class="token class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> datos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">byte</span></span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Leo desde el principio datos.Length = 3 bytes y los a&#xF1;ado del array datos </span>
<span class="token class-name"><span class="token keyword">int</span></span> bytesLeidos <span class="token operator">=</span> fichero<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>datos<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> datos<span class="token punctuation">.</span>Length<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// C&#xF3;mo no se lo que ha le&#xED;do realmente porque en el fichero a lo </span>
<span class="token comment">// mejor solo hab&#xED;a 2 bytes. En lugar de recorrer con un foreach</span>
<span class="token comment">// recorro hasta el n&#xFA;mero de bytes le&#xED;dos que me ha devuelto el m&#xE9;todo.</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> bytesLeidos<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">datos<span class="token punctuation">[</span>i<span class="token punctuation">]</span></span><span class="token format-string"><span class="token punctuation">:</span>X</span><span class="token punctuation">}</span></span><span class="token string"> &quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fichero<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<div class="line-highlight-wrapper">

<div aria-hidden="true" class="line-highlight" data-range="3" data-start="3">
</div></div><div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">









<div aria-hidden="true" class="line-highlight" data-range="11" data-start="11">
</div></div></pre><p><strong>public override int fileStream.<a href="https://docs.microsoft.com/es-es/dotnet/api/system.io.filestream.readbyte?view=net-5.0">ReadByte</a>()</strong></p>
<p>Lee un byte del archivo y avanza la posici&#xF3;n de lectura un byte. Devuelve, el byte, convertido en un int, o <strong>-1 si se ha alcanzado el final de la secuencia</strong>.</p>
<div style="page-break-after:always;"></div>
<h5 class="mume-header" id="longitud-y-posici%C3%B3n-en-el-stream">Longitud y Posici&#xF3;n en el Stream</h5>

<ul>
<li><strong>long Length</strong>: N&#xFA;mero de bytes almacenados en el flujo (tama&#xF1;o del flujo).<br>
En ficheros, el tama&#xF1;o en bytes el fichero.</li>
<li><strong>long Position</strong>: N&#xFA;mero del <strong>byte actual</strong> en el flujo <strong>empezando en 0</strong>.<br>
En ficheros, la posici&#xF3;n actual <strong>donde se encuentra el descriptor</strong> de lectura o escritura del fichero.</li>
</ul>
<p><strong>Ejemplo b&#xE1;sico</strong>:</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[4,9]}" class="language-csharp" data-line="4,9"><span class="token class-name">FileStream</span> fs <span class="token operator">=</span> File<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token string">&quot;ejemplo.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Paso la cadena a un array de 17 bytes para poder</span>
<span class="token comment">// escribirla con un FileStteam.</span>
<span class="token class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> buffer <span class="token operator">=</span> Encoding<span class="token punctuation">.</span>UTF8<span class="token punctuation">.</span><span class="token function">GetBytes</span><span class="token punctuation">(</span><span class="token string">&quot;Lorem ipsum dolor&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> buffer<span class="token punctuation">.</span>Length<span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

fs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileStream</span><span class="token punctuation">(</span><span class="token string">&quot;ejemplo.txt&quot;</span><span class="token punctuation">,</span> FileMode<span class="token punctuation">.</span>Open<span class="token punctuation">,</span> FileAccess<span class="token punctuation">.</span>Read<span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Longitud Fichero: &quot;</span> <span class="token operator">+</span> fs<span class="token punctuation">.</span>Length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Mostrar&#xE1; 17</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Posicion descriptor lectura: &quot;</span> <span class="token operator">+</span> fs<span class="token punctuation">.</span>Position<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Devolver&#xE1; un 0</span>
<div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">







<div aria-hidden="true" class="line-highlight" data-range="9" data-start="9">
</div></div></pre><p align="center" style="zoom:0.5"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="828pt" height="170pt" viewBox="0.00 0.00 828.00 170.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 166)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-166 824,-166 824,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster0</title>
<polygon fill="none" stroke="transparent" points="8,-8 8,-98 812,-98 812,-8 8,-8"/>
</g>
<!-- cluster0_stream -->
<g id="node1" class="node">
<title>cluster0_stream</title>
<text text-anchor="start" x="32.9376" y="-64.8" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="72,-52 72,-86 111,-86 111,-52 72,-52"/>
<text text-anchor="start" x="84.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;L&apos;</text>
<polygon fill="none" stroke="#000000" points="111,-52 111,-86 150,-86 150,-52 111,-52"/>
<text text-anchor="start" x="123.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;o&apos;</text>
<polygon fill="none" stroke="#000000" points="150,-52 150,-86 189,-86 189,-52 150,-52"/>
<text text-anchor="start" x="164.0771" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;r&apos;</text>
<polygon fill="none" stroke="#000000" points="189,-52 189,-86 228,-86 228,-52 189,-52"/>
<text text-anchor="start" x="201.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;e&apos;</text>
<polygon fill="none" stroke="#000000" points="228,-52 228,-86 267,-86 267,-52 228,-52"/>
<text text-anchor="start" x="238.5771" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;m&apos;</text>
<polygon fill="none" stroke="#000000" points="267,-52 267,-86 306,-86 306,-52 267,-52"/>
<text text-anchor="start" x="281.4621" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos; &apos;</text>
<polygon fill="none" stroke="#000000" points="306,-52 306,-86 345,-86 345,-52 306,-52"/>
<text text-anchor="start" x="320.8541" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;i&apos;</text>
<polygon fill="none" stroke="#000000" points="345,-52 345,-86 384,-86 384,-52 345,-52"/>
<text text-anchor="start" x="357.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;p&apos;</text>
<polygon fill="none" stroke="#000000" points="384,-52 384,-86 423,-86 423,-52 384,-52"/>
<text text-anchor="start" x="396.9074" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;s&apos;</text>
<polygon fill="none" stroke="#000000" points="423,-52 423,-86 462,-86 462,-52 423,-52"/>
<text text-anchor="start" x="435.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;u&apos;</text>
<polygon fill="none" stroke="#000000" points="462,-52 462,-86 501,-86 501,-52 462,-52"/>
<text text-anchor="start" x="472.5771" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;m&apos;</text>
<polygon fill="none" stroke="#000000" points="501,-52 501,-86 540,-86 540,-52 501,-52"/>
<text text-anchor="start" x="515.4621" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos; &apos;</text>
<polygon fill="none" stroke="#000000" points="540,-52 540,-86 579,-86 579,-52 540,-52"/>
<text text-anchor="start" x="552.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;d&apos;</text>
<polygon fill="none" stroke="#000000" points="579,-52 579,-86 618,-86 618,-52 579,-52"/>
<text text-anchor="start" x="591.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;o&apos;</text>
<polygon fill="none" stroke="#000000" points="618,-52 618,-86 657,-86 657,-52 618,-52"/>
<text text-anchor="start" x="632.8541" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;l&apos;</text>
<polygon fill="none" stroke="#000000" points="657,-52 657,-86 696,-86 696,-52 657,-52"/>
<text text-anchor="start" x="669.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;o&apos;</text>
<polygon fill="none" stroke="#000000" points="696,-52 696,-86 735,-86 735,-52 696,-52"/>
<text text-anchor="start" x="710.0771" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;r&apos;</text>
<text text-anchor="start" x="742.9432" y="-64.8" font-family="Arial" font-size="14.00" fill="#000000">Stream</text>
<text text-anchor="start" x="79.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="87.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">00</text>
<text text-anchor="start" x="118.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="126.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">01</text>
<text text-anchor="start" x="157.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="165.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">02</text>
<text text-anchor="start" x="196.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="204.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">03</text>
<text text-anchor="start" x="235.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="243.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">04</text>
<text text-anchor="start" x="274.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="282.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">05</text>
<text text-anchor="start" x="313.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="321.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">06</text>
<text text-anchor="start" x="352.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="360.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">07</text>
<text text-anchor="start" x="391.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="399.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">08</text>
<text text-anchor="start" x="430.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="438.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">09</text>
<text text-anchor="start" x="469.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="477.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">10</text>
<text text-anchor="start" x="508.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="516.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">11</text>
<text text-anchor="start" x="547.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="555.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">12</text>
<text text-anchor="start" x="586.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="594.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">13</text>
<text text-anchor="start" x="625.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="633.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">14</text>
<text text-anchor="start" x="664.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="672.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">15</text>
<text text-anchor="start" x="703.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="711.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">16</text>
</g>
<!-- p -->
<g id="node2" class="node">
<title>p</title>
<text text-anchor="middle" x="72" y="-139.8" font-family="Arial" font-size="14.00" fill="#000000">fs.Position = 0</text>
</g>
<!-- p&#45;&gt;cluster0_stream -->
<g id="edge1" class="edge">
<title>p-&gt;cluster0_stream:nw</title>
<path fill="none" stroke="#000000" d="M72,-125.9664C72,-125.9664 72,-96 72,-96"/>
<polygon fill="#000000" stroke="#000000" points="75.5001,-96 72,-86 68.5001,-96 75.5001,-96"/>
</g>
<!-- l -->
<g id="node3" class="node">
<title>l</title>
<text text-anchor="middle" x="735" y="-139.8" font-family="Arial" font-size="14.00" fill="#000000">fs.Length = 17</text>
</g>
<!-- l&#45;&gt;cluster0_stream -->
<g id="edge2" class="edge">
<title>l-&gt;cluster0_stream:ne</title>
<path fill="none" stroke="#000000" stroke-dasharray="1,5" d="M735,-125.9664C735,-108.9403 735,-86 735,-86"/>
</g>
</g>
</svg>
</p><pre data-role="codeBlock" data-info="csharp {highlight=2}" class="language-csharp" data-line="2"><span class="token class-name"><span class="token keyword">char</span></span> c <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>fs<span class="token punctuation">.</span><span class="token function">ReadByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// c = &apos;L&apos;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Posicion descriptor lectura: &quot;</span> <span class="token operator">+</span> fs<span class="token punctuation">.</span>Position<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Devolver&#xE1; un 1</span>
<div class="line-highlight-wrapper">
<div aria-hidden="true" class="line-highlight" data-range="2" data-start="2">
</div></div></pre><p align="center" style="zoom:0.5"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="828pt" height="170pt" viewBox="0.00 0.00 828.00 170.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 166)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-166 824,-166 824,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster0</title>
<polygon fill="none" stroke="transparent" points="8,-8 8,-98 812,-98 812,-8 8,-8"/>
</g>
<!-- cluster0_stream -->
<g id="node1" class="node">
<title>cluster0_stream</title>
<text text-anchor="start" x="32.9376" y="-64.8" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="72,-52 72,-86 111,-86 111,-52 72,-52"/>
<text text-anchor="start" x="84.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;L&apos;</text>
<polygon fill="none" stroke="#000000" points="111,-52 111,-86 150,-86 150,-52 111,-52"/>
<text text-anchor="start" x="123.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;o&apos;</text>
<polygon fill="none" stroke="#000000" points="150,-52 150,-86 189,-86 189,-52 150,-52"/>
<text text-anchor="start" x="164.0771" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;r&apos;</text>
<polygon fill="none" stroke="#000000" points="189,-52 189,-86 228,-86 228,-52 189,-52"/>
<text text-anchor="start" x="201.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;e&apos;</text>
<polygon fill="none" stroke="#000000" points="228,-52 228,-86 267,-86 267,-52 228,-52"/>
<text text-anchor="start" x="238.5771" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;m&apos;</text>
<polygon fill="none" stroke="#000000" points="267,-52 267,-86 306,-86 306,-52 267,-52"/>
<text text-anchor="start" x="281.4621" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos; &apos;</text>
<polygon fill="none" stroke="#000000" points="306,-52 306,-86 345,-86 345,-52 306,-52"/>
<text text-anchor="start" x="320.8541" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;i&apos;</text>
<polygon fill="none" stroke="#000000" points="345,-52 345,-86 384,-86 384,-52 345,-52"/>
<text text-anchor="start" x="357.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;p&apos;</text>
<polygon fill="none" stroke="#000000" points="384,-52 384,-86 423,-86 423,-52 384,-52"/>
<text text-anchor="start" x="396.9074" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;s&apos;</text>
<polygon fill="none" stroke="#000000" points="423,-52 423,-86 462,-86 462,-52 423,-52"/>
<text text-anchor="start" x="435.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;u&apos;</text>
<polygon fill="none" stroke="#000000" points="462,-52 462,-86 501,-86 501,-52 462,-52"/>
<text text-anchor="start" x="472.5771" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;m&apos;</text>
<polygon fill="none" stroke="#000000" points="501,-52 501,-86 540,-86 540,-52 501,-52"/>
<text text-anchor="start" x="515.4621" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos; &apos;</text>
<polygon fill="none" stroke="#000000" points="540,-52 540,-86 579,-86 579,-52 540,-52"/>
<text text-anchor="start" x="552.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;d&apos;</text>
<polygon fill="none" stroke="#000000" points="579,-52 579,-86 618,-86 618,-52 579,-52"/>
<text text-anchor="start" x="591.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;o&apos;</text>
<polygon fill="none" stroke="#000000" points="618,-52 618,-86 657,-86 657,-52 618,-52"/>
<text text-anchor="start" x="632.8541" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;l&apos;</text>
<polygon fill="none" stroke="#000000" points="657,-52 657,-86 696,-86 696,-52 657,-52"/>
<text text-anchor="start" x="669.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;o&apos;</text>
<polygon fill="none" stroke="#000000" points="696,-52 696,-86 735,-86 735,-52 696,-52"/>
<text text-anchor="start" x="710.0771" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;r&apos;</text>
<text text-anchor="start" x="742.9432" y="-64.8" font-family="Arial" font-size="14.00" fill="#000000">Stream</text>
<text text-anchor="start" x="79.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="87.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">00</text>
<text text-anchor="start" x="118.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="126.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">01</text>
<text text-anchor="start" x="157.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="165.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">02</text>
<text text-anchor="start" x="196.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="204.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">03</text>
<text text-anchor="start" x="235.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="243.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">04</text>
<text text-anchor="start" x="274.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="282.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">05</text>
<text text-anchor="start" x="313.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="321.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">06</text>
<text text-anchor="start" x="352.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="360.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">07</text>
<text text-anchor="start" x="391.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="399.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">08</text>
<text text-anchor="start" x="430.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="438.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">09</text>
<text text-anchor="start" x="469.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="477.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">10</text>
<text text-anchor="start" x="508.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="516.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">11</text>
<text text-anchor="start" x="547.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="555.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">12</text>
<text text-anchor="start" x="586.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="594.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">13</text>
<text text-anchor="start" x="625.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="633.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">14</text>
<text text-anchor="start" x="664.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="672.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">15</text>
<text text-anchor="start" x="703.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="711.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">16</text>
</g>
<!-- p -->
<g id="node2" class="node">
<title>p</title>
<text text-anchor="middle" x="111" y="-139.8" font-family="Arial" font-size="14.00" fill="#000000">fs.Position = 1</text>
</g>
<!-- p&#45;&gt;cluster0_stream -->
<g id="edge1" class="edge">
<title>p-&gt;cluster0_stream:nw</title>
<path fill="none" stroke="#000000" d="M111,-125.9664C111,-125.9664 111,-96 111,-96"/>
<polygon fill="#000000" stroke="#000000" points="114.5001,-96 111,-86 107.5001,-96 114.5001,-96"/>
</g>
<!-- l -->
<g id="node3" class="node">
<title>l</title>
<text text-anchor="middle" x="735" y="-139.8" font-family="Arial" font-size="14.00" fill="#000000">fs.Length = 17</text>
</g>
<!-- l&#45;&gt;cluster0_stream -->
<g id="edge2" class="edge">
<title>l-&gt;cluster0_stream:ne</title>
<path fill="none" stroke="#000000" stroke-dasharray="1,5" d="M735,-125.9664C735,-108.9403 735,-86 735,-86"/>
</g>
</g>
</svg>
</p><pre data-role="codeBlock" data-info="csharp" class="language-csharp">c <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>fs<span class="token punctuation">.</span><span class="token function">ReadByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// c = &apos;o&apos;</span>
c <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>fs<span class="token punctuation">.</span><span class="token function">ReadByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// c = &apos;r&apos;</span>
c <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>fs<span class="token punctuation">.</span><span class="token function">ReadByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// c = &apos;e&apos;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Posicion descriptor lectura: &quot;</span> <span class="token operator">+</span> fs<span class="token punctuation">.</span>Position<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Devolver&#xE1; un 4</span>
fs<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p align="center" style="zoom:0.5"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="828pt" height="170pt" viewBox="0.00 0.00 828.00 170.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 166)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-166 824,-166 824,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster0</title>
<polygon fill="none" stroke="transparent" points="8,-8 8,-98 812,-98 812,-8 8,-8"/>
</g>
<!-- cluster0_stream -->
<g id="node1" class="node">
<title>cluster0_stream</title>
<text text-anchor="start" x="32.9376" y="-64.8" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="72,-52 72,-86 111,-86 111,-52 72,-52"/>
<text text-anchor="start" x="84.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;L&apos;</text>
<polygon fill="none" stroke="#000000" points="111,-52 111,-86 150,-86 150,-52 111,-52"/>
<text text-anchor="start" x="123.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;o&apos;</text>
<polygon fill="none" stroke="#000000" points="150,-52 150,-86 189,-86 189,-52 150,-52"/>
<text text-anchor="start" x="164.0771" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;r&apos;</text>
<polygon fill="none" stroke="#000000" points="189,-52 189,-86 228,-86 228,-52 189,-52"/>
<text text-anchor="start" x="201.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;e&apos;</text>
<polygon fill="none" stroke="#000000" points="228,-52 228,-86 267,-86 267,-52 228,-52"/>
<text text-anchor="start" x="238.5771" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;m&apos;</text>
<polygon fill="none" stroke="#000000" points="267,-52 267,-86 306,-86 306,-52 267,-52"/>
<text text-anchor="start" x="281.4621" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos; &apos;</text>
<polygon fill="none" stroke="#000000" points="306,-52 306,-86 345,-86 345,-52 306,-52"/>
<text text-anchor="start" x="320.8541" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;i&apos;</text>
<polygon fill="none" stroke="#000000" points="345,-52 345,-86 384,-86 384,-52 345,-52"/>
<text text-anchor="start" x="357.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;p&apos;</text>
<polygon fill="none" stroke="#000000" points="384,-52 384,-86 423,-86 423,-52 384,-52"/>
<text text-anchor="start" x="396.9074" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;s&apos;</text>
<polygon fill="none" stroke="#000000" points="423,-52 423,-86 462,-86 462,-52 423,-52"/>
<text text-anchor="start" x="435.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;u&apos;</text>
<polygon fill="none" stroke="#000000" points="462,-52 462,-86 501,-86 501,-52 462,-52"/>
<text text-anchor="start" x="472.5771" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;m&apos;</text>
<polygon fill="none" stroke="#000000" points="501,-52 501,-86 540,-86 540,-52 501,-52"/>
<text text-anchor="start" x="515.4621" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos; &apos;</text>
<polygon fill="none" stroke="#000000" points="540,-52 540,-86 579,-86 579,-52 540,-52"/>
<text text-anchor="start" x="552.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;d&apos;</text>
<polygon fill="none" stroke="#000000" points="579,-52 579,-86 618,-86 618,-52 579,-52"/>
<text text-anchor="start" x="591.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;o&apos;</text>
<polygon fill="none" stroke="#000000" points="618,-52 618,-86 657,-86 657,-52 618,-52"/>
<text text-anchor="start" x="632.8541" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;l&apos;</text>
<polygon fill="none" stroke="#000000" points="657,-52 657,-86 696,-86 696,-52 657,-52"/>
<text text-anchor="start" x="669.5161" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;o&apos;</text>
<polygon fill="none" stroke="#000000" points="696,-52 696,-86 735,-86 735,-52 696,-52"/>
<text text-anchor="start" x="710.0771" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000">&apos;r&apos;</text>
<text text-anchor="start" x="742.9432" y="-64.8" font-family="Arial" font-size="14.00" fill="#000000">Stream</text>
<text text-anchor="start" x="79.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="87.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">00</text>
<text text-anchor="start" x="118.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="126.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">01</text>
<text text-anchor="start" x="157.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="165.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">02</text>
<text text-anchor="start" x="196.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="204.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">03</text>
<text text-anchor="start" x="235.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="243.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">04</text>
<text text-anchor="start" x="274.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="282.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">05</text>
<text text-anchor="start" x="313.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="321.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">06</text>
<text text-anchor="start" x="352.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="360.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">07</text>
<text text-anchor="start" x="391.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="399.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">08</text>
<text text-anchor="start" x="430.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="438.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">09</text>
<text text-anchor="start" x="469.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="477.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">10</text>
<text text-anchor="start" x="508.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="516.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">11</text>
<text text-anchor="start" x="547.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="555.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">12</text>
<text text-anchor="start" x="586.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="594.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">13</text>
<text text-anchor="start" x="625.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="633.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">14</text>
<text text-anchor="start" x="664.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="672.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">15</text>
<text text-anchor="start" x="703.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="711.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">16</text>
</g>
<!-- p -->
<g id="node2" class="node">
<title>p</title>
<text text-anchor="middle" x="228" y="-139.8" font-family="Arial" font-size="14.00" fill="#000000">fs.Position = 4</text>
</g>
<!-- p&#45;&gt;cluster0_stream -->
<g id="edge1" class="edge">
<title>p-&gt;cluster0_stream:nw</title>
<path fill="none" stroke="#000000" d="M228,-125.9664C228,-125.9664 228,-96 228,-96"/>
<polygon fill="#000000" stroke="#000000" points="231.5001,-96 228,-86 224.5001,-96 231.5001,-96"/>
</g>
<!-- l -->
<g id="node3" class="node">
<title>l</title>
<text text-anchor="middle" x="735" y="-139.8" font-family="Arial" font-size="14.00" fill="#000000">fs.Length = 17</text>
</g>
<!-- l&#45;&gt;cluster0_stream -->
<g id="edge2" class="edge">
<title>l-&gt;cluster0_stream:ne</title>
<path fill="none" stroke="#000000" stroke-dasharray="1,5" d="M735,-125.9664C735,-108.9403 735,-86 735,-86"/>
</g>
</g>
</svg>
</p><blockquote>
<p>&#x1F4A1; <strong>Tip:</strong> estos valores nos pueden ser &#xFA;tiles para controlar si hemos llegado o no al final de las secuencia en <strong>algunos casos</strong>.<br>
Por ejemplo con la condici&#xF3;n <strong><code>while (fichero.Position &lt; fichero.Lenght)</code></strong> puedo saber si estoy al final de un stream.</p>
</blockquote>
<div style="page-break-after:always;"></div>
<h5 class="mume-header" id="desplaz%C3%A1ndonos-por-el-stream">Desplaz&#xE1;ndonos por el Stream</h5>

<p><strong>public override long <a href="https://docs.microsoft.com/es-es/dotnet/api/system.io.filestream.seek?view=net-5.0">Seek</a>(long offset, SeekOrigin origin)</strong></p>
<ul>
<li><strong><code>long offset</code></strong>: El punto relativo a origin desde el que comienza la operaci&#xF3;n Seek. Pude ser un valor negativo si me desplazo hacia la &#x201C;izquierda&#x201D;.</li>
<li><strong><code>SeekOrigin origin</code></strong>: Especifica el comienzo, el final o la posici&#xF3;n actual como un punto de referencia para origin, mediante el uso de un valor del <strong><code>Enum SeekOrigin</code></strong>.<br>
Estos valores pueden ser: <strong><code>Begin</code></strong>, <strong><code>Current</code></strong> y <strong><code>End</code></strong></li>
<li>
<blockquote>
<p>&#x270B; <strong>Nota:</strong> No en todos los streams podremos desplazarnos con <strong><code>Seek</code></strong> como en los <strong><code>FileStream</code></strong>. Por esa raz&#xF3;n la clase base <strong><code>Stream</code></strong> dispone de una propiedad <strong><code>CanSeek</code></strong> que me dir&#xE1; si puedo desplazarme por &#xE9;l o no. F&#xED;jate en el siguiente ejemplo.</p>
</blockquote>
</li>
</ul>
<p><strong>Ejemplo b&#xE1;sico de uso</strong>:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">FileStream</span> fichero <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileStream</span><span class="token punctuation">(</span><span class="token string">&quot;ejemplo.txt&quot;</span><span class="token punctuation">,</span> FileMode<span class="token punctuation">.</span>Open<span class="token punctuation">,</span> FileAccess<span class="token punctuation">.</span>Read<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>fichero<span class="token punctuation">.</span>CanSeek<span class="token punctuation">)</span> <span class="token comment">// Para streams que no admiten desplazamientos </span>
<span class="token punctuation">{</span>
    <span class="token comment">// Me sit&#xFA;o al final y me desplazo 1 a la izquierda.</span>
    fichero<span class="token punctuation">.</span><span class="token function">Seek</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> SeekOrigin<span class="token punctuation">.</span>End<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">// Leo el &#xFA;ltimo byte.         </span>
    <span class="token class-name"><span class="token keyword">int</span></span> ultimoByte <span class="token operator">=</span> fichero<span class="token punctuation">.</span><span class="token function">ReadByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;El valor del &#xFA;ltimo byte es </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ultimoByte</span><span class="token format-string"><span class="token punctuation">:</span>X</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;El stream no admite desplazamientos.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

fichero<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p><strong>Caso de desplazamiento 1</strong>:</p>
<p><strong><code>fichero.Seek(-1, SeekOrigin.End);</code></strong></p>
<p>Me situo al <strong>final</strong> y me desplazo <strong>1 byte a la izquierda</strong>, de tal manera que me quedo para escribir o leer sobre el &#xFA;ltimo byte el <strong>byte n</strong>.</p>
<p align="left" style="zoom:1"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="466pt" height="170pt" viewBox="0.00 0.00 466.00 170.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 166)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-166 462,-166 462,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster0</title>
<polygon fill="none" stroke="transparent" points="8,-8 8,-98 450,-98 450,-8 8,-8"/>
</g>
<!-- cluster0_stream -->
<g id="node1" class="node">
<title>cluster0_stream</title>
<polygon fill="none" stroke="#000000" points="40,-52 40,-86 79,-86 79,-52 40,-52"/>
<polygon fill="none" stroke="#000000" points="79,-52 79,-86 118,-86 118,-52 79,-52"/>
<polygon fill="none" stroke="#000000" points="118,-52 118,-86 157,-86 157,-52 118,-52"/>
<text text-anchor="start" x="164.6641" y="-64.8" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<polygon fill="none" stroke="#000000" points="184,-52 184,-86 228,-86 228,-52 184,-52"/>
<polygon fill="none" stroke="#000000" points="228,-52 228,-86 272,-86 272,-52 228,-52"/>
<polygon fill="none" stroke="#000000" points="272,-52 272,-86 373,-86 373,-52 272,-52"/>
<text text-anchor="start" x="280.8717" y="-65.4" font-family="Arial" font-size="14.00" fill="#000000">Byte</text>
<text text-anchor="start" x="308.8815" y="-65.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">Lenght-1</text>
<text text-anchor="start" x="380.9432" y="-64.8" font-family="Arial" font-size="14.00" fill="#000000">Stream</text>
<text text-anchor="start" x="47.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="55.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">00</text>
<text text-anchor="start" x="86.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="94.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">01</text>
<text text-anchor="start" x="125.8261" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="133.6087" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">02</text>
<text text-anchor="start" x="191.9958" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="199.7784" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">L-3</text>
<text text-anchor="start" x="235.9958" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="243.7784" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">L-2</text>
<text text-anchor="start" x="308.4958" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="316.2784" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">L-1</text>
</g>
<!-- p1 -->
<g id="node2" class="node">
<title>p1</title>
<text text-anchor="middle" x="254" y="-139.8" font-family="Arial" font-size="14.00" fill="#000000">SeekOrigin.End-1</text>
</g>
<!-- p1&#45;&gt;cluster0_stream -->
<g id="edge1" class="edge">
<title>p1-&gt;cluster0_stream:nw</title>
<path fill="none" stroke="#000000" d="M255.2699,-125.7665C256.6817,-115.9226 259.6295,-103.8057 265.7562,-93.9569"/>
<polygon fill="#000000" stroke="#000000" points="268.5802,-96.0277 272,-86 263.0732,-91.7064 268.5802,-96.0277"/>
</g>
<!-- p2 -->
<g id="node3" class="node">
<title>p2</title>
<text text-anchor="middle" x="392" y="-139.8" font-family="Arial" font-size="14.00" fill="#d3d3d3">SeekOrigin.End</text>
</g>
<!-- p2&#45;&gt;cluster0_stream -->
<g id="edge2" class="edge">
<title>p2-&gt;cluster0_stream:ne</title>
<path fill="none" stroke="#d3d3d3" d="M390.3379,-125.7984C388.7271,-115.9664 385.5561,-103.8553 379.314,-93.9843"/>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="381.9482,-91.6728 373,-86 376.4576,-96.0148 381.9482,-91.6728"/>
</g>
</g>
</svg>
</p><div style="page-break-after:always;"></div>
<p><strong>Caso de desplazamiento 2</strong>:</p>
<p><strong><code>fichero.Seek(2, SeekOrigin.Begin);</code></strong></p>
<p>Me sit&#xFA;o al <strong>principio</strong> y me desplazo <strong>2 bytes</strong> a la derecha, de tal manera que me quedo para escribir o leer sobre el <strong>byte 2</strong>.</p>
<p align="left" style="zoom:1"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="480pt" height="170pt" viewBox="0.00 0.00 480.46 170.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 166)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-166 476.4565,-166 476.4565,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster0</title>
<polygon fill="none" stroke="transparent" points="66.4565,-8 66.4565,-98 464.4565,-98 464.4565,-8 66.4565,-8"/>
</g>
<!-- cluster0_stream -->
<g id="node1" class="node">
<title>cluster0_stream</title>
<polygon fill="none" stroke="#000000" points="98.4565,-52 98.4565,-86 137.4565,-86 137.4565,-52 98.4565,-52"/>
<polygon fill="none" stroke="#000000" points="137.4565,-52 137.4565,-86 176.4565,-86 176.4565,-52 137.4565,-52"/>
<polygon fill="none" stroke="#000000" points="176.4565,-52 176.4565,-86 229.4565,-86 229.4565,-52 176.4565,-52"/>
<text text-anchor="start" x="185.0603" y="-65.4" font-family="Arial" font-size="14.00" fill="#000000">Byte</text>
<text text-anchor="start" x="213.0701" y="-65.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">2</text>
<text text-anchor="start" x="237.1206" y="-64.8" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<polygon fill="none" stroke="#000000" points="256.4565,-52 256.4565,-86 300.4565,-86 300.4565,-52 256.4565,-52"/>
<polygon fill="none" stroke="#000000" points="300.4565,-52 300.4565,-86 344.4565,-86 344.4565,-52 300.4565,-52"/>
<polygon fill="none" stroke="#000000" points="344.4565,-52 344.4565,-86 388.4565,-86 388.4565,-52 344.4565,-52"/>
<text text-anchor="start" x="396.3997" y="-64.8" font-family="Arial" font-size="14.00" fill="#000000">Stream</text>
<text text-anchor="start" x="106.2826" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="114.0652" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">00</text>
<text text-anchor="start" x="145.2826" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="153.0652" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">01</text>
<text text-anchor="start" x="191.2826" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="199.0652" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">02</text>
<text text-anchor="start" x="264.4523" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="272.2349" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">L-3</text>
<text text-anchor="start" x="308.4523" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="316.2349" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">L-2</text>
<text text-anchor="start" x="352.4523" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="360.2349" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">L-1</text>
</g>
<!-- p1 -->
<g id="node2" class="node">
<title>p1</title>
<text text-anchor="middle" x="62.4565" y="-139.8" font-family="Arial" font-size="14.00" fill="#d3d3d3">SeekOrigin.Begin</text>
</g>
<!-- p1&#45;&gt;cluster0_stream -->
<g id="edge1" class="edge">
<title>p1-&gt;cluster0_stream:nw</title>
<path fill="none" stroke="#d3d3d3" d="M70.9802,-125.7628C76.0435,-116.0031 83.1412,-103.8919 91.6677,-93.5223"/>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="94.355,-95.7687 98.4565,-86 89.1583,-91.0788 94.355,-95.7687"/>
</g>
<!-- p2 -->
<g id="node3" class="node">
<title>p2</title>
<text text-anchor="middle" x="213.4565" y="-139.8" font-family="Arial" font-size="14.00" fill="#000000">SeekOrigin.Begin+2</text>
</g>
<!-- p2&#45;&gt;cluster0_stream -->
<g id="edge2" class="edge">
<title>p2-&gt;cluster0_stream:ne</title>
<path fill="none" stroke="#000000" d="M204.5488,-125.8203C199.2925,-116.0811 191.9755,-103.9785 183.3222,-93.5659"/>
<polygon fill="#000000" stroke="#000000" points="185.7685,-91.0534 176.4565,-86 180.5847,-95.7575 185.7685,-91.0534"/>
</g>
</g>
</svg>
</p><p><strong>Caso de desplazamiento 3</strong>:</p>
<ol>
<li>
<p><strong><code>fichero.Seek(-2, SeekOrigin.Current);</code></strong> Desde <strong>donde me encuentre</strong>, me desplazo <strong>2 bytes</strong> a la <strong>izquierda</strong>, de tal manera que me quedo para escribir o leer sobre el primer byte el <strong>byte 0</strong>.</p>
</li>
<li>
<p><strong><code>fichero.Seek(3, SeekOrigin.Current);</code></strong> Desde <strong>donde me encuentre</strong>, me desplazo <strong>3 bytes</strong> a la derecha, de tal manera que me quedo para escribir o leer sobre el <strong>byte 5</strong>.</p>
</li>
</ol>
<p align="left" style="zoom:1"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="524pt" height="170pt" viewBox="0.00 0.00 524.12 170.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 166)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-166 520.1157,-166 520.1157,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster0</title>
<polygon fill="none" stroke="transparent" points="110.1157,-8 110.1157,-98 508.1157,-98 508.1157,-8 110.1157,-8"/>
</g>
<!-- cluster0_stream -->
<g id="node1" class="node">
<title>cluster0_stream</title>
<polygon fill="none" stroke="#000000" points="142.1157,-52 142.1157,-86 195.1157,-86 195.1157,-52 142.1157,-52"/>
<text text-anchor="start" x="150.7195" y="-65.4" font-family="Arial" font-size="14.00" fill="#000000">Byte</text>
<text text-anchor="start" x="178.7293" y="-65.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">0</text>
<polygon fill="none" stroke="#000000" points="195.1157,-52 195.1157,-86 234.1157,-86 234.1157,-52 195.1157,-52"/>
<text text-anchor="start" x="210.7251" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;</text>
<polygon fill="none" stroke="#000000" points="234.1157,-52 234.1157,-86 273.1157,-86 273.1157,-52 234.1157,-52"/>
<text text-anchor="start" x="249.7251" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;</text>
<polygon fill="none" stroke="#000000" points="273.1157,-52 273.1157,-86 312.1157,-86 312.1157,-52 273.1157,-52"/>
<text text-anchor="start" x="288.7251" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;</text>
<polygon fill="none" stroke="#000000" points="312.1157,-52 312.1157,-86 351.1157,-86 351.1157,-52 312.1157,-52"/>
<text text-anchor="start" x="327.7251" y="-64.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;</text>
<polygon fill="none" stroke="#000000" points="351.1157,-52 351.1157,-86 404.1157,-86 404.1157,-52 351.1157,-52"/>
<text text-anchor="start" x="359.7195" y="-65.4" font-family="Arial" font-size="14.00" fill="#000000">Byte</text>
<text text-anchor="start" x="387.7293" y="-65.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">5</text>
<text text-anchor="start" x="411.7798" y="-64.8" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<text text-anchor="start" x="439.0589" y="-64.8" font-family="Arial" font-size="14.00" fill="#000000">Stream</text>
<text text-anchor="start" x="156.9418" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="164.7244" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">00</text>
<text text-anchor="start" x="202.9418" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="210.7244" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">01</text>
<text text-anchor="start" x="241.9418" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="249.7244" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">02</text>
<text text-anchor="start" x="280.9418" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="288.7244" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">03</text>
<text text-anchor="start" x="319.9418" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="327.7244" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">04</text>
<text text-anchor="start" x="365.9418" y="-32.4" font-family="Arial" font-size="14.00" fill="#000000">b</text>
<text text-anchor="start" x="373.7244" y="-32.4" font-family="Arial" baseline-shift="sub" font-size="14.00" fill="#000000">05</text>
</g>
<!-- p1 -->
<g id="node2" class="node">
<title>p1</title>
<text text-anchor="middle" x="74.1157" y="-139.8" font-family="Arial" font-size="14.00" fill="#000000">SeekOrigin.Current-2</text>
</g>
<!-- p1&#45;&gt;cluster0_stream -->
<g id="edge1" class="edge">
<title>p1-&gt;cluster0_stream:nw</title>
<path fill="none" stroke="#000000" d="M97.2672,-125.7899C108.5847,-116.5785 122.43,-104.8531 134.9362,-92.9858"/>
<polygon fill="#000000" stroke="#000000" points="137.3894,-95.4822 142.1157,-86 132.5078,-90.4652 137.3894,-95.4822"/>
</g>
<!-- p2 -->
<g id="node3" class="node">
<title>p2</title>
<text text-anchor="middle" x="234.1157" y="-139.8" font-family="Arial" font-size="14.00" fill="#d3d3d3">SeekOrigin.Current</text>
</g>
<!-- p2&#45;&gt;cluster0_stream -->
<g id="edge2" class="edge">
<title>p2-&gt;cluster0_stream:nw</title>
<path fill="none" stroke="#d3d3d3" d="M228.1008,-125.7538C225.835,-115.9752 224.6512,-103.9938 228.6108,-94.3638"/>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="231.5414,-96.2773 234.1157,-86 225.6942,-92.4288 231.5414,-96.2773"/>
</g>
<!-- p3 -->
<g id="node4" class="node">
<title>p3</title>
<text text-anchor="middle" x="396.1157" y="-139.8" font-family="Arial" font-size="14.00" fill="#000000">SeekOrigin.Current+3</text>
</g>
<!-- p3&#45;&gt;cluster0_stream -->
<g id="edge3" class="edge">
<title>p3-&gt;cluster0_stream:ne</title>
<path fill="none" stroke="#000000" d="M383.8014,-125.7942C376.9653,-116.1904 367.9025,-104.2112 358.237,-93.5121"/>
<polygon fill="#000000" stroke="#000000" points="360.5356,-90.8494 351.1157,-86 355.4554,-95.6653 360.5356,-90.8494"/>
</g>
</g>
</svg>
</p><div style="page-break-after:always;"></div>
<h5 class="mume-header" id="recorriendo-un-filestream-hasta-el-final">Recorriendo un FileStream hasta el final</h5>

<p>Veamos a trav&#xE9;s de un ejemplo simple, varias formas de recorrer leyendo un <strong><code>FileStream</code></strong> hasta el final de la secuencia.</p>
<ul>
<li>
<p><strong>Caso 1:</strong></p>
<pre data-role="codeBlock" data-info="csharp {highlight=19}" class="language-csharp" data-line="19"><span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">FileStream</span> fs <span class="token operator">=</span> File<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token string">&quot;ejemplo.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> buffer <span class="token operator">=</span> Encoding<span class="token punctuation">.</span>UTF8<span class="token punctuation">.</span><span class="token function">GetBytes</span><span class="token punctuation">(</span><span class="token string">&quot;Lorem ipsum dolor&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fs<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> buffer<span class="token punctuation">.</span>Length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    fs<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    fs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileStream</span><span class="token punctuation">(</span><span class="token string">&quot;ejemplo.txt&quot;</span><span class="token punctuation">,</span> FileMode<span class="token punctuation">.</span>Open<span class="token punctuation">,</span> FileAccess<span class="token punctuation">.</span>Read<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Definimos un buffer de 3 bytes para las lecturas</span>
    <span class="token comment">// esto es, podremos leer de tres en tres bytes con fs.read()</span>
    <span class="token class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> datos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">byte</span></span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token class-name"><span class="token keyword">int</span></span> bytesLeidos<span class="token punctuation">;</span>
    <span class="token keyword">do</span>
    <span class="token punctuation">{</span>
        bytesLeidos <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>datos<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> datos<span class="token punctuation">.</span>Length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> bytesLeidos<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>datos<span class="token punctuation">[</span>i<span class="token punctuation">]</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>bytesLeidos <span class="token operator">&gt;=</span> datos<span class="token punctuation">.</span>Length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<div class="line-highlight-wrapper">

















<div aria-hidden="true" class="line-highlight" data-range="19" data-start="19">
</div></div></pre><p>En el c&#xF3;digo anterior, leer&#xE9; el stream mientras se llene el buffer de 3 bytes en cada lectura. En el momento que lea menos de 3 es que he llegado al final de la secuencia.</p>
<blockquote>
<p>&#x26A0;&#xFE0F; &#x1F480; <strong>Aviso:</strong> No deber&#xED;amos recorrer en ning&#xFA;n caso el buffer con un <strong><code>foreach</code></strong> ya que siempre recorrer&#xE1; 3 que es la longitud del buffer y podr&#xED;amos haber le&#xED;do solo 2 y por tanto podr&#xED;a mostrarme bytes que realmente no he le&#xED;do y que est&#xE1;n en el buffer de lecturas anteriores.</p>
</blockquote>
</li>
<li>
<p><strong>Caso 2:</strong></p>
<pre data-role="codeBlock" data-info="csharp {highlight=3}" class="language-csharp" data-line="3">    fs<span class="token punctuation">.</span><span class="token function">Seek</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> SeekOrigin<span class="token punctuation">.</span>Begin<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Vuelvo al principio para volver a recorrerla.</span>
    Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>fs<span class="token punctuation">.</span>Position <span class="token operator">&lt;</span> fs<span class="token punctuation">.</span>Length<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        bytesLeidos <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>datos<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> datos<span class="token punctuation">.</span>Length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> bytesLeidos<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>datos<span class="token punctuation">[</span>i<span class="token punctuation">]</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<div class="line-highlight-wrapper">

<div aria-hidden="true" class="line-highlight" data-range="3" data-start="3">
</div></div></pre><p>Recorreremos la secuencia, mientras la <strong>posici&#xF3;n</strong> en la que nos encontramos sea menor que la <strong>longitud</strong> de la misma.</p>
</li>
<li>
<p><strong>Caso 3:</strong></p>
<pre data-role="codeBlock" data-info="csharp {highlight=4}" class="language-csharp" data-line="4">    fs<span class="token punctuation">.</span><span class="token function">Seek</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> SeekOrigin<span class="token punctuation">.</span>Begin<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Vuelvo al principio para volver a recorrerla.</span>
    Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">int</span></span> _byte<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>_byte <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">ReadByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>_byte</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    fs<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div></pre><p>Voy <strong>leyendo byte a byte</strong> mientras el valor de byte le&#xED;do sea distinto de -1 o positivo.</p>
<blockquote>
<p>&#x26A0;&#xFE0F; <strong>Nota:</strong> Esta opci&#xF3;n es mucho m&#xE1;s ineficiente en t&#xE9;rminos temporales que leer bloques de bytes con Read().</p>
</blockquote>
</li>
</ul>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="pasando-el-flujo-por-un-decorator-stream">Pasando el flujo por un &apos;<em>Decorator Stream</em>&apos;</h4>


      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>