<!DOCTYPE html><html><head>
      <title>Programación 1º DAM Unidad 15</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.css">
      
      
      
      
      
      <style>
      @import url(https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css);
code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}@font-face{font-family:"Material Icons";font-style:normal;font-weight:400;src:local("Material Icons"),local("MaterialIcons-Regular"),url("data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAfIAAsAAAAADDAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFZW7kosY21hcAAAAYAAAADTAAACjtP6ytBnbHlmAAACVAAAAxgAAAQ4zRtvlGhlYWQAAAVsAAAALwAAADYRwZsnaGhlYQAABZwAAAAcAAAAJAeKAzxobXR4AAAFuAAAABIAAAA8OGQAAGxvY2EAAAXMAAAAIAAAACAG5AfwbWF4cAAABewAAAAfAAAAIAEfAERuYW1lAAAGDAAAAVcAAAKFkAhoC3Bvc3QAAAdkAAAAYgAAAK2vz7wkeJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2BkPsQ4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDgwVLy4xKzzX4chhrmK4QpQmBEkBwAZygyweJzFkr0NwjAQhZ+TEP6CRUfHBEwRUWaQTICyQbpMwRCskA5RUIONxG0RnnNpKAIV4qzPku/8c353ACYAYrIjCWCuMAh2ptf0/hiL3p/gyPUWa3osqlt0L1zu9r71z8dGrJRykFoauXQd932Lj5vhG+MjxGeYI8MKETObMpslf5EyP8tg+vHun5r539PvlvXzaVhRFVQDTPEWKVQR90KhnnC5Ek67vUKN4VuFasM/ldARj43CCkCsEjpJSoVVgRyU0GVSK6wUpFFCx8lFgX0BiXpRPQB4nE2TTWjcRhTH3xttpDhxN7uxPlp3u/FK7moRPixafRijNosxSw/LUsIwNcaEHPZggo/FmEKMCKWU4kNOOftQSlhE8alnH0Ix9BqWnHooPRrTQ0+mnu2bXTu2pPdGM9LM/6c3fwECTM4gBBMYQNqxzLrZAjqYSlqu2TAHZQA0/DQJH6FtzqGDnvbt4Ggwvzw/nL8EfH8kW0fsuRqhgWXZnY7M1picaUL7Du5BHeDzMIl83dAt016wH1qmvtSMo5R6YRJHTR//FXsff/nj/tc/5K9P5d+nP22+fFK5u7v3K39SW3y+OtDKO3L85vD09PD9z5X17a2N1g4tqk01RlqX7gyoEmnsWQtVr4rtZMmukEaFBZxzefkCn11cyKMLZgshRwgTYNoLNXCBz2ja7HvZG7hDpPSNfoo5vs0knK/9hb+rNpu+8kHPgk/Ao4kK3tWtTpSEtvkA9c+wE6UaUdwieNkaHg55tBEtRiEPw1s0+FtrtTcc9two2lhMknV7PZF/cs6+uUFTmpTGbEx7sQCPSLOttHS3GRltqp7SNzVSKzl6aWnZT/CX5k6/v9N3Hh8fHBwffJVjhrC6OgH5dkIt/tPsq+d/PD5Qz7G7efzq1THFjdZVPe/N6ulQ3JnDWSE5junsFsVIiFwL/htf1S5gJ3BfOcUxfHKLnzqpFpyfZ9cX+/5WB6a+Y0pHpzkNrYNVDwMsikK+y7WuLCRg/oFHkA8VT3rDg5ZnU6ktzzINymV0m74Xd5pfIGXyFeVEQSShkzqG7TBBa2OxVRKitLXv7h3uuftXnXq7lz2tZ/WnWa9dx9dCjDhHzmuVQATlmljr9dZErUydSo2Hbi/b1vXtrOeGCk2/8s3ZlO8+ueJT8BVlw5pGw2oYccdSiHHqx0RlabHqdNR9jAETl6PreJcPBnnfpTLnOQ8C3OV8AmQGzouV1iZdeb5SSIoVc8W8/kcDtksUH5FrU6/aqBqNWcMEzxG4DAQ14qRQhi9mWU0rzepKezbjfgCwQKxVYq5ajRgpRqy45CqwkJydcEkbTkvRz8P5/2ZpDTN4nGNgZGBgAOKb6v+/xvPbfGXgZmEAgeuB2kkI+v8bFgbmKiCXg4EJJAoAPyAKhQB4nGNgZGBg1vmvwxDDwgACQJKRARXwAwAzZQHQeJxjYQCCFAYGFgbSMQAcWACdAAAAAAAAAAwALgBgAIQAmADSAQgBIgE8AVABoAHeAfwCHHicY2BkYGDgZ7BgYGMAASYg5gJCBob/YD4DAA/hAWQAeJxlkbtuwkAURMc88gApQomUJoq0TdIQzEOpUDokKCNR0BuzBiO/tF6QSJcPyHflE9Klyyekz2CuG8cr7547M3d9JQO4xjccnJ57vid2cMHqxDWc40G4Tv1JuEF+Fm6ijRfhM+oz4Ra6eBVu4wZvvMFpXLIa40PYQQefwjVc4Uu4Tv1HuEH+FW7i1mkKn6Hj3Am3sHC6wm08Ou8tpSZGe1av1PKggjSxPd8zJtSGTuinyVGa6/Uu8kxZludCmzxMEzV0B6U004k25W35fj2yNlCBSWM1paujKFWZSbfat+7G2mzc7weiu34aczzFNYGBhgfLfcV6iQP3ACkSaj349AxXSN9IT0j16JepOb01doiKbNWt1ovippz6sVYYwsXgX2rGVFIkq7Pl2PNrI6qW6eOshj0xaSq9mpNEZIWs8LZUfOouNkVXxp/d5woqebeYIf4D2J1ywQB4nG3LOw6AIBAE0B384B+PAkgEa+QwNnYmHt+EpXSal5lkSBBnoP8oCFSo0aCFRIceA0ZMmLFAYSW88rmvtMUjG3RiQ9HvpfusM6zWNmtc5H/iPewha50tOt5PS/QBx2IeSwAA") format("woff")}.admonition{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);position:relative;margin:1.5625em 0;padding:0 1.2rem;border-left:.4rem solid rgba(68,138,255,.8);border-radius:.2rem;background-color:rgba(255,255,255,.05);overflow:auto}.admonition>p{margin-top:.8rem}.admonition>.admonition-title{margin:0 -1.2rem;padding:.8rem 1.2rem .8rem 3.6rem;border-bottom:1px solid rgba(68,138,255,.2);background-color:rgba(68,138,255,.1);font-weight:700}.admonition>.admonition-title:before{position:absolute;left:1.2rem;font-size:1.5rem;color:rgba(68,138,255,.8);content:"\E3C9"}.admonition>.admonition-title:before{font-family:Material Icons;font-style:normal;font-variant:normal;font-weight:400;line-height:2rem;text-transform:none;white-space:nowrap;speak:none;word-wrap:normal;direction:ltr}.admonition.abstract,.admonition.summary,.admonition.tldr{border-left-color:rgba(0,176,255,.8)}.admonition.abstract>.admonition-title,.admonition.summary>.admonition-title,.admonition.tldr>.admonition-title{background-color:rgba(0,176,255,.1);border-bottom-color:rgba(0,176,255,.2)}.admonition.abstract>.admonition-title:before,.admonition.summary>.admonition-title:before,.admonition.tldr>.admonition-title:before{color:#00b0ff;content:"\E8D2"}.admonition.hint,.admonition.tip{border-left-color:rgba(0,191,165,.8)}.admonition.hint>.admonition-title,.admonition.tip>.admonition-title{background-color:rgba(0,191,165,.1);border-bottom-color:rgba(0,191,165,.2)}.admonition.hint>.admonition-title:before,.admonition.tip>.admonition-title:before{color:#00bfa5;content:"\E80E"}.admonition.info,.admonition.todo{border-left-color:rgba(0,184,212,.8)}.admonition.info>.admonition-title,.admonition.todo>.admonition-title{background-color:rgba(0,184,212,.1);border-bottom-color:rgba(0,184,212,.2)}.admonition.info>.admonition-title:before,.admonition.todo>.admonition-title:before{color:#00b8d4;content:"\E88E"}.admonition.check,.admonition.done,.admonition.success{border-left-color:rgba(0,200,83,.8)}.admonition.check>.admonition-title,.admonition.done>.admonition-title,.admonition.success>.admonition-title{background-color:rgba(0,200,83,.1);border-bottom-color:rgba(0,200,83,.2)}.admonition.check>.admonition-title:before,.admonition.done>.admonition-title:before,.admonition.success>.admonition-title:before{color:#00c853;content:"\E876"}.admonition.faq,.admonition.help,.admonition.question{border-left-color:rgba(100,221,23,.8)}.admonition.faq>.admonition-title,.admonition.help>.admonition-title,.admonition.question>.admonition-title{background-color:rgba(100,221,23,.1);border-bottom-color:rgba(100,221,23,.2)}.admonition.faq>.admonition-title:before,.admonition.help>.admonition-title:before,.admonition.question>.admonition-title:before{color:#64dd17;content:"\E887"}.admonition.attention,.admonition.caution,.admonition.warning{border-left-color:rgba(255,145,0,.8)}.admonition.attention>.admonition-title,.admonition.caution>.admonition-title,.admonition.warning>.admonition-title{background-color:rgba(255,145,0,.1);border-bottom-color:rgba(255,145,0,.2)}.admonition.attention>.admonition-title:before{color:#ff9100;content:"\E417"}.admonition.caution>.admonition-title:before,.admonition.warning>.admonition-title:before{color:#ff9100;content:"\E002"}.admonition.fail,.admonition.failure,.admonition.missing{border-left-color:rgba(255,82,82,.8)}.admonition.fail>.admonition-title,.admonition.failure>.admonition-title,.admonition.missing>.admonition-title{background-color:rgba(255,82,82,.1);border-bottom-color:rgba(255,82,82,.2)}.admonition.fail>.admonition-title:before,.admonition.failure>.admonition-title:before,.admonition.missing>.admonition-title:before{color:#ff5252;content:"\E14C"}.admonition.bug,.admonition.danger,.admonition.error{border-left-color:rgba(255,23,68,.8)}.admonition.bug>.admonition-title,.admonition.danger>.admonition-title,.admonition.error>.admonition-title{background-color:rgba(255,23,68,.1);border-bottom-color:rgba(255,23,68,.2)}.admonition.danger>.admonition-title:before{color:#ff1744;content:"\E3E7"}.admonition.error>.admonition-title:before{color:#ff1744;content:"\E14C"}.admonition.bug>.admonition-title:before{color:#ff1744;content:"\E868"}.admonition.example,.admonition.snippet{border-left-color:rgba(0,184,212,.8)}.admonition.example>.admonition-title,.admonition.snippet>.admonition-title{background-color:rgba(0,184,212,.1);border-bottom-color:rgba(0,184,212,.2)}.admonition.example>.admonition-title:before,.admonition.snippet>.admonition-title:before{color:#00b8d4;content:"\E242"}.admonition.cite,.admonition.quote{border-left-color:rgba(158,158,158,.8)}.admonition.cite>.admonition-title,.admonition.quote>.admonition-title{background-color:rgba(158,158,158,.1);border-bottom-color:rgba(158,158,158,.2)}.admonition.cite>.admonition-title:before,.admonition.quote>.admonition-title:before{color:#9e9e9e;content:"\E244"}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v28/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
@page a4landscape {
  size: A4 landscape;
  margin: 1cm;
}
@page a4portrait {
  size: A4 portrait;
  margin: 1cm 1cm 2.5cm 1cm;
}
.markdown-preview.markdown-preview .landscape {
  page: a4landscape;
}
.markdown-preview.markdown-preview .portrait {
  page: a4portrait;
}
.markdown-preview.markdown-preview .box_bg_lightgray {
  background-color: #f5f5f5;
  border: 2px solid #969696;
  padding: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .box_bg_lightgreen {
  background-color: #f5faf5;
  border: 2px solid #969b96;
  padding-left: 15px;
  padding-right: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .salida_consola {
  background-color: #000000;
  color: aquamarine;
  border: 3px solid slategrey;
  padding-top: 15px;
  padding-bottom: 15px;
  padding-left: 10px;
  padding-right: 10px;
  margin-top: 10px;
  margin-bottom: 10px;
  border-radius: 5px;
  box-shadow: 3px 3px 6px 0 slategrey;
  font-family: "Lucida Console", Courier, monospace;
  font-size: 0.8rem;
}
.markdown-preview.markdown-preview .contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.markdown-preview.markdown-preview .fondo {
  background: url(https://balmisdigigs.github.io/digitalizacion.github.io/imagenes/fondos/quote.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.markdown-preview.markdown-preview .cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.markdown-preview.markdown-preview .abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.markdown-preview.markdown-preview .cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.markdown-preview.markdown-preview .autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
.markdown-preview.markdown-preview .flotante {
  display: flex;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    justify-content: center;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    justify-content: space-between;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: row;
  }
}
.markdown-preview.markdown-preview .flotante_izq {
  margin-right: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: auto;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: auto;
  }
}
.markdown-preview.markdown-preview .galeria_imagenes {
  display: flex;
  justify-content: space-evenly;
  align-items: center;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .galeria_imagenes {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .galeria_imagenes {
    flex-direction: row;
  }
}
.markdown-preview.markdown-preview .code-block-wrapper {
  position: relative;
  margin: 16px 0;
}
.markdown-preview.markdown-preview .copy-button {
  position: absolute;
  top: 8px;
  right: 8px;
  padding: 6px 12px;
  background-color: #2196F3;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  font-family: Arial, sans-serif;
  opacity: 0;
  transition: opacity 0.3s, background-color 0.2s;
  z-index: 10;
}
.markdown-preview.markdown-preview .code-block-wrapper:hover .copy-button {
  opacity: 1;
}
.markdown-preview.markdown-preview .copy-button:hover {
  background-color: #1976D2;
}
.markdown-preview.markdown-preview .copy-button:active {
  background-color: #0D47A1;
}
.markdown-preview.markdown-preview .copy-button.copied {
  background-color: #4CAF50;
}
.markdown-preview.markdown-preview .copy-button.copied::after {
  content: ' ✓';
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">

    // Configure Mermaid to load icon packs from Iconify

    const configureMermaidIconPacks = () => {
        window["mermaid"].registerIconPacks([
            {
                name: "logos",
                loader: () =>
                    fetch("https://unpkg.com/@iconify-json/logos@1/icons.json").then(
                        (res) => res.json()
                    ),
            },
        ]);
    };

    if (document.readyState !== 'loading') {
        configureMermaidIconPacks();
    } else {
        document.addEventListener("DOMContentLoaded", () => {
            configureMermaidIconPacks();
        });
    }

    // Copy to clipboard functionality for code blocks

    document.addEventListener('DOMContentLoaded', function () {
        initCopyButtons();
    });

    function initCopyButtons() {
        const codeBlocks = document.querySelectorAll('pre[data-role="codeBlock"]');

        codeBlocks.forEach(function (codeBlock) {
            const wrapper = document.createElement('div');
            wrapper.className = 'code-block-wrapper';
            codeBlock.parentNode.insertBefore(wrapper, codeBlock);
            wrapper.appendChild(codeBlock);

            const copyButton = document.createElement('button');
            copyButton.className = 'copy-button';
            copyButton.textContent = 'Copy';
            copyButton.setAttribute('aria-label', 'Copy code to clipboard');

            copyButton.addEventListener('click', function () {
                copyCodeToClipboard(codeBlock, copyButton);
            });

            wrapper.appendChild(copyButton);
        });
    }

    function copyCodeToClipboard(codeBlock, button) {
        const codeText = extractCodeText(codeBlock);
        if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(codeText)
                .then(function () {
                    showCopySuccess(button);
                })
                .catch(function (err) {
                    console.error('Failed to copy text: ', err);
                    fallbackCopyToClipboard(codeText, button);
                });
        } else {
            fallbackCopyToClipboard(codeText, button);
        }
    }

    function extractCodeText(codeBlock) {
        const clone = codeBlock.cloneNode(true);
        const text = clone.textContent || clone.innerText;
        return text.trim();
    }

    function fallbackCopyToClipboard(text, button) {
        const textarea = document.createElement('textarea');
        textarea.value = text;
        textarea.style.position = 'fixed';
        textarea.style.top = '0';
        textarea.style.left = '0';
        textarea.style.opacity = '0';

        document.body.appendChild(textarea);
        textarea.focus();
        textarea.select();

        try {
            const successful = document.execCommand('copy');
            if (successful) {
                showCopySuccess(button);
            } else {
                console.error('Fallback copy failed');
            }
        } catch (err) {
            console.error('Fallback copy error: ', err);
        }

        document.body.removeChild(textarea);
    }

    function showCopySuccess(button) {
        const originalText = button.textContent;

        button.textContent = 'Copied';
        button.classList.add('copied');

        setTimeout(function () {
            button.textContent = originalText;
            button.classList.remove('copied');
        }, 2000);
    }
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="unidad-15">Unidad 15 </h1>
<p>Descargar estos apunte en <a href="./u15_poo_roles_herencia.pdf">pdf</a> o <a href="./u15_poo_roles_herencia.html">html</a></p>
<h2 id="índice">Índice </h2>

<div class="md-toc">
<div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">
          <a href="#índice" class="md-toc-link">
            <p>Índice</p>

          </a></div><details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#herencia" class="md-toc-link"><p>Herencia</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#tipos-de-herencia" class="md-toc-link"><p>Tipos de Herencia</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#herencia-simple" class="md-toc-link">
            <p>Herencia Simple</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#herencia-múltiple" class="md-toc-link">
            <p>Herencia Múltiple</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#implementando-la-herencia-en-csharp" class="md-toc-link"><p>Implementando la herencia en CSharp</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#palabra-reservada-base" class="md-toc-link">
            <p>Palabra reservada <strong><code>base</code></strong></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#ocultación-e-invalidación" class="md-toc-link"><p>Ocultación e Invalidación</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ocultación-o-reemplazo-en-csharp" class="md-toc-link">
            <p>Ocultación o reemplazo en CSharp</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#invalidación-o-refinamiento-en-csharp" class="md-toc-link">
            <p>Invalidación o refinamiento en CSharp</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#combinando-invalidación-y-ocultación" class="md-toc-link">
            <p>Combinando Invalidación y Ocultación</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#polimorfismo-de-datos-o-inclusión" class="md-toc-link"><p>Polimorfismo de datos o inclusión</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#principio-de-sustitución-de-liskov-upcasting" class="md-toc-link">
            <p>Principio de sustitución de Liskov (Upcasting)</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#downcasting" class="md-toc-link"><p>Downcasting</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#formas-de-realizar-el-downcasting" class="md-toc-link">
            <p>Formas de realizar el Downcasting</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#ligadura-dinámica" class="md-toc-link"><p>Ligadura Dinámica</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ejemplo-de-uso-del-enlace-dinámico" class="md-toc-link">
            <p>Ejemplo de uso del Enlace Dinámico</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#utilidad-del-polimorfismo-de-datos-sustitución-y-el-enlace-dinámico" class="md-toc-link">
            <p>Utilidad del polimorfismo de datos (sustitución) y el enlace dinámico</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#el-caso-especial-de-la-clase-object-en-csharp" class="md-toc-link"><p>El caso especial de la clase object en CSharp</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#objecttostring" class="md-toc-link">
            <p>object.ToString()</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#objectequals-y-objectgethashcode" class="md-toc-link">
            <p>object.Equals() y object.GetHashCode()</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#objectgettype" class="md-toc-link">
            <p>object.GetType()</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    
</div>
<div style="page-break-after:always;"></div>
<h2 id="herencia">Herencia </h2>
<p>Es una de las características principales de la POO. Formalmente podemos definirla como....</p>
<p>Un tipo de relación entre clases, en la cual una clase denominada <strong>subclase</strong> (o también <em>clase <strong>hija</strong></em>), comparte la estructura y/o comportamiento definidos en una o más clases, llamadas <strong>superclases</strong> (o también <em>clase <strong>padre</strong></em>, <em>clase <strong>base</strong></em>).<br>
En otras palabras, una subclase añade sus propios atributos y métodos a los de la superclase, por lo que generalmente es mayor que esta y representará a un grupo <strong>menor</strong> de objetos.</p>
<p>De una forma menos formal podemos resaltar que:</p>
<ol>
<li>La <strong>subclase</strong> es una <strong>concreción</strong> de la superclase que representará una <strong>generalización</strong>.</li>
<li>Representará el tipo de relación '<strong>Es un/a</strong>'. Ej. '<em>Un coche <strong>es un</strong> vehículo.</em>'</li>
<li>La <strong>herencia</strong> nos servirá para reutilizar código y por tanto no repetir funcionalidades.</li>
</ol>
<p>En UML representaremos el rol a través de una flecha de punta hueca de la subclase a la superclase y se podrán producir relaciones <strong>transitivas</strong>.</p>
<div class="row">
<div class="col-sm-6 my-auto">
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="230px" preserveAspectRatio="none" style="width:56px;height:230px;background:#FFFFFF;" version="1.1" viewBox="0 0 56 230" width="56px" zoomAndPan="magnify"><defs></defs><g><!--class A--><g class="entity" data-entity="A" data-source-line="10" data-uid="ent0002" id="entity_A"><rect fill="#FFFAFA" height="32" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="41.3379" x="7.5" y="7"></rect><ellipse cx="22.5" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M25.2656,18.875 Q25.4219,18.6563 25.6094,18.5469 Q25.7969,18.4375 26.0156,18.4375 Q26.3906,18.4375 26.625,18.7031 Q26.8594,18.9531 26.8594,19.5625 L26.8594,21.0156 Q26.8594,21.625 26.625,21.8906 Q26.3906,22.1563 26.0156,22.1563 Q25.6719,22.1563 25.4688,21.9531 Q25.2656,21.7656 25.1563,21.25 Q25.1094,20.8906 24.9219,20.7031 Q24.5938,20.3281 23.9844,20.1094 Q23.375,19.8906 22.75,19.8906 Q21.9844,19.8906 21.3438,20.2188 Q20.7188,20.5469 20.2188,21.2969 Q19.7344,22.0469 19.7344,23.0781 L19.7344,24.1719 Q19.7344,25.4063 20.625,26.2344 Q21.5156,27.0469 23.1094,27.0469 Q24.0469,27.0469 24.7031,26.7969 Q25.0938,26.6406 25.5156,26.2031 Q25.7813,25.9375 25.9219,25.8594 Q26.0781,25.7813 26.2813,25.7813 Q26.6094,25.7813 26.8594,26.0469 Q27.125,26.2969 27.125,26.6406 Q27.125,26.9844 26.7813,27.3906 Q26.2813,27.9688 25.4844,28.2969 Q24.4063,28.75 23.1094,28.75 Q21.5938,28.75 20.3906,28.125 Q19.4063,27.625 18.7188,26.5625 Q18.0313,25.4844 18.0313,24.2031 L18.0313,23.0469 Q18.0313,21.7188 18.6406,20.5781 Q19.2656,19.4219 20.3594,18.8125 Q21.4531,18.1875 22.6875,18.1875 Q23.4219,18.1875 24.0625,18.3594 Q24.7188,18.5156 25.2656,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="9.3379" x="36.5" y="28.7285">A</text></g><!--class B--><g class="entity" data-entity="B" data-source-line="10" data-uid="ent0003" id="entity_B"><rect fill="#FFFAFA" height="32" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="41.3379" x="7.5" y="99"></rect><ellipse cx="22.5" cy="115" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M25.2656,110.875 Q25.4219,110.6563 25.6094,110.5469 Q25.7969,110.4375 26.0156,110.4375 Q26.3906,110.4375 26.625,110.7031 Q26.8594,110.9531 26.8594,111.5625 L26.8594,113.0156 Q26.8594,113.625 26.625,113.8906 Q26.3906,114.1563 26.0156,114.1563 Q25.6719,114.1563 25.4688,113.9531 Q25.2656,113.7656 25.1563,113.25 Q25.1094,112.8906 24.9219,112.7031 Q24.5938,112.3281 23.9844,112.1094 Q23.375,111.8906 22.75,111.8906 Q21.9844,111.8906 21.3438,112.2188 Q20.7188,112.5469 20.2188,113.2969 Q19.7344,114.0469 19.7344,115.0781 L19.7344,116.1719 Q19.7344,117.4063 20.625,118.2344 Q21.5156,119.0469 23.1094,119.0469 Q24.0469,119.0469 24.7031,118.7969 Q25.0938,118.6406 25.5156,118.2031 Q25.7813,117.9375 25.9219,117.8594 Q26.0781,117.7813 26.2813,117.7813 Q26.6094,117.7813 26.8594,118.0469 Q27.125,118.2969 27.125,118.6406 Q27.125,118.9844 26.7813,119.3906 Q26.2813,119.9688 25.4844,120.2969 Q24.4063,120.75 23.1094,120.75 Q21.5938,120.75 20.3906,120.125 Q19.4063,119.625 18.7188,118.5625 Q18.0313,117.4844 18.0313,116.2031 L18.0313,115.0469 Q18.0313,113.7188 18.6406,112.5781 Q19.2656,111.4219 20.3594,110.8125 Q21.4531,110.1875 22.6875,110.1875 Q23.4219,110.1875 24.0625,110.3594 Q24.7188,110.5156 25.2656,110.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="9.3379" x="36.5" y="120.7285">B</text></g><!--class C--><g class="entity" data-entity="C" data-source-line="11" data-uid="ent0005" id="entity_C"><rect fill="#FFFAFA" height="32" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="42.1104" x="7" y="191"></rect><ellipse cx="22" cy="207" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M24.7656,202.875 Q24.9219,202.6563 25.1094,202.5469 Q25.2969,202.4375 25.5156,202.4375 Q25.8906,202.4375 26.125,202.7031 Q26.3594,202.9531 26.3594,203.5625 L26.3594,205.0156 Q26.3594,205.625 26.125,205.8906 Q25.8906,206.1563 25.5156,206.1563 Q25.1719,206.1563 24.9688,205.9531 Q24.7656,205.7656 24.6563,205.25 Q24.6094,204.8906 24.4219,204.7031 Q24.0938,204.3281 23.4844,204.1094 Q22.875,203.8906 22.25,203.8906 Q21.4844,203.8906 20.8438,204.2188 Q20.2188,204.5469 19.7188,205.2969 Q19.2344,206.0469 19.2344,207.0781 L19.2344,208.1719 Q19.2344,209.4063 20.125,210.2344 Q21.0156,211.0469 22.6094,211.0469 Q23.5469,211.0469 24.2031,210.7969 Q24.5938,210.6406 25.0156,210.2031 Q25.2813,209.9375 25.4219,209.8594 Q25.5781,209.7813 25.7813,209.7813 Q26.1094,209.7813 26.3594,210.0469 Q26.625,210.2969 26.625,210.6406 Q26.625,210.9844 26.2813,211.3906 Q25.7813,211.9688 24.9844,212.2969 Q23.9063,212.75 22.6094,212.75 Q21.0938,212.75 19.8906,212.125 Q18.9063,211.625 18.2188,210.5625 Q17.5313,209.4844 17.5313,208.2031 L17.5313,207.0469 Q17.5313,205.7188 18.1406,204.5781 Q18.7656,203.4219 19.8594,202.8125 Q20.9531,202.1875 22.1875,202.1875 Q22.9219,202.1875 23.5625,202.3594 Q24.2188,202.5156 24.7656,202.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="10.1104" x="36" y="212.7285">C</text></g><!--reverse link A to B--><g class="link" data-entity-1="A" data-entity-2="B" data-source-line="10" data-uid="lnk4" id="link_A_B"><path codeline="10" d="M28,57.27 C28,73.92 28,82.4 28,98.96" fill="none" id="A-backto-B" style="stroke:#000000;stroke-width:1;"></path><polygon fill="none" points="28,39.27,22,57.27,34,57.27,28,39.27" style="stroke:#000000;stroke-width:1;"></polygon></g><!--reverse link B to C--><g class="link" data-entity-1="B" data-entity-2="C" data-source-line="11" data-uid="lnk6" id="link_B_C"><path codeline="11" d="M28,149.27 C28,165.92 28,174.4 28,190.96" fill="none" id="B-backto-C" style="stroke:#000000;stroke-width:1;"></path><polygon fill="none" points="28,131.27,22,149.27,34,149.27,28,131.27" style="stroke:#000000;stroke-width:1;"></polygon></g><!--SRC=[ROqx2iCm44JxFSLUm90hIAhI1LIa2yZMOWjzrgnaZ7FwE3444r8DmppUr1ZAxCHb79AhLRKceLyQNGSkDZm9Br2_Y1BXrN1YGPtS44_JRQzk9Bt7ABmKVs3tAJIocIETMFD-qYoUvB_i07vKjl0AC0LFI7bk6sRAFKa5KFZeEjIWFsdW1G00]--></g></svg></p><p></p>
</div>
<div class="col-sm-6 my-auto">
<p><strong>Interpretaciones del diagrama:</strong></p>
<ul>
<li><strong>B</strong> hereda de <strong>A</strong></li>
<li><strong>B</strong> es una concreción <strong>A</strong></li>
<li><strong>A</strong> es una generalización <strong>B</strong></li>
<li><strong>A</strong> es la superclase y <strong>B</strong> la subclase</li>
<li><strong>C</strong> hereda de <strong>B</strong> y <strong>A</strong></li>
<li><strong>B</strong> y <strong>C</strong> son subclases de <strong>A</strong></li>
</ul>
</div>
</div>
<h3 id="tipos-de-herencia">Tipos de Herencia </h3>
<h4 id="herencia-simple">Herencia Simple </h4>
<p>Se dará cuando la subclase hereda de <strong>una sola</strong> superclase y será la única que nosotros utilizaremos en C#.</p>
<div class="row">
<div class="col-sm-7 my-auto">
<p>Por <strong>ejemplo</strong>, supongamos que tenemos la superclase <strong><code>Articulo</code></strong> con un <strong><code>id</code></strong>, <strong><code>precio</code></strong> y <strong><code>nombre</code></strong>. Una subclase de <strong><code>Articulo</code></strong> denominada <strong><code>ArticuloRebajado</code></strong> que además, añade al articulo un campo con el porcentaje de rebaja, denominado <strong><code>porcentajeRebaja</code></strong>. Claramente la relación se entiende como herencia pues: "<em><strong>Un <code>ArticuloRebajado</code> es un <code>Articulo</code></strong></em>".</p>
<p>La instancia de un objeto en memoria de <strong><code>ArticuloRebajado</code></strong> además de tener una propiedad <strong><code>porcentajeRebaja</code></strong>, tendrá las propiedades <strong><code>precio</code></strong> y <strong><code>nombre</code></strong> por ser también un <strong><code>Articulo</code></strong> y todos ellas definirán su estado.</p>
</div>
<div class="col-sm-5 my-auto">
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="206px" preserveAspectRatio="none" style="width:190px;height:206px;background:#FFFFFF;" version="1.1" viewBox="0 0 190 206" width="190px" zoomAndPan="magnify"><defs></defs><g><!--class Articulo--><g class="entity" data-entity="Articulo" data-source-line="10" data-uid="ent0002" id="entity_Articulo"><rect fill="#FFFAFA" height="75.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="113.1582" x="39" y="7"></rect><ellipse cx="69.514" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M72.2796,18.875 Q72.4359,18.6563 72.6234,18.5469 Q72.8109,18.4375 73.0296,18.4375 Q73.4046,18.4375 73.639,18.7031 Q73.8734,18.9531 73.8734,19.5625 L73.8734,21.0156 Q73.8734,21.625 73.639,21.8906 Q73.4046,22.1563 73.0296,22.1563 Q72.6859,22.1563 72.4828,21.9531 Q72.2796,21.7656 72.1703,21.25 Q72.1234,20.8906 71.9359,20.7031 Q71.6078,20.3281 70.9984,20.1094 Q70.389,19.8906 69.764,19.8906 Q68.9984,19.8906 68.3578,20.2188 Q67.7328,20.5469 67.2328,21.2969 Q66.7484,22.0469 66.7484,23.0781 L66.7484,24.1719 Q66.7484,25.4063 67.639,26.2344 Q68.5296,27.0469 70.1234,27.0469 Q71.0609,27.0469 71.7171,26.7969 Q72.1078,26.6406 72.5296,26.2031 Q72.7953,25.9375 72.9359,25.8594 Q73.0921,25.7813 73.2953,25.7813 Q73.6234,25.7813 73.8734,26.0469 Q74.139,26.2969 74.139,26.6406 Q74.139,26.9844 73.7953,27.3906 Q73.2953,27.9688 72.4984,28.2969 Q71.4203,28.75 70.1234,28.75 Q68.6078,28.75 67.4046,28.125 Q66.4203,27.625 65.7328,26.5625 Q65.0453,25.4844 65.0453,24.2031 L65.0453,23.0469 Q65.0453,21.7188 65.6546,20.5781 Q66.2796,19.4219 67.3734,18.8125 Q68.4671,18.1875 69.7015,18.1875 Q70.4359,18.1875 71.0765,18.3594 Q71.7328,18.5156 72.2796,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6826" x="86.9616" y="28.7285">Articulo</text><line style="stroke:#000000;stroke-width:0.5;" x1="40" x2="151.1582" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.627" x="45" y="57.5332">#precio : double</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1582" x="45" y="75.1426">#nombre : string</text></g><!--class ArticuloRebajado--><g class="entity" data-entity="ArticuloRebajado" data-source-line="16" data-uid="ent0003" id="entity_ArticuloRebajado"><rect fill="#FFFAFA" height="57.6094" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="176.9854" x="7" y="142"></rect><ellipse cx="39.2644" cy="158" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M42.03,153.875 Q42.1862,153.6563 42.3737,153.5469 Q42.5612,153.4375 42.78,153.4375 Q43.155,153.4375 43.3894,153.7031 Q43.6237,153.9531 43.6237,154.5625 L43.6237,156.0156 Q43.6237,156.625 43.3894,156.8906 Q43.155,157.1563 42.78,157.1563 Q42.4362,157.1563 42.2331,156.9531 Q42.03,156.7656 41.9206,156.25 Q41.8737,155.8906 41.6862,155.7031 Q41.3581,155.3281 40.7487,155.1094 Q40.1394,154.8906 39.5144,154.8906 Q38.7487,154.8906 38.1081,155.2188 Q37.4831,155.5469 36.9831,156.2969 Q36.4987,157.0469 36.4987,158.0781 L36.4987,159.1719 Q36.4987,160.4063 37.3894,161.2344 Q38.28,162.0469 39.8737,162.0469 Q40.8112,162.0469 41.4675,161.7969 Q41.8581,161.6406 42.28,161.2031 Q42.5456,160.9375 42.6862,160.8594 Q42.8425,160.7813 43.0456,160.7813 Q43.3737,160.7813 43.6237,161.0469 Q43.8894,161.2969 43.8894,161.6406 Q43.8894,161.9844 43.5456,162.3906 Q43.0456,162.9688 42.2487,163.2969 Q41.1706,163.75 39.8737,163.75 Q38.3581,163.75 37.155,163.125 Q36.1706,162.625 35.4831,161.5625 Q34.7956,160.4844 34.7956,159.2031 L34.7956,158.0469 Q34.7956,156.7188 35.405,155.5781 Q36.03,154.4219 37.1237,153.8125 Q38.2175,153.1875 39.4519,153.1875 Q40.1862,153.1875 40.8269,153.3594 Q41.4831,153.5156 42.03,153.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.6201" x="57.1009" y="163.7285">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="182.9854" y1="174" y2="174"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.9854" x="13" y="192.5332">-porcentajeRebaja : ushort</text></g><!--reverse link Articulo to ArticuloRebajado--><g class="link" data-entity-1="Articulo" data-entity-2="ArticuloRebajado" data-source-line="21" data-uid="lnk4" id="link_Articulo_ArticuloRebajado"><path codeline="21" d="M95.5,100.18 C95.5,119.26 95.5,124.22 95.5,141.88" fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:1;"></path><polygon fill="none" points="95.5,82.18,89.5,100.18,101.5,100.18,95.5,82.18" style="stroke:#000000;stroke-width:1;"></polygon></g><!--SRC=[RK-x3i8m3Dpp5PQOAp6pKIOsH0Ssf3oiDZI9AoSH0iI_arAA4E35yldkV8wz3ODawK4x6UCw9ROg9zng2esz8Yn5V5FMp7JUa2E6sadTVwnsPPGjrgMrJ3cOYNReRCB6KuyVtCrugIOsoF_D9iANLHFeB4Hd3GBw8Lt0erV8KOXdyX8kMPqTYPk0KWiO6BKbM86Xh1o-q41UCHOqbaz3A-xV-ZqgUP9czgbW8DOOaZpXj2hQ73lYD6fd5HohwjVY0G00]--></g></svg></p><p></p>
</div>
</div>
<h4 id="herencia-múltiple">Herencia Múltiple </h4>
<p>Se dará cuando una subclase <strong>hereda características de varias superclases</strong>. <strong>Tiene más desventajas que ventajas. Por eso C#, Kotlin Java NO la permiten.</strong> Aunque otros lenguajes como Python o C++ sí.</p>
<p>Entre las <strong>desventajas</strong> que hace que C# no la permita podemos destacar:</p>
<ul>
<li>
<p><strong>Menor velocidad</strong> de ejecución.</p>
</li>
<li>
<p><strong>Herencia repetida (Transitividad)</strong>.</p>
<p>Por ejemplo en el diagram <strong><code>ProfesorUniversitario</code></strong> hereda <strong>2 veces</strong> o a través de dos clases diferentes los atributos de <strong><code>Persona</code></strong>.</p>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="230px" preserveAspectRatio="none" style="width:242px;height:230px;background:#FFFFFF;" version="1.1" viewBox="0 0 242 230" width="242px" zoomAndPan="magnify"><defs></defs><g><!--class Persona--><g class="entity" data-entity="Persona" data-source-line="10" data-uid="ent0002" id="entity_Persona"><rect fill="#FFFAFA" height="32" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="84.1445" x="73.5" y="7"></rect><ellipse cx="88.5" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M91.2656,18.875 Q91.4219,18.6563 91.6094,18.5469 Q91.7969,18.4375 92.0156,18.4375 Q92.3906,18.4375 92.625,18.7031 Q92.8594,18.9531 92.8594,19.5625 L92.8594,21.0156 Q92.8594,21.625 92.625,21.8906 Q92.3906,22.1563 92.0156,22.1563 Q91.6719,22.1563 91.4688,21.9531 Q91.2656,21.7656 91.1563,21.25 Q91.1094,20.8906 90.9219,20.7031 Q90.5938,20.3281 89.9844,20.1094 Q89.375,19.8906 88.75,19.8906 Q87.9844,19.8906 87.3438,20.2188 Q86.7188,20.5469 86.2188,21.2969 Q85.7344,22.0469 85.7344,23.0781 L85.7344,24.1719 Q85.7344,25.4063 86.625,26.2344 Q87.5156,27.0469 89.1094,27.0469 Q90.0469,27.0469 90.7031,26.7969 Q91.0938,26.6406 91.5156,26.2031 Q91.7813,25.9375 91.9219,25.8594 Q92.0781,25.7813 92.2813,25.7813 Q92.6094,25.7813 92.8594,26.0469 Q93.125,26.2969 93.125,26.6406 Q93.125,26.9844 92.7813,27.3906 Q92.2813,27.9688 91.4844,28.2969 Q90.4063,28.75 89.1094,28.75 Q87.5938,28.75 86.3906,28.125 Q85.4063,27.625 84.7188,26.5625 Q84.0313,25.4844 84.0313,24.2031 L84.0313,23.0469 Q84.0313,21.7188 84.6406,20.5781 Q85.2656,19.4219 86.3594,18.8125 Q87.4531,18.1875 88.6875,18.1875 Q89.4219,18.1875 90.0625,18.3594 Q90.7188,18.5156 91.2656,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.1445" x="102.5" y="28.7285">Persona</text></g><!--class Profesor--><g class="entity" data-entity="Profesor" data-source-line="10" data-uid="ent0003" id="entity_Profesor"><rect fill="#FFFAFA" height="32" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="84.9102" x="7" y="99"></rect><ellipse cx="22" cy="115" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M24.7656,110.875 Q24.9219,110.6563 25.1094,110.5469 Q25.2969,110.4375 25.5156,110.4375 Q25.8906,110.4375 26.125,110.7031 Q26.3594,110.9531 26.3594,111.5625 L26.3594,113.0156 Q26.3594,113.625 26.125,113.8906 Q25.8906,114.1563 25.5156,114.1563 Q25.1719,114.1563 24.9688,113.9531 Q24.7656,113.7656 24.6563,113.25 Q24.6094,112.8906 24.4219,112.7031 Q24.0938,112.3281 23.4844,112.1094 Q22.875,111.8906 22.25,111.8906 Q21.4844,111.8906 20.8438,112.2188 Q20.2188,112.5469 19.7188,113.2969 Q19.2344,114.0469 19.2344,115.0781 L19.2344,116.1719 Q19.2344,117.4063 20.125,118.2344 Q21.0156,119.0469 22.6094,119.0469 Q23.5469,119.0469 24.2031,118.7969 Q24.5938,118.6406 25.0156,118.2031 Q25.2813,117.9375 25.4219,117.8594 Q25.5781,117.7813 25.7813,117.7813 Q26.1094,117.7813 26.3594,118.0469 Q26.625,118.2969 26.625,118.6406 Q26.625,118.9844 26.2813,119.3906 Q25.7813,119.9688 24.9844,120.2969 Q23.9063,120.75 22.6094,120.75 Q21.0938,120.75 19.8906,120.125 Q18.9063,119.625 18.2188,118.5625 Q17.5313,117.4844 17.5313,116.2031 L17.5313,115.0469 Q17.5313,113.7188 18.1406,112.5781 Q18.7656,111.4219 19.8594,110.8125 Q20.9531,110.1875 22.1875,110.1875 Q22.9219,110.1875 23.5625,110.3594 Q24.2188,110.5156 24.7656,110.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.9102" x="36" y="120.7285">Profesor</text></g><!--class Investigador--><g class="entity" data-entity="Investigador" data-source-line="11" data-uid="ent0005" id="entity_Investigador"><rect fill="#FFFAFA" height="32" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="108.2686" x="127.5" y="99"></rect><ellipse cx="142.5" cy="115" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M145.2656,110.875 Q145.4219,110.6563 145.6094,110.5469 Q145.7969,110.4375 146.0156,110.4375 Q146.3906,110.4375 146.625,110.7031 Q146.8594,110.9531 146.8594,111.5625 L146.8594,113.0156 Q146.8594,113.625 146.625,113.8906 Q146.3906,114.1563 146.0156,114.1563 Q145.6719,114.1563 145.4688,113.9531 Q145.2656,113.7656 145.1563,113.25 Q145.1094,112.8906 144.9219,112.7031 Q144.5938,112.3281 143.9844,112.1094 Q143.375,111.8906 142.75,111.8906 Q141.9844,111.8906 141.3438,112.2188 Q140.7188,112.5469 140.2188,113.2969 Q139.7344,114.0469 139.7344,115.0781 L139.7344,116.1719 Q139.7344,117.4063 140.625,118.2344 Q141.5156,119.0469 143.1094,119.0469 Q144.0469,119.0469 144.7031,118.7969 Q145.0938,118.6406 145.5156,118.2031 Q145.7813,117.9375 145.9219,117.8594 Q146.0781,117.7813 146.2813,117.7813 Q146.6094,117.7813 146.8594,118.0469 Q147.125,118.2969 147.125,118.6406 Q147.125,118.9844 146.7813,119.3906 Q146.2813,119.9688 145.4844,120.2969 Q144.4063,120.75 143.1094,120.75 Q141.5938,120.75 140.3906,120.125 Q139.4063,119.625 138.7188,118.5625 Q138.0313,117.4844 138.0313,116.2031 L138.0313,115.0469 Q138.0313,113.7188 138.6406,112.5781 Q139.2656,111.4219 140.3594,110.8125 Q141.4531,110.1875 142.6875,110.1875 Q143.4219,110.1875 144.0625,110.3594 Q144.7188,110.5156 145.2656,110.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.2686" x="156.5" y="120.7285">Investigador</text></g><!--class ProfesorUniversitario--><g class="entity" data-entity="ProfesorUniversitario" data-source-line="12" data-uid="ent0007" id="entity_ProfesorUniversitario"><rect fill="#FFFAFA" height="32" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="162.71" x="34" y="191"></rect><ellipse cx="49" cy="207" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M51.7656,202.875 Q51.9219,202.6563 52.1094,202.5469 Q52.2969,202.4375 52.5156,202.4375 Q52.8906,202.4375 53.125,202.7031 Q53.3594,202.9531 53.3594,203.5625 L53.3594,205.0156 Q53.3594,205.625 53.125,205.8906 Q52.8906,206.1563 52.5156,206.1563 Q52.1719,206.1563 51.9688,205.9531 Q51.7656,205.7656 51.6563,205.25 Q51.6094,204.8906 51.4219,204.7031 Q51.0938,204.3281 50.4844,204.1094 Q49.875,203.8906 49.25,203.8906 Q48.4844,203.8906 47.8438,204.2188 Q47.2188,204.5469 46.7188,205.2969 Q46.2344,206.0469 46.2344,207.0781 L46.2344,208.1719 Q46.2344,209.4063 47.125,210.2344 Q48.0156,211.0469 49.6094,211.0469 Q50.5469,211.0469 51.2031,210.7969 Q51.5938,210.6406 52.0156,210.2031 Q52.2813,209.9375 52.4219,209.8594 Q52.5781,209.7813 52.7813,209.7813 Q53.1094,209.7813 53.3594,210.0469 Q53.625,210.2969 53.625,210.6406 Q53.625,210.9844 53.2813,211.3906 Q52.7813,211.9688 51.9844,212.2969 Q50.9063,212.75 49.6094,212.75 Q48.0938,212.75 46.8906,212.125 Q45.9063,211.625 45.2188,210.5625 Q44.5313,209.4844 44.5313,208.2031 L44.5313,207.0469 Q44.5313,205.7188 45.1406,204.5781 Q45.7656,203.4219 46.8594,202.8125 Q47.9531,202.1875 49.1875,202.1875 Q49.9219,202.1875 50.5625,202.3594 Q51.2188,202.5156 51.7656,202.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.71" x="63" y="212.7285">ProfesorUniversitario</text></g><!--reverse link Persona to Profesor--><g class="link" data-entity-1="Persona" data-entity-2="Profesor" data-source-line="10" data-uid="lnk4" id="link_Persona_Profesor"><path codeline="10" d="M93.6555,53.7853 C81.4455,70.4353 72.68,82.4 60.53,98.96" fill="none" id="Persona-backto-Profesor" style="stroke:#000000;stroke-width:1;"></path><polygon fill="none" points="104.3,39.27,88.817,50.2371,98.4939,57.3335,104.3,39.27" style="stroke:#000000;stroke-width:1;"></polygon></g><!--reverse link Persona to Investigador--><g class="link" data-entity-1="Persona" data-entity-2="Investigador" data-source-line="11" data-uid="lnk6" id="link_Persona_Investigador"><path codeline="11" d="M137.3445,53.7853 C149.5545,70.4353 158.32,82.4 170.47,98.96" fill="none" id="Persona-backto-Investigador" style="stroke:#000000;stroke-width:1;"></path><polygon fill="none" points="126.7,39.27,132.5061,57.3335,142.183,50.2371,126.7,39.27" style="stroke:#000000;stroke-width:1;"></polygon></g><!--reverse link Profesor to ProfesorUniversitario--><g class="link" data-entity-1="Profesor" data-entity-2="ProfesorUniversitario" data-source-line="12" data-uid="lnk8" id="link_Profesor_ProfesorUniversitario"><path codeline="12" d="M71.3445,145.7853 C83.5545,162.4353 92.32,174.4 104.47,190.96" fill="none" id="Profesor-backto-ProfesorUniversitario" style="stroke:#000000;stroke-width:1;"></path><polygon fill="none" points="60.7,131.27,66.5061,149.3335,76.183,142.2371,60.7,131.27" style="stroke:#000000;stroke-width:1;"></polygon></g><!--reverse link Investigador to ProfesorUniversitario--><g class="link" data-entity-1="Investigador" data-entity-2="ProfesorUniversitario" data-source-line="13" data-uid="lnk9" id="link_Investigador_ProfesorUniversitario"><path codeline="13" d="M159.6555,145.7853 C147.4455,162.4353 138.68,174.4 126.53,190.96" fill="none" id="Investigador-backto-ProfesorUniversitario" style="stroke:#000000;stroke-width:1;"></path><polygon fill="none" points="170.3,131.27,154.817,142.2371,164.4939,149.3335,170.3,131.27" style="stroke:#000000;stroke-width:1;"></polygon></g><!--SRC=[TSt12eCm303GUx-YFo3i5zIJDq76ReDeCmtQHjAgkAzVnJ5qR9U492-9xycD861rCu3tQGX2zHImQDXLz4HzKVv3KX5USXvOT3P0qnz6PIoXnIocLdXoPcUtZW9Mbdiys7pxbB4ObD_7Tl1rgdAyADMHGOrs3AksQ6iKhrGP8plGzoJHfV03FSkfMRWPVQ0Mp3PuYnE_EfhZ0WKGOdNq_zaB]--></g></svg></p><p></p>
</li>
<li>
<p><strong>Diseños más complejos</strong> y más difíciles de aprender y utilizar por el programador. Además, siempre podremos <strong>rediseñar</strong> utilizando  herencia simple o incluso composición.</p>
</li>
<li>
<p><strong>Colisiones de Nombres</strong></p>
<p>En el ejemplo la subclase <strong><code>Multimedia</code></strong> hereda campos <strong>con el mismo nombre</strong> de las clases base <strong><code>Sonido</code></strong> y <strong><code>Gráficos</code></strong>.<br>
Cuando hagamos referencia al campo <strong><code>escala</code></strong> en <strong><code>Multimedia</code></strong>.<br>
<strong>¿Cómo podemos saber si estamos haciendo referencia a la escala de <code>Sonido</code> o la de <code>Gráficos</code>?</strong></p>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="181px" preserveAspectRatio="none" style="width:432px;height:181px;background:#FFFFFF;" version="1.1" viewBox="0 0 432 181" width="432px" zoomAndPan="magnify"><defs></defs><g><!--class Sonido--><g class="entity" data-entity="Sonido" data-source-line="10" data-uid="ent0002" id="entity_Sonido"><rect fill="#FFFAFA" height="75.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="191.7646" x="7" y="7"></rect><ellipse cx="76.8359" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M79.6016,18.875 Q79.7578,18.6563 79.9453,18.5469 Q80.1328,18.4375 80.3516,18.4375 Q80.7266,18.4375 80.9609,18.7031 Q81.1953,18.9531 81.1953,19.5625 L81.1953,21.0156 Q81.1953,21.625 80.9609,21.8906 Q80.7266,22.1563 80.3516,22.1563 Q80.0078,22.1563 79.8047,21.9531 Q79.6016,21.7656 79.4922,21.25 Q79.4453,20.8906 79.2578,20.7031 Q78.9297,20.3281 78.3203,20.1094 Q77.7109,19.8906 77.0859,19.8906 Q76.3203,19.8906 75.6797,20.2188 Q75.0547,20.5469 74.5547,21.2969 Q74.0703,22.0469 74.0703,23.0781 L74.0703,24.1719 Q74.0703,25.4063 74.9609,26.2344 Q75.8516,27.0469 77.4453,27.0469 Q78.3828,27.0469 79.0391,26.7969 Q79.4297,26.6406 79.8516,26.2031 Q80.1172,25.9375 80.2578,25.8594 Q80.4141,25.7813 80.6172,25.7813 Q80.9453,25.7813 81.1953,26.0469 Q81.4609,26.2969 81.4609,26.6406 Q81.4609,26.9844 81.1172,27.3906 Q80.6172,27.9688 79.8203,28.2969 Q78.7422,28.75 77.4453,28.75 Q75.9297,28.75 74.7266,28.125 Q73.7422,27.625 73.0547,26.5625 Q72.3672,25.4844 72.3672,24.2031 L72.3672,23.0469 Q72.3672,21.7188 72.9766,20.5781 Q73.6016,19.4219 74.6953,18.8125 Q75.7891,18.1875 77.0234,18.1875 Q77.7578,18.1875 78.3984,18.3594 Q79.0547,18.5156 79.6016,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.5928" x="97.3359" y="28.7285">Sonido</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="197.7646" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.1787" x="13" y="57.5332">#escala : TipoEscala</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.7646" x="13" y="75.1426">#resolución : TipoResolución</text></g><!--class Gr?ficos--><g class="entity" data-entity="Gr.ficos" data-source-line="16" data-uid="ent0003" id="entity_Gr.ficos"><rect fill="#FFFAFA" height="75.2188" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="191.7646" x="234" y="7"></rect><ellipse cx="299.5703" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M302.3359,18.875 Q302.4922,18.6563 302.6797,18.5469 Q302.8672,18.4375 303.0859,18.4375 Q303.4609,18.4375 303.6953,18.7031 Q303.9297,18.9531 303.9297,19.5625 L303.9297,21.0156 Q303.9297,21.625 303.6953,21.8906 Q303.4609,22.1563 303.0859,22.1563 Q302.7422,22.1563 302.5391,21.9531 Q302.3359,21.7656 302.2266,21.25 Q302.1797,20.8906 301.9922,20.7031 Q301.6641,20.3281 301.0547,20.1094 Q300.4453,19.8906 299.8203,19.8906 Q299.0547,19.8906 298.4141,20.2188 Q297.7891,20.5469 297.2891,21.2969 Q296.8047,22.0469 296.8047,23.0781 L296.8047,24.1719 Q296.8047,25.4063 297.6953,26.2344 Q298.5859,27.0469 300.1797,27.0469 Q301.1172,27.0469 301.7734,26.7969 Q302.1641,26.6406 302.5859,26.2031 Q302.8516,25.9375 302.9922,25.8594 Q303.1484,25.7813 303.3516,25.7813 Q303.6797,25.7813 303.9297,26.0469 Q304.1953,26.2969 304.1953,26.6406 Q304.1953,26.9844 303.8516,27.3906 Q303.3516,27.9688 302.5547,28.2969 Q301.4766,28.75 300.1797,28.75 Q298.6641,28.75 297.4609,28.125 Q296.4766,27.625 295.7891,26.5625 Q295.1016,25.4844 295.1016,24.2031 L295.1016,23.0469 Q295.1016,21.7188 295.7109,20.5781 Q296.3359,19.4219 297.4297,18.8125 Q298.5234,18.1875 299.7578,18.1875 Q300.4922,18.1875 301.1328,18.3594 Q301.7891,18.5156 302.3359,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.124" x="320.0703" y="28.7285">Gráficos</text><line style="stroke:#000000;stroke-width:0.5;" x1="235" x2="424.7646" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.1787" x="240" y="57.5332">#escala : TipoEscala</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.7646" x="240" y="75.1426">#resolución : TipoResolución</text></g><!--class Multimedia--><g class="entity" data-entity="Multimedia" data-source-line="22" data-uid="ent0004" id="entity_Multimedia"><rect fill="#FFFAFA" height="32" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="99.6895" x="166" y="142"></rect><ellipse cx="181" cy="158" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M183.7656,153.875 Q183.9219,153.6563 184.1094,153.5469 Q184.2969,153.4375 184.5156,153.4375 Q184.8906,153.4375 185.125,153.7031 Q185.3594,153.9531 185.3594,154.5625 L185.3594,156.0156 Q185.3594,156.625 185.125,156.8906 Q184.8906,157.1563 184.5156,157.1563 Q184.1719,157.1563 183.9688,156.9531 Q183.7656,156.7656 183.6563,156.25 Q183.6094,155.8906 183.4219,155.7031 Q183.0938,155.3281 182.4844,155.1094 Q181.875,154.8906 181.25,154.8906 Q180.4844,154.8906 179.8438,155.2188 Q179.2188,155.5469 178.7188,156.2969 Q178.2344,157.0469 178.2344,158.0781 L178.2344,159.1719 Q178.2344,160.4063 179.125,161.2344 Q180.0156,162.0469 181.6094,162.0469 Q182.5469,162.0469 183.2031,161.7969 Q183.5938,161.6406 184.0156,161.2031 Q184.2813,160.9375 184.4219,160.8594 Q184.5781,160.7813 184.7813,160.7813 Q185.1094,160.7813 185.3594,161.0469 Q185.625,161.2969 185.625,161.6406 Q185.625,161.9844 185.2813,162.3906 Q184.7813,162.9688 183.9844,163.2969 Q182.9063,163.75 181.6094,163.75 Q180.0938,163.75 178.8906,163.125 Q177.9063,162.625 177.2188,161.5625 Q176.5313,160.4844 176.5313,159.2031 L176.5313,158.0469 Q176.5313,156.7188 177.1406,155.5781 Q177.7656,154.4219 178.8594,153.8125 Q179.9531,153.1875 181.1875,153.1875 Q181.9219,153.1875 182.5625,153.3594 Q183.2188,153.5156 183.7656,153.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.6895" x="195" y="163.7285">Multimedia</text></g><!--reverse link Sonido to Multimedia--><g class="link" data-entity-1="Sonido" data-entity-2="Multimedia" data-source-line="22" data-uid="lnk5" id="link_Sonido_Multimedia"><path codeline="22" d="M152.8147,94.6505 C173.4147,114.9705 185.14,126.55 200.64,141.85" fill="none" id="Sonido-backto-Multimedia" style="stroke:#000000;stroke-width:1;"></path><polygon fill="none" points="140,82.01,148.6012,98.9221,157.0282,90.379,140,82.01" style="stroke:#000000;stroke-width:1;"></polygon></g><!--reverse link Gr?ficos to Multimedia--><g class="link" data-entity-1="Gr.ficos" data-entity-2="Multimedia" data-source-line="23" data-uid="lnk6" id="link_Gr.ficos_Multimedia"><path codeline="23" d="M279.8004,94.5947 C259.0204,114.9147 247.14,126.55 231.49,141.85" fill="none" id="Gráficos-backto-Multimedia" style="stroke:#000000;stroke-width:1;"></path><polygon fill="none" points="292.67,82.01,275.6055,90.3048,283.9953,98.8845,292.67,82.01" style="stroke:#000000;stroke-width:1;"></polygon></g><!--SRC=[hOvDYW9138NtEKN0jJ1hTxOCWmj1RC6TK5P53LrLQLBLY0vpc3d37C6BJMlxXxWqcv2yn_TUgZZMHar0wqrAmvoLLqsciPLOye7m0zBDCbILtKYyA1RUsEf1chQdsL3HherA4rrdMsmvKncaeWVlw9HKY3hIrx3Ey8Gge-m0jkm8ATHvZu72YZG1d9jZAP6Tm3TWEpsaP8qtEC0vr_9vFYwAKXBVM3x-nOiykt_WvyhxqkFlcgsaTo2xShZizt7I-Co171kuHJmB_m00]--></g></svg></p><p></p>
</li>
</ul>
<h3 id="implementando-la-herencia-en-csharp">Implementando la herencia en CSharp </h3>
<p>Separaremos el nombre de la subclase y la superclase por el carácter <strong><code>':'</code></strong> como en C++</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token operator">&lt;</span>NombreSubClase<span class="token operator">&gt;</span> <span class="token punctuation">:</span> <span class="token operator">&lt;</span>NombreSuperClase<span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definiremos  solo las concreciones de la subclase respecto  la superclase</span>
<span class="token punctuation">}</span>
</code></pre><p>Partamos del ejemplo que hemos visto en la herencia simple, expresado en el siguiente diagrama de clases UML...</p>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="447.3px" preserveAspectRatio="none" style="width:553px;height:447px;background:#FFFFFF;" version="1.1" viewBox="0 0 553 447" width="553.5px" zoomAndPan="magnify"><defs></defs><g><!--class Articulo--><g class="entity" data-entity="Articulo" data-source-line="10" data-uid="ent0002" id="entity_Articulo"><rect fill="#FFFAFA" height="211.3172" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="322.7977" x="115.2" y="6.3"></rect><ellipse cx="251.7667" cy="25.5164" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M254.2557,21.8039 Q254.3963,21.607 254.5651,21.5086 Q254.7338,21.4102 254.9307,21.4102 Q255.2682,21.4102 255.4792,21.6492 Q255.6901,21.8742 255.6901,22.4227 L255.6901,23.7305 Q255.6901,24.2789 255.4792,24.518 Q255.2682,24.757 254.9307,24.757 Q254.6213,24.757 254.4385,24.5742 Q254.2557,24.4055 254.1573,23.9414 Q254.1151,23.618 253.9463,23.4492 Q253.651,23.1117 253.1026,22.9148 Q252.5542,22.718 251.9917,22.718 Q251.3026,22.718 250.726,23.0133 Q250.1635,23.3086 249.7135,23.9836 Q249.2776,24.6586 249.2776,25.5867 L249.2776,26.5711 Q249.2776,27.682 250.0792,28.4273 Q250.8807,29.1586 252.3151,29.1586 Q253.1588,29.1586 253.7495,28.9336 Q254.101,28.793 254.4807,28.3992 Q254.7198,28.1602 254.8463,28.0898 Q254.987,28.0195 255.1698,28.0195 Q255.4651,28.0195 255.6901,28.2586 Q255.9292,28.4836 255.9292,28.793 Q255.9292,29.1023 255.6198,29.468 Q255.1698,29.9883 254.4526,30.2836 Q253.4823,30.6914 252.3151,30.6914 Q250.951,30.6914 249.8682,30.1289 Q248.9823,29.6789 248.3635,28.7227 Q247.7448,27.7523 247.7448,26.5992 L247.7448,25.5586 Q247.7448,24.3633 248.2932,23.3367 Q248.8557,22.2961 249.8401,21.7477 Q250.8245,21.1852 251.9354,21.1852 Q252.5963,21.1852 253.1729,21.3398 Q253.7635,21.4805 254.2557,21.8039 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="37.8264" x="272.3106" y="22.0113">«entity»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="42.0144" x="270.2167" y="37.4643">Articulo</text><line style="stroke:#000000;stroke-width:0.45;" x1="116.1" x2="437.0977" y1="44.7328" y2="44.7328"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="59.5362" x="120.6" y="61.4127">-id : int {id}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="86.8526" x="120.6" y="77.2611">-precio : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="88.2308" x="120.6" y="93.1096">-nombre : string</text><line style="stroke:#000000;stroke-width:0.45;" x1="116.1" x2="437.0977" y1="99.4781" y2="99.4781"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="311.9977" x="120.6" y="116.158">+Articulo(in id : int, in nombre : string, in precio : double)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="87.8801" x="120.6" y="132.0064">+GetId() : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="121.8349" x="120.6" y="147.8549">#GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="207.2725" x="120.6" y="163.7033">-SetNombre(in nombre : string) : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="119.7615" x="120.6" y="179.5518">#GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="196.795" x="120.6" y="195.4002">-SetPrecio(in precio : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="96.9794" x="120.6" y="211.2486">+ATexto() : string</text></g><!--class ArticuloRebajado--><g class="entity" data-entity="ArticuloRebajado" data-source-line="25" data-uid="ent0003" id="entity_ArticuloRebajado"><rect fill="#FFFAFA" height="169.9875" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="541.3412" x="6.3" y="271.8"></rect><ellipse cx="225.1666" cy="286.2" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M227.6556,282.4875 Q227.7962,282.2906 227.965,282.1922 Q228.1337,282.0938 228.3306,282.0938 Q228.6681,282.0938 228.8791,282.3328 Q229.09,282.5578 229.09,283.1063 L229.09,284.4141 Q229.09,284.9625 228.8791,285.2016 Q228.6681,285.4406 228.3306,285.4406 Q228.0212,285.4406 227.8384,285.2578 Q227.6556,285.0891 227.5572,284.625 Q227.515,284.3016 227.3462,284.1328 Q227.0509,283.7953 226.5025,283.5984 Q225.9541,283.4016 225.3916,283.4016 Q224.7025,283.4016 224.1259,283.6969 Q223.5634,283.9922 223.1134,284.6672 Q222.6775,285.3422 222.6775,286.2703 L222.6775,287.2547 Q222.6775,288.3656 223.4791,289.1109 Q224.2806,289.8422 225.715,289.8422 Q226.5587,289.8422 227.1494,289.6172 Q227.5009,289.4766 227.8806,289.0828 Q228.1197,288.8438 228.2462,288.7734 Q228.3869,288.7031 228.5697,288.7031 Q228.865,288.7031 229.09,288.9422 Q229.3291,289.1672 229.3291,289.4766 Q229.3291,289.7859 229.0197,290.1516 Q228.5697,290.6719 227.8525,290.9672 Q226.8822,291.375 225.715,291.375 Q224.3509,291.375 223.2681,290.8125 Q222.3822,290.3625 221.7634,289.4063 Q221.1447,288.4359 221.1447,287.2828 L221.1447,286.2422 Q221.1447,285.0469 221.6931,284.0203 Q222.2556,282.9797 223.24,282.4313 Q224.2244,281.8688 225.3353,281.8688 Q225.9962,281.8688 226.5728,282.0234 Q227.1634,282.1641 227.6556,282.4875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="95.9581" x="243.6166" y="291.3557">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="546.7412" y1="300.6" y2="300.6"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="148.4868" x="11.7" y="317.2799">-porcentajeRebaja : ushort</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="546.7412" y1="323.6484" y2="323.6484"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="530.5412" x="11.7" y="340.3283">+ArticuloRebajado(in id : int, in nombre : string, in precio : double, in porcentajeRebaja : ushort)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="181.7464" x="11.7" y="356.1768">+GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="322.8812" x="11.7" y="372.0252">-SetPorcentajeRebaja(in porcentajeRebaja : ushort) : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="144.9738" x="11.7" y="387.8736">-/GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="152.332" x="11.7" y="403.7221">+/GetPrecioBase() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="177.5566" x="11.7" y="419.5705">+/GetPrecioRebajado() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="150.9231" x="11.7" y="435.4189">+ATextoRebajado() : string</text></g><!--reverse link Articulo to ArticuloRebajado--><g class="link" data-entity-1="Articulo" data-entity-2="ArticuloRebajado" data-source-line="38" data-uid="lnk4" id="link_Articulo_ArticuloRebajado"><path codeline="38" d="M276.75,234.324 C276.75,252.153 276.75,254.259 276.75,271.467" fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="276.75,218.124,271.35,234.324,282.15,234.324,276.75,218.124" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--SRC=[dLBHJi8m57tlLpJn1O9JNpM4X65YU374cVXcqhKtK1YzfEr49VoxNJUxqI4Fxc5BppazzzvpPpPIxPXcMyeBPipKMYtpqiASeyhaDz0xOe9agZNkPrYWfcd1-AP3BToHBI5rdwN6KebQzhQI5h8jRg2ZdLMLKjG2z7cpMX1PPGhtX1ZE2jVKpJqXlc7NavMyB92Enw2ij5-J2JaGwfw4Ia4Vg5IM7gGuDjXE0vVeS85bNa23Ajpc6XngtFngIJmy2kO3gOBPjNl5Uez5piF6umdiN0o6hNS5NrNmipU9gOHcWUfNgiGVA4Nhil1blSl9I5cWplJMTN5ZliAdnMuZnpZU5yZPcWaCsUvGSnSuMqDDkRkbMQ6sSNQ_D_-JOOtzLQcJy2BI-5cQVjeuOj55ysv42RrrHHx1yDA9Us6FF5sddJ83b_WGHqzJR-64RxSHVlFt9EalvGS0]--></g></svg></p><p></p>
<div style="page-break-after:always;"></div>
<p>Fíjate que en el diagrama de clases, aparece el símbolo <strong><code>#</code></strong>. Es un modificador que <strong>solo tiene sentido aplicarlo a una superclase</strong>. Equivaldrá a indicar el modificador de acceso <strong><code>protected</code></strong> y significará que el <strong>campo</strong>, <strong>propiedad</strong> o el <strong>método</strong> al que modifica, <strong>no puede ser accedido desde fuera de la clase</strong> como en el caso de <strong><code>private</code></strong>, <strong>pero sí desde las subclases de la misma</strong>.</p>
<p>En nuestro diagrama se lo estaremos aplicando al <strong><code>get</code></strong> de la propiedades <strong><code>Nombre</code></strong> y <strong><code>Precio</code></strong>. De momento hemos sido restrictivo en el acceso a las subclases y si vemos que necesitamos acceder a un campo o propiedad desde fuera, lo cambiaremos a <strong><code>public</code></strong>.</p>
<p>Veamos cómo quedará la implementación de la <strong>superclase</strong> <strong><code>Articulo</code></strong>:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Propiedade de sólo lectura por ser un Id y público el get por +GetId(): string</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Id <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token comment">// Propiedades privadas de modificación y protegidas para acceso</span>
    <span class="token comment">// y así solo se pueda acceder desde la clase y sus subclases</span>
    <span class="token keyword keyword-protected">protected</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Articulo</span><span class="token punctuation">(</span>
                <span class="token class-name"><span class="token keyword keyword-string">string</span></span> id<span class="token punctuation">,</span>
                <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span>
                <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Id <span class="token operator">=</span> id<span class="token punctuation">;</span>
        Nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        Precio <span class="token operator">=</span> precio<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                Id<span class="token punctuation">:</span> <span class="token punctuation">{</span>Id<span class="token punctuation">}</span>
                Nombre<span class="token punctuation">:</span> <span class="token punctuation">{</span>Nombre<span class="token punctuation">}</span>
                Precio<span class="token punctuation">:</span> <span class="token punctuation">{</span>Precio<span class="token punctuation">:</span>F2<span class="token punctuation">}</span>€
                <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p>Veamos cómo quedará la implementación de la <strong>subclase</strong> <strong><code>ArticuloRebajado</code></strong>:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-ushort">ushort</span></span> PorcentajeRebaja <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Descuento <span class="token operator">=&gt;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Precio <span class="token operator">*</span> PorcentajeRebaja <span class="token operator">/</span> <span class="token number">100d</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> PrecioRebajado <span class="token operator">=&gt;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Precio <span class="token operator">-</span> Descuento<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> PrecioBase <span class="token operator">=&gt;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Precio<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">ArticuloRebajado</span><span class="token punctuation">(</span>
                        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> id<span class="token punctuation">,</span>
                        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span>
                        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">,</span>
                        <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> porcentajeRebaja<span class="token punctuation">)</span> 
                        <span class="token comment">// Llamada al constructor de la clase base encargado</span>
                        <span class="token comment">// de 'construir' la parte de Articulo del objeto</span>
                        <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> nombre<span class="token punctuation">,</span> precio<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        PorcentajeRebaja <span class="token operator">=</span> porcentajeRebaja<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATextoRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                        Id<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Id<span class="token punctuation">}</span>
                        Nombre<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Nombre<span class="token punctuation">}</span>
                        Rebaja<span class="token punctuation">:</span> <span class="token punctuation">{</span>PorcentajeRebaja<span class="token punctuation">}</span><span class="token operator">%</span>
                        Antes<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Precio<span class="token punctuation">:</span>F2<span class="token punctuation">}</span>€
                        Ahora<span class="token punctuation">:</span> <span class="token punctuation">{</span>PrecioRebajado<span class="token punctuation">:</span>F2<span class="token punctuation">}</span>€
                        <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Podremos acceder desde la <strong>subclase</strong> a las propiedades públicas y protegidas de la <strong>clase base o superclase</strong> como <strong><code>Id</code></strong>, <strong><code>Precio</code></strong> y <strong><code>Nombre</code></strong>. Fíjate que hemos usado la palabra clave <strong><code>base</code></strong> para referirnos a la parte de <strong><code>Articulo</code></strong> del objeto <strong><code>ArticuloRebajado</code></strong> y así poder acceder a sus propiedades protegidas y públicas. Aunque en este caso, no sería en este caso necesario usarla pues no hay ambigüedad, <strong>es una buena práctica para evitar errores</strong> en futuras modificaciones.</p>
<div style="page-break-after:always;"></div>
<p>Vamos a implementar un simple <strong>programa principal de prueba</strong>...</p>
<div class="row">
<div class="col-sm-6 my-auto">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">EjemploHerencia</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"A001"</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Polo Ralph Lauren"</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">precio</span><span class="token punctuation">:</span> <span class="token number">75d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name"><span class="token keyword keyword-string">string</span></span><span class="token punctuation">(</span><span class="token char">'-'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"A002"</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Polo Fred Perry"</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">precio</span><span class="token punctuation">:</span> <span class="token number">70d</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">porcentajeRebaja</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name"><span class="token keyword keyword-string">string</span></span><span class="token punctuation">(</span><span class="token char">'-'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">.</span><span class="token function">ATextoRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name"><span class="token keyword keyword-string">string</span></span><span class="token punctuation">(</span><span class="token char">'-'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-6">
<p><strong>Mostrará por consola:</strong></p>
<pre class="salida_consola">--------------------
Id: A001
Nombre: Polo Ralph Lauren
Precio: 75,00?
--------------------
Id: A002
Nombre: Polo Fred Perry
Precio: 70,00?

Id: A002
Nombre: Polo Fred Perry
Rebaja: 15%
Antes: 70,00?
Ahora: 59,50?
--------------------
</pre>
<p>Puedes descargar el código de ejemplo de el siguiente enlace: <strong><a href="assets/ejemplos/herencia_articulo_ejemplo.cs">herencia_articulo1.cs</a></strong></p>
</div>
</div>
<p>Una aproximación a cómo sería el objeto instanciado de una subclase en memoria, sería la siguiente:</p>
<p></p><p align="center" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 12.2.0 (20241103.1931)
 -->
<!-- Title: G Pages: 1 -->
<svg width="500pt" height="200pt" viewBox="0.00 0.00 500.00 200.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.5 0.5) rotate(0) translate(58.72 310)">
<title>G</title>
<polygon fill="white" stroke="none" points="-58.72,90 -58.72,-310 941.28,-310 941.28,90 -58.72,90"></polygon>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="black" cx="27" cy="-87" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-82.8" font-family="Arial" font-size="14.00">a</text>
</g>
<!-- oa -->
<g id="node4" class="node">
<title>oa</title>
<polygon fill="none" stroke="black" points="99,-99.4 99,-128.2 329.45,-128.2 329.45,-99.4 99,-99.4"></polygon>
<text text-anchor="start" x="165.6" y="-109.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;a : Articulo &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="104" y="-81.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;nombre = "Polo Ralph Lauren" &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="104" y="-55" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;precio = 75.00 &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="98,-44.8 98,-129.2 330.45,-129.2 330.45,-44.8 98,-44.8"></polygon>
</g>
<!-- a&#45;&gt;oa -->
<g id="edge1" class="edge">
<title>a-&gt;oa</title>
<path fill="none" stroke="black" d="M54.15,-87C61.38,-87 69.75,-87 78.8,-87"></path>
<polygon fill="black" stroke="black" points="78.62,-90.5 88.62,-87 78.62,-83.5 78.62,-90.5"></polygon>
</g>
<!-- ar -->
<g id="node2" class="node">
<title>ar</title>
<ellipse fill="none" stroke="black" cx="401.45" cy="-87" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="401.45" y="-82.8" font-family="Arial" font-size="14.00">ar</text>
</g>
<!-- oar -->
<g id="node5" class="node">
<title>oar</title>
<polygon fill="none" stroke="black" points="473.45,-166.2 473.45,-215 873.55,-215 873.55,-166.2 473.45,-166.2"></polygon>
<text text-anchor="start" x="606.19" y="-186.4" font-family="Arial" font-size="14.00">ar : ArticuloRebajado </text>
<polygon fill="none" stroke="steelblue" points="489.45,-121.4 489.45,-150.2 857.55,-150.2 857.55,-121.4 489.45,-121.4"></polygon>
<text text-anchor="start" x="535.8" y="-132.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="582.47" y="-132.6" font-family="Arial" font-size="14.00" fill="steelblue"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base : Articulo &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="764.53" y="-132.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="494.45" y="-104.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="541.13" y="-104.8" font-family="Arial" font-size="14.00" fill="steelblue"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nombre = "Polo Fred Perry" &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="805.88" y="-104.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="494.45" y="-78" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="541.13" y="-78" font-family="Arial" font-size="14.00" fill="steelblue"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;precio = 70.00 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="723.6" y="-78" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="steelblue" points="488.45,-66.8 488.45,-151.2 858.55,-151.2 858.55,-66.8 488.45,-66.8"></polygon>
<text text-anchor="start" x="488.45" y="-24.2" font-family="Arial" font-size="14.00">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="black" points="472.45,-4 472.45,-216 874.55,-216 874.55,-4 472.45,-4"></polygon>
</g>
<!-- ar&#45;&gt;oar -->
<g id="edge3" class="edge">
<title>ar-&gt;oar</title>
<path fill="none" stroke="black" d="M428.84,-89.25C435.87,-89.85 444.05,-90.54 453.07,-91.31"></path>
<polygon fill="black" stroke="black" points="452.7,-94.79 462.96,-92.15 453.3,-87.82 452.7,-94.79"></polygon>
</g>
<!-- base -->
<g id="node3" class="node">
<title>base</title>
<ellipse fill="none" stroke="steelblue" cx="401.45" cy="-159" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="401.45" y="-154.8" font-family="Arial" font-size="14.00" fill="steelblue">base</text>
</g>
<!-- base&#45;&gt;oar -->
<g id="edge4" class="edge">
<title>base-&gt;oar:base</title>
<path fill="none" stroke="steelblue" d="M426.82,-148.76C440.81,-143.63 459.11,-138.15 477.06,-136.39"></path>
<polygon fill="steelblue" stroke="steelblue" points="477.13,-139.89 486.94,-135.88 476.77,-132.9 477.13,-139.89"></polygon>
</g>
<!-- oa&#45;&gt;ar -->
<g id="edge2" class="edge">
<title>oa-&gt;ar</title>
<path fill="none" stroke="none" d="M338.26,-87C346.92,-87 355.19,-87 362.7,-87"></path>
<polygon fill="none" stroke="none" points="362.69,-90.5 372.69,-87 362.69,-83.5 362.69,-90.5"></polygon>
</g>
</g>
</svg>
</p><p></p>
<p>Recuerda que, podemos considerar la parte de la instancia de <strong><code>ArticuloRebajado</code></strong> resaltada, es una instancia de <strong><code>Articulo</code></strong> que es donde se guardan las propiedades <strong><code>Id</code></strong>, <strong><code>Nombre</code></strong> y <strong><code>Precio</code></strong> y la parte de objeto que corresponde a un <strong><code>ArticuloRebajado</code></strong> guarda solo la propiedad <strong><code>PorcentajeRebaja</code></strong> más las otras propiedades calculadas.</p>
<h4 id="palabra-reservada-base">Palabra reservada <strong><code>base</code></strong> </h4>
<p>Vamos a ahondar un poco más en la palabra reservada <strong><code>base</code></strong> que hemos utilizado en el constructor de la subclase <strong><code>ArticuloRebajado</code></strong> y para acceder a las propiedades de la superclase <strong><code>Articulo</code></strong>.</p>
<p>Si nos fijamos en el constructor de <strong><code>ArticuloRebajado</code></strong> solo se encarga de <strong>inicializar y crear las propiedades específicos de la subclase</strong>, para crear los de la clase, hemos invocado a un constructor de la clase base, utilizando la palabra reservada <strong><code>:base(&lt;parámetrosBase&gt;)</code></strong> a continuación de la declaración del constructor de la subclase.</p>
<p>Si hay un <strong>constructor por defecto</strong> en la superclase <strong>no haría falta poner nada</strong>, puesto que automáticamente seria llamado al llamar al de la subclase.</p>
<p>Al igual que <strong><code>this</code></strong> era una referencia implícita al objeto de la propia clase, en las subclases tenemos la palabra reservada <strong><code>base</code></strong> que también es una referencia implícita a un objeto de la superclase, para la subclase actual como se apreciaba en el diagrama anterior.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Ya veremos más adelante que será imprescindible su uso en los casos en los que en la subclase y en la superclase tengamos un <strong>método con el mismo nombre</strong>.</p>
</div>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">Object-oriented never made it outside of Xerox PARC; only the term did.</div>
        <div class="autor">- Alan Kay.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<h3 id="ocultación-e-invalidación">Ocultación e Invalidación </h3>
<p>Si te has fijado, en <strong><code>Articulo</code></strong> hemos llamado a la propiedad <strong><code>Precio</code></strong> y en <strong><code>ArticuloRebajado</code></strong> hemos llamado a la propiedad <strong><code>PrecioRebajado</code></strong>.Esto lo hemos hecho para que no se solaparan los identificadores de las propiedades (<em>recuerda que la subclase puede ver las propiedades de la superclase</em>) y podríamos tener problemas de ambigüedad.</p>
<p>Sin embargo, en el fondo es una <strong>redundancia</strong>, porque si a un objeto <strong><code>ArticuloRebajado articuloRebajado;</code></strong> accedo a la propiedad <strong><code>articuloRebajado.Precio;</code></strong> ya se que estoy obteniendo el precio rebajado o debería estar obteniendo dicho precio.</p>
<p>Por tanto, si usamos nombres repetidos en ambas clases, <strong>tendríamos propiedades o métodos con identificadores idénticos</strong> y posiblemente recibamos algún tipo de aviso del compilador. Pero ...</p>
<ul>
<li><strong>¿Se puede hacer esto?</strong></li>
<li><strong>¿Cómo resolvemos la ambigüedad que se produce?</strong></li>
</ul>
<p>En la <strong>POO tradicional</strong> hay <strong>dos estrategias</strong> posibles:</p>
<ol>
<li><strong>Reemplazo</strong>: Se sustituye completamente la implementación del método o propiedad heredada manteniendo la signatura o tipo.<br>
Comúnmente se le conoce como <strong>Ocultación</strong> (<em>hiding</em>)</li>
<li><strong>Refinamiento</strong>: Se añade nueva funcionalidad al comportamiento heredado. <strong>Es la más común y también se le conoce como <mark>Invalidación</mark> (<em>overriding</em>)</strong></li>
</ol>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">The most fundamental problem in software development is complexity. There is only one basic way of dealing with complexity: divide and conquer.</div>
        <div class="autor">- Bjarne Stroustrup.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<h4 id="ocultación-o-reemplazo-en-csharp">Ocultación o reemplazo en CSharp </h4>
<p>Será la <strong>estrategia</strong> que aplica <strong>por defecto C#</strong>, aunque como hemos comentado, el compilador <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/compiler-messages/cs0108">nos avisará</a></strong> por si nos hemos '<em>despistado</em>' y realmente queríamos hacer otra cosa. Por ejemplo, VSCode generará el siguiente mensaje.</p>
<pre class="salida_consola">⚠️'ArticuloRebajado.Precio' oculta el miembro heredado 'Articulo.Precio'. 
Use la palabra clave new si su intención era ocultarlo. (CS0108)
</pre>
<p>Puesto que con el <strong>reemplazo</strong> lo que buscamos es definir una nueva funcionalidad para una operación heredada, antepondremos la palabra reservada <strong><code>new</code></strong> a la operación o método de la clase hija o subclase con la misma signatura que queremos ocultar en la clase base o superclase.</p>
<p>Supongamos la misma relación de herencia anterior donde ahora queremos hacer una ocultación de los métodos <strong><code>GetPrecio</code></strong> y <strong><code>ATexto</code></strong>.</p>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="188.1px" preserveAspectRatio="none" style="width:559px;height:188px;background:#FFFFFF;" version="1.1" viewBox="0 0 559 188" width="559.8px" zoomAndPan="magnify"><defs></defs><g><!--class ArticuloRebajado--><g class="entity" data-entity="ArticuloRebajado" data-source-line="10" data-uid="ent0002" id="entity_ArticuloRebajado"><rect fill="#FFFAFA" height="169.9875" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="541.3412" x="6.3" y="6.3"></rect><ellipse cx="225.1666" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M227.6556,16.9875 Q227.7962,16.7906 227.965,16.6922 Q228.1337,16.5938 228.3306,16.5938 Q228.6681,16.5938 228.8791,16.8328 Q229.09,17.0578 229.09,17.6063 L229.09,18.9141 Q229.09,19.4625 228.8791,19.7016 Q228.6681,19.9406 228.3306,19.9406 Q228.0212,19.9406 227.8384,19.7578 Q227.6556,19.5891 227.5572,19.125 Q227.515,18.8016 227.3462,18.6328 Q227.0509,18.2953 226.5025,18.0984 Q225.9541,17.9016 225.3916,17.9016 Q224.7025,17.9016 224.1259,18.1969 Q223.5634,18.4922 223.1134,19.1672 Q222.6775,19.8422 222.6775,20.7703 L222.6775,21.7547 Q222.6775,22.8656 223.4791,23.6109 Q224.2806,24.3422 225.715,24.3422 Q226.5587,24.3422 227.1494,24.1172 Q227.5009,23.9766 227.8806,23.5828 Q228.1197,23.3438 228.2462,23.2734 Q228.3869,23.2031 228.5697,23.2031 Q228.865,23.2031 229.09,23.4422 Q229.3291,23.6672 229.3291,23.9766 Q229.3291,24.2859 229.0197,24.6516 Q228.5697,25.1719 227.8525,25.4672 Q226.8822,25.875 225.715,25.875 Q224.3509,25.875 223.2681,25.3125 Q222.3822,24.8625 221.7634,23.9063 Q221.1447,22.9359 221.1447,21.7828 L221.1447,20.7422 Q221.1447,19.5469 221.6931,18.5203 Q222.2556,17.4797 223.24,16.9313 Q224.2244,16.3688 225.3353,16.3688 Q225.9962,16.3688 226.5728,16.5234 Q227.1634,16.6641 227.6556,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="95.9581" x="243.6166" y="25.8557">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="546.7412" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="148.4868" x="11.7" y="51.7799">-porcentajeRebaja : ushort</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="546.7412" y1="58.1484" y2="58.1484"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="530.5412" x="11.7" y="74.8283">+ArticuloRebajado(in id : int, in nombre : string, in precio : double, in porcentajeRebaja : ushort)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="181.7464" x="11.7" y="90.6768">+GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="322.8812" x="11.7" y="106.5252">-SetPorcentajeRebaja(in porcentajeRebaja : ushort) : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="144.9738" x="11.7" y="122.3736">-/GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="152.332" x="11.7" y="138.2221">+/GetPrecioBase() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="134.7671" x="11.7" y="154.0705">+ /GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="108.1521" x="11.7" y="169.9189">+ ATexto() : string</text></g><!--SRC=[VP3BJiCm44Nt_Wels_3SmYuf4c8N4IJMZZrAtJYUQ6nJ1EBVcSPHYKh12p_cdhbpvT1RFofIWzHEXL36IBPD4Puq-iP-WBmLuOYKHBZVe4EIbLEwNqWrFrK75HyTOV8cOwzR6w4Pi8S5kpbCgf0Cq7cp39nODHxtGWIj78UwlXDY2ioPejN9uJEqQgSCYayXULt94Kc3Zse7MPBtCeKjKXGJSF6hSsMzj8Onw-CbRzBZq19m8V2d-6wgZGJQ8jSCfjP1hlqrQJrFUeHOdp2hzK-UdBSv0_rhphStj6Pkl-4X3n1qOXWdzvnmZd2GwobxfGASwaMn91PgKHpryWNUP-Vy7wnzYMy0]--></g></svg></p><p></p>
<p>La implementación en C# quedaría como sigue...</p>
<div class="admonition tip">
<p class="admonition-title">Importante ✋</p>
<p>Dentro del ámbito o alcance de definición de <strong><code>ArticuloRebajado</code></strong>, <strong><code>base.Precio</code></strong> me devuelve el precio del original del artículo (sin descuento) y <strong><code>this.Precio</code></strong> o simplemente <strong><code>Precio</code></strong> me devuelve el precio rebajado (con descuento).</p>
</div>
<div style="page-break-after:always;"></div>
<p>La nueva implementación de <strong><code>ArticuloRebajado</code></strong> quedaría como sigue:</p>
<pre data-role="codeBlock" data-info="csharp { highlight=[4, 6, 19, 23, 24] }" class="language-csharp csharp" data-line="4,6,19,23,24"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-ushort">ushort</span></span> PorcentajeRebaja <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Descuento <span class="token operator">=&gt;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Precio <span class="token operator">*</span> PorcentajeRebaja <span class="token operator">/</span> <span class="token number">100d</span><span class="token punctuation">;</span>
    <span class="token comment">// Añado el modificador new para confirmar que quiero hacer una ocultación.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-new">new</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Precio <span class="token operator">-</span> Descuento<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> PrecioBase <span class="token operator">=&gt;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Precio<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">ArticuloRebajado</span><span class="token punctuation">(</span>
                        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> id<span class="token punctuation">,</span>
                        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span>
                        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">,</span>
                        <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> porcentajeRebaja<span class="token punctuation">)</span> 
                        <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> nombre<span class="token punctuation">,</span> precio<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        PorcentajeRebaja <span class="token operator">=</span> porcentajeRebaja<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Añado el modificador new para confirmar que quiero hacer una ocultación.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-new">new</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                        Id<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Id<span class="token punctuation">}</span>
                        Nombre<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Nombre<span class="token punctuation">}</span>
                        Rebaja<span class="token punctuation">:</span> <span class="token punctuation">{</span>PorcentajeRebaja<span class="token punctuation">}</span><span class="token operator">%</span>
                        Antes<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Precio<span class="token punctuation">:</span>F2<span class="token punctuation">}</span>€
                        Ahora<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>Precio<span class="token punctuation">:</span>F2<span class="token punctuation">}</span>€
                        <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">




<div aria-hidden="true" class="line-highlight" data-range="6" data-start="6">
</div></div><div class="line-highlight-wrapper">

















<div aria-hidden="true" class="line-highlight" data-range="19" data-start="19">
</div></div><div class="line-highlight-wrapper">





















<div aria-hidden="true" class="line-highlight" data-range="23" data-start="23">
</div></div><div class="line-highlight-wrapper">






















<div aria-hidden="true" class="line-highlight" data-range="24" data-start="24">
</div></div></pre><div class="admonition warning">
<p class="admonition-title">Cuidado</p>
<p>Si en lugar de ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-new">new</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Precio <span class="token operator">-</span> Descuento<span class="token punctuation">;</span>
</code></pre><p>no usáramos la palabra <strong><code>base</code></strong> por error ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-new">new</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> Precio <span class="token operator">-</span> Descuento<span class="token punctuation">;</span>
</code></pre><p>Estaríamos llamando a al <strong><code>get</code></strong> de <strong><code>Precio</code></strong> para calcular <strong><code>Precio</code></strong> y por tanto <strong>entraríamos en un bucle infinito</strong> que provocaría un <strong>desbordamiento de pila</strong> (<em>stack overflow</em>).</p>
</div>
<div style="page-break-after:always;"></div>
<h4 id="invalidación-o-refinamiento-en-csharp">Invalidación o refinamiento en CSharp </h4>
<p>Será <strong>la opción que tomaremos en el 99% de los casos</strong>, pues es más flexible que la ocultación y me permitirá realizar los <strong>enlaces dinámicos</strong> que veremos mas adelante.</p>
<p>En ella, normalmente haremos lo que hacía la clase padre, más nueva funcionalidad y para ello, <em>'<strong>marcaremos</strong>'</em> como métodos <em>'<strong>virtuales</strong>'</em> a los métodos <strong>'<em>invalidables</em>' en la superclase</strong> que sean <strong>públicos</strong> o <strong>protegidos</strong>.  Para ello utilizaremos la <strong>palabra reservada <code>virtual</code> precediendo a la declaración del método invalidable</strong> y la <strong>palabra <code>override</code> precediendo la declaración de un método en la subclase que invalida a uno invalidable</strong> o virtual en la superclase.</p>
<blockquote>
<p>✋ <strong>Importante</strong>: A diferencia de la ocultación, ambos <strong>métodos deberán tener la misma accesibilidad</strong>.</p>
</blockquote>
<p>Para representar lo que queremos hacer. En <em>'nuestros'</em> <strong>diagramas de clases UML</strong>...</p>
<p>Pondremos el modificador <strong><code>{virtual}</code></strong> al final nombre del método invalidable. También, marcaremos en <strong>'<em>cursiva</em>'</strong> aquellos métodos virtuales o virtuales puros (que trataremos más adelante) ya que aunque dejó de usarse a partir de la versión 2.5 de UML, sigue siendo una notación ampliamente usada.</p>
<p>Aquellos métodos que <strong>invaliden</strong> un método en su superclase los marcaremos con el carácter <strong><code>^</code></strong> precediendo al nombre del método, para tenerlo claro. Si no ponemos nada, supondremos por convenio que estamos haciendo una ocultación.</p>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="397.6px" preserveAspectRatio="none" style="width:492px;height:397px;background:#FFFFFF;" version="1.1" viewBox="0 0 492 397" width="492px" zoomAndPan="magnify"><defs></defs><g><!--class Articulo--><g class="entity" data-entity="Articulo" data-source-line="10" data-uid="ent0002" id="entity_Articulo"><rect fill="#FFFAFA" height="187.8375" rx="2" ry="2" style="stroke:#000000;stroke-width:0.4;" width="286.9313" x="102.4" y="5.6"></rect><ellipse cx="223.7926" cy="22.6813" fill="#ADD1B2" rx="8.8" ry="8.8" style="stroke:#181818;stroke-width:0.8;"></ellipse><path d="M226.0051,19.3813 Q226.1301,19.2063 226.2801,19.1188 Q226.4301,19.0313 226.6051,19.0313 Q226.9051,19.0313 227.0926,19.2438 Q227.2801,19.4438 227.2801,19.9313 L227.2801,21.0938 Q227.2801,21.5813 227.0926,21.7938 Q226.9051,22.0063 226.6051,22.0063 Q226.3301,22.0063 226.1676,21.8438 Q226.0051,21.6938 225.9176,21.2813 Q225.8801,20.9938 225.7301,20.8438 Q225.4676,20.5438 224.9801,20.3688 Q224.4926,20.1938 223.9926,20.1938 Q223.3801,20.1938 222.8676,20.4563 Q222.3676,20.7188 221.9676,21.3188 Q221.5801,21.9188 221.5801,22.7438 L221.5801,23.6188 Q221.5801,24.6063 222.2926,25.2688 Q223.0051,25.9188 224.2801,25.9188 Q225.0301,25.9188 225.5551,25.7188 Q225.8676,25.5938 226.2051,25.2438 Q226.4176,25.0313 226.5301,24.9688 Q226.6551,24.9063 226.8176,24.9063 Q227.0801,24.9063 227.2801,25.1188 Q227.4926,25.3188 227.4926,25.5938 Q227.4926,25.8688 227.2176,26.1938 Q226.8176,26.6563 226.1801,26.9188 Q225.3176,27.2813 224.2801,27.2813 Q223.0676,27.2813 222.1051,26.7813 Q221.3176,26.3813 220.7676,25.5313 Q220.2176,24.6688 220.2176,23.6438 L220.2176,22.7188 Q220.2176,21.6563 220.7051,20.7438 Q221.2051,19.8188 222.0801,19.3313 Q222.9551,18.8313 223.9426,18.8313 Q224.5301,18.8313 225.0426,18.9688 Q225.5676,19.0938 226.0051,19.3813 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.6" font-style="italic" lengthAdjust="spacing" textLength="33.6234" x="242.0539" y="19.5656">«entity»</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="37.3461" x="240.1926" y="33.3016">Articulo</text><line style="stroke:#000000;stroke-width:0.4;" x1="103.2" x2="388.5313" y1="39.7625" y2="39.7625"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="52.9211" x="107.2" y="54.5891">-id : int {id}</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="77.2023" x="107.2" y="68.6766">-precio : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="78.4273" x="107.2" y="82.7641">-nombre : string</text><line style="stroke:#000000;stroke-width:0.4;" x1="103.2" x2="388.5313" y1="88.425" y2="88.425"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="277.3313" x="107.2" y="103.2516">+Articulo(in id : int, in nombre : string, in precio : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="78.1156" x="107.2" y="117.3391">+GetId() : string</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="108.2977" x="107.2" y="131.4266">#GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="184.2422" x="107.2" y="145.5141">-SetNombre(in nombre : string) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="168.3445" x="107.2" y="159.6016">+ GetPrecio() : double { virtual }</text><text fill="#000000" font-family="sans-serif" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="243.9445" x="107.2" y="173.6891">- SetPrecio(in precio : double) : void { virtual }</text><text fill="#000000" font-family="sans-serif" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="147.7984" x="107.2" y="187.7766">+ ATexto() : string { virtual }</text></g><!--class ArticuloRebajado--><g class="entity" data-entity="ArticuloRebajado" data-source-line="25" data-uid="ent0003" id="entity_ArticuloRebajado"><rect fill="#FFFAFA" height="151.1" rx="2" ry="2" style="stroke:#000000;stroke-width:0.4;" width="481.1922" x="5.6" y="241.6"></rect><ellipse cx="200.148" cy="254.4" fill="#ADD1B2" rx="8.8" ry="8.8" style="stroke:#181818;stroke-width:0.8;"></ellipse><path d="M202.3605,251.1 Q202.4855,250.925 202.6355,250.8375 Q202.7855,250.75 202.9605,250.75 Q203.2605,250.75 203.448,250.9625 Q203.6355,251.1625 203.6355,251.65 L203.6355,252.8125 Q203.6355,253.3 203.448,253.5125 Q203.2605,253.725 202.9605,253.725 Q202.6855,253.725 202.523,253.5625 Q202.3605,253.4125 202.273,253 Q202.2355,252.7125 202.0855,252.5625 Q201.823,252.2625 201.3355,252.0875 Q200.848,251.9125 200.348,251.9125 Q199.7355,251.9125 199.223,252.175 Q198.723,252.4375 198.323,253.0375 Q197.9355,253.6375 197.9355,254.4625 L197.9355,255.3375 Q197.9355,256.325 198.648,256.9875 Q199.3605,257.6375 200.6355,257.6375 Q201.3855,257.6375 201.9105,257.4375 Q202.223,257.3125 202.5605,256.9625 Q202.773,256.75 202.8855,256.6875 Q203.0105,256.625 203.173,256.625 Q203.4355,256.625 203.6355,256.8375 Q203.848,257.0375 203.848,257.3125 Q203.848,257.5875 203.573,257.9125 Q203.173,258.375 202.5355,258.6375 Q201.673,259 200.6355,259 Q199.423,259 198.4605,258.5 Q197.673,258.1 197.123,257.25 Q196.573,256.3875 196.573,255.3625 L196.573,254.4375 Q196.573,253.375 197.0605,252.4625 Q197.5605,251.5375 198.4355,251.05 Q199.3105,250.55 200.298,250.55 Q200.8855,250.55 201.398,250.6875 Q201.923,250.8125 202.3605,251.1 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="85.2961" x="216.548" y="258.9828">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.4;" x1="6.4" x2="485.9922" y1="267.2" y2="267.2"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="131.9883" x="10.4" y="282.0266">-porcentajeRebaja : ushort</text><line style="stroke:#000000;stroke-width:0.4;" x1="6.4" x2="485.9922" y1="287.6875" y2="287.6875"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="471.5922" x="10.4" y="302.5141">+ArticuloRebajado(in id : int, in nombre : string, in precio : double, in porcentajeRebaja : ushort)</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="161.5523" x="10.4" y="316.6016">+GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="287.0055" x="10.4" y="330.6891">-SetPorcentajeRebaja(in porcentajeRebaja : ushort) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="128.8656" x="10.4" y="344.7766">-/GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="135.4063" x="10.4" y="358.8641">+/GetPrecioBase() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="126.3336" x="10.4" y="372.9516">+ ^/GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="102.6758" x="10.4" y="387.0391">+ ^ATexto() : string</text></g><!--reverse link Articulo to ArticuloRebajado--><g class="link" data-entity-1="Articulo" data-entity-2="ArticuloRebajado" data-source-line="38" data-uid="lnk4" id="link_Articulo_ArticuloRebajado"><path codeline="38" d="M246,208.288 C246,224.136 246,226.008 246,241.304" fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:0.8;"></path><polygon fill="none" points="246,193.888,241.2,208.288,250.8,208.288,246,193.888" style="stroke:#000000;stroke-width:0.8;"></polygon></g><!--SRC=[dPF1IyCm5CRl-Ii2NhPgdKUHCLWdo2uohE1ja3MFBLkNDv9qKyV-TzCqnf9M3_RGqkzz-RtNzr6z4_B05DlJecHQJurHObKPc1SeS_49z8xeO9agXQSPbgXeLh9Yroejx2jRGsOVQuMLv8tjRICCv7lSGSixgpjbg3YeVbXZY52vn1CXkc2b7UhsdX0ti9t9YA8gaOx788qm7vC9EHDghvGAJX-ea8QU1RzuxQ2W46XrZjMg1AzAtAyKM5NRxvThukJh01y86M0tzXRxdHQHXvxn16RE1yCVTYrVrVApWyIbbEQXrErKcuyekBCcYSClN6F7QLhJCpqAPIfMqakIUAlZUclFj9xRUzGkuXNU3RP6ZNoNE8uNMB4junYoEA0gR41i2qt9aYgzGMNYNN-V_C_E6-stJgr45f77VPcV9uJGCVq9RmUJqf5jyWYwgAov7OqVOHHYovY6k5vlV3dgIxOLoRAJIPD3-26MQTgDumi0]--></g></svg></p><p></p>
<p>La implementación en C# quedaría como sigue...</p>
<p>Modifico los métodos cómo invalidables con <strong><code>virtual</code></strong> en <strong><code>Articulo</code></strong> y los hago <strong>public</strong> el <strong><code>get</code></strong> como va a ser en las subclases. Recordemos que deben tener la misma accesibilidad.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido para abreviar.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                Id<span class="token punctuation">:</span> <span class="token punctuation">{</span>Id<span class="token punctuation">}</span>
                Nombre<span class="token punctuation">:</span> <span class="token punctuation">{</span>Nombre<span class="token punctuation">}</span>
                Precio<span class="token punctuation">:</span> <span class="token punctuation">{</span>Precio<span class="token punctuation">:</span>F2<span class="token punctuation">}</span>€
                <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>        
</code></pre><p>Invalido el método con la misma signatura en la subclase con el modificador <strong><code>override</code></strong></p>
<div class="admonition tip">
<p class="admonition-title">Idea</p>
<p>Si escribo <strong><code>public override</code></strong> <em><code>Ctrl + &lt;espacio&gt;</code></em> el '<em>intellisense</em>' me ofrecerá permitirá escoger entre los métodos invalidables.<br>
Si refactorizamos sobre el nombre de la clase con <em><code>Ctrl + .</code></em> una de ellas será '<em>Generar invalidaciones...</em>'</p>
</div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido para abreviar.</span>

    <span class="token comment">// Añado el modificador override para indicar que estoy invalidando la propiedad Precio.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Precio <span class="token operator">-</span> Descuento<span class="token punctuation">;</span>

    <span class="token comment">// Añado el modificador override para indicar que estoy invalidando la el método ATexto().</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                        Id<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Id<span class="token punctuation">}</span>
                        Nombre<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Nombre<span class="token punctuation">}</span>
                        Rebaja<span class="token punctuation">:</span> <span class="token punctuation">{</span>PorcentajeRebaja<span class="token punctuation">}</span><span class="token operator">%</span>
                        Antes<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Precio<span class="token punctuation">:</span>F2<span class="token punctuation">}</span>€
                        Ahora<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>Precio<span class="token punctuation">:</span>F2<span class="token punctuation">}</span>€
                        <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Si no has sabido seguir las modificaciones propuestas, puedes descargar el código del ejemplo anterior del siguiente enlace: <strong><a href="assets/ejemplos/herencia_articulo_invalidacion_ejemplo.cs">herencia_articulo_invalidacion.cs</a></strong></p>
<div style="page-break-after:always;"></div>
<h4 id="combinando-invalidación-y-ocultación">Combinando Invalidación y Ocultación </h4>
<p>Lo normal es que en el momento que modifiquemos algún método en la jerarquía con <strong><code>virtual</code></strong> (invalidable), los métodos con la misma signatura en las subclases se modificarán con <strong><code>override</code></strong>.</p>
<p>Sin embargo, podemos hacer diseños más complejos como el del ejemplo siguiente donde volvemos a ocultar como sucede en la clase <strong><code>E</code></strong>. <strong>Deberemos evitar diseños complejos</strong>.</p>
<div class="row">
<div class="col-sm-4 my-auto">
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="488.7px" preserveAspectRatio="none" style="width:160px;height:488px;background:#FFFFFF;" version="1.1" viewBox="0 0 160 488" width="160.2px" zoomAndPan="magnify"><defs></defs><g><!--class A--><g class="entity" data-entity="A" data-source-line="12" data-uid="ent0002" id="entity_A"><rect fill="#FFFAFA" height="51.8484" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="102.1931" x="28.8" y="6.3"></rect><ellipse cx="71.8695" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M74.3585,16.9875 Q74.4992,16.7906 74.6679,16.6922 Q74.8367,16.5938 75.0335,16.5938 Q75.371,16.5938 75.582,16.8328 Q75.7929,17.0578 75.7929,17.6063 L75.7929,18.9141 Q75.7929,19.4625 75.582,19.7016 Q75.371,19.9406 75.0335,19.9406 Q74.7242,19.9406 74.5414,19.7578 Q74.3585,19.5891 74.2601,19.125 Q74.2179,18.8016 74.0492,18.6328 Q73.7539,18.2953 73.2054,18.0984 Q72.657,17.9016 72.0945,17.9016 Q71.4054,17.9016 70.8289,18.1969 Q70.2664,18.4922 69.8164,19.1672 Q69.3804,19.8422 69.3804,20.7703 L69.3804,21.7547 Q69.3804,22.8656 70.182,23.6109 Q70.9835,24.3422 72.4179,24.3422 Q73.2617,24.3422 73.8523,24.1172 Q74.2039,23.9766 74.5835,23.5828 Q74.8226,23.3438 74.9492,23.2734 Q75.0898,23.2031 75.2726,23.2031 Q75.5679,23.2031 75.7929,23.4422 Q76.032,23.6672 76.032,23.9766 Q76.032,24.2859 75.7226,24.6516 Q75.2726,25.1719 74.5554,25.4672 Q73.5851,25.875 72.4179,25.875 Q71.0539,25.875 69.971,25.3125 Q69.0851,24.8625 68.4664,23.9063 Q67.8476,22.9359 67.8476,21.7828 L67.8476,20.7422 Q67.8476,19.5469 68.396,18.5203 Q68.9585,17.4797 69.9429,16.9313 Q70.9273,16.3688 72.0382,16.3688 Q72.6992,16.3688 73.2757,16.5234 Q73.8664,16.6641 74.3585,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="8.4041" x="90.3195" y="25.8557">A</text><line style="stroke:#000000;stroke-width:0.45;" x1="29.7" x2="130.0931" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="91.3931" x="34.2" y="51.7799">+Metodo() : void</text></g><!--class B--><g class="entity" data-entity="B" data-source-line="16" data-uid="ent0003" id="entity_B"><rect fill="#FFFAFA" height="51.8484" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="147.7204" x="6.3" y="112.5"></rect><ellipse cx="72.1332" cy="126.9" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M74.6222,123.1875 Q74.7628,122.9906 74.9316,122.8922 Q75.1003,122.7938 75.2972,122.7938 Q75.6347,122.7938 75.8457,123.0328 Q76.0566,123.2578 76.0566,123.8063 L76.0566,125.1141 Q76.0566,125.6625 75.8457,125.9016 Q75.6347,126.1406 75.2972,126.1406 Q74.9878,126.1406 74.805,125.9578 Q74.6222,125.7891 74.5238,125.325 Q74.4816,125.0016 74.3128,124.8328 Q74.0175,124.4953 73.4691,124.2984 Q72.9207,124.1016 72.3582,124.1016 Q71.6691,124.1016 71.0925,124.3969 Q70.53,124.6922 70.08,125.3672 Q69.6441,126.0422 69.6441,126.9703 L69.6441,127.9547 Q69.6441,129.0656 70.4457,129.8109 Q71.2472,130.5422 72.6816,130.5422 Q73.5253,130.5422 74.116,130.3172 Q74.4675,130.1766 74.8472,129.7828 Q75.0863,129.5438 75.2128,129.4734 Q75.3535,129.4031 75.5363,129.4031 Q75.8316,129.4031 76.0566,129.6422 Q76.2957,129.8672 76.2957,130.1766 Q76.2957,130.4859 75.9863,130.8516 Q75.5363,131.3719 74.8191,131.6672 Q73.8488,132.075 72.6816,132.075 Q71.3175,132.075 70.2347,131.5125 Q69.3488,131.0625 68.73,130.1063 Q68.1113,129.1359 68.1113,127.9828 L68.1113,126.9422 Q68.1113,125.7469 68.6597,124.7203 Q69.2222,123.6797 70.2066,123.1313 Q71.191,122.5688 72.3019,122.5688 Q72.9628,122.5688 73.5394,122.7234 Q74.13,122.8641 74.6222,123.1875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="8.4041" x="90.5832" y="132.0557">B</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="153.1204" y1="141.3" y2="141.3"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="136.9204" x="11.7" y="157.9799">+Metodo() : void {virtual}</text></g><!--class C--><g class="entity" data-entity="C" data-source-line="20" data-uid="ent0004" id="entity_C"><rect fill="#FFFAFA" height="51.8484" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="111.6062" x="24.3" y="218.7"></rect><ellipse cx="71.7284" cy="233.1" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M74.2175,229.3875 Q74.3581,229.1906 74.5269,229.0922 Q74.6956,228.9938 74.8925,228.9938 Q75.23,228.9938 75.4409,229.2328 Q75.6519,229.4578 75.6519,230.0063 L75.6519,231.3141 Q75.6519,231.8625 75.4409,232.1016 Q75.23,232.3406 74.8925,232.3406 Q74.5831,232.3406 74.4003,232.1578 Q74.2175,231.9891 74.119,231.525 Q74.0769,231.2016 73.9081,231.0328 Q73.6128,230.6953 73.0644,230.4984 Q72.5159,230.3016 71.9534,230.3016 Q71.2644,230.3016 70.6878,230.5969 Q70.1253,230.8922 69.6753,231.5672 Q69.2394,232.2422 69.2394,233.1703 L69.2394,234.1547 Q69.2394,235.2656 70.0409,236.0109 Q70.8425,236.7422 72.2769,236.7422 Q73.1206,236.7422 73.7112,236.5172 Q74.0628,236.3766 74.4425,235.9828 Q74.6815,235.7438 74.8081,235.6734 Q74.9487,235.6031 75.1315,235.6031 Q75.4269,235.6031 75.6519,235.8422 Q75.8909,236.0672 75.8909,236.3766 Q75.8909,236.6859 75.5815,237.0516 Q75.1315,237.5719 74.4144,237.8672 Q73.444,238.275 72.2769,238.275 Q70.9128,238.275 69.83,237.7125 Q68.944,237.2625 68.3253,236.3063 Q67.7065,235.3359 67.7065,234.1828 L67.7065,233.1422 Q67.7065,231.9469 68.255,230.9203 Q68.8175,229.8797 69.8019,229.3313 Q70.7862,228.7688 71.8972,228.7688 Q72.5581,228.7688 73.1347,228.9234 Q73.7253,229.0641 74.2175,229.3875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="9.0993" x="90.1784" y="238.2557">C</text><line style="stroke:#000000;stroke-width:0.45;" x1="25.2" x2="135.0062" y1="247.5" y2="247.5"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="100.8062" x="29.7" y="264.1799">^+ Metodo() : void</text></g><!--class D--><g class="entity" data-entity="D" data-source-line="24" data-uid="ent0005" id="entity_D"><rect fill="#FFFAFA" height="51.8484" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="111.6062" x="24.3" y="324.9"></rect><ellipse cx="71.7284" cy="339.3" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M74.2175,335.5875 Q74.3581,335.3906 74.5269,335.2922 Q74.6956,335.1938 74.8925,335.1938 Q75.23,335.1938 75.4409,335.4328 Q75.6519,335.6578 75.6519,336.2063 L75.6519,337.5141 Q75.6519,338.0625 75.4409,338.3016 Q75.23,338.5406 74.8925,338.5406 Q74.5831,338.5406 74.4003,338.3578 Q74.2175,338.1891 74.119,337.725 Q74.0769,337.4016 73.9081,337.2328 Q73.6128,336.8953 73.0644,336.6984 Q72.5159,336.5016 71.9534,336.5016 Q71.2644,336.5016 70.6878,336.7969 Q70.1253,337.0922 69.6753,337.7672 Q69.2394,338.4422 69.2394,339.3703 L69.2394,340.3547 Q69.2394,341.4656 70.0409,342.2109 Q70.8425,342.9422 72.2769,342.9422 Q73.1206,342.9422 73.7112,342.7172 Q74.0628,342.5766 74.4425,342.1828 Q74.6815,341.9438 74.8081,341.8734 Q74.9487,341.8031 75.1315,341.8031 Q75.4269,341.8031 75.6519,342.0422 Q75.8909,342.2672 75.8909,342.5766 Q75.8909,342.8859 75.5815,343.2516 Q75.1315,343.7719 74.4144,344.0672 Q73.444,344.475 72.2769,344.475 Q70.9128,344.475 69.83,343.9125 Q68.944,343.4625 68.3253,342.5063 Q67.7065,341.5359 67.7065,340.3828 L67.7065,339.3422 Q67.7065,338.1469 68.255,337.1203 Q68.8175,336.0797 69.8019,335.5313 Q70.7862,334.9688 71.8972,334.9688 Q72.5581,334.9688 73.1347,335.1234 Q73.7253,335.2641 74.2175,335.5875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="9.0993" x="90.1784" y="344.4557">D</text><line style="stroke:#000000;stroke-width:0.45;" x1="25.2" x2="135.0062" y1="353.7" y2="353.7"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="100.8062" x="29.7" y="370.3799">^+ Metodo() : void</text></g><!--class E--><g class="entity" data-entity="E" data-source-line="28" data-uid="ent0006" id="entity_E"><rect fill="#FFFAFA" height="51.8484" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="102.1931" x="28.8" y="431.1"></rect><ellipse cx="71.8695" cy="445.5" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M74.3585,441.7875 Q74.4992,441.5906 74.6679,441.4922 Q74.8367,441.3938 75.0335,441.3938 Q75.371,441.3938 75.582,441.6328 Q75.7929,441.8578 75.7929,442.4063 L75.7929,443.7141 Q75.7929,444.2625 75.582,444.5016 Q75.371,444.7406 75.0335,444.7406 Q74.7242,444.7406 74.5414,444.5578 Q74.3585,444.3891 74.2601,443.925 Q74.2179,443.6016 74.0492,443.4328 Q73.7539,443.0953 73.2054,442.8984 Q72.657,442.7016 72.0945,442.7016 Q71.4054,442.7016 70.8289,442.9969 Q70.2664,443.2922 69.8164,443.9672 Q69.3804,444.6422 69.3804,445.5703 L69.3804,446.5547 Q69.3804,447.6656 70.182,448.4109 Q70.9835,449.1422 72.4179,449.1422 Q73.2617,449.1422 73.8523,448.9172 Q74.2039,448.7766 74.5835,448.3828 Q74.8226,448.1438 74.9492,448.0734 Q75.0898,448.0031 75.2726,448.0031 Q75.5679,448.0031 75.7929,448.2422 Q76.032,448.4672 76.032,448.7766 Q76.032,449.0859 75.7226,449.4516 Q75.2726,449.9719 74.5554,450.2672 Q73.5851,450.675 72.4179,450.675 Q71.0539,450.675 69.971,450.1125 Q69.0851,449.6625 68.4664,448.7063 Q67.8476,447.7359 67.8476,446.5828 L67.8476,445.5422 Q67.8476,444.3469 68.396,443.3203 Q68.9585,442.2797 69.9429,441.7313 Q70.9273,441.1688 72.0382,441.1688 Q72.6992,441.1688 73.2757,441.3234 Q73.8664,441.4641 74.3585,441.7875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="8.4041" x="90.3195" y="450.6557">E</text><line style="stroke:#000000;stroke-width:0.45;" x1="29.7" x2="130.0931" y1="459.9" y2="459.9"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="91.3931" x="34.2" y="476.5799">+Metodo() : void</text></g><!--reverse link A to B--><g class="link" data-entity-1="A" data-entity-2="B" data-source-line="33" data-uid="lnk7" id="link_A_B"><path codeline="33" d="M80.1,74.772 C80.1,91.062 80.1,95.976 80.1,112.302" fill="none" id="A-backto-B" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="80.1,58.572,74.7,74.772,85.5,74.772,80.1,58.572" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link B to C--><g class="link" data-entity-1="B" data-entity-2="C" data-source-line="34" data-uid="lnk8" id="link_B_C"><path codeline="34" d="M80.1,180.972 C80.1,197.262 80.1,202.176 80.1,218.502" fill="none" id="B-backto-C" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="80.1,164.772,74.7,180.972,85.5,180.972,80.1,164.772" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link C to D--><g class="link" data-entity-1="C" data-entity-2="D" data-source-line="35" data-uid="lnk9" id="link_C_D"><path codeline="35" d="M80.1,287.172 C80.1,303.462 80.1,308.376 80.1,324.702" fill="none" id="C-backto-D" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="80.1,270.972,74.7,287.172,85.5,287.172,80.1,270.972" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link D to E--><g class="link" data-entity-1="D" data-entity-2="E" data-source-line="36" data-uid="lnk10" id="link_D_E"><path codeline="36" d="M80.1,393.372 C80.1,409.662 80.1,414.576 80.1,430.902" fill="none" id="D-backto-E" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="80.1,377.172,74.7,393.372,85.5,393.372,80.1,377.172" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--SRC=[XOzFQyCm3CNl-XGwRfIENTTRxFJGms2Gmsu5nnQjYHqLsMdPGhvxapQKih-wF8H-UdfAZMyFHan46qnAHSxYwoxJnd9R-K_2PqWtf13Xa-R0WYeOszoDtiRMx4YDiXFkMdV5tlS-KnMveJjMJvSKYoFvsUmAVB6gMZu196l26Ehf1M3l7I75G_x0IB4cIG2N9x207d2i1RvIPiSFZxZ28ti7mqoecUXDdR8OcuVlCFP7BxapORYjwNbj-xjp-J-o_YCU5BXTBXMeIJJeIKee9rd36G00]--></g></svg></p><p></p>
</div>
<div class="col-sm-8 my-auto">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">A</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">A</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Oculta el de A y lo marco como virtual o invalidable.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">C</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">B</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Invalido Metodo() en B</span>
    <span class="token punctuation">{</span> 
        <span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Llamada a la implementación de B </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">D</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">C</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Invalido Metodo() en B y C</span>
    <span class="token punctuation">{</span> 
        <span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Llamada a la implementación de C</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">E</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">D</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Corto la secuencia de invalidaciones ocultando el método.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-new">new</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span> 
        <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
</div>
<div style="page-break-after:always;"></div>
<div class="box_bg_lightgray">
<p>🚀 <strong>Ampliación opcional:</strong></p>
<p>¿Serías capaz de reconoces los elementos y equivalencias de de nuestra relación de herencia entre <strong><code>Articulo</code></strong> y <strong><code>ArticuloRebajado</code></strong> en C# en otros lenguajes cómo <strong>JavaScript</strong> o <strong>Kotlin</strong>?</p>
<p><strong>JavaScript:</strong></p>
<div class="row">
<div class="col-sm-5">
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span> <span class="token punctuation">{</span>
    #nombre<span class="token punctuation">;</span>
    #precio<span class="token punctuation">;</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> nombre<span class="token punctuation">,</span> precio</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">id</span> <span class="token operator">=</span> id<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">#nombre</span> <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">#precio</span> <span class="token operator">=</span> precio<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-get">get</span> <span class="token function">precio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">#precio</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>  
    <span class="token keyword keyword-get">get</span> <span class="token function">nombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">#nombre</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">aTexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow keyword-return">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        Id: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
        Nombre: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">#nombre</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
        Precio: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">precio</span><span class="token punctuation">.</span><span class="token method function property-access">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">€
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">.</span><span class="token method function property-access">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-7">
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token keyword keyword-extends">extends</span> <span class="token class-name">Articulo</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> nombre<span class="token punctuation">,</span> precio<span class="token punctuation">,</span> porcentajeRebaja</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-super">super</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> nombre<span class="token punctuation">,</span> precio<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">porcentajeRebaja</span> <span class="token operator">=</span> porcentajeRebaja<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">precioBase</span> <span class="token operator">=</span> <span class="token keyword keyword-super">super</span><span class="token punctuation">.</span><span class="token property-access">precio</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-get">get</span> <span class="token function">#descuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">precioBase</span> 
               <span class="token operator">*</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">porcentajeRebaja</span> 
               <span class="token operator">/</span> <span class="token number">100.0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-get">get</span> <span class="token function">precio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">precioBase</span> <span class="token operator">-</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">#descuento</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">aTexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow keyword-return">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        Id: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
        Nombre: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">nombre</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
        Rebaja: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">porcentajeRebaja</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">%
        Antes: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">precioBase</span><span class="token punctuation">.</span><span class="token method function property-access">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">€
        Ahora: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">precio</span><span class="token punctuation">.</span><span class="token method function property-access">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">€
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">.</span><span class="token method function property-access">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
</div>
<p>Fíjate que en <strong>JavaScript</strong> usa la palabra clave <strong><code>extends</code></strong> para indicar que una clase hereda de otra y que los métodos y propiedades de la superclase se pueden llamar con <strong><code>super</code></strong> en lugar de <strong><code>base</code></strong> como en C#. Esto viene del lenguaje <strong>Java</strong>. Además no disponemos de las palabras reservadas <strong><code>virtual</code></strong> y <strong><code>override</code></strong> por lo que las características orientadas a objetos son más limitadas.</p>
<div style="page-break-after:always;"></div>
<p><strong>Kotlin:</strong></p>
<div class="row">
<div class="col-sm-5">
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token keyword keyword-open">open</span> <span class="token keyword keyword-class">class</span> <span class="token function">Articulo</span><span class="token punctuation">(</span>
    <span class="token keyword keyword-val">val</span> id<span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token keyword keyword-protected">protected</span> <span class="token keyword keyword-var">var</span> nombre<span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token keyword keyword-open">open</span> <span class="token keyword keyword-var">var</span> precio<span class="token operator">:</span> Double
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-open">open</span> <span class="token keyword keyword-fun">fun</span> <span class="token function">aTexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token string-literal multiline"><span class="token string">"""
            Id: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">id</span></span><span class="token string">
            Nombre: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">nombre</span></span><span class="token string">
            Precio: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression"><span class="token string-literal singleline"><span class="token string">"%.2f"</span></span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>precio<span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">€
        """</span></span><span class="token punctuation">.</span><span class="token function">trimIndent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-7">
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token keyword keyword-class">class</span> <span class="token function">ArticuloRebajado</span><span class="token punctuation">(</span>
    id<span class="token operator">:</span> String<span class="token punctuation">,</span>
    nombre<span class="token operator">:</span> String<span class="token punctuation">,</span>
    precioBase<span class="token operator">:</span> Double<span class="token punctuation">,</span>
    <span class="token keyword keyword-var">var</span> porcentajeRebaja<span class="token operator">:</span> UShort
<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Articulo</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> nombre<span class="token punctuation">,</span> precioBase<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-val">val</span> descuento<span class="token operator">:</span> Double
        <span class="token keyword keyword-get">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword keyword-super">super</span><span class="token punctuation">.</span>precio
                <span class="token operator">*</span> porcentajeRebaja<span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
                <span class="token operator">/</span> <span class="token number">100.0</span>
    <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-var">var</span> precio<span class="token operator">:</span> Double
        <span class="token keyword keyword-get">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword keyword-super">super</span><span class="token punctuation">.</span>precio <span class="token operator">-</span> descuento
        <span class="token keyword keyword-set">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-super">super</span><span class="token punctuation">.</span>precio <span class="token operator">=</span> value
        <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> precioBase<span class="token operator">:</span> Double
        <span class="token keyword keyword-get">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword keyword-super">super</span><span class="token punctuation">.</span>precio

    <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-fun">fun</span> <span class="token function">aTexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token string-literal multiline"><span class="token string">"""
            Id: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">id</span></span><span class="token string">
            Nombre: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">nombre</span></span><span class="token string">
            Rebaja: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">porcentajeRebaja</span></span><span class="token string">%
            Antes: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression"><span class="token string-literal singleline"><span class="token string">"%.2f"</span></span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>precioBase<span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">€
            Ahora: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression"><span class="token string-literal singleline"><span class="token string">"%.2f"</span></span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>precio<span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">€
        """</span></span><span class="token punctuation">.</span><span class="token function">trimIndent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
</div>
<p>En Kolin, la forma de indicar la herencia es con la palabra clave <strong><code>:</code></strong> como en C# y para indicar que un método es <strong>invalidable</strong> usamos la palabra clave <strong><code>open</code></strong>, sin embargo, para indicar que un método <strong>invalidado</strong> en la subclase, usamos la palabra clave <strong><code>override</code></strong> como en C#. Además, para acceder a los métodos y propiedades de la superclase usamos la palabra clave <strong><code>super</code></strong> como en JavaScript.</p>
</div>
<div style="page-break-after:always;"></div>
<div class="box_bg_lightgray">
<p><strong>Ejemplo:</strong></p>
<p>Vamos a definir otra concreción más de la clase <strong><code>Articulo</code></strong>. En este caso, va a representar artículos reacondicionados, de los que vamos a añadir una <strong>fecha de reacondicionamiento</strong>, la <strong>empresa</strong> que lo realiza y una <strong>descripción</strong> del trabajo realizado.</p>
<ul>
<li>Solo vamos a invalidar el método <strong><code>string ATexto()</code></strong>.</li>
<li>Instancia un objeto de la nueva clase.</li>
</ul>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="158px" preserveAspectRatio="none" style="width:374px;height:158px;" version="1.1" viewBox="0 0 374 158" width="374px" zoomAndPan="magnify"><defs></defs><g><!--class ArticuloReacondicionado--><g class="entity" data-entity="ArticuloReacondicionado" data-source-line="12" data-uid="ent0002" id="entity_ArticuloReacondicionado"><rect fill="#FFDEAD" height="32" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="186.875" x="7" y="119"></rect><ellipse cx="22" cy="135" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M24.7656,130.875 Q24.9219,130.6563 25.1094,130.5469 Q25.2969,130.4375 25.5156,130.4375 Q25.8906,130.4375 26.125,130.7031 Q26.3594,130.9531 26.3594,131.5625 L26.3594,133.0156 Q26.3594,133.625 26.125,133.8906 Q25.8906,134.1563 25.5156,134.1563 Q25.1719,134.1563 24.9688,133.9531 Q24.7656,133.7656 24.6563,133.25 Q24.6094,132.8906 24.4219,132.7031 Q24.0938,132.3281 23.4844,132.1094 Q22.875,131.8906 22.25,131.8906 Q21.4844,131.8906 20.8438,132.2188 Q20.2188,132.5469 19.7188,133.2969 Q19.2344,134.0469 19.2344,135.0781 L19.2344,136.1719 Q19.2344,137.4063 20.125,138.2344 Q21.0156,139.0469 22.6094,139.0469 Q23.5469,139.0469 24.2031,138.7969 Q24.5938,138.6406 25.0156,138.2031 Q25.2813,137.9375 25.4219,137.8594 Q25.5781,137.7813 25.7813,137.7813 Q26.1094,137.7813 26.3594,138.0469 Q26.625,138.2969 26.625,138.6406 Q26.625,138.9844 26.2813,139.3906 Q25.7813,139.9688 24.9844,140.2969 Q23.9063,140.75 22.6094,140.75 Q21.0938,140.75 19.8906,140.125 Q18.9063,139.625 18.2188,138.5625 Q17.5313,137.4844 17.5313,136.2031 L17.5313,135.0469 Q17.5313,133.7188 18.1406,132.5781 Q18.7656,131.4219 19.8594,130.8125 Q20.9531,130.1875 22.1875,130.1875 Q22.9219,130.1875 23.5625,130.3594 Q24.2188,130.5156 24.7656,130.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.875" x="36" y="140.7285">ArticuloReacondicionado</text></g><!--class Articulo--><g class="entity" data-entity="Articulo" data-source-line="14" data-uid="ent0003" id="entity_Articulo"><rect fill="#FFFAFA" height="32" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="78.6826" x="160" y="7"></rect><ellipse cx="175" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M177.7656,18.875 Q177.9219,18.6563 178.1094,18.5469 Q178.2969,18.4375 178.5156,18.4375 Q178.8906,18.4375 179.125,18.7031 Q179.3594,18.9531 179.3594,19.5625 L179.3594,21.0156 Q179.3594,21.625 179.125,21.8906 Q178.8906,22.1563 178.5156,22.1563 Q178.1719,22.1563 177.9688,21.9531 Q177.7656,21.7656 177.6563,21.25 Q177.6094,20.8906 177.4219,20.7031 Q177.0938,20.3281 176.4844,20.1094 Q175.875,19.8906 175.25,19.8906 Q174.4844,19.8906 173.8438,20.2188 Q173.2188,20.5469 172.7188,21.2969 Q172.2344,22.0469 172.2344,23.0781 L172.2344,24.1719 Q172.2344,25.4063 173.125,26.2344 Q174.0156,27.0469 175.6094,27.0469 Q176.5469,27.0469 177.2031,26.7969 Q177.5938,26.6406 178.0156,26.2031 Q178.2813,25.9375 178.4219,25.8594 Q178.5781,25.7813 178.7813,25.7813 Q179.1094,25.7813 179.3594,26.0469 Q179.625,26.2969 179.625,26.6406 Q179.625,26.9844 179.2813,27.3906 Q178.7813,27.9688 177.9844,28.2969 Q176.9063,28.75 175.6094,28.75 Q174.0938,28.75 172.8906,28.125 Q171.9063,27.625 171.2188,26.5625 Q170.5313,25.4844 170.5313,24.2031 L170.5313,23.0469 Q170.5313,21.7188 171.1406,20.5781 Q171.7656,19.4219 172.8594,18.8125 Q173.9531,18.1875 175.1875,18.1875 Q175.9219,18.1875 176.5625,18.3594 Q177.2188,18.5156 177.7656,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6826" x="189" y="28.7285">Articulo</text></g><polygon fill="none" points="199.4099,39,206.4956,58.9698,192.4958,59.0298" style="stroke:#000000;stroke-width:1;"></polygon><line style="stroke:#000000;stroke-width:1;" x1="199.4957" x2="199.5" y1="58.9998" y2="60"></line><!--class ArticuloRebajado--><g class="entity" data-entity="ArticuloRebajado" data-source-line="14" data-uid="ent0004" id="entity_ArticuloRebajado"><rect fill="#FFFAFA" height="32" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="138.6201" x="229" y="119"></rect><ellipse cx="244" cy="135" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M246.7656,130.875 Q246.9219,130.6563 247.1094,130.5469 Q247.2969,130.4375 247.5156,130.4375 Q247.8906,130.4375 248.125,130.7031 Q248.3594,130.9531 248.3594,131.5625 L248.3594,133.0156 Q248.3594,133.625 248.125,133.8906 Q247.8906,134.1563 247.5156,134.1563 Q247.1719,134.1563 246.9688,133.9531 Q246.7656,133.7656 246.6563,133.25 Q246.6094,132.8906 246.4219,132.7031 Q246.0938,132.3281 245.4844,132.1094 Q244.875,131.8906 244.25,131.8906 Q243.4844,131.8906 242.8438,132.2188 Q242.2188,132.5469 241.7188,133.2969 Q241.2344,134.0469 241.2344,135.0781 L241.2344,136.1719 Q241.2344,137.4063 242.125,138.2344 Q243.0156,139.0469 244.6094,139.0469 Q245.5469,139.0469 246.2031,138.7969 Q246.5938,138.6406 247.0156,138.2031 Q247.2813,137.9375 247.4219,137.8594 Q247.5781,137.7813 247.7813,137.7813 Q248.1094,137.7813 248.3594,138.0469 Q248.625,138.2969 248.625,138.6406 Q248.625,138.9844 248.2813,139.3906 Q247.7813,139.9688 246.9844,140.2969 Q245.9063,140.75 244.6094,140.75 Q243.0938,140.75 241.8906,140.125 Q240.9063,139.625 240.2188,138.5625 Q239.5313,137.4844 239.5313,136.2031 L239.5313,135.0469 Q239.5313,133.7188 240.1406,132.5781 Q240.7656,131.4219 241.8594,130.8125 Q242.9531,130.1875 244.1875,130.1875 Q244.9219,130.1875 245.5625,130.3594 Q246.2188,130.5156 246.7656,130.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.6201" x="258" y="140.7285">ArticuloRebajado</text></g><!--reverse link Articulo to ArticuloRebajado--><g class="link" data-entity-1="Articulo" data-entity-2="ArticuloRebajado" data-source-line="14" data-uid="lnk5" id="link_Articulo_ArticuloRebajado"><path codeline="14" d="M199.5,60 C199.5,60 248.99,96.99 277.99,118.67" fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:1;"></path></g><!--reverse link Articulo to ArticuloReacondicionado--><g class="link" data-entity-1="Articulo" data-entity-2="ArticuloReacondicionado" data-source-line="15" data-uid="lnk6" id="link_Articulo_ArticuloReacondicionado"><path codeline="15" d="M199.5,60 C199.5,60 150.01,96.99 121.01,118.67" fill="none" id="Articulo-backto-ArticuloReacondicionado" style="stroke:#000000;stroke-width:1;"></path></g><!--SRC=[TO_1gi9034NtynK3hWNn3wmhT_8gk7kGpWGRsqbAPlgAVhrJHHd5jmhXdDnmOqSyW4AmheSODoafDMF2dHEkwOfsPU9BsQZAj9LUr5OzkAv0-xp22QiyJYeZ-uTsR2bX7QJ3mjtEdofHZ_ezx25yHDKiK-7CQDXnYqe9sA5T5_3pzg30CIFaP4nB7Ys68LrimD2WHcFkvNE_H6xivGSXr_VaI1Yys0N37vnbciiOyxJixt9Pd3Hmpkv_z2tGt000]--></g></svg></p><p></p>
<p>✋ <strong>Alto</strong>: Antes de ver la la propuesta de implementación, intenta pensar cómo sería la misma...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloReacondicionado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">DateOnly</span> FechaReacondicionamiento <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Empresa <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Descripcion <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">ArticuloReacondicionado</span><span class="token punctuation">(</span>
                        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> id<span class="token punctuation">,</span>
                        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span>
                        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">,</span>
                        <span class="token class-name">DateOnly</span> fechaReacondicionamiento<span class="token punctuation">,</span>
                        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> empresa<span class="token punctuation">,</span>
                        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> descripcion<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> nombre<span class="token punctuation">,</span> precio<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        FechaReacondicionamiento <span class="token operator">=</span> fechaReacondicionamiento<span class="token punctuation">;</span>
        Empresa <span class="token operator">=</span> empresa<span class="token punctuation">;</span>
        Descripcion <span class="token operator">=</span> descripcion<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                        <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                        <span class="token class-name">Fecha</span> reacondicionamiento<span class="token punctuation">:</span> <span class="token punctuation">{</span>FechaReacondicionamiento<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                        Empresa<span class="token punctuation">:</span> <span class="token punctuation">{</span>Empresa<span class="token punctuation">}</span>
                        Descripción<span class="token punctuation">:</span> <span class="token punctuation">{</span>Descripcion<span class="token punctuation">}</span>
                        <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">ArticuloReacondicionado</span> ac <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span>
        <span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"A003-R"</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Fuente TFX"</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">precio</span><span class="token punctuation">:</span> <span class="token number">50d</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">fechaReacondicionamiento</span><span class="token punctuation">:</span> DateOnly<span class="token punctuation">.</span><span class="token function">FromDateTime</span><span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">empresa</span><span class="token punctuation">:</span> <span class="token string">"Balmis S.A"</span><span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">descripcion</span><span class="token punctuation">:</span> <span class="token string">"Se cambia condensador electrolítico"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name"><span class="token keyword keyword-string">string</span></span><span class="token punctuation">(</span><span class="token char">'-'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ac<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name"><span class="token keyword keyword-string">string</span></span><span class="token punctuation">(</span><span class="token char">'-'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>Mostrará por consola:</strong></p>
<div class="row">
<div class="col-sm-6">
<pre class="salida_consola">--------------------
Id: A003-R
Nombre: Fuente TFX
Precio: 50,00?
Fecha reacondicionamiento: 17/08/2025
Empresa: Balmis S.A
Descripción: Se cambia condensador electrolítico
--------------------
</pre> <!-- fin salida consola -->
</div>
<div class="col-sm-6">
<p>Fíjate que al invalidar a <strong><code>ATexto()</code></strong> hemos llamado al método de la superclase <strong><code>base.ATexto()</code></strong> para reutilizar su funcionalidad y así no repetir código. De esta manera podremos ver las características comunes de todos los artículos y las específicas de cada uno de ellos.</p>
</div>
</div>
</div>
<div style="page-break-after:always;"></div>
<h3 id="polimorfismo-de-datos-o-inclusión">Polimorfismo de datos o inclusión </h3>
<p>Es la capacidad de un identificador de hacer referencia a instancias de distintas clases durante su ejecución. Se logra a través del <strong>principio de sustitución</strong>.</p>
<h4 id="principio-de-sustitución-de-liskov-upcasting">Principio de sustitución de Liskov (Upcasting) </h4>
<p>Podemos decir que es, cuando un identificador que hemos declarado del <strong>tipo de la superclase</strong>, referencia a un objeto de la subclase. También se le conoce como <strong>upcasting</strong> y esta <strong>conversión</strong> o <em>'cast'</em> se hace de forma <strong>implícita</strong>.</p>
<p>La forma más simple de tenerlo es crear un objeto de la subclase y lo asignamos a la superclase. Por ejemplo...</p>
<div class="row">
<div class="col-sm-6">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span>
                    <span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"A004"</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Polo Fred Perry"</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">precio</span><span class="token punctuation">:</span> <span class="token number">70d</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">porcentajeRebaja</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Articulo</span> a <span class="token operator">=</span> ar<span class="token punctuation">;</span>

<span class="token comment">// También podemos hacerlo directamente pero</span>
<span class="token comment">// indicando el tipo en el new.</span>
<span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span>
                    <span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"A004"</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Polo Fred Perry"</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">precio</span><span class="token punctuation">:</span> <span class="token number">70d</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">porcentajeRebaja</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<div class="col-sm-6 rounded mb-3 shadow-sm">
<p>Una posible <strong>representación del objeto en memoria</strong> sería la siguiente:</p>
<p></p><p align="center" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 12.2.0 (20241103.1931)
 -->
<!-- Title: G Pages: 1 -->
<svg width="250pt" height="175pt" viewBox="0.00 0.00 250.00 175.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.6 0.6) rotate(0) translate(14.03 280.23)">
<title>G</title>
<polygon fill="white" stroke="none" points="-14.03,11.43 -14.03,-280.23 402.64,-280.23 402.64,11.43 -14.03,11.43"></polygon>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="black" cx="27" cy="-184.4" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-180.2" font-family="Arial" font-size="14.00">a</text>
</g>
<!-- oar -->
<g id="node2" class="node">
<title>oar</title>
<polygon fill="none" stroke="#a8a8a8" points="99,-215 99,-263.8 379.62,-263.8 379.62,-215 99,-215"></polygon>
<text text-anchor="start" x="184.05" y="-235.2" font-family="Arial" font-size="14.00" fill="#a8a8a8">ArticuloRebajado </text>
<polygon fill="none" stroke="black" points="115,-170.2 115,-199 363.62,-199 363.62,-170.2 115,-170.2"></polygon>
<text text-anchor="start" x="190.68" y="-180.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;a : Articulo &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="120" y="-152.6" font-family="Arial" font-size="14.00">nombre = "Polo Fred Perry" &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="120" y="-125.8" font-family="Arial" font-size="14.00">precio = 70.00 &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="114,-115.6 114,-200 364.62,-200 364.62,-115.6 114,-115.6"></polygon>
<text text-anchor="start" x="114" y="-73" font-family="Arial" font-size="14.00" fill="#a8a8a8">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#a8a8a8" points="99,-5 99,-53.8 379.62,-53.8 379.62,-5 99,-5"></polygon>
<text text-anchor="start" x="115" y="-26.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="130.56" y="-26.2" font-family="Arial" font-size="14.00" fill="#a8a8a8">+GetPorcentajeRebaja() : ushort &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="348.06" y="-26.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="#a8a8a8" points="98,-4 98,-264.8 380.62,-264.8 380.62,-4 98,-4"></polygon>
</g>
<!-- a&#45;&gt;oar -->
<g id="edge1" class="edge">
<title>a-&gt;oar:a</title>
<path fill="none" stroke="black" d="M54.35,-184.49C68.18,-184.54 85.71,-184.58 102.52,-184.59"></path>
<polygon fill="black" stroke="black" points="102.48,-188.09 112.49,-184.6 102.49,-181.09 102.48,-188.09"></polygon>
</g>
</g>
</svg>
</p><p></p>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Aunque creamos un objeto <strong><code>ArticuloRebajado</code></strong> <strong>completo</strong> en memoria. A través de <strong><code>a</code></strong> solo podremos acceder a la parte de <strong><code>Articulo</code></strong> que hay dentro del <strong><code>ArticuloRebajado</code></strong>.<br>
Por ejemplo, si tuvieramos una propiedad público en <strong><code>ArticuloRebajado</code></strong> denominada <strong><code>ushort PorcentajeRebaja</code></strong>, no podríamos hacer <strong><code>a.PorcentajeRebaja</code></strong>.</p>
</div>
<div style="page-break-after:always;"></div>
<h4 id="downcasting">Downcasting </h4>
<p>Se tratará de la <strong>operación contrária a la sustitución</strong> o upcasting.<br>
⚠️Pero ojo, solo podremos hacerla si realmente la referencia que tenemos es del tipo al que queremos hacer el downcasting, en caso contrário obtendremos un <strong>❌Error en tiempo de ejecución</strong>.</p>
<p>Siguiendo con la representación en memoria es como si recuperaramos el acceso a la parte de <strong><code>ArticuloRebajado</code></strong> del objeto <strong><code>Articulo</code></strong> que hemos creado en el ejemplo anterior.</p>
<p></p><p align="center" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 12.2.0 (20241103.1931)
 -->
<!-- Title: G Pages: 1 -->
<svg width="550pt" height="175pt" viewBox="0.00 0.00 550.00 175.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.6 0.6) rotate(0) translate(6.75 255.83)">
<title>G</title>
<polygon fill="white" stroke="none" points="-6.75,35.83 -6.75,-255.83 909.91,-255.83 909.91,35.83 -6.75,35.83"></polygon>
<!-- a1 -->
<g id="node1" class="node">
<title>a1</title>
<ellipse fill="none" stroke="black" cx="27" cy="-135" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-130.8" font-family="Arial" font-size="14.00">a</text>
</g>
<!-- oar1 -->
<g id="node5" class="node">
<title>oar1</title>
<polygon fill="none" stroke="#a8a8a8" points="99,-166.2 99,-215 327.96,-215 327.96,-166.2 99,-166.2"></polygon>
<text text-anchor="start" x="158.22" y="-186.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">ArticuloRebajado </text>
<polygon fill="none" stroke="black" points="115,-121.4 115,-150.2 311.96,-150.2 311.96,-121.4 115,-121.4"></polygon>
<text text-anchor="start" x="164.85" y="-131.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;a : Articulo &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="120" y="-103.8" font-family="Arial" font-size="14.00">nombre = "Polo Fred Perry" &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="120" y="-77" font-family="Arial" font-size="14.00">precio = 70.00 &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="114,-66.8 114,-151.2 312.96,-151.2 312.96,-66.8 114,-66.8"></polygon>
<text text-anchor="start" x="114" y="-24.2" font-family="Arial" font-size="14.00" fill="#a8a8a8">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#a8a8a8" points="98,-4 98,-216 328.96,-216 328.96,-4 98,-4"></polygon>
</g>
<!-- a1&#45;&gt;oar1 -->
<g id="edge1" class="edge">
<title>a1-&gt;oar1:a</title>
<path fill="none" stroke="black" d="M54.35,-135.37C68.18,-135.54 85.7,-135.72 102.52,-135.78"></path>
<polygon fill="black" stroke="black" points="102.48,-139.28 112.49,-135.8 102.49,-132.28 102.48,-139.28"></polygon>
</g>
<!-- a2 -->
<g id="node2" class="node">
<title>a2</title>
<ellipse fill="none" stroke="#a8a8a8" cx="562.09" cy="-165" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="562.09" y="-160.8" font-family="Arial" font-size="14.00" fill="#a8a8a8">a</text>
</g>
<!-- oar2 -->
<g id="node6" class="node">
<title>oar2</title>
<polygon fill="none" stroke="black" points="634.09,-166.2 634.09,-215 894.16,-215 894.16,-166.2 634.09,-166.2"></polygon>
<text text-anchor="start" x="708.87" y="-186.4" font-family="Arial" font-size="14.00">ArticuloRebajado </text>
<polygon fill="none" stroke="#a8a8a8" points="650.09,-121.4 650.09,-150.2 878.16,-150.2 878.16,-121.4 650.09,-121.4"></polygon>
<text text-anchor="start" x="699.94" y="-132.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="715.5" y="-132.6" font-family="Arial" font-size="14.00" fill="#a8a8a8"> &nbsp;&nbsp;&nbsp;a : Articulo &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="812.75" y="-132.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="655.09" y="-104.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="670.65" y="-104.8" font-family="Arial" font-size="14.00" fill="#a8a8a8">nombre = "Polo Fred Perry" &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="857.6" y="-104.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="655.09" y="-78" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="670.65" y="-78" font-family="Arial" font-size="14.00" fill="#a8a8a8">precio = 70.00 &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="775.33" y="-78" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="#a8a8a8" points="649.09,-66.8 649.09,-151.2 879.16,-151.2 879.16,-66.8 649.09,-66.8"></polygon>
<text text-anchor="start" x="649.09" y="-24.2" font-family="Arial" font-size="14.00">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="black" points="633.09,-4 633.09,-216 895.16,-216 895.16,-4 633.09,-4"></polygon>
</g>
<!-- a2&#45;&gt;oar2 -->
<g id="edge4" class="edge">
<title>a2-&gt;oar2:a</title>
<path fill="none" stroke="#a8a8a8" d="M586.46,-152.45C600.46,-145.89 619.08,-138.78 637.61,-136.53"></path>
<polygon fill="#a8a8a8" stroke="#a8a8a8" points="637.82,-140.02 647.58,-135.9 637.38,-133.03 637.82,-140.02"></polygon>
</g>
<!-- code -->
<g id="node3" class="node">
<title>code</title>
<text text-anchor="middle" x="436.02" y="-105.8" font-family="Arial" font-size="14.00">= downcasting =&gt;</text>
</g>
<!-- code&#45;&gt;oar2 -->
<g id="edge3" class="edge">
<title>code-&gt;oar2</title>
<path fill="none" stroke="none" d="M498.74,-110C531.49,-110 573.26,-110 613.89,-110"></path>
<polygon fill="none" stroke="none" points="613.79,-113.5 623.79,-110 613.79,-106.5 613.79,-113.5"></polygon>
</g>
<!-- ar -->
<g id="node4" class="node">
<title>ar</title>
<ellipse fill="none" stroke="black" cx="562.09" cy="-55" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="562.09" y="-50.8" font-family="Arial" font-size="14.00">ar</text>
</g>
<!-- ar&#45;&gt;oar2 -->
<g id="edge5" class="edge">
<title>ar-&gt;oar2</title>
<path fill="none" stroke="black" d="M588.42,-61.97C595.99,-64.05 604.88,-66.49 614.58,-69.16"></path>
<polygon fill="black" stroke="black" points="613.36,-72.45 623.93,-71.73 615.21,-65.7 613.36,-72.45"></polygon>
</g>
<!-- oar1&#45;&gt;code -->
<g id="edge2" class="edge">
<title>oar1-&gt;code</title>
<path fill="none" stroke="none" d="M336.68,-110C345.19,-110 353.61,-110 361.72,-110"></path>
<polygon fill="none" stroke="none" points="361.46,-113.5 371.46,-110 361.46,-106.5 361.46,-113.5"></polygon>
</g>
</g>
</svg>
</p><p></p>
<h5 id="formas-de-realizar-el-downcasting">Formas de realizar el Downcasting </h5>
<ol>
<li>
<p>Mediante <strong>cast explícito</strong>:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"A004"</span><span class="token punctuation">,</span> <span class="token string">"Polo Fred Perry"</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a<span class="token punctuation">;</span> <span class="token comment">// realmente a es un ArticuloRebajado</span>
</code></pre><p>Sin embargo el siguiente código produciría un <strong>❌Error al ejecutar</strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token string">"A001"</span><span class="token punctuation">,</span> <span class="token string">"Polo Ralph Lauren"</span><span class="token punctuation">,</span> <span class="token number">75f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a<span class="token punctuation">;</span>
</code></pre></li>
<li>
<p>Mediante el operador <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/is">is</a></strong></p>
<p>Nos sirve para preguntarle a un objeto si es de un determinado tipo y saber así con seguridad si podemos hacer el downcasting.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token string">"A001"</span><span class="token punctuation">,</span> <span class="token string">"Polo Ralph Lauren"</span><span class="token punctuation">,</span> <span class="token number">75f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>a <span class="token keyword keyword-is">is</span> <span class="token class-name">ArticuloRebajado</span> ar<span class="token punctuation">)</span> <span class="token comment">// Preguntamos si admite la forma de ...</span>
<span class="token punctuation">{</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Si se cumple la condición, <strong><code>ar</code></strong> se convierte en un objeto de tipo <strong><code>ArticuloRebajado</code></strong> y podemos acceder a sus propiedades y métodos. Si no se cumple, <strong><code>ar</code></strong> no se inicializa y no podemos usarlo.</p>
</li>
<li>
<p>Mediante el operador <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/operators/type-testing-and-cast#as-operator">as</a></strong></p>
<p>Realiza directamente el downcasting y si no puede asigna <strong>null</strong>. EL problema es que vamos a tener que manejar tipos nulables.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token string">"A001"</span><span class="token punctuation">,</span> <span class="token string">"Polo Ralph Lauren"</span><span class="token punctuation">,</span> <span class="token number">75f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Generará un Warning porque se puede evaluar a null y ar no es anulable</span>
<span class="token comment">// deberíamos declarar ArticuloRebajado como nulable</span>
<span class="token class-name">ArticuloRebajado<span class="token punctuation">?</span></span> ar <span class="token operator">=</span> a <span class="token keyword keyword-as">as</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">?.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string">"No hay datos de rebaja"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
<li>
<p>Apoyándonos en el operador de uso combinado null <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/operators/null-coalescing-operator">??</a></strong></p>
<p>⚠️Realmente <strong>no sería un downcasting</strong> sino una tranformación defensiva.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"A005-R"</span><span class="token punctuation">,</span>
                                         <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"iPhone 16 Pro"</span><span class="token punctuation">,</span>
                                         <span class="token named-parameter punctuation">precio</span><span class="token punctuation">:</span> <span class="token number">950</span><span class="token punctuation">,</span>
                                         <span class="token named-parameter punctuation">fechaReacondicionamiento</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token number">2025</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                         <span class="token named-parameter punctuation">empresa</span><span class="token punctuation">:</span> <span class="token string">"Foxconn"</span><span class="token punctuation">,</span>
                                         <span class="token named-parameter punctuation">descripcion</span><span class="token punctuation">:</span> <span class="token string">"Cambio de batería"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Nos aseguramos de que en ar siempre hay un objeto instanciado y evitamos el aviso</span>
<span class="token comment">// al no ser un tipo anulable 👍                      </span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> a <span class="token keyword keyword-as">as</span> <span class="token class-name">ArticuloRebajado
                        <span class="token punctuation">?</span></span><span class="token punctuation">?</span>
                        <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> a<span class="token punctuation">.</span>Id<span class="token punctuation">,</span>
                            <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> a<span class="token punctuation">.</span>Nombre<span class="token punctuation">,</span>
                            <span class="token named-parameter punctuation">precio</span><span class="token punctuation">:</span> a<span class="token punctuation">.</span>Precio<span class="token punctuation">,</span>
                            <span class="token named-parameter punctuation">porcentajeRebaja</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>Realmente <strong>estamos creando un nuevo artículo</strong> porque realmente no es del tipo que esperábamos. Por lo que no sería una opción muy recomendable al tratarse de <strong>programación defensiva</strong> 💀.</p>
</li>
<li>
<p>Usando un <strong><code>switch</code></strong> ya sea como instrucción o expresión sería la <strong>forma más elegante y legible</strong> de hacer un downcasting y además nos permite manejar el caso en que no se cumple la condición.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"A004"</span><span class="token punctuation">,</span> <span class="token string">"Polo Fred Perry"</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword keyword-string">string</span></span> salida <span class="token operator">=</span> a <span class="token keyword keyword-switch">switch</span>
<span class="token punctuation">{</span>
    <span class="token class-name">ArticuloRebajado</span> ar <span class="token keyword keyword-when">when</span> ar<span class="token punctuation">.</span>PorcentajeRebaja <span class="token operator">&gt;</span> <span class="token number">30</span> <span class="token operator">=&gt;</span> <span class="token string">"Artículo rebajado con más del 30% de rebaja"</span><span class="token punctuation">,</span>
    <span class="token return-type class-name">ArticuloRebajado</span> ar <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"Es un artículo rebajado con el </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ar<span class="token punctuation">.</span>PorcentajeRebaja</span><span class="token punctuation">}</span></span><span class="token string">% de rebaja"</span></span><span class="token punctuation">,</span>
    <span class="token return-type class-name">ArticuloReacondicionado</span> _ <span class="token operator">=&gt;</span> <span class="token string">"Es reacondicionado"</span><span class="token punctuation">,</span>
    _ <span class="token operator">=&gt;</span> <span class="token string">"No es un tipo de objeto contemplado"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>salida<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
</ol>
<div style="page-break-after:always;"></div>
<h3 id="ligadura-dinámica">Ligadura Dinámica </h3>
<p>También se le conoce como <strong>enlace dinámico</strong>.<br>
Una de las principales '<em>ventajas</em>' de la <strong>invalidación</strong>, es que al hacer una <strong>sustitución</strong> como la que hemos visto del tipo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Polo Fred Perry"</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>Precio<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p><strong><code>Console.WriteLine(a.GetPrecio());</code></strong> mostrará <strong>59,5</strong> y no <strong>70</strong>. Pero,... ¿Cómo puede suceder esto si <strong><code>a</code></strong> esta referenciando a la parte de <strong><code>Articulo</code></strong> que hay en el objeto <strong><code>ArticuloRebajado</code></strong> instanciado y <strong><code>GetPrecio()</code></strong> de <strong><code>Articulo</code></strong> me devuelve el precio sin el descuento?</p>
<p>Si nos fijamos en la figura siguiente, lo que realmente sucede es que al hacer <strong><code>a.Precio</code></strong> y ver que la propiedad <strong><code>virtual Precio { get; ... }</code></strong> está marcado como invalidable o <strong>virtual</strong>. Buscará posibles invalidaciones de ese método en el objeto realmente instanciado (<strong><code>ArticuloRebajado</code></strong>) y si existen lo que hará es llamar a la invalidación.</p>
<p></p><p align="center" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 12.2.0 (20241103.1931)
 -->
<!-- Title: G Pages: 1 -->
<svg width="525pt" height="250pt" viewBox="0.00 0.00 525.00 250.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.7 0.7) rotate(0) translate(24.84 327.37)">
<title>G</title>
<polygon fill="white" stroke="none" points="-24.84,29.77 -24.84,-327.37 725.16,-327.37 725.16,29.77 -24.84,29.77"></polygon>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="black" cx="98.26" cy="-212.8" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="98.26" y="-208.6" font-family="Arial" font-size="14.00">a</text>
</g>
<!-- oar -->
<g id="node3" class="node">
<title>oar</title>
<polygon fill="none" stroke="#a8a8a8" points="176.94,-243.8 176.94,-292.6 691.33,-292.6 691.33,-243.8 176.94,-243.8"></polygon>
<text text-anchor="start" x="380.82" y="-264" font-family="Arial" font-size="14.00" fill="#a8a8a8">ArticuloRebajado</text>
<polygon fill="none" stroke="black" points="192.94,-199 192.94,-227.8 675.33,-227.8 675.33,-199 192.94,-199"></polygon>
<text text-anchor="start" x="385.51" y="-209.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;a : Articulo &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="197.94" y="-181.4" font-family="Arial" font-size="14.00">nombre = "Polo Fred Perry" &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="197.94" y="-154.6" font-family="Arial" font-size="14.00">precio = 70.00 &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="192.94,-116.6 192.94,-145.4 675.33,-145.4 675.33,-116.6 192.94,-116.6"></polygon>
<text text-anchor="start" x="198.94" y="-127.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="214.5" y="-127.8" font-family="Arial" font-size="14.00" fill="steelblue"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="230.05" y="-127.8" font-family="Arial" font-style="italic" font-size="14.00" fill="steelblue">virtual double Precio { get; ... } → 70 &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="467.41" y="-127.8" font-family="Arial" font-size="14.00" fill="steelblue"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="482.97" y="-127.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="191.94,-115.6 191.94,-228.8 676.33,-228.8 676.33,-115.6 191.94,-115.6"></polygon>
<text text-anchor="start" x="191.94" y="-73" font-family="Arial" font-size="14.00" fill="#a8a8a8">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#a8a8a8" points="176.94,-5 176.94,-53.8 691.33,-53.8 691.33,-5 176.94,-5"></polygon>
<text text-anchor="start" x="192.94" y="-26.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="208.5" y="-26.2" font-family="Arial" font-size="14.00" fill="steelblue"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="224.05" y="-26.2" font-family="Arial" font-weight="bold" font-size="14.00" fill="steelblue">override double Precio =&gt; base.Precio - Descuento &nbsp;→ 59.5 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="644.21" y="-26.2" font-family="Arial" font-size="14.00" fill="steelblue"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="659.77" y="-26.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="#a8a8a8" points="175.94,-4 175.94,-293.6 692.33,-293.6 692.33,-4 175.94,-4"></polygon>
</g>
<!-- a&#45;&gt;oar -->
<g id="edge1" class="edge">
<title>a-&gt;oar:a</title>
<path fill="none" stroke="black" d="M125.62,-213.06C141.06,-213.2 161.23,-213.34 180.46,-213.39"></path>
<polygon fill="black" stroke="black" points="180.42,-216.89 190.42,-213.4 180.43,-209.89 180.42,-216.89"></polygon>
</g>
<!-- ma -->
<g id="node2" class="node">
<title>ma</title>
<text text-anchor="middle" x="98.26" y="-141.6" font-family="Arial" font-size="14.00" fill="steelblue">a.Precio</text>
</g>
<!-- ma&#45;&gt;oar -->
<g id="edge2" class="edge">
<title>ma:e-&gt;oar:nw</title>
<path fill="none" stroke="steelblue" d="M131.94,-145.8C154.23,-145.8 168,-158.7 182.94,-151.91"></path>
<polygon fill="steelblue" stroke="steelblue" points="184.66,-154.99 190.71,-146.29 180.56,-149.32 184.66,-154.99"></polygon>
</g>
<!-- oar&#45;&gt;oar -->
<g id="edge3" class="edge">
<title>oar:virtual-&gt;oar:override</title>
<path fill="none" stroke="steelblue" d="M193.06,-133.18C89.05,-128.14 0,-113.37 0,-80.2 0,-49.98 73.91,-35.03 165.7,-28.8"></path>
<polygon fill="steelblue" stroke="steelblue" points="165.71,-32.31 175.47,-28.18 165.27,-25.32 165.71,-32.31"></polygon>
</g>
</g>
</svg>
</p><p></p>
<p>A este enlace entre el método o propiedad virtual y su invalidación, lo denominaremos <strong>ligadura dinámica</strong> y se denomina '<em>dinámica</em>' puesto que <strong>se decide en tiempo de ejecución</strong>, dependiendo del objeto que realmente tengamos instanciado y esté referenciado por la sustitución.</p>
<div style="page-break-after:always;"></div>
<h4 id="ejemplo-de-uso-del-enlace-dinámico">Ejemplo de uso del Enlace Dinámico </h4>
<p>Veamos un ejemplo más elaborado a través de otro ejemplo donde vamos a ampliar nuestra jerarquía de artículos.</p>
<p>Supongamos que nos piden hacer una concreción más de artículos, para aquellos que están en <strong>exposición</strong>. Nos comentan que <strong>los artículos en exposición siempre tienen algún tipo de rebaja</strong>. Por lo tanto podemos decir que <strong>un artículo en exposición - <em>es un</em> - artículo rebajado</strong>.<br>
Además, se nos especifica que el porcentaje de rebaja coincidirá con los días que el artículo esté en exposición siendo un mínimo de un <strong>1%</strong> y un máximo de <strong>75%</strong> de su valor. De esta manera si un artículo lleva 20 días en exposición su descuento será del <strong>20%</strong> pero si lleva 100 días su descuento será del <strong>75%</strong>.</p>
<p>De lo expuesto, al crear un artículo en exposición, nos interesará saber la fecha en que se inició la misma.</p>
<p>Una posible modelación del diagrama de clases para implementación UML siguiendo nuestro convenio de nomenclatura sería...</p>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="467.1px" preserveAspectRatio="none" style="width:540px;height:467px;background:#FFFFFF;" version="1.1" viewBox="0 0 540 467" width="540px" zoomAndPan="magnify"><defs></defs><g><!--class Articulo--><g class="entity" data-entity="Articulo" data-source-line="11" data-uid="ent0002" id="entity_Articulo"><rect fill="#FFFAFA" height="109.0266" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="189.6855" x="234" y="6.3"></rect><ellipse cx="304.0106" cy="25.5164" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M306.4997,21.8039 Q306.6403,21.607 306.809,21.5086 Q306.9778,21.4102 307.1747,21.4102 Q307.5122,21.4102 307.7231,21.6492 Q307.934,21.8742 307.934,22.4227 L307.934,23.7305 Q307.934,24.2789 307.7231,24.518 Q307.5122,24.757 307.1747,24.757 Q306.8653,24.757 306.6825,24.5742 Q306.4997,24.4055 306.4012,23.9414 Q306.359,23.618 306.1903,23.4492 Q305.895,23.1117 305.3465,22.9148 Q304.7981,22.718 304.2356,22.718 Q303.5465,22.718 302.97,23.0133 Q302.4075,23.3086 301.9575,23.9836 Q301.5215,24.6586 301.5215,25.5867 L301.5215,26.5711 Q301.5215,27.682 302.3231,28.4273 Q303.1247,29.1586 304.559,29.1586 Q305.4028,29.1586 305.9934,28.9336 Q306.345,28.793 306.7247,28.3992 Q306.9637,28.1602 307.0903,28.0898 Q307.2309,28.0195 307.4137,28.0195 Q307.709,28.0195 307.934,28.2586 Q308.1731,28.4836 308.1731,28.793 Q308.1731,29.1023 307.8637,29.468 Q307.4137,29.9883 306.6965,30.2836 Q305.7262,30.6914 304.559,30.6914 Q303.195,30.6914 302.1122,30.1289 Q301.2262,29.6789 300.6075,28.7227 Q299.9887,27.7523 299.9887,26.5992 L299.9887,25.5586 Q299.9887,24.3633 300.5372,23.3367 Q301.0997,22.2961 302.084,21.7477 Q303.0684,21.1852 304.1793,21.1852 Q304.8403,21.1852 305.4168,21.3398 Q306.0075,21.4805 306.4997,21.8039 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacing" textLength="37.8264" x="324.5546" y="22.0113">«entity»</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="42.0144" x="322.4606" y="37.4643">Articulo</text><line style="stroke:#000000;stroke-width:0.45;" x1="234.9" x2="422.7855" y1="44.7328" y2="44.7328"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="68.2664" x="239.4" y="61.4127">+Articulo(...)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="121.8349" x="239.4" y="77.2611">#GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="178.8855" x="239.4" y="93.1096">+GetPrecio() : double {virtual}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="155.7712" x="239.4" y="108.958">+ATexto() : string {virtual}</text></g><!--class ArticuloRebajado--><g class="entity" data-entity="ArticuloRebajado" data-source-line="19" data-uid="ent0003" id="entity_ArticuloRebajado"><rect fill="#FFFAFA" height="115.2422" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="254.4636" x="80.1" y="169.2"></rect><ellipse cx="155.5277" cy="183.6" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M158.0168,179.8875 Q158.1574,179.6906 158.3262,179.5922 Q158.4949,179.4938 158.6918,179.4938 Q159.0293,179.4938 159.2402,179.7328 Q159.4512,179.9578 159.4512,180.5063 L159.4512,181.8141 Q159.4512,182.3625 159.2402,182.6016 Q159.0293,182.8406 158.6918,182.8406 Q158.3824,182.8406 158.1996,182.6578 Q158.0168,182.4891 157.9184,182.025 Q157.8762,181.7016 157.7074,181.5328 Q157.4121,181.1953 156.8637,180.9984 Q156.3152,180.8016 155.7527,180.8016 Q155.0637,180.8016 154.4871,181.0969 Q153.9246,181.3922 153.4746,182.0672 Q153.0387,182.7422 153.0387,183.6703 L153.0387,184.6547 Q153.0387,185.7656 153.8402,186.5109 Q154.6418,187.2422 156.0762,187.2422 Q156.9199,187.2422 157.5105,187.0172 Q157.8621,186.8766 158.2418,186.4828 Q158.4809,186.2438 158.6074,186.1734 Q158.748,186.1031 158.9309,186.1031 Q159.2262,186.1031 159.4512,186.3422 Q159.6902,186.5672 159.6902,186.8766 Q159.6902,187.1859 159.3809,187.5516 Q158.9309,188.0719 158.2137,188.3672 Q157.2434,188.775 156.0762,188.775 Q154.7121,188.775 153.6293,188.2125 Q152.7434,187.7625 152.1246,186.8063 Q151.5059,185.8359 151.5059,184.6828 L151.5059,183.6422 Q151.5059,182.4469 152.0543,181.4203 Q152.6168,180.3797 153.6012,179.8313 Q154.5855,179.2688 155.6965,179.2688 Q156.3574,179.2688 156.934,179.4234 Q157.5246,179.5641 158.0168,179.8875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="95.9581" x="173.9777" y="188.7557">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.45;" x1="81" x2="333.6636" y1="198" y2="198"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="122.2102" x="85.5" y="214.6799">+ArticuloRebajado(...)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="243.6636" x="85.5" y="230.5283">#GetPorcentajeRebaja() : ushort {virtual}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="144.9738" x="85.5" y="246.3768">-/GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="138.6246" x="85.5" y="262.2252">^/+GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="112.0096" x="85.5" y="278.0736">^+ATexto() : string</text></g><!--class ArticuloEnExposicion--><g class="entity" data-entity="ArticuloEnExposicion" data-source-line="28" data-uid="ent0004" id="entity_ArticuloEnExposicion"><rect fill="#FFFAFA" height="122.4422" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="401.9106" x="6.3" y="338.4"></rect><ellipse cx="144.2509" cy="352.8" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M146.74,349.0875 Q146.8806,348.8906 147.0494,348.7922 Q147.2181,348.6938 147.415,348.6938 Q147.7525,348.6938 147.9634,348.9328 Q148.1744,349.1578 148.1744,349.7063 L148.1744,351.0141 Q148.1744,351.5625 147.9634,351.8016 Q147.7525,352.0406 147.415,352.0406 Q147.1056,352.0406 146.9228,351.8578 Q146.74,351.6891 146.6416,351.225 Q146.5994,350.9016 146.4306,350.7328 Q146.1353,350.3953 145.5869,350.1984 Q145.0384,350.0016 144.4759,350.0016 Q143.7869,350.0016 143.2103,350.2969 Q142.6478,350.5922 142.1978,351.2672 Q141.7619,351.9422 141.7619,352.8703 L141.7619,353.8547 Q141.7619,354.9656 142.5634,355.7109 Q143.365,356.4422 144.7994,356.4422 Q145.6431,356.4422 146.2337,356.2172 Q146.5853,356.0766 146.965,355.6828 Q147.2041,355.4438 147.3306,355.3734 Q147.4712,355.3031 147.6541,355.3031 Q147.9494,355.3031 148.1744,355.5422 Q148.4134,355.7672 148.4134,356.0766 Q148.4134,356.3859 148.1041,356.7516 Q147.6541,357.2719 146.9369,357.5672 Q145.9666,357.975 144.7994,357.975 Q143.4353,357.975 142.3525,357.4125 Q141.4666,356.9625 140.8478,356.0063 Q140.2291,355.0359 140.2291,353.8828 L140.2291,352.8422 Q140.2291,351.6469 140.7775,350.6203 Q141.34,349.5797 142.3244,349.0313 Q143.3087,348.4688 144.4197,348.4688 Q145.0806,348.4688 145.6572,348.6234 Q146.2478,348.7641 146.74,349.0875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="118.3588" x="162.7009" y="357.9557">ArticuloEnExposicion</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="407.3106" y1="367.2" y2="367.2"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="219.9094" x="11.7" y="383.8799">-inicioExposicion : DateOnly {readOnly}</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="407.3106" y1="390.2484" y2="390.2484"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="391.1106" x="11.7" y="406.9283">+ArticuloEnExposicion(in id : string, ..., in inicioExposicion : DateTime)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="203.4026" x="11.7" y="422.7768">^/#GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="164.9197" x="11.7" y="438.6252">+/GetDiasEnExposicion() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="112.0096" x="11.7" y="454.4736">^+ATexto() : string</text></g><!--class ArticuloReacondicionado--><g class="entity" data-entity="ArticuloReacondicionado" data-source-line="40" data-uid="ent0007" id="entity_ArticuloReacondicionado"><rect fill="#FFFAFA" height="28.8" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="168.1875" x="366.3" y="212.4"></rect><ellipse cx="379.8" cy="226.8" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M382.2891,223.0875 Q382.4297,222.8906 382.5984,222.7922 Q382.7672,222.6938 382.9641,222.6938 Q383.3016,222.6938 383.5125,222.9328 Q383.7234,223.1578 383.7234,223.7063 L383.7234,225.0141 Q383.7234,225.5625 383.5125,225.8016 Q383.3016,226.0406 382.9641,226.0406 Q382.6547,226.0406 382.4719,225.8578 Q382.2891,225.6891 382.1906,225.225 Q382.1484,224.9016 381.9797,224.7328 Q381.6844,224.3953 381.1359,224.1984 Q380.5875,224.0016 380.025,224.0016 Q379.3359,224.0016 378.7594,224.2969 Q378.1969,224.5922 377.7469,225.2672 Q377.3109,225.9422 377.3109,226.8703 L377.3109,227.8547 Q377.3109,228.9656 378.1125,229.7109 Q378.9141,230.4422 380.3484,230.4422 Q381.1922,230.4422 381.7828,230.2172 Q382.1344,230.0766 382.5141,229.6828 Q382.7531,229.4438 382.8797,229.3734 Q383.0203,229.3031 383.2031,229.3031 Q383.4984,229.3031 383.7234,229.5422 Q383.9625,229.7672 383.9625,230.0766 Q383.9625,230.3859 383.6531,230.7516 Q383.2031,231.2719 382.4859,231.5672 Q381.5156,231.975 380.3484,231.975 Q378.9844,231.975 377.9016,231.4125 Q377.0156,230.9625 376.3969,230.0063 Q375.7781,229.0359 375.7781,227.8828 L375.7781,226.8422 Q375.7781,225.6469 376.3266,224.6203 Q376.8891,223.5797 377.8734,223.0313 Q378.8578,222.4688 379.9688,222.4688 Q380.6297,222.4688 381.2063,222.6234 Q381.7969,222.7641 382.2891,223.0875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="139.3875" x="392.4" y="231.9557">ArticuloReacondicionado</text></g><!--reverse link Articulo to ArticuloRebajado--><g class="link" data-entity-1="Articulo" data-entity-2="ArticuloRebajado" data-source-line="38" data-uid="lnk5" id="link_Articulo_ArticuloRebajado"><path codeline="38" d="M279.6971,128.2234 C266.9531,145.4494 262.431,151.569 249.525,169.029" fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="289.332,115.2,275.356,125.0118,284.0383,131.435,289.332,115.2" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link ArticuloRebajado to ArticuloEnExposicion--><g class="link" data-entity-1="ArticuloRebajado" data-entity-2="ArticuloEnExposicion" data-source-line="39" data-uid="lnk6" id="link_ArticuloRebajado_ArticuloEnExposicion"><path codeline="39" d="M207.45,300.6 C207.45,317.907 207.45,320.796 207.45,338.337" fill="none" id="ArticuloRebajado-backto-ArticuloEnExposicion" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="207.45,284.4,202.05,300.6,212.85,300.6,207.45,284.4" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link Articulo to ArticuloReacondicionado--><g class="link" data-entity-1="Articulo" data-entity-2="ArticuloReacondicionado" data-source-line="40" data-uid="lnk8" id="link_Articulo_ArticuloReacondicionado"><path codeline="40" d="M378.2002,128.2254 C403.5442,162.4974 424.863,191.313 440.451,212.391" fill="none" id="Articulo-backto-ArticuloReacondicionado" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="368.568,115.2,373.8584,131.4361,382.542,125.0146,368.568,115.2" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--SRC=[XLDDRu904BtpApRneYZOQnjZubUQNbfJJNepMPQ9hiAEsLsgblZVEw15G1gvmCoyVVFU0ynEgZtNF6OYuiQChDKoI2oy2LGB-GFioJ45PAGr7YOOeMRZY8jTQJIdagzXJBUrnaI55zZNHbfOnBY34dQIRHgZ3a4tarq0DQg5meFZB0IFI9J_x6na20pYlJsn6E80j76St0F9j58a4RB109ILzZGSEgd3wEeMixRl-vsyrsAlODyn3ZIqE-o56Kf0hVEHwwOye9eBUsPTWiqr28avBCGa82NfjzGsuT7PTHkEZ9Pmj5YYhU3FTS6V4F0j3_5FRRr_4rrPqygKeHPabc_X0ivt9cQ3sjvfzFfqO0f697IYxEPAlUetUYqShkvzDRcPgTbnZqOIYxewyfXKMNqR4CEKM_XGqOcb6dYOFH5LnN-PgIqLas6nkCSeanxBcitCInb3fp3s8AghnMuUaEIciZY3IMKVXL1yVIlFkt-pzKO5LKdi7nvEFsQO8pAwNm00]--></g></svg></p><p></p>
<div style="page-break-after:always;"></div>
<p>Vamos a realizar una propuesta de implementación, comentada, de la especificación anterior.</p>
<p>En primer lugar marcando como <strong><code>virtual</code></strong> la propiedad <strong><code>PorcentajeRebaja</code></strong> de <strong><code>ArticuloRebajado</code></strong> para que pueda ser invalidada en la subclase <strong><code>ArticuloEnExposicion</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido para abreviar.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-ushort">ushort</span></span> PorcentajeRebaja <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Descuento <span class="token operator">=&gt;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Precio <span class="token operator">*</span> PorcentajeRebaja <span class="token operator">/</span> <span class="token number">100d</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Precio <span class="token operator">-</span> Descuento<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>En <strong><code>ArticuloEnExposicion</code></strong>, vamos a invalidar la propiedad <strong><code>PorcentajeRebaja</code></strong> y el método <strong><code>ATexto()</code></strong> para que nos muestre la información de la exposición en el caso de que el objeto lo tengamos como un tipo de alguna de las superclases.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloEnExposicion</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ArticuloRebajado</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">DateOnly</span> InicioExposicion <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
    <span class="token comment">// En un principio el descuento es 0 y lo calculeramos dinámicamente.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">ArticuloEnExposicion</span><span class="token punctuation">(</span>
                        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> id<span class="token punctuation">,</span>
                        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span>
                        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">,</span>
                        <span class="token class-name">DateOnly</span> inicioExposicion<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> nombre<span class="token punctuation">,</span> precio<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        InicioExposicion <span class="token operator">=</span> inicioExposicion<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Invalidamo la obtención porcentaje para calcularlo en función de los días en exposición.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-ushort">ushort</span></span> PorcentajeRebaja <span class="token operator">=&gt;</span> Convert<span class="token punctuation">.</span><span class="token function">ToUInt16</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Clamp</span><span class="token punctuation">(</span>DiasEnExposicion<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Los días en esposición se calculan en el momento actual, desde el incio de la exposición.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> DiasEnExposicion <span class="token operator">=&gt;</span> DateOnly<span class="token punctuation">.</span><span class="token function">FromDateTime</span><span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">)</span><span class="token punctuation">.</span>DayNumber <span class="token operator">-</span> InicioExposicion<span class="token punctuation">.</span>DayNumber<span class="token punctuation">;</span>

    <span class="token comment">// Invalidamos el método ATexto() de Articulo y ArticuloRebajado para que añada la nueva información.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                        <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                        En exposició<span class="token class-name">n</span> desde<span class="token punctuation">:</span> <span class="token punctuation">{</span>InicioExposicion<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> total <span class="token punctuation">{</span>DiasEnExposicion<span class="token punctuation">}</span> dí<span class="token keyword keyword-as">as</span>
                        <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p>Si ahora en el programa principal ejecutamos el siguiente código...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// Creamos un ArticuloEnExposicion con fecha de inicio hace 10 días.</span>
<span class="token comment">// Hacemos una sustitución hacia el tipo más genérico Articulo</span>
<span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloEnExposicion</span><span class="token punctuation">(</span>
    <span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"A006-E"</span><span class="token punctuation">,</span>
    <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"TV Samsung OLED 50''"</span><span class="token punctuation">,</span>
    <span class="token named-parameter punctuation">precio</span><span class="token punctuation">:</span> <span class="token number">999d</span><span class="token punctuation">,</span>
    <span class="token named-parameter punctuation">inicioExposicion</span><span class="token punctuation">:</span> DateOnly<span class="token punctuation">.</span><span class="token function">FromDateTime</span><span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name"><span class="token keyword keyword-string">string</span></span><span class="token punctuation">(</span><span class="token char">'-'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name"><span class="token keyword keyword-string">string</span></span><span class="token punctuation">(</span><span class="token char">'-'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p><strong>Mostrará por consola:</strong></p>
<pre class="salida_consola">Id: A006-E
Nombre: TV Samsung OLED 50''
Rebaja: 10%
Antes: 999,00€
Ahora: 899,10€
En exposición desde: &lt;fecha actual - 10 días&gt; total 10 días
</pre>
<p>Si lo meditamos, se están realizando <strong>dos enlaces o ligaduras dinámicas</strong> '<mark>→</mark>' ...</p>
<ol>
<li><em><code>a.ATexto()</code></em> <mark>→</mark> <code>override ArticuloRebajado.Atexto()</code> <mark>→</mark> <strong><code>override ArticuloEnExposicion.Atexto()</code></strong></li>
<li>Al ejecutar <code>override ArticuloEnExposicion.Atexto()</code> se llamará a <code>base.ATexto()</code> el cual llamará a <code>override ArticuloRebajado.Precio</code> este al no estar invalidado llama a <code>ArticuloRebajado.Descuento</code> que a su vez llama a <em><code>virtual ArticuloRebajado.PorcentajeRebaja</code></em> <mark>→</mark> <strong><code>override ArticuloEnExposicion.PorcentajeRebaja</code></strong> produciéndose el segundo enlace.</li>
</ol>
<div class="admonition summary">
<p class="admonition-title">Resumen</p>
<p>En otras palabras, el <strong><code>PorcentajeRebaja</code></strong> que usamos en la propiedad <strong><code>Descuento</code></strong> en <strong><code>ArticuloRebajado</code></strong>, no es el de <strong><code>ArticuloRebajado</code></strong>, sino el de <strong><code>ArticuloEnExposicion</code></strong>, que es el que realmente se está ejecutando en ese momento por la ligadura dinámica.</p>
</div>
<p>Si has tenido algún problema, puedes descargar el código del ejemplo anterior del siguiente enlace: <strong><a href="assets/ejemplos/herencia_articuloexposicion_ejemplo.cs">herencia_articuloexposicion.cs</a></strong></p>
<div style="page-break-after:always;"></div>
<h3 id="utilidad-del-polimorfismo-de-datos-sustitución-y-el-enlace-dinámico">Utilidad del polimorfismo de datos (sustitución) y el enlace dinámico </h3>
<p>En ocasiones el software cambia y se añaden nuevas especificaciones, como pudieran ser nuevos tipos de artículos en la jerarquía. Con el polimorfismo de datos, podremos adaptarnos a futuros cambios (Nuevas formas de un objeto), <strong>sin realizar cambios</strong> traumáticos y costosos en nuestros objetos ni en nuestra implementación.</p>
<div class="box_bg_lightgray">
<p><strong>Ejemplo:</strong></p>
<p>Supongamos que queremos modelar una clase <strong><code>TicketCompra</code></strong> que me permita añadir artículos al mismo. Además, vamos a añadir un método para mostrar el ticket y una propiedad calculada que me devuelva el total de la compra. Además, vamos a añanir un método virtual <strong><code>virtual stting ATextoLineaTicket()</code></strong> en la clase <strong><code>Articulo</code></strong> que nos permita mostrar una línea del ticket con el artículo y la invalidaremos en todas las subclases.</p>
<p>Un posible <strong>diseño simplificado</strong> en UML para expresar esto podría ser ...</p>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="124px" preserveAspectRatio="none" style="width:629px;height:124px;" version="1.1" viewBox="0 0 629 124" width="629px" zoomAndPan="magnify"><defs></defs><g><!--class TicketCompra--><g class="entity" data-entity="TicketCompra" data-source-line="12" data-uid="ent0002" id="entity_TicketCompra"><rect fill="#FFFAFA" height="110.4375" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="241.9268" x="7" y="7"></rect><ellipse cx="80.1479" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M82.9136,18.875 Q83.0698,18.6563 83.2573,18.5469 Q83.4448,18.4375 83.6636,18.4375 Q84.0386,18.4375 84.2729,18.7031 Q84.5073,18.9531 84.5073,19.5625 L84.5073,21.0156 Q84.5073,21.625 84.2729,21.8906 Q84.0386,22.1563 83.6636,22.1563 Q83.3198,22.1563 83.1167,21.9531 Q82.9136,21.7656 82.8042,21.25 Q82.7573,20.8906 82.5698,20.7031 Q82.2417,20.3281 81.6323,20.1094 Q81.0229,19.8906 80.3979,19.8906 Q79.6323,19.8906 78.9917,20.2188 Q78.3667,20.5469 77.8667,21.2969 Q77.3823,22.0469 77.3823,23.0781 L77.3823,24.1719 Q77.3823,25.4063 78.2729,26.2344 Q79.1636,27.0469 80.7573,27.0469 Q81.6948,27.0469 82.3511,26.7969 Q82.7417,26.6406 83.1636,26.2031 Q83.4292,25.9375 83.5698,25.8594 Q83.7261,25.7813 83.9292,25.7813 Q84.2573,25.7813 84.5073,26.0469 Q84.7729,26.2969 84.7729,26.6406 Q84.7729,26.9844 84.4292,27.3906 Q83.9292,27.9688 83.1323,28.2969 Q82.0542,28.75 80.7573,28.75 Q79.2417,28.75 78.0386,28.125 Q77.0542,27.625 76.3667,26.5625 Q75.6792,25.4844 75.6792,24.2031 L75.6792,23.0469 Q75.6792,21.7188 76.2886,20.5781 Q76.9136,19.4219 78.0073,18.8125 Q79.1011,18.1875 80.3354,18.1875 Q81.0698,18.1875 81.7104,18.3594 Q82.3667,18.5156 82.9136,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1309" x="100.6479" y="28.7285">TicketCompra</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="247.9268" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.6309" x="13" y="57.5332">+TicketCompra()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.7891" x="13" y="75.1426">+\GetTotal() : double</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229.9268" x="13" y="92.752">+Añade(in a : Articulo):TicketCompra</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.7549" x="13" y="110.3613">+ATexto() : string</text></g><!--class Articulo--><g class="entity" data-entity="Articulo" data-source-line="20" data-uid="ent0003" id="entity_Articulo"><rect fill="#FFFAFA" height="68.3125" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="262.1064" x="360" y="28"></rect><ellipse cx="463.4619" cy="49.3516" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M466.2275,45.2266 Q466.3838,45.0078 466.5713,44.8984 Q466.7588,44.7891 466.9775,44.7891 Q467.3525,44.7891 467.5869,45.0547 Q467.8213,45.3047 467.8213,45.9141 L467.8213,47.3672 Q467.8213,47.9766 467.5869,48.2422 Q467.3525,48.5078 466.9775,48.5078 Q466.6338,48.5078 466.4307,48.3047 Q466.2275,48.1172 466.1182,47.6016 Q466.0713,47.2422 465.8838,47.0547 Q465.5557,46.6797 464.9463,46.4609 Q464.3369,46.2422 463.7119,46.2422 Q462.9463,46.2422 462.3057,46.5703 Q461.6807,46.8984 461.1807,47.6484 Q460.6963,48.3984 460.6963,49.4297 L460.6963,50.5234 Q460.6963,51.7578 461.5869,52.5859 Q462.4775,53.3984 464.0713,53.3984 Q465.0088,53.3984 465.665,53.1484 Q466.0557,52.9922 466.4775,52.5547 Q466.7432,52.2891 466.8838,52.2109 Q467.04,52.1328 467.2432,52.1328 Q467.5713,52.1328 467.8213,52.3984 Q468.0869,52.6484 468.0869,52.9922 Q468.0869,53.3359 467.7432,53.7422 Q467.2432,54.3203 466.4463,54.6484 Q465.3682,55.1016 464.0713,55.1016 Q462.5557,55.1016 461.3525,54.4766 Q460.3682,53.9766 459.6807,52.9141 Q458.9932,51.8359 458.9932,50.5547 L458.9932,49.3984 Q458.9932,48.0703 459.6025,46.9297 Q460.2275,45.7734 461.3213,45.1641 Q462.415,44.5391 463.6494,44.5391 Q464.3838,44.5391 465.0244,44.7109 Q465.6807,44.8672 466.2275,45.2266 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="42.0293" x="486.2886" y="45.457">«entity»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6826" x="483.9619" y="62.627">Articulo</text><line style="stroke:#000000;stroke-width:0.5;" x1="361" x2="621.1064" y1="70.7031" y2="70.7031"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="250.1064" x="366" y="89.2363">+ATextoLineaTicket() : string {virtual}</text></g><!--reverse link TicketCompra to Articulo--><g class="link" data-entity-1="TicketCompra" data-entity-2="Articulo" data-source-line="26" data-uid="lnk4" id="link_TicketCompra_Articulo"><path codeline="26" d="M261.21,62 C296.69,62 323.69,62 359.77,62" fill="none" id="TicketCompra-backto-Articulo" style="stroke:#000000;stroke-width:1;"></path><polygon fill="none" points="249.21,62,255.21,66,261.21,62,255.21,58,249.21,62" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.1499" x="280" y="58.4951">contiene</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="332.6458" y="75.9587">1..*</text></g><!--SRC=[RP71JiCm38RlUGfhfwre4rodQLAt0qBYWBHANBYagMcjfl7akemnxQ5u1bwCR6MYJEGInV-VpxyJZwyAoY1KLWe52Jeb3gQjAMojs0QSjssRgWhbdUA3ux2X3uJRWIKLuTsQFGkil7NrG7gAHrlYAcwbS1UAtlPSaUAcuHe7tlMfqugbGFaVrXkkK9l0ku7dMix4XZPA6DIOYWe4RBQwXmQR7AKrvZmVPEHgr3KtMx7cO22kcs5jFEbhB_Ue6QlrumdCeU0kzzWhwTUdBN1C0MnKKb5odUV9_0-vTsRuhdm6jF5PGscEbnYNQx1OnC2a- -No9qsI76mUxTRfyO9uf82svmzeS7WZqSxwOvASo6QO07WwXT7TR9QCVflD8Vwg4WOqtm00]--></g></svg></p><p></p>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">Software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification.</div>
        <div class="autor">- Bertrand Mayer.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<p>Lo primero sería la implementación de <strong><code>ATextoLineaTicket()</code></strong> en toda la jerarquía de artículos, para que cada uno de ellos muestre su información de forma adecuada.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>   
    <span class="token comment">// ... código omitido para abreviar.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATextoLineaTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                        <span class="token punctuation">{</span>Nombre<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>Precio<span class="token punctuation">,</span><span class="token number">26</span><span class="token punctuation">:</span>F2<span class="token punctuation">}</span>€
                        <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>   
    <span class="token comment">// ... código omitido para abreviar.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATextoLineaTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                        <span class="token punctuation">{</span>Nombre<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>PrecioBase<span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">:</span>F2<span class="token punctuation">}</span>€ con <span class="token punctuation">{</span>PorcentajeRebaja<span class="token punctuation">:</span>D2<span class="token punctuation">}</span><span class="token operator">%</span> <span class="token punctuation">{</span>Precio<span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">:</span>F2<span class="token punctuation">}</span>€
                        <span class="token string">""</span>"<span class="token punctuation">;</span>                        
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloReacondicionado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>   
    <span class="token comment">// ... código omitido para abreviar.</span>
    <span class="token comment">// Como artículo pero añadiendo un R</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATextoLineaTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                        <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ATextoLineaTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> R <span class="token punctuation">(</span><span class="token punctuation">{</span>Descripcion<span class="token punctuation">}</span><span class="token punctuation">)</span>
                        <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span>  <span class="token class-name">ArticuloEnExposicion</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ArticuloRebajado</span></span>
<span class="token punctuation">{</span>   
    <span class="token comment">// ... código omitido para abreviar.</span>
    <span class="token comment">// Como artículo rfebajado pero añadiendo un E</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATextoLineaTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                        <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ATextoLineaTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> R <span class="token punctuation">(</span><span class="token punctuation">{</span>Descripcion<span class="token punctuation">}</span><span class="token punctuation">)</span>
                        <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p>Una propuesta de implementación de la clase <strong><code>TicketCompra</code></strong> podría ser:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">TicketCompra</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Puesto que no definimos constructor y dejamos el de por defecto,</span>
    <span class="token comment">// inicializamos la lista de artículos directamente.</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Articulo<span class="token punctuation">&gt;</span></span> Articulos <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Total
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-get">get</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword keyword-double">double</span></span> total <span class="token operator">=</span> <span class="token number">0d</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Articulo</span> a <span class="token keyword keyword-in">in</span> Articulos<span class="token punctuation">)</span>
                total <span class="token operator">+=</span> a<span class="token punctuation">.</span>Precio<span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> total<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Definimos un interfaz fluido como los que utiliza la clase StringBuilder.</span>
    <span class="token keyword keyword-public">public</span> TicketCompra Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token class-name">Articulo</span> a<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Articulos<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> ticket <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Articulo</span> a <span class="token keyword keyword-in">in</span> Articulos<span class="token punctuation">)</span>
            ticket<span class="token punctuation">.</span><span class="token function">AppendLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">ATextoLineaTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ticket<span class="token punctuation">.</span><span class="token function">AppendLine</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name"><span class="token keyword keyword-string">string</span></span><span class="token punctuation">(</span><span class="token char">'-'</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">AppendLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Total: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Total<span class="token punctuation">,</span><span class="token number">41</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> ticket<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p>Si implementamos el siguiente programa principal de test...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">TicketCompra</span> ticket <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ticket<span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span>
                    <span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"A001"</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Camiseta"</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">precio</span><span class="token punctuation">:</span> <span class="token number">19.99</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span>
                    <span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"A002"</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Pantalón"</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">precio</span><span class="token punctuation">:</span> <span class="token number">39.99</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">porcentajeRebaja</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span>
                    <span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"A003"</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Zapatillas"</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">precio</span><span class="token punctuation">:</span> <span class="token number">59.99</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">fechaReacondicionamiento</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">empresa</span><span class="token punctuation">:</span> <span class="token string">"Reacondicionados S.A."</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">descripcion</span><span class="token punctuation">:</span> <span class="token string">"Con caja original"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloEnExposicion</span><span class="token punctuation">(</span>
                    <span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"A004"</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Chaqueta"</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">precio</span><span class="token punctuation">:</span> <span class="token number">89.99</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">inicioExposicion</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token number">2025</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ticket<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>Mostrará por consola el siguiente ticket de compra:</strong></p>
<pre class="salida_consola">Camiseta                                  19,99?
Pantalón                39,99? con 20%    31,99?
Zapatillas                                59,99? R (Con caja original)
Chaqueta                89,99? con 75%    22,50? E (desde 01/02/2025)
----------------------------------------------------------------------
Total:                                    134,47?
</pre>
<div style="page-break-after:always;"></div>
<p>Si nos fijamos aunque el ticket solo maneje <strong>artículos genéricos</strong>, ha sabido calcular correctamente a través del enlace dinámico como hay que mostrar la información de cada uno de ellos a través del método <strong><code>ATextoLineaTicket()</code></strong>. Además, de csaber calcular el <strong><code>Total</code></strong> sumando la propiedad <strong><code>Precio</code></strong> de cada uno de los artículos.</p>
<div class="row">
<div class="col-sm-6 my-auto">
<p>Si ahora añadiésemos otro tipo de artículo como por ejemplo <strong>artículos defectuosos</strong>, que funcionan bien y no han sido reacondicionados, pero tienen algún defecto menor, como una rozadura, pixel muerto, etc. y por tanto <strong>se les aplica una rebaja</strong>, pero también nos interesa guardar información del defecto.</p>
<p>A la hora de modelizar podemos decir que <strong>un artículo defectuoso - <em>es un</em> - artículo rebajado</strong> y modelizarlo como la propuesta del diagrama adjunto.</p>
</div>
<div class="col-sm-6 my-auto">
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="217.8px" preserveAspectRatio="none" style="width:329px;height:217px;" version="1.1" viewBox="0 0 329 217" width="329.4px" zoomAndPan="magnify"><defs></defs><g><!--class ArticuloDefectuoso--><g class="entity" data-entity="ArticuloDefectuoso" data-source-line="12" data-uid="ent0002" id="entity_ArticuloDefectuoso"><rect fill="#FFDEAD" height="122.4422" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="317.1867" x="6.3" y="89.1"></rect><ellipse cx="108.192" cy="103.5" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M110.6811,99.7875 Q110.8217,99.5906 110.9905,99.4922 Q111.1592,99.3938 111.3561,99.3938 Q111.6936,99.3938 111.9045,99.6328 Q112.1155,99.8578 112.1155,100.4063 L112.1155,101.7141 Q112.1155,102.2625 111.9045,102.5016 Q111.6936,102.7406 111.3561,102.7406 Q111.0467,102.7406 110.8639,102.5578 Q110.6811,102.3891 110.5827,101.925 Q110.5405,101.6016 110.3717,101.4328 Q110.0764,101.0953 109.528,100.8984 Q108.9795,100.7016 108.417,100.7016 Q107.728,100.7016 107.1514,100.9969 Q106.5889,101.2922 106.1389,101.9672 Q105.703,102.6422 105.703,103.5703 L105.703,104.5547 Q105.703,105.6656 106.5045,106.4109 Q107.3061,107.1422 108.7405,107.1422 Q109.5842,107.1422 110.1749,106.9172 Q110.5264,106.7766 110.9061,106.3828 Q111.1452,106.1438 111.2717,106.0734 Q111.4124,106.0031 111.5952,106.0031 Q111.8905,106.0031 112.1155,106.2422 Q112.3545,106.4672 112.3545,106.7766 Q112.3545,107.0859 112.0452,107.4516 Q111.5952,107.9719 110.878,108.2672 Q109.9077,108.675 108.7405,108.675 Q107.3764,108.675 106.2936,108.1125 Q105.4077,107.6625 104.7889,106.7063 Q104.1702,105.7359 104.1702,104.5828 L104.1702,103.5422 Q104.1702,102.3469 104.7186,101.3203 Q105.2811,100.2797 106.2655,99.7313 Q107.2499,99.1688 108.3608,99.1688 Q109.0217,99.1688 109.5983,99.3234 Q110.1889,99.4641 110.6811,99.7875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="105.7526" x="126.642" y="108.6557">ArticuloDefectuoso</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="322.5867" y1="117.9" y2="117.9"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="149.8834" x="11.7" y="134.5799">-defecto : string {readOnly}</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="322.5867" y1="140.9484" y2="140.9484"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="306.3867" x="11.7" y="157.6283">+ArticuloDefectuoso(in id : string, ..., in defecto : string)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="120.7951" x="11.7" y="173.4768">+GetDefecto() : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="102.8918" x="11.7" y="189.3252">^+ATexto() : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="167.3253" x="11.7" y="205.1736">^+ATextoLineaTicket() : string</text></g><!--class ArticuloRebajado--><g class="entity" data-entity="ArticuloRebajado" data-source-line="22" data-uid="ent0003" id="entity_ArticuloRebajado"><rect fill="#FFFAFA" height="28.8" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="124.7581" x="102.15" y="6.3"></rect><ellipse cx="115.65" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M118.1391,16.9875 Q118.2797,16.7906 118.4484,16.6922 Q118.6172,16.5938 118.8141,16.5938 Q119.1516,16.5938 119.3625,16.8328 Q119.5734,17.0578 119.5734,17.6063 L119.5734,18.9141 Q119.5734,19.4625 119.3625,19.7016 Q119.1516,19.9406 118.8141,19.9406 Q118.5047,19.9406 118.3219,19.7578 Q118.1391,19.5891 118.0406,19.125 Q117.9984,18.8016 117.8297,18.6328 Q117.5344,18.2953 116.9859,18.0984 Q116.4375,17.9016 115.875,17.9016 Q115.1859,17.9016 114.6094,18.1969 Q114.0469,18.4922 113.5969,19.1672 Q113.1609,19.8422 113.1609,20.7703 L113.1609,21.7547 Q113.1609,22.8656 113.9625,23.6109 Q114.7641,24.3422 116.1984,24.3422 Q117.0422,24.3422 117.6328,24.1172 Q117.9844,23.9766 118.3641,23.5828 Q118.6031,23.3438 118.7297,23.2734 Q118.8703,23.2031 119.0531,23.2031 Q119.3484,23.2031 119.5734,23.4422 Q119.8125,23.6672 119.8125,23.9766 Q119.8125,24.2859 119.5031,24.6516 Q119.0531,25.1719 118.3359,25.4672 Q117.3656,25.875 116.1984,25.875 Q114.8344,25.875 113.7516,25.3125 Q112.8656,24.8625 112.2469,23.9063 Q111.6281,22.9359 111.6281,21.7828 L111.6281,20.7422 Q111.6281,19.5469 112.1766,18.5203 Q112.7391,17.4797 113.7234,16.9313 Q114.7078,16.3688 115.8188,16.3688 Q116.4797,16.3688 117.0563,16.5234 Q117.6469,16.6641 118.1391,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="95.9581" x="128.25" y="25.8557">ArticuloRebajado</text></g><!--reverse link ArticuloRebajado to ArticuloDefectuoso--><g class="link" data-entity-1="ArticuloRebajado" data-entity-2="ArticuloDefectuoso" data-source-line="22" data-uid="lnk4" id="link_ArticuloRebajado_ArticuloDefectuoso"><path codeline="22" d="M164.7,51.48 C164.7,64.485 164.7,68.796 164.7,88.857" fill="none" id="ArticuloRebajado-backto-ArticuloDefectuoso" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="164.7,35.28,159.3,51.48,170.1,51.48,164.7,35.28" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--SRC=[RP11JyCm38Nl-HMMk6pQMd65MpiaX8G4efMuJN8JhylQnbEIKiR4VoThnUZAV8dYz-NvEQxIPeyM6v0rEfTuRtNHUdgIR3BzHN0ht1b9hELknJLRI6kKrKXw3LSiAGr7QRarQi3UjzfJrd158tPrcfIoLMIlcmt0n2ept8sOgPnRD2v8PBmGJc8TeiTtGcor8g1cxm_GK5EGTKBqguPjl9PjpG-q8UbRTWmt1ZzmnzqfjJWA21MfNcQu1nV-nfHmj8JgnTI7Rz4JY_z6Csr0g_EJ9SHnl8JGd9hD1uT7yiDZdit_1eNgvVKYoUdpGhleFsj3c6jPaHyZ8TvliZSgS8UAOHr5L_OMFm00]--></g></svg></p><p></p>
</div>
</div>
<p>Donde una posible implementación podría ser ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloDefectuoso</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ArticuloRebajado</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Defecto <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">ArticuloDefectuoso</span><span class="token punctuation">(</span>
                        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> id<span class="token punctuation">,</span>
                        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span>
                        <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">,</span>
                        <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> porcentajeRebaja<span class="token punctuation">,</span>
                        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> defecto<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> nombre<span class="token punctuation">,</span> precio<span class="token punctuation">,</span> porcentajeRebaja<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Defecto <span class="token operator">=</span> defecto<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                        <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                        Defecto<span class="token punctuation">:</span> <span class="token punctuation">{</span>Defecto<span class="token punctuation">}</span>
                        <span class="token string">""</span>"<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATextoLineaTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                        <span class="token punctuation">{</span><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ATextoLineaTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> D <span class="token punctuation">(</span><span class="token punctuation">{</span>Defecto<span class="token punctuation">}</span><span class="token punctuation">)</span>
                        <span class="token string">""</span>"<span class="token punctuation">;</span>                        
<span class="token punctuation">}</span>
</code></pre><div class="admonition tip">
<p class="admonition-title">Importante</p>
<p>Si ahora añadimos un nuevo artículo de este tipo a nuestro ticket. <strong>No tendremos que modificar nuestra clase <code>TicketCompra</code></strong> y esto será gracias al <strong>polimorfismo de datos</strong>.</p>
</div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">TicketCompra</span> ticket <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token comment">// ... código omitido para abreviar.</span>
    <span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloDefectuoso</span><span class="token punctuation">(</span>
                    <span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"A005"</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Gorra"</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">precio</span><span class="token punctuation">:</span> <span class="token number">15.99</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">porcentajeRebaja</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">defecto</span><span class="token punctuation">:</span> <span class="token string">"Pequeño rasguño"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ticket<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>Mostrará por consola el ticket de compra modificado:</strong></p>
<pre class="salida_consola">Camiseta                                  19,99?
Pantalón                39,99? con 20%    31,99?
Zapatillas                                59,99? R (Con caja original)
Chaqueta                89,99? con 75%    22,50? E (desde 01/02/2025)
<b>Gorra                   15,99? con 10%    14,39? D (Pequeño rasguño)</b>
----------------------------------------------------------------------
Total:                                    148,86?
</pre>
<p>Puedes descargar el código del ejemplo anterior del siguiente enlace: <strong><a href="assets/ejemplos/herencia_ticket_articulos_ejemplo.cs">herencia_ticket_articulos.cs</a></strong></p>
</div> <!-- fin ejemplo -->
<div style="page-break-after:always;"></div>
<h3 id="el-caso-especial-de-la-clase-object-en-csharp">El caso especial de la clase object en CSharp </h3>
<p>La Clase <strong><code>Object</code></strong> definida en <strong><code>System</code></strong>, es una clase especial de la cual heredan de forma <strong>implícita</strong> todos los objetos, tanto valor como refrencia, creados en C#. Por tanto, podemos decir que un objeto de <strong>la clase <code>object</code> puede sustituir a cualquier objeto</strong> definido por nosotros o en las BCL.</p>
<p>Historicamente, en los principios de C#, esta clase se utilizaba para tratar objetos de forma genérica como en colecciones, antes de que el lenguaje implementara la genericidad a través de genéricos o clases parametrizadas, cuyo uso es más recomendable. Además, podemos encontrar esta clase en otros lenguajes como Java.</p>
<p><strong>Define una serie de métodos invalidables o virtuales que podremos redefinir</strong> en cualquiera de las clases que nosotros creemos. Entre ellos podemos destacar:</p>
<h4 id="objecttostring">object.ToString() </h4>
<p>El método <strong><code>public virtual string ToString()</code></strong>, es llamado <strong>automáticamente</strong> cada vez que un objeto se intenta formatear cómo cadena y equivaldría en cierta manera al método <strong><code>string ATexto()</code></strong> que hemos definido en nuestras clases de ejemplo.</p>
<p>En el fondo, aunque no se especifique, <strong><code>Articulo</code></strong> hereda implícitamente de <strong><code>Object</code></strong> y por tanto las clases <strong><code>Articulo</code></strong>, <strong><code>ArticuloRebajado</code></strong>, <strong><code>ArticuloReacondicionado</code></strong>, etc. heredan el método <strong><code>ToString()</code></strong> y además pueden invalidarlo.</p>
<p>De hecho <strong>si no lo invalidamos</strong> mostrará por consola el <strong>nombre completo de la clase</strong>, que en el caso caso del siguiente ejemplo sería <em><strong>EjemploHerencia.Articulo</strong></em>:</p>
<div class="row">
<div class="col-sm-6 my-auto">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-namespace">namespace</span> <span class="token namespace">EjemploHerencia</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Program</span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span>
                    <span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"A001"</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Camiseta"</span><span class="token punctuation">,</span>
                    <span class="token named-parameter punctuation">precio</span><span class="token punctuation">:</span> <span class="token number">19.99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-6">
<p><strong>Mostrará por consola:</strong></p>
<pre class="salida_consola">EjemploHerencia.Articulo</pre>
</div>
</div>
<div class="row">
<div class="col-sm-6">
<div style="page-break-after:always;"></div>
<p>Si ahora <strong>sustituimos el nombre del método <code>ATexto()</code></strong> por el método <strong><code>ToString()</code></strong> toda la jerarquía de artículos podrá mostrar su información de forma adecuada y podremos evitar tener que llamar a <strong><code>ATexto()</code></strong> cada vez que queramos mostrar un artículo. Pues <strong><code>Console.WriteLine(a)</code></strong> llamará automáticamente a <strong><code>ToString()</code></strong>.</p>
<p>Ten en cuenta que al ser un método de <strong><code>object</code></strong> no debemos declararlo como <strong><code>virtual</code></strong> en la clase <strong><code>Articulo</code></strong>, sino aplicar el modificador <strong><code>override</code></strong> para invalidarlo, ya que <strong><code>ToString()</code></strong> ya está definido en la clase <strong><code>object</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido para abreviar.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
            Id<span class="token punctuation">:</span> <span class="token punctuation">{</span>Id<span class="token punctuation">}</span>
            Nombre<span class="token punctuation">:</span> <span class="token punctuation">{</span>Nombre<span class="token punctuation">}</span>
            Precio<span class="token punctuation">:</span> <span class="token punctuation">{</span>Precio<span class="token punctuation">:</span>F2<span class="token punctuation">}</span>€
            <span class="token string">""</span>"<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-6">
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="297.5px" preserveAspectRatio="none" style="width:338px;height:297px;" version="1.1" viewBox="0 0 338 297" width="338.1px" zoomAndPan="magnify"><defs></defs><g><!--class Object--><g class="entity" data-entity="Object" data-source-line="12" data-uid="ent0002" id="entity_Object"><rect fill="#FFDEAD" height="40.3266" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.35;" width="125.2296" x="136.15" y="4.9"></rect><ellipse cx="181.6281" cy="16.1" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.7;"></ellipse><path d="M183.5641,13.2125 Q183.6734,13.0594 183.8047,12.9828 Q183.9359,12.9062 184.0891,12.9062 Q184.3516,12.9062 184.5156,13.0922 Q184.6797,13.2672 184.6797,13.6937 L184.6797,14.7109 Q184.6797,15.1375 184.5156,15.3234 Q184.3516,15.5094 184.0891,15.5094 Q183.8484,15.5094 183.7062,15.3672 Q183.5641,15.2359 183.4875,14.875 Q183.4547,14.6234 183.3234,14.4922 Q183.0937,14.2297 182.6672,14.0766 Q182.2406,13.9234 181.8031,13.9234 Q181.2672,13.9234 180.8187,14.1531 Q180.3812,14.3828 180.0312,14.9078 Q179.6922,15.4328 179.6922,16.1547 L179.6922,16.9203 Q179.6922,17.7844 180.3156,18.3641 Q180.9391,18.9328 182.0547,18.9328 Q182.7109,18.9328 183.1703,18.7578 Q183.4437,18.6484 183.7391,18.3422 Q183.925,18.1562 184.0234,18.1016 Q184.1328,18.0469 184.275,18.0469 Q184.5047,18.0469 184.6797,18.2328 Q184.8656,18.4078 184.8656,18.6484 Q184.8656,18.8891 184.625,19.1734 Q184.275,19.5781 183.7172,19.8078 Q182.9625,20.125 182.0547,20.125 Q180.9937,20.125 180.1516,19.6875 Q179.4625,19.3375 178.9812,18.5937 Q178.5,17.8391 178.5,16.9422 L178.5,16.1328 Q178.5,15.2031 178.9266,14.4047 Q179.3641,13.5953 180.1297,13.1687 Q180.8953,12.7312 181.7594,12.7312 Q182.2734,12.7312 182.7219,12.8516 Q183.1812,12.9609 183.5641,13.2125 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="28.3233" x="195.9781" y="20.11">Object</text><line style="stroke:#000000;stroke-width:0.35;" x1="136.85" x2="260.6796" y1="27.3" y2="27.3"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="116.8296" x="140.35" y="40.2732">+ToString() : string {virtual}</text></g><!--class Articulo--><g class="entity" data-entity="Articulo" data-source-line="16" data-uid="ent0003" id="entity_Articulo"><rect fill="#FFFAFA" height="40.3266" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.35;" width="94.418" x="151.55" y="87.5"></rect><ellipse cx="179.7531" cy="98.7" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.7;"></ellipse><path d="M181.689,95.8125 Q181.7984,95.6594 181.9296,95.5828 Q182.0609,95.5062 182.214,95.5062 Q182.4765,95.5062 182.6406,95.6922 Q182.8046,95.8672 182.8046,96.2937 L182.8046,97.3109 Q182.8046,97.7375 182.6406,97.9234 Q182.4765,98.1094 182.214,98.1094 Q181.9734,98.1094 181.8312,97.9672 Q181.689,97.8359 181.6124,97.475 Q181.5796,97.2234 181.4484,97.0922 Q181.2187,96.8297 180.7921,96.6766 Q180.3656,96.5234 179.9281,96.5234 Q179.3921,96.5234 178.9437,96.7531 Q178.5062,96.9828 178.1562,97.5078 Q177.8171,98.0328 177.8171,98.7547 L177.8171,99.5203 Q177.8171,100.3844 178.4406,100.9641 Q179.064,101.5328 180.1796,101.5328 Q180.8359,101.5328 181.2952,101.3578 Q181.5687,101.2484 181.864,100.9422 Q182.0499,100.7562 182.1484,100.7016 Q182.2577,100.6469 182.3999,100.6469 Q182.6296,100.6469 182.8046,100.8328 Q182.9906,101.0078 182.9906,101.2484 Q182.9906,101.4891 182.7499,101.7734 Q182.3999,102.1781 181.8421,102.4078 Q181.0874,102.725 180.1796,102.725 Q179.1187,102.725 178.2765,102.2875 Q177.5874,101.9375 177.1062,101.1937 Q176.6249,100.4391 176.6249,99.5422 L176.6249,98.7328 Q176.6249,97.8031 177.0515,97.0047 Q177.489,96.1953 178.2546,95.7687 Q179.0202,95.3312 179.8843,95.3312 Q180.3984,95.3312 180.8468,95.4516 Q181.3062,95.5609 181.689,95.8125 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="32.6778" x="193.4871" y="102.71">Articulo</text><line style="stroke:#000000;stroke-width:0.35;" x1="152.25" x2="245.268" y1="109.9" y2="109.9"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="86.018" x="155.75" y="122.8732">^+ToString() : string</text></g><!--class ArticuloRebajado--><g class="entity" data-entity="ArticuloRebajado" data-source-line="20" data-uid="ent0004" id="entity_ArticuloRebajado"><rect fill="#FFFAFA" height="40.3266" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.35;" width="97.0341" x="80.85" y="170.1"></rect><ellipse cx="91.35" cy="181.3" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.7;"></ellipse><path d="M93.2859,178.4125 Q93.3953,178.2594 93.5266,178.1828 Q93.6578,178.1062 93.8109,178.1062 Q94.0734,178.1062 94.2375,178.2922 Q94.4016,178.4672 94.4016,178.8937 L94.4016,179.9109 Q94.4016,180.3375 94.2375,180.5234 Q94.0734,180.7094 93.8109,180.7094 Q93.5703,180.7094 93.4281,180.5672 Q93.2859,180.4359 93.2094,180.075 Q93.1766,179.8234 93.0453,179.6922 Q92.8156,179.4297 92.3891,179.2766 Q91.9625,179.1234 91.525,179.1234 Q90.9891,179.1234 90.5406,179.3531 Q90.1031,179.5828 89.7531,180.1078 Q89.4141,180.6328 89.4141,181.3547 L89.4141,182.1203 Q89.4141,182.9844 90.0375,183.5641 Q90.6609,184.1328 91.7766,184.1328 Q92.4328,184.1328 92.8922,183.9578 Q93.1656,183.8484 93.4609,183.5422 Q93.6469,183.3562 93.7453,183.3016 Q93.8547,183.2469 93.9969,183.2469 Q94.2266,183.2469 94.4016,183.4328 Q94.5875,183.6078 94.5875,183.8484 Q94.5875,184.0891 94.3469,184.3734 Q93.9969,184.7781 93.4391,185.0078 Q92.6844,185.325 91.7766,185.325 Q90.7156,185.325 89.8734,184.8875 Q89.1844,184.5375 88.7031,183.7937 Q88.2219,183.0391 88.2219,182.1422 L88.2219,181.3328 Q88.2219,180.4031 88.6484,179.6047 Q89.0859,178.7953 89.8516,178.3687 Q90.6172,177.9312 91.4812,177.9312 Q91.9953,177.9312 92.4437,178.0516 Q92.9031,178.1609 93.2859,178.4125 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="74.6341" x="101.15" y="185.31">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.35;" x1="81.55" x2="177.1841" y1="192.5" y2="192.5"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="86.018" x="85.05" y="205.4732">^+ToString() : string</text></g><!--class ArticuloReacondicionado--><g class="entity" data-entity="ArticuloReacondicionado" data-source-line="24" data-uid="ent0005" id="entity_ArticuloReacondicionado"><rect fill="#FFFAFA" height="40.3266" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.35;" width="130.8125" x="202.65" y="170.1"></rect><ellipse cx="213.15" cy="181.3" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.7;"></ellipse><path d="M215.0859,178.4125 Q215.1953,178.2594 215.3266,178.1828 Q215.4578,178.1062 215.6109,178.1062 Q215.8734,178.1062 216.0375,178.2922 Q216.2016,178.4672 216.2016,178.8937 L216.2016,179.9109 Q216.2016,180.3375 216.0375,180.5234 Q215.8734,180.7094 215.6109,180.7094 Q215.3703,180.7094 215.2281,180.5672 Q215.0859,180.4359 215.0094,180.075 Q214.9766,179.8234 214.8453,179.6922 Q214.6156,179.4297 214.1891,179.2766 Q213.7625,179.1234 213.325,179.1234 Q212.7891,179.1234 212.3406,179.3531 Q211.9031,179.5828 211.5531,180.1078 Q211.2141,180.6328 211.2141,181.3547 L211.2141,182.1203 Q211.2141,182.9844 211.8375,183.5641 Q212.4609,184.1328 213.5766,184.1328 Q214.2328,184.1328 214.6922,183.9578 Q214.9656,183.8484 215.2609,183.5422 Q215.4469,183.3562 215.5453,183.3016 Q215.6547,183.2469 215.7969,183.2469 Q216.0266,183.2469 216.2016,183.4328 Q216.3875,183.6078 216.3875,183.8484 Q216.3875,184.0891 216.1469,184.3734 Q215.7969,184.7781 215.2391,185.0078 Q214.4844,185.325 213.5766,185.325 Q212.5156,185.325 211.6734,184.8875 Q210.9844,184.5375 210.5031,183.7937 Q210.0219,183.0391 210.0219,182.1422 L210.0219,181.3328 Q210.0219,180.4031 210.4484,179.6047 Q210.8859,178.7953 211.6516,178.3687 Q212.4172,177.9312 213.2812,177.9312 Q213.7953,177.9312 214.2437,178.0516 Q214.7031,178.1609 215.0859,178.4125 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="108.4125" x="222.95" y="185.31">ArticuloReacondicionado</text><line style="stroke:#000000;stroke-width:0.35;" x1="203.35" x2="332.7625" y1="192.5" y2="192.5"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="86.018" x="206.85" y="205.4732">^+ToString() : string</text></g><!--class ArticuloEnExposicion--><g class="entity" data-entity="ArticuloEnExposicion" data-source-line="28" data-uid="ent0006" id="entity_ArticuloEnExposicion"><rect fill="#FFFAFA" height="40.3266" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.35;" width="114.4568" x="4.9" y="252.7"></rect><ellipse cx="15.4" cy="263.9" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.7;"></ellipse><path d="M17.3359,261.0125 Q17.4453,260.8594 17.5766,260.7828 Q17.7078,260.7062 17.8609,260.7062 Q18.1234,260.7062 18.2875,260.8922 Q18.4516,261.0672 18.4516,261.4937 L18.4516,262.5109 Q18.4516,262.9375 18.2875,263.1234 Q18.1234,263.3094 17.8609,263.3094 Q17.6203,263.3094 17.4781,263.1672 Q17.3359,263.0359 17.2594,262.675 Q17.2266,262.4234 17.0953,262.2922 Q16.8656,262.0297 16.4391,261.8766 Q16.0125,261.7234 15.575,261.7234 Q15.0391,261.7234 14.5906,261.9531 Q14.1531,262.1828 13.8031,262.7078 Q13.4641,263.2328 13.4641,263.9547 L13.4641,264.7203 Q13.4641,265.5844 14.0875,266.1641 Q14.7109,266.7328 15.8266,266.7328 Q16.4828,266.7328 16.9422,266.5578 Q17.2156,266.4484 17.5109,266.1422 Q17.6969,265.9562 17.7953,265.9016 Q17.9047,265.8469 18.0469,265.8469 Q18.2766,265.8469 18.4516,266.0328 Q18.6375,266.2078 18.6375,266.4484 Q18.6375,266.6891 18.3969,266.9734 Q18.0469,267.3781 17.4891,267.6078 Q16.7344,267.925 15.8266,267.925 Q14.7656,267.925 13.9234,267.4875 Q13.2344,267.1375 12.7531,266.3937 Q12.2719,265.6391 12.2719,264.7422 L12.2719,263.9328 Q12.2719,263.0031 12.6984,262.2047 Q13.1359,261.3953 13.9016,260.9687 Q14.6672,260.5312 15.5312,260.5312 Q16.0453,260.5312 16.4937,260.6516 Q16.9531,260.7609 17.3359,261.0125 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="92.0568" x="25.2" y="267.91">ArticuloEnExposicion</text><line style="stroke:#000000;stroke-width:0.35;" x1="5.6" x2="118.6568" y1="275.1" y2="275.1"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="86.018" x="9.1" y="288.0732">^+ToString() : string</text></g><!--class ArticuloDefectuoso--><g class="entity" data-entity="ArticuloDefectuoso" data-source-line="32" data-uid="ent0007" id="entity_ArticuloDefectuoso"><rect fill="#FFFAFA" height="40.3266" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.35;" width="104.6521" x="144.2" y="252.7"></rect><ellipse cx="154.7" cy="263.9" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.7;"></ellipse><path d="M156.6359,261.0125 Q156.7453,260.8594 156.8766,260.7828 Q157.0078,260.7062 157.1609,260.7062 Q157.4234,260.7062 157.5875,260.8922 Q157.7516,261.0672 157.7516,261.4937 L157.7516,262.5109 Q157.7516,262.9375 157.5875,263.1234 Q157.4234,263.3094 157.1609,263.3094 Q156.9203,263.3094 156.7781,263.1672 Q156.6359,263.0359 156.5594,262.675 Q156.5266,262.4234 156.3953,262.2922 Q156.1656,262.0297 155.7391,261.8766 Q155.3125,261.7234 154.875,261.7234 Q154.3391,261.7234 153.8906,261.9531 Q153.4531,262.1828 153.1031,262.7078 Q152.7641,263.2328 152.7641,263.9547 L152.7641,264.7203 Q152.7641,265.5844 153.3875,266.1641 Q154.0109,266.7328 155.1266,266.7328 Q155.7828,266.7328 156.2422,266.5578 Q156.5156,266.4484 156.8109,266.1422 Q156.9969,265.9562 157.0953,265.9016 Q157.2047,265.8469 157.3469,265.8469 Q157.5766,265.8469 157.7516,266.0328 Q157.9375,266.2078 157.9375,266.4484 Q157.9375,266.6891 157.6969,266.9734 Q157.3469,267.3781 156.7891,267.6078 Q156.0344,267.925 155.1266,267.925 Q154.0656,267.925 153.2234,267.4875 Q152.5344,267.1375 152.0531,266.3937 Q151.5719,265.6391 151.5719,264.7422 L151.5719,263.9328 Q151.5719,263.0031 151.9984,262.2047 Q152.4359,261.3953 153.2016,260.9687 Q153.9672,260.5312 154.8312,260.5312 Q155.3453,260.5312 155.7937,260.6516 Q156.2531,260.7609 156.6359,261.0125 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="82.2521" x="164.5" y="267.91">ArticuloDefectuoso</text><line style="stroke:#000000;stroke-width:0.35;" x1="144.9" x2="248.1521" y1="275.1" y2="275.1"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="86.018" x="148.4" y="288.0732">^+ToString() : string</text></g><!--reverse link Object to Articulo--><g class="link" data-entity-1="Object" data-entity-2="Articulo" data-source-line="36" data-uid="lnk8" id="link_Object_Articulo"><path codeline="36" d="M198.8,58.156 C198.8,70.826 198.8,74.648 198.8,87.346" fill="none" id="Object-backto-Articulo" style="stroke:#000000;stroke-width:0.7;"></path><polygon fill="none" points="198.8,45.556,194.6,58.156,203,58.156,198.8,45.556" style="stroke:#000000;stroke-width:0.7;"></polygon></g><!--reverse link Articulo to ArticuloRebajado--><g class="link" data-entity-1="Articulo" data-entity-2="ArticuloRebajado" data-source-line="37" data-uid="lnk9" id="link_Articulo_ArticuloRebajado"><path codeline="37" d="M173.8407,137.7394 C163.0257,150.4094 157.192,157.248 146.363,169.946" fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:0.7;"></path><polygon fill="none" points="182.021,128.156,170.6462,135.0127,177.0351,140.4662,182.021,128.156" style="stroke:#000000;stroke-width:0.7;"></polygon></g><!--reverse link Articulo to ArticuloReacondicionado--><g class="link" data-entity-1="Articulo" data-entity-2="ArticuloReacondicionado" data-source-line="38" data-uid="lnk10" id="link_Articulo_ArticuloReacondicionado"><path codeline="38" d="M223.7593,137.7394 C234.5743,150.4094 240.408,157.248 251.237,169.946" fill="none" id="Articulo-backto-ArticuloReacondicionado" style="stroke:#000000;stroke-width:0.7;"></path><polygon fill="none" points="215.579,128.156,220.5649,140.4662,226.9538,135.0127,215.579,128.156" style="stroke:#000000;stroke-width:0.7;"></polygon></g><!--reverse link ArticuloRebajado to ArticuloEnExposicion--><g class="link" data-entity-1="ArticuloRebajado" data-entity-2="ArticuloEnExposicion" data-source-line="39" data-uid="lnk11" id="link_ArticuloRebajado_ArticuloEnExposicion"><path codeline="39" d="M105.1984,220.4628 C94.7124,233.1328 89.152,239.848 78.652,252.546" fill="none" id="ArticuloRebajado-backto-ArticuloEnExposicion" style="stroke:#000000;stroke-width:0.7;"></path><polygon fill="none" points="113.232,210.756,101.9628,217.7849,108.434,223.1406,113.232,210.756" style="stroke:#000000;stroke-width:0.7;"></polygon></g><!--reverse link ArticuloRebajado to ArticuloDefectuoso--><g class="link" data-entity-1="ArticuloRebajado" data-entity-2="ArticuloDefectuoso" data-source-line="40" data-uid="lnk12" id="link_ArticuloRebajado_ArticuloDefectuoso"><path codeline="40" d="M153.8016,220.4628 C164.2876,233.1328 169.848,239.848 180.348,252.546" fill="none" id="ArticuloRebajado-backto-ArticuloDefectuoso" style="stroke:#000000;stroke-width:0.7;"></path><polygon fill="none" points="145.768,210.756,150.566,223.1406,157.0372,217.7849,145.768,210.756" style="stroke:#000000;stroke-width:0.7;"></polygon></g><!--SRC=[bL7BJiCm4BpxAonn0Q4YRaZSaj839n2fnAtInbbQ9uutMZiDKFNVSTFI9g60ueiVCxExCtQ5jXKmb58PS2xoddLQUtnKP1FzYV9Mk2CbOgPcIePOnWPKqO6UmnMM68TjoLJRR4zxNMcFIKa5ThZJNQUOE4C-NsnF69HAB3KTpX2UCrWN8BHU2AV0XD5lxeHOwGmbbfN_a2MMAR8JehKgdz8SbPSN5jQGKxERL6o436i3gVCCoc-lvvI4HEpoyahUIzSUvMQjsTTWjc9xA1MnrwesTD0lpib-a5ymXHooiI88FvDffScErSxixBqYrsf72H_mBIHLa_klto7InMHoYkJxq7izUly5xPiSgdhadgi_cISRNm00]--></g></svg></p><p></p>
<p><strong>Ahora el Main mostrará por consola:</strong></p>
<pre class="salida_consola">Id: A001
Nombre: Camiseta
Precio: 19,99?</pre>
</div>
</div>
<h4 id="objectequals-y-objectgethashcode">object.Equals() y object.GetHashCode() </h4>
<p>Los métodos <strong><code>virtual bool Equals(object obj)</code></strong> y <strong><code>virtual int GetHashCode()</code></strong> <strong>deben implementarse siempre juntos</strong> y se usan para comparar el objeto sobre el que se aplica con cualquier otro que se le pase como parámetro en <strong>profundidad</strong> y para obtener un valor de hash único del objeto, respectivamente.</p>
<p>Ambos metodos <strong>se imvalidan de forma automática</strong> en aquellas clases que <strong>tienen en su definición</strong> la palabra reservada <strong><code>record</code></strong>, esto es, se comportan como <strong><code>Value Objects</code></strong>.</p>
<p>Veamos un ejemplo en el cual los invalidaremos en la clase <strong><code>Articulo</code></strong>.</p>
<p>Una opción es comparar propiedad por propiedad no calculada. Pero en este caso, como la propiedad <strong><code>Id</code></strong> es única para cada artículo, podemos comparar directamente su valor. Además, como <strong><code>Id</code></strong> es de tipo <strong><code>string</code></strong>, podemos usar el Equals de <strong><code>string</code></strong> para comparar su valor puesto que ya está implementado en la clase <strong><code>string</code></strong>.</p>
<p>La función <strong><code>GetHashCode()</code></strong> nos devolverá <strong>un valor de hash único</strong> para el objeto. En este caso, usaremos la función <strong><code>HashCode.Combine()</code></strong> para combinar los valores de las propiedades que consideremos relevantes para la comparación, como <strong><code>Id</code></strong>, <strong><code>Precio</code></strong> y <strong><code>Nombre</code></strong>. También podríamos usar el método <strong><code>GetHashCode()</code></strong> de <strong><code>string</code></strong> para obtener un valor de hash único para la propiedad <strong><code>Id</code></strong> por ejemplo <strong><code>Id.GetHashCode()</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido para abreviar.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-object">object</span><span class="token punctuation">?</span></span> obj<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> obj <span class="token keyword keyword-is">is</span> <span class="token class-name">Articulo</span> a <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>Id<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetHashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> HashCode<span class="token punctuation">.</span><span class="token function">Combine</span><span class="token punctuation">(</span>Id<span class="token punctuation">,</span> Precio<span class="token punctuation">,</span> Nombre<span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
</code></pre><p>En las subclases, como <strong><code>ArticuloRebajado</code></strong>, <strong><code>ArticuloReacondicionado</code></strong> o <strong><code>ArticuloEnExposicion</code></strong>, podemos invalidar estos métodos para que también se comparen las propiedades específicas de cada subclase, pero en este caso no es necesario, ya que al heredar de <strong><code>Articulo</code></strong> se ejecutaría el método <strong><code>Equals()</code></strong> de la superclase y se compararían por <strong><code>Id</code></strong>.</p>
<div class="row">
<div class="col-sm-6 my-auto">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">ArticuloRebajado</span> ar1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span>
                        <span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"A002"</span><span class="token punctuation">,</span>
                        <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Pantalón"</span><span class="token punctuation">,</span>
                        <span class="token named-parameter punctuation">precio</span><span class="token punctuation">:</span> <span class="token number">39.99</span><span class="token punctuation">,</span>
                        <span class="token named-parameter punctuation">porcentajeRebaja</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ArticuloDefectuoso</span> ad2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span>
                        <span class="token named-parameter punctuation">id</span><span class="token punctuation">:</span> <span class="token string">"A002"</span><span class="token punctuation">,</span>
                        <span class="token named-parameter punctuation">nombre</span><span class="token punctuation">:</span> <span class="token string">"Pantalón"</span><span class="token punctuation">,</span>
                        <span class="token named-parameter punctuation">precio</span><span class="token punctuation">:</span> <span class="token number">39.99</span><span class="token punctuation">,</span>
                        <span class="token named-parameter punctuation">porcentajeRebaja</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
                        <span class="token named-parameter punctuation">defecto</span><span class="token punctuation">:</span> <span class="token string">"Cremallera rota"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar1<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span>ad2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-6">
<p>En el ejemplo anterior, al comparar <strong><code>ar1</code></strong> y <strong><code>ad2</code></strong>, ambos tienen el mismo <strong><code>Id</code></strong> y por tanto el resultado de la comparación será <strong><code>true</code></strong> aunque son de tipos diferentes.</p>
</div>
</div>
<h4 id="objectgettype">object.GetType() </h4>
<p>El métodos <strong><code>virtual Type GetType()</code></strong> es un método que nos permite obtener el <strong>tipo del objeto en tiempo de ejecución</strong>. Este método es muy útil cuando queremos saber el tipo real de un objeto, especialmente cuando trabajamos con herencia y polimorfismo. Por ejemplo ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"A002"</span><span class="token punctuation">,</span> <span class="token string">"Pantalón"</span><span class="token punctuation">,</span> <span class="token number">39.99</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Mostrará "ArticuloRebajado"</span>
</code></pre><div style="page-break-after:always;"></div>
<div class="box_bg_lightgray">
<p>🎓 <strong>Caso de estudio modelo de examen:</strong></p>
<p>Vamos a aplicar un poco todos los conceptos que hemos visto hasta ahora, a través de un caso de estudio '<em>simplificado</em>'.</p>
<p>Vamos a suponer que el propietario de una <strong>campa de aparcamiento vehículos</strong> a largo plazo y que decidimos instalar un sistema automatizado de entrada y salida de vehículos. Para ello, decide poner un sistema de cámaras y una IA que trata de identificar información de los vehiculos que entran y salen.</p>
<p>El sistema es capaz de identificar de un <strong>vehículo</strong> al pasar, la siguiente información común que podemos modelar a través de la clase <strong><code>Vehiculo</code></strong> con las siguientes <strong>propiedades publicas de solo lectura</strong>:</p>
<ul>
<li>
<p><strong><code>Matricula</code></strong> que será un <strong>identificador único</strong> con formato '<strong><code>DDDD LLL</code></strong>' donde <strong><code>D</code></strong> será un dígito de 0 a 9 y <strong><code>L</code></strong> una letra mayúscula excluidas las vocales. La modelaremos a través de un <strong><code>Value Object</code></strong> que la guaradará como una cadena de texto.</p>
</li>
<li>
<p><strong><code>Color</code></strong> que será un conjunto de valores con las tonalidades básicas. Devolviendo la IA la predominante en el vehículo. Estas podrán ser uno de los siguiente valores de un <strong>tipo enumerado</strong>:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Color</span>
<span class="token punctuation">{</span> 
    Blanco<span class="token punctuation">,</span> Morado<span class="token punctuation">,</span> Cian<span class="token punctuation">,</span> Azul<span class="token punctuation">,</span> Rojo<span class="token punctuation">,</span> Verde<span class="token punctuation">,</span> Negro<span class="token punctuation">,</span> Naranja<span class="token punctuation">,</span> Gris 
<span class="token punctuation">}</span>
</code></pre><p>Los tipos enumerados se te proporcionarán junto al programa principal y deben declararse fuera del ámbito de esta clase para evitar un conflicto de nombres con las propiedades correspondientes.</p>
</li>
<li>
<p><strong><code>Marca</code></strong> que será un conjunto de valores de logos que la IA es capaz de identificar en las imágenes como un <strong>tipo enumerado</strong> de entre los siguientes:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Marca</span>
<span class="token punctuation">{</span> 
    DESCONOCIDA<span class="token punctuation">,</span> BMW<span class="token punctuation">,</span> SEAT<span class="token punctuation">,</span> AUDI<span class="token punctuation">,</span> RENAULT<span class="token punctuation">,</span> MAN<span class="token punctuation">,</span> DAF<span class="token punctuation">,</span> CITROEN<span class="token punctuation">,</span> TOYOTA<span class="token punctuation">,</span> SUZUKI<span class="token punctuation">,</span> YAMAHA<span class="token punctuation">,</span> MERCEDES<span class="token punctuation">,</span> PEGASO 
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p><strong><code>Ocupantes</code></strong> que la IA cree que hay en el interior del vehículo.</p>
</li>
<li>
<p><strong><code>Tipo</code></strong> <strong>propiedad calculada e invalidable</strong>, que nos devolverá <strong>como texto</strong> el <strong>tipo de vehículo</strong> que ha identificado la IA <strong>dentro de una determinada categoría</strong>. Si la IA no ha podido identificar la categoría del vehículo, devolverá el valor <em>"SinIdentificar"</em>.</p>
</li>
</ul>
<p>Además, esta clase inavalidará los métodos <strong><code>Equals(object obj)</code></strong>, <strong><code>int GetHashCode()</code></strong> y <strong><code>string ToString()</code></strong> de la clase object De tal manera que muesa la iformación del vehículo en una sola línea de texto.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
    <span class="token punctuation">{</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name<span class="token punctuation">}</span> <span class="token punctuation">{</span>Marca<span class="token punctuation">}</span> <span class="token punctuation">{</span>Tipo<span class="token punctuation">}</span> <span class="token punctuation">{</span>Matricula<span class="token punctuation">}</span> color <span class="token punctuation">{</span>Color<span class="token punctuation">}</span> y <span class="token punctuation">{</span>Ocupantes<span class="token punctuation">}</span> ocupantes<span class="token punctuation">.</span>
    <span class="token string">""</span>"<span class="token punctuation">;</span>
</code></pre><p>Fíjate que hemos usado el método <strong><code>GetType().Name</code></strong> para mostrar el <strong>nombre de la clase real del objeto</strong>. Además, <strong><code>Tipo</code></strong> tendrá el valor <em>"SinIdentificar"</em>, si no es invalidado en las subclases.</p>
<p>La IA, de momento, sabe <strong>clasificar muchos vehículos en estás tres categorías</strong>: <strong><code>Coche</code></strong>, <strong><code>Moto</code></strong> y <strong><code>Camión</code></strong>. Las cuales vamos a <strong>modelizar a través de herencia</strong>. Cada categoría, como hemos comentado, tendrá a su vez <strong>diferentes tipos</strong> a través de un conjunto de valores enumerados.</p>
<ul>
<li>
<p><strong>Coche:</strong> Podrá tomar uno de los valores del siguiente conjunto de valores enumrados:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">TipoCoche</span> 
<span class="token punctuation">{</span> 
    SinIdentificar<span class="token punctuation">,</span> Berlina<span class="token punctuation">,</span> Coupe<span class="token punctuation">,</span> Sedan<span class="token punctuation">,</span> Cabrio<span class="token punctuation">,</span> TodoTerreno<span class="token punctuation">,</span> MonoVolumen<span class="token punctuation">,</span> Crossover 
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p><strong>Moto:</strong> Podrá tomar uno de los valores del siguiente conjunto de valores enumerados:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">TipoMoto</span> 
<span class="token punctuation">{</span> 
    SinIdentificar<span class="token punctuation">,</span> Scooter<span class="token punctuation">,</span> Motocross<span class="token punctuation">,</span> Naked<span class="token punctuation">,</span> Trail<span class="token punctuation">,</span> Supermotard 
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p><strong>Camion:</strong> Podrá tomar uno de los valores del siguiente conjunto de valores enumerados:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">TipoCamion</span> 
<span class="token punctuation">{</span> 
    SinIdentificar<span class="token punctuation">,</span> Articulado<span class="token punctuation">,</span> Frigorífico<span class="token punctuation">,</span> Cisterna<span class="token punctuation">,</span> Trailer 
<span class="token punctuation">}</span>
</code></pre></li>
</ul>
<p>Todas las subclases de <strong><code>Vehiculo</code></strong> invalidarán la propiedad <strong><code>Tipo</code></strong> para devolver el tipo de vehículo correspondiente <strong>como texto</strong>. De tal manera que <strong>guardarán el valor enumerado de tipo como campo privado</strong>. Además, <strong>los camiones</strong>, guaradrán dos propiedades adicionales identificables por la IA que son el número de <strong>ejes</strong> y <strong>carga máxima (MMA)</strong> en kilos. Por tanto, la subclase <strong><code>Camion</code></strong> invalidará el método <strong><code>ToString()</code></strong> para mostrar esta información adicional intercalaándola entre el nombre de la categoría y la marca del camión.</p>
<pre class="salida_consola">Plaza n: Camion 2 ejes con MMA de 6000 Kg DAF Frigorífico 8798 JWR color Blanco y 1 ocupantes.
</pre>
<p><strong>¿Se te ocurre como hacerlo reutilizando el ToString() de <code>Vehículo</code> y no repitiendo el código?</strong></p>
<p>Por último, nuestra IA, pasará la generalización de <strong><code>Vehiculo</code></strong>, con la información que ha podido recolectar, a un objeto <strong><code>CampaVehiculos</code></strong> que tendrá una <strong>capacidad de plazas determinada</strong> (para nuestro caso de estudio <strong>5 vehículos</strong> independientemente de su tamaño para simplificar). Estás plazas se numerarán de la <strong>1</strong> a la <strong>5</strong>.</p>
<p>La clase <strong><code>CampaVehiculos</code></strong> tendrá pues los siguientes miembros:</p>
<p><strong>Privados:</strong></p>
<ul>
<li>
<p><strong><code>List&lt;Vehiculo?&gt; Plazas</code></strong>: Propiedad de solo lectura que contiene la lista de vehículos que se encuentran aparcados en la campa. Si en una plaza no hay vehículo, se guardará un <strong><code>null</code></strong>.</p>
</li>
<li>
<p><strong><code>int? PlazaVacia</code></strong>: Propiedad calculada que me retornará el <strong>primer índice vacío</strong> en un array de vehículos o <strong>null</strong> si no lo encuentra ninguno.</p>
</li>
<li>
<p><strong><code>int PlazasOcupadas</code></strong>: Propiedad calculada que me retornará el número de plazas ocupadas en la campa.</p>
</li>
<li>
<p><strong><code>int? Busca(Vehiculo v)</code></strong>: Método que me retornará el <strong>índice</strong> en la lista de vehículos que ocupa el vehículo <strong><code>v</code></strong> o <strong>null</strong> si no lo encuentra.</p>
<div class="admonition tip">
<p class="admonition-title">Idea</p>
<p>Recuerda que el tipo <strong><code>int?</code></strong> puede valer null, por lo que si tenemos <strong><code>int? dato</code></strong>, podemos usar las propiedades <strong><code>HasValue</code></strong> y <strong><code>Value</code></strong> para comprobar si tiene un valor y obtenerlo, respectivamente. Por ejemplo...<br>
<strong><code>int valor = (dato.HasValue) ? dato.Value : 0;</code></strong></p>
</div>
</li>
</ul>
<p><strong>Públicos:</strong></p>
<ul>
<li>
<p>Constructor que recibe un entero con la capacidad de la campa (número de plazas) y que inicializará la propiedad <strong><code>Plazas</code></strong> a dicha dimensión con <strong><code>null</code></strong> en todas sus plazas pues aún no hay vehículos aparcados.</p>
</li>
<li>
<p><strong><code>(bool puedeEntrar, int plaza, string? problema) PuedeEntrar(Vehiculo v)</code></strong>: Método que me retornará un <strong>tupla</strong> con un <strong>booleano</strong> que indica si el vehículo puede entrar en la campa, el número de plaza donde se podría aparcar y un mensaje de aviso en caso de que no pueda entrar. Retornos posibles...</p>
<ul>
<li>Si la campa está llena, retornará <strong><code>false</code></strong>, <strong>0</strong> y el mensaje '<em><code>Aparcamiento lleno</code></em>'.</li>
<li>Si la matrícula del vehículo ya se encuentra registrada, retornará <strong><code>false</code></strong>, <strong>0</strong> y el mensaje '<em><code>Ya se encuentra en el aparcamiento el vehículo DDDD LL</code></em>'.</li>
<li>Si la campa no está llena y la matrícula no se encuentra registrada, retornará <strong><code>true</code></strong>, el número de plaza donde se podría aparcar (1 a Numero Plazas) y <strong>null</strong> como mensaje.</li>
</ul>
</li>
<li>
<p><strong><code>void Entra(Vehiculo v)</code></strong>: Método que recibe un vehículo y lo aparca en la plaza indicada por el método <strong><code>PuedeEntrar(Vehiculo v)</code></strong>. Si no se puede aparcar, <strong>lanzará una aserción</strong> con el problema indicado por dicho método.</p>
</li>
<li>
<p><strong><code>(bool puedeSalir, int plaza, string? problema) PuedeSalir(Vehiculo v)</code></strong>: Método que me retornará un <strong>tupla</strong> con un <strong>booleano</strong> que indica si el vehículo puede salir de la campa, el número de plaza donde se encuentra aparcado y un mensaje de aviso en caso de que no pueda salir. Retornos posibles:</p>
<ul>
<li>Si la campa está vacía, retornará <strong><code>false</code></strong>, <strong>0</strong> y el mensaje '<em><code>Aparcamiento vacío</code></em>'.</li>
<li>Si la matrícula del vehículo no se encuentra registrada, retornará <strong><code>false</code></strong>, <strong>0</strong> y el mensaje '<em><code>No se registró la entrada del vehículo DDDD LL</code></em>'.</li>
<li>Si la matrícula del vehículo se encuentra registrada, retornará <strong><code>true</code></strong>, el número de plaza donde se encuentra aparcado (1 a Numero Plazas) y <strong>null</strong> como mensaje.</li>
</ul>
</li>
<li>
<p><strong><code>void Sale(Vehiculo v)</code></strong>: Método que recibe un vehículo y lo saca de la plaza indicada por el método <strong><code>PuedeSalir(Vehiculo v)</code></strong>. Si no se puede sacar, <strong>lanzará una aserción</strong> con el problema indicado por dicho método.</p>
</li>
<li>
<p><strong><code>string ToString()</code></strong> imvalidado para que nuestre las plazas y los datos que se recibieron de la IA de cada vehículo en el siguiente formato:</p>
<pre class="salida_consola">Plaza n: &lt;datos del vehículo devueltos por ToString()&gt;
Plaza n: Vacía
</pre>
</li>
</ul>
<p>Purdes decargar, <strong>el código con el programa principal</strong> que simulará la ejecución de la IA crando instancias de vehículo para probar tus clases y métodos: <strong><a href="assets/ejemplos/campa_vehiculos_test_ejemplo.cs">campa_vehiculos.cs</a></strong></p>
<p>La ejecución del programa principal, con la siguiente entrada de vehículos, debería producir la <strong>siguiente salida por consola</strong>:</p>
<pre class="salida_consola">Entrando Coche Coupe 1020 DRG             -&gt; Aparcado en la plaza 1
Entrando Camion Frigorífico 8798 JWR      -&gt; Aparcado en la plaza 2
Entrando Coche TodoTerreno 7643 LRF       -&gt; Aparcado en la plaza 3
Entrando Coche Coupe 1020 DRG             -&gt; Aparcado en la plaza 4
Entrando Vehiculo SinIdentificar 0000 DGP -&gt; Aparcado en la plaza 5
Entrando Moto Naked 1111 GRF              -&gt; Aparcamiento lleno
Entrando Coche Coupe 1020 DRG             -&gt; Aparcamiento lleno
Saliendo Camion Frigorífico 8798 JWR      -&gt; No se registró la entrada del vehículo 8798 JWR
Saliendo Camion Frigorífico 8798 JWR      -&gt; No se registró la entrada del vehículo 8798 JWR
Saliendo Moto Naked 1111 GRF              -&gt; No se registró la entrada del vehículo 1111 GRF
Entrando Moto Naked 1111 GRF              -&gt; Aparcamiento lleno
Entrando Camion SinIdentificar 8798 JWR   -&gt; Aparcamiento lleno
Veículos en el aparcamiento...

Plaza 1: Coche SEAT Coupe 1020 DRG color Azul y 3 ocupantes.
Plaza 2: Camion 2 ejes con MMA de 6000 Kg DAF Frigorífico 8798 JWR color Blanco y 1 ocupantes.
Plaza 3: Coche BMW TodoTerreno 7643 LRF color Rojo y 4 ocupantes.
Plaza 4: Coche SEAT Coupe 1020 DRG color Azul y 3 ocupantes.
Plaza 5: Vehiculo DESCONOCIDA SinIdentificar 0000 DGP color Negro y 2 ocupantes.
</pre>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Intenta realizar primero por tu cuenta la implementación de la especificación anterior. Posteriormente comparala con la <strong>propueta de solución</strong> que encontrarás en el siguiente enlace: <strong><a href="assets/ejemplos/campa_vehiculos_ejemplo.cs">campa_vehiculos_solucion.cs</a></strong></p>
</div>
</div>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>