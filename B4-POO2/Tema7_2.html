<!DOCTYPE html><html><head>
      <title>Programación 1º DAM Tema 7 parte 2</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v19/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
.markdown-preview.markdown-preview .contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.markdown-preview.markdown-preview .fondo {
  background: url(https://programacioniesbalmis.github.io/Imagenes/BannersMoodle/banner.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.markdown-preview.markdown-preview .cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.markdown-preview.markdown-preview .abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.markdown-preview.markdown-preview .cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.markdown-preview.markdown-preview .autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="tema-7-parte-2">Tema 7 parte 2 </h1>
<p>Descargar estos apuntes en <a href="./Tema7_2.pdf">pdf</a> o <a href="./Tema7_2.html">html</a></p>
<h2 id="índice">Índice </h2>

<div class="md-toc">
<div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">
          <a href="#índice" class="md-toc-link">
            <p>Índice</p>

          </a></div><details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#roles-entre-clases-continuación" class="md-toc-link"><p>Roles entre clases (Continuación)</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#relación-de-herencia-generalización" class="md-toc-link"><p>Relación de Herencia (Generalización)</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#tipos-de-herencia" class="md-toc-link"><p>Tipos de Herencia</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#herencia-simple" class="md-toc-link">
            <p>Herencia Simple</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#herencia-múltiple" class="md-toc-link">
            <p>Herencia Múltiple</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#implementando-la-herencia-en-c" class="md-toc-link"><p>Implementando la herencia en C#</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#palabra-reservada-a-hrefhttpsdocsmicrosoftcomen-usdotnetcsharplanguage-referencekeywordsbase-target_blankbasea" class="md-toc-link">
            </a><p><a href="#palabra-reservada-a-hrefhttpsdocsmicrosoftcomen-usdotnetcsharplanguage-referencekeywordsbase-target_blankbasea" class="md-toc-link">Palabra reservada </a><a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/base" target="_blank">base</a></p>

          </div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#ocultación-e-invalidación" class="md-toc-link"><p>Ocultación e Invalidación</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ocultación-o-reemplazo-en-c" class="md-toc-link">
            <p>Ocultación o reemplazo en C#</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#invalidación-o-refinamiento-en-c" class="md-toc-link">
            <p>Invalidación o refinamiento en C#</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#polimorfismo-de-datos-o-inclusión" class="md-toc-link">
            <p>Polimorfismo de datos o inclusión</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#principio-de-sustitución-de-a-hrefhttpseswikipediaorgwikibarbara_liskov-target_blankliskova-upcasting" class="md-toc-link">
            </a><p><a href="#principio-de-sustitución-de-a-hrefhttpseswikipediaorgwikibarbara_liskov-target_blankliskova-upcasting" class="md-toc-link">Principio de sustitución de </a><a href="https://es.wikipedia.org/wiki/Barbara_Liskov" target="_blank">Liskov</a> (Upcasting)</p>

          </div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#downcasting" class="md-toc-link"><p>Downcasting</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#formas-de-realizar-el-downcasting" class="md-toc-link">
            <p>Formas de realizar el Downcasting</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#ligadura-dinámica" class="md-toc-link"><p>Ligadura Dinámica</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ejemplo-de-uso-del-enlace-dinámico" class="md-toc-link">
            <p>Ejemplo de uso del Enlace Dinámico</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#utilidad-del-polimorfismo-de-datos-sustitución-y-el-enlace-dinámico" class="md-toc-link">
            <p>Utilidad del polimorfismo de datos (sustitución) y el enlace dinámico</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#el-caso-especial-de-la-clase-a-hrefhttpsdocsmicrosoftcomes-esdotnetapisystemobjectviewnetcore-31-target_blankobjecta-en-c" class="md-toc-link">
            </a><p><a href="#el-caso-especial-de-la-clase-a-hrefhttpsdocsmicrosoftcomes-esdotnetapisystemobjectviewnetcore-31-target_blankobjecta-en-c" class="md-toc-link">El caso especial de la clase </a><a href="https://docs.microsoft.com/es-es/dotnet/api/system.object?view=netcore-3.1" target="_blank">object</a> en C#</p>

          </div>
        </div>
      </details>
    
        </div>
      </details>
    
</div>
<div style="page-break-after:always;"></div>
<h2 id="roles-entre-clases-continuación">Roles entre clases (Continuación) </h2>
<h3 id="relación-de-herencia-generalización">Relación de Herencia (Generalización) </h3>
<ul>
<li>
<p>Una de las características principales de la POO. Formalmente podemos definirla como....</p>
<ul>
<li>Un tipo de relación entre clases, en la cual una clase denominada <strong>subclase</strong> (o también <em>clase <strong>hija</strong></em>), comparte la estructura y/o comportamiento definidos en una o más clases, llamadas <strong>superclases</strong> (o también <em>clase <strong>padre</strong></em>, <em>clase <strong>base</strong></em>).</li>
<li>En otras palabras, una subclase añade sus propios atributos y métodos a los de la superclase, por lo que generalmente es mayor que esta y representará a un grupo <strong>menor</strong> de objetos.</li>
</ul>
</li>
<li>
<p>De una forma menos formal podemos resaltar que...</p>
<ul>
<li>La subclase es una <strong>concreción</strong> de la superclase que representará una <strong>generalización</strong>.</li>
<li>Representará el tipo de relación '<strong>Es un/a</strong>'. Ej. '<em>Un coche <strong>es un</strong> vehículo.</em>'</li>
<li>La <strong>herencia</strong> nos servirá para reutilizar código y por tanto no repetir funcionalidades.</li>
</ul>
</li>
<li>
<p>Representaremos el rol a través de una flecha de punta hueca de la subclase a la superclase y se podrán producir relaciones <strong>transitivas</strong>.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="71.5953px" preserveAspectRatio="none" style="width:401px;height:71px;background:#FFFFFF;" version="1.1" viewBox="0 0 401 71" width="401.5564px" zoomAndPan="magnify"><defs></defs><g><!--class A--><g id="elem_A"><rect fill="#FFFAFA" height="49.8054" id="A" rx="3.8911" ry="3.8911" style="stroke:#000000;stroke-width:0.7782101167315175;" width="63.8132" x="10.8949" y="10.8949"></rect><ellipse cx="34.2412" cy="35.7977" fill="#ADD1B2" rx="17.1206" ry="17.1206" style="stroke:#181818;stroke-width:1.556420233463035;"></ellipse><path d="M38.5457,29.3774 Q38.7889,29.037 39.0807,28.8667 Q39.3726,28.6965 39.713,28.6965 Q40.2967,28.6965 40.6615,29.1099 Q41.0263,29.499 41.0263,30.4475 L41.0263,32.7091 Q41.0263,33.6576 40.6615,34.071 Q40.2967,34.4844 39.713,34.4844 Q39.178,34.4844 38.8619,34.1683 Q38.5457,33.8765 38.3755,33.0739 Q38.3025,32.5146 38.0107,32.2228 Q37.5,31.6391 36.5516,31.2986 Q35.6031,30.9582 34.6304,30.9582 Q33.4387,30.9582 32.4416,31.4689 Q31.4689,31.9796 30.6907,33.1469 Q29.9368,34.3142 29.9368,35.9193 L29.9368,37.6216 Q29.9368,39.5428 31.323,40.8317 Q32.7091,42.0963 35.1897,42.0963 Q36.6488,42.0963 37.6702,41.7072 Q38.2782,41.464 38.9348,40.7831 Q39.3482,40.3696 39.5671,40.2481 Q39.8103,40.1265 40.1265,40.1265 Q40.6372,40.1265 41.0263,40.5399 Q41.4397,40.929 41.4397,41.464 Q41.4397,41.999 40.9047,42.6313 Q40.1265,43.5311 38.8862,44.0418 Q37.2082,44.7471 35.1897,44.7471 Q32.8307,44.7471 30.9582,43.7743 Q29.4261,42.9961 28.356,41.3424 Q27.286,39.6644 27.286,37.6702 L27.286,35.8706 Q27.286,33.8035 28.2344,32.0282 Q29.2072,30.2286 30.9095,29.2802 Q32.6119,28.3074 34.5331,28.3074 Q35.6761,28.3074 36.6732,28.5749 Q37.6946,28.8181 38.5457,29.3774 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="21.7899" lengthAdjust="spacing" textLength="14.0078" x="56.0311" y="44.7136">A</text></g><!--class B--><g id="elem_B"><rect fill="#FFFAFA" height="49.8054" id="B" rx="3.8911" ry="3.8911" style="stroke:#000000;stroke-width:0.7782101167315175;" width="63.8132" x="168.0934" y="10.8949"></rect><ellipse cx="191.4397" cy="35.7977" fill="#ADD1B2" rx="17.1206" ry="17.1206" style="stroke:#181818;stroke-width:1.556420233463035;"></ellipse><path d="M195.7442,29.3774 Q195.9874,29.037 196.2792,28.8667 Q196.571,28.6965 196.9115,28.6965 Q197.4951,28.6965 197.8599,29.1099 Q198.2247,29.499 198.2247,30.4475 L198.2247,32.7091 Q198.2247,33.6576 197.8599,34.071 Q197.4951,34.4844 196.9115,34.4844 Q196.3765,34.4844 196.0603,34.1683 Q195.7442,33.8765 195.5739,33.0739 Q195.501,32.5146 195.2091,32.2228 Q194.6984,31.6391 193.75,31.2986 Q192.8016,30.9582 191.8288,30.9582 Q190.6372,30.9582 189.6401,31.4689 Q188.6673,31.9796 187.8891,33.1469 Q187.1352,34.3142 187.1352,35.9193 L187.1352,37.6216 Q187.1352,39.5428 188.5214,40.8317 Q189.9076,42.0963 192.3881,42.0963 Q193.8473,42.0963 194.8687,41.7072 Q195.4767,41.464 196.1333,40.7831 Q196.5467,40.3696 196.7656,40.2481 Q197.0088,40.1265 197.3249,40.1265 Q197.8356,40.1265 198.2247,40.5399 Q198.6381,40.929 198.6381,41.464 Q198.6381,41.999 198.1031,42.6313 Q197.3249,43.5311 196.0846,44.0418 Q194.4066,44.7471 192.3881,44.7471 Q190.0292,44.7471 188.1566,43.7743 Q186.6245,42.9961 185.5545,41.3424 Q184.4844,39.6644 184.4844,37.6702 L184.4844,35.8706 Q184.4844,33.8035 185.4329,32.0282 Q186.4056,30.2286 188.108,29.2802 Q189.8103,28.3074 191.7315,28.3074 Q192.8745,28.3074 193.8716,28.5749 Q194.893,28.8181 195.7442,29.3774 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="21.7899" lengthAdjust="spacing" textLength="14.0078" x="213.2296" y="44.7136">B</text></g><!--class C--><g id="elem_C"><rect fill="#FFFAFA" height="49.8054" id="C" rx="3.8911" ry="3.8911" style="stroke:#000000;stroke-width:0.7782101167315175;" width="65.3696" x="325.2918" y="10.8949"></rect><ellipse cx="348.6381" cy="35.7977" fill="#ADD1B2" rx="17.1206" ry="17.1206" style="stroke:#181818;stroke-width:1.556420233463035;"></ellipse><path d="M352.9426,29.3774 Q353.1858,29.037 353.4776,28.8667 Q353.7695,28.6965 354.1099,28.6965 Q354.6936,28.6965 355.0584,29.1099 Q355.4232,29.499 355.4232,30.4475 L355.4232,32.7091 Q355.4232,33.6576 355.0584,34.071 Q354.6936,34.4844 354.1099,34.4844 Q353.5749,34.4844 353.2588,34.1683 Q352.9426,33.8765 352.7724,33.0739 Q352.6994,32.5146 352.4076,32.2228 Q351.8969,31.6391 350.9484,31.2986 Q350,30.9582 349.0272,30.9582 Q347.8356,30.9582 346.8385,31.4689 Q345.8658,31.9796 345.0875,33.1469 Q344.3337,34.3142 344.3337,35.9193 L344.3337,37.6216 Q344.3337,39.5428 345.7198,40.8317 Q347.106,42.0963 349.5866,42.0963 Q351.0457,42.0963 352.0671,41.7072 Q352.6751,41.464 353.3317,40.7831 Q353.7451,40.3696 353.964,40.2481 Q354.2072,40.1265 354.5233,40.1265 Q355.034,40.1265 355.4232,40.5399 Q355.8366,40.929 355.8366,41.464 Q355.8366,41.999 355.3016,42.6313 Q354.5233,43.5311 353.2831,44.0418 Q351.6051,44.7471 349.5866,44.7471 Q347.2276,44.7471 345.3551,43.7743 Q343.823,42.9961 342.7529,41.3424 Q341.6829,39.6644 341.6829,37.6702 L341.6829,35.8706 Q341.6829,33.8035 342.6313,32.0282 Q343.6041,30.2286 345.3064,29.2802 Q347.0088,28.3074 348.93,28.3074 Q350.073,28.3074 351.07,28.5749 Q352.0914,28.8181 352.9426,29.3774 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="21.7899" lengthAdjust="spacing" textLength="15.5642" x="370.428" y="44.7136">C</text></g><!--reverse link A to B--><g id="link_A_B"><path codeline="13" d="M102.8171,35.7977 C129.8366,35.7977 141.0739,35.7977 168.0623,35.7977 " fill="none" id="A-backto-B" style="stroke:#000000;stroke-width:1.556420233463035;"></path><polygon fill="none" points="74.8016,35.7977,102.8171,45.1362,102.8171,26.4591,74.8016,35.7977" style="stroke:#000000;stroke-width:1.556420233463035;"></polygon></g><!--reverse link B to C--><g id="link_B_C"><path codeline="14" d="M260.1712,35.7977 C286.9728,35.7977 297.7276,35.7977 324.8249,35.7977 " fill="none" id="B-backto-C" style="stroke:#000000;stroke-width:1.556420233463035;"></path><polygon fill="none" points="232.1556,35.7977,260.1712,45.1362,260.1712,26.4591,232.1556,35.7977" style="stroke:#000000;stroke-width:1.556420233463035;"></polygon></g><!--SRC=[ROwn2iCm34HtVOL-e92XFn1dwbR8qAtWsceiubX5LWZqwviG2g5qEevxt5scfw49AW_9CB9IC9O2DVXCU6uQN3XQWZfoUNdr4uRiQstDb1-pqIL8wVbDs1oGLbMMJh8ekkp3U8Ykg_K3kLK6bRd47RibDked6Ud0TjkI4usa_yjsuAUgBx8098w4_lkoxduYIn8hG8ltqyc1swI33m00]--></g></svg></p><ul>
<li><strong>B</strong> hereda de <strong>A</strong></li>
<li><strong>B</strong> es una concreción <strong>A</strong></li>
<li><strong>A</strong> es una generalización <strong>B</strong></li>
<li><strong>A</strong> es la superclase y <strong>B</strong> la subclase</li>
<li><strong>C</strong> hereda de <strong>B</strong> y <strong>A</strong></li>
<li><strong>B</strong> y <strong>C</strong> son subclases de <strong>A</strong></li>
</ul>
</li>
</ul>
<h4 id="tipos-de-herencia">Tipos de Herencia </h4>
<h5 id="herencia-simple">Herencia Simple </h5>
<ul>
<li>
<p>Cuando la subclase hereda de <strong>una sola</strong> superclase.</p>
</li>
<li>
<p>Será la que nosotros vamos a usar.</p>
</li>
<li>
<p>Por <strong>ejemplo</strong>, supongamos que tenemos la superclase <strong><code>Articulo</code></strong> con un <strong><code>precio</code></strong> y un <strong><code>nombre</code></strong>.<br>
Una subclase de <strong><code>Articulo</code></strong> denominada <strong><code>ArticuloRebajado</code></strong> que además, añade al articulo un campo con el porcentaje de rebaja, denominado <strong><code>porcentajeRebaja</code></strong>.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="96.477px" preserveAspectRatio="none" style="width:401px;height:96px;background:#FFFFFF;" version="1.1" viewBox="0 0 401 96" width="401.084px" zoomAndPan="magnify"><defs></defs><g><!--class Articulo--><g id="elem_Articulo"><rect codeline="12" fill="#FFFAFA" height="81.5379" id="Articulo" rx="2.71" ry="2.71" style="stroke:#000000;stroke-width:0.5420054200542005;" width="124.6612" x="7.5881" y="7.5881"></rect><ellipse cx="41.4092" cy="24.9322" fill="#ADD1B2" rx="11.9241" ry="11.9241" style="stroke:#181818;stroke-width:1.084010840108401;"></ellipse><path d="M44.4072,20.4607 Q44.5766,20.2236 44.7798,20.105 Q44.9831,19.9864 45.2202,19.9864 Q45.6267,19.9864 45.8808,20.2744 Q46.1348,20.5454 46.1348,21.206 L46.1348,22.7812 Q46.1348,23.4417 45.8808,23.7297 Q45.6267,24.0176 45.2202,24.0176 Q44.8476,24.0176 44.6274,23.7974 Q44.4072,23.5942 44.2886,23.0352 Q44.2378,22.6457 44.0346,22.4424 Q43.6789,22.0359 43.0183,21.7988 Q42.3577,21.5617 41.6802,21.5617 Q40.8503,21.5617 40.1558,21.9173 Q39.4783,22.273 38.9363,23.086 Q38.4112,23.8991 38.4112,25.0169 L38.4112,26.2026 Q38.4112,27.5407 39.3767,28.4383 Q40.3421,29.3191 42.0698,29.3191 Q43.086,29.3191 43.7974,29.0481 Q44.2209,28.8787 44.6782,28.4045 Q44.9661,28.1165 45.1186,28.0318 Q45.2879,27.9472 45.5081,27.9472 Q45.8638,27.9472 46.1348,28.2351 Q46.4228,28.5061 46.4228,28.8787 Q46.4228,29.2514 46.0501,29.6917 Q45.5081,30.3184 44.6443,30.6741 Q43.4756,31.1653 42.0698,31.1653 Q40.4268,31.1653 39.1226,30.4878 Q38.0556,29.9458 37.3103,28.794 Q36.565,27.6253 36.565,26.2364 L36.565,24.9831 Q36.565,23.5434 37.2256,22.3069 Q37.9031,21.0535 39.0888,20.393 Q40.2744,19.7154 41.6125,19.7154 Q42.4085,19.7154 43.103,19.9018 Q43.8144,20.0711 44.4072,20.4607 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="15.1762" lengthAdjust="spacing" textLength="50.9485" x="60.4878" y="31.142">Articulo</text><line style="stroke:#000000;stroke-width:0.5420054200542005;" x1="8.6721" x2="131.1653" y1="42.2764" y2="42.2764"></line><text fill="#000000" font-family="sans-serif" font-size="15.1762" lengthAdjust="spacing" textLength="110.5691" x="14.0921" y="62.3666">#precio : double</text><text fill="#000000" font-family="sans-serif" font-size="15.1762" lengthAdjust="spacing" textLength="111.6531" x="14.0921" y="81.4554">#nombre : string</text></g><!--class ArticuloRebajado--><g id="elem_ArticuloRebajado"><rect codeline="18" fill="#FFFAFA" height="62.4492" id="ArticuloRebajado" rx="2.71" ry="2.71" style="stroke:#000000;stroke-width:0.5420054200542005;" width="196.206" x="197.29" y="16.8022"></rect><ellipse cx="233.5501" cy="34.1463" fill="#ADD1B2" rx="11.9241" ry="11.9241" style="stroke:#181818;stroke-width:1.084010840108401;"></ellipse><path d="M236.5481,29.6748 Q236.7175,29.4377 236.9207,29.3191 Q237.124,29.2005 237.3611,29.2005 Q237.7676,29.2005 238.0217,29.4885 Q238.2757,29.7595 238.2757,30.4201 L238.2757,31.9953 Q238.2757,32.6558 238.0217,32.9438 Q237.7676,33.2317 237.3611,33.2317 Q236.9885,33.2317 236.7683,33.0115 Q236.5481,32.8083 236.4295,32.2493 Q236.3787,31.8598 236.1755,31.6565 Q235.8198,31.25 235.1592,31.0129 Q234.4986,30.7757 233.8211,30.7757 Q232.9912,30.7757 232.2967,31.1314 Q231.6192,31.4871 231.0772,32.3001 Q230.5522,33.1131 230.5522,34.231 L230.5522,35.4167 Q230.5522,36.7547 231.5176,37.6524 Q232.4831,38.5332 234.2107,38.5332 Q235.227,38.5332 235.9383,38.2622 Q236.3618,38.0928 236.8191,37.6186 Q237.107,37.3306 237.2595,37.2459 Q237.4289,37.1612 237.6491,37.1612 Q238.0047,37.1612 238.2757,37.4492 Q238.5637,37.7202 238.5637,38.0928 Q238.5637,38.4654 238.1911,38.9058 Q237.6491,39.5325 236.7852,39.8882 Q235.6165,40.3794 234.2107,40.3794 Q232.5678,40.3794 231.2636,39.7019 Q230.1965,39.1599 229.4512,38.0081 Q228.706,36.8394 228.706,35.4505 L228.706,34.1972 Q228.706,32.7575 229.3665,31.521 Q230.044,30.2676 231.2297,29.607 Q232.4153,28.9295 233.7534,28.9295 Q234.5495,28.9295 235.2439,29.1159 Q235.9553,29.2852 236.5481,29.6748 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="15.1762" lengthAdjust="spacing" textLength="117.0732" x="253.1707" y="40.3561">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.5420054200542005;" x1="198.374" x2="392.4119" y1="51.4905" y2="51.4905"></line><text fill="#000000" font-family="sans-serif" font-size="15.1762" lengthAdjust="spacing" textLength="183.1978" x="203.794" y="71.5807">-porcentajeRebaja : ushort</text></g><!--reverse link Articulo to ArticuloRebajado--><g id="link_Articulo_ArticuloRebajado"><path codeline="23" d="M151.8266,48.2385 C171.8374,48.2385 175.0678,48.2385 197.0623,48.2385 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:1.084010840108401;"></path><polygon fill="none" points="132.3144,48.2385,151.8266,54.7425,151.8266,41.7344,132.3144,48.2385" style="stroke:#000000;stroke-width:1.084010840108401;"></polygon></g><!--SRC=[RK-zQiGm3Dxz58BEWGoTkbrkwbQQeTk1OwknBeuLP9b0oxtx-PeUX6kr27r_ahAp4U6vRM4bhy54_5HG1g4nA7WIT4gSJ9ueBLRi32xQd0-gGaDHV7MSUlf2Q7UIWmYlHuuiq4NhfXtrLaSxObVRA5oItsGVWHJxcIVSQO-tJHsBH_a_R1CyHFM9LsC2UOGPDR3FnlpSNCzISYMo-JPGwmcM-Xqnl83dCaJyHHFFWs15S_qnZURow7_7mPwjl-SqiB0uJ6hFk57LMt9WqPltxe9Jq_oDk080]--></g></svg></p><blockquote>
<p>📌 <strong>Nota:</strong> La instancia de un objeto en memoria de <strong><code>ArticuloRebajado</code></strong> además de tener un campo <strong><code>porcentajeRebaja</code></strong>, tendrá los campos <strong><code>precio</code></strong> y <strong><code>nombre</code></strong> por ser también un <strong><code>Articulo</code></strong> y todos ellos definirán su estado.</p>
</blockquote>
</li>
</ul>
<h5 id="herencia-múltiple">Herencia Múltiple </h5>
<ul>
<li>
<p>Se dará cuando una subclase hereda características de varias superclases.</p>
</li>
<li>
<p><strong>Tiene más desventajas que ventajas. Por eso C# y Java NO la permiten.</strong> Aunque otros lenguajes como Python o C++ sí.</p>
</li>
<li>
<p>Entre las <strong>desventajas</strong> que hace que C# no la permita podemos destacar:</p>
<ul>
<li>
<p><strong>Menor velocidad</strong> de ejecución.</p>
</li>
<li>
<p><strong>Herencia repetida (Transitividad)</strong>.</p>
<p>En el ejemplo <strong><code>ProfesorUniversitario</code></strong> hereda <strong>2 veces</strong> o a través de dos clases diferentes los atributos de <strong><code>Persona</code></strong>.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="236.1396px" preserveAspectRatio="none" style="width:250px;height:236px;background:#FFFFFF;" version="1.1" viewBox="0 0 250 236" width="250.5133px" zoomAndPan="magnify"><defs></defs><g><!--class Persona--><g id="elem_Persona"><rect fill="#FFFAFA" height="32.8542" id="Persona" rx="2.5667" ry="2.5667" style="stroke:#000000;stroke-width:0.5133470225872689;" width="87.269" x="75.462" y="7.1869"></rect><ellipse cx="90.8624" cy="23.614" fill="#ADD1B2" rx="11.2936" ry="11.2936" style="stroke:#181818;stroke-width:1.0266940451745379;"></ellipse><path d="M93.7019,19.3789 Q93.8623,19.1543 94.0548,19.042 Q94.2473,18.9297 94.4719,18.9297 Q94.8569,18.9297 95.0975,19.2024 Q95.3382,19.4591 95.3382,20.0847 L95.3382,21.5766 Q95.3382,22.2023 95.0975,22.475 Q94.8569,22.7477 94.4719,22.7477 Q94.119,22.7477 93.9104,22.5391 Q93.7019,22.3466 93.5896,21.8172 Q93.5415,21.4483 93.3489,21.2558 Q93.0121,20.8708 92.3864,20.6462 Q91.7608,20.4216 91.1191,20.4216 Q90.333,20.4216 89.6753,20.7585 Q89.0336,21.0954 88.5203,21.8654 Q88.023,22.6354 88.023,23.6942 L88.023,24.8171 Q88.023,26.0844 88.9374,26.9347 Q89.8518,27.7689 91.4881,27.7689 Q92.4506,27.7689 93.1244,27.5122 Q93.5254,27.3518 93.9585,26.9026 Q94.2313,26.6299 94.3756,26.5497 Q94.5361,26.4695 94.7446,26.4695 Q95.0815,26.4695 95.3382,26.7422 Q95.6109,26.9988 95.6109,27.3518 Q95.6109,27.7047 95.258,28.1218 Q94.7446,28.7153 93.9265,29.0522 Q92.8196,29.5175 91.4881,29.5175 Q89.932,29.5175 88.6967,28.8758 Q87.6861,28.3624 86.9802,27.2716 Q86.2744,26.1647 86.2744,24.8492 L86.2744,23.6621 Q86.2744,22.2985 86.9,21.1274 Q87.5417,19.9403 88.6647,19.3147 Q89.7876,18.673 91.0549,18.673 Q91.8089,18.673 92.4666,18.8495 Q93.1404,19.0099 93.7019,19.3789 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14.3737" lengthAdjust="spacing" textLength="54.4148" x="105.2361" y="29.4954">Persona</text></g><!--class Profesor--><g id="elem_Profesor"><rect fill="#FFFAFA" height="32.8542" id="Profesor" rx="2.5667" ry="2.5667" style="stroke:#000000;stroke-width:0.5133470225872689;" width="88.2957" x="7.1869" y="101.6427"></rect><ellipse cx="22.5873" cy="118.0698" fill="#ADD1B2" rx="11.2936" ry="11.2936" style="stroke:#181818;stroke-width:1.0266940451745379;"></ellipse><path d="M25.4267,113.8347 Q25.5871,113.6101 25.7796,113.4978 Q25.9722,113.3855 26.1967,113.3855 Q26.5818,113.3855 26.8224,113.6582 Q27.063,113.9149 27.063,114.5406 L27.063,116.0325 Q27.063,116.6581 26.8224,116.9308 Q26.5818,117.2035 26.1967,117.2035 Q25.8438,117.2035 25.6353,116.995 Q25.4267,116.8025 25.3144,116.2731 Q25.2663,115.9041 25.0738,115.7116 Q24.7369,115.3266 24.1113,115.102 Q23.4856,114.8774 22.8439,114.8774 Q22.0579,114.8774 21.4002,115.2143 Q20.7585,115.5512 20.2451,116.3212 Q19.7478,117.0912 19.7478,118.15 L19.7478,119.273 Q19.7478,120.5403 20.6622,121.3905 Q21.5766,122.2247 23.2129,122.2247 Q24.1754,122.2247 24.8492,121.968 Q25.2503,121.8076 25.6834,121.3584 Q25.9561,121.0857 26.1005,121.0055 Q26.2609,120.9253 26.4695,120.9253 Q26.8063,120.9253 27.063,121.198 Q27.3357,121.4547 27.3357,121.8076 Q27.3357,122.1605 26.9828,122.5776 Q26.4695,123.1712 25.6513,123.5081 Q24.5444,123.9733 23.2129,123.9733 Q21.6568,123.9733 20.4216,123.3316 Q19.4109,122.8183 18.7051,121.7274 Q17.9992,120.6205 17.9992,119.3051 L17.9992,118.1179 Q17.9992,116.7544 18.6249,115.5833 Q19.2666,114.3962 20.3895,113.7705 Q21.5124,113.1289 22.7798,113.1289 Q23.5338,113.1289 24.1915,113.3053 Q24.8652,113.4657 25.4267,113.8347 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14.3737" lengthAdjust="spacing" textLength="55.4415" x="36.961" y="123.9512">Profesor</text></g><!--class Investigador--><g id="elem_Investigador"><rect fill="#FFFAFA" height="32.8542" id="Investigador" rx="2.5667" ry="2.5667" style="stroke:#000000;stroke-width:0.5133470225872689;" width="111.9097" x="131.9302" y="101.6427"></rect><ellipse cx="147.3306" cy="118.0698" fill="#ADD1B2" rx="11.2936" ry="11.2936" style="stroke:#181818;stroke-width:1.0266940451745379;"></ellipse><path d="M150.17,113.8347 Q150.3305,113.6101 150.523,113.4978 Q150.7155,113.3855 150.9401,113.3855 Q151.3251,113.3855 151.5657,113.6582 Q151.8063,113.9149 151.8063,114.5406 L151.8063,116.0325 Q151.8063,116.6581 151.5657,116.9308 Q151.3251,117.2035 150.9401,117.2035 Q150.5871,117.2035 150.3786,116.995 Q150.17,116.8025 150.0578,116.2731 Q150.0096,115.9041 149.8171,115.7116 Q149.4802,115.3266 148.8546,115.102 Q148.229,114.8774 147.5873,114.8774 Q146.8012,114.8774 146.1435,115.2143 Q145.5018,115.5512 144.9884,116.3212 Q144.4911,117.0912 144.4911,118.15 L144.4911,119.273 Q144.4911,120.5403 145.4055,121.3905 Q146.3199,122.2247 147.9562,122.2247 Q148.9188,122.2247 149.5925,121.968 Q149.9936,121.8076 150.4267,121.3584 Q150.6994,121.0857 150.8438,121.0055 Q151.0042,120.9253 151.2128,120.9253 Q151.5497,120.9253 151.8063,121.198 Q152.0791,121.4547 152.0791,121.8076 Q152.0791,122.1605 151.7261,122.5776 Q151.2128,123.1712 150.3946,123.5081 Q149.2877,123.9733 147.9562,123.9733 Q146.4002,123.9733 145.1649,123.3316 Q144.1543,122.8183 143.4484,121.7274 Q142.7426,120.6205 142.7426,119.3051 L142.7426,118.1179 Q142.7426,116.7544 143.3682,115.5833 Q144.0099,114.3962 145.1328,113.7705 Q146.2558,113.1289 147.5231,113.1289 Q148.2771,113.1289 148.9348,113.3053 Q149.6086,113.4657 150.17,113.8347 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14.3737" lengthAdjust="spacing" textLength="79.0554" x="161.7043" y="123.9512">Investigador</text></g><!--class ProfesorUniversitario--><g id="elem_ProfesorUniversitario"><rect fill="#FFFAFA" height="32.8542" id="ProfesorUniversitario" rx="2.5667" ry="2.5667" style="stroke:#000000;stroke-width:0.5133470225872689;" width="168.3778" x="34.9076" y="196.0986"></rect><ellipse cx="50.308" cy="212.5257" fill="#ADD1B2" rx="11.2936" ry="11.2936" style="stroke:#181818;stroke-width:1.0266940451745379;"></ellipse><path d="M53.1475,208.2906 Q53.3079,208.066 53.5004,207.9537 Q53.6929,207.8414 53.9175,207.8414 Q54.3025,207.8414 54.5431,208.1141 Q54.7838,208.3708 54.7838,208.9964 L54.7838,210.4883 Q54.7838,211.114 54.5431,211.3867 Q54.3025,211.6594 53.9175,211.6594 Q53.5646,211.6594 53.356,211.4508 Q53.1475,211.2583 53.0352,210.729 Q52.987,210.36 52.7945,210.1675 Q52.4576,209.7825 51.832,209.5579 Q51.2064,209.3333 50.5647,209.3333 Q49.7786,209.3333 49.1209,209.6702 Q48.4792,210.0071 47.9659,210.7771 Q47.4686,211.5471 47.4686,212.6059 L47.4686,213.7288 Q47.4686,214.9961 48.383,215.8464 Q49.2974,216.6806 50.9336,216.6806 Q51.8962,216.6806 52.5699,216.4239 Q52.971,216.2635 53.4041,215.8143 Q53.6768,215.5416 53.8212,215.4614 Q53.9816,215.3812 54.1902,215.3812 Q54.5271,215.3812 54.7838,215.6539 Q55.0565,215.9105 55.0565,216.2635 Q55.0565,216.6164 54.7035,217.0335 Q54.1902,217.6271 53.372,217.9639 Q52.2651,218.4292 50.9336,218.4292 Q49.3776,218.4292 48.1423,217.7875 Q47.1317,217.2741 46.4258,216.1833 Q45.72,215.0764 45.72,213.7609 L45.72,212.5738 Q45.72,211.2102 46.3456,210.0391 Q46.9873,208.852 48.1102,208.2264 Q49.2332,207.5847 50.5005,207.5847 Q51.2545,207.5847 51.9122,207.7612 Q52.586,207.9216 53.1475,208.2906 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14.3737" lengthAdjust="spacing" textLength="135.5236" x="64.6817" y="218.4071">ProfesorUniversitario</text></g><!--reverse link Persona to Profesor--><g id="link_Persona_Profesor"><path codeline="12" d="M96.6688,55.221 C84.1329,72.3155 75.1335,84.5996 62.6591,101.6016 " fill="none" id="Persona-backto-Profesor" style="stroke:#000000;stroke-width:1.0266940451745379;"></path><polygon fill="none" points="107.5975,40.3183,91.7013,51.5781,101.6364,58.8639,107.5975,40.3183" style="stroke:#000000;stroke-width:1.0266940451745379;"></polygon></g><!--reverse link Persona to Investigador--><g id="link_Persona_Investigador"><path codeline="13" d="M141.8027,55.1442 C154.5234,72.2387 163.7269,84.5996 176.386,101.6016 " fill="none" id="Persona-backto-Investigador" style="stroke:#000000;stroke-width:1.0266940451745379;"></path><polygon fill="none" points="130.77,40.3183,136.8607,58.8218,146.7447,51.4667,130.77,40.3183" style="stroke:#000000;stroke-width:1.0266940451745379;"></polygon></g><!--reverse link Profesor to ProfesorUniversitario--><g id="link_Profesor_ProfesorUniversitario"><path codeline="14" d="M73.7624,149.6769 C86.2983,166.7713 95.2977,179.0554 107.7721,196.0575 " fill="none" id="Profesor-backto-ProfesorUniversitario" style="stroke:#000000;stroke-width:1.0266940451745379;"></path><polygon fill="none" points="62.8337,134.7741,68.7948,153.3198,78.73,146.034,62.8337,134.7741" style="stroke:#000000;stroke-width:1.0266940451745379;"></polygon></g><!--reverse link Investigador to ProfesorUniversitario--><g id="link_Investigador_ProfesorUniversitario"><path codeline="15" d="M165.1788,149.6001 C152.4581,166.6945 143.2546,179.0554 130.5955,196.0575 " fill="none" id="Investigador-backto-ProfesorUniversitario" style="stroke:#000000;stroke-width:1.0266940451745379;"></path><polygon fill="none" points="176.2115,134.7741,160.2369,145.9225,170.1208,153.2776,176.2115,134.7741" style="stroke:#000000;stroke-width:1.0266940451745379;"></polygon></g><!--SRC=[TSvB2eD0303G_PnYBb2GGW-Whjm9Khehf4wgGPsKP5JewQlOmbZQLKZoyj4QUhJ7Ks9dSg4rsf5_WC1WwnvKqn24RcF0ecPVqHDj4f5KXEUSUnQRzL1tKQjSKcWmMq8ZF7gtiKjB0Qk1EunilbxAM1pAxsKR-5fLUPwDQScXXS-NkkK3XfQT6bEYA7kmryF1bi9tL9PTiV0JQg06tDfuYnq_UvgM0GeWn2Rs_zaB]--></g></svg></p></li>
<li>
<p><strong>Diseños más complejos</strong> y más difíciles de aprender y utilizar por el programador.<br>
<strong>Nota:</strong> Siempre podremos <strong>rediseñar</strong> utilizando  herencia simple.</p>
</li>
<li>
<p><strong>Colisiones de Nombres</strong></p>
<p>En el ejemplo la subclase <strong><code>Multimedia</code></strong> hereda campos <strong>con el mismo nombre</strong> de las clases base <strong><code>Sonido</code></strong> y <strong><code>Gráficos</code></strong>.<br>
Cuando hagamos referencia al campo <strong><code>escala</code></strong> en <strong><code>Multimedia</code></strong>.</p>
<blockquote>
<p>¿Cómo podemos saber si estamos haciendo referencia a la escala de <strong><code>Sonido</code></strong> o la de <strong><code>Gráficos</code></strong>?</p>
</blockquote>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="151.0274px" preserveAspectRatio="none" style="width:350px;height:151px;background:#FFFFFF;" version="1.1" viewBox="0 0 350 151" width="350.7991px" zoomAndPan="magnify"><defs></defs><g><!--class Sonido--><g id="elem_Sonido"><rect codeline="11" fill="#FFFAFA" height="60.1063" id="Sonido" rx="1.9977" ry="1.9977" style="stroke:#000000;stroke-width:0.39954337899543385;" width="155.8219" x="5.5936" y="5.5936"></rect><ellipse cx="62.5285" cy="18.379" fill="#ADD1B2" rx="8.79" ry="8.79" style="stroke:#181818;stroke-width:0.7990867579908677;"></ellipse><path d="M64.7385,15.0828 Q64.8634,14.908 65.0132,14.8206 Q65.163,14.7332 65.3378,14.7332 Q65.6375,14.7332 65.8248,14.9454 Q66.0121,15.1452 66.0121,15.6321 L66.0121,16.7933 Q66.0121,17.2803 65.8248,17.4925 Q65.6375,17.7048 65.3378,17.7048 Q65.0631,17.7048 64.9008,17.5425 Q64.7385,17.3926 64.6511,16.9806 Q64.6137,16.6934 64.4638,16.5436 Q64.2016,16.2439 63.7147,16.0691 Q63.2277,15.8943 62.7283,15.8943 Q62.1165,15.8943 61.6046,16.1565 Q61.1052,16.4187 60.7056,17.0181 Q60.3186,17.6174 60.3186,18.4414 L60.3186,19.3154 Q60.3186,20.3018 61.0303,20.9635 Q61.7419,21.6128 63.0155,21.6128 Q63.7646,21.6128 64.289,21.413 Q64.6012,21.2882 64.9383,20.9386 Q65.1505,20.7263 65.2629,20.6639 Q65.3878,20.6015 65.5501,20.6015 Q65.8123,20.6015 66.0121,20.8137 Q66.2243,21.0135 66.2243,21.2882 Q66.2243,21.5629 65.9496,21.8875 Q65.5501,22.3495 64.9133,22.6117 Q64.0518,22.9737 63.0155,22.9737 Q61.8044,22.9737 60.843,22.4743 Q60.0564,22.0748 59.507,21.2257 Q58.9576,20.3642 58.9576,19.3404 L58.9576,18.4165 Q58.9576,17.3552 59.4446,16.4437 Q59.944,15.5198 60.818,15.0328 Q61.692,14.5334 62.6784,14.5334 Q63.2652,14.5334 63.7771,14.6707 Q64.3015,14.7956 64.7385,15.0828 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.1872" lengthAdjust="spacing" textLength="35.1598" x="78.9098" y="22.9566">Sonido</text><line style="stroke:#000000;stroke-width:0.39954337899543385;" x1="6.3927" x2="160.6164" y1="31.1644" y2="31.1644"></line><text fill="#000000" font-family="sans-serif" font-size="11.1872" lengthAdjust="spacing" textLength="104.6804" x="10.3881" y="45.974">#escala : TipoEscala</text><text fill="#000000" font-family="sans-serif" font-size="11.1872" lengthAdjust="spacing" textLength="146.2329" x="10.3881" y="60.0454">#resolución : TipoResolución</text></g><!--class Gr?ficos--><g id="elem_Gráficos"><rect codeline="17" fill="#FFFAFA" height="60.1063" id="Gráficos" rx="1.9977" ry="1.9977" style="stroke:#000000;stroke-width:0.39954337899543385;" width="155.8219" x="189.3836" y="5.5936"></rect><ellipse cx="242.7226" cy="18.379" fill="#ADD1B2" rx="8.79" ry="8.79" style="stroke:#181818;stroke-width:0.7990867579908677;"></ellipse><path d="M244.9326,15.0828 Q245.0574,14.908 245.2073,14.8206 Q245.3571,14.7332 245.5319,14.7332 Q245.8315,14.7332 246.0188,14.9454 Q246.2061,15.1452 246.2061,15.6321 L246.2061,16.7933 Q246.2061,17.2803 246.0188,17.4925 Q245.8315,17.7048 245.5319,17.7048 Q245.2572,17.7048 245.0949,17.5425 Q244.9326,17.3926 244.8452,16.9806 Q244.8077,16.6934 244.6579,16.5436 Q244.3957,16.2439 243.9087,16.0691 Q243.4218,15.8943 242.9224,15.8943 Q242.3106,15.8943 241.7987,16.1565 Q241.2992,16.4187 240.8997,17.0181 Q240.5126,17.6174 240.5126,18.4414 L240.5126,19.3154 Q240.5126,20.3018 241.2243,20.9635 Q241.936,21.6128 243.2095,21.6128 Q243.9587,21.6128 244.4831,21.413 Q244.7952,21.2882 245.1323,20.9386 Q245.3446,20.7263 245.457,20.6639 Q245.5818,20.6015 245.7441,20.6015 Q246.0063,20.6015 246.2061,20.8137 Q246.4184,21.0135 246.4184,21.2882 Q246.4184,21.5629 246.1437,21.8875 Q245.7441,22.3495 245.1074,22.6117 Q244.2459,22.9737 243.2095,22.9737 Q241.9984,22.9737 241.037,22.4743 Q240.2504,22.0748 239.7011,21.2257 Q239.1517,20.3642 239.1517,19.3404 L239.1517,18.4165 Q239.1517,17.3552 239.6386,16.4437 Q240.1381,15.5198 241.0121,15.0328 Q241.8861,14.5334 242.8724,14.5334 Q243.4593,14.5334 243.9712,14.6707 Q244.4956,14.7956 244.9326,15.0828 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.1872" lengthAdjust="spacing" textLength="42.3516" x="259.1039" y="22.9566">Gráficos</text><line style="stroke:#000000;stroke-width:0.39954337899543385;" x1="190.1826" x2="344.4064" y1="31.1644" y2="31.1644"></line><text fill="#000000" font-family="sans-serif" font-size="11.1872" lengthAdjust="spacing" textLength="104.6804" x="194.1781" y="45.974">#escala : TipoEscala</text><text fill="#000000" font-family="sans-serif" font-size="11.1872" lengthAdjust="spacing" textLength="146.2329" x="194.1781" y="60.0454">#resolución : TipoResolución</text></g><!--class Multimedia--><g id="elem_Multimedia"><rect fill="#FFFAFA" height="31.9635" id="Multimedia" rx="1.9977" ry="1.9977" style="stroke:#000000;stroke-width:0.39954337899543385;" width="79.1096" x="135.8447" y="113.4703"></rect><ellipse cx="147.8311" cy="126.2557" fill="#ADD1B2" rx="8.79" ry="8.79" style="stroke:#181818;stroke-width:0.7990867579908677;"></ellipse><path d="M150.041,122.9595 Q150.1659,122.7847 150.3157,122.6973 Q150.4655,122.6099 150.6403,122.6099 Q150.94,122.6099 151.1273,122.8221 Q151.3146,123.0219 151.3146,123.5088 L151.3146,124.67 Q151.3146,125.157 151.1273,125.3692 Q150.94,125.5815 150.6403,125.5815 Q150.3657,125.5815 150.2033,125.4192 Q150.041,125.2693 149.9536,124.8573 Q149.9162,124.5701 149.7663,124.4203 Q149.5041,124.1206 149.0172,123.9458 Q148.5303,123.771 148.0308,123.771 Q147.419,123.771 146.9071,124.0332 Q146.4077,124.2954 146.0081,124.8948 Q145.6211,125.4941 145.6211,126.3181 L145.6211,127.1921 Q145.6211,128.1785 146.3328,128.8403 Q147.0444,129.4895 148.318,129.4895 Q149.0671,129.4895 149.5915,129.2897 Q149.9037,129.1649 150.2408,128.8153 Q150.4531,128.603 150.5654,128.5406 Q150.6903,128.4782 150.8526,128.4782 Q151.1148,128.4782 151.3146,128.6904 Q151.5268,128.8902 151.5268,129.1649 Q151.5268,129.4396 151.2521,129.7642 Q150.8526,130.2262 150.2158,130.4884 Q149.3543,130.8505 148.318,130.8505 Q147.1069,130.8505 146.1455,130.351 Q145.3589,129.9515 144.8095,129.1025 Q144.2601,128.2409 144.2601,127.2171 L144.2601,126.2932 Q144.2601,125.2319 144.7471,124.3204 Q145.2465,123.3965 146.1205,122.9095 Q146.9945,122.4101 147.9809,122.4101 Q148.5677,122.4101 149.0796,122.5474 Q149.604,122.6723 150.041,122.9595 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.1872" lengthAdjust="spacing" textLength="53.5388" x="159.0183" y="130.8333">Multimedia</text><line style="stroke:#000000;stroke-width:0.39954337899543385;" x1="136.6438" x2="214.1553" y1="139.0411" y2="139.0411"></line></g><!--reverse link Sonido to Multimedia--><g id="link_Sonido_Multimedia"><path codeline="23" d="M122.7309,75.7509 C138.5049,91.5968 147.2078,100.3413 160.121,113.3105 " fill="none" id="Sonido-backto-Multimedia" style="stroke:#000000;stroke-width:0.7990867579908677;"></path><polygon fill="none" points="112.5833,65.5571,119.3329,79.1334,126.1288,72.3684,112.5833,65.5571" style="stroke:#000000;stroke-width:0.7990867579908677;"></polygon></g><!--reverse link Gr?ficos to Multimedia--><g id="link_Gráficos_Multimedia"><path codeline="24" d="M228.0682,75.7509 C212.2942,91.5968 203.5913,100.3413 190.6781,113.3105 " fill="none" id="Gráficos-backto-Multimedia" style="stroke:#000000;stroke-width:0.7990867579908677;"></path><polygon fill="none" points="238.2158,65.5571,224.6703,72.3684,231.4661,79.1334,238.2158,65.5571" style="stroke:#000000;stroke-width:0.7990867579908677;"></polygon></g><!--SRC=[hKz1Yi904BptAney2u9usPiHaJq8iX6yBSpEjAR9P5fw9WIKVOnly0b-RADnro1xj2zDTHLLrT4QJpYUZB1Xbmg89OUzKLEXzIR6QKhANtMYToiXvmFXg2UPgaep4o-AcJUsx56h5feTPUtQgTJ1TR9DmOdoIahgQMVNf4pKaVvlrWcUhF8W3K31Zh2YL8YB0BVEc4jW9t04R6U05DiV3RxXclSolu4xenJ5rvOlvt2dFnuN-FxrM-Zbj6KhyHMMNJdy70vnMVl45Jasy1VnJFm0]--></g></svg></p></li>
</ul>
</li>
</ul>
<h4 id="implementando-la-herencia-en-c">Implementando la herencia en C# </h4>
<p>Separaremos el nombre de la subclase y la superclase por el carácter <strong><code>':'</code></strong> como en C++</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token operator">&lt;</span>NombreSubClase<span class="token operator">&gt;</span> <span class="token punctuation">:</span> <span class="token operator">&lt;</span>NombreSuperClase<span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definiremos  solo las concreciones de la subclase respecto  la superclase</span>
<span class="token punctuation">}</span>
</code></pre><p>Partamos del ejemplo que hemos visto en la herencia simple, expresado en el siguiente diagrama de clases UML...</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="303.4513px" preserveAspectRatio="none" style="width:450px;height:303px;background:#FFFFFF;" version="1.1" viewBox="0 0 450 303" width="450.7965px" zoomAndPan="magnify"><defs></defs><g><!--class Articulo--><g id="elem_Articulo"><rect codeline="9" fill="#FFFAFA" height="122.3811" id="Articulo" rx="1.9912" ry="1.9912" style="stroke:#000000;stroke-width:0.39823008849557523;" width="242.1239" x="104.3363" y="5.5752"></rect><ellipse cx="203.2965" cy="18.3186" fill="#ADD1B2" rx="8.7611" ry="8.7611" style="stroke:#181818;stroke-width:0.7964601769911505;"></ellipse><path d="M205.4992,15.0332 Q205.6236,14.859 205.773,14.7718 Q205.9223,14.6847 206.0965,14.6847 Q206.3952,14.6847 206.5819,14.8963 Q206.7685,15.0954 206.7685,15.5808 L206.7685,16.7381 Q206.7685,17.2235 206.5819,17.435 Q206.3952,17.6466 206.0965,17.6466 Q205.8227,17.6466 205.661,17.4848 Q205.4992,17.3355 205.4121,16.9248 Q205.3747,16.6386 205.2254,16.4892 Q204.964,16.1905 204.4787,16.0163 Q203.9934,15.8421 203.4956,15.8421 Q202.8858,15.8421 202.3756,16.1034 Q201.8778,16.3648 201.4795,16.9621 Q201.0938,17.5595 201.0938,18.3808 L201.0938,19.2519 Q201.0938,20.2351 201.8031,20.8946 Q202.5124,21.5418 203.7818,21.5418 Q204.5285,21.5418 205.0512,21.3426 Q205.3623,21.2182 205.6983,20.8697 Q205.9098,20.6582 206.0218,20.596 Q206.1463,20.5337 206.3081,20.5337 Q206.5694,20.5337 206.7685,20.7453 Q206.9801,20.9444 206.9801,21.2182 Q206.9801,21.492 206.7063,21.8155 Q206.3081,22.276 205.6734,22.5373 Q204.8147,22.8982 203.7818,22.8982 Q202.5747,22.8982 201.6164,22.4004 Q200.8324,22.0022 200.2848,21.156 Q199.7373,20.2973 199.7373,19.2768 L199.7373,18.3559 Q199.7373,17.2981 200.2226,16.3897 Q200.7204,15.4688 201.5915,14.9834 Q202.4627,14.4856 203.4458,14.4856 Q204.0307,14.4856 204.5409,14.6225 Q205.0636,14.747 205.4992,15.0332 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="37.4336" x="219.6239" y="22.8811">Articulo</text><line style="stroke:#000000;stroke-width:0.39823008849557523;" x1="105.1327" x2="345.6637" y1="31.0619" y2="31.0619"></line><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="78.8496" x="109.115" y="45.8229">-precio : double</text><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="79.646" x="109.115" y="59.8481">-nombre : string</text><line style="stroke:#000000;stroke-width:0.39823008849557523;" x1="105.1327" x2="345.6637" y1="65.484" y2="65.484"></line><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="232.5664" x="109.115" y="80.2449">+Articulo(in nombre : string, in precio : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="109.115" x="109.115" y="94.2701">#GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="108.3186" x="109.115" y="108.2953">#GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="86.8142" x="109.115" y="122.3204">+ATexto() : string</text></g><!--class ArticuloRebajado--><g id="elem_ArticuloRebajado"><rect codeline="20" fill="#FFFAFA" height="122.3811" id="ArticuloRebajado" rx="1.9912" ry="1.9912" style="stroke:#000000;stroke-width:0.39823008849557523;" width="439.646" x="5.5752" y="176.0177"></rect><ellipse cx="179.0044" cy="188.7611" fill="#ADD1B2" rx="8.7611" ry="8.7611" style="stroke:#181818;stroke-width:0.7964601769911505;"></ellipse><path d="M181.2071,185.4757 Q181.3316,185.3014 181.4809,185.2143 Q181.6303,185.1272 181.8045,185.1272 Q182.1032,185.1272 182.2898,185.3388 Q182.4765,185.5379 182.4765,186.0232 L182.4765,187.1806 Q182.4765,187.6659 182.2898,187.8775 Q182.1032,188.089 181.8045,188.089 Q181.5307,188.089 181.3689,187.9273 Q181.2071,187.7779 181.12,187.3673 Q181.0827,187.081 180.9334,186.9317 Q180.672,186.633 180.1867,186.4588 Q179.7013,186.2846 179.2035,186.2846 Q178.5938,186.2846 178.0835,186.5459 Q177.5857,186.8072 177.1875,187.4046 Q176.8017,188.0019 176.8017,188.8233 L176.8017,189.6944 Q176.8017,190.6775 177.5111,191.3371 Q178.2204,191.9842 179.4898,191.9842 Q180.2364,191.9842 180.7591,191.7851 Q181.0702,191.6607 181.4063,191.3122 Q181.6178,191.1007 181.7298,191.0384 Q181.8543,190.9762 182.016,190.9762 Q182.2774,190.9762 182.4765,191.1878 Q182.6881,191.3869 182.6881,191.6607 Q182.6881,191.9345 182.4143,192.258 Q182.016,192.7185 181.3814,192.9798 Q180.5227,193.3407 179.4898,193.3407 Q178.2826,193.3407 177.3244,192.8429 Q176.5404,192.4447 175.9928,191.5985 Q175.4452,190.7398 175.4452,189.7193 L175.4452,188.7984 Q175.4452,187.7406 175.9306,186.8321 Q176.4284,185.9112 177.2995,185.4259 Q178.1706,184.9281 179.1538,184.9281 Q179.7387,184.9281 180.2489,185.065 Q180.7716,185.1894 181.2071,185.4757 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="86.0177" x="195.3319" y="193.3236">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.39823008849557523;" x1="6.3717" x2="444.4248" y1="201.5044" y2="201.5044"></line><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="134.6018" x="10.354" y="216.2654">-porcentajeRebaja : ushort</text><line style="stroke:#000000;stroke-width:0.39823008849557523;" x1="6.3717" x2="444.4248" y1="221.9013" y2="221.9013"></line><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="430.0885" x="10.354" y="236.6622">+ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)</text><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="161.6814" x="10.354" y="250.6874">-GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="128.2301" x="10.354" y="264.7126">-GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="156.9027" x="10.354" y="278.7377">+GetPrecioRebajado() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="135.3982" x="10.354" y="292.7629">+ATextoRebajado() : string</text></g><!--reverse link Articulo to ArticuloRebajado--><g id="link_Articulo_ArticuloRebajado"><path codeline="31" d="M225.3982,142.7575 C225.3982,158.169 225.3982,160.3912 225.3982,175.8027 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:0.7964601769911505;"></path><polygon fill="none" points="225.3982,128.4212,220.6195,142.7575,230.177,142.7575,225.3982,128.4212" style="stroke:#000000;stroke-width:0.7964601769911505;"></polygon></g><!--SRC=[ZL1DIyD05BpdLppmqg217lJYhQaWNgGOmPkmsJoQRJRxoduGKVplRZTfkgujcCkIUJFpPfxXJ2BStYrX48rjCzC9jMUQzS0bCsPbhHQri_Z4ILNY4s4PKLPQqx0cIHfAoNWNZJR-bssnzCzMarFDI7jhXSMgfmuZxlgmgIJTe3vlDX8IgqhHa6KXfGzY1NUIigyC_5V0NYCN1FVGaAibJgYYljReKUDRgMqMuEjPlH0gfTo0nnApFCYku17jSs0lyfFbFDe4KHX56VooL_om54k-qnOlMBCTQw8sf3agotOuZhpMcPQqJHiSbVziCcANpFDf-w5CmWdnfmWpwG4DTvvrflHyZpdWXRlycf_kS-m7xqNnzqm_]--></g></svg></p><blockquote>
<p>✋ Fíjate que en el diagrama de clases, aparece el símbolo <strong><code>#</code></strong>.</p>
<ul>
<li>Es un modificador que <strong>solo tiene sentido aplicarlo a una superclase</strong>.</li>
<li>Se representará por la palabra reservada <strong><code>protected</code></strong>, y significará que el <strong>campo</strong> o el <strong>método</strong> al que modifica, no puede ser accedido desde fuera de la clase como en el caso de private, pero si desde las <strong>subclases</strong> de la misma.</li>
</ul>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Articulo</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>precio <span class="token operator">=</span> precio<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">nombre</span><span class="token punctuation">}</span></span><span class="token string">\n Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">precio</span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-protected">protected</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-protected">protected</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> precio<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span> <span class="token comment">// Indicamos tras los : a que clase extiende</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> porcentajeRebaja<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">ArticuloRebajado</span><span class="token punctuation">(</span>
                <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">,</span>
                <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> porcentajeRebaja<span class="token punctuation">)</span> 
                <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> precio<span class="token punctuation">)</span> <span class="token comment">// Llamamos al constructor de la superclase</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>porcentajeRebaja <span class="token operator">=</span> porcentajeRebaja<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-ushort">ushort</span></span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> porcentajeRebaja<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetPrecioRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATextoRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\nRebaja: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">%\n"</span></span> <span class="token operator">+</span>
               <span class="token interpolation-string"><span class="token string">$"Antes: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€\nAhora: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPrecioRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">EjemploHerencia</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Polo Ralph Lauren"</span><span class="token punctuation">,</span> <span class="token number">75d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Polo Fred Perry"</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">.</span><span class="token function">ATextoRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p></p><p align="center" style="zoom:0.85" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="891pt" height="228pt" viewBox="0.00 0.00 890.55 228.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 224)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-224 886.55,-224 886.55,4 -4,4"></polygon>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="black" cx="27" cy="-87" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-82.8" font-family="Arial" font-size="14.00">a</text>
</g>
<!-- oa -->
<g id="node4" class="node">
<title>oa</title>
<polygon fill="none" stroke="black" points="99,-99.4 99,-128.2 329.45,-128.2 329.45,-99.4 99,-99.4"></polygon>
<text text-anchor="start" x="165.6" y="-109.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;a : Articulo &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="104" y="-81.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;nombre = "Polo Ralph Lauren" &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="104" y="-55" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;precio = 75.00 &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="98,-44.8 98,-129.2 330.45,-129.2 330.45,-44.8 98,-44.8"></polygon>
</g>
<!-- a&#45;&gt;oa -->
<g id="edge1" class="edge">
<title>a-&gt;oa</title>
<path fill="none" stroke="black" d="M54.15,-87C61.38,-87 69.75,-87 78.8,-87"></path>
<polygon fill="black" stroke="black" points="78.62,-90.5 88.62,-87 78.62,-83.5 78.62,-90.5"></polygon>
</g>
<!-- ar -->
<g id="node2" class="node">
<title>ar</title>
<ellipse fill="none" stroke="black" cx="401.45" cy="-87" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="401.45" y="-82.8" font-family="Arial" font-size="14.00">ar</text>
</g>
<!-- oar -->
<g id="node5" class="node">
<title>oar</title>
<polygon fill="none" stroke="black" points="473.45,-166.2 473.45,-215 873.55,-215 873.55,-166.2 473.45,-166.2"></polygon>
<text text-anchor="start" x="606.19" y="-186.4" font-family="Arial" font-size="14.00">ar : ArticuloRebajado </text>
<polygon fill="none" stroke="#ee1289" points="489.45,-121.4 489.45,-150.2 857.55,-150.2 857.55,-121.4 489.45,-121.4"></polygon>
<text text-anchor="start" x="535.8" y="-132.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="582.47" y="-132.6" font-family="Arial" font-size="14.00" fill="#ee1289"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base : Articulo &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="764.53" y="-132.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="494.45" y="-104.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="541.13" y="-104.8" font-family="Arial" font-size="14.00" fill="#ee1289"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nombre = "Polo Fred Perry" &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="805.88" y="-104.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="494.45" y="-78" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="541.13" y="-78" font-family="Arial" font-size="14.00" fill="#ee1289"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;precio = 70.00 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="723.6" y="-78" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="#ee1289" points="488.45,-66.8 488.45,-151.2 858.55,-151.2 858.55,-66.8 488.45,-66.8"></polygon>
<text text-anchor="start" x="488.45" y="-24.2" font-family="Arial" font-size="14.00">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="black" points="472.45,-4 472.45,-216 874.55,-216 874.55,-4 472.45,-4"></polygon>
</g>
<!-- ar&#45;&gt;oar -->
<g id="edge3" class="edge">
<title>ar-&gt;oar</title>
<path fill="none" stroke="black" d="M428.84,-89.25C435.87,-89.85 444.05,-90.54 453.07,-91.31"></path>
<polygon fill="black" stroke="black" points="452.7,-94.79 462.96,-92.15 453.3,-87.82 452.7,-94.79"></polygon>
</g>
<!-- base -->
<g id="node3" class="node">
<title>base</title>
<ellipse fill="none" stroke="#ee1289" cx="401.45" cy="-159" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="401.45" y="-154.8" font-family="Arial" font-size="14.00" fill="#ee1289">base</text>
</g>
<!-- base&#45;&gt;oar -->
<g id="edge4" class="edge">
<title>base-&gt;oar:base</title>
<path fill="none" stroke="#ee1289" d="M426.84,-148.84C440.84,-143.77 459.15,-138.33 477.11,-136.58"></path>
<polygon fill="#ee1289" stroke="#ee1289" points="477.18,-140.08 486.99,-136.08 476.83,-133.09 477.18,-140.08"></polygon>
</g>
<!-- oa&#45;&gt;ar -->
<g id="edge2" class="edge">
<title>oa-&gt;ar</title>
<path fill="none" stroke="none" d="M338.26,-87C346.92,-87 355.19,-87 362.7,-87"></path>
<polygon fill="none" stroke="none" points="362.69,-90.5 372.69,-87 362.69,-83.5 362.69,-90.5"></polygon>
</g>
</g>
</svg>
</p><p></p>
<h5 id="palabra-reservada-a-hrefhttpsdocsmicrosoftcomen-usdotnetcsharplanguage-referencekeywordsbase-target_blankbasea">Palabra reservada <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/base" target="_blank">base</a> </h5>
<ul>
<li>Si nos fijamos <strong>(<em>línea 8</em>)</strong> el constructor de <strong><code>ArticuloRebajado</code></strong> solo se encarga de inicializar y crear los atributos específicos de la subclase, para crear los de la clase, llamaremos al constructor que deseemos de la clase base o superclase, utilizando la palabra reservada <strong><code>:base(&lt;parámetrosBase&gt;)</code></strong> a continuación de la declaración del constructor de la subclase.</li>
<li>Si hay un <strong>constructor por defecto</strong> en la superclase <strong>no haría falta poner nada</strong>, puesto que automáticamente seria llamado al llamar al de la subclase.</li>
<li>Al igual que <strong><code>this</code></strong> era una referencia implícita al objeto de la propia clase, en las subclases tenemos la palabra reservada <strong><code>base</code></strong> que también es una referencia implícita a un objeto de la superclase, para la subclase actual.
<blockquote>
<p><strong>Nota:</strong> Me servirá en los casos en los que en la subclase y en la superclase tengamos un <strong>método con el mismo nombre</strong>.</p>
</blockquote>
</li>
</ul>
<h4 id="ocultación-e-invalidación">Ocultación e Invalidación </h4>
<p>Si te has fijado, en <strong><code>Articulo</code></strong> el getter de <strong><code>precio</code></strong> lo hemos llamado <strong><code>double GetPrecio()</code></strong> y en <strong><code>ArticuloRebajado</code></strong> le hemos llamado <strong><code>double GetPrecioRebajado()</code></strong>. Esto lo hemos hecho para no producir colisiones de signaturas (<em>recuerda que la subclase puede acceder a los métodos de la superclase</em>).<br>
Sin embargo, en el fondo es una <strong>redundáncia</strong>, porque si a un objeto <strong><code>ArticuloRebajado articuloRebajado;</code></strong> le aplico un método llamado <strong><code>articuloRebajado.GetPrecio();</code></strong> ya se que estoy obteniendo el precio rebajado.</p>
<p>Si le ponemos el mismo nombre, <strong>tendríamos métodos con signaturas idénticas en la superclase y la subclase</strong> y posiblemente recibamos algún tipo de aviso del compilador. Pero ...</p>
<ul>
<li><strong>¿Se puede hacer esto?</strong></li>
<li><strong>¿Cómo resolvemos la ambigüedad que se produce?</strong></li>
</ul>
<blockquote>
<p>✋ En la <strong>POO tradicional</strong> hay <strong>dos estrategias</strong> posibles:</p>
<ul>
<li><strong>Reemplazo</strong>: Se sustituye completamente la implementación del método heredado manteniendo la signatura.<br>
Comúnmente se le conoce como <strong>Ocultación</strong> (<em>hiding</em>)</li>
<li><strong>Refinamiento</strong>: Se añade nueva funcionalidad al comportamiento heredado.<br>
Comúnmente se le conoce como <strong>Invalidación</strong> (<em>overriding</em>)</li>
</ul>
</blockquote>
<div style="page-break-after:always;"></div>
<h5 id="ocultación-o-reemplazo-en-c">Ocultación o reemplazo en C# </h5>
<ul>
<li>
<p>Será la <strong>estrategia</strong> que aplica <strong>por defecto C#</strong>, aunque como hemos comentado, el compilador <a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/compiler-messages/cs0108" target="_blank">nos avisará</a> por si nos hemos '<em>despistado</em>' y realmente queríamos hacer otra cosa. Por ejemplo, VSCode generará el siguiente mensaje.</p>
<blockquote>
<p><em>'ArticuloRebajado.GetPrecio()' oculta el miembro heredado 'Articulo.GetPrecio()'. Use la palabra clave new si su intención era ocultarlo. CS0108</em></p>
</blockquote>
</li>
<li>
<p>Puesto que con el <strong>reemplazo</strong> lo que buscamos es definir una nueva funcionalidad para una operación heredada, antepondremos la palabra reservada <strong><code>new</code></strong> a la operación o método de la clase hija o subclase con la misma signatura que queremos ocultar en la clase base o superclase.</p>
</li>
<li>
<p>Supongamos la misma relación de herencia anterior donde ahora queremos hacer una ocultación de los métodos <strong><code>GetPrecio</code></strong> y <strong><code>ATexto</code></strong>.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="144.493px" preserveAspectRatio="none" style="width:475px;height:144px;background:#FFFFFF;" version="1.1" viewBox="0 0 475 144" width="475.8304px" zoomAndPan="magnify"><defs></defs><g><!--class ArticuloRebajado--><g id="elem_ArticuloRebajado"><rect codeline="9" fill="#FFFAFA" height="127.5992" id="ArticuloRebajado" rx="2.076" ry="2.076" style="stroke:#000000;stroke-width:0.4152097902097902;" width="458.3916" x="5.8129" y="5.8129"></rect><ellipse cx="186.6368" cy="19.0997" fill="#ADD1B2" rx="9.1346" ry="9.1346" style="stroke:#181818;stroke-width:0.8304195804195804;"></ellipse><path d="M188.9334,15.6742 Q189.0632,15.4925 189.2189,15.4017 Q189.3746,15.3109 189.5562,15.3109 Q189.8677,15.3109 190.0623,15.5314 Q190.2569,15.739 190.2569,16.2451 L190.2569,17.4518 Q190.2569,17.9578 190.0623,18.1784 Q189.8677,18.399 189.5562,18.399 Q189.2708,18.399 189.1021,18.2303 Q188.9334,18.0746 188.8426,17.6464 Q188.8037,17.348 188.648,17.1923 Q188.3755,16.8809 187.8695,16.6992 Q187.3634,16.5176 186.8444,16.5176 Q186.2086,16.5176 185.6766,16.79 Q185.1576,17.0625 184.7424,17.6853 Q184.3402,18.3082 184.3402,19.1645 L184.3402,20.0728 Q184.3402,21.0978 185.0798,21.7855 Q185.8194,22.4603 187.1428,22.4603 Q187.9214,22.4603 188.4663,22.2526 Q188.7907,22.1229 189.141,21.7596 Q189.3616,21.539 189.4784,21.4741 Q189.6081,21.4093 189.7768,21.4093 Q190.0493,21.4093 190.2569,21.6298 Q190.4775,21.8374 190.4775,22.1229 Q190.4775,22.4084 190.192,22.7457 Q189.7768,23.2258 189.1151,23.4983 Q188.2198,23.8746 187.1428,23.8746 Q185.8842,23.8746 184.8851,23.3556 Q184.0677,22.9403 183.4968,22.058 Q182.9259,21.1627 182.9259,20.0987 L182.9259,19.1386 Q182.9259,18.0357 183.4319,17.0885 Q183.9509,16.1283 184.8592,15.6223 Q185.7675,15.1033 186.7925,15.1033 Q187.4023,15.1033 187.9343,15.246 Q188.4793,15.3757 188.9334,15.6742 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.6259" lengthAdjust="spacing" textLength="89.6853" x="203.6604" y="23.8567">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.4152097902097902;" x1="6.6434" x2="463.3741" y1="32.3864" y2="32.3864"></line><text fill="#000000" font-family="sans-serif" font-size="11.6259" lengthAdjust="spacing" textLength="140.3409" x="10.7955" y="47.7767">-porcentajeRebaja : ushort</text><line style="stroke:#000000;stroke-width:0.4152097902097902;" x1="6.6434" x2="463.3741" y1="53.6529" y2="53.6529"></line><text fill="#000000" font-family="sans-serif" font-size="11.6259" lengthAdjust="spacing" textLength="448.4266" x="10.7955" y="69.0432">+ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)</text><text fill="#000000" font-family="sans-serif" font-size="11.6259" lengthAdjust="spacing" textLength="168.5752" x="10.7955" y="83.6664">-GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="11.6259" lengthAdjust="spacing" textLength="133.6976" x="10.7955" y="98.2896">-GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.6259" font-weight="bold" lengthAdjust="spacing" textLength="127.0542" x="10.7955" y="112.9127">+ GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.6259" font-weight="bold" lengthAdjust="spacing" textLength="102.1416" x="10.7955" y="127.5359">+ ATexto() : string</text></g><!--SRC=[TO_1JiCm44Jl_eezjYb8FO2Gk2MjX7gh219dnrabRXnljBOL1EBVCNPLeWA-MDvvEpDsIXg4kuTxc7NhU-46RIV9SWHbf7EbzwoRuF6WoDRw7M6xG4fccdTaYA4oKWqBwHYViiCgNXrJi6t6NdljiHvfm0Mx-qwgY5lalyqoS6LLMvg5I2rZ4QzLCFICZJp9biI7W7XkOI9MQBqyOPRW4OBhYRr8mERNvafRi3GsZ15ryVEsku4ucnYLfZXhAJG6y-m_y_Kv_GdzyOfPhNygNA0zEXKYHKdD2KajYaqoIU4BiIWkSlc2R-V5N3Tgd-8B]--></g></svg></p><p>La implementación en C# quedaría como sigue...</p>
<blockquote>
<p>✋ <strong>Importante</strong> <strong>(<em>línea 17</em>)</strong>:</p>
<ul>
<li><strong><code>base.GetPrecio();</code></strong> me devuelve el precio del original del artículo (sin descuento).</li>
<li><strong><code>this.GetPrecio();</code></strong> o <strong><code>GetPrecio();</code></strong> me devuelve el precio rebajado (con descuento).</li>
</ul>
</blockquote>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido para abreviar.</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-new">new</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Añado el modificador new para confirmar que quiero hacer una ocultación.</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Aquí si en lugar de llamar a base.GetPrecio(), llamase a GetPrecio() tendría una llamada</span>
        <span class="token comment">// recursiva y se produciría una 'Stack Overflow'.</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-new">new</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Añado el modificador new para confirmar que quiero hacer una ocultación.</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\nRebaja: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">%\n"</span></span> <span class="token operator">+</span>
               <span class="token interpolation-string"><span class="token string">$"Antes: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€\nAhora: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></li>
</ul>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">Object-oriented never made it outside of Xerox PARC; only the term did.</div>
        <div class="autor">- Alan Kay.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<h5 id="invalidación-o-refinamiento-en-c">Invalidación o refinamiento en C# </h5>
<ul>
<li>
<p>Será la opción que tomaremos en el 99% de los casos, pues es más flexible que la ocultación y me permitirá realizar los <strong>enlaces dinámicos</strong> que veremos mas adelante.</p>
</li>
<li>
<p>Haremos lo que hacía la clase padre, más nueva funcionalidad.</p>
</li>
<li>
<p>Llamaremos o marcaremos como métodos <em>'<strong>virtuales</strong>'</em> a los métodos '<em>invalidables</em>' en la superclase que sean <strong>públicos</strong> o <strong>protegidos</strong>.</p>
</li>
<li>
<p>Para ello utilizaremos la palabra reservada <strong><code>virtual</code></strong> precediendo a la declaración del método invalidable y la palabra <strong><code>override</code></strong> precediendo la declaración de un método que invalida a uno invalidable o virtual en la superclase.<br>
👁️ A diferencia de la ocultación, ambos <strong>métodos deberán tener la misma accesibilidad</strong>.</p>
<blockquote>
<p><strong>Nota:</strong> Para representar lo que queremos hacer. En <strong>'nuestros'</strong> diagramas de clases UML...</p>
<ul>
<li>Pondremos el modificador <strong><code>{virtual}</code></strong> al nombre del método invalidable. También, marcaremos en <strong>'<em>cursiva</em>'</strong> aquellos métodos virtuales o virtuales puros (que trataremos más adelante) ya que aunque dejó de usarse a partir de la versión 2.5 de UML, sigue siendo una notación ámpliamente usada .</li>
<li>Aquellos métodos que <strong>invaliden</strong> un método en su superclase los marcaremos con el caracter <em><code>^</code></em> precediendo al nombre del método, para tenerlo claro.</li>
<li>Si no ponemos nada, supondremos por convenio que estamos haciendo una ocultación.</li>
</ul>
</blockquote>
<p align="center" style="zoom:0.7" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="303.4513px" preserveAspectRatio="none" style="width:450px;height:303px;background:#FFFFFF;" version="1.1" viewBox="0 0 450 303" width="450.7965px" zoomAndPan="magnify"><defs></defs><g><!--class Articulo--><g id="elem_Articulo"><rect codeline="9" fill="#FFFAFA" height="122.3811" id="Articulo" rx="1.9912" ry="1.9912" style="stroke:#000000;stroke-width:0.39823008849557523;" width="242.1239" x="104.3363" y="5.5752"></rect><ellipse cx="203.2965" cy="18.3186" fill="#ADD1B2" rx="8.7611" ry="8.7611" style="stroke:#181818;stroke-width:0.7964601769911505;"></ellipse><path d="M205.4992,15.0332 Q205.6236,14.859 205.773,14.7718 Q205.9223,14.6847 206.0965,14.6847 Q206.3952,14.6847 206.5819,14.8963 Q206.7685,15.0954 206.7685,15.5808 L206.7685,16.7381 Q206.7685,17.2235 206.5819,17.435 Q206.3952,17.6466 206.0965,17.6466 Q205.8227,17.6466 205.661,17.4848 Q205.4992,17.3355 205.4121,16.9248 Q205.3747,16.6386 205.2254,16.4892 Q204.964,16.1905 204.4787,16.0163 Q203.9934,15.8421 203.4956,15.8421 Q202.8858,15.8421 202.3756,16.1034 Q201.8778,16.3648 201.4795,16.9621 Q201.0938,17.5595 201.0938,18.3808 L201.0938,19.2519 Q201.0938,20.2351 201.8031,20.8946 Q202.5124,21.5418 203.7818,21.5418 Q204.5285,21.5418 205.0512,21.3426 Q205.3623,21.2182 205.6983,20.8697 Q205.9098,20.6582 206.0218,20.596 Q206.1463,20.5337 206.3081,20.5337 Q206.5694,20.5337 206.7685,20.7453 Q206.9801,20.9444 206.9801,21.2182 Q206.9801,21.492 206.7063,21.8155 Q206.3081,22.276 205.6734,22.5373 Q204.8147,22.8982 203.7818,22.8982 Q202.5747,22.8982 201.6164,22.4004 Q200.8324,22.0022 200.2848,21.156 Q199.7373,20.2973 199.7373,19.2768 L199.7373,18.3559 Q199.7373,17.2981 200.2226,16.3897 Q200.7204,15.4688 201.5915,14.9834 Q202.4627,14.4856 203.4458,14.4856 Q204.0307,14.4856 204.5409,14.6225 Q205.0636,14.747 205.4992,15.0332 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="37.4336" x="219.6239" y="22.8811">Articulo</text><line style="stroke:#000000;stroke-width:0.39823008849557523;" x1="105.1327" x2="345.6637" y1="31.0619" y2="31.0619"></line><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="78.8496" x="109.115" y="45.8229">-precio : double</text><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="79.646" x="109.115" y="59.8481">-nombre : string</text><line style="stroke:#000000;stroke-width:0.39823008849557523;" x1="105.1327" x2="345.6637" y1="65.484" y2="65.484"></line><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="232.5664" x="109.115" y="80.2449">+Articulo(in nombre : string, in precio : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="109.115" x="109.115" y="94.2701">#GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="11.1504" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="160.885" x="109.115" y="108.2953">+GetPrecio() : double {virtual}</text><text fill="#000000" font-family="sans-serif" font-size="11.1504" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="140.177" x="109.115" y="122.3204">+ATexto() : string {virtual}</text></g><!--class ArticuloRebajado--><g id="elem_ArticuloRebajado"><rect codeline="20" fill="#FFFAFA" height="122.3811" id="ArticuloRebajado" rx="1.9912" ry="1.9912" style="stroke:#000000;stroke-width:0.39823008849557523;" width="439.646" x="5.5752" y="176.0177"></rect><ellipse cx="179.0044" cy="188.7611" fill="#ADD1B2" rx="8.7611" ry="8.7611" style="stroke:#181818;stroke-width:0.7964601769911505;"></ellipse><path d="M181.2071,185.4757 Q181.3316,185.3014 181.4809,185.2143 Q181.6303,185.1272 181.8045,185.1272 Q182.1032,185.1272 182.2898,185.3388 Q182.4765,185.5379 182.4765,186.0232 L182.4765,187.1806 Q182.4765,187.6659 182.2898,187.8775 Q182.1032,188.089 181.8045,188.089 Q181.5307,188.089 181.3689,187.9273 Q181.2071,187.7779 181.12,187.3673 Q181.0827,187.081 180.9334,186.9317 Q180.672,186.633 180.1867,186.4588 Q179.7013,186.2846 179.2035,186.2846 Q178.5938,186.2846 178.0835,186.5459 Q177.5857,186.8072 177.1875,187.4046 Q176.8017,188.0019 176.8017,188.8233 L176.8017,189.6944 Q176.8017,190.6775 177.5111,191.3371 Q178.2204,191.9842 179.4898,191.9842 Q180.2364,191.9842 180.7591,191.7851 Q181.0702,191.6607 181.4063,191.3122 Q181.6178,191.1007 181.7298,191.0384 Q181.8543,190.9762 182.016,190.9762 Q182.2774,190.9762 182.4765,191.1878 Q182.6881,191.3869 182.6881,191.6607 Q182.6881,191.9345 182.4143,192.258 Q182.016,192.7185 181.3814,192.9798 Q180.5227,193.3407 179.4898,193.3407 Q178.2826,193.3407 177.3244,192.8429 Q176.5404,192.4447 175.9928,191.5985 Q175.4452,190.7398 175.4452,189.7193 L175.4452,188.7984 Q175.4452,187.7406 175.9306,186.8321 Q176.4284,185.9112 177.2995,185.4259 Q178.1706,184.9281 179.1538,184.9281 Q179.7387,184.9281 180.2489,185.065 Q180.7716,185.1894 181.2071,185.4757 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="86.0177" x="195.3319" y="193.3236">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.39823008849557523;" x1="6.3717" x2="444.4248" y1="201.5044" y2="201.5044"></line><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="134.6018" x="10.354" y="216.2654">-porcentajeRebaja : ushort</text><line style="stroke:#000000;stroke-width:0.39823008849557523;" x1="6.3717" x2="444.4248" y1="221.9013" y2="221.9013"></line><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="430.0885" x="10.354" y="236.6622">+ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)</text><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="161.6814" x="10.354" y="250.6874">-GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="11.1504" lengthAdjust="spacing" textLength="128.2301" x="10.354" y="264.7126">-GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.1504" font-weight="bold" lengthAdjust="spacing" textLength="125.0442" x="10.354" y="278.7377">^+GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.1504" font-weight="bold" lengthAdjust="spacing" textLength="101.1504" x="10.354" y="292.7629">^+ATexto() : string</text></g><!--reverse link Articulo to ArticuloRebajado--><g id="link_Articulo_ArticuloRebajado"><path codeline="31" d="M225.3982,142.7575 C225.3982,158.169 225.3982,160.3912 225.3982,175.8027 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:0.7964601769911505;"></path><polygon fill="none" points="225.3982,128.4212,220.6195,142.7575,230.177,142.7575,225.3982,128.4212" style="stroke:#000000;stroke-width:0.7964601769911505;"></polygon></g><!--SRC=[ZP0nJyCm48Nt_8gJMDgKIXrWOMkBX5XGHP7OAZdEgNNZ-AgpJH5H_ZkkavQG1Walbk- -Uxxth1GQuUv-1aULkrrY2sKEWaK9KWjhvywnohp3PqbchRuGPXrapap79MbYM6WXYqvh5PvYYujmRPcyoHliVQSShaigiCCkJpyjY7FaOR46w4cj3HsJ96uP5d5AUar9bK0uKpWmIaNm03dvJ6DRDLHcZA5gWokpJM9vSfaUATD7RY7KUcBZE7O3J-XU8ZqQ_qYUMcbQYIoyXNGrJ0AsYW8HQoIW-b3ilD1rcWwCpD_mqr57zXTVzrs_OYRs8k-u9vPedDXZqmewtkw8NT_nUVAVpflQN-BZzlUJuHuJhRGhNA17jD87gXjC6yPcCBLBLflhX9fSphvWCvrUn_CD]--></g></svg></p><p>La implementación en C# quedaría como sigue...</p>
<ol>
<li>
<p>Modifico los métodos cómo invalidables con <strong><code>virtual</code></strong> en <strong><code>Articulo</code></strong> y los hagos public como va a ser en las subclases.</p>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido para abreviar.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> precio<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">nombre</span><span class="token punctuation">}</span></span><span class="token string"> Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">precio</span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€"</span></span> <span class="token operator">+</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>        
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></li>
<li>
<p>Invalido el método con la misma signatura en la subclase con el modificador <strong><code>override</code></strong></p>
<blockquote>
<p>💡 <strong>Tips:</strong><br>
1 - Si escribo <strong><code>public override </code></strong><em><code>Ctrl + &lt;espacio&gt;</code></em> el '<em>intellisense</em>' me ofrecerá permitirá escoger entre los métodos invalidables.<br>
2 - Si refactorizamos sobre el nombre de la clase con <em><code>Ctrl + .</code></em> una de ellas será '<em>Generar invalidaciones...</em>'</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido para abreviar.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Añado el modificador override para confirmar que quiero hacer una invalidación.</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Añado el modificador override para confirmar que quiero hacer una invalidación.</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\nRebaja: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">%\n"</span></span> <span class="token operator">+</span>
               <span class="token interpolation-string"><span class="token string">$"Antes: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€\nAhora: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ol>
</li>
</ul>
<div style="page-break-after:always;"></div>
<ul>
<li>
<p>Lo normal es que en el momento que modifiquemos algún método en la jerarquía con <strong><code>virtual</code></strong> (invalidable), los métodos con la misma signatura en las subclases se modificarán con <strong><code>override</code></strong>.</p>
</li>
<li>
<p>Sin embargo, podemos hacer diseños más complejos como el del ejemplo siguiente donde volvemos a ocultar como sucede en la clase <strong><code>E</code></strong>. <strong>Deberemos evitar diseños complejos</strong>.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="63.3222px" preserveAspectRatio="none" style="width:800px;height:63px;background:#FFFFFF;" version="1.1" viewBox="0 0 800 63" width="800.8919px" zoomAndPan="magnify"><defs></defs><g><!--class A--><g id="elem_A"><rect codeline="11" fill="#FFFAFA" height="51.3796" id="A" rx="2.2297" ry="2.2297" style="stroke:#000000;stroke-width:0.4459308807134894;" width="102.5641" x="6.243" y="6.243"></rect><ellipse cx="49.7213" cy="20.5128" fill="#ADD1B2" rx="9.8105" ry="9.8105" style="stroke:#181818;stroke-width:0.8918617614269788;"></ellipse><path d="M52.1878,16.8339 Q52.3272,16.6388 52.4944,16.5412 Q52.6616,16.4437 52.8567,16.4437 Q53.1912,16.4437 53.4002,16.6806 Q53.6093,16.9036 53.6093,17.447 L53.6093,18.743 Q53.6093,19.2865 53.4002,19.5234 Q53.1912,19.7603 52.8567,19.7603 Q52.5502,19.7603 52.369,19.5792 Q52.1878,19.4119 52.0903,18.9521 Q52.0485,18.6315 51.8813,18.4643 Q51.5886,18.1299 51.0452,17.9348 Q50.5017,17.7397 49.9443,17.7397 Q49.2614,17.7397 48.6901,18.0323 Q48.1327,18.325 47.6867,18.9939 Q47.2547,19.6628 47.2547,20.5825 L47.2547,21.558 Q47.2547,22.6589 48.0491,23.3974 Q48.8434,24.1221 50.2648,24.1221 Q51.1009,24.1221 51.6862,23.8991 Q52.0346,23.7598 52.4108,23.3696 Q52.6477,23.1327 52.7731,23.063 Q52.9125,22.9933 53.0936,22.9933 Q53.3863,22.9933 53.6093,23.2302 Q53.8462,23.4532 53.8462,23.7598 Q53.8462,24.0663 53.5396,24.4287 Q53.0936,24.9443 52.3829,25.2369 Q51.4214,25.641 50.2648,25.641 Q48.913,25.641 47.84,25.0836 Q46.9621,24.6377 46.3489,23.6901 Q45.7358,22.7285 45.7358,21.5858 L45.7358,20.5546 Q45.7358,19.3701 46.2793,18.3528 Q46.8367,17.3216 47.8122,16.7781 Q48.7876,16.2207 49.8885,16.2207 Q50.5435,16.2207 51.1148,16.374 Q51.7001,16.5134 52.1878,16.8339 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.4861" lengthAdjust="spacing" textLength="8.0268" x="68.0045" y="25.6219">A</text><line style="stroke:#000000;stroke-width:0.4459308807134894;" x1="7.1349" x2="107.9153" y1="34.7826" y2="34.7826"></line><text fill="#000000" font-family="sans-serif" font-size="12.4861" lengthAdjust="spacing" textLength="91.8618" x="11.5942" y="51.3117">+Metodo() : void</text></g><!--class B--><g id="elem_B"><rect codeline="15" fill="#FFFAFA" height="51.3796" id="B" rx="2.2297" ry="2.2297" style="stroke:#000000;stroke-width:0.4459308807134894;" width="148.0491" x="162.3188" y="6.243"></rect><ellipse cx="228.5396" cy="20.5128" fill="#ADD1B2" rx="9.8105" ry="9.8105" style="stroke:#181818;stroke-width:0.8918617614269788;"></ellipse><path d="M231.0061,16.8339 Q231.1455,16.6388 231.3127,16.5412 Q231.4799,16.4437 231.675,16.4437 Q232.0095,16.4437 232.2185,16.6806 Q232.4275,16.9036 232.4275,17.447 L232.4275,18.743 Q232.4275,19.2865 232.2185,19.5234 Q232.0095,19.7603 231.675,19.7603 Q231.3685,19.7603 231.1873,19.5792 Q231.0061,19.4119 230.9086,18.9521 Q230.8668,18.6315 230.6996,18.4643 Q230.4069,18.1299 229.8634,17.9348 Q229.32,17.7397 228.7625,17.7397 Q228.0797,17.7397 227.5084,18.0323 Q226.9509,18.325 226.505,18.9939 Q226.073,19.6628 226.073,20.5825 L226.073,21.558 Q226.073,22.6589 226.8673,23.3974 Q227.6616,24.1221 229.0831,24.1221 Q229.9192,24.1221 230.5045,23.8991 Q230.8528,23.7598 231.2291,23.3696 Q231.466,23.1327 231.5914,23.063 Q231.7308,22.9933 231.9119,22.9933 Q232.2046,22.9933 232.4275,23.2302 Q232.6644,23.4532 232.6644,23.7598 Q232.6644,24.0663 232.3579,24.4287 Q231.9119,24.9443 231.2012,25.2369 Q230.2397,25.641 229.0831,25.641 Q227.7313,25.641 226.6583,25.0836 Q225.7804,24.6377 225.1672,23.6901 Q224.5541,22.7285 224.5541,21.5858 L224.5541,20.5546 Q224.5541,19.3701 225.0975,18.3528 Q225.655,17.3216 226.6304,16.7781 Q227.6059,16.2207 228.7068,16.2207 Q229.3618,16.2207 229.9331,16.374 Q230.5184,16.5134 231.0061,16.8339 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.4861" lengthAdjust="spacing" textLength="8.0268" x="246.8227" y="25.6219">B</text><line style="stroke:#000000;stroke-width:0.4459308807134894;" x1="163.2107" x2="309.476" y1="34.7826" y2="34.7826"></line><text fill="#000000" font-family="sans-serif" font-size="12.4861" font-style="italic" lengthAdjust="spacing" textLength="137.3467" x="167.67" y="51.3117">+Metodo() : void {virtual}</text></g><!--class C--><g id="elem_C"><rect codeline="19" fill="#FFFAFA" height="51.3796" id="C" rx="2.2297" ry="2.2297" style="stroke:#000000;stroke-width:0.4459308807134894;" width="110.5909" x="363.8796" y="6.243"></rect><ellipse cx="410.9253" cy="20.5128" fill="#ADD1B2" rx="9.8105" ry="9.8105" style="stroke:#181818;stroke-width:0.8918617614269788;"></ellipse><path d="M413.3919,16.8339 Q413.5312,16.6388 413.6984,16.5412 Q413.8657,16.4437 414.0608,16.4437 Q414.3952,16.4437 414.6042,16.6806 Q414.8133,16.9036 414.8133,17.447 L414.8133,18.743 Q414.8133,19.2865 414.6042,19.5234 Q414.3952,19.7603 414.0608,19.7603 Q413.7542,19.7603 413.573,19.5792 Q413.3919,19.4119 413.2943,18.9521 Q413.2525,18.6315 413.0853,18.4643 Q412.7926,18.1299 412.2492,17.9348 Q411.7057,17.7397 411.1483,17.7397 Q410.4654,17.7397 409.8941,18.0323 Q409.3367,18.325 408.8907,18.9939 Q408.4588,19.6628 408.4588,20.5825 L408.4588,21.558 Q408.4588,22.6589 409.2531,23.3974 Q410.0474,24.1221 411.4688,24.1221 Q412.3049,24.1221 412.8902,23.8991 Q413.2386,23.7598 413.6148,23.3696 Q413.8517,23.1327 413.9771,23.063 Q414.1165,22.9933 414.2977,22.9933 Q414.5903,22.9933 414.8133,23.2302 Q415.0502,23.4532 415.0502,23.7598 Q415.0502,24.0663 414.7436,24.4287 Q414.2977,24.9443 413.587,25.2369 Q412.6254,25.641 411.4688,25.641 Q410.1171,25.641 409.044,25.0836 Q408.1661,24.6377 407.553,23.6901 Q406.9398,22.7285 406.9398,21.5858 L406.9398,20.5546 Q406.9398,19.3701 407.4833,18.3528 Q408.0407,17.3216 409.0162,16.7781 Q409.9916,16.2207 411.0925,16.2207 Q411.7475,16.2207 412.3188,16.374 Q412.9041,16.5134 413.3919,16.8339 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.4861" lengthAdjust="spacing" textLength="8.9186" x="429.2085" y="25.6219">C</text><line style="stroke:#000000;stroke-width:0.4459308807134894;" x1="364.7715" x2="473.5786" y1="34.7826" y2="34.7826"></line><text fill="#000000" font-family="sans-serif" font-size="12.4861" lengthAdjust="spacing" textLength="99.8885" x="369.2308" y="51.3117">^+ Metodo() : void</text></g><!--class D--><g id="elem_D"><rect codeline="23" fill="#FFFAFA" height="51.3796" id="D" rx="2.2297" ry="2.2297" style="stroke:#000000;stroke-width:0.4459308807134894;" width="110.5909" x="527.9822" y="6.243"></rect><ellipse cx="575.0279" cy="20.5128" fill="#ADD1B2" rx="9.8105" ry="9.8105" style="stroke:#181818;stroke-width:0.8918617614269788;"></ellipse><path d="M577.4944,16.8339 Q577.6338,16.6388 577.801,16.5412 Q577.9682,16.4437 578.1633,16.4437 Q578.4978,16.4437 578.7068,16.6806 Q578.9158,16.9036 578.9158,17.447 L578.9158,18.743 Q578.9158,19.2865 578.7068,19.5234 Q578.4978,19.7603 578.1633,19.7603 Q577.8567,19.7603 577.6756,19.5792 Q577.4944,19.4119 577.3969,18.9521 Q577.3551,18.6315 577.1878,18.4643 Q576.8952,18.1299 576.3517,17.9348 Q575.8082,17.7397 575.2508,17.7397 Q574.568,17.7397 573.9967,18.0323 Q573.4392,18.325 572.9933,18.9939 Q572.5613,19.6628 572.5613,20.5825 L572.5613,21.558 Q572.5613,22.6589 573.3556,23.3974 Q574.1499,24.1221 575.5713,24.1221 Q576.4075,24.1221 576.9928,23.8991 Q577.3411,23.7598 577.7174,23.3696 Q577.9543,23.1327 578.0797,23.063 Q578.2191,22.9933 578.4002,22.9933 Q578.6929,22.9933 578.9158,23.2302 Q579.1527,23.4532 579.1527,23.7598 Q579.1527,24.0663 578.8462,24.4287 Q578.4002,24.9443 577.6895,25.2369 Q576.728,25.641 575.5713,25.641 Q574.2196,25.641 573.1466,25.0836 Q572.2687,24.6377 571.6555,23.6901 Q571.0424,22.7285 571.0424,21.5858 L571.0424,20.5546 Q571.0424,19.3701 571.5858,18.3528 Q572.1433,17.3216 573.1187,16.7781 Q574.0942,16.2207 575.1951,16.2207 Q575.8501,16.2207 576.4214,16.374 Q577.0067,16.5134 577.4944,16.8339 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.4861" lengthAdjust="spacing" textLength="8.9186" x="593.311" y="25.6219">D</text><line style="stroke:#000000;stroke-width:0.4459308807134894;" x1="528.874" x2="637.6812" y1="34.7826" y2="34.7826"></line><text fill="#000000" font-family="sans-serif" font-size="12.4861" lengthAdjust="spacing" textLength="99.8885" x="533.3333" y="51.3117">^+ Metodo() : void</text></g><!--class E--><g id="elem_E"><rect codeline="27" fill="#FFFAFA" height="51.3796" id="E" rx="2.2297" ry="2.2297" style="stroke:#000000;stroke-width:0.4459308807134894;" width="102.5641" x="692.0847" y="6.243"></rect><ellipse cx="735.563" cy="20.5128" fill="#ADD1B2" rx="9.8105" ry="9.8105" style="stroke:#181818;stroke-width:0.8918617614269788;"></ellipse><path d="M738.0295,16.8339 Q738.1689,16.6388 738.3361,16.5412 Q738.5033,16.4437 738.6984,16.4437 Q739.0329,16.4437 739.2419,16.6806 Q739.4509,16.9036 739.4509,17.447 L739.4509,18.743 Q739.4509,19.2865 739.2419,19.5234 Q739.0329,19.7603 738.6984,19.7603 Q738.3919,19.7603 738.2107,19.5792 Q738.0295,19.4119 737.932,18.9521 Q737.8902,18.6315 737.723,18.4643 Q737.4303,18.1299 736.8868,17.9348 Q736.3434,17.7397 735.786,17.7397 Q735.1031,17.7397 734.5318,18.0323 Q733.9744,18.325 733.5284,18.9939 Q733.0964,19.6628 733.0964,20.5825 L733.0964,21.558 Q733.0964,22.6589 733.8907,23.3974 Q734.6851,24.1221 736.1065,24.1221 Q736.9426,24.1221 737.5279,23.8991 Q737.8763,23.7598 738.2525,23.3696 Q738.4894,23.1327 738.6148,23.063 Q738.7542,22.9933 738.9353,22.9933 Q739.228,22.9933 739.4509,23.2302 Q739.6878,23.4532 739.6878,23.7598 Q739.6878,24.0663 739.3813,24.4287 Q738.9353,24.9443 738.2246,25.2369 Q737.2631,25.641 736.1065,25.641 Q734.7547,25.641 733.6817,25.0836 Q732.8038,24.6377 732.1906,23.6901 Q731.5775,22.7285 731.5775,21.5858 L731.5775,20.5546 Q731.5775,19.3701 732.121,18.3528 Q732.6784,17.3216 733.6538,16.7781 Q734.6293,16.2207 735.7302,16.2207 Q736.3852,16.2207 736.9565,16.374 Q737.5418,16.5134 738.0295,16.8339 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.4861" lengthAdjust="spacing" textLength="8.0268" x="753.8462" y="25.6219">E</text><line style="stroke:#000000;stroke-width:0.4459308807134894;" x1="692.9766" x2="793.757" y1="34.7826" y2="34.7826"></line><text fill="#000000" font-family="sans-serif" font-size="12.4861" lengthAdjust="spacing" textLength="91.8618" x="697.4359" y="51.3117">+Metodo() : void</text></g><!--reverse link A to B--><g id="link_A_B"><path codeline="32" d="M124.9677,32.107 C141.5206,32.107 144.214,32.107 162.1137,32.107 " fill="none" id="A-backto-B" style="stroke:#000000;stroke-width:0.8918617614269788;"></path><polygon fill="none" points="108.9142,32.107,124.9677,37.4582,124.9677,26.7559,108.9142,32.107" style="stroke:#000000;stroke-width:0.8918617614269788;"></polygon></g><!--reverse link B to C--><g id="link_B_C"><path codeline="33" d="M326.6711,32.107 C344.4103,32.107 347.0056,32.107 363.7101,32.107 " fill="none" id="B-backto-C" style="stroke:#000000;stroke-width:0.8918617614269788;"></path><polygon fill="none" points="310.6176,32.107,326.6711,37.4582,326.6711,26.7559,310.6176,32.107" style="stroke:#000000;stroke-width:0.8918617614269788;"></polygon></g><!--reverse link C to D--><g id="link_C_D"><path codeline="34" d="M490.6221,32.107 C507.7547,32.107 510.6087,32.107 527.7503,32.107 " fill="none" id="C-backto-D" style="stroke:#000000;stroke-width:0.8918617614269788;"></path><polygon fill="none" points="474.5686,32.107,490.6221,37.4582,490.6221,26.7559,474.5686,32.107" style="stroke:#000000;stroke-width:0.8918617614269788;"></polygon></g><!--reverse link D to E--><g id="link_D_E"><path codeline="35" d="M654.7068,32.107 C671.9643,32.107 674.9075,32.107 691.8885,32.107 " fill="none" id="D-backto-E" style="stroke:#000000;stroke-width:0.8918617614269788;"></path><polygon fill="none" points="638.6533,32.107,654.7068,37.4582,654.7068,26.7559,638.6533,32.107" style="stroke:#000000;stroke-width:0.8918617614269788;"></polygon></g><!--SRC=[XOwzQiH038HxFONAX73WCgJpsbUa20HSf3lOsrNinNjMqCfdYF6xnyuvmUHNpI3qpMWYFIigeuIwKVH1o6dW3fApaV0sot08NXj8RUXUhDWJkcXJobKb77kbUyTT5Lu9imsIY_1GS6H14wrhDwV7URKrcLbguRxp5-of2KhLYLlQiCNooR1uaf_3Bi2NgAhZ0Q09dj1-j4pmtXfp607dkS47KlPyTOrtUERWOLe9inAZFIOLwtJw3kDu3gAzZTEdhLXjXz-Jo_-H_H_r8CV3RcV0B590iKW9vI9xU0C0]--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">A</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">A</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Oculta el de A y lo marco como virtual o invalidable.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">C</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">B</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Invalido Metodo() en B</span>
    <span class="token punctuation">{</span> 
        <span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Llamada a la implementación de B </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">D</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">C</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// Invalido Metodo() en B y C</span>
    <span class="token punctuation">{</span> 
        <span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Llamada a la implementación de C</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">E</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">D</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-new">new</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// Corto la secuencia de invalidaciones ocultando el método.</span>
    <span class="token punctuation">{</span> 
        <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ul>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">The most fundamental problem in software development is complexity. There is only one basic way of dealing with complexity: divide and conquer.</div>
        <div class="autor">- Bjarne Stroustrup.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<blockquote>
<p><strong>🎓 Caso de estudio</strong></p>
<p>Vamos a definir otra concreción más de la clase <strong><code>Articulo</code></strong>. En este caso, va a representar artículos reacondicionados, de los que vamos a añadir una <strong>fecha de reacondicionamiento</strong>, la <strong>empresa</strong> que lo realiza y una <strong>descripción</strong> del trabajo realizado.</p>
<ul>
<li>Solo vamos a invalidar el método <strong><code>string ATexto()</code></strong>.</li>
<li>Instáncia un objeto de la nueva clase.</li>
</ul>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="158px" preserveAspectRatio="none" style="width:378px;height:158px;" version="1.1" viewBox="0 0 378 158" width="378px" zoomAndPan="magnify"><defs></defs><g><!--class ArticuloReacondicionado--><g id="elem_ArticuloReacondicionado"><rect codeline="13" fill="#FFDEAD" height="32" id="ArticuloReacondicionado" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="189" x="7" y="119"></rect><ellipse cx="22" cy="135" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M24.7656,130.875 Q24.9219,130.6563 25.1094,130.5469 Q25.2969,130.4375 25.5156,130.4375 Q25.8906,130.4375 26.125,130.7031 Q26.3594,130.9531 26.3594,131.5625 L26.3594,133.0156 Q26.3594,133.625 26.125,133.8906 Q25.8906,134.1563 25.5156,134.1563 Q25.1719,134.1563 24.9688,133.9531 Q24.7656,133.7656 24.6563,133.25 Q24.6094,132.8906 24.4219,132.7031 Q24.0938,132.3281 23.4844,132.1094 Q22.875,131.8906 22.25,131.8906 Q21.4844,131.8906 20.8438,132.2188 Q20.2188,132.5469 19.7188,133.2969 Q19.2344,134.0469 19.2344,135.0781 L19.2344,136.1719 Q19.2344,137.4063 20.125,138.2344 Q21.0156,139.0469 22.6094,139.0469 Q23.5469,139.0469 24.2031,138.7969 Q24.5938,138.6406 25.0156,138.2031 Q25.2813,137.9375 25.4219,137.8594 Q25.5781,137.7813 25.7813,137.7813 Q26.1094,137.7813 26.3594,138.0469 Q26.625,138.2969 26.625,138.6406 Q26.625,138.9844 26.2813,139.3906 Q25.7813,139.9688 24.9844,140.2969 Q23.9063,140.75 22.6094,140.75 Q21.0938,140.75 19.8906,140.125 Q18.9063,139.625 18.2188,138.5625 Q17.5313,137.4844 17.5313,136.2031 L17.5313,135.0469 Q17.5313,133.7188 18.1406,132.5781 Q18.7656,131.4219 19.8594,130.8125 Q20.9531,130.1875 22.1875,130.1875 Q22.9219,130.1875 23.5625,130.3594 Q24.2188,130.5156 24.7656,130.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="36" y="140.7285">ArticuloReacondicionado</text></g><!--class Articulo--><g id="elem_Articulo"><rect fill="#FFFAFA" height="32" id="Articulo" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="79" x="162" y="7"></rect><ellipse cx="177" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M179.7656,18.875 Q179.9219,18.6563 180.1094,18.5469 Q180.2969,18.4375 180.5156,18.4375 Q180.8906,18.4375 181.125,18.7031 Q181.3594,18.9531 181.3594,19.5625 L181.3594,21.0156 Q181.3594,21.625 181.125,21.8906 Q180.8906,22.1563 180.5156,22.1563 Q180.1719,22.1563 179.9688,21.9531 Q179.7656,21.7656 179.6563,21.25 Q179.6094,20.8906 179.4219,20.7031 Q179.0938,20.3281 178.4844,20.1094 Q177.875,19.8906 177.25,19.8906 Q176.4844,19.8906 175.8438,20.2188 Q175.2188,20.5469 174.7188,21.2969 Q174.2344,22.0469 174.2344,23.0781 L174.2344,24.1719 Q174.2344,25.4063 175.125,26.2344 Q176.0156,27.0469 177.6094,27.0469 Q178.5469,27.0469 179.2031,26.7969 Q179.5938,26.6406 180.0156,26.2031 Q180.2813,25.9375 180.4219,25.8594 Q180.5781,25.7813 180.7813,25.7813 Q181.1094,25.7813 181.3594,26.0469 Q181.625,26.2969 181.625,26.6406 Q181.625,26.9844 181.2813,27.3906 Q180.7813,27.9688 179.9844,28.2969 Q178.9063,28.75 177.6094,28.75 Q176.0938,28.75 174.8906,28.125 Q173.9063,27.625 173.2188,26.5625 Q172.5313,25.4844 172.5313,24.2031 L172.5313,23.0469 Q172.5313,21.7188 173.1406,20.5781 Q173.7656,19.4219 174.8594,18.8125 Q175.9531,18.1875 177.1875,18.1875 Q177.9219,18.1875 178.5625,18.3594 Q179.2188,18.5156 179.7656,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="191" y="28.7285">Articulo</text></g><polygon fill="none" points="201.5,39,208.5,59,194.5,59" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="201.5" x2="201.5" y1="59" y2="60"></line><!--class ArticuloRebajado--><g id="elem_ArticuloRebajado"><rect fill="#FFFAFA" height="32" id="ArticuloRebajado" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="140" x="231.5" y="119"></rect><ellipse cx="246.5" cy="135" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M249.2656,130.875 Q249.4219,130.6563 249.6094,130.5469 Q249.7969,130.4375 250.0156,130.4375 Q250.3906,130.4375 250.625,130.7031 Q250.8594,130.9531 250.8594,131.5625 L250.8594,133.0156 Q250.8594,133.625 250.625,133.8906 Q250.3906,134.1563 250.0156,134.1563 Q249.6719,134.1563 249.4688,133.9531 Q249.2656,133.7656 249.1563,133.25 Q249.1094,132.8906 248.9219,132.7031 Q248.5938,132.3281 247.9844,132.1094 Q247.375,131.8906 246.75,131.8906 Q245.9844,131.8906 245.3438,132.2188 Q244.7188,132.5469 244.2188,133.2969 Q243.7344,134.0469 243.7344,135.0781 L243.7344,136.1719 Q243.7344,137.4063 244.625,138.2344 Q245.5156,139.0469 247.1094,139.0469 Q248.0469,139.0469 248.7031,138.7969 Q249.0938,138.6406 249.5156,138.2031 Q249.7813,137.9375 249.9219,137.8594 Q250.0781,137.7813 250.2813,137.7813 Q250.6094,137.7813 250.8594,138.0469 Q251.125,138.2969 251.125,138.6406 Q251.125,138.9844 250.7813,139.3906 Q250.2813,139.9688 249.4844,140.2969 Q248.4063,140.75 247.1094,140.75 Q245.5938,140.75 244.3906,140.125 Q243.4063,139.625 242.7188,138.5625 Q242.0313,137.4844 242.0313,136.2031 L242.0313,135.0469 Q242.0313,133.7188 242.6406,132.5781 Q243.2656,131.4219 244.3594,130.8125 Q245.4531,130.1875 246.6875,130.1875 Q247.4219,130.1875 248.0625,130.3594 Q248.7188,130.5156 249.2656,130.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="260.5" y="140.7285">ArticuloRebajado</text></g><!--reverse link Articulo to ArticuloRebajado--><g id="link_Articulo_ArticuloRebajado"><path codeline="15" d="M201.5,60 C201.5,60 251.49,96.99 280.78,118.67 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:1.0;"></path></g><!--reverse link Articulo to ArticuloReacondicionado--><g id="link_Articulo_ArticuloReacondicionado"><path codeline="16" d="M201.5,60 C201.5,60 151.51,96.99 122.22,118.67 " fill="none" id="Articulo-backto-ArticuloReacondicionado" style="stroke:#000000;stroke-width:1.0;"></path></g><!--SRC=[TP312i9034Jl-nKBdWNn3snF7WInWZSXtGqsjYQItLhmwzrQb5Nq5CAyJ9W9BV4L52xMTH32AaQbke-uTi8LtT4kJ7WZArKPIkb4RT61QpDfcrOuOP76IQLdFs67XY9M5sanOylnKo7gKN-RJS2NLSKoPCotl5VWa2Jac54ZSLrpWqeHsA5T6jEGHmkle67QDnWRyS6OPmqfQIJNTx93I4LuSYGCNkoCuGPd6SPOnhmeUvpFivCQpedzftuOcWS0]--></g></svg></p><p><strong>Nota:</strong> Antes de ver la la propuesta de implementación, intenta pensar cómo sería la misma.</p>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloReacondicionado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Una vez reacondicionado, los datos no van a cambiar.</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">DateTime</span> fechaReacondicionamiento<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> empresa<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> descripcion<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">ArticuloReacondicionado</span><span class="token punctuation">(</span>
                                <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span>
                                <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">,</span>
                                <span class="token class-name">DateTime</span> fechaReacondicionamiento<span class="token punctuation">,</span>
                                <span class="token class-name"><span class="token keyword keyword-string">string</span></span> empresa<span class="token punctuation">,</span>
                                <span class="token class-name"><span class="token keyword keyword-string">string</span></span> descripcion<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> precio<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>fechaReacondicionamiento <span class="token operator">=</span> fechaReacondicionamiento<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>empresa <span class="token operator">=</span> empresa<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>descripcion <span class="token operator">=</span> descripcion<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetEmpresa</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> empresa<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Aprovechamos para no repetir el código que muestra los </span>
        <span class="token comment">// datos que son de artículo llamando a  base.ATexto()</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
                <span class="token interpolation-string"><span class="token string">$"\nFecha reacondicionamiento: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">fechaReacondicionamiento<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Empresa: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetEmpresa</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Descripción: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">descripcion</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">EjemploHerencia</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">ArticuloReacondicionado</span> ac <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span>
                                <span class="token string">"Fuente TFX"</span><span class="token punctuation">,</span> <span class="token number">50d</span><span class="token punctuation">,</span>
                                DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">"Balmis S.A"</span><span class="token punctuation">,</span>
                                <span class="token string">"Se cambia condensador electrolítico"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ac<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></blockquote>
<div style="page-break-after:always;"></div>
<h4 id="polimorfismo-de-datos-o-inclusión">Polimorfismo de datos o inclusión </h4>
<ul>
<li>Es la capacidad de un identificador de hacer referencia a instancias de distintas clases durante su ejecución.</li>
<li>Se logra a través del <strong>principio de sustitución</strong>.</li>
</ul>
<h4 id="principio-de-sustitución-de-a-hrefhttpseswikipediaorgwikibarbara_liskov-target_blankliskova-upcasting">Principio de sustitución de <a href="https://es.wikipedia.org/wiki/Barbara_Liskov" target="_blank">Liskov</a> (Upcasting) </h4>
<ul>
<li>
<p>Podemos decir que es, cuando un identificador que hemos declarado del tipo de la superclase, referencia a un objeto de la subclase.</p>
</li>
<li>
<p>También se le conoce como <strong>upcasting</strong></p>
</li>
<li>
<p>La <strong>conversión</strong> o <em>'cast'</em> se hace de forma <strong>implícita</strong>.</p>
</li>
<li>
<p>Creamos un objeto de la subclase y lo asignamos a la superclase.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Polo Fred Perry"</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Articulo</span> a <span class="token operator">=</span> ar<span class="token punctuation">;</span>

<span class="token comment">// También podemos hacerlo directamente.</span>
<span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Polo Fred Perry"</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
</ul>
<p></p><p align="center" style="zoom:0.8" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="397pt" height="277pt" viewBox="0.00 0.00 396.62 276.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 272.8)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-272.8 392.62,-272.8 392.62,4 -4,4"></polygon>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="black" cx="27" cy="-184.4" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-180.2" font-family="Arial" font-size="14.00">a</text>
</g>
<!-- oar -->
<g id="node2" class="node">
<title>oar</title>
<polygon fill="none" stroke="#a8a8a8" points="99,-215 99,-263.8 379.62,-263.8 379.62,-215 99,-215"></polygon>
<text text-anchor="start" x="184.05" y="-235.2" font-family="Arial" font-size="14.00" fill="#a8a8a8">ArticuloRebajado </text>
<polygon fill="none" stroke="black" points="115,-170.2 115,-199 363.62,-199 363.62,-170.2 115,-170.2"></polygon>
<text text-anchor="start" x="190.68" y="-180.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;a : Articulo &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="120" y="-152.6" font-family="Arial" font-size="14.00">nombre = "Polo Fred Perry" &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="120" y="-125.8" font-family="Arial" font-size="14.00">precio = 70.00 &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="114,-115.6 114,-200 364.62,-200 364.62,-115.6 114,-115.6"></polygon>
<text text-anchor="start" x="114" y="-73" font-family="Arial" font-size="14.00" fill="#a8a8a8">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#a8a8a8" points="99,-5 99,-53.8 379.62,-53.8 379.62,-5 99,-5"></polygon>
<text text-anchor="start" x="115" y="-26.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="130.56" y="-26.2" font-family="Arial" font-size="14.00" fill="#a8a8a8">+GetPorcentajeRebaja() : ushort &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="348.06" y="-26.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="#a8a8a8" points="98,-4 98,-264.8 380.62,-264.8 380.62,-4 98,-4"></polygon>
</g>
<!-- a&#45;&gt;oar -->
<g id="edge1" class="edge">
<title>a-&gt;oar:a</title>
<path fill="none" stroke="black" d="M54.44,-184.4C68.45,-184.4 86.25,-184.4 103.28,-184.4"></path>
<polygon fill="black" stroke="black" points="102.79,-187.9 112.79,-184.4 102.79,-180.9 102.79,-187.9"></polygon>
</g>
</g>
</svg>
</p><p></p>
<blockquote>
<p>✋ <strong>Importante:</strong> Aunque creamos un objeto <strong><code>ArticuloRebajado</code></strong> <strong>completo</strong> en memoria. A través de <strong><code>a</code></strong> solo podremos acceder a la parte de <strong><code>Articulo</code></strong> que hay dentro del <strong><code>ArticuloRebajado</code></strong>.<br>
Por ejemplo, si tuvieramos una accesor público en <strong><code>ArticuloRebajado</code></strong> denominado <strong><code>ushort GetPorcentajeRebaja()</code></strong>, no podríamos hacer <strong><code>a.GetPorcentajeRebaja()</code></strong>.</p>
</blockquote>
<h4 id="downcasting">Downcasting </h4>
<ul>
<li>Se tratará de la <strong>operación contrária a la sustitución</strong> o upcasting.</li>
<li>Solo podremos hacerla si realmente la referencia que tenemos es del tipo al que queremos hacer el downcasting, en caso contrário obtendremos un <strong>error en tiempo de ejecución</strong>.</li>
</ul>
<p></p><p align="center" style="zoom:0.6" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="911pt" height="228pt" viewBox="0.00 0.00 911.16 228.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 224)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-224 907.16,-224 907.16,4 -4,4"></polygon>
<!-- a1 -->
<g id="node1" class="node">
<title>a1</title>
<ellipse fill="none" stroke="black" cx="27" cy="-136" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-131.8" font-family="Arial" font-size="14.00">a</text>
</g>
<!-- oar1 -->
<g id="node5" class="node">
<title>oar1</title>
<polygon fill="none" stroke="#a8a8a8" points="99,-166.2 99,-215 327.96,-215 327.96,-166.2 99,-166.2"></polygon>
<text text-anchor="start" x="158.22" y="-186.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">ArticuloRebajado </text>
<polygon fill="none" stroke="black" points="115,-121.4 115,-150.2 311.96,-150.2 311.96,-121.4 115,-121.4"></polygon>
<text text-anchor="start" x="164.85" y="-131.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;a : Articulo &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="120" y="-103.8" font-family="Arial" font-size="14.00">nombre = "Polo Fred Perry" &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="120" y="-77" font-family="Arial" font-size="14.00">precio = 70.00 &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="114,-66.8 114,-151.2 312.96,-151.2 312.96,-66.8 114,-66.8"></polygon>
<text text-anchor="start" x="114" y="-24.2" font-family="Arial" font-size="14.00" fill="#a8a8a8">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#a8a8a8" points="98,-4 98,-216 328.96,-216 328.96,-4 98,-4"></polygon>
</g>
<!-- a1&#45;&gt;oar1 -->
<g id="edge1" class="edge">
<title>a1-&gt;oar1:a</title>
<path fill="none" stroke="black" d="M54.49,-136C68.53,-136 86.37,-136 103.43,-136"></path>
<polygon fill="black" stroke="black" points="102.96,-139.5 112.96,-136 102.96,-132.5 102.96,-139.5"></polygon>
</g>
<!-- a2 -->
<g id="node2" class="node">
<title>a2</title>
<ellipse fill="none" stroke="#a8a8a8" cx="562.09" cy="-165" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="562.09" y="-160.8" font-family="Arial" font-size="14.00" fill="#a8a8a8">a</text>
</g>
<!-- oar2 -->
<g id="node6" class="node">
<title>oar2</title>
<polygon fill="none" stroke="black" points="634.09,-166.2 634.09,-215 894.16,-215 894.16,-166.2 634.09,-166.2"></polygon>
<text text-anchor="start" x="708.87" y="-186.4" font-family="Arial" font-size="14.00">ArticuloRebajado </text>
<polygon fill="none" stroke="#a8a8a8" points="650.09,-121.4 650.09,-150.2 878.16,-150.2 878.16,-121.4 650.09,-121.4"></polygon>
<text text-anchor="start" x="699.94" y="-132.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="715.5" y="-132.6" font-family="Arial" font-size="14.00" fill="#a8a8a8"> &nbsp;&nbsp;&nbsp;a : Articulo &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="812.75" y="-132.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="655.09" y="-104.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="670.65" y="-104.8" font-family="Arial" font-size="14.00" fill="#a8a8a8">nombre = "Polo Fred Perry" &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="857.6" y="-104.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="655.09" y="-78" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="670.65" y="-78" font-family="Arial" font-size="14.00" fill="#a8a8a8">precio = 70.00 &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="775.33" y="-78" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="#a8a8a8" points="649.09,-66.8 649.09,-151.2 879.16,-151.2 879.16,-66.8 649.09,-66.8"></polygon>
<text text-anchor="start" x="649.09" y="-24.2" font-family="Arial" font-size="14.00">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="black" points="633.09,-4 633.09,-216 895.16,-216 895.16,-4 633.09,-4"></polygon>
</g>
<!-- a2&#45;&gt;oar2 -->
<g id="edge4" class="edge">
<title>a2-&gt;oar2:a</title>
<path fill="none" stroke="#a8a8a8" d="M586.48,-152.53C600.49,-146.02 619.12,-138.96 637.65,-136.72"></path>
<polygon fill="#a8a8a8" stroke="#a8a8a8" points="637.85,-140.21 647.62,-136.09 637.42,-133.23 637.85,-140.21"></polygon>
</g>
<!-- code -->
<g id="node3" class="node">
<title>code</title>
<text text-anchor="middle" x="436.02" y="-105.8" font-family="Arial" font-size="14.00">= downcasting =&gt;</text>
</g>
<!-- code&#45;&gt;oar2 -->
<g id="edge3" class="edge">
<title>code-&gt;oar2</title>
<path fill="none" stroke="none" d="M498.74,-110C531.49,-110 573.26,-110 613.89,-110"></path>
<polygon fill="none" stroke="none" points="613.79,-113.5 623.79,-110 613.79,-106.5 613.79,-113.5"></polygon>
</g>
<!-- ar -->
<g id="node4" class="node">
<title>ar</title>
<ellipse fill="none" stroke="black" cx="562.09" cy="-55" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="562.09" y="-50.8" font-family="Arial" font-size="14.00">ar</text>
</g>
<!-- ar&#45;&gt;oar2 -->
<g id="edge5" class="edge">
<title>ar-&gt;oar2</title>
<path fill="none" stroke="black" d="M588.42,-61.97C595.99,-64.05 604.88,-66.49 614.58,-69.16"></path>
<polygon fill="black" stroke="black" points="613.36,-72.45 623.93,-71.73 615.21,-65.7 613.36,-72.45"></polygon>
</g>
<!-- oar1&#45;&gt;code -->
<g id="edge2" class="edge">
<title>oar1-&gt;code</title>
<path fill="none" stroke="none" d="M336.68,-110C345.19,-110 353.61,-110 361.72,-110"></path>
<polygon fill="none" stroke="none" points="361.46,-113.5 371.46,-110 361.46,-106.5 361.46,-113.5"></polygon>
</g>
</g>
</svg>
</p><p></p>
<h5 id="formas-de-realizar-el-downcasting">Formas de realizar el Downcasting </h5>
<ol>
<li>
<p>Mediante <strong>cast explícito</strong>:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Polo Fred Perry"</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a<span class="token punctuation">;</span> <span class="token comment">// realmente a es un ArticuloRebajado</span>
</code></pre><p>Sin embargo el siguiente código <strong>produciría un error al ejecutar</strong> 💀</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Polo Ralph Lauren"</span><span class="token punctuation">,</span> <span class="token number">75f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a<span class="token punctuation">;</span>
</code></pre></li>
<li>
<p>Mediante el operador <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/is" target="_blank">is</a></strong></p>
<p>Nos sirve para preguntarle a un objeto si es de un determinado tipo y saber así con seguridad si podemos hacer el downcasting.</p>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Polo Ralph Lauren"</span><span class="token punctuation">,</span> <span class="token number">75f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>a <span class="token keyword keyword-is">is</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">)</span> <span class="token comment">// Preguntamos si admite la forma de ...</span>
<span class="token punctuation">{</span>
    <span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a<span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></li>
<li>
<p>Mediante el operador <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/operators/type-testing-and-cast#as-operator" target="_blank">as</a></strong></p>
<p>Realiza directamente el downcasting y si no puede asigna <strong>null</strong>.</p>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Polo Ralph Lauren"</span><span class="token punctuation">,</span> <span class="token number">75f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Generará un Warning porque se puede evaluar a null y ar no es anulable</span>
<span class="token comment">// deberíamos declararlo como ArticuloRebajado? ar</span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> a <span class="token keyword keyword-as">as</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Equivaldría ha hacer...</span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> a <span class="token keyword keyword-is">is</span> <span class="token class-name">ArticuloRebajado <span class="token punctuation">?</span></span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a <span class="token punctuation">:</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></li>
<li>
<p>Apoyándonos en el operador de uso combinado null <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/operators/null-coalescing-operator" target="_blank">??</a></strong> que vimos en el tema 2</p>
<p>Se podría usar en el downcasting de la siguiente forma:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">"Samsung s10"</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">"FOXCOM"</span><span class="token punctuation">,</span> <span class="token string">"Cambio de batería"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      
<span class="token comment">// Nos aseguramos de que en ar siempre hay un objeto instanciado y evitamos el aviso</span>
<span class="token comment">// al no ser un tipo anulable 👍                      </span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> a <span class="token keyword keyword-as">as</span> <span class="token class-name">ArticuloRebajado 
                      <span class="token punctuation">?</span></span><span class="token punctuation">?</span> 
                      <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span> a<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                               
</code></pre></li>
<li>
<p>Usando la <strong>instrucción</strong> <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/switch#type-pattern">switch</a></strong> con <strong>patrones de tipo</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">"Samsung s11"</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">"FOXCOM"</span><span class="token punctuation">,</span> <span class="token string">"Cambio de batería"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-switch">switch</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-case">case</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">:</span>
        <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> <span class="token class-name">ArticuloRebajado</span> _<span class="token punctuation">:</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Es rebajado"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> <span class="token class-name">ArticuloReacondicionado</span> ac <span class="token keyword keyword-when">when</span> ac<span class="token punctuation">.</span><span class="token function">GetEmpresa</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"FOXCOM"</span><span class="token punctuation">:</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Es reacondicionado de FOXCOM"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> <span class="token class-name">ArticuloReacondicionado</span> ac<span class="token punctuation">:</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ac<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-default">default</span><span class="token punctuation">:</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"No es un tipo de objeto contemplado"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>Usando la <strong>expresión switch</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">"Samsung s11"</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">"FOXCOM"</span><span class="token punctuation">,</span> <span class="token string">"Cambio de batería"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token keyword keyword-switch">switch</span>
<span class="token punctuation">{</span>
    <span class="token return-type class-name">ArticuloRebajado</span> ar <span class="token operator">=&gt;</span> ar<span class="token punctuation">,</span>
    _ <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
</ol>
<div style="page-break-after:always;"></div>
<h4 id="ligadura-dinámica">Ligadura Dinámica </h4>
<p>También se le conoce como <strong>enlace dinámico</strong>.<br>
Una de las principales '<em>ventajas</em>' de la <strong>invalidación</strong>, es que al hacer una <strong>sustitución</strong> como la que hemos visto del tipo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Polo Fred Perry"</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p><strong><code>Console.WriteLine(a.GetPrecio());</code></strong> mostrará <strong>59,5</strong> y no <strong>70</strong>. Pero,... ¿Cómo puede suceder esto si <strong><code>a</code></strong> esta referenciando a la parte de <strong><code>Articulo</code></strong> que hay en el objeto <strong><code>ArticuloRebajado</code></strong> instanciado y <strong><code>GetPrecio()</code></strong> de <strong><code>Articulo</code></strong> me devuelve el precio sin el descuento?</p>
<p>Si nos fijamos en la figura siguiente, lo que realmente sucede es que al hacer <strong><code>a.GetPrecio()</code></strong> y ver que <strong><code>GetPrecio()</code></strong> está marcado como invalidable o <strong>virtual</strong>. Buscará posibles invalidaciones de ese método en el objeto realmente instanciado (<strong><code>ArticuloRebajado</code></strong>) y si existen lo que hará es llamar a la invalidación.<br>
A este enlace entre el método virtual y su invalidación, lo denominaremos <strong>ligadura dinámica</strong> y se denomina '<em>dinámica</em>' puesto que <strong>se decide en tiempo de ejecución</strong>, dependiendo del objeto que realmente tengamos instanciado y esté referenciado por la sustitución.</p>
<p></p><p align="center" style="zoom:0.70" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="464pt" height="306pt" viewBox="0.00 0.00 463.59 305.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 301.6)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-301.6 459.59,-301.6 459.59,4 -4,4"></polygon>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="black" cx="51.57" cy="-213.8" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="51.57" y="-209.6" font-family="Arial" font-size="14.00">a</text>
</g>
<!-- oar -->
<g id="node3" class="node">
<title>oar</title>
<polygon fill="none" stroke="#a8a8a8" points="148.14,-243.8 148.14,-292.6 446.59,-292.6 446.59,-243.8 148.14,-243.8"></polygon>
<text text-anchor="start" x="244.05" y="-264" font-family="Arial" font-size="14.00" fill="#a8a8a8">ArticuloRebajado</text>
<polygon fill="none" stroke="black" points="164.14,-199 164.14,-227.8 430.59,-227.8 430.59,-199 164.14,-199"></polygon>
<text text-anchor="start" x="248.74" y="-209.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;a : Articulo &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="169.14" y="-181.4" font-family="Arial" font-size="14.00">nombre = "Polo Fred Perry" &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="169.14" y="-154.6" font-family="Arial" font-size="14.00">precio = 70.00 &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="164.14,-116.6 164.14,-145.4 430.59,-145.4 430.59,-116.6 164.14,-116.6"></polygon>
<text text-anchor="start" x="170.14" y="-127.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="185.7" y="-127.8" font-family="Arial" font-size="14.00" fill="#ee1289"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="201.25" y="-127.8" font-family="Arial" font-style="italic" font-size="14.00" fill="#ee1289">GetPrecio() : double → 70 &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="377.12" y="-127.8" font-family="Arial" font-size="14.00" fill="#ee1289"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="392.67" y="-127.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="163.14,-115.6 163.14,-228.8 431.59,-228.8 431.59,-115.6 163.14,-115.6"></polygon>
<text text-anchor="start" x="163.14" y="-73" font-family="Arial" font-size="14.00" fill="#a8a8a8">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#a8a8a8" points="148.14,-5 148.14,-53.8 446.59,-53.8 446.59,-5 148.14,-5"></polygon>
<text text-anchor="start" x="164.14" y="-26.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="179.7" y="-26.2" font-family="Arial" font-size="14.00" fill="#ee1289"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="195.25" y="-26.2" font-family="Arial" font-weight="bold" font-size="14.00" fill="#ee1289">^GetPrecio() : double → 59,5 &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="399.47" y="-26.2" font-family="Arial" font-size="14.00" fill="#ee1289"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="415.03" y="-26.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="#a8a8a8" points="147.14,-4 147.14,-293.6 447.59,-293.6 447.59,-4 147.14,-4"></polygon>
</g>
<!-- a&#45;&gt;oar -->
<g id="edge1" class="edge">
<title>a-&gt;oar:a</title>
<path fill="none" stroke="black" d="M78.98,-213.8C98.54,-213.8 126.16,-213.8 152.03,-213.8"></path>
<polygon fill="black" stroke="black" points="151.85,-217.3 161.85,-213.8 151.85,-210.3 151.85,-217.3"></polygon>
</g>
<!-- ma -->
<g id="node2" class="node">
<title>ma</title>
<text text-anchor="middle" x="51.57" y="-141.6" font-family="Arial" font-size="14.00" fill="#ee1289">a.GetPrecio();</text>
</g>
<!-- ma&#45;&gt;oar -->
<g id="edge2" class="edge">
<title>ma:e-&gt;oar:nw</title>
<path fill="none" stroke="#ee1289" d="M103.14,-145.8C125.51,-145.8 139.34,-159.03 154.33,-152.31"></path>
<polygon fill="#ee1289" stroke="#ee1289" points="156.07,-155.37 162.14,-146.68 151.98,-149.69 156.07,-155.37"></polygon>
</g>
<!-- oar&#45;&gt;oar -->
<g id="edge3" class="edge">
<title>oar:virtual-&gt;oar:override</title>
<path fill="none" stroke="#ee1289" d="M164.32,-134.35C87.63,-131.08 16.24,-117.02 16.24,-80.3 16.24,-48 71.46,-33.24 136.94,-27.93"></path>
<polygon fill="#ee1289" stroke="#ee1289" points="137.17,-31.42 146.89,-27.21 136.67,-24.44 137.17,-31.42"></polygon>
</g>
</g>
</svg>
</p><p></p>
<h5 id="ejemplo-de-uso-del-enlace-dinámico">Ejemplo de uso del Enlace Dinámico </h5>
<p>Veamos un ejemplo más elaborado a través de otro ejemplo en e que vamos a ampliar nuestra jerarquía de artículos.</p>
<p>Supongamos que nos piden hacer una concreción más de artículos, para aquellos que están en exposición. Nos comentan que <strong>los artículos en exposición siempre tienen algún tipo de rebaja</strong>. Por lo tanto podemos decir que <strong>un artículo en exposición - <em>es un</em> - artículo rebajado</strong>.<br>
Además, se nos especifica que el porcentaje de rebaja coincidirá con los días que el artículo esté en exposición siendo un mínimo de un 1% y un máximo de 75% de su valor. De esta manera si un artículo lleva 20 días en exposición su descuento será del 20% pero si lleva 100 días su descuento será del 75%.<br>
De lo expuesto, al crear un artículo en exposición, nos interesará saber la fecha en que se inició la misma.</p>
<p>Una posible modelación del diagrama de clases para implementación UML siguiendo nuestro convenio de nomenclatura sería...</p>
<p align="center" style="zoom:0.8" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="358.0981px" preserveAspectRatio="none" style="width:500px;height:358px;background:#FFFFFF;" version="1.1" viewBox="0 0 500 358" width="500.7429px" zoomAndPan="magnify"><defs></defs><g><!--class Articulo--><g id="elem_Articulo"><rect codeline="11" fill="#FFFAFA" height="82.0487" id="Articulo" rx="1.8574" ry="1.8574" style="stroke:#000000;stroke-width:0.37147102526002973;" width="158.9896" x="244.0565" y="5.2006"></rect><ellipse cx="302.9346" cy="17.0877" fill="#ADD1B2" rx="8.1724" ry="8.1724" style="stroke:#181818;stroke-width:0.7429420505200595;"></ellipse><path d="M304.9893,14.023 Q305.1054,13.8605 305.2447,13.7793 Q305.384,13.698 305.5465,13.698 Q305.8251,13.698 305.9993,13.8953 Q306.1734,14.0811 306.1734,14.5338 L306.1734,15.6134 Q306.1734,16.0661 305.9993,16.2635 Q305.8251,16.4608 305.5465,16.4608 Q305.2911,16.4608 305.1402,16.3099 Q304.9893,16.1706 304.9081,15.7875 Q304.8732,15.5205 304.7339,15.3812 Q304.4902,15.1026 304.0374,14.9401 Q303.5847,14.7776 303.1204,14.7776 Q302.5515,14.7776 302.0756,15.0214 Q301.6113,15.2651 301.2398,15.8223 Q300.8799,16.3796 300.8799,17.1457 L300.8799,17.9583 Q300.8799,18.8754 301.5416,19.4906 Q302.2033,20.0943 303.3874,20.0943 Q304.0839,20.0943 304.5714,19.9085 Q304.8616,19.7924 305.1751,19.4674 Q305.3724,19.2701 305.4769,19.212 Q305.593,19.154 305.7439,19.154 Q305.9876,19.154 306.1734,19.3513 Q306.3707,19.5371 306.3707,19.7924 Q306.3707,20.0478 306.1153,20.3496 Q305.7439,20.7792 305.1518,21.0229 Q304.3509,21.3596 303.3874,21.3596 Q302.2613,21.3596 301.3675,20.8952 Q300.6361,20.5238 300.1254,19.7344 Q299.6146,18.9334 299.6146,17.9815 L299.6146,17.1225 Q299.6146,16.1358 300.0673,15.2884 Q300.5317,14.4293 301.3443,13.9766 Q302.1569,13.5123 303.0739,13.5123 Q303.6195,13.5123 304.0955,13.64 Q304.583,13.756 304.9893,14.023 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.4012" lengthAdjust="spacing" textLength="34.9183" x="318.1649" y="21.3436">Articulo</text><line style="stroke:#000000;stroke-width:0.37147102526002973;" x1="244.7994" x2="402.3031" y1="28.9747" y2="28.9747"></line><text fill="#000000" font-family="sans-serif" font-size="10.4012" lengthAdjust="spacing" textLength="57.2065" x="248.5141" y="42.7438">+Articulo(...)</text><text fill="#000000" font-family="sans-serif" font-size="10.4012" lengthAdjust="spacing" textLength="101.7831" x="248.5141" y="55.8266">#GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="10.4012" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="150.0743" x="248.5141" y="68.9093">+GetPrecio() : double {virtual}</text><text fill="#000000" font-family="sans-serif" font-size="10.4012" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="130.7578" x="248.5141" y="81.9921">+ATexto() : string {virtual}</text></g><!--class ArticuloRebajado--><g id="elem_ArticuloRebajado"><rect codeline="19" fill="#FFFAFA" height="95.1314" id="ArticuloRebajado" rx="1.8574" ry="1.8574" style="stroke:#000000;stroke-width:0.37147102526002973;" width="214.7103" x="114.4131" y="131.5007"></rect><ellipse cx="178.4918" cy="143.3878" fill="#ADD1B2" rx="8.1724" ry="8.1724" style="stroke:#181818;stroke-width:0.7429420505200595;"></ellipse><path d="M180.5465,140.3232 Q180.6626,140.1607 180.8019,140.0794 Q180.9412,139.9981 181.1037,139.9981 Q181.3823,139.9981 181.5565,140.1955 Q181.7306,140.3812 181.7306,140.834 L181.7306,141.9135 Q181.7306,142.3663 181.5565,142.5636 Q181.3823,142.761 181.1037,142.761 Q180.8483,142.761 180.6974,142.61 Q180.5465,142.4707 180.4653,142.0877 Q180.4304,141.8207 180.2911,141.6814 Q180.0474,141.4028 179.5946,141.2402 Q179.1419,141.0777 178.6776,141.0777 Q178.1087,141.0777 177.6328,141.3215 Q177.1685,141.5653 176.797,142.1225 Q176.4371,142.6797 176.4371,143.4459 L176.4371,144.2585 Q176.4371,145.1755 177.0988,145.7908 Q177.7605,146.3944 178.9446,146.3944 Q179.6411,146.3944 180.1286,146.2087 Q180.4188,146.0926 180.7323,145.7676 Q180.9296,145.5702 181.0341,145.5122 Q181.1502,145.4541 181.3011,145.4541 Q181.5449,145.4541 181.7306,145.6515 Q181.9279,145.8372 181.9279,146.0926 Q181.9279,146.348 181.6725,146.6498 Q181.3011,147.0793 180.709,147.3231 Q179.9081,147.6597 178.9446,147.6597 Q177.8185,147.6597 176.9247,147.1954 Q176.1934,146.8239 175.6826,146.0345 Q175.1718,145.2336 175.1718,144.2817 L175.1718,143.4226 Q175.1718,142.4359 175.6245,141.5885 Q176.0889,140.7295 176.9015,140.2767 Q177.7141,139.8124 178.6311,139.8124 Q179.1767,139.8124 179.6527,139.9401 Q180.1402,140.0562 180.5465,140.3232 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.4012" lengthAdjust="spacing" textLength="80.2377" x="193.7221" y="147.6438">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.37147102526002973;" x1="115.156" x2="328.3804" y1="155.2749" y2="155.2749"></line><text fill="#000000" font-family="sans-serif" font-size="10.4012" lengthAdjust="spacing" textLength="102.526" x="118.8707" y="169.044">+ArticuloRebajado(...)</text><text fill="#000000" font-family="sans-serif" font-size="10.4012" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="205.7949" x="118.8707" y="182.1267">#GetPorcentajeRebaja() : ushort {virtual}</text><text fill="#000000" font-family="sans-serif" font-size="10.4012" lengthAdjust="spacing" textLength="119.6137" x="118.8707" y="195.2095">-GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="10.4012" font-weight="bold" lengthAdjust="spacing" textLength="116.6419" x="118.8707" y="208.2922">^+GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="10.4012" font-weight="bold" lengthAdjust="spacing" textLength="94.3536" x="118.8707" y="221.375">^+ATexto() : string</text></g><!--class ArticuloEnExposicion--><g id="elem_ArticuloEnExposicion"><rect codeline="28" fill="#FFFAFA" height="82.0487" id="ArticuloEnExposicion" rx="1.8574" ry="1.8574" style="stroke:#000000;stroke-width:0.37147102526002973;" width="433.1352" x="5.2006" y="271.1738"></rect><ellipse cx="169.948" cy="283.0609" fill="#ADD1B2" rx="8.1724" ry="8.1724" style="stroke:#181818;stroke-width:0.7429420505200595;"></ellipse><path d="M172.0027,279.9963 Q172.1188,279.8338 172.2581,279.7525 Q172.3974,279.6712 172.5599,279.6712 Q172.8385,279.6712 173.0126,279.8686 Q173.1868,280.0543 173.1868,280.5071 L173.1868,281.5866 Q173.1868,282.0394 173.0126,282.2367 Q172.8385,282.4341 172.5599,282.4341 Q172.3045,282.4341 172.1536,282.2832 Q172.0027,282.1439 171.9214,281.7608 Q171.8866,281.4938 171.7473,281.3545 Q171.5035,281.0759 171.0508,280.9134 Q170.5981,280.7508 170.1337,280.7508 Q169.5649,280.7508 169.089,280.9946 Q168.6246,281.2384 168.2532,281.7956 Q167.8933,282.3528 167.8933,283.119 L167.8933,283.9316 Q167.8933,284.8486 168.555,285.4639 Q169.2167,286.0675 170.4007,286.0675 Q171.0972,286.0675 171.5848,285.8818 Q171.875,285.7657 172.1884,285.4407 Q172.3858,285.2433 172.4902,285.1853 Q172.6063,285.1272 172.7572,285.1272 Q173.001,285.1272 173.1868,285.3246 Q173.3841,285.5103 173.3841,285.7657 Q173.3841,286.0211 173.1287,286.3229 Q172.7572,286.7524 172.1652,286.9962 Q171.3642,287.3328 170.4007,287.3328 Q169.2747,287.3328 168.3809,286.8685 Q167.6495,286.497 167.1387,285.7077 Q166.628,284.9067 166.628,283.9548 L166.628,283.0957 Q166.628,282.109 167.0807,281.2616 Q167.545,280.4026 168.3576,279.9499 Q169.1702,279.4855 170.0873,279.4855 Q170.6329,279.4855 171.1088,279.6132 Q171.5964,279.7293 172.0027,279.9963 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.4012" lengthAdjust="spacing" textLength="97.3254" x="185.1783" y="287.3169">ArticuloEnExposicion</text><line style="stroke:#000000;stroke-width:0.37147102526002973;" x1="5.9435" x2="437.5929" y1="294.948" y2="294.948"></line><text fill="#000000" font-family="sans-serif" font-size="10.4012" lengthAdjust="spacing" textLength="424.2199" x="9.6582" y="308.7171">+ArticuloEnExposicion(in nombre : string, in precio : double, in inicioExposicion : DateTime)</text><text fill="#000000" font-family="sans-serif" font-size="10.4012" font-weight="bold" lengthAdjust="spacing" textLength="173.1055" x="9.6582" y="321.7998">^#GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="10.4012" lengthAdjust="spacing" textLength="133.7296" x="9.6582" y="334.8826">+GetDiasEnExposicion() : int</text><text fill="#000000" font-family="sans-serif" font-size="10.4012" font-weight="bold" lengthAdjust="spacing" textLength="94.3536" x="9.6582" y="347.9653">^+ATexto() : string</text></g><!--class ArticuloReacondicionado--><g id="elem_ArticuloReacondicionado"><rect fill="#FFFAFA" height="29.7177" id="ArticuloReacondicionado" rx="1.8574" ry="1.8574" style="stroke:#000000;stroke-width:0.37147102526002973;" width="140.416" x="355.1263" y="164.1902"></rect><ellipse cx="366.2704" cy="176.0773" fill="#ADD1B2" rx="8.1724" ry="8.1724" style="stroke:#181818;stroke-width:0.7429420505200595;"></ellipse><path d="M368.3251,173.0126 Q368.4412,172.8501 368.5805,172.7689 Q368.7198,172.6876 368.8823,172.6876 Q369.1609,172.6876 369.3351,172.8849 Q369.5092,173.0707 369.5092,173.5234 L369.5092,174.603 Q369.5092,175.0557 369.3351,175.2531 Q369.1609,175.4504 368.8823,175.4504 Q368.627,175.4504 368.476,175.2995 Q368.3251,175.1602 368.2439,174.7771 Q368.209,174.5101 368.0697,174.3708 Q367.826,174.0922 367.3732,173.9297 Q366.9205,173.7672 366.4562,173.7672 Q365.8874,173.7672 365.4114,174.011 Q364.9471,174.2547 364.5756,174.8119 Q364.2157,175.3691 364.2157,176.1353 L364.2157,176.9479 Q364.2157,177.865 364.8774,178.4802 Q365.5391,179.0839 366.7232,179.0839 Q367.4197,179.0839 367.9072,178.8981 Q368.1974,178.782 368.5109,178.457 Q368.7082,178.2597 368.8127,178.2016 Q368.9288,178.1436 369.0797,178.1436 Q369.3235,178.1436 369.5092,178.3409 Q369.7065,178.5267 369.7065,178.782 Q369.7065,179.0374 369.4512,179.3392 Q369.0797,179.7688 368.4876,180.0125 Q367.6867,180.3492 366.7232,180.3492 Q365.5971,180.3492 364.7033,179.8848 Q363.972,179.5134 363.4612,178.724 Q362.9504,177.923 362.9504,176.9711 L362.9504,176.1121 Q362.9504,175.1254 363.4031,174.278 Q363.8675,173.4189 364.6801,172.9662 Q365.4927,172.5019 366.4097,172.5019 Q366.9553,172.5019 367.4313,172.6296 Q367.9188,172.7456 368.3251,173.0126 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.4012" lengthAdjust="spacing" textLength="116.6419" x="376.6716" y="180.3332">ArticuloReacondicionado</text><line style="stroke:#000000;stroke-width:0.37147102526002973;" x1="355.8692" x2="494.7994" y1="187.9643" y2="187.9643"></line></g><!--reverse link Articulo to ArticuloRebajado--><g id="link_Articulo_ArticuloRebajado"><path codeline="38" d="M284.2726,97.5505 C273.3959,111.5996 269.2868,116.9168 258.0238,131.4636 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:0.7429420505200595;"></path><polygon fill="none" points="292.4591,86.9762,280.7478,94.8217,287.7973,100.2794,292.4591,86.9762" style="stroke:#000000;stroke-width:0.7429420505200595;"></polygon></g><!--reverse link ArticuloRebajado to ArticuloEnExposicion--><g id="link_ArticuloRebajado_ArticuloEnExposicion"><path codeline="39" d="M221.7682,240.2675 C221.7682,254.7103 221.7682,257.0951 221.7682,271.0401 " fill="none" id="ArticuloRebajado-backto-ArticuloEnExposicion" style="stroke:#000000;stroke-width:0.7429420505200595;"></path><polygon fill="none" points="221.7682,226.8945,217.3105,240.2675,226.2259,240.2675,221.7682,226.8945" style="stroke:#000000;stroke-width:0.7429420505200595;"></polygon></g><!--reverse link Articulo to ArticuloReacondicionado--><g id="link_Articulo_ArticuloReacondicionado"><path codeline="40" d="M362.8303,97.5503 C383.0606,123.6796 400.0446,145.6315 414.2422,163.9747 " fill="none" id="Articulo-backto-ArticuloReacondicionado" style="stroke:#000000;stroke-width:0.7429420505200595;"></path><polygon fill="none" points="354.6434,86.9762,359.3056,100.2793,366.3549,94.8213,354.6434,86.9762" style="stroke:#000000;stroke-width:0.7429420505200595;"></polygon></g><!--SRC=[XLFBRi8m4BpdAonnWRH1N7hfZPUgNbfKa7gBjB5Nn93Oo7OABUBVkp4Gaa1BBjRkZcTdnehba25x6WpOLWgN1dOjrGOCv8ndOEtGEIEJmk4hrsekVv0DQf2XCNexrfasR9G1NzT6CofXYICwbaONIXnXdwbqEC_r6clOSRbff8r0Svli26XHpPNU1a4g1J8ugxH1u6MJCYTvaUbW7p3w7gf6jz_lztolmrxGlUayCTZjiMTcYKCj_IWCzv1G3TmTs0F1PWQvr1ucT95GOlilQLm1sI4CRrmPBd3dT8ssWJ-qLNvW0YiGbTfs_oAwiQPJAjE6etAmmYFOxonigesxqXWHVeAM5tIXRkR47DzqMlcBhrtTyZ9Lqzr6MqaiwkGdObALzML031Dmk90v9MaGnBlAlecguRxEr9MAAVzMrV97OcKRBxSIwtl_B3k76D-9xcIw36GYmJQKb2YftBrKpYvO74NN3zrkD52D2F_W0VeVXKUKTBy0]--></g></svg></p><div style="page-break-after:always;"></div>
<p>Vamos a realizar una propuesta de implementación, comentada, de la especificación anterior.</p>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... &lt;Código omitido para abreviar&gt;</span>
    <span class="token comment">// Modificamos la accesibilidad a protected porque a los métodos privados no se les </span>
    <span class="token comment">// puede aplicar el modificador virtual.</span>
    <span class="token keyword keyword-protected">protected</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-ushort">ushort</span></span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> porcentajeRebaja<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloEnExposicion</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ArticuloRebajado</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">DateTime</span> inicioExposicion<span class="token punctuation">;</span>
    <span class="token comment">// En un principio el descuento es 0 y lo calculeramos dinámicamente.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">ArticuloEnExposicion</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name">DateTime</span> inicioExposicion<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> precio<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>inicioExposicion <span class="token operator">=</span> inicioExposicion<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Invalidamo el porcentaje para calcularlo en función de los días en exposición.</span>
    <span class="token keyword keyword-protected">protected</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-ushort">ushort</span></span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> Convert<span class="token punctuation">.</span><span class="token function">ToUInt16</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Clamp</span><span class="token punctuation">(</span><span class="token function">GetDiasEnExposicion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Los días en esposición se calculan en el momento actual, desde el incio de la exposición.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetDiasEnExposicion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span>Now <span class="token operator">-</span> inicioExposicion<span class="token punctuation">)</span><span class="token punctuation">.</span>Days<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Invalidamo el método ATexto() de Articulo y ArticuloRebajado para que añada la nueva información.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"\nEn exposición desde: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">inicioExposicion<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> total </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetDiasEnExposicion</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> días"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Si ahora en el programa principal ejecutamos el siguiente código...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// Creamos un ArticuloEnExposicion con fecha de inicício hace 10 días.</span>
<span class="token comment">// Hacemos una sustitución hacia el tipo más genérico Articulo</span>
<span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span>  <span class="token constructor-invocation class-name">ArticuloEnExposicion</span><span class="token punctuation">(</span><span class="token string">"TV Samsung OLED 50''"</span><span class="token punctuation">,</span> <span class="token number">999d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>Moatrará el siguiente código...</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>Nombre: TV Samsung OLED 50''
Rebaja: 10%
Antes: 999,00€
Ahora: 899,10€
En exposición desde: &lt;fecha actual - 10 días&gt; total 10 días
</code></pre><blockquote>
<p>✋ <strong>Reflexión:</strong> Si lo meditamos, se etán realizando <strong>dos enlaces o ligarduras dinámicas</strong> '<mark>→</mark>' ...</p>
<ol>
<li><em><code>a.ATexto()</code></em> <mark>→</mark> <code>^ArticuloRebajado.Atexto()</code> <mark>→</mark> <strong><code>^ArticuloEnExposicion.Atexto()</code></strong></li>
<li>Al ejecutar <code>^ArticuloEnExposicion.Atexto()</code> se llamará a <code>base.ATexto()</code> el cual llamará a <code>^ArticuloRebajado.GetPrecio()</code> este al no estar invalidado llama a <code>ArticuloRebajado.GetDescuento()</code> que a su vez llama a <em><code>ArticuloRebajado.GetPorcentajeRebaja()</code></em> <mark>→</mark> <strong><code>^ArticuloEnExposicion.GetPorcentajeRebaja()</code></strong> produciedose el segundo enlace.</li>
</ol>
</blockquote>
<div style="page-break-after:always;"></div>
<h4 id="utilidad-del-polimorfismo-de-datos-sustitución-y-el-enlace-dinámico">Utilidad del polimorfismo de datos (sustitución) y el enlace dinámico </h4>
<ul>
<li>En ocasiones el software cambia y se añaden nuevas especificaciones, como pudieran ser nuevos tipos de artículos en la jerarquía.</li>
<li>Con el polimorfismo de datos, podremos adaptarnos a futuros cambios (Nuevas formas de un objeto), <strong>sin realizar cambios</strong> traumáticos y costosos en nuestros objetos ni en nuestra implementación.</li>
</ul>
<p>Veamos esto a través de un <strong>ejemplo simplificado</strong>:</p>
<ul>
<li>
<p>Supongamos que queremos modelar una clase <strong><code>TicketCompra</code></strong> que contenga al menos un artículo y que me permita añadir artículos al mismo.</p>
</li>
<li>
<p>Además, vamos a añadir un método para mostrar el ticket y otro para calcular el total del mismo.</p>
</li>
<li>
<p>Un posible diseño simplificado para expresar esto podría ser ...</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="72.7554px" preserveAspectRatio="none" style="width:501px;height:72px;background:#FFFFFF;" version="1.1" viewBox="0 0 501 72" width="501.548px" zoomAndPan="magnify"><defs></defs><g><!--class TicketCompra--><g id="elem_TicketCompra"><rect codeline="12" fill="#FFFAFA" height="49.5356" id="TicketCompra" rx="3.87" ry="3.87" style="stroke:#000000;stroke-width:0.7739938080495357;" width="185.7585" x="10.8359" y="12.9357"></rect><ellipse cx="34.0557" cy="37.7035" fill="#ADD1B2" rx="17.0279" ry="17.0279" style="stroke:#181818;stroke-width:1.5479876160990713;"></ellipse><path d="M38.3369,31.318 Q38.5788,30.9794 38.869,30.8101 Q39.1592,30.6408 39.4979,30.6408 Q40.0784,30.6408 40.4412,31.052 Q40.804,31.439 40.804,32.3823 L40.804,34.6317 Q40.804,35.575 40.4412,35.9862 Q40.0784,36.3974 39.4979,36.3974 Q38.9658,36.3974 38.6513,36.0829 Q38.3369,35.7927 38.1676,34.9945 Q38.095,34.4382 37.8048,34.1479 Q37.2968,33.5674 36.3535,33.2288 Q35.4102,32.8902 34.4427,32.8902 Q33.2575,32.8902 32.2659,33.3981 Q31.2984,33.9061 30.5244,35.0671 Q29.7746,36.2281 29.7746,37.8244 L29.7746,39.5175 Q29.7746,41.4283 31.1533,42.7102 Q32.5319,43.968 34.999,43.968 Q36.4503,43.968 37.4661,43.581 Q38.0708,43.3391 38.7239,42.6619 Q39.1351,42.2507 39.3527,42.1298 Q39.5946,42.0088 39.9091,42.0088 Q40.417,42.0088 40.804,42.42 Q41.2152,42.807 41.2152,43.3391 Q41.2152,43.8712 40.683,44.5001 Q39.9091,45.395 38.6755,45.903 Q37.0066,46.6044 34.999,46.6044 Q32.6529,46.6044 30.7904,45.6369 Q29.2666,44.8629 28.2024,43.2182 Q27.1382,41.5493 27.1382,39.5659 L27.1382,37.776 Q27.1382,35.7201 28.0815,33.9544 Q29.049,32.1646 30.7421,31.2213 Q32.4352,30.2538 34.346,30.2538 Q35.4828,30.2538 36.4745,30.5198 Q37.4903,30.7617 38.3369,31.318 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="21.6718" lengthAdjust="spacing" textLength="136.2229" x="55.7276" y="46.5711">TicketCompra</text></g><!--class Articulo--><g id="elem_Articulo"><rect fill="#FFFAFA" height="49.5356" id="Articulo" rx="3.87" ry="3.87" style="stroke:#000000;stroke-width:0.7739938080495357;" width="122.291" x="368.4211" y="12.9357"></rect><ellipse cx="391.6409" cy="37.7035" fill="#ADD1B2" rx="17.0279" ry="17.0279" style="stroke:#181818;stroke-width:1.5479876160990713;"></ellipse><path d="M395.922,31.318 Q396.1639,30.9794 396.4541,30.8101 Q396.7444,30.6408 397.083,30.6408 Q397.6635,30.6408 398.0263,31.052 Q398.3891,31.439 398.3891,32.3823 L398.3891,34.6317 Q398.3891,35.575 398.0263,35.9862 Q397.6635,36.3974 397.083,36.3974 Q396.5509,36.3974 396.2365,36.0829 Q395.922,35.7927 395.7527,34.9945 Q395.6801,34.4382 395.3899,34.1479 Q394.882,33.5674 393.9387,33.2288 Q392.9954,32.8902 392.0279,32.8902 Q390.8427,32.8902 389.851,33.3981 Q388.8835,33.9061 388.1095,35.0671 Q387.3597,36.2281 387.3597,37.8244 L387.3597,39.5175 Q387.3597,41.4283 388.7384,42.7102 Q390.1171,43.968 392.5842,43.968 Q394.0354,43.968 395.0513,43.581 Q395.656,43.3391 396.309,42.6619 Q396.7202,42.2507 396.9379,42.1298 Q397.1798,42.0088 397.4942,42.0088 Q398.0021,42.0088 398.3891,42.42 Q398.8003,42.807 398.8003,43.3391 Q398.8003,43.8712 398.2682,44.5001 Q397.4942,45.395 396.2606,45.903 Q394.5917,46.6044 392.5842,46.6044 Q390.238,46.6044 388.3756,45.6369 Q386.8518,44.8629 385.7875,43.2182 Q384.7233,41.5493 384.7233,39.5659 L384.7233,37.776 Q384.7233,35.7201 385.6666,33.9544 Q386.6341,32.1646 388.3272,31.2213 Q390.0203,30.2538 391.9311,30.2538 Q393.0679,30.2538 394.0596,30.5198 Q395.0755,30.7617 395.922,31.318 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="21.6718" lengthAdjust="spacing" textLength="72.7554" x="413.3127" y="46.5711">Articulo</text></g><!--reverse link TicketCompra to Articulo--><g id="link_TicketCompra_Articulo"><path codeline="22" d="M215.4644,37.7035 C270.4489,37.7035 320.2167,37.7035 368.2817,37.7035 " fill="none" id="TicketCompra-backto-Articulo" style="stroke:#000000;stroke-width:1.5479876160990713;"></path><polygon fill="none" points="196.8885,37.7035,206.1765,43.8954,215.4644,37.7035,206.1765,31.5115,196.8885,37.7035" style="stroke:#000000;stroke-width:1.5479876160990713;"></polygon><text fill="#000000" font-family="sans-serif" font-size="20.1238" lengthAdjust="spacing" textLength="75.8514" x="244.582" y="32.278">contiene</text><text fill="#000000" font-family="sans-serif" font-size="20.1238" lengthAdjust="spacing" textLength="30.9598" x="325.0876" y="60.6108">1..*</text></g><!--SRC=[RP6_JWCn3CPtFuNLgGLTLGQMRkqDY0tfAZ4WXZGnTzRbuYhngGZ4G_4Cl1Xf8z3n9qjYVJz__gnuUb9KmSXjf-WuabMM0CaQJtYzMk6HdNQGUWu74ys0rfkKDggHzwFIhPNGy0lXQe9iOfHZBLuYRhsn_KIwowLfQPklDieONC7kErPg1kbfmjQdILk9ZkB_PWNuPTK4EG9qx0W7qavSAeNvYfm0pZlWZcrFMijmY0PU0VEfJ5IsevU4wxn6UJzSBPSNZt06BgTDSmve9k2Y83UaEr7ZvukiEHdtdegm-NWtZlvqhNy4AUIEdbNE1Yd73Ysy0KmnbAh2sIdOxDiem_atb2aGV080]--></g></svg></p></li>
<li>
<p>Una posible implementación de la clase <strong><code>TicketCompra</code></strong> podría ser:</p>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">TicketCompra</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Articulo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> articulos<span class="token punctuation">;</span>

    <span class="token comment">// Me aseguro de que un ticket al menos tenga un artículo.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">TicketCompra</span><span class="token punctuation">(</span><span class="token class-name">Articulo</span> a<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        articulos <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span> a <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> total <span class="token operator">=</span> <span class="token number">0d</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Articulo</span> a <span class="token keyword keyword-in">in</span> articulos<span class="token punctuation">)</span>
            total <span class="token operator">+=</span> a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> total<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Fluent interface pattern para añadir artículoa a mi ticket</span>
    <span class="token keyword keyword-public">public</span> TicketCompra Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token class-name">Articulo</span> a<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Array<span class="token punctuation">.</span><span class="token function">Resize</span><span class="token punctuation">(</span><span class="token keyword keyword-ref">ref</span> articulos<span class="token punctuation">,</span> articulos<span class="token punctuation">.</span>Length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        articulos<span class="token punctuation">[</span>articulos<span class="token punctuation">.</span>Length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> ticket <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Articulo</span> a <span class="token keyword keyword-in">in</span> articulos<span class="token punctuation">)</span>
            ticket<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">a<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">22</span></span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€\n"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ticket<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token string">"Total:"</span><span class="token punctuation">,</span><span class="token number">22</span></span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€\n"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> ticket<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></li>
<li>
<p>Si implementamos el siguiente programa principal de test...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">TicketCompra</span> t <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">TicketCompra</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Airpods Apple"</span><span class="token punctuation">,</span> <span class="token number">100d</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t<span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloEnExposicion</span><span class="token punctuation">(</span><span class="token string">"TV Samsung OLED 50''"</span><span class="token punctuation">,</span> <span class="token number">999d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
     <span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Honor Band 4"</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
     <span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">"Samsung s10"</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span>  DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"TechnoBalmis"</span><span class="token punctuation">,</span> <span class="token string">"Cambio de  batería"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ul>
<div style="page-break-after:always;"></div>
<ul>
<li>
<p>Obtendemos una salida del tipo...</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>Airpods Apple              100,00€
TV Samsung OLED 50''       899,10€
Honor Band 4                29,75€
Samsung s10                300,00€
                Total:    1328,85€
</code></pre><p>Si nos fijamos aunque el ticket solo maneje artículos genéricos, ha sabido calcular correctamente a través del enlace dinámico el precio de cada uno de los artículos y el total.</p>
</li>
<li>
<p>Si ahora añadiésemos otro tipo de artículo como por ejemplo <strong>artículos defectuosos</strong>, que funcionan bien y no han sido reacondicionados, pero tienen algún defecto menor, como una rozadura, pixel muerto, etc. y por tanto se les aplica una rebaja, pero también nos interesa guardar información del defecto.</p>
</li>
<li>
<p>A la hora de modelizar podemos decir que <strong>un artículo defectuoso - <em>es un</em> - artículo rebajado</strong> y modelizarlo de la siguiente manera.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="266.8508px" preserveAspectRatio="none" style="width:701px;height:266px;background:#FFFFFF;" version="1.1" viewBox="0 0 701 266" width="701.9337px" zoomAndPan="magnify"><defs></defs><g><!--class ArticuloDefectuoso--><g id="elem_ArticuloDefectuoso"><rect codeline="11" fill="#FFDEAD" height="61.8785" id="ArticuloDefectuoso" rx="4.8343" ry="4.8343" style="stroke:#000000;stroke-width:0.9668508287292817;" width="291.989" x="13.5359" y="191.4365"></rect><ellipse cx="42.5414" cy="222.3757" fill="#ADD1B2" rx="21.2707" ry="21.2707" style="stroke:#181818;stroke-width:1.9337016574585635;"></ellipse><path d="M47.8893,214.3992 Q48.1915,213.9762 48.554,213.7647 Q48.9166,213.5532 49.3396,213.5532 Q50.0647,213.5532 50.518,214.0668 Q50.9712,214.5502 50.9712,215.7286 L50.9712,218.5385 Q50.9712,219.7169 50.518,220.2305 Q50.0647,220.7441 49.3396,220.7441 Q48.6749,220.7441 48.2821,220.3513 Q47.8893,219.9888 47.6778,218.9917 Q47.5872,218.2968 47.2246,217.9342 Q46.5901,217.2091 45.4118,216.7861 Q44.2334,216.3631 43.0249,216.3631 Q41.5444,216.3631 40.3056,216.9976 Q39.097,217.6321 38.1302,219.0824 Q37.1935,220.5326 37.1935,222.5268 L37.1935,224.6417 Q37.1935,227.0287 38.9157,228.63 Q40.6379,230.2011 43.7198,230.2011 Q45.5326,230.2011 46.8016,229.7177 Q47.557,229.4156 48.3728,228.5696 Q48.8864,228.0559 49.1583,227.9049 Q49.4605,227.7538 49.8532,227.7538 Q50.4877,227.7538 50.9712,228.2674 Q51.4848,228.7509 51.4848,229.4156 Q51.4848,230.0803 50.8201,230.8658 Q49.8532,231.9838 48.3123,232.6183 Q46.2276,233.4945 43.7198,233.4945 Q40.789,233.4945 38.4625,232.2859 Q36.559,231.3191 35.2296,229.2645 Q33.9002,227.1797 33.9002,224.7022 L33.9002,222.4663 Q33.9002,219.8981 35.0786,217.6925 Q36.2871,215.4567 38.4021,214.2783 Q40.5171,213.0698 42.904,213.0698 Q44.3241,213.0698 45.5628,213.4021 Q46.8318,213.7042 47.8893,214.3992 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="27.0718" lengthAdjust="spacing" textLength="230.1105" x="69.6133" y="233.4529">ArticuloDefectuoso</text></g><!--class ArticuloRebajado--><g id="elem_ArticuloRebajado"><rect fill="#FFFAFA" height="61.8785" id="ArticuloRebajado" rx="4.8343" ry="4.8343" style="stroke:#000000;stroke-width:0.9668508287292817;" width="270.7182" x="209.8066" y="13.5359"></rect><ellipse cx="238.8122" cy="44.4751" fill="#ADD1B2" rx="21.2707" ry="21.2707" style="stroke:#181818;stroke-width:1.9337016574585635;"></ellipse><path d="M244.16,36.4986 Q244.4622,36.0756 244.8248,35.8641 Q245.1873,35.6526 245.6103,35.6526 Q246.3355,35.6526 246.7887,36.1663 Q247.2419,36.6497 247.2419,37.828 L247.2419,40.6379 Q247.2419,41.8163 246.7887,42.3299 Q246.3355,42.8436 245.6103,42.8436 Q244.9456,42.8436 244.5528,42.4508 Q244.16,42.0882 243.9485,41.0912 Q243.8579,40.3962 243.4953,40.0337 Q242.8608,39.3085 241.6825,38.8855 Q240.5041,38.4625 239.2956,38.4625 Q237.8151,38.4625 236.5763,39.097 Q235.3677,39.7315 234.4009,41.1818 Q233.4643,42.6321 233.4643,44.6262 L233.4643,46.7412 Q233.4643,49.1281 235.1865,50.7295 Q236.9087,52.3006 239.9905,52.3006 Q241.8033,52.3006 243.0723,51.8172 Q243.8277,51.515 244.6435,50.669 Q245.1571,50.1554 245.429,50.0043 Q245.7312,49.8532 246.124,49.8532 Q246.7585,49.8532 247.2419,50.3669 Q247.7555,50.8503 247.7555,51.515 Q247.7555,52.1797 247.0908,52.9653 Q246.124,54.0832 244.583,54.7177 Q242.4983,55.5939 239.9905,55.5939 Q237.0597,55.5939 234.7333,54.3854 Q232.8298,53.4185 231.5003,51.364 Q230.1709,49.2792 230.1709,46.8016 L230.1709,44.5658 Q230.1709,41.9976 231.3493,39.792 Q232.5578,37.5561 234.6728,36.3778 Q236.7878,35.1692 239.1747,35.1692 Q240.5948,35.1692 241.8336,35.5016 Q243.1026,35.8037 244.16,36.4986 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="27.0718" lengthAdjust="spacing" textLength="208.8398" x="265.884" y="55.5524">ArticuloRebajado</text></g><!--class ArticuloEnExposicion--><g id="elem_ArticuloEnExposicion"><rect fill="#FFFAFA" height="61.8785" id="ArticuloEnExposicion" rx="4.8343" ry="4.8343" style="stroke:#000000;stroke-width:0.9668508287292817;" width="315.1934" x="373.2044" y="191.4365"></rect><ellipse cx="402.2099" cy="222.3757" fill="#ADD1B2" rx="21.2707" ry="21.2707" style="stroke:#181818;stroke-width:1.9337016574585635;"></ellipse><path d="M407.5578,214.3992 Q407.86,213.9762 408.2225,213.7647 Q408.5851,213.5532 409.0081,213.5532 Q409.7333,213.5532 410.1865,214.0668 Q410.6397,214.5502 410.6397,215.7286 L410.6397,218.5385 Q410.6397,219.7169 410.1865,220.2305 Q409.7333,220.7441 409.0081,220.7441 Q408.3434,220.7441 407.9506,220.3513 Q407.5578,219.9888 407.3463,218.9917 Q407.2557,218.2968 406.8931,217.9342 Q406.2586,217.2091 405.0803,216.7861 Q403.9019,216.3631 402.6934,216.3631 Q401.2129,216.3631 399.9741,216.9976 Q398.7655,217.6321 397.7987,219.0824 Q396.8621,220.5326 396.8621,222.5268 L396.8621,224.6417 Q396.8621,227.0287 398.5843,228.63 Q400.3065,230.2011 403.3883,230.2011 Q405.2011,230.2011 406.4701,229.7177 Q407.2255,229.4156 408.0413,228.5696 Q408.5549,228.0559 408.8268,227.9049 Q409.129,227.7538 409.5218,227.7538 Q410.1563,227.7538 410.6397,228.2674 Q411.1533,228.7509 411.1533,229.4156 Q411.1533,230.0803 410.4886,230.8658 Q409.5218,231.9838 407.9808,232.6183 Q405.8961,233.4945 403.3883,233.4945 Q400.4575,233.4945 398.131,232.2859 Q396.2276,231.3191 394.8981,229.2645 Q393.5687,227.1797 393.5687,224.7022 L393.5687,222.4663 Q393.5687,219.8981 394.7471,217.6925 Q395.9556,215.4567 398.0706,214.2783 Q400.1856,213.0698 402.5725,213.0698 Q403.9926,213.0698 405.2314,213.4021 Q406.5003,213.7042 407.5578,214.3992 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="27.0718" lengthAdjust="spacing" textLength="253.3149" x="429.2818" y="233.4529">ArticuloEnExposicion</text></g><!--reverse link ArticuloRebajado to ArticuloEnExposicion--><g id="link_ArticuloRebajado_ArticuloEnExposicion"><path codeline="20" d="M402.0585,99.7421 C436.401,131.9383 465.616,159.337 499.7845,191.3591 " fill="none" id="ArticuloRebajado-backto-ArticuloEnExposicion" style="stroke:#000000;stroke-width:1.9337016574585635;"></path><polygon fill="none" points="376.6657,75.9365,394.1232,108.2064,409.9937,91.2779,376.6657,75.9365" style="stroke:#000000;stroke-width:1.9337016574585635;"></polygon></g><!--reverse link ArticuloRebajado to ArticuloDefectuoso--><g id="link_ArticuloRebajado_ArticuloDefectuoso"><path codeline="21" d="M288.273,99.7421 C253.9305,131.9383 224.7155,159.337 190.547,191.3591 " fill="none" id="ArticuloRebajado-backto-ArticuloDefectuoso" style="stroke:#000000;stroke-width:1.9337016574585635;"></path><polygon fill="none" points="313.6657,75.9365,280.3378,91.2779,296.2082,108.2064,313.6657,75.9365" style="stroke:#000000;stroke-width:1.9337016574585635;"></polygon></g><!--SRC=[VL31IWCn4BtdAmQyj6XXRuAtjXRnf5Z1cp2RZDriivbbadMhnNyttTXQgvXBcFTUtdkJeD4HN1O5zDR4IeMrzIqADg0TXZ2DKMpPHRhLx9VsdQ0uaan5k9-pOu6PGxq-ekxJY2kQfMibt7cJPK-LZRHiU4r7slakQSPYIFusou8JgwNdNgdA6eA6OiKcv07tbODImmwfPhIwStnDBwHZnu7XpEChrjplwgYjWdGcPg0PhY0a1x-2hH2QE-_UFjIWEFzjDB8UF3UbqE7P1IIi5T9sPsMuAnrbZ4MJZrZJ0vLOOsAxKB74WJrD7-V86uevZKVZ0_VLvf4sF-7KSrynHnY6vyday04BlzYq76ogvlzNVc-eFW40]--></g></svg></p></li>
<li>
<p>Donde una posible implementación podría ser ...</p>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloDefectuoso</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ArticuloRebajado</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> defecto<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">ArticuloDefectuoso</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">,</span> 
                                <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> porcentajeRebaja<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> defecto<span class="token punctuation">)</span> 
                                <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> precio<span class="token punctuation">,</span> porcentajeRebaja<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>defecto <span class="token operator">=</span> defecto<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetDefecto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> defecto<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
            <span class="token interpolation-string"><span class="token string">$"\nDefecto: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">defecto</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></li>
<li>
<p>✋ <strong>Si ahora añadimos un nuevo artículo de este tipo a nuestro ticket.</strong></p>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">TicketCompra</span> t <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">TicketCompra</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Airpods Apple"</span><span class="token punctuation">,</span> <span class="token number">100d</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t<span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloEnExposicion</span><span class="token punctuation">(</span><span class="token string">"TV Samsung OLED 50''"</span><span class="token punctuation">,</span> <span class="token number">999d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Honor Band 4"</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">"Samsung s10"</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"TechnoBalmis"</span><span class="token punctuation">,</span> <span class="token string">"Cambio de batería"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// Añadimos un artículo nuevo a TicketCompra sin tener que modificarla.</span>
    <span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloDefectuoso</span><span class="token punctuation">(</span><span class="token string">"Woffer Bang &amp; Olufsen"</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"Pequeño picado en caja."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><strong>No tendremos que modificar nuestra clase <code>TicketCompra</code></strong> y esto será gracias al <strong>polimorfismo de datos</strong>.</p>
</blockquote>
</li>
</ul>
<div style="page-break-after:always;"></div>
<h4 id="el-caso-especial-de-la-clase-a-hrefhttpsdocsmicrosoftcomes-esdotnetapisystemobjectviewnetcore-31-target_blankobjecta-en-c">El caso especial de la clase <a href="https://docs.microsoft.com/es-es/dotnet/api/system.object?view=netcore-3.1" target="_blank">object</a> en C# </h4>
<ul>
<li>
<p>La Clase <strong><code>Object</code></strong> definida en <strong><code>System</code></strong>, es una clase especial de la cual heredan de forma <strong>implícita</strong> todos los objetos, tanto valor como refrencia, creados en C#.</p>
</li>
<li>
<p>Por tanto, podemos decir que un objeto de <strong>la clase <code>object</code> puede sustituir a cualquier objeto</strong> definido por nosotros o en las BCL.</p>
</li>
<li>
<p>Historicamente, en los principios de C#, esta clase se utilizaba para tratar objetos de forma genérica como en colecciones, antes de que el lenguaje implementara la genericidad a través de genéricos o clases parametrizadas, cuyo uso es más recomendable.</p>
</li>
<li>
<p>Podemos encontrar esta clase en otros lenguajes como Java.</p>
</li>
<li>
<p><strong>Define una serie de métodos invalidables o virtuales que podremos redefinir</strong> en cualquiera de las clases que nosotros creemos. Entre ellos podemos destacar:</p>
<ol>
<li>
<p><strong>public virtual string <a href="https://docs.microsoft.com/es-es/dotnet/api/system.object.tostring?view=netcore-3.1" target="_blank">ToString</a>()</strong></p>
<p>Este método, es llamado <strong>automáticamente</strong> cada vez que un objeto se intenta formatear cómo cadena y equivaldría en cierta manera al método <strong><code>string ATexto()</code></strong> que hemos definido en nuestra jerarquía de artículos.</p>
<p>En el fondo, aunque no se especifique, <strong><code>Articulo</code></strong> hereda implícitamente de <strong><code>Object</code></strong> y por tanto las clases <strong><code>Articulo</code></strong>, <strong><code>ArticuloRebajado</code></strong>, <strong><code>ArticuloReacondicionado</code></strong>, etc. heredan el método <strong><code>ToString()</code></strong> y además pueden invalidarlo.</p>
<p>De hecho si no lo invalidamos y hacemos el siguiente codigo...</p>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-namespace">namespace</span> <span class="token namespace">EjemploErencia</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Falda"</span><span class="token punctuation">,</span> <span class="token number">30f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// Mostrará "EjemploErencia.Articulo" que es el NCC de la clase y </span>
            <span class="token comment">// es lo que hace la implementación de ToString en la clase Object si no la invalidamos.</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="194.6698px" preserveAspectRatio="none" style="width:800px;height:194px;background:#FFFFFF;" version="1.1" viewBox="0 0 800 194" width="800.927px" zoomAndPan="magnify"><defs></defs><g><!--class Object--><g id="elem_Object"><rect codeline="11" fill="#FFDEAD" height="53.4038" id="Object" rx="2.3175" ry="2.3175" style="stroke:#000000;stroke-width:0.4634994206257243;" width="168.7138" x="6.489" y="92.6999"></rect><ellipse cx="67.9027" cy="107.5319" fill="#ADD1B2" rx="10.197" ry="10.197" style="stroke:#181818;stroke-width:0.9269988412514486;"></ellipse><path d="M70.4664,103.708 Q70.6112,103.5052 70.7851,103.4038 Q70.9589,103.3024 71.1616,103.3024 Q71.5093,103.3024 71.7265,103.5487 Q71.9438,103.7804 71.9438,104.3453 L71.9438,105.6924 Q71.9438,106.2572 71.7265,106.5035 Q71.5093,106.7497 71.1616,106.7497 Q70.843,106.7497 70.6547,106.5614 Q70.4664,106.3876 70.365,105.9096 Q70.3216,105.5765 70.1477,105.4027 Q69.8436,105.055 69.2787,104.8523 Q68.7138,104.6495 68.1344,104.6495 Q67.4247,104.6495 66.8308,104.9537 Q66.2514,105.2578 65.7879,105.9531 Q65.3389,106.6483 65.3389,107.6043 L65.3389,108.6182 Q65.3389,109.7625 66.1645,110.5301 Q66.9902,111.2833 68.4676,111.2833 Q69.3366,111.2833 69.945,111.0516 Q70.3071,110.9067 70.6981,110.5012 Q70.9444,110.2549 71.0747,110.1825 Q71.2196,110.1101 71.4079,110.1101 Q71.7121,110.1101 71.9438,110.3563 Q72.19,110.5881 72.19,110.9067 Q72.19,111.2254 71.8714,111.602 Q71.4079,112.1379 70.6692,112.4421 Q69.6698,112.8621 68.4676,112.8621 Q67.0626,112.8621 65.9473,112.2827 Q65.0348,111.8192 64.3975,110.8343 Q63.7601,109.8349 63.7601,108.6472 L63.7601,107.5753 Q63.7601,106.3441 64.325,105.2868 Q64.9044,104.2149 65.9183,103.6501 Q66.9322,103.0707 68.0765,103.0707 Q68.7572,103.0707 69.3511,103.23 Q69.9594,103.3749 70.4664,103.708 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.978" lengthAdjust="spacing" textLength="38.007" x="86.9061" y="112.8422">Object</text><line style="stroke:#000000;stroke-width:0.4634994206257243;" x1="7.416" x2="174.2758" y1="122.3638" y2="122.3638"></line><text fill="#000000" font-family="sans-serif" font-size="12.978" font-style="italic" lengthAdjust="spacing" textLength="157.5898" x="12.051" y="139.5441">+ToString() : string {virtual}</text></g><!--class Articulo--><g id="elem_Articulo"><rect codeline="15" fill="#FFFAFA" height="53.4038" id="Articulo" rx="2.3175" ry="2.3175" style="stroke:#000000;stroke-width:0.4634994206257243;" width="126.0718" x="230.8227" y="92.6999"></rect><ellipse cx="268.5052" cy="107.5319" fill="#ADD1B2" rx="10.197" ry="10.197" style="stroke:#181818;stroke-width:0.9269988412514486;"></ellipse><path d="M271.0689,103.708 Q271.2138,103.5052 271.3876,103.4038 Q271.5614,103.3024 271.7642,103.3024 Q272.1118,103.3024 272.3291,103.5487 Q272.5463,103.7804 272.5463,104.3453 L272.5463,105.6924 Q272.5463,106.2572 272.3291,106.5035 Q272.1118,106.7497 271.7642,106.7497 Q271.4455,106.7497 271.2572,106.5614 Q271.0689,106.3876 270.9676,105.9096 Q270.9241,105.5765 270.7503,105.4027 Q270.4461,105.055 269.8812,104.8523 Q269.3163,104.6495 268.737,104.6495 Q268.0272,104.6495 267.4334,104.9537 Q266.854,105.2578 266.3905,105.9531 Q265.9415,106.6483 265.9415,107.6043 L265.9415,108.6182 Q265.9415,109.7625 266.7671,110.5301 Q267.5927,111.2833 269.0701,111.2833 Q269.9392,111.2833 270.5475,111.0516 Q270.9096,110.9067 271.3007,110.5012 Q271.5469,110.2549 271.6773,110.1825 Q271.8221,110.1101 272.0104,110.1101 Q272.3146,110.1101 272.5463,110.3563 Q272.7926,110.5881 272.7926,110.9067 Q272.7926,111.2254 272.4739,111.602 Q272.0104,112.1379 271.2717,112.4421 Q270.2723,112.8621 269.0701,112.8621 Q267.6651,112.8621 266.5498,112.2827 Q265.6373,111.8192 265,110.8343 Q264.3627,109.8349 264.3627,108.6472 L264.3627,107.5753 Q264.3627,106.3441 264.9276,105.2868 Q265.507,104.2149 266.5209,103.6501 Q267.5348,103.0707 268.679,103.0707 Q269.3598,103.0707 269.9537,103.23 Q270.562,103.3749 271.0689,103.708 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.978" lengthAdjust="spacing" textLength="43.5689" x="286.7671" y="112.8422">Articulo</text><line style="stroke:#000000;stroke-width:0.4634994206257243;" x1="231.7497" x2="355.9676" y1="122.3638" y2="122.3638"></line><text fill="#000000" font-family="sans-serif" font-size="12.978" lengthAdjust="spacing" textLength="114.9479" x="236.3847" y="139.5441">^+ToString() : string</text></g><!--class ArticuloRebajado--><g id="elem_ArticuloRebajado"><rect codeline="19" fill="#FFFAFA" height="53.4038" id="ArticuloRebajado" rx="2.3175" ry="2.3175" style="stroke:#000000;stroke-width:0.4634994206257243;" width="129.7798" x="435.226" y="49.1309"></rect><ellipse cx="449.1309" cy="63.9629" fill="#ADD1B2" rx="10.197" ry="10.197" style="stroke:#181818;stroke-width:0.9269988412514486;"></ellipse><path d="M451.6947,60.139 Q451.8395,59.9363 452.0133,59.8349 Q452.1871,59.7335 452.3899,59.7335 Q452.7375,59.7335 452.9548,59.9797 Q453.1721,60.2115 453.1721,60.7764 L453.1721,62.1234 Q453.1721,62.6883 452.9548,62.9345 Q452.7375,63.1808 452.3899,63.1808 Q452.0713,63.1808 451.883,62.9925 Q451.6947,62.8187 451.5933,62.3407 Q451.5498,62.0075 451.376,61.8337 Q451.0718,61.4861 450.507,61.2833 Q449.9421,61.0805 449.3627,61.0805 Q448.653,61.0805 448.0591,61.3847 Q447.4797,61.6889 447.0162,62.3841 Q446.5672,63.0794 446.5672,64.0353 L446.5672,65.0492 Q446.5672,66.1935 447.3928,66.9612 Q448.2184,67.7144 449.6958,67.7144 Q450.5649,67.7144 451.1732,67.4826 Q451.5353,67.3378 451.9264,66.9322 Q452.1727,66.686 452.303,66.6136 Q452.4479,66.5411 452.6362,66.5411 Q452.9403,66.5411 453.1721,66.7874 Q453.4183,67.0191 453.4183,67.3378 Q453.4183,67.6564 453.0997,68.033 Q452.6362,68.5689 451.8975,68.8731 Q450.898,69.2932 449.6958,69.2932 Q448.2908,69.2932 447.1756,68.7138 Q446.263,68.2503 445.6257,67.2654 Q444.9884,66.2659 444.9884,65.0782 L444.9884,64.0064 Q444.9884,62.7752 445.5533,61.7178 Q446.1327,60.646 447.1466,60.0811 Q448.1605,59.5017 449.3048,59.5017 Q449.9855,59.5017 450.5794,59.6611 Q451.1877,59.8059 451.6947,60.139 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.978" lengthAdjust="spacing" textLength="100.1159" x="462.1089" y="69.2732">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.4634994206257243;" x1="436.153" x2="564.0788" y1="78.7949" y2="78.7949"></line><text fill="#000000" font-family="sans-serif" font-size="12.978" lengthAdjust="spacing" textLength="114.9479" x="440.7879" y="95.9752">^+ToString() : string</text></g><!--class ArticuloReacondicionado--><g id="elem_ArticuloReacondicionado"><rect codeline="23" fill="#FFFAFA" height="53.4038" id="ArticuloReacondicionado" rx="2.3175" ry="2.3175" style="stroke:#000000;stroke-width:0.4634994206257243;" width="175.2028" x="412.5145" y="135.3418"></rect><ellipse cx="426.4195" cy="150.1738" fill="#ADD1B2" rx="10.197" ry="10.197" style="stroke:#181818;stroke-width:0.9269988412514486;"></ellipse><path d="M428.9832,146.3499 Q429.128,146.1472 429.3019,146.0458 Q429.4757,145.9444 429.6784,145.9444 Q430.0261,145.9444 430.2433,146.1906 Q430.4606,146.4224 430.4606,146.9873 L430.4606,148.3343 Q430.4606,148.8992 430.2433,149.1454 Q430.0261,149.3917 429.6784,149.3917 Q429.3598,149.3917 429.1715,149.2034 Q428.9832,149.0295 428.8818,148.5516 Q428.8384,148.2184 428.6645,148.0446 Q428.3604,147.697 427.7955,147.4942 Q427.2306,147.2914 426.6512,147.2914 Q425.9415,147.2914 425.3476,147.5956 Q424.7683,147.8998 424.3048,148.595 Q423.8557,149.2903 423.8557,150.2462 L423.8557,151.2601 Q423.8557,152.4044 424.6813,153.1721 Q425.507,153.9253 426.9844,153.9253 Q427.8534,153.9253 428.4618,153.6935 Q428.8239,153.5487 429.2149,153.1431 Q429.4612,152.8969 429.5915,152.8244 Q429.7364,152.752 429.9247,152.752 Q430.2289,152.752 430.4606,152.9983 Q430.7068,153.23 430.7068,153.5487 Q430.7068,153.8673 430.3882,154.2439 Q429.9247,154.7798 429.186,155.084 Q428.1866,155.5041 426.9844,155.5041 Q425.5794,155.5041 424.4641,154.9247 Q423.5516,154.4612 422.9143,153.4762 Q422.2769,152.4768 422.2769,151.2891 L422.2769,150.2173 Q422.2769,148.9861 422.8418,147.9287 Q423.4212,146.8569 424.4351,146.292 Q425.449,145.7126 426.5933,145.7126 Q427.274,145.7126 427.8679,145.872 Q428.4762,146.0168 428.9832,146.3499 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.978" lengthAdjust="spacing" textLength="145.5388" x="439.3975" y="155.4841">ArticuloReacondicionado</text><line style="stroke:#000000;stroke-width:0.4634994206257243;" x1="413.4415" x2="586.7903" y1="165.0058" y2="165.0058"></line><text fill="#000000" font-family="sans-serif" font-size="12.978" lengthAdjust="spacing" textLength="114.9479" x="418.0765" y="182.1861">^+ToString() : string</text></g><!--class ArticuloEnExposicion--><g id="elem_ArticuloEnExposicion"><rect codeline="27" fill="#FFFAFA" height="53.4038" id="ArticuloEnExposicion" rx="2.3175" ry="2.3175" style="stroke:#000000;stroke-width:0.4634994206257243;" width="151.1008" x="643.3372" y="6.489"></rect><ellipse cx="657.2422" cy="21.321" fill="#ADD1B2" rx="10.197" ry="10.197" style="stroke:#181818;stroke-width:0.9269988412514486;"></ellipse><path d="M659.8059,17.4971 Q659.9508,17.2943 660.1246,17.1929 Q660.2984,17.0915 660.5012,17.0915 Q660.8488,17.0915 661.066,17.3378 Q661.2833,17.5695 661.2833,18.1344 L661.2833,19.4815 Q661.2833,20.0463 661.066,20.2926 Q660.8488,20.5388 660.5012,20.5388 Q660.1825,20.5388 659.9942,20.3505 Q659.8059,20.1767 659.7045,19.6987 Q659.6611,19.3656 659.4873,19.1918 Q659.1831,18.8441 658.6182,18.6414 Q658.0533,18.4386 657.4739,18.4386 Q656.7642,18.4386 656.1703,18.7428 Q655.591,19.0469 655.1275,19.7422 Q654.6784,20.4374 654.6784,21.3934 L654.6784,22.4073 Q654.6784,23.5516 655.5041,24.3192 Q656.3297,25.0724 657.8071,25.0724 Q658.6761,25.0724 659.2845,24.8407 Q659.6466,24.6958 660.0377,24.2903 Q660.2839,24.044 660.4143,23.9716 Q660.5591,23.8992 660.7474,23.8992 Q661.0516,23.8992 661.2833,24.1454 Q661.5295,24.3772 661.5295,24.6958 Q661.5295,25.0145 661.2109,25.3911 Q660.7474,25.927 660.0087,26.2312 Q659.0093,26.6512 657.8071,26.6512 Q656.4021,26.6512 655.2868,26.0718 Q654.3743,25.6083 653.737,24.6234 Q653.0997,23.624 653.0997,22.4363 L653.0997,21.3644 Q653.0997,20.1333 653.6645,19.0759 Q654.2439,18.0041 655.2578,17.4392 Q656.2717,16.8598 657.416,16.8598 Q658.0968,16.8598 658.6906,17.0191 Q659.299,17.164 659.8059,17.4971 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.978" lengthAdjust="spacing" textLength="121.4368" x="670.2202" y="26.6313">ArticuloEnExposicion</text><line style="stroke:#000000;stroke-width:0.4634994206257243;" x1="644.2642" x2="793.511" y1="36.153" y2="36.153"></line><text fill="#000000" font-family="sans-serif" font-size="12.978" lengthAdjust="spacing" textLength="114.9479" x="648.8992" y="53.3332">^+ToString() : string</text></g><!--class ArticuloDefectuoso--><g id="elem_ArticuloDefectuoso"><rect codeline="31" fill="#FFFAFA" height="53.4038" id="ArticuloDefectuoso" rx="2.3175" ry="2.3175" style="stroke:#000000;stroke-width:0.4634994206257243;" width="139.9768" x="648.8992" y="92.6999"></rect><ellipse cx="662.8042" cy="107.5319" fill="#ADD1B2" rx="10.197" ry="10.197" style="stroke:#181818;stroke-width:0.9269988412514486;"></ellipse><path d="M665.3679,103.708 Q665.5127,103.5052 665.6866,103.4038 Q665.8604,103.3024 666.0632,103.3024 Q666.4108,103.3024 666.628,103.5487 Q666.8453,103.7804 666.8453,104.3453 L666.8453,105.6924 Q666.8453,106.2572 666.628,106.5035 Q666.4108,106.7497 666.0632,106.7497 Q665.7445,106.7497 665.5562,106.5614 Q665.3679,106.3876 665.2665,105.9096 Q665.2231,105.5765 665.0492,105.4027 Q664.7451,105.055 664.1802,104.8523 Q663.6153,104.6495 663.0359,104.6495 Q662.3262,104.6495 661.7323,104.9537 Q661.153,105.2578 660.6895,105.9531 Q660.2404,106.6483 660.2404,107.6043 L660.2404,108.6182 Q660.2404,109.7625 661.066,110.5301 Q661.8917,111.2833 663.3691,111.2833 Q664.2381,111.2833 664.8465,111.0516 Q665.2086,110.9067 665.5997,110.5012 Q665.8459,110.2549 665.9762,110.1825 Q666.1211,110.1101 666.3094,110.1101 Q666.6136,110.1101 666.8453,110.3563 Q667.0915,110.5881 667.0915,110.9067 Q667.0915,111.2254 666.7729,111.602 Q666.3094,112.1379 665.5707,112.4421 Q664.5713,112.8621 663.3691,112.8621 Q661.9641,112.8621 660.8488,112.2827 Q659.9363,111.8192 659.299,110.8343 Q658.6616,109.8349 658.6616,108.6472 L658.6616,107.5753 Q658.6616,106.3441 659.2265,105.2868 Q659.8059,104.2149 660.8198,103.6501 Q661.8337,103.0707 662.978,103.0707 Q663.6587,103.0707 664.2526,103.23 Q664.861,103.3749 665.3679,103.708 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.978" lengthAdjust="spacing" textLength="110.3129" x="675.7822" y="112.8422">ArticuloDefectuoso</text><line style="stroke:#000000;stroke-width:0.4634994206257243;" x1="649.8262" x2="787.949" y1="122.3638" y2="122.3638"></line><text fill="#000000" font-family="sans-serif" font-size="12.978" lengthAdjust="spacing" textLength="114.9479" x="654.4612" y="139.5441">^+ToString() : string</text></g><!--reverse link Object to Articulo--><g id="link_Object_Articulo"><path codeline="35" d="M192.0185,119.5829 C210.5863,119.5829 213.2654,119.5829 230.7949,119.5829 " fill="none" id="Object-backto-Articulo" style="stroke:#000000;stroke-width:0.9269988412514486;"></path><polygon fill="none" points="175.3326,119.5829,192.0185,125.1448,192.0185,114.0209,175.3326,119.5829" style="stroke:#000000;stroke-width:0.9269988412514486;"></polygon></g><!--reverse link Articulo to ArticuloRebajado--><g id="link_Articulo_ArticuloRebajado"><path codeline="36" d="M373.2692,102.8561 C398.0479,97.5722 410.2433,94.971 435.2074,89.6501 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:0.9269988412514486;"></path><polygon fill="none" points="356.9502,106.336,374.4292,108.2958,372.1093,97.4164,356.9502,106.336" style="stroke:#000000;stroke-width:0.9269988412514486;"></polygon></g><!--reverse link Articulo to ArticuloReacondicionado--><g id="link_Articulo_ArticuloReacondicionado"><path codeline="37" d="M373.2839,135.962 C390.7764,139.6144 393.8076,140.2364 412.4681,144.1298 " fill="none" id="Articulo-backto-ArticuloReacondicionado" style="stroke:#000000;stroke-width:0.9269988412514486;"></path><polygon fill="none" points="356.9502,132.5516,372.1471,141.4066,374.4207,130.5174,356.9502,132.5516" style="stroke:#000000;stroke-width:0.9269988412514486;"></polygon></g><!--reverse link ArticuloRebajado to ArticuloEnExposicion--><g id="link_ArticuloRebajado_ArticuloEnExposicion"><path codeline="38" d="M581.6185,60.174 C606.1005,55.3536 617.854,53.0521 643.2352,48.0649 " fill="none" id="ArticuloRebajado-backto-ArticuloEnExposicion" style="stroke:#000000;stroke-width:0.9269988412514486;"></path><polygon fill="none" points="565.2468,63.3975,582.693,65.6312,580.544,54.7167,565.2468,63.3975" style="stroke:#000000;stroke-width:0.9269988412514486;"></polygon></g><!--reverse link ArticuloRebajado to ArticuloDefectuoso--><g id="link_ArticuloRebajado_ArticuloDefectuoso"><path codeline="39" d="M581.6054,92.1975 C607.8395,97.4721 621.8864,100.2827 648.6304,105.6593 " fill="none" id="ArticuloRebajado-backto-ArticuloDefectuoso" style="stroke:#000000;stroke-width:0.9269988412514486;"></path><polygon fill="none" points="565.2468,88.9085,580.5091,97.6504,582.7018,86.7447,565.2468,88.9085" style="stroke:#000000;stroke-width:0.9269988412514486;"></polygon></g><!--SRC=[bP5DJm8n48Rl_HMJUD4O4ex6su8SF6bS4syaistPBPGEcSwonWt_tV8bB2A6NlenxpCpxzJRYO0Gi2ih0UFOQd4KLDJeBJpq-z0u8vMACnSMo3W7xJ76J8HTKOjzrXHozsMXVoJ9cAaPaYU6WKSzEmgzfYkMTf2sagaEPYlxg9pOV4upUwGThYiDY8tbyycsWfDKUQ16gSeP2xZlCYgrQHjUYcao23S1bpYbPbrLjGhIQh68mgXbTVzEUU92UNi7Zn0tHsYNZgL6lrAhNQgCnUdQquuVdyD-YTziWLCqrqAOfcoSJXzpBJiAeyy5nGrx5VXa9sbIDSN_wkr6Ekxr3YFP7pglFzx_Y7PDdb8TSSVLHUN1nZS0]--></g></svg></p><p>Por tanto podríamos haber hecho...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Invalido el ToString de Object</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">nombre</span><span class="token punctuation">}</span></span><span class="token string">\nPrecio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">precio</span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloReacondicionado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Invalido el ToString de Articulo</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span> <span class="token operator">+</span>
            <span class="token interpolation-string"><span class="token string">$"\nFecha reacondicionamiento: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">fechaReacondicionamiento<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
            <span class="token interpolation-string"><span class="token string">$"Empresa: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetEmpresa</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
            <span class="token interpolation-string"><span class="token string">$"Descripción: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">descripcion</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Falda"</span><span class="token punctuation">,</span> <span class="token number">30f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// Mostrará sin necesidad de hacer a.ToString().</span>
        <span class="token comment">// Nombre: Falda</span>
        <span class="token comment">// Precio: 30.00€  </span>

        <span class="token class-name">Articulo</span> arc <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">"Samsung s10"</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">"FOXCOM"</span><span class="token punctuation">,</span> <span class="token string">"Cambio de batería"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Datos -------------\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">arc</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// Mostrará sin necesidad de hacer arc.ToString().</span>
        <span class="token comment">// Datos -------------</span>
        <span class="token comment">// Nombre: Samsung s10</span>
        <span class="token comment">// Precio: 300.00€</span>
        <span class="token comment">// Fecha reacondicionamiento: &lt;dd/mm/aaaa actual&gt;</span>
        <span class="token comment">// Empresa: FOXCOM</span>
        <span class="token comment">// Descripción: Cambio de batería                      </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p><strong>public virtual bool <a href="https://docs.microsoft.com/es-es/dotnet/api/system.object.equals?view=netcore-3.1#System_Object_Equals_System_Object_" target="_blank">Equals</a>(object obj)</strong></p>
<p>Se usa para comparar el objeto sobre el que se aplica con cualquier otro que se le pase como parámetro en <strong>profundidad</strong>. Devuelve true si ambos objetos son iguales y false en caso contrario.</p>
<p>Veamos un ejemplo en el cual lo invalidaremos en las clases <strong><code>Articulo</code></strong> y <strong><code>ArticuloRebajado</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp {}" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-object">object</span></span> obj<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> iguales <span class="token operator">=</span> obj <span class="token keyword keyword-is">is</span> <span class="token class-name">Articulo</span> a                        <span class="token comment">// Si la entrada es un artículo y es distinto de null</span>
                    <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>nombre<span class="token punctuation">.</span><span class="token function">CompareTo</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span>          <span class="token comment">// y el nombre de los artículos son iguales.</span>
                    <span class="token operator">&amp;&amp;</span> Math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>precio <span class="token operator">-</span> precio<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1e-5</span><span class="token punctuation">;</span>      <span class="token comment">// y los precios son iguales con una precisión de 0.00001</span>
        <span class="token keyword keyword-return">return</span> iguales<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-object">object</span></span> obj<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> iguales <span class="token operator">=</span> obj <span class="token keyword keyword-is">is</span> <span class="token class-name">ArticuloRebajado</span> a                <span class="token comment">// Si la entrada es un artículo rebajado</span>
                    <span class="token operator">&amp;&amp;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Articulo<span class="token punctuation">)</span>obj<span class="token punctuation">)</span>               <span class="token comment">// y sus partes de artículo son iguales</span>
                    <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>porcentajeRebaja <span class="token operator">==</span> porcentajeRebaja<span class="token punctuation">;</span>  <span class="token comment">// y tienen el mismo porcentaje de rebaja.</span>
        <span class="token keyword keyword-return">return</span> iguales<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Honor Band 5"</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Aunque a sea de tipo Articulo, se hace un enlace dinámico al Equals de </span>
        <span class="token comment">// ArticuloRebajado al invalidar el de artículo y realemnte serlo.</span>
        <span class="token comment">// Por lo cual en todos los casos se llama al Equals de ArticuloRebajado que a su vez</span>
        <span class="token comment">// llama al de artículo.</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Honor Band 4"</span><span class="token punctuation">,</span> <span class="token number">30d</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// False</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Honor Band 5"</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// True</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Honor Band 5"</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// False</span>

        <span class="token comment">// En este caso el downcasting obj as ArticuloRebajado se evaluará a null.</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Honor Band 5"</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// False</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ol>
<p>El resto de funciones invalidables de object las puedes consultar en la documentación oficial y ya se explicará más adelante en caso de necesitarse.</p>
</li>
</ul>
<div style="page-break-after:always;"></div>
<blockquote>
<p><strong>🎓 Caso de estudio</strong></p>
<p>Veamos un ejemplo simplificado de diseño '<em>similar</em>' al seguido con los artículos.<br>
En este ejemplo vamos a suponer que el propietario de una campa de aparcamiento vehículos a largo plazo. Decide instalar un sistema automatizado de entrada y salida de vehículos.<br>
Para ello, decide poner un sistema de cámaras y una IA que trata de identificar información de los vehiculos que entran y salen.<br>
El sistema es capaz de identificar de un <strong>vehículo</strong> al pasar, la siguiente información común:</p>
<ul>
<li>
<p><strong>Matrícula</strong> que creará con formato '<strong><code>DDDD LLL</code></strong>' donde <strong><code>D</code></strong> será un dígito de 0 a 9 y <strong><code>L</code></strong> una letra mayúscula excluidas las vocales.</p>
</li>
<li>
<p><strong>Color</strong> que será un conjunto de valores con las tonalidades básicas. Devolviendo la IA la predominante en el vehículo. Estas podrán ser uno de los siguiente valores <strong><code>Blanco</code></strong>, <strong><code>Morado</code></strong>, <strong><code>Cian</code></strong>, <strong><code>Azul</code></strong>, <strong><code>Rojo</code></strong>, <strong><code>Verde</code></strong>, <strong><code>Negro</code></strong>, <strong><code>Naranja</code></strong> y <strong><code>Gris</code></strong>.</p>
</li>
<li>
<p><strong>Marca</strong> que será un conjunto de valores de logos que la IA es capaz de identificar en las imágenes como <strong><code>DESCONOCIDA</code></strong>, <strong><code>BMW</code></strong>, <strong><code>SEAT</code></strong>, <strong><code>AUDI</code></strong>, <strong><code>RENAULT</code></strong>, <strong><code>MAN</code></strong>, <strong><code>DAF</code></strong>, <strong><code>CITROEN</code></strong>, <strong><code>TOYOTA</code></strong>, <strong><code>SUZUKI</code></strong>, <strong><code>YAMAHA</code></strong>, <strong><code>MERCEDES</code></strong>, <strong><code>PEGASO</code></strong>.</p>
</li>
<li>
<p><strong>Número de ocupantes</strong> que la IA cree que hay en el interior del vehículo.</p>
</li>
</ul>
<p>Además, de todo esto la IA de momento sabe clasificar los <strong>vehículos</strong> en estás epecificaciones <strong><code>Coche</code></strong>, <strong><code>Moto</code></strong> y <strong><code>Camión</code></strong>. Cada especificación, a su vez debe estar categorizada a través de un conjunto de valores y en algún caso añadiremos información extra.</p>
<ul>
<li>
<p><strong>Coche:</strong> Podrá tomar uno de los valores del siguiente conjunto de datos <strong><code>SinIdentificar</code></strong>, <strong><code>Berlina</code></strong>, <strong><code>Coupe</code></strong>, <strong><code>Sedan</code></strong>, <strong><code>Cabrio</code></strong>, <strong><code>TodoTerreno</code></strong>, <strong><code>MonoVolumen</code></strong> y <strong><code>Crossover</code></strong>.</p>
</li>
<li>
<p><strong>Moto:</strong> Podrá tomar uno de los valores del siguiente conjunto de datos <strong><code>SinIdentificar</code></strong>, <strong><code>Scooter</code></strong>, <strong><code>Motocross</code></strong>, <strong><code>Naked</code></strong>, <strong><code>Trail</code></strong> y <strong><code>Supermotard</code></strong></p>
</li>
<li>
<p><strong>Camión:</strong> Podrá tomar uno de los valores del siguiente conjunto de datos <strong><code>SinIdentificar</code></strong>, <strong><code>Articulado</code></strong>, <strong><code>Frigorífico</code></strong>, <strong><code>Cisterna</code></strong> y  <strong><code>Trailer</code></strong>. Pero además en los camiones es capaz de añadir el número de <strong>ejes</strong> y <strong>carga máxima</strong> en kilos.</p>
</li>
</ul>
<p>Nuestra IA, que será el programa principal, pasará un objeto <strong><code>Vehículo</code></strong>, con la información que ha podido recolectar, a un objeto <strong><code>CampaVehiculos</code></strong> que tendrá una <strong>capacidad de plazas determinada</strong> (para nuestro caso de estudio <strong>5 vehículos</strong> independientemente de su tamaño para simplificar). Estás plazas se numerarán de la <strong>1</strong> a la <strong>5</strong>.</p>
<p>La clase <strong><code>CampaVehiculos</code></strong> tendrá pues las siguientes <strong>opraciones básicas</strong>:</p>
<ul>
<li>
<p><strong>Privadas</strong></p>
<ul>
<li><strong><code>int Busca(Vehiculo v)</code></strong>: Me retornará el <strong>índice</strong> en un array de vehículos que ocupa el vehículo <strong><code>v</code></strong> o <strong>-1</strong> si no lo encuentra.</li>
<li><strong><code>int BuscaPlazaVacia()</code></strong>: Me retornará el <strong>primer índice vació</strong> en un array de vehículos o <strong>-1</strong> si no lo encuentra ningúno vacío.</li>
</ul>
</li>
<li>
<p><strong>Públicas</strong></p>
<ul>
<li>
<p><strong><code>int GetPlazasOcupadas()</code></strong>: Me retornará el número de plazas ocupadas en la campa.</p>
</li>
<li>
<p><strong><code>bool Entra(Vehiculo v, out int plaza, out string aviso)</code></strong>: Si la campa no está llena y si la matrícula del vehículo no se encuentra ya registrada, aparcará el vehículo en la promera plaza disponible retornando <strong><code>true</code></strong> y en <strong><code>plaza</code></strong> donde lo ha aparcado (1 a Numero Plazas).<br>
En caso de no poder entrar el vehículo por las causas ya mencionadas retornaremos <strong><code>false</code></strong> y en <strong><code>aviso</code></strong> uno de los siguientes mensajes:</p>
<ol>
<li>'<em><code>Ya se encuentra en el aparcamiento el vehículo DDDD LL</code></em>'</li>
<li>'<em><code>Aparcamiento lleno</code></em>'</li>
</ol>
</li>
<li>
<p><strong><code>bool Sale(Vehiculo v, out int plaza, out string aviso)</code></strong>: Si la campa no está vacía y si la matrícula del vehículo se encuentra registrada, sacará el vehículo en la plaza donde se encuentra retornando <strong><code>true</code></strong> y en <strong><code>plaza</code></strong> donde se encontraba aparcado.<br>
En caso de sacar el vehículo por las causas ya mencionadas retornaremos <strong><code>false</code></strong> y en <strong><code>aviso</code></strong> uno de los siguientes mensajes:</p>
<ol>
<li>'<em><code>No se registró la entrada del vehículo DDDD LL</code></em>'</li>
<li>'<em><code>Aparcamiento vacío</code></em>'</li>
</ol>
</li>
<li>
<p><strong><code>string ToString()</code></strong> imvalidado para que nuestre las plazas y los datos que se recibierosn de la IA de cada vehículo.</p>
</li>
</ul>
</li>
</ul>
<p>✋ <strong>Importante</strong>: Intenta realizar primero por tu cuenta la implementación de la especificación anterior. Posteriormente comparala con la propueta comentada de solución que encontrarás más adelante.<br>
Además, en las siguiente páginas puedes encontrar un programa principal de prueba y la salida que debe producir.<br>
💡 <strong>Tip</strong>: Fíjate bien en la definición de clases del programa principal, pues puede ayudarte a resolver dudas sobre cómo implementar la especificación anterior.</p>
</blockquote>
<div style="page-break-after:always;"></div>
<p>Propuesta de programa de prueba:</p>
<ul>
<li>
<p>💡 <strong>Tip:</strong> Para este programa de test, vamos a utilizar el método <strong>public Type <a href="https://docs.microsoft.com/es-es/dotnet/api/system.object.gettype?view=netcore-3.1" target="_blank">GetType</a>();</strong>  que poseen todos los objetos por heredar de <strong><code>object</code></strong> y que como vemos devuelve un objeto de tipo <strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.type?view=netcore-3.1" target="_blank">Type</a></strong> perteneciente al <a href="https://docs.microsoft.com/es-es/dotnet/api/system.reflection?view=netcore-3.1" target="_blank">API de reflexión</a> de .NET</p>
<p>Fíjate en la <strong>(<em>línea 5</em>)</strong> como usamos este método en <strong><code>v.GetType().Name</code></strong> aunque <strong><code>v</code></strong> es de tipo <strong><code>Vehiculo</code></strong>, <strong><code>Name</code></strong> me devolverá el nombre de la especificación que realmente se '<em>esconda</em>' en el mismo.</p>
<blockquote>
<p>📌 <strong>Nota:</strong> Si quieres saber un poco más sobre el concepto de reflexión puedes consultar (<a href="https://es.wikipedia.org/wiki/Reflexi%C3%B3n_(inform%C3%A1tica)" target="_blank">este enlace</a>).</p>
</blockquote>
</li>
</ul>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Entra</span><span class="token punctuation">(</span><span class="token class-name">CampaVehiculos</span> campa<span class="token punctuation">,</span> <span class="token class-name">Vehiculo</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> t1 <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$"Entrando </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> t2 <span class="token operator">=</span> campa<span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> plaza<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-string">string</span><span class="token punctuation">?</span></span> aviso<span class="token punctuation">)</span> <span class="token punctuation">?</span> <span class="token interpolation-string"><span class="token string">$"Aparcado en la plaza </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">plaza</span><span class="token punctuation">}</span></span><span class="token string">"</span></span> <span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">aviso</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">t1<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">42</span></span><span class="token punctuation">}</span></span><span class="token string">-&gt; </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">t2</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Sale</span><span class="token punctuation">(</span><span class="token class-name">CampaVehiculos</span> campa<span class="token punctuation">,</span> <span class="token class-name">Vehiculo</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> t1 <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$"Saliendo </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> t2 <span class="token operator">=</span> campa<span class="token punctuation">.</span><span class="token function">Sale</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> plaza<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-string">string</span><span class="token punctuation">?</span></span> aviso<span class="token punctuation">)</span> <span class="token punctuation">?</span> <span class="token interpolation-string"><span class="token string">$"Deja libre la plaza </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">plaza</span><span class="token punctuation">}</span></span><span class="token string">"</span></span> <span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">aviso</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">t1<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">42</span></span><span class="token punctuation">}</span></span><span class="token string">-&gt; </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">t2</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">CampaVehiculos</span> campa <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">CampaVehiculos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Coche</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"1020 DRG"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>SEAT<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> Coche<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Coupe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Camion</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"8798 JWR"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Blanco<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DAF<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">,</span> Camion<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Frigorífico<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Coche</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"7643 LRF"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>BMW<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> Coche<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>TodoTerreno<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Coche</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"1020 DRG"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>SEAT<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> Coche<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Coupe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Vehiculo</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"0000 DGP"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Negro<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DESCONOCIDA<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Moto</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"1111 GRF"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>YAMAHA<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> Moto<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Naked<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Coche</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"1020 DRG"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>SEAT<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> Coche<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Coupe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Sale</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Camion</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"8798 JWR"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Blanco<span class="token punctuation">,</span> 
             Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DAF<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">,</span> Camion<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Frigorífico<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Sale</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Camion</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"8798 JWR"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Blanco<span class="token punctuation">,</span> 
             Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DAF<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">,</span> Camion<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Frigorífico<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Sale</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Moto</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"1111 GRF"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> 
             Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>YAMAHA<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> Moto<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Naked<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Moto</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"1111 GRF"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>YAMAHA<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> Moto<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Naked<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Camion</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"8798 JWR"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Blanco<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DAF<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">,</span> Camion<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>SinIdentificar<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>campa<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><div style="page-break-after:always;"></div>
<p>Salida del programa de prueba anterior ...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>Entrando Coche Coupe <span class="token number">1020</span> DRG             -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">1</span>
Entrando Camion Frigorífico <span class="token number">8798</span> JWR      -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">2</span>
Entrando Coche TodoTerreno <span class="token number">7643</span> LRF       -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">3</span>
Entrando Coche Coupe <span class="token number">1020</span> DRG             -<span class="token operator">&gt;</span> Ya se encuentra en el aparcamiento el vehículo <span class="token number">1020</span> DRG
Entrando Vehiculo SinIdentificar 0000 DGP -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">4</span>
Entrando Moto Naked <span class="token number">1111</span> GRF              -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">5</span>
Entrando Coche Coupe <span class="token number">1020</span> DRG             -<span class="token operator">&gt;</span> Aparcamiento lleno
Saliendo Camion Frigorífico <span class="token number">8798</span> JWR      -<span class="token operator">&gt;</span> Deja libre la plaza <span class="token number">2</span>
Saliendo Camion Frigorífico <span class="token number">8798</span> JWR      -<span class="token operator">&gt;</span> No se registró la entrada del vehículo <span class="token number">8798</span> JWR
Saliendo Moto Naked <span class="token number">1111</span> GRF              -<span class="token operator">&gt;</span> Deja libre la plaza <span class="token number">5</span>
Entrando Moto Naked <span class="token number">1111</span> GRF              -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">2</span>
Entrando Camion SinIdentificar <span class="token number">8798</span> JWR   -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">5</span>

Vehículos en el aparcamiento<span class="token punctuation">..</span>.

Plaza <span class="token number">1</span>:
Matricula: <span class="token number">1020</span> DRG
Color: Azul
Marca: SEAT
Ocupantes: <span class="token number">3</span>
Categoria: Coupe

Plaza <span class="token number">2</span>:
Matricula: <span class="token number">1111</span> GRF
Color: Rojo
Marca: YAMAHA
Ocupantes: <span class="token number">2</span>
Categoria: Naked

Plaza <span class="token number">3</span>:
Matricula: <span class="token number">7643</span> LRF
Color: Rojo
Marca: BMW
Ocupantes: <span class="token number">4</span>
Categoria: TodoTerreno

Plaza <span class="token number">4</span>:
Matricula: 0000 DGP
Color: Negro
Marca: DESCONOCIDA
Ocupntes: <span class="token number">2</span>
Categoria: SinIdentificar

Plaza <span class="token number">5</span>:
Matricula: <span class="token number">8798</span> JWR
Color: Blanco
Marca: DAF
Ocupantes: <span class="token number">1</span>
Categoria: SinIdentificar
Número de ejes: <span class="token number">2</span>
Carga Máxima: <span class="token number">6000</span> Kg
</code></pre><div style="page-break-after:always;"></div>
<p>Propuesta de solución del caso de estudi anterior</p>
<ol>
<li>
<p>Lo primero sería definir un <strong>tipo para guardar matrículas válidas</strong>. Básicamente contendrá un string, pero nos aseguraremos que lo que contiene es una matrículo.</p>
<p><strong>Podríamos definirlo como clase</strong>, pero también cumple los requisitos para ser un tipo valor, puesto que un string es un tipo referencia <strong>inmutable</strong>. Así pues, por repasar conceptos, vamos a definirlo como un tipo valor <strong>struct</strong>.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="130.662px" preserveAspectRatio="none" style="width:250px;height:130px;background:#FFFFFF;" version="1.1" viewBox="0 0 250 130" width="250.8711px" zoomAndPan="magnify"><defs></defs><g><!--class Matricula--><g id="elem_Matricula"><rect codeline="8" fill="#FFFAFA" height="112.4918" id="Matricula" rx="2.1777" ry="2.1777" style="stroke:#000000;stroke-width:0.4355400696864111;" width="232.5784" x="6.0976" y="6.0976"></rect><ellipse cx="92.1167" cy="24.6965" fill="#FF7700" rx="9.5819" ry="9.5819" style="stroke:#181818;stroke-width:0.8710801393728222;"></ellipse><path d="M89.9799,27.5683 L89.9799,21.7702 Q89.5035,21.7566 89.2721,21.5524 Q89.0543,21.3483 89.0543,21.0216 Q89.0543,20.695 89.2857,20.4908 Q89.5171,20.2866 90.0479,20.2866 L93.1511,20.2866 Q93.8725,20.2866 94.5666,20.5589 Q95.2608,20.8175 95.6827,21.2394 Q95.9958,21.5524 96.336,22.0969 Q96.6763,22.6277 96.8532,23.1721 Q97.0302,23.7029 97.0302,24.4787 L97.0302,25.1865 Q97.0302,26.1256 96.7035,26.8606 Q96.3905,27.5819 95.8733,28.0447 Q95.3561,28.4938 94.9069,28.7116 Q94.1855,29.0519 93.0286,29.0519 L90.0479,29.0519 Q89.5171,29.0519 89.2857,28.8477 Q89.0543,28.6436 89.0543,28.3033 Q89.0543,27.9766 89.2857,27.7725 Q89.5171,27.5683 89.9799,27.5683 Z M91.4634,27.5683 L93.0422,27.5683 Q93.9133,27.5683 94.3625,27.3097 Q94.9477,26.9831 95.2472,26.4795 Q95.5466,25.9623 95.5466,25.1456 L95.5466,24.4379 Q95.5466,23.7437 95.2744,23.2129 Q94.8525,22.3827 94.3216,22.0832 Q93.8044,21.7702 93.0286,21.7702 L91.4634,21.7702 L91.4634,27.5683 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="10.453" font-style="italic" lengthAdjust="spacing" textLength="56.6202" x="108.2317" y="21.304">«dataType»</text><text fill="#000000" font-family="sans-serif" font-size="12.1951" lengthAdjust="spacing" textLength="49.6516" x="111.716" y="36.2604">Matricula</text><line style="stroke:#000000;stroke-width:0.4355400696864111;" x1="6.9686" x2="237.8049" y1="43.2954" y2="43.2954"></line><text fill="#000000" font-family="sans-serif" font-size="12.1951" lengthAdjust="spacing" textLength="157.6655" x="11.324" y="59.4393">-matricula : string {readOnly}</text><line style="stroke:#000000;stroke-width:0.4355400696864111;" x1="6.9686" x2="237.8049" y1="65.6032" y2="65.6032"></line><text fill="#000000" font-family="sans-serif" font-size="12.1951" lengthAdjust="spacing" text-decoration="underline" textLength="222.1254" x="11.324" y="81.7471">+EsValida(in matricula : string) : boolean</text><text fill="#000000" font-family="sans-serif" font-size="12.1951" lengthAdjust="spacing" textLength="168.9895" x="11.324" y="97.0863">+Matricula(in matricula : string)</text><text fill="#000000" font-family="sans-serif" font-size="12.1951" lengthAdjust="spacing" textLength="108.0139" x="11.324" y="112.4255">^+ToString() : string</text></g><!--SRC=[TOvFQyCm3CNl_XI2NHAoGIYCmYY5fbkXXx51odORgBP8JHohs0wX2_dkyr88ONzqaOH-x-bvYOPWSPz3frKu2LzhUqQ73KY3tcz2SFhO1jfBjgN-9CXdoCOvxhPis45XKDQpqsjSiQ8YjifnQzKLUp_fG6N3DStOxVUdWfqYzxVP5VXXLLhkX1XJmZF6cB8r2AjLydXxizijbtcUWiA0XykPrclH2uXrrqpa0_WusWfwHwXUhBaC8zBxW47B0R8d_uP6AqoqXT-wD4v7PaDeHrqsXVY77wcFxC3bk2VfT1A3-080]--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-struct">struct</span> <span class="token class-name">Matricula</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> matricula<span class="token punctuation">;</span>

    <span class="token comment">// De momento lo dejamos privado, pues podemos obtener la matrícula a través del ToString()</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> matricula<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Dejamos la comprobación de matrícula como un método de clase publica de utilidad.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">EsValida</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> matricula<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// [^a-z\W\s\dAEIOU] Cualquier letra que no sea: Minúscula, Caracter no alfanumerico, Espacios o Vocales en mayúscula.</span>
        <span class="token comment">// Lo cual deja solo las mayúculas que no sean vocales.</span>
        <span class="token keyword keyword-return">return</span> Regex<span class="token punctuation">.</span><span class="token function">IsMatch</span><span class="token punctuation">(</span>matricula<span class="token punctuation">,</span> <span class="token string">@"^[0-9]{4} [^a-z\W\s\dAEIOU]{3}$"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Matricula</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> matricula<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Solo pertmitimos crear matrículas válidas.</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">EsValida</span><span class="token punctuation">(</span>matricula<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"La matrícula </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">matricula</span><span class="token punctuation">}</span></span><span class="token string"> no es correcta."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>matricula <span class="token operator">=</span> matricula<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Las estructuras como las clases, también heredan de Object y por tanto pueden </span>
    <span class="token comment">// invalidar ToString.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>En segundo lugar definiremos la clase <strong><code>Vehículo</code></strong>. Fíjate que al usar el tipo valor Matrícula existe una <strong>composición implícita</strong>.<br>
Además, hemos definido de forma <strong>anidada</strong> dos tispos enumerados publicos dentro de Vehículo. De tañ manera que ara hacer referencia a ellos desde fuera de la clase usaremos la notación <strong><code>Vehiculo.Color</code></strong> y <strong><code>Vahiculo.Marca</code></strong> de esta manera no tendremos redundancia en los nombre y no habrá conflicto de nombres con otros tipos <strong><code>Color</code></strong>.<br>
Esta relación de <strong>anidación</strong> el un diagrama de clases UML la podrmos expresar de la siguiente manera:</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="67.2632px" preserveAspectRatio="none" style="width:450px;height:67px;background:#FFFFFF;" version="1.1" viewBox="0 0 450 67" width="450.9474px" zoomAndPan="magnify"><defs></defs><g><!--class Color--><g id="elem_Color"><rect codeline="10" fill="#FFFAFA" height="48.0345" id="Color" rx="2.3684" ry="2.3684" style="stroke:#000000;stroke-width:0.47368421052631576;" width="106.1053" x="6.6316" y="9.9474"></rect><ellipse cx="20.8421" cy="30.1752" fill="#EB937F" rx="10.4211" ry="10.4211" style="stroke:#181818;stroke-width:0.9473684210526315;"></ellipse><path d="M19.7615,30.9301 L19.7615,33.2985 L23.8618,33.2985 L23.8618,32.4252 Q23.8618,31.8479 24.0839,31.5962 Q24.3207,31.3446 24.676,31.3446 Q25.0313,31.3446 25.2533,31.5962 Q25.4753,31.8479 25.4753,32.4252 L25.4753,34.912 L17.8964,34.912 Q17.3043,34.912 17.0526,34.69 Q16.8158,34.4679 16.8158,34.0979 Q16.8158,33.7426 17.0674,33.5206 Q17.3191,33.2985 17.8964,33.2985 L18.148,33.2985 L18.148,26.9926 L17.8964,26.9926 Q17.3043,26.9926 17.0526,26.7706 Q16.8158,26.5485 16.8158,26.1785 Q16.8158,25.8232 17.0526,25.6012 Q17.3043,25.3791 17.8964,25.3791 L25.1201,25.3791 L25.1201,27.8363 Q25.1201,28.4137 24.898,28.6653 Q24.6908,28.9021 24.3207,28.9021 Q23.9655,28.9021 23.7434,28.6653 Q23.5214,28.4137 23.5214,27.8363 L23.5214,26.9926 L19.7615,26.9926 L19.7615,29.3166 L21.1678,29.3166 Q21.1678,28.6949 21.2862,28.5173 Q21.5378,28.1324 21.9819,28.1324 Q22.3372,28.1324 22.5592,28.384 Q22.7813,28.6209 22.7813,29.1982 L22.7813,31.0633 Q22.7813,31.5814 22.6628,31.759 Q22.4112,32.1291 21.9819,32.1291 Q21.5378,32.1291 21.2862,31.7442 Q21.1678,31.5666 21.1678,30.9301 L19.7615,30.9301 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.3684" font-style="italic" lengthAdjust="spacing" textLength="79.5789" x="32.2105" y="26.4856">«enumeration»</text><text fill="#000000" font-family="sans-serif" font-size="13.2632" lengthAdjust="spacing" textLength="32.2105" x="55.8947" y="42.7519">Color</text><line style="stroke:#000000;stroke-width:0.47368421052631576;" x1="7.5789" x2="111.7895" y1="50.403" y2="50.403"></line></g><!--class Marca--><g id="elem_Marca"><rect codeline="11" fill="#FFFAFA" height="48.0345" id="Marca" rx="2.3684" ry="2.3684" style="stroke:#000000;stroke-width:0.47368421052631576;" width="106.1053" x="338.2105" y="9.9474"></rect><ellipse cx="352.4211" cy="30.1752" fill="#EB937F" rx="10.4211" ry="10.4211" style="stroke:#181818;stroke-width:0.9473684210526315;"></ellipse><path d="M351.3405,30.9301 L351.3405,33.2985 L355.4408,33.2985 L355.4408,32.4252 Q355.4408,31.8479 355.6628,31.5962 Q355.8997,31.3446 356.2549,31.3446 Q356.6102,31.3446 356.8322,31.5962 Q357.0543,31.8479 357.0543,32.4252 L357.0543,34.912 L349.4753,34.912 Q348.8832,34.912 348.6316,34.69 Q348.3947,34.4679 348.3947,34.0979 Q348.3947,33.7426 348.6464,33.5206 Q348.898,33.2985 349.4753,33.2985 L349.727,33.2985 L349.727,26.9926 L349.4753,26.9926 Q348.8832,26.9926 348.6316,26.7706 Q348.3947,26.5485 348.3947,26.1785 Q348.3947,25.8232 348.6316,25.6012 Q348.8832,25.3791 349.4753,25.3791 L356.699,25.3791 L356.699,27.8363 Q356.699,28.4137 356.477,28.6653 Q356.2697,28.9021 355.8997,28.9021 Q355.5444,28.9021 355.3224,28.6653 Q355.1003,28.4137 355.1003,27.8363 L355.1003,26.9926 L351.3405,26.9926 L351.3405,29.3166 L352.7467,29.3166 Q352.7467,28.6949 352.8651,28.5173 Q353.1168,28.1324 353.5609,28.1324 Q353.9161,28.1324 354.1382,28.384 Q354.3602,28.6209 354.3602,29.1982 L354.3602,31.0633 Q354.3602,31.5814 354.2418,31.759 Q353.9901,32.1291 353.5609,32.1291 Q353.1168,32.1291 352.8651,31.7442 Q352.7467,31.5666 352.7467,30.9301 L351.3405,30.9301 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.3684" font-style="italic" lengthAdjust="spacing" textLength="79.5789" x="363.7895" y="26.4856">«enumeration»</text><text fill="#000000" font-family="sans-serif" font-size="13.2632" lengthAdjust="spacing" textLength="36.9474" x="385.1053" y="42.7519">Marca</text><line style="stroke:#000000;stroke-width:0.47368421052631576;" x1="339.1579" x2="443.3684" y1="50.403" y2="50.403"></line></g><!--class Vehiculo--><g id="elem_Vehiculo"><rect codeline="14" fill="#FFFAFA" height="54.5773" id="Vehiculo" rx="2.3684" ry="2.3684" style="stroke:#000000;stroke-width:0.47368421052631576;" width="159.1579" x="145.8947" y="6.6316"></rect><ellipse cx="195.8684" cy="21.7895" fill="#ADD1B2" rx="10.4211" ry="10.4211" style="stroke:#181818;stroke-width:0.9473684210526315;"></ellipse><path d="M198.4885,17.8816 Q198.6365,17.6743 198.8141,17.5707 Q198.9918,17.4671 199.199,17.4671 Q199.5543,17.4671 199.7763,17.7188 Q199.9984,17.9556 199.9984,18.5329 L199.9984,19.9095 Q199.9984,20.4868 199.7763,20.7385 Q199.5543,20.9901 199.199,20.9901 Q198.8734,20.9901 198.6809,20.7977 Q198.4885,20.6201 198.3849,20.1316 Q198.3405,19.7911 198.1628,19.6135 Q197.852,19.2582 197.2747,19.051 Q196.6974,18.8438 196.1053,18.8438 Q195.3799,18.8438 194.773,19.1546 Q194.1809,19.4655 193.7072,20.176 Q193.2484,20.8865 193.2484,21.8635 L193.2484,22.8997 Q193.2484,24.0691 194.0921,24.8536 Q194.9359,25.6234 196.4457,25.6234 Q197.3339,25.6234 197.9556,25.3865 Q198.3257,25.2385 198.7253,24.824 Q198.977,24.5724 199.1102,24.4984 Q199.2582,24.4243 199.4507,24.4243 Q199.7615,24.4243 199.9984,24.676 Q200.25,24.9128 200.25,25.2385 Q200.25,25.5641 199.9243,25.949 Q199.4507,26.4967 198.6957,26.8076 Q197.6743,27.2368 196.4457,27.2368 Q195.0099,27.2368 193.8701,26.6447 Q192.9375,26.1711 192.2862,25.1645 Q191.6349,24.1431 191.6349,22.9293 L191.6349,21.8339 Q191.6349,20.5757 192.2122,19.4951 Q192.8043,18.3997 193.8405,17.8224 Q194.8766,17.2303 196.0461,17.2303 Q196.7418,17.2303 197.3487,17.3931 Q197.9704,17.5411 198.4885,17.8816 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="13.2632" lengthAdjust="spacing" textLength="51.1579" x="215.2895" y="27.2165">Vehiculo</text><line style="stroke:#000000;stroke-width:0.47368421052631576;" x1="146.8421" x2="304.1053" y1="36.9474" y2="36.9474"></line><text fill="#000000" font-family="sans-serif" font-size="13.2632" lengthAdjust="spacing" textLength="147.7895" x="151.5789" y="54.5051">-matricula : Matricula {id}</text></g><!--link Color to Vehiculo--><g id="link_Color_Vehiculo"><path codeline="19" d="M112.7842,34.1053 C123.7926,34.1053 119.6432,34.1053 130.6421,34.1053 " fill="none" id="Color-to-Vehiculo" style="stroke:#000000;stroke-width:0.9473684210526315;"></path><ellipse cx="138.2211" cy="34.1053" fill="#FFFFFF" rx="7.5789" ry="7.5789" style="stroke:#000000;stroke-width:0.9473684210526315;"></ellipse><line style="stroke:#000000;stroke-width:0.9473684210526315;" x1="130.6421" x2="145.8" y1="34.1053" y2="34.1053"></line><line style="stroke:#000000;stroke-width:0.9473684210526315;" x1="138.2211" x2="138.2211" y1="26.5263" y2="41.6842"></line></g><!--reverse link Vehiculo to Marca--><g id="link_Vehiculo_Marca"><path codeline="20" d="M320.2863,34.1053 C331.2758,34.1053 327.1168,34.1053 338.1063,34.1053 " fill="none" id="Vehiculo-backto-Marca" style="stroke:#000000;stroke-width:0.9473684210526315;"></path><ellipse cx="312.7074" cy="34.1053" fill="#FFFFFF" rx="7.5789" ry="7.5789" style="stroke:#000000;stroke-width:0.9473684210526315;"></ellipse><line style="stroke:#000000;stroke-width:0.9473684210526315;" x1="320.2863" x2="305.1284" y1="34.1053" y2="34.1053"></line><line style="stroke:#000000;stroke-width:0.9473684210526315;" x1="312.7074" x2="312.7074" y1="41.6842" y2="26.5263"></line></g><!--SRC=[ROz1QyCm38Nl-XMwbq0FxMMKGjDJ3uL1O3jhjgXD7Al83e6L_lUvDM5XgowI_3w_XvAXmBZPhd7oDZj8lOzNKXhG14hfaBFwhp7poKZi_3VZUe4SL6KwIX35Df3f5z9xMUd2RMaNbJ7QYdqwdxaRfES5UtmajQAMzRLP1VvOTL4c0ESjuvcp4vi0E8w5VigxtMDXfUmbxlTLEfCQ-YT1SZ8XpQScU9wE7-oy6OF03R1KWmCLehmGlXMdURvvUuSxG8rjLh__vW5NJKs67m00]--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definimos los tipos enumerados de la especificación</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Color</span> <span class="token punctuation">{</span> Blanco<span class="token punctuation">,</span> Morado<span class="token punctuation">,</span> Cian<span class="token punctuation">,</span> Azul<span class="token punctuation">,</span> Rojo<span class="token punctuation">,</span> Verde<span class="token punctuation">,</span> Negro<span class="token punctuation">,</span> Naranja<span class="token punctuation">,</span> Gris <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Marca</span> <span class="token punctuation">{</span> DESCONOCIDA<span class="token punctuation">,</span> BMW<span class="token punctuation">,</span> SEAT<span class="token punctuation">,</span> AUDI<span class="token punctuation">,</span> RENAULT<span class="token punctuation">,</span> MAN<span class="token punctuation">,</span> DAF<span class="token punctuation">,</span> CITROEN<span class="token punctuation">,</span> TOYOTA<span class="token punctuation">,</span> SUZUKI<span class="token punctuation">,</span> YAMAHA<span class="token punctuation">,</span> MERCEDES<span class="token punctuation">,</span> PEGASO <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// Las características comunes a todos los vehículos, registrables por la IA</span>
    <span class="token comment">// Serán de solo lectura y por tanto solo definiremos accesores.</span>
    <span class="token comment">// Además, una vez creados los objectos vehículos ya no podrán cambiar de estado (Serán inmutables.).</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Matricula</span> matricula<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Color</span> color<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> ocupantes<span class="token punctuation">;</span>
</code></pre> <div style="page-break-after:always;"></div>
<p>Fíjate en el los comentarios de la implementación de <strong><code>object GetCategoria()</code></strong></p>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code>    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Matricula</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> matricula<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Color</span> <span class="token function">GetColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Marca</span> <span class="token function">GetMarca</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> marca<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-ushort">ushort</span></span> <span class="token function">GetOcupantes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> ocupantes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Los objetos vehículos creados como tal no tienen categoría, y por tanto al preguntársela</span>
    <span class="token comment">// retornaremos SinIdentificar y daremos la posibilidad de invalidarla en futuras especificaciones.</span>
    <span class="token comment">// Además, fijate que la categoría se devolverá en su forma de object con lo que, independientemente</span>
    <span class="token comment">// del tipo con el que la codifiquemos, de ella únicamente podremos saber la cadena que </span>
    <span class="token comment">// la representa llamando a ToString() (Ver línea 39).</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-object">object</span></span> <span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token string">"SinIdentificar"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token class-name">Matricula</span> matricula<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> ocupantes<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>matricula <span class="token operator">=</span> matricula<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>marca <span class="token operator">=</span> marca<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>ocupantes <span class="token operator">=</span> ocupantes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Matricula: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$"Color: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$"Marca: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetMarca</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$"Ocupantes: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetOcupantes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$"Categoria: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
              <span class="token comment">// Aquí, aunque llamemos a GetCategoria() no mostrará siempre SinIdentificar puesto</span>
              <span class="token comment">// que si hay una subclase que invalide el método, hará un enlace dinámico a la </span>
              <span class="token comment">// implementación del mismo haga esa subclase.</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-object">object</span></span> obj<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Invalidación de Equals de onject, para comparar dos objectos vehiculo por matricula.</span>
        <span class="token keyword keyword-return">return</span> obj <span class="token keyword keyword-is">is</span> <span class="token class-name">Vehiculo</span> v <span class="token operator">&amp;&amp;</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">CompareTo</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetHashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// En ocasiones la invalidación de Equals implica la invalidación de GetHashCode</span>
        <span class="token comment">// El valos de hash de un vehiculo será el hash de la cadena de su matrícula.</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetHashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></li>
</ol>
<div style="page-break-after:always;"></div>
<ol>
<li>
<p>Vamos a realizar las <strong>tres especificaciones de <code>Vehiculo</code></strong> y usaremos <strong>herencia</strong> para ello. Además, como comentamos en <strong><code>Vehiculo</code></strong>, definiremos un <strong>tipo enum anidado</strong> <strong><code>Categoria</code></strong> para cada una de las subclasificaciones de vehículos.</p>
<p>Es fácil deducir las clasificaciones y los parámetros necesarios para definirlas, viendo el programa de ejemplo propuesto en el enunciado y estás serán <strong><code>Coche</code></strong>, <strong><code>Moto</code></strong> y <strong><code>Camion</code></strong></p>
<p>En todas la implementaciones invalidaremos el método <strong><code>object GetCategoria()</code></strong>, que al devolver diferentes tipos enumerados según la clasificación lo haremos haciendo una sustitición hacia <strong><code>object</code></strong>.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="256.6826px" preserveAspectRatio="none" style="width:451px;height:256px;background:#FFFFFF;" version="1.1" viewBox="0 0 451 256" width="451.074px" zoomAndPan="magnify"><defs></defs><g><!--class Vehiculo--><g id="elem_Vehiculo"><rect codeline="11" fill="#FFFAFA" height="34.3675" id="Vehiculo" rx="2.685" ry="2.685" style="stroke:#000000;stroke-width:0.5369928400954654;" width="92.3628" x="179.3556" y="7.5179"></rect><ellipse cx="195.4654" cy="24.7017" fill="#ADD1B2" rx="11.8138" ry="11.8138" style="stroke:#181818;stroke-width:1.0739856801909309;"></ellipse><path d="M198.4356,20.2715 Q198.6034,20.0365 198.8048,19.9191 Q199.0062,19.8016 199.2411,19.8016 Q199.6439,19.8016 199.8956,20.0869 Q200.1473,20.3554 200.1473,21.0098 L200.1473,22.5705 Q200.1473,23.2249 199.8956,23.5102 Q199.6439,23.7955 199.2411,23.7955 Q198.8719,23.7955 198.6538,23.5773 Q198.4356,23.376 198.3182,22.8222 Q198.2678,22.4362 198.0665,22.2349 Q197.7141,21.8321 197.0596,21.5972 Q196.4051,21.3622 195.7339,21.3622 Q194.9116,21.3622 194.2236,21.7146 Q193.5524,22.067 193.0154,22.8725 Q192.4952,23.678 192.4952,24.7856 L192.4952,25.9602 Q192.4952,27.2859 193.4517,28.1753 Q194.4082,29.048 196.1199,29.048 Q197.1267,29.048 197.8315,28.7795 Q198.251,28.6116 198.7041,28.1418 Q198.9894,27.8565 199.1404,27.7726 Q199.3082,27.6887 199.5264,27.6887 Q199.8788,27.6887 200.1473,27.974 Q200.4326,28.2425 200.4326,28.6116 Q200.4326,28.9808 200.0634,29.4171 Q199.5264,30.038 198.6706,30.3904 Q197.5127,30.8771 196.1199,30.8771 Q194.4921,30.8771 193.2,30.2058 Q192.1428,29.6689 191.4044,28.5277 Q190.666,27.3699 190.666,25.9938 L190.666,24.752 Q190.666,23.3256 191.3205,22.1006 Q191.9917,20.8588 193.1664,20.2044 Q194.3411,19.5331 195.6668,19.5331 Q196.4555,19.5331 197.1435,19.7177 Q197.8483,19.8855 198.4356,20.2715 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="15.0358" lengthAdjust="spacing" textLength="57.9952" x="210.5012" y="30.854">Vehiculo</text></g><!--class Coche--><g id="elem_Coche"><rect codeline="12" fill="#FFFAFA" height="34.3675" id="Coche" rx="2.685" ry="2.685" style="stroke:#000000;stroke-width:0.5369928400954654;" width="78.401" x="52.0883" y="106.3246"></rect><ellipse cx="68.1981" cy="123.5084" fill="#ADD1B2" rx="11.8138" ry="11.8138" style="stroke:#181818;stroke-width:1.0739856801909309;"></ellipse><path d="M71.1683,119.0782 Q71.3361,118.8432 71.5375,118.7258 Q71.7389,118.6083 71.9738,118.6083 Q72.3766,118.6083 72.6283,118.8936 Q72.88,119.1621 72.88,119.8165 L72.88,121.3772 Q72.88,122.0316 72.6283,122.3169 Q72.3766,122.6022 71.9738,122.6022 Q71.6046,122.6022 71.3865,122.384 Q71.1683,122.1827 71.0509,121.6289 Q71.0005,121.2429 70.7991,121.0415 Q70.4467,120.6388 69.7923,120.4039 Q69.1378,120.1689 68.4666,120.1689 Q67.6443,120.1689 66.9563,120.5213 Q66.2851,120.8737 65.7481,121.6792 Q65.2278,122.4847 65.2278,123.5923 L65.2278,124.7669 Q65.2278,126.0926 66.1844,126.982 Q67.1409,127.8546 68.8526,127.8546 Q69.8594,127.8546 70.5642,127.5861 Q70.9837,127.4183 71.4368,126.9485 Q71.7221,126.6632 71.8731,126.5793 Q72.0409,126.4954 72.2591,126.4954 Q72.6115,126.4954 72.88,126.7807 Q73.1653,127.0491 73.1653,127.4183 Q73.1653,127.7875 72.7961,128.2238 Q72.2591,128.8447 71.4033,129.1971 Q70.2454,129.6838 68.8526,129.6838 Q67.2248,129.6838 65.9327,129.0125 Q64.8754,128.4755 64.1371,127.3344 Q63.3987,126.1765 63.3987,124.8005 L63.3987,123.5587 Q63.3987,122.1323 64.0532,120.9073 Q64.7244,119.6655 65.8991,119.011 Q67.0738,118.3398 68.3995,118.3398 Q69.1882,118.3398 69.8762,118.5244 Q70.581,118.6922 71.1683,119.0782 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="15.0358" lengthAdjust="spacing" textLength="44.0334" x="83.2339" y="129.6607">Coche</text></g><!--class Moto--><g id="elem_Moto"><rect codeline="13" fill="#FFFAFA" height="34.3675" id="Moto" rx="2.685" ry="2.685" style="stroke:#000000;stroke-width:0.5369928400954654;" width="67.6611" x="191.7064" y="106.3246"></rect><ellipse cx="207.8162" cy="123.5084" fill="#ADD1B2" rx="11.8138" ry="11.8138" style="stroke:#181818;stroke-width:1.0739856801909309;"></ellipse><path d="M210.7865,119.0782 Q210.9543,118.8432 211.1557,118.7258 Q211.357,118.6083 211.592,118.6083 Q211.9947,118.6083 212.2464,118.8936 Q212.4981,119.1621 212.4981,119.8165 L212.4981,121.3772 Q212.4981,122.0316 212.2464,122.3169 Q211.9947,122.6022 211.592,122.6022 Q211.2228,122.6022 211.0046,122.384 Q210.7865,122.1827 210.669,121.6289 Q210.6187,121.2429 210.4173,121.0415 Q210.0649,120.6388 209.4104,120.4039 Q208.756,120.1689 208.0847,120.1689 Q207.2625,120.1689 206.5744,120.5213 Q205.9032,120.8737 205.3662,121.6792 Q204.846,122.4847 204.846,123.5923 L204.846,124.7669 Q204.846,126.0926 205.8025,126.982 Q206.759,127.8546 208.4707,127.8546 Q209.4776,127.8546 210.1824,127.5861 Q210.6019,127.4183 211.055,126.9485 Q211.3402,126.6632 211.4913,126.5793 Q211.6591,126.4954 211.8772,126.4954 Q212.2296,126.4954 212.4981,126.7807 Q212.7834,127.0491 212.7834,127.4183 Q212.7834,127.7875 212.4142,128.2238 Q211.8772,128.8447 211.0214,129.1971 Q209.8635,129.6838 208.4707,129.6838 Q206.8429,129.6838 205.5508,129.0125 Q204.4936,128.4755 203.7552,127.3344 Q203.0169,126.1765 203.0169,124.8005 L203.0169,123.5587 Q203.0169,122.1323 203.6713,120.9073 Q204.3426,119.6655 205.5172,119.011 Q206.6919,118.3398 208.0176,118.3398 Q208.8063,118.3398 209.4943,118.5244 Q210.1991,118.6922 210.7865,119.0782 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="15.0358" lengthAdjust="spacing" textLength="33.2936" x="222.852" y="129.6607">Moto</text></g><!--class Camion--><g id="elem_Camion"><rect codeline="14" fill="#FFFAFA" height="34.3675" id="Camion" rx="2.685" ry="2.685" style="stroke:#000000;stroke-width:0.5369928400954654;" width="85.9189" x="318.9737" y="106.3246"></rect><ellipse cx="335.0835" cy="123.5084" fill="#ADD1B2" rx="11.8138" ry="11.8138" style="stroke:#181818;stroke-width:1.0739856801909309;"></ellipse><path d="M338.0538,119.0782 Q338.2216,118.8432 338.423,118.7258 Q338.6243,118.6083 338.8593,118.6083 Q339.262,118.6083 339.5137,118.8936 Q339.7654,119.1621 339.7654,119.8165 L339.7654,121.3772 Q339.7654,122.0316 339.5137,122.3169 Q339.262,122.6022 338.8593,122.6022 Q338.4901,122.6022 338.2719,122.384 Q338.0538,122.1827 337.9363,121.6289 Q337.886,121.2429 337.6846,121.0415 Q337.3322,120.6388 336.6777,120.4039 Q336.0233,120.1689 335.352,120.1689 Q334.5298,120.1689 333.8417,120.5213 Q333.1705,120.8737 332.6335,121.6792 Q332.1133,122.4847 332.1133,123.5923 L332.1133,124.7669 Q332.1133,126.0926 333.0698,126.982 Q334.0263,127.8546 335.738,127.8546 Q336.7449,127.8546 337.4497,127.5861 Q337.8692,127.4183 338.3223,126.9485 Q338.6075,126.6632 338.7586,126.5793 Q338.9264,126.4954 339.1445,126.4954 Q339.4969,126.4954 339.7654,126.7807 Q340.0507,127.0491 340.0507,127.4183 Q340.0507,127.7875 339.6815,128.2238 Q339.1445,128.8447 338.2887,129.1971 Q337.1308,129.6838 335.738,129.6838 Q334.1102,129.6838 332.8181,129.0125 Q331.7609,128.4755 331.0225,127.3344 Q330.2842,126.1765 330.2842,124.8005 L330.2842,123.5587 Q330.2842,122.1323 330.9386,120.9073 Q331.6099,119.6655 332.7845,119.011 Q333.9592,118.3398 335.2849,118.3398 Q336.0736,118.3398 336.7616,118.5244 Q337.4664,118.6922 338.0538,119.0782 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="15.0358" lengthAdjust="spacing" textLength="51.5513" x="350.1193" y="129.6607">Camion</text></g><!--class CCoche--><g id="elem_CCoche"><rect codeline="15" fill="#FFFAFA" height="45.8625" id="CCoche" rx="2.685" ry="2.685" style="stroke:#000000;stroke-width:0.5369928400954654;" width="120.2864" x="7.5179" y="205.1313"></rect><ellipse cx="23.6277" cy="228.0625" fill="#EB937F" rx="11.8138" ry="11.8138" style="stroke:#181818;stroke-width:1.0739856801909309;"></ellipse><path d="M22.4027,228.9184 L22.4027,231.6033 L27.051,231.6033 L27.051,230.6133 Q27.051,229.9588 27.3027,229.6735 Q27.5712,229.3882 27.974,229.3882 Q28.3767,229.3882 28.6284,229.6735 Q28.8801,229.9588 28.8801,230.6133 L28.8801,233.4325 L20.2883,233.4325 Q19.617,233.4325 19.3317,233.1808 Q19.0632,232.929 19.0632,232.5095 Q19.0632,232.1068 19.3485,231.855 Q19.6338,231.6033 20.2883,231.6033 L20.5735,231.6033 L20.5735,224.4546 L20.2883,224.4546 Q19.617,224.4546 19.3317,224.2029 Q19.0632,223.9512 19.0632,223.5317 Q19.0632,223.1289 19.3317,222.8772 Q19.617,222.6255 20.2883,222.6255 L28.4774,222.6255 L28.4774,225.4111 Q28.4774,226.0656 28.2257,226.3509 Q27.9908,226.6194 27.5712,226.6194 Q27.1685,226.6194 26.9168,226.3509 Q26.6651,226.0656 26.6651,225.4111 L26.6651,224.4546 L22.4027,224.4546 L22.4027,227.0892 L23.9969,227.0892 Q23.9969,226.3844 24.1311,226.1831 Q24.4164,225.7468 24.9198,225.7468 Q25.3226,225.7468 25.5743,226.032 Q25.826,226.3005 25.826,226.955 L25.826,229.0694 Q25.826,229.6567 25.6918,229.8581 Q25.4065,230.2776 24.9198,230.2776 Q24.4164,230.2776 24.1311,229.8413 Q23.9969,229.64 23.9969,228.9184 L22.4027,228.9184 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.8878" font-style="italic" lengthAdjust="spacing" textLength="90.2148" x="36.5155" y="223.8799">«enumeration»</text><text fill="#000000" font-family="sans-serif" font-size="15.0358" lengthAdjust="spacing" textLength="66.5871" x="48.3294" y="242.3201">Categoria</text></g><!--class CMoto--><g id="elem_CMoto"><rect codeline="16" fill="#FFFAFA" height="45.8625" id="CMoto" rx="2.685" ry="2.685" style="stroke:#000000;stroke-width:0.5369928400954654;" width="120.2864" x="165.3938" y="205.1313"></rect><ellipse cx="181.5036" cy="228.0625" fill="#EB937F" rx="11.8138" ry="11.8138" style="stroke:#181818;stroke-width:1.0739856801909309;"></ellipse><path d="M180.2786,228.9184 L180.2786,231.6033 L184.9269,231.6033 L184.9269,230.6133 Q184.9269,229.9588 185.1786,229.6735 Q185.4471,229.3882 185.8499,229.3882 Q186.2526,229.3882 186.5043,229.6735 Q186.756,229.9588 186.756,230.6133 L186.756,233.4325 L178.1642,233.4325 Q177.4929,233.4325 177.2076,233.1808 Q176.9391,232.929 176.9391,232.5095 Q176.9391,232.1068 177.2244,231.855 Q177.5097,231.6033 178.1642,231.6033 L178.4494,231.6033 L178.4494,224.4546 L178.1642,224.4546 Q177.4929,224.4546 177.2076,224.2029 Q176.9391,223.9512 176.9391,223.5317 Q176.9391,223.1289 177.2076,222.8772 Q177.4929,222.6255 178.1642,222.6255 L186.3533,222.6255 L186.3533,225.4111 Q186.3533,226.0656 186.1016,226.3509 Q185.8666,226.6194 185.4471,226.6194 Q185.0444,226.6194 184.7927,226.3509 Q184.5409,226.0656 184.5409,225.4111 L184.5409,224.4546 L180.2786,224.4546 L180.2786,227.0892 L181.8728,227.0892 Q181.8728,226.3844 182.007,226.1831 Q182.2923,225.7468 182.7957,225.7468 Q183.1985,225.7468 183.4502,226.032 Q183.7019,226.3005 183.7019,226.955 L183.7019,229.0694 Q183.7019,229.6567 183.5676,229.8581 Q183.2824,230.2776 182.7957,230.2776 Q182.2923,230.2776 182.007,229.8413 Q181.8728,229.64 181.8728,228.9184 L180.2786,228.9184 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.8878" font-style="italic" lengthAdjust="spacing" textLength="90.2148" x="194.3914" y="223.8799">«enumeration»</text><text fill="#000000" font-family="sans-serif" font-size="15.0358" lengthAdjust="spacing" textLength="66.5871" x="206.2053" y="242.3201">Categoria</text></g><!--class CCamion--><g id="elem_CCamion"><rect codeline="17" fill="#FFFAFA" height="45.8625" id="CCamion" rx="2.685" ry="2.685" style="stroke:#000000;stroke-width:0.5369928400954654;" width="120.2864" x="323.2697" y="205.1313"></rect><ellipse cx="339.3795" cy="228.0625" fill="#EB937F" rx="11.8138" ry="11.8138" style="stroke:#181818;stroke-width:1.0739856801909309;"></ellipse><path d="M338.1545,228.9184 L338.1545,231.6033 L342.8028,231.6033 L342.8028,230.6133 Q342.8028,229.9588 343.0545,229.6735 Q343.323,229.3882 343.7258,229.3882 Q344.1285,229.3882 344.3802,229.6735 Q344.6319,229.9588 344.6319,230.6133 L344.6319,233.4325 L336.0401,233.4325 Q335.3688,233.4325 335.0835,233.1808 Q334.815,232.929 334.815,232.5095 Q334.815,232.1068 335.1003,231.855 Q335.3856,231.6033 336.0401,231.6033 L336.3253,231.6033 L336.3253,224.4546 L336.0401,224.4546 Q335.3688,224.4546 335.0835,224.2029 Q334.815,223.9512 334.815,223.5317 Q334.815,223.1289 335.0835,222.8772 Q335.3688,222.6255 336.0401,222.6255 L344.2292,222.6255 L344.2292,225.4111 Q344.2292,226.0656 343.9775,226.3509 Q343.7425,226.6194 343.323,226.6194 Q342.9203,226.6194 342.6686,226.3509 Q342.4168,226.0656 342.4168,225.4111 L342.4168,224.4546 L338.1545,224.4546 L338.1545,227.0892 L339.7487,227.0892 Q339.7487,226.3844 339.8829,226.1831 Q340.1682,225.7468 340.6716,225.7468 Q341.0744,225.7468 341.3261,226.032 Q341.5778,226.3005 341.5778,226.955 L341.5778,229.0694 Q341.5778,229.6567 341.4435,229.8581 Q341.1583,230.2776 340.6716,230.2776 Q340.1682,230.2776 339.8829,229.8413 Q339.7487,229.64 339.7487,228.9184 L338.1545,228.9184 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.8878" font-style="italic" lengthAdjust="spacing" textLength="90.2148" x="352.2673" y="223.8799">«enumeration»</text><text fill="#000000" font-family="sans-serif" font-size="15.0358" lengthAdjust="spacing" textLength="66.5871" x="364.0811" y="242.3201">Categoria</text></g><!--reverse link Vehiculo to Coche--><g id="link_Vehiculo_Coche"><path codeline="19" d="M187.3816,53.2466 C162.594,71.0962 138.6408,88.3353 113.8317,106.2064 " fill="none" id="Vehiculo-backto-Coche" style="stroke:#000000;stroke-width:1.0739856801909309;"></path><polygon fill="none" points="203.0692,41.9499,183.616,48.0174,191.1472,58.4758,203.0692,41.9499" style="stroke:#000000;stroke-width:1.0739856801909309;"></polygon></g><!--reverse link Coche to CCoche--><g id="link_Coche_CCoche"><path codeline="20" d="M83.6382,157.802 C79.643,175.1362 77.1981,185.7566 72.7733,204.9702 " fill="none" id="Coche-backto-CCoche" style="stroke:#000000;stroke-width:1.0739856801909309;"></path><ellipse cx="85.5679" cy="149.4297" fill="#FFFFFF" rx="8.5919" ry="8.5919" style="stroke:#000000;stroke-width:1.0739856801909309;"></ellipse><line style="stroke:#000000;stroke-width:1.0739856801909309;" x1="83.6382" x2="87.4976" y1="157.802" y2="141.0573"></line><line style="stroke:#000000;stroke-width:1.0739856801909309;" x1="77.1955" x2="93.9403" y1="147.5" y2="151.3594"></line></g><!--reverse link Vehiculo to Moto--><g id="link_Vehiculo_Moto"><path codeline="21" d="M225.537,61.5072 C225.537,79.389 225.537,88.4964 225.537,106.2816 " fill="none" id="Vehiculo-backto-Moto" style="stroke:#000000;stroke-width:1.0739856801909309;"></path><polygon fill="none" points="225.537,42.1754,219.0931,61.5072,231.9809,61.5072,225.537,42.1754" style="stroke:#000000;stroke-width:1.0739856801909309;"></polygon></g><!--reverse link Moto to CMoto--><g id="link_Moto_CMoto"><path codeline="22" d="M225.537,158.2411 C225.537,175.5752 225.537,185.7566 225.537,204.9702 " fill="none" id="Moto-backto-CMoto" style="stroke:#000000;stroke-width:1.0739856801909309;"></path><ellipse cx="225.537" cy="149.6492" fill="#FFFFFF" rx="8.5919" ry="8.5919" style="stroke:#000000;stroke-width:1.0739856801909309;"></ellipse><line style="stroke:#000000;stroke-width:1.0739856801909309;" x1="225.537" x2="225.537" y1="158.2411" y2="141.0573"></line><line style="stroke:#000000;stroke-width:1.0739856801909309;" x1="216.9451" x2="234.1289" y1="149.6492" y2="149.6492"></line></g><!--reverse link Vehiculo to Camion--><g id="link_Vehiculo_Camion"><path codeline="23" d="M264.1398,53.1314 C289.314,70.9811 313.8186,88.3353 339.0251,106.2064 " fill="none" id="Vehiculo-backto-Camion" style="stroke:#000000;stroke-width:1.0739856801909309;"></path><polygon fill="none" points="248.3699,41.9499,260.4126,58.3881,267.867,47.8748,248.3699,41.9499" style="stroke:#000000;stroke-width:1.0739856801909309;"></polygon></g><!--reverse link Camion to CCamion--><g id="link_Camion_CCamion"><path codeline="24" d="M368.9028,157.8762 C372.5329,175.2103 374.7458,185.7566 378.7733,204.9702 " fill="none" id="Camion-backto-CCamion" style="stroke:#000000;stroke-width:1.0739856801909309;"></path><ellipse cx="367.1418" cy="149.4667" fill="#FFFFFF" rx="8.5919" ry="8.5919" style="stroke:#000000;stroke-width:1.0739856801909309;"></ellipse><line style="stroke:#000000;stroke-width:1.0739856801909309;" x1="368.9028" x2="365.3807" y1="157.8762" y2="141.0573"></line><line style="stroke:#000000;stroke-width:1.0739856801909309;" x1="358.7323" x2="375.5512" y1="151.2278" y2="147.7057"></line></g><!--SRC=[ZOz1QyCm38Nl_XMYrr7eORsLGfFJ3eD1eBiLL4V49hOrP8V0VlqIEotfriDErfC-loT5ZOxWTR-3qRR9gDZRy8M27hJ364yfYRqEYTuqXyP-4-nMo4c4nveT2rGETRyQVKmIEwgcfnCUGbkmJsCJDPvxMh7rd5Inj2JFpGhmowe9F2fbR4lWoLz9OX5uMpagbM-0Cnch1yUBh5aRMkftJlSsUij1KHWyR6fCrB5Ot01Ee_m53eTvI89f0e_7v-Zi-3-o1FvXrMrTk6otox8b_sNMfV70v2DoRYQoV3Gffos1nQQqVW00]--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Coche</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Categoria</span> <span class="token punctuation">{</span> SinIdentificar<span class="token punctuation">,</span> Berlina<span class="token punctuation">,</span> Coupe<span class="token punctuation">,</span> Sedan<span class="token punctuation">,</span> Cabrio<span class="token punctuation">,</span> TodoTerreno<span class="token punctuation">,</span> MonoVolumen<span class="token punctuation">,</span> Crossover <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-object">object</span></span> <span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Coche</span><span class="token punctuation">(</span><span class="token class-name">Matricula</span> matricula<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> ocupantes<span class="token punctuation">,</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">)</span>
           <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>matricula<span class="token punctuation">,</span> color<span class="token punctuation">,</span> marca<span class="token punctuation">,</span> ocupantes<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>categoria <span class="token operator">=</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Moto</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Categoria</span> <span class="token punctuation">{</span> SinIdentificar<span class="token punctuation">,</span> Scooter<span class="token punctuation">,</span> Motocross<span class="token punctuation">,</span> Naked<span class="token punctuation">,</span> Trail<span class="token punctuation">,</span> Supermotard <span class="token punctuation">}</span>

    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-object">object</span></span> <span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Moto</span><span class="token punctuation">(</span><span class="token class-name">Matricula</span> matricula<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> ocupantes<span class="token punctuation">,</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">)</span>
           <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>matricula<span class="token punctuation">,</span> color<span class="token punctuation">,</span> marca<span class="token punctuation">,</span> ocupantes<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>categoria <span class="token operator">=</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div style="page-break-after:always;"></div>
<p>Además en la especificación de camión, añadiremos los atributos adicionales que puede identificar nuestra IA según las especificaciones.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Camion</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Categoria</span> <span class="token punctuation">{</span> SinIdentificar<span class="token punctuation">,</span> Articulado<span class="token punctuation">,</span> Frigorífico<span class="token punctuation">,</span> Cisterna<span class="token punctuation">,</span> Trailer <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> ejes<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> cargaMaximaKg<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Camion</span><span class="token punctuation">(</span><span class="token class-name">Matricula</span> matricula<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> ocupantes<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> ejes<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> cargaMaximaKg<span class="token punctuation">,</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">)</span>
        <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>matricula<span class="token punctuation">,</span> color<span class="token punctuation">,</span> marca<span class="token punctuation">,</span> ocupantes<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>ejes <span class="token operator">=</span> ejes<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>cargaMaximaKg <span class="token operator">=</span> cargaMaximaKg<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>categoria <span class="token operator">=</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-ushort">ushort</span></span> <span class="token function">GetEjes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> ejes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-ushort">ushort</span></span> <span class="token function">GetCargaMaximaKg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> cargaMaximaKg<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-object">object</span></span> <span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// En este caso el ToString sí deberemos invalidarlo, pues deberá mostrar información adicional.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$"Número de ejes: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetEjes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$"Carga Máxima: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetCargaMaximaKg</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> Kg"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></li>
<li>
<p>Por último vamos a modelar una clase para nuestra campa de vehículos. Una posible modelización para las especificaciones del enunciado y donde se ha seguido la signatura propuesta para las operaciones del objeto campa en el programa de ejemplo, podría ser la siguente...</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="216.7219px" preserveAspectRatio="none" style="width:550px;height:216px;background:#FFFFFF;" version="1.1" viewBox="0 0 550 216" width="550.9106px" zoomAndPan="magnify"><defs></defs><g><!--class CampaVehiculos--><g id="elem_CampaVehiculos"><rect codeline="9" fill="#FFFAFA" height="204.0589" id="CampaVehiculos" rx="2.2765" ry="2.2765" style="stroke:#000000;stroke-width:0.4552980132450331;" width="405.2152" x="6.3742" y="6.3742"></rect><ellipse cx="156.8502" cy="20.9437" fill="#ADD1B2" rx="10.0166" ry="10.0166" style="stroke:#181818;stroke-width:0.9105960264900662;"></ellipse><path d="M159.3685,17.1875 Q159.5108,16.9883 159.6816,16.8887 Q159.8523,16.7891 160.0515,16.7891 Q160.393,16.7891 160.6064,17.031 Q160.8198,17.2586 160.8198,17.8135 L160.8198,19.1367 Q160.8198,19.6916 160.6064,19.9335 Q160.393,20.1754 160.0515,20.1754 Q159.7385,20.1754 159.5535,19.9904 Q159.3685,19.8197 159.2689,19.3502 Q159.2263,19.0229 159.0555,18.8522 Q158.7567,18.5107 158.2018,18.3115 Q157.6469,18.1123 157.0778,18.1123 Q156.3806,18.1123 155.7973,18.4111 Q155.2282,18.7099 154.7729,19.3928 Q154.3318,20.0758 154.3318,21.0148 L154.3318,22.0108 Q154.3318,23.1348 155.1428,23.8889 Q155.9538,24.6288 157.4051,24.6288 Q158.2587,24.6288 158.8563,24.4011 Q159.212,24.2588 159.5962,23.8605 Q159.8381,23.6186 159.9661,23.5474 Q160.1084,23.4763 160.2934,23.4763 Q160.5921,23.4763 160.8198,23.7182 Q161.0617,23.9458 161.0617,24.2588 Q161.0617,24.5719 160.7487,24.9418 Q160.2934,25.4682 159.5677,25.767 Q158.586,26.1796 157.4051,26.1796 Q156.0249,26.1796 154.9294,25.6105 Q154.033,25.1552 153.407,24.1877 Q152.7809,23.206 152.7809,22.0393 L152.7809,20.9864 Q152.7809,19.777 153.3358,18.7384 Q153.905,17.6855 154.9009,17.1306 Q155.8969,16.5615 157.0209,16.5615 Q157.6896,16.5615 158.273,16.718 Q158.8706,16.8603 159.3685,17.1875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.7483" lengthAdjust="spacing" textLength="96.5232" x="175.5174" y="26.1601">CampaVehiculos</text><line style="stroke:#000000;stroke-width:0.4552980132450331;" x1="7.2848" x2="410.6788" y1="35.5132" y2="35.5132"></line><text fill="#000000" font-family="sans-serif" font-size="12.7483" lengthAdjust="spacing" text-decoration="underline" textLength="191.2252" x="11.8377" y="52.3895">+CAPACIDAD : int = 5 {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.7483" lengthAdjust="spacing" textLength="245.8609" x="11.8377" y="68.4245">-plazas : Vehiculo[CAPACIDAD] {readOnly}</text><line style="stroke:#000000;stroke-width:0.4552980132450331;" x1="7.2848" x2="410.6788" y1="74.8681" y2="74.8681"></line><text fill="#000000" font-family="sans-serif" font-size="12.7483" lengthAdjust="spacing" textLength="112.9139" x="11.8377" y="91.7443">+CampaVehiculos()</text><text fill="#000000" font-family="sans-serif" font-size="12.7483" lengthAdjust="spacing" textLength="211.2583" x="11.8377" y="107.7794">-GetPlazas() : Vehiculo[CAPACIDAD]</text><text fill="#000000" font-family="sans-serif" font-size="12.7483" lengthAdjust="spacing" textLength="162.0861" x="11.8377" y="123.8144">/+GetPlazasOcupadas() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.7483" lengthAdjust="spacing" textLength="153.8907" x="11.8377" y="139.8494">-Busca(in v : Vehiculo) : int</text><text fill="#000000" font-family="sans-serif" font-size="12.7483" lengthAdjust="spacing" textLength="136.5894" x="11.8377" y="155.8844">-BuscaPlazaVacia() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.7483" lengthAdjust="spacing" textLength="394.2881" x="11.8377" y="171.9195">+Entra(in v : Vehiculo, out plaza : int, out problema : string) : boolean</text><text fill="#000000" font-family="sans-serif" font-size="12.7483" lengthAdjust="spacing" textLength="388.8245" x="11.8377" y="187.9545">+Sale(in v : Vehiculo, out plaza : int, out problema : string) : boolean</text><text fill="#000000" font-family="sans-serif" font-size="12.7483" lengthAdjust="spacing" textLength="112.9139" x="11.8377" y="203.9895">^+ToString() : string</text></g><!--class Vehiculo--><g id="elem_Vehiculo"><rect fill="#FFFAFA" height="43.7086" id="Vehiculo" rx="2.2765" ry="2.2765" style="stroke:#000000;stroke-width:0.4552980132450331;" width="78.3113" x="466.2252" y="86.5066"></rect><ellipse cx="479.8841" cy="101.0762" fill="#ADD1B2" rx="10.0166" ry="10.0166" style="stroke:#181818;stroke-width:0.9105960264900662;"></ellipse><path d="M482.4025,97.32 Q482.5448,97.1208 482.7155,97.0212 Q482.8862,96.9216 483.0854,96.9216 Q483.4269,96.9216 483.6403,97.1634 Q483.8537,97.3911 483.8537,97.946 L483.8537,99.2692 Q483.8537,99.8241 483.6403,100.066 Q483.4269,100.3078 483.0854,100.3078 Q482.7724,100.3078 482.5874,100.1229 Q482.4025,99.9521 482.3029,99.4826 Q482.2602,99.1554 482.0895,98.9846 Q481.7907,98.6432 481.2358,98.444 Q480.6809,98.2448 480.1118,98.2448 Q479.4146,98.2448 478.8312,98.5436 Q478.2621,98.8424 477.8068,99.5253 Q477.3657,100.2082 477.3657,101.1473 L477.3657,102.1433 Q477.3657,103.2673 478.1767,104.0214 Q478.9877,104.7612 480.439,104.7612 Q481.2927,104.7612 481.8903,104.5336 Q482.246,104.3913 482.6301,103.9929 Q482.872,103.751 483.0001,103.6799 Q483.1423,103.6088 483.3273,103.6088 Q483.6261,103.6088 483.8537,103.8506 Q484.0956,104.0783 484.0956,104.3913 Q484.0956,104.7043 483.7826,105.0742 Q483.3273,105.6007 482.6017,105.8995 Q481.6199,106.3121 480.439,106.3121 Q479.0589,106.3121 477.9633,105.743 Q477.0669,105.2877 476.4409,104.3202 Q475.8149,103.3384 475.8149,102.1717 L475.8149,101.1188 Q475.8149,99.9095 476.3698,98.8708 Q476.9389,97.8179 477.9349,97.263 Q478.9308,96.6939 480.0548,96.6939 Q480.7236,96.6939 481.3069,96.8504 Q481.9045,96.9927 482.4025,97.32 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.7483" lengthAdjust="spacing" textLength="49.1722" x="492.6325" y="106.2925">Vehiculo</text><line style="stroke:#000000;stroke-width:0.4552980132450331;" x1="467.1358" x2="543.6258" y1="115.6457" y2="115.6457"></line><line style="stroke:#000000;stroke-width:0.4552980132450331;" x1="467.1358" x2="543.6258" y1="122.9305" y2="122.9305"></line></g><!--reverse link CampaVehiculos to Vehiculo--><g id="link_CampaVehiculos_Vehiculo"><path codeline="23" d="M422.5985,108.3609 C442.9503,108.3609 450.7632,108.3609 465.9884,108.3609 " fill="none" id="CampaVehiculos-backto-Vehiculo" style="stroke:#000000;stroke-width:0.9105960264900662;"></path><polygon fill="none" points="411.6714,108.3609,417.1349,112.0033,422.5985,108.3609,417.1349,104.7185,411.6714,108.3609" style="stroke:#000000;stroke-width:0.9105960264900662;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11.8377" lengthAdjust="spacing" textLength="20.0331" x="439.0072" y="121.6965">0..5</text></g><!--SRC=[hP8xRy8m481t_ueJ4oY5icIfr249LSK4KYewLArqE6vYuVWYsoagYF_Un04K7cCdotVVVNT-M8vAG1XEOIipLp0blXqu0YFpma4cZU1EacPs8tM51alW2gsDd3DoNJinvwHJkHCmxI6HCRHDI961M27Vz5BBPekvY9ibDrJhhCFU2-b4Mj96zDYaxHIJoOIvB-k0ArMgQSi0WFb18S6omfKe9AyLMRPlKx2t3fta1mYIQ1abyraqWoUGsi4pXB0t0hE5Lhy73uyhXJkq3N3IV9ohFg_XuBBVSDGfNeLRUijmTD_ZiSVWp2ruNM5sv9l1EarSMuv3gU6dPxabl6A5NEAf7BhXNhGpD_KFGBK3VyWEFWOChPKesvXj7bldhMfDf0JgpfOsN-U_P5_16wK-uqVk87PWxF8-WSPZ64mdat1mRid-0000]--></g></svg></p><p>Veamos la implementación comentada ....</p>
 <div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">CampaVehiculos</span>
<span class="token punctuation">{</span>
    <span class="token comment">// campo de clase y de solo lectura con un valor literal en C# se define con un const</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> CAPACIDAD <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token comment">// El array aunque sea del tipo Vehiculo, realmente va a representar las 5 plazas</span>
    <span class="token comment">// disponibles en la campa. Si hay un null significará que la plaza está vacía y </span>
    <span class="token comment">// si hay un objeto Vehiculo la plaza estará ocupada.</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Vehiculo<span class="token punctuation">?</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> plazas<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">CampaVehiculos</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        plazas <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Vehiculo</span><span class="token punctuation">[</span>CAPACIDAD<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Vehiculo<span class="token punctuation">?</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> plazas<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Es un accesor calculado que me indica el número de plazas que contienen un vehículo.</span>
    <span class="token comment">// Nota: Por eso lo hemos marcado con la / delante del nombre del método en el diagrama UML.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetPlazasOcupadas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> ocupadas <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v <span class="token keyword keyword-in">in</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>v <span class="token operator">!=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> ocupadas<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> ocupadas<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Implementación de la especificación del Busca</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">Busca</span><span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword keyword-return">return</span> i<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Implementación de la especificación del BuscaPlazaVacia</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">BuscaPlazaVacia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
                <span class="token keyword keyword-return">return</span> i<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Operación de entrada de un vehículo en un ojeto campa.</span>
    <span class="token comment">// Devolverá un booleano indicándome si el vehículo ha podido entrar o no</span>
    <span class="token comment">// y dos valores subordinados al mismo:</span>
    <span class="token comment">// - Si retorna true en plaza nos indicará la plaza de 1 a 5 donde a entrado.</span>
    <span class="token comment">// - Si retorna false en problema nos indicará el problema por el que no ha podido entrar.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">Entra</span><span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> plaza<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-string">string</span><span class="token punctuation">?</span></span> problema<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Compruebo que haya espacio en la campa.</span>
        <span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> entra <span class="token operator">=</span> <span class="token function">GetPlazasOcupadas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> CAPACIDAD<span class="token punctuation">;</span>
        plaza <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        problema <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>entra<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Si hay espacio compruebo que el vehículo no esté ya registrado.</span>
            <span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token function">Busca</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
            entra <span class="token operator">=</span> i <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>entra<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token comment">// Si no está registrado busco la primera plaza vacía para aparcarlo</span>
                plaza <span class="token operator">=</span> <span class="token function">BuscaPlazaVacia</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>plaza <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword keyword-else">else</span>
                problema <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$"Ya se encuentra en el aparcamiento el vehículo </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-else">else</span>
            problema <span class="token operator">=</span> <span class="token string">"Aparcamiento lleno"</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> entra<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token comment">// Operación análoga y contrária a la de Entra.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">Sale</span><span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> plaza<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-string">string</span><span class="token punctuation">?</span></span> problema<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Compruebo que al menos haya un vehículo aparcado.</span>
        <span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> sale <span class="token operator">=</span> <span class="token function">GetPlazasOcupadas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
        problema <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>
        plaza <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>sale<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Compruebo que el vehículo que deseamos que salga estaba registrado como aparcado.</span>
            <span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token function">Busca</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
            sale <span class="token operator">=</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>sale<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token comment">// Dejo su plaza vacía asignándole null.</span>
                plaza <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword keyword-else">else</span>
                problema <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$"No se registró la entrada del vehículo </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-else">else</span>
            problema <span class="token operator">=</span> <span class="token string">"Aparcamiento vacío"</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-return">return</span> sale<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> texto <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">"\nVehículos en el aparcamiento...\n\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Es importante tener en cuenta que en el array puede haber plazas sin vehículo (a null)</span>
            texto<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Plaza </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">i <span class="token operator">+</span> <span class="token number">1</span></span><span class="token punctuation">}</span></span><span class="token string">:\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">?.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string">"Vacía"</span></span><span class="token punctuation">}</span></span><span class="token string">\n\n"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-return">return</span> texto<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ol>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">Software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification.</div>
        <div class="autor">- Bertrand Mayer.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<h3>Abstracción</h3>
<h4>Concepto de clase asbtracta</h4>
<ul>
<li>En la mayoría de los casos, al buscar el polimorfismo con la herencia se nos darán <strong>superclases que no tienen sentido como objetos</strong>.</li>
<li>A este tipo de clases se les denominará <strong>Clases Abstractas</strong> y de las mismas <strong>no podremos definir objetos</strong>, y sí objetos para sus subclases.</li>
</ul>
<p align="center" style="zoom:0.85" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="396pt" height="260pt" viewBox="0.00 0.00 396.40 260.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 256)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-256 392.4,-256 392.4,4 -4,4"></polygon>
<!-- f -->
<g id="node1" class="node">
<title>f</title>
<polygon fill="none" stroke="black" stroke-dasharray="5,2" points="195.58,-144.15 199,-144.44 202.39,-144.89 205.73,-145.47 209.01,-146.21 212.22,-147.08 215.33,-148.09 218.34,-149.24 221.25,-150.53 224.02,-151.94 226.67,-153.48 229.17,-155.14 231.53,-156.92 233.72,-158.82 235.75,-160.82 237.61,-162.92 239.3,-165.12 240.8,-167.4 242.13,-169.78 243.28,-172.22 244.24,-174.74 245.01,-177.33 245.61,-179.97 246.02,-182.66 246.26,-185.39 246.33,-188.16 246.22,-190.95 245.95,-193.76 245.52,-196.59 244.94,-199.41 244.21,-202.24 243.34,-205.05 242.33,-207.84 241.2,-210.61 239.95,-213.34 238.59,-216.03 237.13,-218.67 235.57,-221.26 233.93,-223.78 232.2,-226.22 230.4,-228.6 228.53,-230.88 226.6,-233.08 224.62,-235.18 222.59,-237.18 220.51,-239.08 218.4,-240.86 216.26,-242.52 214.09,-244.06 211.9,-245.47 209.68,-246.76 207.45,-247.91 205.2,-248.92 202.94,-249.79 200.67,-250.53 198.4,-251.11 196.12,-251.56 193.83,-251.85 191.54,-252 189.26,-252 186.97,-251.85 184.68,-251.56 182.4,-251.11 180.13,-250.53 177.86,-249.79 175.6,-248.92 173.35,-247.91 171.12,-246.76 168.9,-245.47 166.71,-244.06 164.54,-242.52 162.4,-240.86 160.29,-239.08 158.21,-237.18 156.18,-235.18 154.2,-233.08 152.27,-230.88 150.4,-228.6 148.6,-226.22 146.87,-223.78 145.23,-221.26 143.67,-218.67 142.21,-216.03 140.85,-213.34 139.6,-210.61 138.47,-207.84 137.46,-205.05 136.59,-202.24 135.86,-199.41 135.28,-196.59 134.85,-193.76 134.58,-190.95 134.47,-188.16 134.54,-185.39 134.78,-182.66 135.19,-179.97 135.79,-177.33 136.56,-174.74 137.52,-172.22 138.67,-169.78 140,-167.4 141.5,-165.12 143.19,-162.92 145.05,-160.82 147.08,-158.82 149.27,-156.92 151.63,-155.14 154.13,-153.48 156.78,-151.94 159.55,-150.53 162.46,-149.24 165.47,-148.09 168.58,-147.08 171.79,-146.21 175.07,-145.47 178.41,-144.89 181.8,-144.44 185.22,-144.15 188.67,-144 192.13,-144 195.58,-144.15"></polygon>
<text text-anchor="middle" x="190.4" y="-210.6" font-family="Arial" font-size="14.00">Figura</text>
<text text-anchor="middle" x="190.4" y="-193.8" font-family="Arial" font-size="14.00">Geométrica</text>
<text text-anchor="middle" x="190.4" y="-177" font-family="Arial" font-size="14.00">???</text>
</g>
<!-- cu -->
<g id="node2" class="node">
<title>cu</title>
<polygon fill="#8b1a1a" stroke="black" points="100.8,-104.4 0,-104.4 0,-3.6 100.8,-3.6 100.8,-104.4"></polygon>
<text text-anchor="middle" x="50.4" y="-49.8" font-family="Arial" font-size="14.00" fill="white">Cuadrado</text>
</g>
<!-- f&#45;&#45;cu -->
<g id="edge1" class="edge">
<title>f--cu</title>
<path fill="none" stroke="black" d="M149.91,-155.93C134.16,-139.96 115.97,-121.51 99.49,-104.79"></path>
</g>
<!-- ti -->
<g id="node3" class="node">
<title>ti</title>
<polygon fill="navy" stroke="black" points="190.4,-104.4 118.4,-54 190.4,-3.6 262.4,-54 190.4,-104.4"></polygon>
<text text-anchor="middle" x="190.4" y="-49.8" font-family="Arial" font-size="14.00" fill="white">Rombo</text>
</g>
<!-- f&#45;&#45;ti -->
<g id="edge2" class="edge">
<title>f--ti</title>
<path fill="none" stroke="black" d="M190.4,-143.72C190.4,-130.97 190.4,-117.41 190.4,-104.82"></path>
</g>
<!-- ci -->
<g id="node4" class="node">
<title>ci</title>
<ellipse fill="darkgreen" stroke="black" cx="334.4" cy="-54" rx="54" ry="54"></ellipse>
<text text-anchor="middle" x="334.4" y="-49.8" font-family="Arial" font-size="14.00" fill="white">Círculo</text>
</g>
<!-- f&#45;&#45;ci -->
<g id="edge3" class="edge">
<title>f--ci</title>
<path fill="none" stroke="black" d="M231.28,-156.69C251.73,-136.52 276.34,-112.25 296.38,-92.49"></path>
</g>
</g>
</svg>
</p><p>✋ En la POO tradicional diremos que:</p>
<ul>
<li>Cómo hemos comentado, no podremos <strong>instanciar objetos</strong> de una clase abstracta, pues no tiene sentido la existencia de dicha abstracción sin una especificación.</li>
<li>Deberían, pero no es necesario, tener <strong>al menos un campo</strong> (atributo) común a todas las subclases.</li>
<li>Deberían, pero no es necesario, tener <strong>al menos un método abstracto o virtual puro</strong>.
<ul>
<li>Un <strong>método abstracto</strong> o virtual puro no definirá o tendrá un '<em>cuerpo de método</em>' y por tanto dejaremos su implementación en manos de las subclases o especificaciones.</li>
<li>Este método abstracto deberá ser redefinido <strong>obligatoriamente</strong> en la subclases.</li>
</ul>
</li>
<li>A las clases abstractas con <strong>todos sus métodos abstractos</strong> se les denomina <em>'<strong>clases abstractas puras</strong>'</em>.</li>
</ul>
<p>Un posible modelo de clases para representar la jerarquía de figuras representada en el diagrama anterior podría ser el siguiente:</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="421.1903px" preserveAspectRatio="none" style="width:900px;height:421px;background:#FFFFFF;" version="1.1" viewBox="0 0 900 421" width="900.8115px" zoomAndPan="magnify"><defs></defs><g><!--class Cuadrado--><g id="elem_Cuadrado"><rect codeline="12" fill="#FFFAFA" height="138.9892" id="Cuadrado" rx="2.0289" ry="2.0289" style="stroke:#000000;stroke-width:0.40577096483318303;" width="256.4472" x="5.6808" y="248.7376"></rect><ellipse cx="104.8918" cy="261.7223" fill="#ADD1B2" rx="8.927" ry="8.927" style="stroke:#181818;stroke-width:0.8115419296663661;"></ellipse><path d="M107.1362,258.3747 Q107.263,258.1971 107.4152,258.1084 Q107.5673,258.0196 107.7449,258.0196 Q108.0492,258.0196 108.2394,258.2352 Q108.4296,258.4381 108.4296,258.9326 L108.4296,260.1119 Q108.4296,260.6064 108.2394,260.822 Q108.0492,261.0375 107.7449,261.0375 Q107.4659,261.0375 107.3011,260.8727 Q107.1362,260.7205 107.0475,260.3021 Q107.0094,260.0104 106.8572,259.8583 Q106.591,259.5539 106.0964,259.3764 Q105.6019,259.1989 105.0947,259.1989 Q104.4733,259.1989 103.9534,259.4652 Q103.4462,259.7315 103.0405,260.3401 Q102.6474,260.9488 102.6474,261.7857 L102.6474,262.6733 Q102.6474,263.675 103.3702,264.3471 Q104.0929,265.0065 105.3863,265.0065 Q106.1471,265.0065 106.6797,264.8036 Q106.9967,264.6768 107.3391,264.3217 Q107.5547,264.1062 107.6688,264.0428 Q107.7956,263.9794 107.9604,263.9794 Q108.2267,263.9794 108.4296,264.1949 Q108.6452,264.3978 108.6452,264.6768 Q108.6452,264.9558 108.3662,265.2854 Q107.9604,265.7546 107.3137,266.0209 Q106.4388,266.3886 105.3863,266.3886 Q104.1563,266.3886 103.1799,265.8814 Q102.3811,265.4757 101.8232,264.6134 Q101.2652,263.7384 101.2652,262.6987 L101.2652,261.7603 Q101.2652,260.6825 101.7597,259.7568 Q102.267,258.8185 103.1546,258.3239 Q104.0422,257.8167 105.044,257.8167 Q105.6399,257.8167 106.1598,257.9562 Q106.6924,258.083 107.1362,258.3747 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="51.1271" x="121.5284" y="266.3712">Cuadrado</text><line style="stroke:#000000;stroke-width:0.40577096483318303;" x1="6.4923" x2="261.3165" y1="274.7069" y2="274.7069"></line><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="91.7042" x="10.55" y="289.7474">-lado_cm : double</text><line style="stroke:#000000;stroke-width:0.40577096483318303;" x1="6.4923" x2="261.3165" y1="295.49" y2="295.49"></line><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="188.2777" x="10.55" y="310.5305">+SetLado(in lado_cm : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="101.4427" x="10.55" y="324.8212">-GetLado() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="246.7087" x="10.55" y="339.112">+Cuadrado(in color : Color, in lado_cm : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="87.6465" x="10.55" y="353.4027">^+Area() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="112.8043" x="10.55" y="367.6935">^+Perimetro() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="100.6312" x="10.55" y="381.9842">^+ToString() : string</text></g><!--class Rombo--><g id="elem_Rombo"><rect codeline="23" fill="#FFFAFA" height="196.1522" id="Rombo" rx="2.0289" ry="2.0289" style="stroke:#000000;stroke-width:0.40577096483318303;" width="330.2976" x="290.9378" y="219.9279"></rect><ellipse cx="434.3778" cy="232.9125" fill="#ADD1B2" rx="8.927" ry="8.927" style="stroke:#181818;stroke-width:0.8115419296663661;"></ellipse><path d="M436.6222,229.5649 Q436.749,229.3874 436.9012,229.2986 Q437.0534,229.2099 437.2309,229.2099 Q437.5352,229.2099 437.7254,229.4254 Q437.9156,229.6283 437.9156,230.1229 L437.9156,231.3021 Q437.9156,231.7967 437.7254,232.0122 Q437.5352,232.2278 437.2309,232.2278 Q436.9519,232.2278 436.7871,232.063 Q436.6222,231.9108 436.5335,231.4923 Q436.4954,231.2007 436.3433,231.0485 Q436.077,230.7442 435.5825,230.5667 Q435.0879,230.3891 434.5807,230.3891 Q433.9594,230.3891 433.4395,230.6554 Q432.9323,230.9217 432.5265,231.5304 Q432.1334,232.139 432.1334,232.9759 L432.1334,233.8636 Q432.1334,234.8653 432.8562,235.5374 Q433.579,236.1967 434.8724,236.1967 Q435.6332,236.1967 436.1657,235.9939 Q436.4828,235.8671 436.8251,235.512 Q437.0407,235.2964 437.1548,235.233 Q437.2816,235.1696 437.4465,235.1696 Q437.7127,235.1696 437.9156,235.3852 Q438.1312,235.5881 438.1312,235.8671 Q438.1312,236.146 437.8522,236.4757 Q437.4465,236.9449 436.7998,237.2112 Q435.9248,237.5789 434.8724,237.5789 Q433.6424,237.5789 432.666,237.0717 Q431.8671,236.6659 431.3092,235.8037 Q430.7512,234.9287 430.7512,233.8889 L430.7512,232.9506 Q430.7512,231.8727 431.2458,230.9471 Q431.753,230.0087 432.6406,229.5142 Q433.5282,229.007 434.53,229.007 Q435.126,229.007 435.6459,229.1465 Q436.1784,229.2733 436.6222,229.5649 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="36.5194" x="451.0144" y="237.5615">Rombo</text><line style="stroke:#000000;stroke-width:0.40577096483318303;" x1="291.7493" x2="620.4238" y1="245.8972" y2="245.8972"></line><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="120.1082" x="295.807" y="260.9377">-diagonal1_cm : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="120.1082" x="295.807" y="275.2284">-diagonal2_cm : double</text><line style="stroke:#000000;stroke-width:0.40577096483318303;" x1="291.7493" x2="620.4238" y1="280.971" y2="280.971"></line><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="198.8278" x="295.807" y="296.0115">+SetDiagonal1(in d_cm : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="127.4121" x="295.807" y="310.3023">-GetDiagonal1() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="198.8278" x="295.807" y="324.593">+SetDiagonal2(in d_cm : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="127.4121" x="295.807" y="338.8837">-GetDiagonal2() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="104.6889" x="295.807" y="353.1745">/-GetLado() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="320.5591" x="295.807" y="367.4652">+Rombo(in color : Color, in d1_cm : double, in d2_cm : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="87.6465" x="295.807" y="381.756">^+Area() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="112.8043" x="295.807" y="396.0467">^+Perimetro() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="100.6312" x="295.807" y="410.3375">^+ToString() : string</text></g><!--class Circulo--><g id="elem_Circulo"><rect codeline="38" fill="#FFFAFA" height="138.9892" id="Circulo" rx="2.0289" ry="2.0289" style="stroke:#000000;stroke-width:0.40577096483318303;" width="245.0857" x="650.0451" y="248.7376"></rect><ellipse cx="751.2849" cy="261.7223" fill="#ADD1B2" rx="8.927" ry="8.927" style="stroke:#181818;stroke-width:0.8115419296663661;"></ellipse><path d="M753.5294,258.3747 Q753.6562,258.1971 753.8083,258.1084 Q753.9605,258.0196 754.138,258.0196 Q754.4423,258.0196 754.6326,258.2352 Q754.8228,258.4381 754.8228,258.9326 L754.8228,260.1119 Q754.8228,260.6064 754.6326,260.822 Q754.4423,261.0375 754.138,261.0375 Q753.8591,261.0375 753.6942,260.8727 Q753.5294,260.7205 753.4406,260.3021 Q753.4026,260.0104 753.2504,259.8583 Q752.9841,259.5539 752.4896,259.3764 Q751.995,259.1989 751.4878,259.1989 Q750.8665,259.1989 750.3466,259.4652 Q749.8394,259.7315 749.4336,260.3401 Q749.0405,260.9488 749.0405,261.7857 L749.0405,262.6733 Q749.0405,263.675 749.7633,264.3471 Q750.4861,265.0065 751.7795,265.0065 Q752.5403,265.0065 753.0729,264.8036 Q753.3899,264.6768 753.7322,264.3217 Q753.9478,264.1062 754.0619,264.0428 Q754.1887,263.9794 754.3536,263.9794 Q754.6199,263.9794 754.8228,264.1949 Q755.0383,264.3978 755.0383,264.6768 Q755.0383,264.9558 754.7594,265.2854 Q754.3536,265.7546 753.7069,266.0209 Q752.8319,266.3886 751.7795,266.3886 Q750.5495,266.3886 749.5731,265.8814 Q748.7742,265.4757 748.2163,264.6134 Q747.6584,263.7384 747.6584,262.6987 L747.6584,261.7603 Q747.6584,260.6825 748.1529,259.7568 Q748.6601,258.8185 749.5477,258.3239 Q750.4354,257.8167 751.4371,257.8167 Q752.0331,257.8167 752.553,257.9562 Q753.0856,258.083 753.5294,258.3747 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="35.7078" x="767.9216" y="266.3712">Circulo</text><line style="stroke:#000000;stroke-width:0.40577096483318303;" x1="650.8566" x2="894.3192" y1="274.7069" y2="274.7069"></line><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="95.7619" x="654.9143" y="289.7474">-radio_cm : double</text><line style="stroke:#000000;stroke-width:0.40577096483318303;" x1="650.8566" x2="894.3192" y1="295.49" y2="295.49"></line><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="196.3931" x="654.9143" y="310.5305">+SetRadio(in radio_cm : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="105.5005" x="654.9143" y="324.8212">-GetRadio() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="235.3472" x="654.9143" y="339.112">+Circulo(in color : Color, in radio_cm : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="87.6465" x="654.9143" y="353.4027">^+Area() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="112.8043" x="654.9143" y="367.6935">^+Perimetro() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="100.6312" x="654.9143" y="381.9842">^+ToString() : string</text></g><!--class Color--><g id="elem_Color"><rect codeline="50" fill="#FFFAFA" height="119.0938" id="Color" rx="2.0289" ry="2.0289" style="stroke:#000000;stroke-width:0.40577096483318303;" width="90.8927" x="586.7448" y="20.6943"></rect><ellipse cx="598.9179" cy="38.022" fill="#EB937F" rx="8.927" ry="8.927" style="stroke:#181818;stroke-width:0.8115419296663661;"></ellipse><path d="M597.9923,38.6687 L597.9923,40.6976 L601.5047,40.6976 L601.5047,39.9494 Q601.5047,39.4549 601.6949,39.2393 Q601.8978,39.0238 602.2022,39.0238 Q602.5065,39.0238 602.6967,39.2393 Q602.8869,39.4549 602.8869,39.9494 L602.8869,42.0797 L596.3946,42.0797 Q595.8873,42.0797 595.6718,41.8895 Q595.4689,41.6993 595.4689,41.3823 Q595.4689,41.078 595.6845,40.8878 Q595.9,40.6976 596.3946,40.6976 L596.6101,40.6976 L596.6101,35.2957 L596.3946,35.2957 Q595.8873,35.2957 595.6718,35.1055 Q595.4689,34.9153 595.4689,34.5983 Q595.4689,34.294 595.6718,34.1038 Q595.8873,33.9136 596.3946,33.9136 L602.5826,33.9136 L602.5826,36.0185 Q602.5826,36.513 602.3924,36.7286 Q602.2148,36.9315 601.8978,36.9315 Q601.5935,36.9315 601.4033,36.7286 Q601.2131,36.513 601.2131,36.0185 L601.2131,35.2957 L597.9923,35.2957 L597.9923,37.2865 L599.1969,37.2865 Q599.1969,36.754 599.2984,36.6018 Q599.5139,36.2721 599.8943,36.2721 Q600.1987,36.2721 600.3889,36.4877 Q600.5791,36.6906 600.5791,37.1851 L600.5791,38.7828 Q600.5791,39.2266 600.4776,39.3788 Q600.2621,39.6958 599.8943,39.6958 Q599.5139,39.6958 599.2984,39.3661 Q599.1969,39.214 599.1969,38.6687 L597.9923,38.6687 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.7385" font-style="italic" lengthAdjust="spacing" textLength="68.1695" x="608.6564" y="34.8614">«enumeration»</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="27.5924" x="628.945" y="48.7955">Color</text><line style="stroke:#000000;stroke-width:0.40577096483318303;" x1="587.5564" x2="676.826" y1="55.3497" y2="55.3497"></line><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="26.7809" x="591.6141" y="70.3902">Rojo,</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="24.3463" x="591.6141" y="84.6809">Azul,</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="34.0848" x="591.6141" y="98.9717">Verde,</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="43.0117" x="591.6141" y="113.2624">Naranja,</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="9.7385" x="591.6141" y="127.5532">...</text><line style="stroke:#000000;stroke-width:0.40577096483318303;" x1="587.5564" x2="676.826" y1="133.2958" y2="133.2958"></line></g><!--class FG--><g id="elem_FG"><rect codeline="59" fill="#FFFAFA" height="149.7168" id="FG" rx="2.0289" ry="2.0289" style="stroke:#000000;stroke-width:0.40577096483318303;" width="171.2353" x="370.4689" y="5.6808"></rect><ellipse cx="427.8855" cy="24.0292" fill="#A9DCDF" rx="8.927" ry="8.927" style="stroke:#181818;stroke-width:0.8115419296663661;"></ellipse><path d="M429.6607,25.4621 L426.3004,25.4621 L425.9581,26.299 L426.3004,26.299 Q426.795,26.299 427.0105,26.4892 Q427.2261,26.6794 427.2261,26.9964 Q427.2261,27.3008 427.0105,27.491 Q426.795,27.6812 426.3004,27.6812 L424.4364,27.6812 Q423.9419,27.6812 423.739,27.491 Q423.5234,27.3008 423.5234,26.9838 Q423.5234,26.6794 423.7517,26.4892 Q423.9673,26.2864 424.4745,26.299 L426.6428,20.8972 L425.7425,20.8972 Q425.248,20.8972 425.0324,20.707 Q424.8168,20.5168 424.8168,20.1998 Q424.8168,19.8955 425.0324,19.7053 Q425.248,19.515 425.7425,19.515 L428.7224,19.515 L431.474,26.299 Q431.9559,26.299 432.108,26.4132 Q432.425,26.6287 432.425,26.9964 Q432.425,27.3008 432.2095,27.491 Q432.0066,27.6812 431.5121,27.6812 L429.6481,27.6812 Q429.1535,27.6812 428.938,27.491 Q428.7224,27.3008 428.7224,26.9838 Q428.7224,26.6794 428.938,26.4892 Q429.1535,26.299 429.6481,26.299 L429.9904,26.299 L429.6607,25.4621 Z M429.0774,24.08 L427.9742,21.341 L426.8584,24.08 L429.0774,24.08 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.3616" font-style="italic" lengthAdjust="spacing" textLength="33.2732" x="452.6375" y="21.5328">Figura</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" font-style="italic" lengthAdjust="spacing" textLength="49.5041" x="444.5221" y="35.8236">{abstract}</text><line style="stroke:#000000;stroke-width:0.40577096483318303;" x1="371.2804" x2="540.8927" y1="42.3777" y2="42.3777"></line><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="66.5464" x="375.3381" y="57.4182">-color : Color</text><line style="stroke:#000000;stroke-width:0.40577096483318303;" x1="371.2804" x2="540.8927" y1="63.1608" y2="63.1608"></line><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="95.7619" x="375.3381" y="78.2013">-GetColor() : Color</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="161.4968" x="375.3381" y="92.492">+SetColor(in color: Color) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="119.2967" x="375.3381" y="106.7828">#Figura(in color: Color)</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" font-style="italic" lengthAdjust="spacing" textLength="136.339" x="375.3381" y="121.0735">+Area() : double {abstract}</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" font-style="italic" lengthAdjust="spacing" textLength="161.4968" x="375.3381" y="135.3642">+Perimetro() : double {abstract}</text><text fill="#000000" font-family="sans-serif" font-size="11.3616" lengthAdjust="spacing" textLength="100.6312" x="375.3381" y="149.655">^+ToString() : string</text></g><polygon fill="none" points="456.0866,155.3976,461.7674,171.6284,450.4058,171.6284" style="stroke:#000000;stroke-width:0.8115419296663661;"></polygon><line style="stroke:#000000;stroke-width:0.8115419296663661;" x1="456.0866" x2="456.0866" y1="171.6284" y2="172.0469"></line><line style="stroke:#000000;stroke-width:0.8115419296663661;" x1="541.7042" x2="571.2281" y1="80.393" y2="80.3427"></line><!--reverse link FG to Cuadrado--><g id="link_FG_Cuadrado"><path codeline="71" d="M456.0866,172.0469 C456.0866,172.0469 351.7385,185.5591 276.7358,219.9279 C259.2714,227.9297 241.6123,238.0171 224.9513,248.6483 " fill="none" id="FG-backto-Cuadrado" style="stroke:#000000;stroke-width:0.8115419296663661;"></path></g><!--reverse link FG to Rombo--><g id="link_FG_Rombo"><path codeline="72" d="M456.0866,172.0469 C456.0866,172.0469 456.0866,193.3336 456.0866,219.6114 " fill="none" id="FG-backto-Rombo" style="stroke:#000000;stroke-width:0.8115419296663661;"></path></g><!--reverse link FG to Circulo--><g id="link_FG_Circulo"><path codeline="73" d="M456.0866,172.0469 C456.0866,172.0469 560.7592,184.8449 635.4373,219.9279 C652.3499,227.8729 669.3841,237.936 685.4121,248.5509 " fill="none" id="FG-backto-Circulo" style="stroke:#000000;stroke-width:0.8115419296663661;"></path></g><!--reverse link FG to Color--><g id="link_FG_Color"><path codeline="74" d="M571.2281,80.3427 C580.6583,80.3427 577.1118,80.3427 586.55,80.3427 " fill="none" id="FG-backto-Color" style="stroke:#000000;stroke-width:0.8115419296663661;"></path><ellipse cx="564.7358" cy="80.3427" fill="#FFFFFF" rx="6.4923" ry="6.4923" style="stroke:#000000;stroke-width:0.8115419296663661;"></ellipse><line style="stroke:#000000;stroke-width:0.8115419296663661;" x1="571.2281" x2="558.2435" y1="80.3427" y2="80.3427"></line><line style="stroke:#000000;stroke-width:0.8115419296663661;" x1="564.7358" x2="564.7358" y1="86.835" y2="73.8503"></line></g><!--SRC=[jLHTQzim57tNhxXhOQoaoLANFQmj1SUZfJ16YSFwKZ8KINFKo5AHvGLQ-j-d3plnLyOUjhpuNfsZ8vqJIUye-yabWtYMBkPnie3tnsVH-ILU5KPZObptwHAXWc31uFDq2bjEpHeL6owViSOv486B8ZP6yrLfs1rHCkKl3AODIgorsYPAA0qpWScc0TtR5cTiPZ-PLgMaWVQmveQbkTgm1ZTnAysKfamFYmL2HogLQjlWEEZvJgwPvWPBmk0S8My1aX9JZQb2hmZiRoni_OFaS05KbIl1a1yUfSnyjSW7Bg7BEB7LByLfc7zR4K_s2bwWNiSf4B_52_1RFOKXJJzfEOermrsfvUZUsiYPqQeFBLHg_nEPUQJm9NghhCvLljhvf1ndIc9nrZBRWgBX7BxKCvqL-iSazjHk70sTwEzregxEnuDvUxF3OTEMvp0K_VVq4wv9ANRvsxF03noqkOFSrdkSNZ21sZjhOQbXzttHV-iMCLdcOJsukd8DqzXm9Q-lA-zpzQHEVHM_b29KtvczuA7yPc-iVCAXcKmcJhD-cCAx0pUtW0iukk5PgV6ZVAtXjwCwtfPljClBjtw_0QWZ3-DrNXNQIliuBDRZU72_0UZ6k7jYUyIXPDliWn5R_ylnUFzsLNsuu3LOdJVRZiQLtTy0]--></g></svg></p><blockquote>
<p><strong>Nota:</strong> Fíjate que en el diagrama UML hemos indicado que la clase es abstracta, además de usando el modificador <strong><code>{abstract}</code></strong> hemos puesto en <em>cursiva</em> el nombre, y en los métodos virtuales puros o abstractos además de la cursiva hemos pusto el modificador <strong><code>{abstract}</code></strong>. Aunque, la cursiva ya no es necesaria a partir de la versión 2.5 de UML aún sigue siendo ámpliamente usada.</p>
</blockquote>
<h4>Clases asbtractas en C#</h4>
<p>La sintáxis será muy similar a la de la herencia, pero ampliando las condiciones que hemos descrito con anterioridad.</p>
<p>Vamos a ver la sintaxis a través de la implementación de nuestro ejemplo con figuras.</p>
<ol>
<li>
<p>En primer lugar vamos a implementar la clase abstracta <strong><code>Figura</code></strong>.</p>
<ul>
<li><strong>(<em>línea 1</em>)</strong>: Definimos la clase anteponiendo el modificador <strong><code>abstract</code></strong></li>
<li><strong>(<em>línea 4</em>)</strong>: Podemos añadir como con en la herencia un campo común a todas las especificaciones que en este caso es el <strong><code>color</code></strong>.</li>
<li><strong>(<em>líneas 19 y 20</em>)</strong>: Aquellos métodos que no podemos implementar hasta que no sepamos la especificación, les anteponemos el modificador <strong><code>abstract</code></strong> y los dejaremos sin implementar.</li>
<li><strong>(<em>línea 14</em>)</strong>: Los constructores que definamos pueden ser <strong><code>protected</code></strong> pues solo tiene sentido usarlos desde las subclases.<br>
Nunca podré hacer un <strong><code>Figura f = new Figura(Figura.Rojo);</code></strong></li>
<li><strong>(<em>línea 24</em>)</strong>: Los datos disponibles en <strong><code>Figura</code></strong>, serán responsabilidad de la clase, para así no repetir código en las especificaciones y mantener al máximo la encapsulación (Ej. <strong><code>GetColor()</code></strong> es privado poque es <strong><code>Figura</code></strong> quien se encarga de componer el dato).
<blockquote>
<p>✋ <strong>Importante:</strong> Pero, ¿Cómo puede ser que desde aquí se llama a <strong><code>Area()</code></strong> o <strong><code>Perimetro()</code></strong> si no están implementados?<br>
Son métodos de <strong><code>Figura</code></strong> y por tanto accesibles desde ella. Además, estoy seguro de que cuando se instáncie un objeto, será una especificación y por tanto se producirá un enlace dinámico a un método de la especificación donde estaremos obligados a implementarlo (invalidar).</p>
</blockquote>
</li>
</ul>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Figura</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Color</span> <span class="token punctuation">{</span> Rojo<span class="token punctuation">,</span> Azul<span class="token punctuation">,</span> Verde<span class="token punctuation">,</span> Naranja <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Color</span> color<span class="token punctuation">;</span>

    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Color</span> <span class="token function">GetColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> color<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetColor</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span> <span class="token punctuation">}</span>        
    <span class="token keyword keyword-protected">protected</span> <span class="token function">Figura</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetColor</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Color: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\nArea: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string"> cm2\nPerímetro: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></li>
<li>
<p>Implementación de las especificaciones (subclases)</p>
<ul>
<li><strong>(<em>líneas 11 y 12</em>)</strong>: Estaremos <strong>obligados</strong> a invalidar los métodos <strong>abstractos</strong> o virtuales puros.</li>
<li><strong>(<em>línea 15</em>)</strong>: Le pedimos a figura la información común aunque en relidad para ello llame a los métodos que he implementado aquí.</li>
</ul>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Circulo</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Figura</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> radio_cm<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetRadio</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-double">double</span></span> radio_cm<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>radio_cm <span class="token operator">=</span> radio_cm<span class="token punctuation">;</span>  <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetRadio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> radio_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Circulo</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> radio_cm<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetRadio</span><span class="token punctuation">(</span>radio_cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span><span class="token function">GetRadio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> <span class="token function">GetRadio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Círculo\nRadio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetRadio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre> <div style="page-break-after:always;"></div>
<p>El resto de implementaciones serán análogas a <strong><code>Circulo</code></strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Cuadrado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Figura</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> lado_cm<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetLado</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-double">double</span></span> lado_cm<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>lado_cm <span class="token operator">=</span> lado_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> lado_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Cuadrado</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> lado_cm<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetLado</span><span class="token punctuation">(</span>lado_cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Cuadrado\nLado: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Rombo</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Figura</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> diagonal1_cm<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> diagonal2_cm<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetDiagonal1</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-double">double</span></span> d_cm<span class="token punctuation">)</span> <span class="token punctuation">{</span> diagonal1_cm <span class="token operator">=</span> d_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetDiagonal1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> diagonal1_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetDiagonal2</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-double">double</span></span> d_cm<span class="token punctuation">)</span> <span class="token punctuation">{</span> diagonal2_cm <span class="token operator">=</span> d_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetDiagonal2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> diagonal2_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Accesor Calculado</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> Math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span><span class="token function">GetDiagonal1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2d</span><span class="token punctuation">,</span> <span class="token number">2d</span><span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span><span class="token function">GetDiagonal2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2d</span><span class="token punctuation">,</span> <span class="token number">2d</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Rombo</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> d1_cm<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> d2_cm<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDiagonal1</span><span class="token punctuation">(</span>d1_cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetDiagonal2</span><span class="token punctuation">(</span>d2_cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">GetDiagonal1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetDiagonal2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Rombo\nDiagonal1: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetDiagonal1</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm\nDiagonal2: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetDiagonal2</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm\nLado: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>El polimorfismo de datos lo vamos a poder realizar igual que en el caso de <strong><code>Articulo</code></strong> pero no vamos a poder crear ningún artículo directamente.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Figura<span class="token punctuation">[</span><span class="token punctuation">]</span></span> figuras <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Figura<span class="token punctuation">[</span><span class="token punctuation">]</span></span> 
    <span class="token punctuation">{</span> 
        <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Cuadrado</span><span class="token punctuation">(</span>Figura<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Rombo</span><span class="token punctuation">(</span>Figura<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Circulo</span><span class="token punctuation">(</span>Figura<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Verde<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Figura</span> f <span class="token keyword keyword-in">in</span> figuras<span class="token punctuation">)</span> 
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ol>
<div style="page-break-after:always;"></div>
<blockquote>
<p><strong>🎓 Caso de estudio</strong></p>
<p>Supongamos el siguiente modelo simplificado, en el cual, un <strong>Sicólogo</strong> crea un gabinete o <strong>consulta</strong> psicológica, donde cada día atiende a los <strong>pacientes</strong> que le llegan.<br>
Los pacientes <strong>irán entrando a la consulta</strong> y en un momento dado el sicologo les <strong>pasará consulta</strong> por orden de llegada.<br>
Los pacientes tendrán un <strong>nombre</strong> y <strong>de momento</strong> nuestro sicólogo solo sabe atender a dos tipos de pacientes:</p>
<ol>
<li>Pacientes <strong>alegres</strong></li>
<li>Pacientes <strong>tristes</strong></li>
</ol>
<p>En el momento en que el sicólogo <strong>atiende a un paciente</strong>, se producirá un diálogo con el mismo que empezará igual para todos los pacientes:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>- Sicólogo: Buenos días<span class="token operator">!</span>. ¿Cómo se llama?
- Paciente: Soy <span class="token operator">&lt;</span>Nombre<span class="token operator">&gt;</span>
- Sicólogo: Dígame <span class="token operator">&lt;</span>Nombre<span class="token operator">&gt;</span><span class="token operator">!</span><span class="token punctuation">..</span> ¿Qué siente?
</code></pre><p>Pero dependiendo del tipo de paciente obtendremos un tipo de <strong>respuesta</strong> diferente...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>Para el alegre - Paciente:  Pues<span class="token punctuation">..</span>. ahora estoy alegre.
Para el triste - Paciente:  Pues<span class="token punctuation">..</span>. ahora estoy triste.
</code></pre><p>El sicólogo realizará un <strong>diagnóstico</strong> diferente dependiendo del tipo de paciente.</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>Para el alegre - Sicólogo: <span class="token operator">&lt;</span>Nombre<span class="token operator">&gt;</span> le veo estupendamente. Enhorabuena<span class="token operator">!</span><span class="token operator">!</span> no necesita más terapia.
Para el triste - Sicólogo: <span class="token operator">&lt;</span>Nombre<span class="token operator">&gt;</span> tome fluoxetina 20mg y vuelva en un mes.
</code></pre><p>Tras realizar el diagnostico el sicólogo dira ...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>- Sicólogo: Que pase el siguiente <span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span>
</code></pre><p>Atendiendo a otro paciente si hay aún pendientes en consulta.</p>
<p><strong>✋ Piensa en un posible modelado o diseño de clases para representar las especificaciones anteriores.</strong><br>
Si no se te ocurre ningúno, aquí tienes una propuesta de implementación.</p>
<p align="center" style="zoom:0.8" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="515.2416px" preserveAspectRatio="none" style="width:551px;height:515px;" version="1.1" viewBox="0 0 551 515" width="551.0223px" zoomAndPan="magnify"><defs></defs><g><!--class PacienteFeliz--><g id="elem_PacienteFeliz"><rect codeline="12" fill="#FFFAFA" height="85.0749" id="PacienteFeliz" rx="2.5558" ry="2.5558" style="stroke:#000000;stroke-width:0.5111524163568774;" width="228.9963" x="30.6691" y="423.2342"></rect><ellipse cx="97.8857" cy="439.5911" fill="#ADD1B2" rx="11.2454" ry="11.2454" style="stroke:#181818;stroke-width:1.0223048327137547;"></ellipse><path d="M100.713,435.3741 Q100.8727,435.1504 101.0644,435.0386 Q101.2561,434.9268 101.4797,434.9268 Q101.8631,434.9268 102.1027,435.1984 Q102.3423,435.4539 102.3423,436.0769 L102.3423,437.5624 Q102.3423,438.1854 102.1027,438.457 Q101.8631,438.7285 101.4797,438.7285 Q101.1283,438.7285 100.9207,438.5209 Q100.713,438.3292 100.6012,437.802 Q100.5533,437.4347 100.3616,437.243 Q100.0261,436.8596 99.4032,436.636 Q98.7802,436.4123 98.1413,436.4123 Q97.3586,436.4123 96.7036,436.7478 Q96.0647,437.0832 95.5536,437.85 Q95.0584,438.6167 95.0584,439.6709 L95.0584,440.7891 Q95.0584,442.051 95.9689,442.8976 Q96.8794,443.7282 98.5087,443.7282 Q99.4671,443.7282 100.138,443.4726 Q100.5373,443.3129 100.9686,442.8656 Q101.2401,442.5941 101.3839,442.5142 Q101.5436,442.4344 101.7513,442.4344 Q102.0867,442.4344 102.3423,442.7059 Q102.6138,442.9615 102.6138,443.3129 Q102.6138,443.6643 102.2624,444.0796 Q101.7513,444.6707 100.9366,445.0061 Q99.8345,445.4693 98.5087,445.4693 Q96.9592,445.4693 95.7293,444.8304 Q94.7229,444.3192 94.0201,443.233 Q93.3173,442.1309 93.3173,440.821 L93.3173,439.639 Q93.3173,438.2813 93.9402,437.1152 Q94.5792,435.9331 95.6973,435.3102 Q96.8155,434.6712 98.0774,434.6712 Q98.8281,434.6712 99.483,434.8469 Q100.1539,435.0067 100.713,435.3741 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="85.8736" x="118.8429" y="445.4474">PacienteFeliz</text><line style="stroke:#000000;stroke-width:0.5111524163568774;" x1="31.6914" x2="258.6431" y1="455.948" y2="455.948"></line><line style="stroke:#000000;stroke-width:0.5111524163568774;" x1="31.6914" x2="258.6431" y1="464.1264" y2="464.1264"></line><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="216.7286" x="36.803" y="483.073">+PacienteFeliz(in nombre : string)</text><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="164.5911" x="36.803" y="501.0751">^+GetRespuesta() : string</text></g><!--class PacienteTriste--><g id="elem_PacienteTriste"><rect codeline="18" fill="#FFFAFA" height="85.0749" id="PacienteTriste" rx="2.5558" ry="2.5558" style="stroke:#000000;stroke-width:0.5111524163568774;" width="236.1524" x="295.9572" y="423.2342"></rect><ellipse cx="363.1738" cy="439.5911" fill="#ADD1B2" rx="11.2454" ry="11.2454" style="stroke:#181818;stroke-width:1.0223048327137547;"></ellipse><path d="M366.0011,435.3741 Q366.1608,435.1504 366.3525,435.0386 Q366.5442,434.9268 366.7678,434.9268 Q367.1512,434.9268 367.3908,435.1984 Q367.6304,435.4539 367.6304,436.0769 L367.6304,437.5624 Q367.6304,438.1854 367.3908,438.457 Q367.1512,438.7285 366.7678,438.7285 Q366.4164,438.7285 366.2088,438.5209 Q366.0011,438.3292 365.8893,437.802 Q365.8414,437.4347 365.6497,437.243 Q365.3142,436.8596 364.6913,436.636 Q364.0683,436.4123 363.4294,436.4123 Q362.6467,436.4123 361.9918,436.7478 Q361.3528,437.0832 360.8417,437.85 Q360.3465,438.6167 360.3465,439.6709 L360.3465,440.7891 Q360.3465,442.051 361.257,442.8976 Q362.1675,443.7282 363.7968,443.7282 Q364.7552,443.7282 365.4261,443.4726 Q365.8254,443.3129 366.2567,442.8656 Q366.5282,442.5941 366.672,442.5142 Q366.8317,442.4344 367.0394,442.4344 Q367.3748,442.4344 367.6304,442.7059 Q367.902,442.9615 367.902,443.3129 Q367.902,443.6643 367.5505,444.0796 Q367.0394,444.6707 366.2247,445.0061 Q365.1226,445.4693 363.7968,445.4693 Q362.2473,445.4693 361.0174,444.8304 Q360.011,444.3192 359.3082,443.233 Q358.6054,442.1309 358.6054,440.821 L358.6054,439.639 Q358.6054,438.2813 359.2283,437.1152 Q359.8673,435.9331 360.9854,435.3102 Q362.1036,434.6712 363.3655,434.6712 Q364.1162,434.6712 364.7711,434.8469 Q365.442,435.0067 366.0011,435.3741 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="93.0297" x="384.131" y="445.4474">PacienteTriste</text><line style="stroke:#000000;stroke-width:0.5111524163568774;" x1="296.9796" x2="531.0874" y1="455.948" y2="455.948"></line><line style="stroke:#000000;stroke-width:0.5111524163568774;" x1="296.9796" x2="531.0874" y1="464.1264" y2="464.1264"></line><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="223.8848" x="302.0911" y="483.073">+PacienteTriste(in nombre : string)</text><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="164.5911" x="302.0911" y="501.0751">^+GetRespuesta() : string</text></g><!--class P--><g id="elem_P"><rect codeline="24" fill="#FFFAFA" height="134.5928" id="P" rx="2.5558" ry="2.5558" style="stroke:#000000;stroke-width:0.5111524163568774;" width="238.197" x="159.9907" y="225.9294"></rect><ellipse cx="243.5641" cy="249.043" fill="#A9DCDF" rx="11.2454" ry="11.2454" style="stroke:#181818;stroke-width:1.0223048327137547;"></ellipse><path d="M245.8004,250.848 L241.5674,250.848 L241.1362,251.9023 L241.5674,251.9023 Q242.1904,251.9023 242.462,252.1419 Q242.7335,252.3815 242.7335,252.7808 Q242.7335,253.1642 242.462,253.4038 Q242.1904,253.6434 241.5674,253.6434 L239.2193,253.6434 Q238.5964,253.6434 238.3408,253.4038 Q238.0692,253.1642 238.0692,252.7649 Q238.0692,252.3815 238.3568,252.1419 Q238.6283,251.8863 239.2673,251.9023 L241.9987,245.0976 L240.8646,245.0976 Q240.2416,245.0976 239.9701,244.858 Q239.6985,244.6184 239.6985,244.219 Q239.6985,243.8357 239.9701,243.5961 Q240.2416,243.3565 240.8646,243.3565 L244.6184,243.3565 L248.0846,251.9023 Q248.6916,251.9023 248.8833,252.0461 Q249.2826,252.3176 249.2826,252.7808 Q249.2826,253.1642 249.0111,253.4038 Q248.7555,253.6434 248.1326,253.6434 L245.7844,253.6434 Q245.1615,253.6434 244.8899,253.4038 Q244.6184,253.1642 244.6184,252.7649 Q244.6184,252.3815 244.8899,252.1419 Q245.1615,251.9023 245.7844,251.9023 L246.2157,251.9023 L245.8004,250.848 Z M245.0656,249.1069 L243.6759,245.6567 L242.2703,249.1069 L245.0656,249.1069 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14.3123" font-style="italic" lengthAdjust="spacing" textLength="56.2268" x="267.5883" y="245.8983">Paciente</text><text fill="#000000" font-family="sans-serif" font-size="14.3123" font-style="italic" lengthAdjust="spacing" textLength="62.3606" x="264.5214" y="263.9004">{abstract}</text><line style="stroke:#000000;stroke-width:0.5111524163568774;" x1="161.013" x2="397.1654" y1="272.1567" y2="272.1567"></line><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="175.8364" x="166.1245" y="291.1033">-nombre : string {readOnly}</text><line style="stroke:#000000;stroke-width:0.5111524163568774;" x1="161.013" x2="397.1654" y1="298.3373" y2="298.3373"></line><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="140.0558" x="166.1245" y="317.2839">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="187.0818" x="166.1245" y="335.286">#Paciente(in nombre : string)</text><text fill="#000000" font-family="sans-serif" font-size="14.3123" font-style="italic" lengthAdjust="spacing" textLength="225.9294" x="166.1245" y="353.2882">+GetRespuesta() : string {abstract}</text></g><!--class Consulta--><g id="elem_Consulta"><rect codeline="33" fill="#FFFAFA" height="103.0771" id="Consulta" rx="2.5558" ry="2.5558" style="stroke:#000000;stroke-width:0.5111524163568774;" width="226.9517" x="316.9145" y="25.0465"></rect><ellipse cx="397.421" cy="41.4033" fill="#ADD1B2" rx="11.2454" ry="11.2454" style="stroke:#181818;stroke-width:1.0223048327137547;"></ellipse><path d="M400.2483,37.1863 Q400.4081,36.9627 400.5997,36.8509 Q400.7914,36.7391 401.015,36.7391 Q401.3984,36.7391 401.638,37.0106 Q401.8776,37.2662 401.8776,37.8892 L401.8776,39.3747 Q401.8776,39.9977 401.638,40.2692 Q401.3984,40.5408 401.015,40.5408 Q400.6636,40.5408 400.456,40.3331 Q400.2483,40.1414 400.1365,39.6143 Q400.0886,39.2469 399.8969,39.0552 Q399.5615,38.6719 398.9385,38.4482 Q398.3155,38.2246 397.6766,38.2246 Q396.8939,38.2246 396.239,38.5601 Q395.6,38.8955 395.0889,39.6622 Q394.5937,40.429 394.5937,41.4832 L394.5937,42.6014 Q394.5937,43.8633 395.5042,44.7099 Q396.4147,45.5405 398.044,45.5405 Q399.0024,45.5405 399.6733,45.2849 Q400.0726,45.1252 400.5039,44.6779 Q400.7754,44.4064 400.9192,44.3265 Q401.0789,44.2466 401.2866,44.2466 Q401.622,44.2466 401.8776,44.5182 Q402.1492,44.7738 402.1492,45.1252 Q402.1492,45.4766 401.7977,45.8919 Q401.2866,46.4829 400.4719,46.8184 Q399.3698,47.2816 398.044,47.2816 Q396.4945,47.2816 395.2646,46.6427 Q394.2582,46.1315 393.5554,45.0453 Q392.8526,43.9431 392.8526,42.6333 L392.8526,41.4513 Q392.8526,40.0935 393.4755,38.9275 Q394.1145,37.7454 395.2326,37.1224 Q396.3508,36.4835 397.6127,36.4835 Q398.3634,36.4835 399.0184,36.6592 Q399.6892,36.8189 400.2483,37.1863 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="57.2491" x="418.3783" y="47.2596">Consulta</text><line style="stroke:#000000;stroke-width:0.5111524163568774;" x1="317.9368" x2="542.8439" y1="57.7602" y2="57.7602"></line><line style="stroke:#000000;stroke-width:0.5111524163568774;" x1="317.9368" x2="542.8439" y1="65.9387" y2="65.9387"></line><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="114.4981" x="323.0483" y="84.8852">+Consulta() : void</text><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="214.684" x="323.0483" y="102.8874">+Entra(in p : Paciente) : Consulta</text><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="147.2119" x="323.0483" y="120.8895">+Siguiente() : Paciente</text></g><!--class Sicologo--><g id="elem_Sicologo"><rect codeline="40" fill="#FFFAFA" height="139.0814" id="Sicologo" rx="2.5558" ry="2.5558" style="stroke:#000000;stroke-width:0.5111524163568774;" width="243.3086" x="7.1561" y="7.1561"></rect><ellipse cx="96.8634" cy="23.513" fill="#ADD1B2" rx="11.2454" ry="11.2454" style="stroke:#181818;stroke-width:1.0223048327137547;"></ellipse><path d="M99.6907,19.296 Q99.8504,19.0724 100.0421,18.9606 Q100.2338,18.8487 100.4574,18.8487 Q100.8408,18.8487 101.0804,19.1203 Q101.32,19.3759 101.32,19.9988 L101.32,21.4844 Q101.32,22.1073 101.0804,22.3789 Q100.8408,22.6504 100.4574,22.6504 Q100.106,22.6504 99.8984,22.4428 Q99.6907,22.2511 99.5789,21.724 Q99.531,21.3566 99.3393,21.1649 Q99.0038,20.7815 98.3809,20.5579 Q97.7579,20.3343 97.119,20.3343 Q96.3363,20.3343 95.6813,20.6697 Q95.0424,21.0052 94.5313,21.7719 Q94.0361,22.5386 94.0361,23.5929 L94.0361,24.711 Q94.0361,25.9729 94.9466,26.8195 Q95.8571,27.6502 97.4863,27.6502 Q98.4448,27.6502 99.1156,27.3946 Q99.515,27.2348 99.9463,26.7876 Q100.2178,26.516 100.3616,26.4362 Q100.5213,26.3563 100.729,26.3563 Q101.0644,26.3563 101.32,26.6278 Q101.5915,26.8834 101.5915,27.2348 Q101.5915,27.5863 101.2401,28.0016 Q100.729,28.5926 99.9143,28.928 Q98.8122,29.3913 97.4863,29.3913 Q95.9369,29.3913 94.707,28.7523 Q93.7006,28.2412 92.9978,27.155 Q92.295,26.0528 92.295,24.743 L92.295,23.5609 Q92.295,22.2032 92.9179,21.0371 Q93.5569,19.8551 94.675,19.2321 Q95.7932,18.5932 97.0551,18.5932 Q97.8058,18.5932 98.4607,18.7689 Q99.1316,18.9286 99.6907,19.296 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="55.2045" x="117.8206" y="29.3693">Sicologo</text><line style="stroke:#000000;stroke-width:0.5111524163568774;" x1="8.1784" x2="249.4424" y1="39.8699" y2="39.8699"></line><line style="stroke:#000000;stroke-width:0.5111524163568774;" x1="8.1784" x2="249.4424" y1="48.0483" y2="48.0483"></line><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="112.4535" x="13.29" y="66.9949">+Sicologo() : void</text><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="168.6803" x="13.29" y="84.9971">+GetConsulta() : Consulta</text><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" text-decoration="underline" textLength="231.0409" x="13.29" y="102.9992">-Diagnostico(in p : Paciente) : string</text><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" text-decoration="underline" textLength="195.2602" x="13.29" y="121.0014">-Atiende(in p : Paciente) : void</text><text fill="#000000" font-family="sans-serif" font-size="14.3123" lengthAdjust="spacing" textLength="147.2119" x="13.29" y="139.0035">+PasaConsulta() : void</text></g><!--reverse link P to PacienteFeliz--><g id="link_P_PacienteFeliz"><path codeline="49" d="M215.1601,375.6696 C198.7419,396.5246 192.5,404.4749 177.8606,423.0809 " fill="none" id="P-backto-PacienteFeliz" style="stroke:#000000;stroke-width:1.0223048327137547;"></path><polygon fill="none" points="226.5428,361.211,210.3406,371.8754,219.9797,379.4638,226.5428,361.211" style="stroke:#000000;stroke-width:1.0223048327137547;"></polygon></g><!--reverse link P to PacienteTriste--><g id="link_P_PacienteTriste"><path codeline="50" d="M343.4693,375.6283 C360.0102,396.4833 366.3327,404.4749 381.0846,423.0809 " fill="none" id="P-backto-PacienteTriste" style="stroke:#000000;stroke-width:1.0223048327137547;"></path><polygon fill="none" points="332.0344,361.211,338.6635,379.4399,348.275,371.8166,332.0344,361.211" style="stroke:#000000;stroke-width:1.0223048327137547;"></polygon></g><!--link Sicologo to P--><g id="link_Sicologo_P"><path codeline="51" d="M176.777,146.21 C194.5548,171.6143 211.1669,195.3464 228.8323,220.5871 " fill="none" id="Sicologo-to-P" style="stroke:#000000;stroke-width:1.0223048327137547;stroke-dasharray:7.0,7.0;"></path><polygon fill="#000000" points="232.3494,225.6125,230.424,215.7297,229.4185,221.4247,223.7236,220.4192,232.3494,225.6125" style="stroke:#000000;stroke-width:1.0223048327137547;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13.29" lengthAdjust="spacing" textLength="35.7807" x="209.5725" y="191.6772">«use»</text></g><!--link Sicologo to Consulta--><g id="link_Sicologo_Consulta"><path codeline="52" d="M262.8755,76.6729 C284.6199,76.6729 288.7909,76.6729 310.3002,76.6729 " fill="none" id="Sicologo-Consulta" style="stroke:#000000;stroke-width:1.0223048327137547;"></path><polygon fill="#000000" points="250.6078,76.6729,256.7416,80.7621,262.8755,76.6729,256.7416,72.5836,250.6078,76.6729" style="stroke:#000000;stroke-width:1.0223048327137547;"></polygon><polygon fill="#000000" points="316.434,76.6729,307.2333,72.5836,311.3225,76.6729,307.2333,80.7621,316.434,76.6729" style="stroke:#000000;stroke-width:1.0223048327137547;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13.29" lengthAdjust="spacing" textLength="28.6245" x="269.3773" y="70.0229">tiene</text><text fill="#000000" font-family="sans-serif" font-size="13.29" lengthAdjust="spacing" textLength="7.1561" x="258.6397" y="73.5982">1</text><text fill="#000000" font-family="sans-serif" font-size="13.29" lengthAdjust="spacing" textLength="7.1561" x="301.7483" y="73.6053">1</text></g><!--link Consulta to P--><g id="link_Consulta_P"><path codeline="53" d="M387.6564,138.3278 C367.1285,167.4635 351.6788,189.3771 329.5153,220.8334 " fill="none" id="Consulta-P" style="stroke:#000000;stroke-width:1.0223048327137547;"></path><polygon fill="none" points="394.7221,128.2993,387.8464,130.9583,387.6564,138.3278,394.5321,135.6688,394.7221,128.2993" style="stroke:#000000;stroke-width:1.0223048327137547;"></polygon><polygon fill="#000000" points="325.9823,225.8476,334.6245,220.6816,328.9264,221.6691,327.9389,215.971,325.9823,225.8476" style="stroke:#000000;stroke-width:1.0223048327137547;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13.29" lengthAdjust="spacing" textLength="62.3606" x="359.8513" y="191.6772">es visitada</text><text fill="#000000" font-family="sans-serif" font-size="13.29" lengthAdjust="spacing" textLength="7.1561" x="382.2923" y="150.1676">1</text><text fill="#000000" font-family="sans-serif" font-size="13.29" lengthAdjust="spacing" textLength="20.4461" x="309.547" y="215.0425">0..*</text></g><!--SRC=[dLB1Qjj04BtlLqmL2762ZDFYIn8Cijk6NjeG6N89WR4qLHRBksPt5TCO_tjd9QyjgSwbleYPz_QzD-FvbDDlgGYIQJf_J6PpE3-x_lpb5XVM6SoShyQtGjWCIuBnU0GRcRjNOPTIhT7W2h8IhKsSCt9HEVgHQPNATu9HYv8OepSpNMe3qnApPGjwu18BclAdCBfIUKDxUfMEqfLUKeixyqvJRN8ofyKQGaygLNhJulJXkK5b6IBbXAXdyPaab_ITIlakjWBuTzLfNaW5IgyMXk06U55I5OEQzd9rJ-wHxBeYw_1YS835hgy-Dz8wwiittV_J3_yPx8q0BKH1-5bj0xwBzgvnpmEsXZ3_fSe_h5R7OhUVDQTjvP6peFjXrACTV1JwS7J7xSoqibNfCEmbrFMhDotpflrDiRItNdCxHF6Km_kQbigYQb8EMZmF7HrJcV4X53euXhhdo2DqidICugyI2wMjuxUdKeNrylXCsJLl4iTuJgVuthRBvWEn-EyoU8e7U8dZtirsU_jB2uF1SCAtSGDtTvMboUJOZwuZk8mdzJTOCS_7975eU5J7dZOQ3Y-ZMeeil4ah7UOe_W80]--></g></svg></p><p><strong>✋ Antes de ver la implementación comentada de esta prupuesta, intenta realizarla tú y así posteriormente puedes ver la propuesta de solución para lo que no has sabido resolver.</strong></p>
</blockquote>
<div style="page-break-after:always;"></div>
<p>Propuesta de solución al caso de estudio:</p>
<ol>
<li>
<p>Crearemos la clase abstracta <strong><code>Paciente</code></strong>. Será abstracta porque los pacientes del sicólogo reponden de forma diferente dependiendo de su especificación.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Paciente</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-protected">protected</span> <span class="token function">Paciente</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>Definiremos las especificaciones de <strong><code>Paciente</code></strong> para que respondan según su estado de ánimo.</p>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">PacienteAlegre</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Paciente</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Fíjate que los constructores no tienen cuerpo y lo único que hacen es pasar el nombre al constructor protected de Paciente.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">PacienteAlegre</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"Pues... ahora estoy alegre."</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">PacienteTriste</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Paciente</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">PacienteTriste</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"Pues... ahora estoy triste."</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>    
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></li>
<li>
<p>Definiremos la clase <strong><code>Consulta</code></strong> (✋ <em>Lee atentamente los <strong>comentarios</strong></em>).</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Consulta</span>
<span class="token punctuation">{</span>        
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Paciente<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">?</span></span> pacientes<span class="token punctuation">;</span>           <span class="token comment">// Array de pacientes que representa la agregación 0..* con la clase Paciente.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Consulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> pacientes <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// En un principio la consulta estará vacía.</span>
    <span class="token comment">// Patrón de interfaz 'fluido' para que los pacientes entren por orden en la consulta.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Consulta</span> <span class="token function">Entra</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Redimensiono o creo el array y añado al paciente en la última posición.</span>
        Array<span class="token punctuation">.</span><span class="token function">Resize</span><span class="token punctuation">(</span><span class="token keyword keyword-ref">ref</span> pacientes<span class="token punctuation">,</span> pacientes <span class="token operator">==</span> <span class="token keyword keyword-null">null</span> <span class="token punctuation">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> pacientes<span class="token punctuation">.</span>Length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pacientes<span class="token punctuation">[</span>pacientes<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Retornará el siguiente paciente en la cola de la consulta o null si ya no quedan pacientes.</span>
    <span class="token comment">// Nota: Más adelante veremos colecciones que nos permitirán gestionar esto de forma más simple.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Paciente<span class="token punctuation">?</span></span> <span class="token function">Siguiente</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>           
        <span class="token class-name">Paciente<span class="token punctuation">?</span></span> p <span class="token operator">=</span> pacientes<span class="token punctuation">?</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Asigno null o el paciente en el índice 0 ('primero')</span>
        <span class="token comment">// Si hay más de 2 pacientes, eliminaré el primer elemento del array dejándolo con un elemento menos.</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>pacientes<span class="token punctuation">?.</span>Length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Creo un array auxiliar copia con un elemento menos que el de pacientes.</span>
            <span class="token class-name">Paciente<span class="token punctuation">[</span><span class="token punctuation">]</span></span> copia <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Paciente</span><span class="token punctuation">[</span>pacientes<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">// En este array copio desde el índice 1 del de pacientes en la posición 0 de la copia.</span>
            <span class="token comment">// Nota: Ver en la documentación de C# esta función.</span>
            Array<span class="token punctuation">.</span><span class="token function">Copy</span><span class="token punctuation">(</span>pacientes<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> copia<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> pacientes<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                
            pacientes <span class="token operator">=</span> copia<span class="token punctuation">;</span> <span class="token comment">// Pacientes pasa a ser ahora la copia donde he quitado el primer elemento.</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-else">else</span>
            pacientes <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> p<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ol>
<div style="page-break-after:always;"></div>
<ol start="4">
<li>
<p>Definiremos la clase <strong><code>Sicologo</code></strong> (✋ <em>Lee atentamente los <strong>comentarios</strong></em>).<br>
<strong>Nota:</strong> Tiene un dependencia de uso con <strong><code>Paciente</code></strong> en el UML, ya que necesita conocer la clase. (En este caso hemos decidido representarla)</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Sicologo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Consulta</span> consulta<span class="token punctuation">;</span> <span class="token comment">// Representa la composición con consuta 'Un Sicologo tiene una Consulta'</span>
    <span class="token comment">// La consulta la crea el sicólogo y por tanto desaparece con él.</span>
    <span class="token comment">// Es mejor práctica recibirla como parámetro y hacer una copia como indicamos, </span>
    <span class="token comment">// pero lo hemos hecho así por simplificar.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Sicologo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> consulta <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Consulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token comment">// La consulta debe ser accesible por los pacientes.        </span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Consulta</span> <span class="token function">GetConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> consulta<span class="token punctuation">;</span> <span class="token punctuation">}</span> 
    <span class="token comment">// A partir de la especificación de paciente, damos un diagnóstico. </span>
    <span class="token comment">// Si es un paciente no conocido damos una respuesta ambigua.</span>
    <span class="token comment">// El método lo hemos hecho de clase pues no necesitamos acceder a los datos de la instáncia.</span>
    <span class="token comment">// además nos permitirá a un sicólogo diagnosticar pacientes sin tener consulta si la hicieramos pública.</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">Diagnostico</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> p <span class="token keyword keyword-switch">switch</span>
        <span class="token punctuation">{</span>
            <span class="token return-type class-name">PacienteAlegre</span> _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> le veo estupendamente. Enhorabuena!! no necesita más terapia."</span></span><span class="token punctuation">,</span>
            <span class="token return-type class-name">PacienteTriste</span> _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> tome fluoxetina 20mg y vuelva en un mes."</span></span><span class="token punctuation">,</span>
            _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> déjeme que estudie un poco más su caso y vuelva la semana que viene."</span></span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Atender al paciente es quien establece el diálogo.</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Atiende</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"- Sicólogo: Buenos días!. ¿Cómo se llama?"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"- Paciente: Soy </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"- Sicólogo: Dígame </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">!.. ¿Qué siente?"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"- Paciente: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuilder</span> accion <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">"- Sicólogo: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        accion<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token function">Diagnostico</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"\n- Sicólogo: Que pase el siguiente !!!\n\n"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>accion<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// PasaConsulta atiende a los pacientes mientras exista alguno en la cola de la consulta.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PasaConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Paciente<span class="token punctuation">?</span></span> p<span class="token punctuation">;</span>
        <span class="token keyword keyword-while">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p <span class="token operator">=</span> consulta<span class="token punctuation">.</span><span class="token function">Siguiente</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
            <span class="token function">Atiende</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ol>
<div style="page-break-after:always;"></div>
<ol start="5">
<li>
<p>Vamos a crear un sencillo programa de test</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Sicologo</span> sicologo <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Sicologo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sicologo<span class="token punctuation">.</span><span class="token function">GetConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">PacienteAlegre</span><span class="token punctuation">(</span><span class="token string">"Xusa"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">PacienteAlegre</span><span class="token punctuation">(</span><span class="token string">"Juanjo"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">PacienteTriste</span><span class="token punctuation">(</span><span class="token string">"Carmen"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sicologo<span class="token punctuation">.</span><span class="token function">PasaConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>Cómo sucedía en otros casos podemos crear una nueva especificación de <strong><code>Paciente</code></strong> por ejemplo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">PacienteSociopata</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Paciente</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">PacienteSociopata</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"Vas a morir .. muuhaaahahahaha !!"</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>El <strong>consultorio seguiría funcionando</strong>. Pero, esta vez el <strong><code>Sicólogo</code></strong> debería actualizarse para saber tratar a este tipo de pacientes. (<em>Línea 5</em>)</p>
<pre data-role="codeBlock" data-info="csharp class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">Diagnostico</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> p <span class="token keyword keyword-switch">switch</span> <span class="token punctuation">{</span>
        <span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token return-type class-name">PacienteSociopata</span> _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"Lo siento!. Debo aplicarte una decarga de 10000V justo ahora."</span></span><span class="token punctuation">,</span>
        _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> déjeme que estudie un poco más su caso y vuelva la semana que viene."</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p><strong>⚡ Retos:</strong> ¿Se te ocurre cómo crear diferentes tipos de sicólogos que diagnostiquen de forma diferente o alguna forma de hacer que sepamos que tenemos que actualizar al sicólogo si hay nuevos pacientes?</p>
</blockquote>
</li>
</ol>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>