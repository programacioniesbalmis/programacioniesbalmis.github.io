<!DOCTYPE html><html><head>
      <title>Programación 1º DAM Tema 7 parte 2</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v19/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
.markdown-preview.markdown-preview .caso_estudio {
  background-color: #f5f5f5;
  border: 2px solid #969696;
  padding: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .ejercicio {
  background-color: #f5faf5;
  border: 2px solid #969b96;
  padding-left: 15px;
  padding-right: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.markdown-preview.markdown-preview .fondo {
  background: url(https://programacioniesbalmis.github.io/Imagenes/BannersMoodle/banner.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.markdown-preview.markdown-preview .cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.markdown-preview.markdown-preview .abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.markdown-preview.markdown-preview .cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.markdown-preview.markdown-preview .autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
.markdown-preview.markdown-preview .flotante {
  display: flex;
  justify-content: space-between;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: row;
  }
}
.markdown-preview.markdown-preview .flotante_izq {
  margin-right: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: auto;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: auto;
  }
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="tema-7-parte-2">Tema 7 parte 2 </h1>
<p>Descargar estos apuntes en <a href="./Tema7_2.pdf">pdf</a> o <a href="./Tema7_2.html">html</a></p>
<h2 id="índice">Índice </h2>

<div class="md-toc">
<div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">
          <a href="#índice" class="md-toc-link">
            <p>Índice</p>

          </a></div><details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#roles-entre-clases-continuación" class="md-toc-link"><p>Roles entre clases (Continuación)</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#relación-de-herencia-generalización" class="md-toc-link"><p>Relación de Herencia (Generalización)</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#tipos-de-herencia" class="md-toc-link"><p>Tipos de Herencia</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#herencia-simple" class="md-toc-link">
            <p>Herencia Simple</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#herencia-múltiple" class="md-toc-link">
            <p>Herencia Múltiple</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#implementando-la-herencia-en-csharp" class="md-toc-link"><p>Implementando la herencia en CSharp</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#palabra-reservada-base" class="md-toc-link">
            <p>Palabra reservada <em>base</em></p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#ocultación-e-invalidación" class="md-toc-link"><p>Ocultación e Invalidación</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ocultación-o-reemplazo-en-csharp" class="md-toc-link">
            <p>Ocultación o reemplazo en CSharp</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#invalidación-o-refinamiento-en-csharp" class="md-toc-link">
            <p>Invalidación o refinamiento en CSharp</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#polimorfismo-de-datos-o-inclusión" class="md-toc-link">
            <p>Polimorfismo de datos o inclusión</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#principio-de-sustitución-de-liskov-upcasting" class="md-toc-link">
            <p>Principio de sustitución de Liskov (Upcasting)</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#downcasting" class="md-toc-link"><p>Downcasting</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#formas-de-realizar-el-downcasting" class="md-toc-link">
            <p>Formas de realizar el Downcasting</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#ligadura-dinámica" class="md-toc-link"><p>Ligadura Dinámica</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ejemplo-de-uso-del-enlace-dinámico" class="md-toc-link">
            <p>Ejemplo de uso del Enlace Dinámico</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#utilidad-del-polimorfismo-de-datos-sustitución-y-el-enlace-dinámico" class="md-toc-link">
            <p>Utilidad del polimorfismo de datos (sustitución) y el enlace dinámico</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#el-caso-especial-de-la-clase-object-en-csharp" class="md-toc-link">
            <p>El caso especial de la clase object en CSharp</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    
</div>
<div style="page-break-after:always;"></div>
<h2 id="roles-entre-clases-continuación">Roles entre clases (Continuación) </h2>
<h3 id="relación-de-herencia-generalización">Relación de Herencia (Generalización) </h3>
<ul>
<li>
<p>Una de las características principales de la POO. Formalmente podemos definirla como....</p>
<ul>
<li>Un tipo de relación entre clases, en la cual una clase denominada <strong>subclase</strong> (o también <em>clase <strong>hija</strong></em>), comparte la estructura y/o comportamiento definidos en una o más clases, llamadas <strong>superclases</strong> (o también <em>clase <strong>padre</strong></em>, <em>clase <strong>base</strong></em>).</li>
<li>En otras palabras, una subclase añade sus propios atributos y métodos a los de la superclase, por lo que generalmente es mayor que esta y representará a un grupo <strong>menor</strong> de objetos.</li>
</ul>
</li>
<li>
<p>De una forma menos formal podemos resaltar que...</p>
<ul>
<li>La subclase es una <strong>concreción</strong> de la superclase que representará una <strong>generalización</strong>.</li>
<li>Representará el tipo de relación '<strong>Es un/a</strong>'. Ej. '<em>Un coche <strong>es un</strong> vehículo.</em>'</li>
<li>La <strong>herencia</strong> nos servirá para reutilizar código y por tanto no repetir funcionalidades.</li>
</ul>
</li>
<li>
<p>Representaremos el rol a través de una flecha de punta hueca de la subclase a la superclase y se podrán producir relaciones <strong>transitivas</strong>.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="46px" preserveAspectRatio="none" style="width:258px;height:46px;background:#FFFFFF;" version="1.1" viewBox="0 0 258 46" width="258px" zoomAndPan="magnify"><defs></defs><g><!--class A--><g id="elem_A"><rect fill="#FFFAFA" height="32" id="A" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="41" x="7" y="7"></rect><ellipse cx="22" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M24.7656,18.875 Q24.9219,18.6563 25.1094,18.5469 Q25.2969,18.4375 25.5156,18.4375 Q25.8906,18.4375 26.125,18.7031 Q26.3594,18.9531 26.3594,19.5625 L26.3594,21.0156 Q26.3594,21.625 26.125,21.8906 Q25.8906,22.1563 25.5156,22.1563 Q25.1719,22.1563 24.9688,21.9531 Q24.7656,21.7656 24.6563,21.25 Q24.6094,20.8906 24.4219,20.7031 Q24.0938,20.3281 23.4844,20.1094 Q22.875,19.8906 22.25,19.8906 Q21.4844,19.8906 20.8438,20.2188 Q20.2188,20.5469 19.7188,21.2969 Q19.2344,22.0469 19.2344,23.0781 L19.2344,24.1719 Q19.2344,25.4063 20.125,26.2344 Q21.0156,27.0469 22.6094,27.0469 Q23.5469,27.0469 24.2031,26.7969 Q24.5938,26.6406 25.0156,26.2031 Q25.2813,25.9375 25.4219,25.8594 Q25.5781,25.7813 25.7813,25.7813 Q26.1094,25.7813 26.3594,26.0469 Q26.625,26.2969 26.625,26.6406 Q26.625,26.9844 26.2813,27.3906 Q25.7813,27.9688 24.9844,28.2969 Q23.9063,28.75 22.6094,28.75 Q21.0938,28.75 19.8906,28.125 Q18.9063,27.625 18.2188,26.5625 Q17.5313,25.4844 17.5313,24.2031 L17.5313,23.0469 Q17.5313,21.7188 18.1406,20.5781 Q18.7656,19.4219 19.8594,18.8125 Q20.9531,18.1875 22.1875,18.1875 Q22.9219,18.1875 23.5625,18.3594 Q24.2188,18.5156 24.7656,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="9" x="36" y="28.7285">A</text></g><!--class B--><g id="elem_B"><rect fill="#FFFAFA" height="32" id="B" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="41" x="108" y="7"></rect><ellipse cx="123" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M125.7656,18.875 Q125.9219,18.6563 126.1094,18.5469 Q126.2969,18.4375 126.5156,18.4375 Q126.8906,18.4375 127.125,18.7031 Q127.3594,18.9531 127.3594,19.5625 L127.3594,21.0156 Q127.3594,21.625 127.125,21.8906 Q126.8906,22.1563 126.5156,22.1563 Q126.1719,22.1563 125.9688,21.9531 Q125.7656,21.7656 125.6563,21.25 Q125.6094,20.8906 125.4219,20.7031 Q125.0938,20.3281 124.4844,20.1094 Q123.875,19.8906 123.25,19.8906 Q122.4844,19.8906 121.8438,20.2188 Q121.2188,20.5469 120.7188,21.2969 Q120.2344,22.0469 120.2344,23.0781 L120.2344,24.1719 Q120.2344,25.4063 121.125,26.2344 Q122.0156,27.0469 123.6094,27.0469 Q124.5469,27.0469 125.2031,26.7969 Q125.5938,26.6406 126.0156,26.2031 Q126.2813,25.9375 126.4219,25.8594 Q126.5781,25.7813 126.7813,25.7813 Q127.1094,25.7813 127.3594,26.0469 Q127.625,26.2969 127.625,26.6406 Q127.625,26.9844 127.2813,27.3906 Q126.7813,27.9688 125.9844,28.2969 Q124.9063,28.75 123.6094,28.75 Q122.0938,28.75 120.8906,28.125 Q119.9063,27.625 119.2188,26.5625 Q118.5313,25.4844 118.5313,24.2031 L118.5313,23.0469 Q118.5313,21.7188 119.1406,20.5781 Q119.7656,19.4219 120.8594,18.8125 Q121.9531,18.1875 123.1875,18.1875 Q123.9219,18.1875 124.5625,18.3594 Q125.2188,18.5156 125.7656,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="9" x="137" y="28.7285">B</text></g><!--class C--><g id="elem_C"><rect fill="#FFFAFA" height="32" id="C" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="42" x="209" y="7"></rect><ellipse cx="224" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M226.7656,18.875 Q226.9219,18.6563 227.1094,18.5469 Q227.2969,18.4375 227.5156,18.4375 Q227.8906,18.4375 228.125,18.7031 Q228.3594,18.9531 228.3594,19.5625 L228.3594,21.0156 Q228.3594,21.625 228.125,21.8906 Q227.8906,22.1563 227.5156,22.1563 Q227.1719,22.1563 226.9688,21.9531 Q226.7656,21.7656 226.6563,21.25 Q226.6094,20.8906 226.4219,20.7031 Q226.0938,20.3281 225.4844,20.1094 Q224.875,19.8906 224.25,19.8906 Q223.4844,19.8906 222.8438,20.2188 Q222.2188,20.5469 221.7188,21.2969 Q221.2344,22.0469 221.2344,23.0781 L221.2344,24.1719 Q221.2344,25.4063 222.125,26.2344 Q223.0156,27.0469 224.6094,27.0469 Q225.5469,27.0469 226.2031,26.7969 Q226.5938,26.6406 227.0156,26.2031 Q227.2813,25.9375 227.4219,25.8594 Q227.5781,25.7813 227.7813,25.7813 Q228.1094,25.7813 228.3594,26.0469 Q228.625,26.2969 228.625,26.6406 Q228.625,26.9844 228.2813,27.3906 Q227.7813,27.9688 226.9844,28.2969 Q225.9063,28.75 224.6094,28.75 Q223.0938,28.75 221.8906,28.125 Q220.9063,27.625 220.2188,26.5625 Q219.5313,25.4844 219.5313,24.2031 L219.5313,23.0469 Q219.5313,21.7188 220.1406,20.5781 Q220.7656,19.4219 221.8594,18.8125 Q222.9531,18.1875 224.1875,18.1875 Q224.9219,18.1875 225.5625,18.3594 Q226.2188,18.5156 226.7656,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="10" x="238" y="28.7285">C</text></g><!--reverse link A to B--><g id="link_A_B"><path codeline="11" d="M66.06,23 C83.42,23 90.64,23 107.98,23 " fill="none" id="A-backto-B" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="48.06,23,66.06,29,66.06,17,48.06,23" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link B to C--><g id="link_B_C"><path codeline="12" d="M167.16,23 C184.38,23 191.29,23 208.7,23 " fill="none" id="B-backto-C" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="149.16,23,167.16,29,167.16,17,149.16,23" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--SRC=[ROqn2iCm34LtdK8N2FGASQPkXGpT2ewj9YAs5MILq9w-2Lb2wVJv_CVxYPw69gWyJeQHbOAn5AWpbyMhpnYIhxKrKnvUHjSWfUSFuUM4jAgoTf94qIKVvjDqsweVoMqnghnAFB3xn4PzbfbERBS_ET58-bzs03-gliWAC74afBpO6pFbWRG2jFXe6WTkZmw-]--></g></svg></p><ul>
<li><strong>B</strong> hereda de <strong>A</strong></li>
<li><strong>B</strong> es una concreción <strong>A</strong></li>
<li><strong>A</strong> es una generalización <strong>B</strong></li>
<li><strong>A</strong> es la superclase y <strong>B</strong> la subclase</li>
<li><strong>C</strong> hereda de <strong>B</strong> y <strong>A</strong></li>
<li><strong>B</strong> y <strong>C</strong> son subclases de <strong>A</strong></li>
</ul>
</li>
</ul>
<h4 id="tipos-de-herencia">Tipos de Herencia </h4>
<h5 id="herencia-simple">Herencia Simple </h5>
<ul>
<li>
<p>Cuando la subclase hereda de <strong>una sola</strong> superclase.</p>
</li>
<li>
<p>Será la que nosotros vamos a usar.</p>
</li>
<li>
<p>Por <strong>ejemplo</strong>, supongamos que tenemos la superclase <strong><code>Articulo</code></strong> con un <strong><code>precio</code></strong> y un <strong><code>nombre</code></strong>.<br>
Una subclase de <strong><code>Articulo</code></strong> denominada <strong><code>ArticuloRebajado</code></strong> que además, añade al articulo un campo con el porcentaje de rebaja, denominado <strong><code>porcentajeRebaja</code></strong>.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="89px" preserveAspectRatio="none" style="width:370px;height:89px;background:#FFFFFF;" version="1.1" viewBox="0 0 370 89" width="370px" zoomAndPan="magnify"><defs></defs><g><!--class Articulo--><g id="elem_Articulo"><rect codeline="11" fill="#FFFAFA" height="75.2188" id="Articulo" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="115" x="7" y="7"></rect><ellipse cx="38.2" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M40.9656,18.875 Q41.1219,18.6563 41.3094,18.5469 Q41.4969,18.4375 41.7156,18.4375 Q42.0906,18.4375 42.325,18.7031 Q42.5594,18.9531 42.5594,19.5625 L42.5594,21.0156 Q42.5594,21.625 42.325,21.8906 Q42.0906,22.1563 41.7156,22.1563 Q41.3719,22.1563 41.1688,21.9531 Q40.9656,21.7656 40.8563,21.25 Q40.8094,20.8906 40.6219,20.7031 Q40.2938,20.3281 39.6844,20.1094 Q39.075,19.8906 38.45,19.8906 Q37.6844,19.8906 37.0438,20.2188 Q36.4188,20.5469 35.9188,21.2969 Q35.4344,22.0469 35.4344,23.0781 L35.4344,24.1719 Q35.4344,25.4063 36.325,26.2344 Q37.2156,27.0469 38.8094,27.0469 Q39.7469,27.0469 40.4031,26.7969 Q40.7938,26.6406 41.2156,26.2031 Q41.4813,25.9375 41.6219,25.8594 Q41.7781,25.7813 41.9813,25.7813 Q42.3094,25.7813 42.5594,26.0469 Q42.825,26.2969 42.825,26.6406 Q42.825,26.9844 42.4813,27.3906 Q41.9813,27.9688 41.1844,28.2969 Q40.1063,28.75 38.8094,28.75 Q37.2938,28.75 36.0906,28.125 Q35.1063,27.625 34.4188,26.5625 Q33.7313,25.4844 33.7313,24.2031 L33.7313,23.0469 Q33.7313,21.7188 34.3406,20.5781 Q34.9656,19.4219 36.0594,18.8125 Q37.1531,18.1875 38.3875,18.1875 Q39.1219,18.1875 39.7625,18.3594 Q40.4188,18.5156 40.9656,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="55.8" y="28.7285">Articulo</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="121" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="13" y="57.5332">#precio : double</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="13" y="75.1426">#nombre : string</text></g><!--class ArticuloRebajado--><g id="elem_ArticuloRebajado"><rect codeline="17" fill="#FFFAFA" height="57.6094" id="ArticuloRebajado" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="181" x="182" y="15.5"></rect><ellipse cx="215.45" cy="31.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M218.2156,27.375 Q218.3719,27.1563 218.5594,27.0469 Q218.7469,26.9375 218.9656,26.9375 Q219.3406,26.9375 219.575,27.2031 Q219.8094,27.4531 219.8094,28.0625 L219.8094,29.5156 Q219.8094,30.125 219.575,30.3906 Q219.3406,30.6563 218.9656,30.6563 Q218.6219,30.6563 218.4188,30.4531 Q218.2156,30.2656 218.1063,29.75 Q218.0594,29.3906 217.8719,29.2031 Q217.5438,28.8281 216.9344,28.6094 Q216.325,28.3906 215.7,28.3906 Q214.9344,28.3906 214.2938,28.7188 Q213.6688,29.0469 213.1688,29.7969 Q212.6844,30.5469 212.6844,31.5781 L212.6844,32.6719 Q212.6844,33.9063 213.575,34.7344 Q214.4656,35.5469 216.0594,35.5469 Q216.9969,35.5469 217.6531,35.2969 Q218.0438,35.1406 218.4656,34.7031 Q218.7313,34.4375 218.8719,34.3594 Q219.0281,34.2813 219.2313,34.2813 Q219.5594,34.2813 219.8094,34.5469 Q220.075,34.7969 220.075,35.1406 Q220.075,35.4844 219.7313,35.8906 Q219.2313,36.4688 218.4344,36.7969 Q217.3563,37.25 216.0594,37.25 Q214.5438,37.25 213.3406,36.625 Q212.3563,36.125 211.6688,35.0625 Q210.9813,33.9844 210.9813,32.7031 L210.9813,31.5469 Q210.9813,30.2188 211.5906,29.0781 Q212.2156,27.9219 213.3094,27.3125 Q214.4031,26.6875 215.6375,26.6875 Q216.3719,26.6875 217.0125,26.8594 Q217.6688,27.0156 218.2156,27.375 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="233.55" y="37.2285">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.5;" x1="183" x2="362" y1="47.5" y2="47.5"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="188" y="66.0332">-porcentajeRebaja : ushort</text></g><!--reverse link Articulo to ArticuloRebajado--><g id="link_Articulo_ArticuloRebajado"><path codeline="22" d="M140.06,44.5 C158.52,44.5 161.5,44.5 181.79,44.5 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="122.06,44.5,140.06,50.5,140.06,38.5,122.06,44.5" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--SRC=[RKyxQyD03DxlLmWw6pftYpDb2_NGhN0FrLPyTp8w7Q4j_U-zn0cOj5g4lfUaY1yAoY0qJWg11BqIPrDcoeiLcy17MyfELSXLnOFdFD0NmlD6iXFXyvuZ2_JH-db37TjeH-nR6uLh3gliRIB58V6C6-t-igbd2IZ_Xws2XwWXyzcOYG82faK_8M5oACMOw-NjE2LV8vjl0wsUO6a_4iCB1AukuWtDd9nWGqlxD8_cvz7_YiwURBZdTB2mUCngJxXIpLlBnA8Nxzq5xrttD-8N]--></g></svg></p><blockquote>
<p>📌 <strong>Nota:</strong> La instancia de un objeto en memoria de <strong><code>ArticuloRebajado</code></strong> además de tener un campo <strong><code>porcentajeRebaja</code></strong>, tendrá los campos <strong><code>precio</code></strong> y <strong><code>nombre</code></strong> por ser también un <strong><code>Articulo</code></strong> y todos ellos definirán su estado.</p>
</blockquote>
</li>
</ul>
<div style="page-break-after:always;"></div>
<h5 id="herencia-múltiple">Herencia Múltiple </h5>
<ul>
<li>
<p>Se dará cuando una subclase hereda características de varias superclases.</p>
</li>
<li>
<p><strong>Tiene más desventajas que ventajas. Por eso C# y Java NO la permiten.</strong> Aunque otros lenguajes como Python o C++ sí.</p>
</li>
<li>
<p>Entre las <strong>desventajas</strong> que hace que C# no la permita podemos destacar:</p>
<ul>
<li>
<p><strong>Menor velocidad</strong> de ejecución.</p>
</li>
<li>
<p><strong>Herencia repetida (Transitividad)</strong>.</p>
<p>En el ejemplo <strong><code>ProfesorUniversitario</code></strong> hereda <strong>2 veces</strong> o a través de dos clases diferentes los atributos de <strong><code>Persona</code></strong>.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="230px" preserveAspectRatio="none" style="width:244px;height:230px;background:#FFFFFF;" version="1.1" viewBox="0 0 244 230" width="244px" zoomAndPan="magnify"><defs></defs><g><!--class Persona--><g id="elem_Persona"><rect fill="#FFFAFA" height="32" id="Persona" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="85" x="73.5" y="7"></rect><ellipse cx="88.5" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M91.2656,18.875 Q91.4219,18.6563 91.6094,18.5469 Q91.7969,18.4375 92.0156,18.4375 Q92.3906,18.4375 92.625,18.7031 Q92.8594,18.9531 92.8594,19.5625 L92.8594,21.0156 Q92.8594,21.625 92.625,21.8906 Q92.3906,22.1563 92.0156,22.1563 Q91.6719,22.1563 91.4688,21.9531 Q91.2656,21.7656 91.1563,21.25 Q91.1094,20.8906 90.9219,20.7031 Q90.5938,20.3281 89.9844,20.1094 Q89.375,19.8906 88.75,19.8906 Q87.9844,19.8906 87.3438,20.2188 Q86.7188,20.5469 86.2188,21.2969 Q85.7344,22.0469 85.7344,23.0781 L85.7344,24.1719 Q85.7344,25.4063 86.625,26.2344 Q87.5156,27.0469 89.1094,27.0469 Q90.0469,27.0469 90.7031,26.7969 Q91.0938,26.6406 91.5156,26.2031 Q91.7813,25.9375 91.9219,25.8594 Q92.0781,25.7813 92.2813,25.7813 Q92.6094,25.7813 92.8594,26.0469 Q93.125,26.2969 93.125,26.6406 Q93.125,26.9844 92.7813,27.3906 Q92.2813,27.9688 91.4844,28.2969 Q90.4063,28.75 89.1094,28.75 Q87.5938,28.75 86.3906,28.125 Q85.4063,27.625 84.7188,26.5625 Q84.0313,25.4844 84.0313,24.2031 L84.0313,23.0469 Q84.0313,21.7188 84.6406,20.5781 Q85.2656,19.4219 86.3594,18.8125 Q87.4531,18.1875 88.6875,18.1875 Q89.4219,18.1875 90.0625,18.3594 Q90.7188,18.5156 91.2656,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="102.5" y="28.7285">Persona</text></g><!--class Profesor--><g id="elem_Profesor"><rect fill="#FFFAFA" height="32" id="Profesor" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="86" x="7" y="99"></rect><ellipse cx="22" cy="115" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M24.7656,110.875 Q24.9219,110.6563 25.1094,110.5469 Q25.2969,110.4375 25.5156,110.4375 Q25.8906,110.4375 26.125,110.7031 Q26.3594,110.9531 26.3594,111.5625 L26.3594,113.0156 Q26.3594,113.625 26.125,113.8906 Q25.8906,114.1563 25.5156,114.1563 Q25.1719,114.1563 24.9688,113.9531 Q24.7656,113.7656 24.6563,113.25 Q24.6094,112.8906 24.4219,112.7031 Q24.0938,112.3281 23.4844,112.1094 Q22.875,111.8906 22.25,111.8906 Q21.4844,111.8906 20.8438,112.2188 Q20.2188,112.5469 19.7188,113.2969 Q19.2344,114.0469 19.2344,115.0781 L19.2344,116.1719 Q19.2344,117.4063 20.125,118.2344 Q21.0156,119.0469 22.6094,119.0469 Q23.5469,119.0469 24.2031,118.7969 Q24.5938,118.6406 25.0156,118.2031 Q25.2813,117.9375 25.4219,117.8594 Q25.5781,117.7813 25.7813,117.7813 Q26.1094,117.7813 26.3594,118.0469 Q26.625,118.2969 26.625,118.6406 Q26.625,118.9844 26.2813,119.3906 Q25.7813,119.9688 24.9844,120.2969 Q23.9063,120.75 22.6094,120.75 Q21.0938,120.75 19.8906,120.125 Q18.9063,119.625 18.2188,118.5625 Q17.5313,117.4844 17.5313,116.2031 L17.5313,115.0469 Q17.5313,113.7188 18.1406,112.5781 Q18.7656,111.4219 19.8594,110.8125 Q20.9531,110.1875 22.1875,110.1875 Q22.9219,110.1875 23.5625,110.3594 Q24.2188,110.5156 24.7656,110.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="36" y="120.7285">Profesor</text></g><!--class Investigador--><g id="elem_Investigador"><rect fill="#FFFAFA" height="32" id="Investigador" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="109" x="128.5" y="99"></rect><ellipse cx="143.5" cy="115" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M146.2656,110.875 Q146.4219,110.6563 146.6094,110.5469 Q146.7969,110.4375 147.0156,110.4375 Q147.3906,110.4375 147.625,110.7031 Q147.8594,110.9531 147.8594,111.5625 L147.8594,113.0156 Q147.8594,113.625 147.625,113.8906 Q147.3906,114.1563 147.0156,114.1563 Q146.6719,114.1563 146.4688,113.9531 Q146.2656,113.7656 146.1563,113.25 Q146.1094,112.8906 145.9219,112.7031 Q145.5938,112.3281 144.9844,112.1094 Q144.375,111.8906 143.75,111.8906 Q142.9844,111.8906 142.3438,112.2188 Q141.7188,112.5469 141.2188,113.2969 Q140.7344,114.0469 140.7344,115.0781 L140.7344,116.1719 Q140.7344,117.4063 141.625,118.2344 Q142.5156,119.0469 144.1094,119.0469 Q145.0469,119.0469 145.7031,118.7969 Q146.0938,118.6406 146.5156,118.2031 Q146.7813,117.9375 146.9219,117.8594 Q147.0781,117.7813 147.2813,117.7813 Q147.6094,117.7813 147.8594,118.0469 Q148.125,118.2969 148.125,118.6406 Q148.125,118.9844 147.7813,119.3906 Q147.2813,119.9688 146.4844,120.2969 Q145.4063,120.75 144.1094,120.75 Q142.5938,120.75 141.3906,120.125 Q140.4063,119.625 139.7188,118.5625 Q139.0313,117.4844 139.0313,116.2031 L139.0313,115.0469 Q139.0313,113.7188 139.6406,112.5781 Q140.2656,111.4219 141.3594,110.8125 Q142.4531,110.1875 143.6875,110.1875 Q144.4219,110.1875 145.0625,110.3594 Q145.7188,110.5156 146.2656,110.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="157.5" y="120.7285">Investigador</text></g><!--class ProfesorUniversitario--><g id="elem_ProfesorUniversitario"><rect fill="#FFFAFA" height="32" id="ProfesorUniversitario" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="164" x="34" y="191"></rect><ellipse cx="49" cy="207" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M51.7656,202.875 Q51.9219,202.6563 52.1094,202.5469 Q52.2969,202.4375 52.5156,202.4375 Q52.8906,202.4375 53.125,202.7031 Q53.3594,202.9531 53.3594,203.5625 L53.3594,205.0156 Q53.3594,205.625 53.125,205.8906 Q52.8906,206.1563 52.5156,206.1563 Q52.1719,206.1563 51.9688,205.9531 Q51.7656,205.7656 51.6563,205.25 Q51.6094,204.8906 51.4219,204.7031 Q51.0938,204.3281 50.4844,204.1094 Q49.875,203.8906 49.25,203.8906 Q48.4844,203.8906 47.8438,204.2188 Q47.2188,204.5469 46.7188,205.2969 Q46.2344,206.0469 46.2344,207.0781 L46.2344,208.1719 Q46.2344,209.4063 47.125,210.2344 Q48.0156,211.0469 49.6094,211.0469 Q50.5469,211.0469 51.2031,210.7969 Q51.5938,210.6406 52.0156,210.2031 Q52.2813,209.9375 52.4219,209.8594 Q52.5781,209.7813 52.7813,209.7813 Q53.1094,209.7813 53.3594,210.0469 Q53.625,210.2969 53.625,210.6406 Q53.625,210.9844 53.2813,211.3906 Q52.7813,211.9688 51.9844,212.2969 Q50.9063,212.75 49.6094,212.75 Q48.0938,212.75 46.8906,212.125 Q45.9063,211.625 45.2188,210.5625 Q44.5313,209.4844 44.5313,208.2031 L44.5313,207.0469 Q44.5313,205.7188 45.1406,204.5781 Q45.7656,203.4219 46.8594,202.8125 Q47.9531,202.1875 49.1875,202.1875 Q49.9219,202.1875 50.5625,202.3594 Q51.2188,202.5156 51.7656,202.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="63" y="212.7285">ProfesorUniversitario</text></g><!--reverse link Persona to Profesor--><g id="link_Persona_Profesor"><path codeline="10" d="M94.1555,53.7853 C81.9455,70.4353 73.18,82.4 61.03,98.96 " fill="none" id="Persona-backto-Profesor" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="104.8,39.27,89.317,50.2371,98.9939,57.3335,104.8,39.27" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Persona to Investigador--><g id="link_Persona_Investigador"><path codeline="11" d="M138.1158,53.7105 C150.5058,70.3605 159.47,82.4 171.8,98.96 " fill="none" id="Persona-backto-Investigador" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="127.37,39.27,133.3023,57.2924,142.9293,50.1286,127.37,39.27" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Profesor to ProfesorUniversitario--><g id="link_Profesor_ProfesorUniversitario"><path codeline="12" d="M71.8445,145.7853 C84.0545,162.4353 92.82,174.4 104.97,190.96 " fill="none" id="Profesor-backto-ProfesorUniversitario" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="61.2,131.27,67.0061,149.3335,76.683,142.2371,61.2,131.27" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Investigador to ProfesorUniversitario--><g id="link_Investigador_ProfesorUniversitario"><path codeline="13" d="M160.8842,145.7105 C148.4942,162.3605 139.53,174.4 127.2,190.96 " fill="none" id="Investigador-backto-ProfesorUniversitario" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="171.63,131.27,156.0707,142.1286,165.6977,149.2924,171.63,131.27" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--SRC=[TSt12eCm303GUx-YFo3i5zIJDq76ReDeCmtQHjAgkAzVnJ5qR9U492-9xycD861rCu3tQGX2zHImQDXLz4HzKVv3KX5USXvOT3P0qnz6PIoXnIocLdXoPcUtZW9Mbdiys7pxbB4ObD_7Tl1rgdAyADMHGOrs3AksQ6iKhrGP8plGzoJHfV03FSkfMRWPVQ0Mp3PuYnE_EfhZ0WKGOdNq_zaB]--></g></svg></p></li>
<li>
<p><strong>Diseños más complejos</strong> y más difíciles de aprender y utilizar por el programador.<br>
<strong>Nota:</strong> Siempre podremos <strong>rediseñar</strong> utilizando  herencia simple.</p>
</li>
<li>
<p><strong>Colisiones de Nombres</strong></p>
<p>En el ejemplo la subclase <strong><code>Multimedia</code></strong> hereda campos <strong>con el mismo nombre</strong> de las clases base <strong><code>Sonido</code></strong> y <strong><code>Gráficos</code></strong>.<br>
Cuando hagamos referencia al campo <strong><code>escala</code></strong> en <strong><code>Multimedia</code></strong>.</p>
<blockquote>
<p>¿Cómo podemos saber si estamos haciendo referencia a la escala de <strong><code>Sonido</code></strong> o la de <strong><code>Gráficos</code></strong>?</p>
</blockquote>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="181px" preserveAspectRatio="none" style="width:439px;height:181px;background:#FFFFFF;" version="1.1" viewBox="0 0 439 181" width="439px" zoomAndPan="magnify"><defs></defs><g><!--class Sonido--><g id="elem_Sonido"><rect codeline="10" fill="#FFFAFA" height="75.2188" id="Sonido" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="195" x="7" y="7"></rect><ellipse cx="78.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M81.0156,18.875 Q81.1719,18.6563 81.3594,18.5469 Q81.5469,18.4375 81.7656,18.4375 Q82.1406,18.4375 82.375,18.7031 Q82.6094,18.9531 82.6094,19.5625 L82.6094,21.0156 Q82.6094,21.625 82.375,21.8906 Q82.1406,22.1563 81.7656,22.1563 Q81.4219,22.1563 81.2188,21.9531 Q81.0156,21.7656 80.9063,21.25 Q80.8594,20.8906 80.6719,20.7031 Q80.3438,20.3281 79.7344,20.1094 Q79.125,19.8906 78.5,19.8906 Q77.7344,19.8906 77.0938,20.2188 Q76.4688,20.5469 75.9688,21.2969 Q75.4844,22.0469 75.4844,23.0781 L75.4844,24.1719 Q75.4844,25.4063 76.375,26.2344 Q77.2656,27.0469 78.8594,27.0469 Q79.7969,27.0469 80.4531,26.7969 Q80.8438,26.6406 81.2656,26.2031 Q81.5313,25.9375 81.6719,25.8594 Q81.8281,25.7813 82.0313,25.7813 Q82.3594,25.7813 82.6094,26.0469 Q82.875,26.2969 82.875,26.6406 Q82.875,26.9844 82.5313,27.3906 Q82.0313,27.9688 81.2344,28.2969 Q80.1563,28.75 78.8594,28.75 Q77.3438,28.75 76.1406,28.125 Q75.1563,27.625 74.4688,26.5625 Q73.7813,25.4844 73.7813,24.2031 L73.7813,23.0469 Q73.7813,21.7188 74.3906,20.5781 Q75.0156,19.4219 76.1094,18.8125 Q77.2031,18.1875 78.4375,18.1875 Q79.1719,18.1875 79.8125,18.3594 Q80.4688,18.5156 81.0156,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="98.75" y="28.7285">Sonido</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="201" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="13" y="57.5332">#escala : TipoEscala</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="13" y="75.1426">#resolución : TipoResolución</text></g><!--class Gr?ficos--><g id="elem_Gráficos"><rect codeline="16" fill="#FFFAFA" height="75.2188" id="Gráficos" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="195" x="237" y="7"></rect><ellipse cx="303.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M306.5156,18.875 Q306.6719,18.6563 306.8594,18.5469 Q307.0469,18.4375 307.2656,18.4375 Q307.6406,18.4375 307.875,18.7031 Q308.1094,18.9531 308.1094,19.5625 L308.1094,21.0156 Q308.1094,21.625 307.875,21.8906 Q307.6406,22.1563 307.2656,22.1563 Q306.9219,22.1563 306.7188,21.9531 Q306.5156,21.7656 306.4063,21.25 Q306.3594,20.8906 306.1719,20.7031 Q305.8438,20.3281 305.2344,20.1094 Q304.625,19.8906 304,19.8906 Q303.2344,19.8906 302.5938,20.2188 Q301.9688,20.5469 301.4688,21.2969 Q300.9844,22.0469 300.9844,23.0781 L300.9844,24.1719 Q300.9844,25.4063 301.875,26.2344 Q302.7656,27.0469 304.3594,27.0469 Q305.2969,27.0469 305.9531,26.7969 Q306.3438,26.6406 306.7656,26.2031 Q307.0313,25.9375 307.1719,25.8594 Q307.3281,25.7813 307.5313,25.7813 Q307.8594,25.7813 308.1094,26.0469 Q308.375,26.2969 308.375,26.6406 Q308.375,26.9844 308.0313,27.3906 Q307.5313,27.9688 306.7344,28.2969 Q305.6563,28.75 304.3594,28.75 Q302.8438,28.75 301.6406,28.125 Q300.6563,27.625 299.9688,26.5625 Q299.2813,25.4844 299.2813,24.2031 L299.2813,23.0469 Q299.2813,21.7188 299.8906,20.5781 Q300.5156,19.4219 301.6094,18.8125 Q302.7031,18.1875 303.9375,18.1875 Q304.6719,18.1875 305.3125,18.3594 Q305.9688,18.5156 306.5156,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="324.25" y="28.7285">Gráficos</text><line style="stroke:#000000;stroke-width:0.5;" x1="238" x2="431" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="243" y="57.5332">#escala : TipoEscala</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="243" y="75.1426">#resolución : TipoResolución</text></g><!--class Multimedia--><g id="elem_Multimedia"><rect fill="#FFFAFA" height="32" id="Multimedia" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="99" x="170" y="142"></rect><ellipse cx="185" cy="158" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M187.7656,153.875 Q187.9219,153.6563 188.1094,153.5469 Q188.2969,153.4375 188.5156,153.4375 Q188.8906,153.4375 189.125,153.7031 Q189.3594,153.9531 189.3594,154.5625 L189.3594,156.0156 Q189.3594,156.625 189.125,156.8906 Q188.8906,157.1563 188.5156,157.1563 Q188.1719,157.1563 187.9688,156.9531 Q187.7656,156.7656 187.6563,156.25 Q187.6094,155.8906 187.4219,155.7031 Q187.0938,155.3281 186.4844,155.1094 Q185.875,154.8906 185.25,154.8906 Q184.4844,154.8906 183.8438,155.2188 Q183.2188,155.5469 182.7188,156.2969 Q182.2344,157.0469 182.2344,158.0781 L182.2344,159.1719 Q182.2344,160.4063 183.125,161.2344 Q184.0156,162.0469 185.6094,162.0469 Q186.5469,162.0469 187.2031,161.7969 Q187.5938,161.6406 188.0156,161.2031 Q188.2813,160.9375 188.4219,160.8594 Q188.5781,160.7813 188.7813,160.7813 Q189.1094,160.7813 189.3594,161.0469 Q189.625,161.2969 189.625,161.6406 Q189.625,161.9844 189.2813,162.3906 Q188.7813,162.9688 187.9844,163.2969 Q186.9063,163.75 185.6094,163.75 Q184.0938,163.75 182.8906,163.125 Q181.9063,162.625 181.2188,161.5625 Q180.5313,160.4844 180.5313,159.2031 L180.5313,158.0469 Q180.5313,156.7188 181.1406,155.5781 Q181.7656,154.4219 182.8594,153.8125 Q183.9531,153.1875 185.1875,153.1875 Q185.9219,153.1875 186.5625,153.3594 Q187.2188,153.5156 187.7656,153.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="199" y="163.7285">Multimedia</text></g><!--reverse link Sonido to Multimedia--><g id="link_Sonido_Multimedia"><path codeline="22" d="M155.0837,94.5391 C176.0437,114.8591 188.09,126.55 203.87,141.85 " fill="none" id="Sonido-backto-Multimedia" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="142.16,82.01,150.9073,98.847,159.2601,90.2312,142.16,82.01" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Gr?ficos to Multimedia--><g id="link_Gráficos_Multimedia"><path codeline="23" d="M283.9163,94.5391 C262.9563,114.8591 250.91,126.55 235.13,141.85 " fill="none" id="Gráficos-backto-Multimedia" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="296.84,82.01,279.7399,90.2312,288.0927,98.847,296.84,82.01" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--SRC=[hOvDYW9138NtEKN0jJ1hTxOCWmj1RC6TK5P53LrLQLBLY0vpc3d37C6BJMlxXxWqcv2yn_TUgZZMHar0wqrAmvoLLqsciPLOye7m0zBDCbILtKYyA1RUsEf1chQdsL3HherA4rrdMsmvKncaeWVlw9HKY3hIrx3Ey8Gge-m0jkm8ATHvZu72YZG1d9jZAP6Tm3TWEpsaP8qtEC0vr_9vFYwAKXBVM3x-nOiykt_WvyhxqkFlcgsaTo2xShZizt7I-Co171kuHJmB_m00]--></g></svg></p></li>
</ul>
</li>
</ul>
<h4 id="implementando-la-herencia-en-csharp">Implementando la herencia en CSharp </h4>
<p>Separaremos el nombre de la subclase y la superclase por el carácter <strong><code>':'</code></strong> como en C++</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token operator">&lt;</span>NombreSubClase<span class="token operator">&gt;</span> <span class="token punctuation">:</span> <span class="token operator">&lt;</span>NombreSuperClase<span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definiremos  solo las concreciones de la subclase respecto  la superclase</span>
<span class="token punctuation">}</span>
</code></pre><p>Partamos del ejemplo que hemos visto en la herencia simple, expresado en el siguiente diagrama de clases UML...</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="342.9px" preserveAspectRatio="none" style="width:509px;height:342px;background:#FFFFFF;" version="1.1" viewBox="0 0 509 342" width="509.4px" zoomAndPan="magnify"><defs></defs><g><!--class Articulo--><g id="elem_Articulo"><rect codeline="10" fill="#FFFAFA" height="138.2906" id="Articulo" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="273.6" x="117.9" y="6.3"></rect><ellipse cx="229.725" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M232.2141,16.9875 Q232.3547,16.7906 232.5234,16.6922 Q232.6922,16.5938 232.8891,16.5938 Q233.2266,16.5938 233.4375,16.8328 Q233.6484,17.0578 233.6484,17.6063 L233.6484,18.9141 Q233.6484,19.4625 233.4375,19.7016 Q233.2266,19.9406 232.8891,19.9406 Q232.5797,19.9406 232.3969,19.7578 Q232.2141,19.5891 232.1156,19.125 Q232.0734,18.8016 231.9047,18.6328 Q231.6094,18.2953 231.0609,18.0984 Q230.5125,17.9016 229.95,17.9016 Q229.2609,17.9016 228.6844,18.1969 Q228.1219,18.4922 227.6719,19.1672 Q227.2359,19.8422 227.2359,20.7703 L227.2359,21.7547 Q227.2359,22.8656 228.0375,23.6109 Q228.8391,24.3422 230.2734,24.3422 Q231.1172,24.3422 231.7078,24.1172 Q232.0594,23.9766 232.4391,23.5828 Q232.6781,23.3438 232.8047,23.2734 Q232.9453,23.2031 233.1281,23.2031 Q233.4234,23.2031 233.6484,23.4422 Q233.8875,23.6672 233.8875,23.9766 Q233.8875,24.2859 233.5781,24.6516 Q233.1281,25.1719 232.4109,25.4672 Q231.4406,25.875 230.2734,25.875 Q228.9094,25.875 227.8266,25.3125 Q226.9406,24.8625 226.3219,23.9063 Q225.7031,22.9359 225.7031,21.7828 L225.7031,20.7422 Q225.7031,19.5469 226.2516,18.5203 Q226.8141,17.4797 227.7984,16.9313 Q228.7828,16.3688 229.8938,16.3688 Q230.5547,16.3688 231.1313,16.5234 Q231.7219,16.6641 232.2141,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="42.3" x="248.175" y="25.8557">Articulo</text><line style="stroke:#000000;stroke-width:0.45;" x1="118.8" x2="390.6" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="89.1" x="123.3" y="51.7799">-precio : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="90" x="123.3" y="67.6283">-nombre : string</text><line style="stroke:#000000;stroke-width:0.45;" x1="118.8" x2="390.6" y1="73.9969" y2="73.9969"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="262.8" x="123.3" y="90.6768">+Articulo(in nombre : string, in precio : double)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="123.3" x="123.3" y="106.5252">#GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="122.4" x="123.3" y="122.3736">#GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="98.1" x="123.3" y="138.2221">+ATexto() : string</text></g><!--class ArticuloRebajado--><g id="elem_ArticuloRebajado"><rect codeline="21" fill="#FFFAFA" height="138.2906" id="ArticuloRebajado" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="496.8" x="6.3" y="198.9"></rect><ellipse cx="202.275" cy="213.3" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M204.7641,209.5875 Q204.9047,209.3906 205.0734,209.2922 Q205.2422,209.1938 205.4391,209.1938 Q205.7766,209.1938 205.9875,209.4328 Q206.1984,209.6578 206.1984,210.2063 L206.1984,211.5141 Q206.1984,212.0625 205.9875,212.3016 Q205.7766,212.5406 205.4391,212.5406 Q205.1297,212.5406 204.9469,212.3578 Q204.7641,212.1891 204.6656,211.725 Q204.6234,211.4016 204.4547,211.2328 Q204.1594,210.8953 203.6109,210.6984 Q203.0625,210.5016 202.5,210.5016 Q201.8109,210.5016 201.2344,210.7969 Q200.6719,211.0922 200.2219,211.7672 Q199.7859,212.4422 199.7859,213.3703 L199.7859,214.3547 Q199.7859,215.4656 200.5875,216.2109 Q201.3891,216.9422 202.8234,216.9422 Q203.6672,216.9422 204.2578,216.7172 Q204.6094,216.5766 204.9891,216.1828 Q205.2281,215.9438 205.3547,215.8734 Q205.4953,215.8031 205.6781,215.8031 Q205.9734,215.8031 206.1984,216.0422 Q206.4375,216.2672 206.4375,216.5766 Q206.4375,216.8859 206.1281,217.2516 Q205.6781,217.7719 204.9609,218.0672 Q203.9906,218.475 202.8234,218.475 Q201.4594,218.475 200.3766,217.9125 Q199.4906,217.4625 198.8719,216.5063 Q198.2531,215.5359 198.2531,214.3828 L198.2531,213.3422 Q198.2531,212.1469 198.8016,211.1203 Q199.3641,210.0797 200.3484,209.5313 Q201.3328,208.9688 202.4438,208.9688 Q203.1047,208.9688 203.6813,209.1234 Q204.2719,209.2641 204.7641,209.5875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="97.2" x="220.725" y="218.4557">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="502.2" y1="227.7" y2="227.7"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="152.1" x="11.7" y="244.3799">-porcentajeRebaja : ushort</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="502.2" y1="250.7484" y2="250.7484"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="486" x="11.7" y="267.4283">+ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="182.7" x="11.7" y="283.2768">-GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="144.9" x="11.7" y="299.1252">-GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="177.3" x="11.7" y="314.9736">+GetPrecioRebajado() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="153" x="11.7" y="330.8221">+ATextoRebajado() : string</text></g><!--reverse link Articulo to ArticuloRebajado--><g id="link_Articulo_ArticuloRebajado"><path codeline="32" d="M254.7,161.316 C254.7,178.731 254.7,181.242 254.7,198.657 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="254.7,145.116,249.3,161.316,260.1,161.316,254.7,145.116" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--SRC=[ZL11JiCm4Bpx5PQuD88Whd1hYuIue8eWSKDod5Ngnl5MQrj58FwEwwHkCAtKNApCpipEhEsKsGeIFPTQM3jtZbJj7JnBD9Nw0dx7RABCYN2tH8t45rh8RZ9QXL_HmY8yBQ4tpK1xNoi7LOyTJBZB_QO5KWDqscmWP5QLmHrZLWeTGjtUCnO3XqnEIQ-HVJCUlf9l2QH2_i0RzBM64JNOrmG1jQ6WQLc4hvDwfanEkU41oyoAABlYJ-1U8djM72tJQ1L5SJJ949QzmQV3gUGdR_4AjTY8Pj86IO9nOWF3A6YzNIEvlC51UM6J0JjdNepRzsKoJem_HaYaHx3I1zQ9qkaUAU2Pk_oP7-zpwCS_olB_cNu1]--></g></svg></p><p>Fíjate que en el diagrama de clases, aparece el símbolo <strong><code>#</code></strong>.</p>
<ul>
<li>Es un modificador que <strong>solo tiene sentido aplicarlo a una superclase</strong>.</li>
<li>Se representará por la palabra reservada <strong><code>protected</code></strong>, y significará que el <strong>campo</strong> o el <strong>método</strong> al que modifica, no puede ser accedido desde fuera de la clase como en el caso de private, pero si desde las <strong>subclases</strong> de la misma.</li>
</ul>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Articulo</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>precio <span class="token operator">=</span> precio<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">nombre</span><span class="token punctuation">}</span></span><span class="token string">\n Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">precio</span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-protected">protected</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-protected">protected</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> precio<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span> <span class="token comment">// Indicamos tras los : a que clase extiende</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> porcentajeRebaja<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">ArticuloRebajado</span><span class="token punctuation">(</span>
                <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">,</span>
                <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> porcentajeRebaja<span class="token punctuation">)</span> 
                <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> precio<span class="token punctuation">)</span> <span class="token comment">// Llamamos al constructor de la superclase</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>porcentajeRebaja <span class="token operator">=</span> porcentajeRebaja<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-ushort">ushort</span></span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> porcentajeRebaja<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetPrecioRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATextoRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\nRebaja: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">%\n"</span></span> <span class="token operator">+</span>
               <span class="token interpolation-string"><span class="token string">$"Antes: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€\nAhora: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPrecioRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">EjemploHerencia</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Polo Ralph Lauren"</span><span class="token punctuation">,</span> <span class="token number">75d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Polo Fred Perry"</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">.</span><span class="token function">ATextoRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p></p><p align="center" style="zoom:0.7" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="891pt" height="228pt" viewBox="0.00 0.00 890.55 228.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 224)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-224 886.55,-224 886.55,4 -4,4"></polygon>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="black" cx="27" cy="-87" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-82.8" font-family="Arial" font-size="14.00">a</text>
</g>
<!-- oa -->
<g id="node4" class="node">
<title>oa</title>
<polygon fill="none" stroke="black" points="99,-99.4 99,-128.2 329.45,-128.2 329.45,-99.4 99,-99.4"></polygon>
<text text-anchor="start" x="165.6" y="-109.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;a : Articulo &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="104" y="-81.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;nombre = "Polo Ralph Lauren" &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="104" y="-55" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;precio = 75.00 &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="98,-44.8 98,-129.2 330.45,-129.2 330.45,-44.8 98,-44.8"></polygon>
</g>
<!-- a&#45;&gt;oa -->
<g id="edge1" class="edge">
<title>a-&gt;oa</title>
<path fill="none" stroke="black" d="M54.15,-87C61.38,-87 69.75,-87 78.8,-87"></path>
<polygon fill="black" stroke="black" points="78.62,-90.5 88.62,-87 78.62,-83.5 78.62,-90.5"></polygon>
</g>
<!-- ar -->
<g id="node2" class="node">
<title>ar</title>
<ellipse fill="none" stroke="black" cx="401.45" cy="-87" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="401.45" y="-82.8" font-family="Arial" font-size="14.00">ar</text>
</g>
<!-- oar -->
<g id="node5" class="node">
<title>oar</title>
<polygon fill="none" stroke="black" points="473.45,-166.2 473.45,-215 873.55,-215 873.55,-166.2 473.45,-166.2"></polygon>
<text text-anchor="start" x="606.19" y="-186.4" font-family="Arial" font-size="14.00">ar : ArticuloRebajado </text>
<polygon fill="none" stroke="#ee1289" points="489.45,-121.4 489.45,-150.2 857.55,-150.2 857.55,-121.4 489.45,-121.4"></polygon>
<text text-anchor="start" x="535.8" y="-132.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="582.47" y="-132.6" font-family="Arial" font-size="14.00" fill="#ee1289"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base : Articulo &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="764.53" y="-132.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="494.45" y="-104.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="541.13" y="-104.8" font-family="Arial" font-size="14.00" fill="#ee1289"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nombre = "Polo Fred Perry" &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="805.88" y="-104.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="494.45" y="-78" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="541.13" y="-78" font-family="Arial" font-size="14.00" fill="#ee1289"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;precio = 70.00 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="723.6" y="-78" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="#ee1289" points="488.45,-66.8 488.45,-151.2 858.55,-151.2 858.55,-66.8 488.45,-66.8"></polygon>
<text text-anchor="start" x="488.45" y="-24.2" font-family="Arial" font-size="14.00">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="black" points="472.45,-4 472.45,-216 874.55,-216 874.55,-4 472.45,-4"></polygon>
</g>
<!-- ar&#45;&gt;oar -->
<g id="edge3" class="edge">
<title>ar-&gt;oar</title>
<path fill="none" stroke="black" d="M428.84,-89.25C435.87,-89.85 444.05,-90.54 453.07,-91.31"></path>
<polygon fill="black" stroke="black" points="452.7,-94.79 462.96,-92.15 453.3,-87.82 452.7,-94.79"></polygon>
</g>
<!-- base -->
<g id="node3" class="node">
<title>base</title>
<ellipse fill="none" stroke="#ee1289" cx="401.45" cy="-159" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="401.45" y="-154.8" font-family="Arial" font-size="14.00" fill="#ee1289">base</text>
</g>
<!-- base&#45;&gt;oar -->
<g id="edge4" class="edge">
<title>base-&gt;oar:base</title>
<path fill="none" stroke="#ee1289" d="M426.84,-148.84C440.84,-143.77 459.15,-138.33 477.11,-136.58"></path>
<polygon fill="#ee1289" stroke="#ee1289" points="477.18,-140.08 486.99,-136.08 476.83,-133.09 477.18,-140.08"></polygon>
</g>
<!-- oa&#45;&gt;ar -->
<g id="edge2" class="edge">
<title>oa-&gt;ar</title>
<path fill="none" stroke="none" d="M338.26,-87C346.92,-87 355.19,-87 362.7,-87"></path>
<polygon fill="none" stroke="none" points="362.69,-90.5 372.69,-87 362.69,-83.5 362.69,-90.5"></polygon>
</g>
</g>
</svg>
</p><p></p>
<h5 id="palabra-reservada-base">Palabra reservada <em>base</em> </h5>
<ul>
<li>
<p>Si nos fijamos en el constructor de <strong><code>ArticuloRebajado</code></strong> solo se encarga de inicializar y crear los atributos específicos de la subclase, para crear los de la clase, llamaremos al constructor que deseemos de la clase base o superclase, utilizando la palabra reservada <strong><code>:base(&lt;parámetrosBase&gt;)</code></strong> a continuación de la declaración del constructor de la subclase.</p>
</li>
<li>
<p>Si hay un <strong>constructor por defecto</strong> en la superclase <strong>no haría falta poner nada</strong>, puesto que automáticamente seria llamado al llamar al de la subclase.</p>
</li>
<li>
<p>Al igual que <strong><code>this</code></strong> era una referencia implícita al objeto de la propia clase, en las subclases tenemos la palabra reservada <strong><code>base</code></strong> que también es una referencia implícita a un objeto de la superclase, para la subclase actual.</p>
<blockquote>
<p>📌 <strong>Nota:</strong> Me servirá en los casos en los que en la subclase y en la superclase tengamos un <strong>método con el mismo nombre</strong>.</p>
</blockquote>
</li>
</ul>
<h4 id="ocultación-e-invalidación">Ocultación e Invalidación </h4>
<p>Si te has fijado, en <strong><code>Articulo</code></strong> el getter de <strong><code>precio</code></strong> lo hemos llamado <strong><code>double GetPrecio()</code></strong> y en <strong><code>ArticuloRebajado</code></strong> le hemos llamado <strong><code>double GetPrecioRebajado()</code></strong>. Esto lo hemos hecho para no producir colisiones de signaturas (<em>recuerda que la subclase puede acceder a los métodos de la superclase</em>).<br>
Sin embargo, en el fondo es una <strong>redundancia</strong>, porque si a un objeto <strong><code>ArticuloRebajado articuloRebajado;</code></strong> le aplico un método llamado <strong><code>articuloRebajado.GetPrecio();</code></strong> ya se que estoy obteniendo el precio rebajado.</p>
<p>Si le ponemos el mismo nombre, <strong>tendríamos métodos con signaturas idénticas en la superclase y la subclase</strong> y posiblemente recibamos algún tipo de aviso del compilador. Pero ...</p>
<ul>
<li><strong>¿Se puede hacer esto?</strong></li>
<li><strong>¿Cómo resolvemos la ambigüedad que se produce?</strong></li>
</ul>
<p>En la <strong>POO tradicional</strong> hay <strong>dos estrategias</strong> posibles:</p>
<ul>
<li><strong>Reemplazo</strong>: Se sustituye completamente la implementación del método heredado manteniendo la signatura.<br>
Comúnmente se le conoce como <strong>Ocultación</strong> (<em>hiding</em>)</li>
<li><strong>Refinamiento</strong>: Se añade nueva funcionalidad al comportamiento heredado.
<blockquote>
<p>✋ <strong>Importante</strong>: Es la más común y también se le conoce como <strong>Invalidación</strong> (<em>overriding</em>)</p>
</blockquote>
</li>
</ul>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">Object-oriented never made it outside of Xerox PARC; only the term did.</div>
        <div class="autor">- Alan Kay.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<h5 id="ocultación-o-reemplazo-en-csharp">Ocultación o reemplazo en CSharp </h5>
<ul>
<li>
<p>Será la <strong>estrategia</strong> que aplica <strong>por defecto C#</strong>, aunque como hemos comentado, el compilador <a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/compiler-messages/cs0108">nos avisará</a> por si nos hemos '<em>despistado</em>' y realmente queríamos hacer otra cosa. Por ejemplo, VSCode generará el siguiente mensaje.</p>
<blockquote>
<p><em>'ArticuloRebajado.GetPrecio()' oculta el miembro heredado 'Articulo.GetPrecio()'. Use la palabra clave new si su intención era ocultarlo. CS0108</em></p>
</blockquote>
</li>
<li>
<p>Puesto que con el <strong>reemplazo</strong> lo que buscamos es definir una nueva funcionalidad para una operación heredada, antepondremos la palabra reservada <strong><code>new</code></strong> a la operación o método de la clase hija o subclase con la misma signatura que queremos ocultar en la clase base o superclase.</p>
</li>
<li>
<p>Supongamos la misma relación de herencia anterior donde ahora queremos hacer una ocultación de los métodos <strong><code>GetPrecio</code></strong> y <strong><code>ATexto</code></strong>.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="156.6px" preserveAspectRatio="none" style="width:515px;height:156px;background:#FFFFFF;" version="1.1" viewBox="0 0 515 156" width="515.7px" zoomAndPan="magnify"><defs></defs><g><!--class ArticuloRebajado--><g id="elem_ArticuloRebajado"><rect codeline="10" fill="#FFFAFA" height="138.2906" id="ArticuloRebajado" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="496.8" x="6.3" y="6.3"></rect><ellipse cx="202.275" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M204.7641,16.9875 Q204.9047,16.7906 205.0734,16.6922 Q205.2422,16.5938 205.4391,16.5938 Q205.7766,16.5938 205.9875,16.8328 Q206.1984,17.0578 206.1984,17.6063 L206.1984,18.9141 Q206.1984,19.4625 205.9875,19.7016 Q205.7766,19.9406 205.4391,19.9406 Q205.1297,19.9406 204.9469,19.7578 Q204.7641,19.5891 204.6656,19.125 Q204.6234,18.8016 204.4547,18.6328 Q204.1594,18.2953 203.6109,18.0984 Q203.0625,17.9016 202.5,17.9016 Q201.8109,17.9016 201.2344,18.1969 Q200.6719,18.4922 200.2219,19.1672 Q199.7859,19.8422 199.7859,20.7703 L199.7859,21.7547 Q199.7859,22.8656 200.5875,23.6109 Q201.3891,24.3422 202.8234,24.3422 Q203.6672,24.3422 204.2578,24.1172 Q204.6094,23.9766 204.9891,23.5828 Q205.2281,23.3438 205.3547,23.2734 Q205.4953,23.2031 205.6781,23.2031 Q205.9734,23.2031 206.1984,23.4422 Q206.4375,23.6672 206.4375,23.9766 Q206.4375,24.2859 206.1281,24.6516 Q205.6781,25.1719 204.9609,25.4672 Q203.9906,25.875 202.8234,25.875 Q201.4594,25.875 200.3766,25.3125 Q199.4906,24.8625 198.8719,23.9063 Q198.2531,22.9359 198.2531,21.7828 L198.2531,20.7422 Q198.2531,19.5469 198.8016,18.5203 Q199.3641,17.4797 200.3484,16.9313 Q201.3328,16.3688 202.4438,16.3688 Q203.1047,16.3688 203.6813,16.5234 Q204.2719,16.6641 204.7641,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="97.2" x="220.725" y="25.8557">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="502.2" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="152.1" x="11.7" y="51.7799">-porcentajeRebaja : ushort</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="502.2" y1="58.1484" y2="58.1484"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="486" x="11.7" y="74.8283">+ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="182.7" x="11.7" y="90.6768">-GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="144.9" x="11.7" y="106.5252">-GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="137.7" x="11.7" y="122.3736">+ GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="110.7" x="11.7" y="138.2221">+ ATexto() : string</text></g><!--SRC=[TP31JiCm44Jl_WeVsnGghkMM50bngvfAFJlEAdNZUAErhQ8Y_ft5ha9Km1VBEszdHlQzSQCYDKXjbVTb26IQ6E1DewlD5UIJy1DI4k5bYnP9LbRfVYRj-AawgFZg2ADhCtOycG3rW3tCsErtKeNK0lrjbe4xgzhXHGYlbULIwuqGgJ1t2aP7Ytjer5crA3w4vFCeHoGDBgWpP4a-o-XFI44aOFLhSs6ST3Wq18nw_WVNFKYUZGJQ8CzQZ8s5FFlFV7bBVuMmksCMovyA4_G2NaUcCAav8Qb5iKecANmc5iKabmTulotckgnzYYy0]--></g></svg></p><p>La implementación en C# quedaría como sigue...</p>
<blockquote>
<p>✋ <strong>Importante</strong></p>
<ul>
<li><strong><code>base.GetPrecio();</code></strong> me devuelve el precio del original del artículo (sin descuento).</li>
<li><strong><code>this.GetPrecio();</code></strong> o <strong><code>GetPrecio();</code></strong> me devuelve el precio rebajado (con descuento).</li>
</ul>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido para abreviar.</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Añado el modificador new para confirmar que quiero hacer una ocultación.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-new">new</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token comment">// Aquí si en lugar de llamar a base.GetPrecio(), llamase a GetPrecio() tendría una llamada</span>
        <span class="token comment">// recursiva y se produciría una 'Stack Overflow'.</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-new">new</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Añado el modificador new para confirmar que quiero hacer una ocultación.</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\nRebaja: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">%\n"</span></span> <span class="token operator">+</span>
               <span class="token interpolation-string"><span class="token string">$"Antes: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€\nAhora: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ul>
<div style="page-break-after:always;"></div>
<h5 id="invalidación-o-refinamiento-en-csharp">Invalidación o refinamiento en CSharp </h5>
<ul>
<li>
<p>Será la opción que tomaremos en el 99% de los casos, pues es más flexible que la ocultación y me permitirá realizar los <strong>enlaces dinámicos</strong> que veremos mas adelante.</p>
</li>
<li>
<p>Haremos lo que hacía la clase padre, más nueva funcionalidad.</p>
</li>
<li>
<p>Llamaremos o marcaremos como métodos <em>'<strong>virtuales</strong>'</em> a los métodos '<em>invalidables</em>' en la superclase que sean <strong>públicos</strong> o <strong>protegidos</strong>.</p>
</li>
<li>
<p>Para ello utilizaremos la palabra reservada <strong><code>virtual</code></strong> precediendo a la declaración del método invalidable y la palabra <strong><code>override</code></strong> precediendo la declaración de un método que invalida a uno invalidable o virtual en la superclase.<br>
A diferencia de la ocultación, ambos <strong>métodos deberán tener la misma accesibilidad</strong>.</p>
<p>Para representar lo que queremos hacer. En <em>'nuestros'</em> <strong>diagramas de clases UML</strong>...</p>
<ul>
<li>
<p>Pondremos el modificador <strong><code>{virtual}</code></strong> al nombre del método invalidable. También, marcaremos en <strong>'<em>cursiva</em>'</strong> aquellos métodos virtuales o virtuales puros (que trataremos más adelante) ya que aunque dejó de usarse a partir de la versión 2.5 de UML, sigue siendo una notación ámpliamente usada .</p>
</li>
<li>
<p>Aquellos métodos que <strong>invaliden</strong> un método en su superclase los marcaremos con el caracter <em><code>^</code></em> precediendo al nombre del método, para tenerlo claro.</p>
</li>
<li>
<p>Si no ponemos nada, supondremos por convenio que estamos haciendo una ocultación.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="342.9px" preserveAspectRatio="none" style="width:509px;height:342px;background:#FFFFFF;" version="1.1" viewBox="0 0 509 342" width="509.4px" zoomAndPan="magnify"><defs></defs><g><!--class Articulo--><g id="elem_Articulo"><rect codeline="10" fill="#FFFAFA" height="138.2906" id="Articulo" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="273.6" x="117.9" y="6.3"></rect><ellipse cx="229.725" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M232.2141,16.9875 Q232.3547,16.7906 232.5234,16.6922 Q232.6922,16.5938 232.8891,16.5938 Q233.2266,16.5938 233.4375,16.8328 Q233.6484,17.0578 233.6484,17.6063 L233.6484,18.9141 Q233.6484,19.4625 233.4375,19.7016 Q233.2266,19.9406 232.8891,19.9406 Q232.5797,19.9406 232.3969,19.7578 Q232.2141,19.5891 232.1156,19.125 Q232.0734,18.8016 231.9047,18.6328 Q231.6094,18.2953 231.0609,18.0984 Q230.5125,17.9016 229.95,17.9016 Q229.2609,17.9016 228.6844,18.1969 Q228.1219,18.4922 227.6719,19.1672 Q227.2359,19.8422 227.2359,20.7703 L227.2359,21.7547 Q227.2359,22.8656 228.0375,23.6109 Q228.8391,24.3422 230.2734,24.3422 Q231.1172,24.3422 231.7078,24.1172 Q232.0594,23.9766 232.4391,23.5828 Q232.6781,23.3438 232.8047,23.2734 Q232.9453,23.2031 233.1281,23.2031 Q233.4234,23.2031 233.6484,23.4422 Q233.8875,23.6672 233.8875,23.9766 Q233.8875,24.2859 233.5781,24.6516 Q233.1281,25.1719 232.4109,25.4672 Q231.4406,25.875 230.2734,25.875 Q228.9094,25.875 227.8266,25.3125 Q226.9406,24.8625 226.3219,23.9063 Q225.7031,22.9359 225.7031,21.7828 L225.7031,20.7422 Q225.7031,19.5469 226.2516,18.5203 Q226.8141,17.4797 227.7984,16.9313 Q228.7828,16.3688 229.8938,16.3688 Q230.5547,16.3688 231.1313,16.5234 Q231.7219,16.6641 232.2141,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="42.3" x="248.175" y="25.8557">Articulo</text><line style="stroke:#000000;stroke-width:0.45;" x1="118.8" x2="390.6" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="89.1" x="123.3" y="51.7799">-precio : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="90" x="123.3" y="67.6283">-nombre : string</text><line style="stroke:#000000;stroke-width:0.45;" x1="118.8" x2="390.6" y1="73.9969" y2="73.9969"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="262.8" x="123.3" y="90.6768">+Articulo(in nombre : string, in precio : double)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="123.3" x="123.3" y="106.5252">#GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="181.8" x="123.3" y="122.3736">+GetPrecio() : double {virtual}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="158.4" x="123.3" y="138.2221">+ATexto() : string {virtual}</text></g><!--class ArticuloRebajado--><g id="elem_ArticuloRebajado"><rect codeline="21" fill="#FFFAFA" height="138.2906" id="ArticuloRebajado" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="496.8" x="6.3" y="198.9"></rect><ellipse cx="202.275" cy="213.3" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M204.7641,209.5875 Q204.9047,209.3906 205.0734,209.2922 Q205.2422,209.1938 205.4391,209.1938 Q205.7766,209.1938 205.9875,209.4328 Q206.1984,209.6578 206.1984,210.2063 L206.1984,211.5141 Q206.1984,212.0625 205.9875,212.3016 Q205.7766,212.5406 205.4391,212.5406 Q205.1297,212.5406 204.9469,212.3578 Q204.7641,212.1891 204.6656,211.725 Q204.6234,211.4016 204.4547,211.2328 Q204.1594,210.8953 203.6109,210.6984 Q203.0625,210.5016 202.5,210.5016 Q201.8109,210.5016 201.2344,210.7969 Q200.6719,211.0922 200.2219,211.7672 Q199.7859,212.4422 199.7859,213.3703 L199.7859,214.3547 Q199.7859,215.4656 200.5875,216.2109 Q201.3891,216.9422 202.8234,216.9422 Q203.6672,216.9422 204.2578,216.7172 Q204.6094,216.5766 204.9891,216.1828 Q205.2281,215.9438 205.3547,215.8734 Q205.4953,215.8031 205.6781,215.8031 Q205.9734,215.8031 206.1984,216.0422 Q206.4375,216.2672 206.4375,216.5766 Q206.4375,216.8859 206.1281,217.2516 Q205.6781,217.7719 204.9609,218.0672 Q203.9906,218.475 202.8234,218.475 Q201.4594,218.475 200.3766,217.9125 Q199.4906,217.4625 198.8719,216.5063 Q198.2531,215.5359 198.2531,214.3828 L198.2531,213.3422 Q198.2531,212.1469 198.8016,211.1203 Q199.3641,210.0797 200.3484,209.5313 Q201.3328,208.9688 202.4438,208.9688 Q203.1047,208.9688 203.6813,209.1234 Q204.2719,209.2641 204.7641,209.5875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="97.2" x="220.725" y="218.4557">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="502.2" y1="227.7" y2="227.7"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="152.1" x="11.7" y="244.3799">-porcentajeRebaja : ushort</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="502.2" y1="250.7484" y2="250.7484"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="486" x="11.7" y="267.4283">+ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="182.7" x="11.7" y="283.2768">-GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="144.9" x="11.7" y="299.1252">-GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="141.3" x="11.7" y="314.9736">^+GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacing" textLength="114.3" x="11.7" y="330.8221">^+ATexto() : string</text></g><!--reverse link Articulo to ArticuloRebajado--><g id="link_Articulo_ArticuloRebajado"><path codeline="32" d="M254.7,161.316 C254.7,178.731 254.7,181.242 254.7,198.657 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="254.7,145.116,249.3,161.316,260.1,161.316,254.7,145.116" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--SRC=[ZP0nJyCm48Lt_mfBB4rA4IjiQP4G2we84bianpcbRbrVTROfekf_nt7I4D9Mmelbk- -UxpsxKMOdI6ovrCBQp3bIfNVm8j7awXluFRCzaX7XVe4QYS-ra9j1QncUeePvk6f2RweM-rWf1_aMDp1W5yrFSwGAwB9O2uoaSeDxngmKEYnrzy1ON3Ziv9Jq6jc1yN1cV4SW5V97Ng4lDNHLWzkI85HjC6Xg5ilJVdgYp1YvvQ4s4alYs0r_1lSQwKdoAzcqqlGWol0MqXtvD63BA12nLe8VFXKvB_GnJI-CPE_mvN0W-uS_Zbs_GIdMeXguHv9Wd5X3smewtgwGtDZnQVAVpjlQDV6a-xqnF6AYbMw57de2AtsWXi5qOHGNK-kpAiuJQdCv-UB5R7OUpmy0]--></g></svg></p><p>La implementación en C# quedaría como sigue...</p>
</li>
</ul>
<ol>
<li>
<p>Modifico los métodos cómo invalidables con <strong><code>virtual</code></strong> en <strong><code>Articulo</code></strong> y los hagos public como va a ser en las subclases.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido para abreviar.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> precio<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">nombre</span><span class="token punctuation">}</span></span><span class="token string"> Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">precio</span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€"</span></span> <span class="token operator">+</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>        
</code></pre>   <div style="page-break-after:always;"></div>
</li>
<li>
<p>Invalido el método con la misma signatura en la subclase con el modificador <strong><code>override</code></strong></p>
<blockquote>
<p>💡 <strong>Tips:</strong></p>
<ul>
<li>Si escribo <strong><code>public override</code></strong> <em><code>Ctrl + &lt;espacio&gt;</code></em> el '<em>intellisense</em>' me ofrecerá permitirá escoger entre los métodos invalidables.</li>
<li>Si refactorizamos sobre el nombre de la clase con <em><code>Ctrl + .</code></em> una de ellas será '<em>Generar invalidaciones...</em>'</li>
</ul>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido para abreviar.</span>
    <span class="token comment">// Añado el modificador override para confirmar que quiero hacer una invalidación.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Añado el modificador override para confirmar que quiero hacer una invalidación.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\nRebaja: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">%\n"</span></span> <span class="token operator">+</span>
               <span class="token interpolation-string"><span class="token string">$"Antes: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€\nAhora: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ol>
</li>
<li>
<p>Lo normal es que en el momento que modifiquemos algún método en la jerarquía con <strong><code>virtual</code></strong> (invalidable), los métodos con la misma signatura en las subclases se modificarán con <strong><code>override</code></strong>.</p>
</li>
<li>
<p>Sin embargo, podemos hacer diseños más complejos como el del ejemplo siguiente donde volvemos a ocultar como sucede en la clase <strong><code>E</code></strong>. <strong>Deberemos evitar diseños complejos</strong>.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="63.9px" preserveAspectRatio="none" style="width:808px;height:63px;background:#FFFFFF;" version="1.1" viewBox="0 0 808 63" width="808.2px" zoomAndPan="magnify"><defs></defs><g><!--class A--><g id="elem_A"><rect codeline="13" fill="#FFFAFA" height="51.8484" id="A" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="103.5" x="6.3" y="6.3"></rect><ellipse cx="50.175" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M52.6641,16.9875 Q52.8047,16.7906 52.9734,16.6922 Q53.1422,16.5938 53.3391,16.5938 Q53.6766,16.5938 53.8875,16.8328 Q54.0984,17.0578 54.0984,17.6063 L54.0984,18.9141 Q54.0984,19.4625 53.8875,19.7016 Q53.6766,19.9406 53.3391,19.9406 Q53.0297,19.9406 52.8469,19.7578 Q52.6641,19.5891 52.5656,19.125 Q52.5234,18.8016 52.3547,18.6328 Q52.0594,18.2953 51.5109,18.0984 Q50.9625,17.9016 50.4,17.9016 Q49.7109,17.9016 49.1344,18.1969 Q48.5719,18.4922 48.1219,19.1672 Q47.6859,19.8422 47.6859,20.7703 L47.6859,21.7547 Q47.6859,22.8656 48.4875,23.6109 Q49.2891,24.3422 50.7234,24.3422 Q51.5672,24.3422 52.1578,24.1172 Q52.5094,23.9766 52.8891,23.5828 Q53.1281,23.3438 53.2547,23.2734 Q53.3953,23.2031 53.5781,23.2031 Q53.8734,23.2031 54.0984,23.4422 Q54.3375,23.6672 54.3375,23.9766 Q54.3375,24.2859 54.0281,24.6516 Q53.5781,25.1719 52.8609,25.4672 Q51.8906,25.875 50.7234,25.875 Q49.3594,25.875 48.2766,25.3125 Q47.3906,24.8625 46.7719,23.9063 Q46.1531,22.9359 46.1531,21.7828 L46.1531,20.7422 Q46.1531,19.5469 46.7016,18.5203 Q47.2641,17.4797 48.2484,16.9313 Q49.2328,16.3688 50.3438,16.3688 Q51.0047,16.3688 51.5813,16.5234 Q52.1719,16.6641 52.6641,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="8.1" x="68.625" y="25.8557">A</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="108.9" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="92.7" x="11.7" y="51.7799">+Metodo() : void</text></g><!--class B--><g id="elem_B"><rect codeline="17" fill="#FFFAFA" height="51.8484" id="B" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="149.4" x="163.8" y="6.3"></rect><ellipse cx="230.625" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M233.1141,16.9875 Q233.2547,16.7906 233.4234,16.6922 Q233.5922,16.5938 233.7891,16.5938 Q234.1266,16.5938 234.3375,16.8328 Q234.5484,17.0578 234.5484,17.6063 L234.5484,18.9141 Q234.5484,19.4625 234.3375,19.7016 Q234.1266,19.9406 233.7891,19.9406 Q233.4797,19.9406 233.2969,19.7578 Q233.1141,19.5891 233.0156,19.125 Q232.9734,18.8016 232.8047,18.6328 Q232.5094,18.2953 231.9609,18.0984 Q231.4125,17.9016 230.85,17.9016 Q230.1609,17.9016 229.5844,18.1969 Q229.0219,18.4922 228.5719,19.1672 Q228.1359,19.8422 228.1359,20.7703 L228.1359,21.7547 Q228.1359,22.8656 228.9375,23.6109 Q229.7391,24.3422 231.1734,24.3422 Q232.0172,24.3422 232.6078,24.1172 Q232.9594,23.9766 233.3391,23.5828 Q233.5781,23.3438 233.7047,23.2734 Q233.8453,23.2031 234.0281,23.2031 Q234.3234,23.2031 234.5484,23.4422 Q234.7875,23.6672 234.7875,23.9766 Q234.7875,24.2859 234.4781,24.6516 Q234.0281,25.1719 233.3109,25.4672 Q232.3406,25.875 231.1734,25.875 Q229.8094,25.875 228.7266,25.3125 Q227.8406,24.8625 227.2219,23.9063 Q226.6031,22.9359 226.6031,21.7828 L226.6031,20.7422 Q226.6031,19.5469 227.1516,18.5203 Q227.7141,17.4797 228.6984,16.9313 Q229.6828,16.3688 230.7938,16.3688 Q231.4547,16.3688 232.0313,16.5234 Q232.6219,16.6641 233.1141,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="8.1" x="249.075" y="25.8557">B</text><line style="stroke:#000000;stroke-width:0.45;" x1="164.7" x2="312.3" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="138.6" x="169.2" y="51.7799">+Metodo() : void {virtual}</text></g><!--class C--><g id="elem_C"><rect codeline="21" fill="#FFFAFA" height="51.8484" id="C" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="111.6" x="367.2" y="6.3"></rect><ellipse cx="414.675" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M417.1641,16.9875 Q417.3047,16.7906 417.4734,16.6922 Q417.6422,16.5938 417.8391,16.5938 Q418.1766,16.5938 418.3875,16.8328 Q418.5984,17.0578 418.5984,17.6063 L418.5984,18.9141 Q418.5984,19.4625 418.3875,19.7016 Q418.1766,19.9406 417.8391,19.9406 Q417.5297,19.9406 417.3469,19.7578 Q417.1641,19.5891 417.0656,19.125 Q417.0234,18.8016 416.8547,18.6328 Q416.5594,18.2953 416.0109,18.0984 Q415.4625,17.9016 414.9,17.9016 Q414.2109,17.9016 413.6344,18.1969 Q413.0719,18.4922 412.6219,19.1672 Q412.1859,19.8422 412.1859,20.7703 L412.1859,21.7547 Q412.1859,22.8656 412.9875,23.6109 Q413.7891,24.3422 415.2234,24.3422 Q416.0672,24.3422 416.6578,24.1172 Q417.0094,23.9766 417.3891,23.5828 Q417.6281,23.3438 417.7547,23.2734 Q417.8953,23.2031 418.0781,23.2031 Q418.3734,23.2031 418.5984,23.4422 Q418.8375,23.6672 418.8375,23.9766 Q418.8375,24.2859 418.5281,24.6516 Q418.0781,25.1719 417.3609,25.4672 Q416.3906,25.875 415.2234,25.875 Q413.8594,25.875 412.7766,25.3125 Q411.8906,24.8625 411.2719,23.9063 Q410.6531,22.9359 410.6531,21.7828 L410.6531,20.7422 Q410.6531,19.5469 411.2016,18.5203 Q411.7641,17.4797 412.7484,16.9313 Q413.7328,16.3688 414.8438,16.3688 Q415.5047,16.3688 416.0813,16.5234 Q416.6719,16.6641 417.1641,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="9" x="433.125" y="25.8557">C</text><line style="stroke:#000000;stroke-width:0.45;" x1="368.1" x2="477.9" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="100.8" x="372.6" y="51.7799">^+ Metodo() : void</text></g><!--class D--><g id="elem_D"><rect codeline="25" fill="#FFFAFA" height="51.8484" id="D" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="111.6" x="532.8" y="6.3"></rect><ellipse cx="580.275" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M582.7641,16.9875 Q582.9047,16.7906 583.0734,16.6922 Q583.2422,16.5938 583.4391,16.5938 Q583.7766,16.5938 583.9875,16.8328 Q584.1984,17.0578 584.1984,17.6063 L584.1984,18.9141 Q584.1984,19.4625 583.9875,19.7016 Q583.7766,19.9406 583.4391,19.9406 Q583.1297,19.9406 582.9469,19.7578 Q582.7641,19.5891 582.6656,19.125 Q582.6234,18.8016 582.4547,18.6328 Q582.1594,18.2953 581.6109,18.0984 Q581.0625,17.9016 580.5,17.9016 Q579.8109,17.9016 579.2344,18.1969 Q578.6719,18.4922 578.2219,19.1672 Q577.7859,19.8422 577.7859,20.7703 L577.7859,21.7547 Q577.7859,22.8656 578.5875,23.6109 Q579.3891,24.3422 580.8234,24.3422 Q581.6672,24.3422 582.2578,24.1172 Q582.6094,23.9766 582.9891,23.5828 Q583.2281,23.3438 583.3547,23.2734 Q583.4953,23.2031 583.6781,23.2031 Q583.9734,23.2031 584.1984,23.4422 Q584.4375,23.6672 584.4375,23.9766 Q584.4375,24.2859 584.1281,24.6516 Q583.6781,25.1719 582.9609,25.4672 Q581.9906,25.875 580.8234,25.875 Q579.4594,25.875 578.3766,25.3125 Q577.4906,24.8625 576.8719,23.9063 Q576.2531,22.9359 576.2531,21.7828 L576.2531,20.7422 Q576.2531,19.5469 576.8016,18.5203 Q577.3641,17.4797 578.3484,16.9313 Q579.3328,16.3688 580.4438,16.3688 Q581.1047,16.3688 581.6813,16.5234 Q582.2719,16.6641 582.7641,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="9" x="598.725" y="25.8557">D</text><line style="stroke:#000000;stroke-width:0.45;" x1="533.7" x2="643.5" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="100.8" x="538.2" y="51.7799">^+ Metodo() : void</text></g><!--class E--><g id="elem_E"><rect codeline="29" fill="#FFFAFA" height="51.8484" id="E" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="103.5" x="698.4" y="6.3"></rect><ellipse cx="742.275" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M744.7641,16.9875 Q744.9047,16.7906 745.0734,16.6922 Q745.2422,16.5938 745.4391,16.5938 Q745.7766,16.5938 745.9875,16.8328 Q746.1984,17.0578 746.1984,17.6063 L746.1984,18.9141 Q746.1984,19.4625 745.9875,19.7016 Q745.7766,19.9406 745.4391,19.9406 Q745.1297,19.9406 744.9469,19.7578 Q744.7641,19.5891 744.6656,19.125 Q744.6234,18.8016 744.4547,18.6328 Q744.1594,18.2953 743.6109,18.0984 Q743.0625,17.9016 742.5,17.9016 Q741.8109,17.9016 741.2344,18.1969 Q740.6719,18.4922 740.2219,19.1672 Q739.7859,19.8422 739.7859,20.7703 L739.7859,21.7547 Q739.7859,22.8656 740.5875,23.6109 Q741.3891,24.3422 742.8234,24.3422 Q743.6672,24.3422 744.2578,24.1172 Q744.6094,23.9766 744.9891,23.5828 Q745.2281,23.3438 745.3547,23.2734 Q745.4953,23.2031 745.6781,23.2031 Q745.9734,23.2031 746.1984,23.4422 Q746.4375,23.6672 746.4375,23.9766 Q746.4375,24.2859 746.1281,24.6516 Q745.6781,25.1719 744.9609,25.4672 Q743.9906,25.875 742.8234,25.875 Q741.4594,25.875 740.3766,25.3125 Q739.4906,24.8625 738.8719,23.9063 Q738.2531,22.9359 738.2531,21.7828 L738.2531,20.7422 Q738.2531,19.5469 738.8016,18.5203 Q739.3641,17.4797 740.3484,16.9313 Q741.3328,16.3688 742.4438,16.3688 Q743.1047,16.3688 743.6813,16.5234 Q744.2719,16.6641 744.7641,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="8.1" x="760.725" y="25.8557">E</text><line style="stroke:#000000;stroke-width:0.45;" x1="699.3" x2="801" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="92.7" x="703.8" y="51.7799">+Metodo() : void</text></g><!--reverse link A to B--><g id="link_A_B"><path codeline="34" d="M126.108,32.4 C142.812,32.4 145.53,32.4 163.593,32.4 " fill="none" id="A-backto-B" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="109.908,32.4,126.108,37.8,126.108,27,109.908,32.4" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link B to C--><g id="link_B_C"><path codeline="35" d="M329.652,32.4 C347.553,32.4 350.172,32.4 367.029,32.4 " fill="none" id="B-backto-C" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="313.452,32.4,329.652,37.8,329.652,27,313.452,32.4" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link C to D--><g id="link_C_D"><path codeline="36" d="M495.099,32.4 C512.388,32.4 515.268,32.4 532.566,32.4 " fill="none" id="C-backto-D" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="478.899,32.4,495.099,37.8,495.099,27,478.899,32.4" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link D to E--><g id="link_D_E"><path codeline="37" d="M660.681,32.4 C678.096,32.4 681.066,32.4 698.202,32.4 " fill="none" id="D-backto-E" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="644.481,32.4,660.681,37.8,660.681,27,644.481,32.4" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--SRC=[XOy_QyD03CLtVGgDBIMbQxlvd0mP2WKFtGBdEzK-VBQ2JaveZRzxxSOKqxzQ7a8_FJr5Ub5KHWbLhUY3aDF07QGcT4ShjaKNRKgPgeIoLzexxehmHdYtGZ8HFkSSMT14wvhLw6bgRKLcaagux_m5Uww3Kj5oGoisdoyP5a_oiza5-69LT7m6ICx6ATJjFK0TF26rHtt5bjgI905yF84P381JtU0ZANk-kiO7F77mC2w4MOZ1bad5EXs_mpYSWcXlu_YvbYzhXz-Tj_yZkp_YGOQ7pSQ0cIM7V9OjR6VPmJi0]--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">A</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">A</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Oculta el de A y lo marco como virtual o invalidable.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">C</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">B</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Invalido Metodo() en B</span>
    <span class="token punctuation">{</span> 
        <span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Llamada a la implementación de B </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">D</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">C</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// Invalido Metodo() en B y C</span>
    <span class="token punctuation">{</span> 
        <span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Llamada a la implementación de C</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">E</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">D</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-new">new</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// Corto la secuencia de invalidaciones ocultando el método.</span>
    <span class="token punctuation">{</span> 
        <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ul>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">The most fundamental problem in software development is complexity. There is only one basic way of dealing with complexity: divide and conquer.</div>
        <div class="autor">- Bjarne Stroustrup.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<div class="caso_estudio">
<p>🎓 <strong>Caso de estudio:</strong></p>
<p>Vamos a definir otra concreción más de la clase <strong><code>Articulo</code></strong>. En este caso, va a representar artículos reacondicionados, de los que vamos a añadir una <strong>fecha de reacondicionamiento</strong>, la <strong>empresa</strong> que lo realiza y una <strong>descripción</strong> del trabajo realizado.</p>
<ul>
<li>Solo vamos a invalidar el método <strong><code>string ATexto()</code></strong>.</li>
<li>Instancia un objeto de la nueva clase.</li>
</ul>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="158px" preserveAspectRatio="none" style="width:378px;height:158px;" version="1.1" viewBox="0 0 378 158" width="378px" zoomAndPan="magnify"><defs></defs><g><!--class ArticuloReacondicionado--><g id="elem_ArticuloReacondicionado"><rect codeline="12" fill="#FFDEAD" height="32" id="ArticuloReacondicionado" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="189" x="7" y="119"></rect><ellipse cx="22" cy="135" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M24.7656,130.875 Q24.9219,130.6563 25.1094,130.5469 Q25.2969,130.4375 25.5156,130.4375 Q25.8906,130.4375 26.125,130.7031 Q26.3594,130.9531 26.3594,131.5625 L26.3594,133.0156 Q26.3594,133.625 26.125,133.8906 Q25.8906,134.1563 25.5156,134.1563 Q25.1719,134.1563 24.9688,133.9531 Q24.7656,133.7656 24.6563,133.25 Q24.6094,132.8906 24.4219,132.7031 Q24.0938,132.3281 23.4844,132.1094 Q22.875,131.8906 22.25,131.8906 Q21.4844,131.8906 20.8438,132.2188 Q20.2188,132.5469 19.7188,133.2969 Q19.2344,134.0469 19.2344,135.0781 L19.2344,136.1719 Q19.2344,137.4063 20.125,138.2344 Q21.0156,139.0469 22.6094,139.0469 Q23.5469,139.0469 24.2031,138.7969 Q24.5938,138.6406 25.0156,138.2031 Q25.2813,137.9375 25.4219,137.8594 Q25.5781,137.7813 25.7813,137.7813 Q26.1094,137.7813 26.3594,138.0469 Q26.625,138.2969 26.625,138.6406 Q26.625,138.9844 26.2813,139.3906 Q25.7813,139.9688 24.9844,140.2969 Q23.9063,140.75 22.6094,140.75 Q21.0938,140.75 19.8906,140.125 Q18.9063,139.625 18.2188,138.5625 Q17.5313,137.4844 17.5313,136.2031 L17.5313,135.0469 Q17.5313,133.7188 18.1406,132.5781 Q18.7656,131.4219 19.8594,130.8125 Q20.9531,130.1875 22.1875,130.1875 Q22.9219,130.1875 23.5625,130.3594 Q24.2188,130.5156 24.7656,130.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="36" y="140.7285">ArticuloReacondicionado</text></g><!--class Articulo--><g id="elem_Articulo"><rect fill="#FFFAFA" height="32" id="Articulo" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="79" x="162" y="7"></rect><ellipse cx="177" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M179.7656,18.875 Q179.9219,18.6563 180.1094,18.5469 Q180.2969,18.4375 180.5156,18.4375 Q180.8906,18.4375 181.125,18.7031 Q181.3594,18.9531 181.3594,19.5625 L181.3594,21.0156 Q181.3594,21.625 181.125,21.8906 Q180.8906,22.1563 180.5156,22.1563 Q180.1719,22.1563 179.9688,21.9531 Q179.7656,21.7656 179.6563,21.25 Q179.6094,20.8906 179.4219,20.7031 Q179.0938,20.3281 178.4844,20.1094 Q177.875,19.8906 177.25,19.8906 Q176.4844,19.8906 175.8438,20.2188 Q175.2188,20.5469 174.7188,21.2969 Q174.2344,22.0469 174.2344,23.0781 L174.2344,24.1719 Q174.2344,25.4063 175.125,26.2344 Q176.0156,27.0469 177.6094,27.0469 Q178.5469,27.0469 179.2031,26.7969 Q179.5938,26.6406 180.0156,26.2031 Q180.2813,25.9375 180.4219,25.8594 Q180.5781,25.7813 180.7813,25.7813 Q181.1094,25.7813 181.3594,26.0469 Q181.625,26.2969 181.625,26.6406 Q181.625,26.9844 181.2813,27.3906 Q180.7813,27.9688 179.9844,28.2969 Q178.9063,28.75 177.6094,28.75 Q176.0938,28.75 174.8906,28.125 Q173.9063,27.625 173.2188,26.5625 Q172.5313,25.4844 172.5313,24.2031 L172.5313,23.0469 Q172.5313,21.7188 173.1406,20.5781 Q173.7656,19.4219 174.8594,18.8125 Q175.9531,18.1875 177.1875,18.1875 Q177.9219,18.1875 178.5625,18.3594 Q179.2188,18.5156 179.7656,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="191" y="28.7285">Articulo</text></g><polygon fill="none" points="201.5,39,208.5,59,194.5,59" style="stroke:#000000;stroke-width:1.0;"></polygon><line style="stroke:#000000;stroke-width:1.0;" x1="201.5" x2="201.5" y1="59" y2="60"></line><!--class ArticuloRebajado--><g id="elem_ArticuloRebajado"><rect fill="#FFFAFA" height="32" id="ArticuloRebajado" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="140" x="231.5" y="119"></rect><ellipse cx="246.5" cy="135" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M249.2656,130.875 Q249.4219,130.6563 249.6094,130.5469 Q249.7969,130.4375 250.0156,130.4375 Q250.3906,130.4375 250.625,130.7031 Q250.8594,130.9531 250.8594,131.5625 L250.8594,133.0156 Q250.8594,133.625 250.625,133.8906 Q250.3906,134.1563 250.0156,134.1563 Q249.6719,134.1563 249.4688,133.9531 Q249.2656,133.7656 249.1563,133.25 Q249.1094,132.8906 248.9219,132.7031 Q248.5938,132.3281 247.9844,132.1094 Q247.375,131.8906 246.75,131.8906 Q245.9844,131.8906 245.3438,132.2188 Q244.7188,132.5469 244.2188,133.2969 Q243.7344,134.0469 243.7344,135.0781 L243.7344,136.1719 Q243.7344,137.4063 244.625,138.2344 Q245.5156,139.0469 247.1094,139.0469 Q248.0469,139.0469 248.7031,138.7969 Q249.0938,138.6406 249.5156,138.2031 Q249.7813,137.9375 249.9219,137.8594 Q250.0781,137.7813 250.2813,137.7813 Q250.6094,137.7813 250.8594,138.0469 Q251.125,138.2969 251.125,138.6406 Q251.125,138.9844 250.7813,139.3906 Q250.2813,139.9688 249.4844,140.2969 Q248.4063,140.75 247.1094,140.75 Q245.5938,140.75 244.3906,140.125 Q243.4063,139.625 242.7188,138.5625 Q242.0313,137.4844 242.0313,136.2031 L242.0313,135.0469 Q242.0313,133.7188 242.6406,132.5781 Q243.2656,131.4219 244.3594,130.8125 Q245.4531,130.1875 246.6875,130.1875 Q247.4219,130.1875 248.0625,130.3594 Q248.7188,130.5156 249.2656,130.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="260.5" y="140.7285">ArticuloRebajado</text></g><!--reverse link Articulo to ArticuloRebajado--><g id="link_Articulo_ArticuloRebajado"><path codeline="14" d="M201.5,60 C201.5,60 251.49,96.99 280.78,118.67 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:1.0;"></path></g><!--reverse link Articulo to ArticuloReacondicionado--><g id="link_Articulo_ArticuloReacondicionado"><path codeline="15" d="M201.5,60 C201.5,60 151.51,96.99 122.22,118.67 " fill="none" id="Articulo-backto-ArticuloReacondicionado" style="stroke:#000000;stroke-width:1.0;"></path></g><!--SRC=[TO_1gi9034NtynK3hWNn3wmhT_8gk7kGpWGRsqbAPlgAVhrJHHd5jmhXdDnmOqSyW4AmheSODoafDMF2dHEkwOfsPU9BsQZAj9LUr5OzkAv0-xp22QiyJYeZ-uTsR2bX7QJ3mjtEdofHZ_ezx25yHDKiK-7CQDXnYqe9sA5T5_3pzg30CIFaP4nB7Ys68LrimD2WHcFkvNE_H6xivGSXr_VaI1Yys0N37vnbciiOyxJixt9Pd3Hmpkv_z2tGt000]--></g></svg></p><blockquote>
<p>📌 <strong>Nota:</strong> Antes de ver la la propuesta de implementación, intenta pensar cómo sería la misma.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloReacondicionado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Una vez reacondicionado, los datos no van a cambiar.</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">DateTime</span> fechaReacondicionamiento<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> empresa<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> descripcion<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">ArticuloReacondicionado</span><span class="token punctuation">(</span>
                                <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span>
                                <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">,</span>
                                <span class="token class-name">DateTime</span> fechaReacondicionamiento<span class="token punctuation">,</span>
                                <span class="token class-name"><span class="token keyword keyword-string">string</span></span> empresa<span class="token punctuation">,</span>
                                <span class="token class-name"><span class="token keyword keyword-string">string</span></span> descripcion<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> precio<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>fechaReacondicionamiento <span class="token operator">=</span> fechaReacondicionamiento<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>empresa <span class="token operator">=</span> empresa<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>descripcion <span class="token operator">=</span> descripcion<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetEmpresa</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> empresa<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Aprovechamos para no repetir el código que muestra los </span>
        <span class="token comment">// datos que son de artículo llamando a  base.ATexto()</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
                <span class="token interpolation-string"><span class="token string">$"\nFecha reacondicionamiento: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">fechaReacondicionamiento<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Empresa: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetEmpresa</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Descripción: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">descripcion</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">EjemploHerencia</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">ArticuloReacondicionado</span> ac <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span>
                                <span class="token string">"Fuente TFX"</span><span class="token punctuation">,</span> <span class="token number">50d</span><span class="token punctuation">,</span>
                                DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">"Balmis S.A"</span><span class="token punctuation">,</span>
                                <span class="token string">"Se cambia condensador electrolítico"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ac<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div> <!-- fin caso de estudio -->
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">Software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification.</div>
        <div class="autor">- Bertrand Mayer.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<h4 id="polimorfismo-de-datos-o-inclusión">Polimorfismo de datos o inclusión </h4>
<ul>
<li>Es la capacidad de un identificador de hacer referencia a instancias de distintas clases durante su ejecución.</li>
<li>Se logra a través del <strong>principio de sustitución</strong>.</li>
</ul>
<h4 id="principio-de-sustitución-de-liskov-upcasting">Principio de sustitución de Liskov (Upcasting) </h4>
<ul>
<li>
<p>Podemos decir que es, cuando un identificador que hemos declarado del tipo de la superclase, referencia a un objeto de la subclase.</p>
</li>
<li>
<p>También se le conoce como <strong>upcasting</strong></p>
</li>
<li>
<p>La <strong>conversión</strong> o <em>'cast'</em> se hace de forma <strong>implícita</strong>.</p>
</li>
<li>
<p>Creamos un objeto de la subclase y lo asignamos a la superclase.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Polo Fred Perry"</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Articulo</span> a <span class="token operator">=</span> ar<span class="token punctuation">;</span>

<span class="token comment">// También podemos hacerlo directamente.</span>
<span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Polo Fred Perry"</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
</ul>
<p></p><p align="center" style="zoom:0.7" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="397pt" height="277pt" viewBox="0.00 0.00 396.62 276.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 272.8)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-272.8 392.62,-272.8 392.62,4 -4,4"></polygon>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="black" cx="27" cy="-184.4" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-180.2" font-family="Arial" font-size="14.00">a</text>
</g>
<!-- oar -->
<g id="node2" class="node">
<title>oar</title>
<polygon fill="none" stroke="#a8a8a8" points="99,-215 99,-263.8 379.62,-263.8 379.62,-215 99,-215"></polygon>
<text text-anchor="start" x="184.05" y="-235.2" font-family="Arial" font-size="14.00" fill="#a8a8a8">ArticuloRebajado </text>
<polygon fill="none" stroke="black" points="115,-170.2 115,-199 363.62,-199 363.62,-170.2 115,-170.2"></polygon>
<text text-anchor="start" x="190.68" y="-180.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;a : Articulo &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="120" y="-152.6" font-family="Arial" font-size="14.00">nombre = "Polo Fred Perry" &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="120" y="-125.8" font-family="Arial" font-size="14.00">precio = 70.00 &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="114,-115.6 114,-200 364.62,-200 364.62,-115.6 114,-115.6"></polygon>
<text text-anchor="start" x="114" y="-73" font-family="Arial" font-size="14.00" fill="#a8a8a8">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#a8a8a8" points="99,-5 99,-53.8 379.62,-53.8 379.62,-5 99,-5"></polygon>
<text text-anchor="start" x="115" y="-26.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="130.56" y="-26.2" font-family="Arial" font-size="14.00" fill="#a8a8a8">+GetPorcentajeRebaja() : ushort &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="348.06" y="-26.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="#a8a8a8" points="98,-4 98,-264.8 380.62,-264.8 380.62,-4 98,-4"></polygon>
</g>
<!-- a&#45;&gt;oar -->
<g id="edge1" class="edge">
<title>a-&gt;oar:a</title>
<path fill="none" stroke="black" d="M54.44,-184.4C68.45,-184.4 86.25,-184.4 103.28,-184.4"></path>
<polygon fill="black" stroke="black" points="102.79,-187.9 112.79,-184.4 102.79,-180.9 102.79,-187.9"></polygon>
</g>
</g>
</svg>
</p><p></p>
<blockquote>
<p>✋ <strong>Importante:</strong> Aunque creamos un objeto <strong><code>ArticuloRebajado</code></strong> <strong>completo</strong> en memoria. A través de <strong><code>a</code></strong> solo podremos acceder a la parte de <strong><code>Articulo</code></strong> que hay dentro del <strong><code>ArticuloRebajado</code></strong>.<br>
Por ejemplo, si tuvieramos una accesor público en <strong><code>ArticuloRebajado</code></strong> denominado <strong><code>ushort GetPorcentajeRebaja()</code></strong>, no podríamos hacer <strong><code>a.GetPorcentajeRebaja()</code></strong>.</p>
</blockquote>
<h4 id="downcasting">Downcasting </h4>
<ul>
<li>Se tratará de la <strong>operación contrária a la sustitución</strong> o upcasting.</li>
<li>Solo podremos hacerla si realmente la referencia que tenemos es del tipo al que queremos hacer el downcasting, en caso contrário obtendremos un <strong>error en tiempo de ejecución</strong>.</li>
</ul>
<p></p><p align="center" style="zoom:0.6" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="911pt" height="228pt" viewBox="0.00 0.00 911.16 228.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 224)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-224 907.16,-224 907.16,4 -4,4"></polygon>
<!-- a1 -->
<g id="node1" class="node">
<title>a1</title>
<ellipse fill="none" stroke="black" cx="27" cy="-136" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-131.8" font-family="Arial" font-size="14.00">a</text>
</g>
<!-- oar1 -->
<g id="node5" class="node">
<title>oar1</title>
<polygon fill="none" stroke="#a8a8a8" points="99,-166.2 99,-215 327.96,-215 327.96,-166.2 99,-166.2"></polygon>
<text text-anchor="start" x="158.22" y="-186.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">ArticuloRebajado </text>
<polygon fill="none" stroke="black" points="115,-121.4 115,-150.2 311.96,-150.2 311.96,-121.4 115,-121.4"></polygon>
<text text-anchor="start" x="164.85" y="-131.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;a : Articulo &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="120" y="-103.8" font-family="Arial" font-size="14.00">nombre = "Polo Fred Perry" &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="120" y="-77" font-family="Arial" font-size="14.00">precio = 70.00 &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="114,-66.8 114,-151.2 312.96,-151.2 312.96,-66.8 114,-66.8"></polygon>
<text text-anchor="start" x="114" y="-24.2" font-family="Arial" font-size="14.00" fill="#a8a8a8">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#a8a8a8" points="98,-4 98,-216 328.96,-216 328.96,-4 98,-4"></polygon>
</g>
<!-- a1&#45;&gt;oar1 -->
<g id="edge1" class="edge">
<title>a1-&gt;oar1:a</title>
<path fill="none" stroke="black" d="M54.49,-136C68.53,-136 86.37,-136 103.43,-136"></path>
<polygon fill="black" stroke="black" points="102.96,-139.5 112.96,-136 102.96,-132.5 102.96,-139.5"></polygon>
</g>
<!-- a2 -->
<g id="node2" class="node">
<title>a2</title>
<ellipse fill="none" stroke="#a8a8a8" cx="562.09" cy="-165" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="562.09" y="-160.8" font-family="Arial" font-size="14.00" fill="#a8a8a8">a</text>
</g>
<!-- oar2 -->
<g id="node6" class="node">
<title>oar2</title>
<polygon fill="none" stroke="black" points="634.09,-166.2 634.09,-215 894.16,-215 894.16,-166.2 634.09,-166.2"></polygon>
<text text-anchor="start" x="708.87" y="-186.4" font-family="Arial" font-size="14.00">ArticuloRebajado </text>
<polygon fill="none" stroke="#a8a8a8" points="650.09,-121.4 650.09,-150.2 878.16,-150.2 878.16,-121.4 650.09,-121.4"></polygon>
<text text-anchor="start" x="699.94" y="-132.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="715.5" y="-132.6" font-family="Arial" font-size="14.00" fill="#a8a8a8"> &nbsp;&nbsp;&nbsp;a : Articulo &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="812.75" y="-132.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="655.09" y="-104.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="670.65" y="-104.8" font-family="Arial" font-size="14.00" fill="#a8a8a8">nombre = "Polo Fred Perry" &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="857.6" y="-104.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="655.09" y="-78" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="670.65" y="-78" font-family="Arial" font-size="14.00" fill="#a8a8a8">precio = 70.00 &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="775.33" y="-78" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="#a8a8a8" points="649.09,-66.8 649.09,-151.2 879.16,-151.2 879.16,-66.8 649.09,-66.8"></polygon>
<text text-anchor="start" x="649.09" y="-24.2" font-family="Arial" font-size="14.00">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="black" points="633.09,-4 633.09,-216 895.16,-216 895.16,-4 633.09,-4"></polygon>
</g>
<!-- a2&#45;&gt;oar2 -->
<g id="edge4" class="edge">
<title>a2-&gt;oar2:a</title>
<path fill="none" stroke="#a8a8a8" d="M586.48,-152.53C600.49,-146.02 619.12,-138.96 637.65,-136.72"></path>
<polygon fill="#a8a8a8" stroke="#a8a8a8" points="637.85,-140.21 647.62,-136.09 637.42,-133.23 637.85,-140.21"></polygon>
</g>
<!-- code -->
<g id="node3" class="node">
<title>code</title>
<text text-anchor="middle" x="436.02" y="-105.8" font-family="Arial" font-size="14.00">= downcasting =&gt;</text>
</g>
<!-- code&#45;&gt;oar2 -->
<g id="edge3" class="edge">
<title>code-&gt;oar2</title>
<path fill="none" stroke="none" d="M498.74,-110C531.49,-110 573.26,-110 613.89,-110"></path>
<polygon fill="none" stroke="none" points="613.79,-113.5 623.79,-110 613.79,-106.5 613.79,-113.5"></polygon>
</g>
<!-- ar -->
<g id="node4" class="node">
<title>ar</title>
<ellipse fill="none" stroke="black" cx="562.09" cy="-55" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="562.09" y="-50.8" font-family="Arial" font-size="14.00">ar</text>
</g>
<!-- ar&#45;&gt;oar2 -->
<g id="edge5" class="edge">
<title>ar-&gt;oar2</title>
<path fill="none" stroke="black" d="M588.42,-61.97C595.99,-64.05 604.88,-66.49 614.58,-69.16"></path>
<polygon fill="black" stroke="black" points="613.36,-72.45 623.93,-71.73 615.21,-65.7 613.36,-72.45"></polygon>
</g>
<!-- oar1&#45;&gt;code -->
<g id="edge2" class="edge">
<title>oar1-&gt;code</title>
<path fill="none" stroke="none" d="M336.68,-110C345.19,-110 353.61,-110 361.72,-110"></path>
<polygon fill="none" stroke="none" points="361.46,-113.5 371.46,-110 361.46,-106.5 361.46,-113.5"></polygon>
</g>
</g>
</svg>
</p><p></p>
<h5 id="formas-de-realizar-el-downcasting">Formas de realizar el Downcasting </h5>
<ol>
<li>
<p>Mediante <strong>cast explícito</strong>:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Polo Fred Perry"</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a<span class="token punctuation">;</span> <span class="token comment">// realmente a es un ArticuloRebajado</span>
</code></pre><p>Sin embargo el siguiente código <strong>produciría un error al ejecutar</strong> 💀</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Polo Ralph Lauren"</span><span class="token punctuation">,</span> <span class="token number">75f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a<span class="token punctuation">;</span>
</code></pre></li>
<li>
<p>Mediante el operador <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/is">is</a></strong></p>
<p>Nos sirve para preguntarle a un objeto si es de un determinado tipo y saber así con seguridad si podemos hacer el downcasting.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Polo Ralph Lauren"</span><span class="token punctuation">,</span> <span class="token number">75f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>a <span class="token keyword keyword-is">is</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">)</span> <span class="token comment">// Preguntamos si admite la forma de ...</span>
<span class="token punctuation">{</span>
    <span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a<span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>Mediante el operador <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/operators/type-testing-and-cast#as-operator">as</a></strong></p>
<p>Realiza directamente el downcasting y si no puede asigna <strong>null</strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Polo Ralph Lauren"</span><span class="token punctuation">,</span> <span class="token number">75f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Generará un Warning porque se puede evaluar a null y ar no es anulable</span>
<span class="token comment">// deberíamos declararlo como ArticuloRebajado? ar</span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> a <span class="token keyword keyword-as">as</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Equivaldría ha hacer...</span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> a <span class="token keyword keyword-is">is</span> <span class="token class-name">ArticuloRebajado <span class="token punctuation">?</span></span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a <span class="token punctuation">:</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>
</code></pre></li>
<li>
<p>Apoyándonos en el operador de uso combinado null <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/operators/null-coalescing-operator">??</a></strong> que vimos en el tema 2</p>
<p>Se podría usar en el downcasting de la siguiente forma:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">"Samsung s10"</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">"FOXCOM"</span><span class="token punctuation">,</span> <span class="token string">"Cambio de batería"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      
<span class="token comment">// Nos aseguramos de que en ar siempre hay un objeto instanciado y evitamos el aviso</span>
<span class="token comment">// al no ser un tipo anulable 👍                      </span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> a <span class="token keyword keyword-as">as</span> <span class="token class-name">ArticuloRebajado 
                      <span class="token punctuation">?</span></span><span class="token punctuation">?</span> 
                      <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span> a<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                               
</code></pre> <div style="page-break-after:always;"></div>
</li>
<li>
<p>Usando la <strong>instrucción</strong> <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/switch#type-pattern">switch</a></strong> con <strong>patrones de tipo</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">"Samsung s11"</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">"FOXCOM"</span><span class="token punctuation">,</span> <span class="token string">"Cambio de batería"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-switch">switch</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-case">case</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">:</span>
        <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> <span class="token class-name">ArticuloRebajado</span> _<span class="token punctuation">:</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Es rebajado"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> <span class="token class-name">ArticuloReacondicionado</span> ac <span class="token keyword keyword-when">when</span> ac<span class="token punctuation">.</span><span class="token function">GetEmpresa</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"FOXCOM"</span><span class="token punctuation">:</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Es reacondicionado de FOXCOM"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> <span class="token class-name">ArticuloReacondicionado</span> ac<span class="token punctuation">:</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ac<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-default">default</span><span class="token punctuation">:</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"No es un tipo de objeto contemplado"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>Usando la <strong>expresión switch</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">"Samsung s11"</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">"FOXCOM"</span><span class="token punctuation">,</span> <span class="token string">"Cambio de batería"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token keyword keyword-switch">switch</span>
<span class="token punctuation">{</span>
    <span class="token return-type class-name">ArticuloRebajado</span> ar <span class="token operator">=&gt;</span> ar<span class="token punctuation">,</span>
    _ <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
</ol>
<h4 id="ligadura-dinámica">Ligadura Dinámica </h4>
<p>También se le conoce como <strong>enlace dinámico</strong>.<br>
Una de las principales '<em>ventajas</em>' de la <strong>invalidación</strong>, es que al hacer una <strong>sustitución</strong> como la que hemos visto del tipo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Polo Fred Perry"</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="flotante" ,="" style="align-items: center;">
<div class="flotante_izq">
<p><strong><code>Console.WriteLine(a.GetPrecio());</code></strong> mostrará <strong>59,5</strong> y no <strong>70</strong>. Pero,... ¿Cómo puede suceder esto si <strong><code>a</code></strong> esta referenciando a la parte de <strong><code>Articulo</code></strong> que hay en el objeto <strong><code>ArticuloRebajado</code></strong> instanciado y <strong><code>GetPrecio()</code></strong> de <strong><code>Articulo</code></strong> me devuelve el precio sin el descuento?</p>
<p>Si nos fijamos en la figura siguiente, lo que realmente sucede es que al hacer <strong><code>a.GetPrecio()</code></strong> y ver que <strong><code>GetPrecio()</code></strong> está marcado como invalidable o <strong>virtual</strong>. Buscará posibles invalidaciones de ese método en el objeto realmente instanciado (<strong><code>ArticuloRebajado</code></strong>) y si existen lo que hará es llamar a la invalidación.</p>
</div>
<div class="flotante_der">
<p></p><p align="center" style="zoom:0.7" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="464pt" height="306pt" viewBox="0.00 0.00 463.59 305.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 301.6)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-301.6 459.59,-301.6 459.59,4 -4,4"></polygon>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="black" cx="51.57" cy="-213.8" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="51.57" y="-209.6" font-family="Arial" font-size="14.00">a</text>
</g>
<!-- oar -->
<g id="node3" class="node">
<title>oar</title>
<polygon fill="none" stroke="#a8a8a8" points="148.14,-243.8 148.14,-292.6 446.59,-292.6 446.59,-243.8 148.14,-243.8"></polygon>
<text text-anchor="start" x="244.05" y="-264" font-family="Arial" font-size="14.00" fill="#a8a8a8">ArticuloRebajado</text>
<polygon fill="none" stroke="black" points="164.14,-199 164.14,-227.8 430.59,-227.8 430.59,-199 164.14,-199"></polygon>
<text text-anchor="start" x="248.74" y="-209.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;a : Articulo &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="169.14" y="-181.4" font-family="Arial" font-size="14.00">nombre = "Polo Fred Perry" &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="169.14" y="-154.6" font-family="Arial" font-size="14.00">precio = 70.00 &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="164.14,-116.6 164.14,-145.4 430.59,-145.4 430.59,-116.6 164.14,-116.6"></polygon>
<text text-anchor="start" x="170.14" y="-127.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="185.7" y="-127.8" font-family="Arial" font-size="14.00" fill="#ee1289"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="201.25" y="-127.8" font-family="Arial" font-style="italic" font-size="14.00" fill="#ee1289">GetPrecio() : double → 70 &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="377.12" y="-127.8" font-family="Arial" font-size="14.00" fill="#ee1289"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="392.67" y="-127.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="163.14,-115.6 163.14,-228.8 431.59,-228.8 431.59,-115.6 163.14,-115.6"></polygon>
<text text-anchor="start" x="163.14" y="-73" font-family="Arial" font-size="14.00" fill="#a8a8a8">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#a8a8a8" points="148.14,-5 148.14,-53.8 446.59,-53.8 446.59,-5 148.14,-5"></polygon>
<text text-anchor="start" x="164.14" y="-26.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="179.7" y="-26.2" font-family="Arial" font-size="14.00" fill="#ee1289"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="195.25" y="-26.2" font-family="Arial" font-weight="bold" font-size="14.00" fill="#ee1289">^GetPrecio() : double → 59,5 &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="399.47" y="-26.2" font-family="Arial" font-size="14.00" fill="#ee1289"> &nbsp;&nbsp;&nbsp;</text>
<text text-anchor="start" x="415.03" y="-26.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="#a8a8a8" points="147.14,-4 147.14,-293.6 447.59,-293.6 447.59,-4 147.14,-4"></polygon>
</g>
<!-- a&#45;&gt;oar -->
<g id="edge1" class="edge">
<title>a-&gt;oar:a</title>
<path fill="none" stroke="black" d="M78.98,-213.8C98.54,-213.8 126.16,-213.8 152.03,-213.8"></path>
<polygon fill="black" stroke="black" points="151.85,-217.3 161.85,-213.8 151.85,-210.3 151.85,-217.3"></polygon>
</g>
<!-- ma -->
<g id="node2" class="node">
<title>ma</title>
<text text-anchor="middle" x="51.57" y="-141.6" font-family="Arial" font-size="14.00" fill="#ee1289">a.GetPrecio();</text>
</g>
<!-- ma&#45;&gt;oar -->
<g id="edge2" class="edge">
<title>ma:e-&gt;oar:nw</title>
<path fill="none" stroke="#ee1289" d="M103.14,-145.8C125.51,-145.8 139.34,-159.03 154.33,-152.31"></path>
<polygon fill="#ee1289" stroke="#ee1289" points="156.07,-155.37 162.14,-146.68 151.98,-149.69 156.07,-155.37"></polygon>
</g>
<!-- oar&#45;&gt;oar -->
<g id="edge3" class="edge">
<title>oar:virtual-&gt;oar:override</title>
<path fill="none" stroke="#ee1289" d="M164.32,-134.35C87.63,-131.08 16.24,-117.02 16.24,-80.3 16.24,-48 71.46,-33.24 136.94,-27.93"></path>
<polygon fill="#ee1289" stroke="#ee1289" points="137.17,-31.42 146.89,-27.21 136.67,-24.44 137.17,-31.42"></polygon>
</g>
</g>
</svg>
</p><p></p>
</div>
</div>
<p>A este enlace entre el método virtual y su invalidación, lo denominaremos <strong>ligadura dinámica</strong> y se denomina '<em>dinámica</em>' puesto que <strong>se decide en tiempo de ejecución</strong>, dependiendo del objeto que realmente tengamos instanciado y esté referenciado por la sustitución.</p>
<h5 id="ejemplo-de-uso-del-enlace-dinámico">Ejemplo de uso del Enlace Dinámico </h5>
<p>Veamos un ejemplo más elaborado a través de otro ejemplo en e que vamos a ampliar nuestra jerarquía de artículos.</p>
<p>Supongamos que nos piden hacer una concreción más de artículos, para aquellos que están en exposición. Nos comentan que <strong>los artículos en exposición siempre tienen algún tipo de rebaja</strong>. Por lo tanto podemos decir que <strong>un artículo en exposición - <em>es un</em> - artículo rebajado</strong>.<br>
Además, se nos especifica que el porcentaje de rebaja coincidirá con los días que el artículo esté en exposición siendo un mínimo de un 1% y un máximo de 75% de su valor. De esta manera si un artículo lleva 20 días en exposición su descuento será del 20% pero si lleva 100 días su descuento será del 75%.<br>
De lo expuesto, al crear un artículo en exposición, nos interesará saber la fecha en que se inició la misma.</p>
<p>Una posible modelación del diagrama de clases para implementación UML siguiendo nuestro convenio de nomenclatura sería...</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="508px" preserveAspectRatio="none" style="width:674px;height:508px;background:#FFFFFF;" version="1.1" viewBox="0 0 674 508" width="674px" zoomAndPan="magnify"><defs></defs><g><!--class Articulo--><g id="elem_Articulo"><rect codeline="10" fill="#FFFAFA" height="110.4375" id="Articulo" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="328.5" y="7"></rect><ellipse cx="407.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M410.5156,18.875 Q410.6719,18.6563 410.8594,18.5469 Q411.0469,18.4375 411.2656,18.4375 Q411.6406,18.4375 411.875,18.7031 Q412.1094,18.9531 412.1094,19.5625 L412.1094,21.0156 Q412.1094,21.625 411.875,21.8906 Q411.6406,22.1563 411.2656,22.1563 Q410.9219,22.1563 410.7188,21.9531 Q410.5156,21.7656 410.4063,21.25 Q410.3594,20.8906 410.1719,20.7031 Q409.8438,20.3281 409.2344,20.1094 Q408.625,19.8906 408,19.8906 Q407.2344,19.8906 406.5938,20.2188 Q405.9688,20.5469 405.4688,21.2969 Q404.9844,22.0469 404.9844,23.0781 L404.9844,24.1719 Q404.9844,25.4063 405.875,26.2344 Q406.7656,27.0469 408.3594,27.0469 Q409.2969,27.0469 409.9531,26.7969 Q410.3438,26.6406 410.7656,26.2031 Q411.0313,25.9375 411.1719,25.8594 Q411.3281,25.7813 411.5313,25.7813 Q411.8594,25.7813 412.1094,26.0469 Q412.375,26.2969 412.375,26.6406 Q412.375,26.9844 412.0313,27.3906 Q411.5313,27.9688 410.7344,28.2969 Q409.6563,28.75 408.3594,28.75 Q406.8438,28.75 405.6406,28.125 Q404.6563,27.625 403.9688,26.5625 Q403.2813,25.4844 403.2813,24.2031 L403.2813,23.0469 Q403.2813,21.7188 403.8906,20.5781 Q404.5156,19.4219 405.6094,18.8125 Q406.7031,18.1875 407.9375,18.1875 Q408.6719,18.1875 409.3125,18.3594 Q409.9688,18.5156 410.5156,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="428.25" y="28.7285">Articulo</text><line style="stroke:#000000;stroke-width:0.5;" x1="329.5" x2="541.5" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="334.5" y="57.5332">+Articulo(...)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="334.5" y="75.1426">#GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="202" x="334.5" y="92.752">+GetPrecio() : double {virtual}</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="176" x="334.5" y="110.3613">+ATexto() : string {virtual}</text></g><!--class ArticuloRebajado--><g id="elem_ArticuloRebajado"><rect codeline="18" fill="#FFFAFA" height="128.0469" id="ArticuloRebajado" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="289" x="154" y="177"></rect><ellipse cx="240.25" cy="193" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M243.0156,188.875 Q243.1719,188.6563 243.3594,188.5469 Q243.5469,188.4375 243.7656,188.4375 Q244.1406,188.4375 244.375,188.7031 Q244.6094,188.9531 244.6094,189.5625 L244.6094,191.0156 Q244.6094,191.625 244.375,191.8906 Q244.1406,192.1563 243.7656,192.1563 Q243.4219,192.1563 243.2188,191.9531 Q243.0156,191.7656 242.9063,191.25 Q242.8594,190.8906 242.6719,190.7031 Q242.3438,190.3281 241.7344,190.1094 Q241.125,189.8906 240.5,189.8906 Q239.7344,189.8906 239.0938,190.2188 Q238.4688,190.5469 237.9688,191.2969 Q237.4844,192.0469 237.4844,193.0781 L237.4844,194.1719 Q237.4844,195.4063 238.375,196.2344 Q239.2656,197.0469 240.8594,197.0469 Q241.7969,197.0469 242.4531,196.7969 Q242.8438,196.6406 243.2656,196.2031 Q243.5313,195.9375 243.6719,195.8594 Q243.8281,195.7813 244.0313,195.7813 Q244.3594,195.7813 244.6094,196.0469 Q244.875,196.2969 244.875,196.6406 Q244.875,196.9844 244.5313,197.3906 Q244.0313,197.9688 243.2344,198.2969 Q242.1563,198.75 240.8594,198.75 Q239.3438,198.75 238.1406,198.125 Q237.1563,197.625 236.4688,196.5625 Q235.7813,195.4844 235.7813,194.2031 L235.7813,193.0469 Q235.7813,191.7188 236.3906,190.5781 Q237.0156,189.4219 238.1094,188.8125 Q239.2031,188.1875 240.4375,188.1875 Q241.1719,188.1875 241.8125,188.3594 Q242.4688,188.5156 243.0156,188.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="260.75" y="198.7285">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.5;" x1="155" x2="442" y1="209" y2="209"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="160" y="227.5332">+ArticuloRebajado(...)</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="277" x="160" y="245.1426">#GetPorcentajeRebaja() : ushort {virtual}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="160" y="262.752">-GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="157" x="160" y="280.3613">^+GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="127" x="160" y="297.9707">^+ATexto() : string</text></g><!--class ArticuloEnExposicion--><g id="elem_ArticuloEnExposicion"><rect codeline="27" fill="#FFFAFA" height="136.0469" id="ArticuloEnExposicion" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="583" x="7" y="365"></rect><ellipse cx="228.75" cy="381" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M231.5156,376.875 Q231.6719,376.6563 231.8594,376.5469 Q232.0469,376.4375 232.2656,376.4375 Q232.6406,376.4375 232.875,376.7031 Q233.1094,376.9531 233.1094,377.5625 L233.1094,379.0156 Q233.1094,379.625 232.875,379.8906 Q232.6406,380.1563 232.2656,380.1563 Q231.9219,380.1563 231.7188,379.9531 Q231.5156,379.7656 231.4063,379.25 Q231.3594,378.8906 231.1719,378.7031 Q230.8438,378.3281 230.2344,378.1094 Q229.625,377.8906 229,377.8906 Q228.2344,377.8906 227.5938,378.2188 Q226.9688,378.5469 226.4688,379.2969 Q225.9844,380.0469 225.9844,381.0781 L225.9844,382.1719 Q225.9844,383.4063 226.875,384.2344 Q227.7656,385.0469 229.3594,385.0469 Q230.2969,385.0469 230.9531,384.7969 Q231.3438,384.6406 231.7656,384.2031 Q232.0313,383.9375 232.1719,383.8594 Q232.3281,383.7813 232.5313,383.7813 Q232.8594,383.7813 233.1094,384.0469 Q233.375,384.2969 233.375,384.6406 Q233.375,384.9844 233.0313,385.3906 Q232.5313,385.9688 231.7344,386.2969 Q230.6563,386.75 229.3594,386.75 Q227.8438,386.75 226.6406,386.125 Q225.6563,385.625 224.9688,384.5625 Q224.2813,383.4844 224.2813,382.2031 L224.2813,381.0469 Q224.2813,379.7188 224.8906,378.5781 Q225.5156,377.4219 226.6094,376.8125 Q227.7031,376.1875 228.9375,376.1875 Q229.6719,376.1875 230.3125,376.3594 Q230.9688,376.5156 231.5156,376.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="249.25" y="386.7285">ArticuloEnExposicion</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="589" y1="397" y2="397"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="13" y="415.5332">-inicioExposicion : DateTime {readOnly}</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="589" y1="422.6094" y2="422.6094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="571" x="13" y="441.1426">+ArticuloEnExposicion(in nombre : string, in precio : double, in inicioExposicion : DateTime)</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="233" x="13" y="458.752">^#GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="13" y="476.3613">+GetDiasEnExposicion() : int</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="127" x="13" y="493.9707">^+ATexto() : string</text></g><!--class ArticuloReacondicionado--><g id="elem_ArticuloReacondicionado"><rect fill="#FFFAFA" height="32" id="ArticuloReacondicionado" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="189" x="478" y="225"></rect><ellipse cx="493" cy="241" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M495.7656,236.875 Q495.9219,236.6563 496.1094,236.5469 Q496.2969,236.4375 496.5156,236.4375 Q496.8906,236.4375 497.125,236.7031 Q497.3594,236.9531 497.3594,237.5625 L497.3594,239.0156 Q497.3594,239.625 497.125,239.8906 Q496.8906,240.1563 496.5156,240.1563 Q496.1719,240.1563 495.9688,239.9531 Q495.7656,239.7656 495.6563,239.25 Q495.6094,238.8906 495.4219,238.7031 Q495.0938,238.3281 494.4844,238.1094 Q493.875,237.8906 493.25,237.8906 Q492.4844,237.8906 491.8438,238.2188 Q491.2188,238.5469 490.7188,239.2969 Q490.2344,240.0469 490.2344,241.0781 L490.2344,242.1719 Q490.2344,243.4063 491.125,244.2344 Q492.0156,245.0469 493.6094,245.0469 Q494.5469,245.0469 495.2031,244.7969 Q495.5938,244.6406 496.0156,244.2031 Q496.2813,243.9375 496.4219,243.8594 Q496.5781,243.7813 496.7813,243.7813 Q497.1094,243.7813 497.3594,244.0469 Q497.625,244.2969 497.625,244.6406 Q497.625,244.9844 497.2813,245.3906 Q496.7813,245.9688 495.9844,246.2969 Q494.9063,246.75 493.6094,246.75 Q492.0938,246.75 490.8906,246.125 Q489.9063,245.625 489.2188,244.5625 Q488.5313,243.4844 488.5313,242.2031 L488.5313,241.0469 Q488.5313,239.7188 489.1406,238.5781 Q489.7656,237.4219 490.8594,236.8125 Q491.9531,236.1875 493.1875,236.1875 Q493.9219,236.1875 494.5625,236.3594 Q495.2188,236.5156 495.7656,236.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="507" y="246.7285">ArticuloReacondicionado</text></g><!--reverse link Articulo to ArticuloRebajado--><g id="link_Articulo_ArticuloRebajado"><path codeline="37" d="M382.6309,131.303 C367.9909,150.213 362.46,157.37 347.3,176.95 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="393.65,117.07,377.8865,127.63,387.3752,134.9761,393.65,117.07" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link ArticuloRebajado to ArticuloEnExposicion--><g id="link_ArticuloRebajado_ArticuloEnExposicion"><path codeline="38" d="M298.5,323 C298.5,342.23 298.5,345.44 298.5,364.93 " fill="none" id="ArticuloRebajado-backto-ArticuloEnExposicion" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="298.5,305,292.5,323,304.5,323,298.5,305" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Articulo to ArticuloReacondicionado--><g id="link_Articulo_ArticuloReacondicionado"><path codeline="39" d="M488.3673,131.3045 C517.1673,168.5145 542.4,201.11 560.73,224.79 " fill="none" id="Articulo-backto-ArticuloReacondicionado" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="477.35,117.07,483.6224,134.9769,493.1121,127.632,477.35,117.07" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--SRC=[XLFBRi8m4BpdAonnWT2WddlZfQgN5XMatY8vpYeO4c-qTWeKyUzr38Gaf2KNQtV7ipDZHM-boZdnZ8cKQpqsXcHK67WJg9Ro1zYpfol8c0XtKqoHs2JbObiRBMp94vZO8o4iL7o6VQsbWMM6MwXXf-Mc2L8Cr4rs1hIebWftdhUMCJ38SdDW6MGHaFOyfzoACr8KANf7ZzblM3Nwez5eu7ezzWhc7RE8e3zWBqnRiofn8zy_yiZMN9WJ6rhOWa18TB0OYoW5TloMP0gUddo_uyfu1Nk3DTe6_jHM-GaHt_2uKjlktqGtrlHAPKW2bE4RE8FTpaAlaSoTni3YPw15OI_KpLoOmqwdbR_mtbMNbxcQxtFKqhAeYv-0ILNMju5bc743AvdP90bu_A7IWwLgkAypzQLYohrLjVp9ihBSoQt4kju_owuXXW-YkvWk0vb9hXjAIfHKvb4gLnSi38BxXsut6gX6X7_mSFjBnWvHqlq2]--></g></svg></p><div style="page-break-after:always;"></div>
<p>Vamos a realizar una propuesta de implementación, comentada, de la especificación anterior.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... &lt;Código omitido para abreviar&gt;</span>
    <span class="token comment">// Modificamos la accesibilidad a protected porque a los métodos privados no se les </span>
    <span class="token comment">// puede aplicar el modificador virtual.</span>
    <span class="token keyword keyword-protected">protected</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-ushort">ushort</span></span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> porcentajeRebaja<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloEnExposicion</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ArticuloRebajado</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">DateTime</span> inicioExposicion<span class="token punctuation">;</span>
    <span class="token comment">// En un principio el descuento es 0 y lo calculeramos dinámicamente.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">ArticuloEnExposicion</span><span class="token punctuation">(</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> 
        <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">,</span> 
        <span class="token keyword keyword-in">in</span> <span class="token class-name">DateTime</span> inicioExposicion<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> precio<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>inicioExposicion <span class="token operator">=</span> inicioExposicion<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Invalidamo el porcentaje para calcularlo en función de los días en exposición.</span>
    <span class="token keyword keyword-protected">protected</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-ushort">ushort</span></span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> Convert<span class="token punctuation">.</span><span class="token function">ToUInt16</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Clamp</span><span class="token punctuation">(</span><span class="token function">GetDiasEnExposicion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Los días en esposición se calculan en el momento actual, desde el incio de la exposición.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetDiasEnExposicion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span>Now <span class="token operator">-</span> inicioExposicion<span class="token punctuation">)</span><span class="token punctuation">.</span>Days<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Invalidamos el método ATexto() de Articulo y ArticuloRebajado para que añada la nueva información.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$"\nEn exposición desde: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">inicioExposicion<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> total </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetDiasEnExposicion</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> días"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p>Si ahora en el programa principal ejecutamos el siguiente código...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// Creamos un ArticuloEnExposicion con fecha de inicio hace 10 días.</span>
<span class="token comment">// Hacemos una sustitución hacia el tipo más genérico Articulo</span>
<span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span>  <span class="token constructor-invocation class-name">ArticuloEnExposicion</span><span class="token punctuation">(</span><span class="token string">"TV Samsung OLED 50''"</span><span class="token punctuation">,</span> <span class="token number">999d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>Mostrará el siguiente código...</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>Nombre: TV Samsung OLED 50''
Rebaja: 10%
Antes: 999,00€
Ahora: 899,10€
En exposición desde: &lt;fecha actual - 10 días&gt; total 10 días
</code></pre><blockquote>
<p>✋ <strong>Importante:</strong> Si lo meditamos, se están realizando <strong>dos enlaces o ligaduras dinámicas</strong> '<mark>→</mark>' ...</p>
<ol>
<li><em><code>a.ATexto()</code></em> <mark>→</mark> <code>^ArticuloRebajado.Atexto()</code> <mark>→</mark> <strong><code>^ArticuloEnExposicion.Atexto()</code></strong></li>
<li>Al ejecutar <code>^ArticuloEnExposicion.Atexto()</code> se llamará a <code>base.ATexto()</code> el cual llamará a <code>^ArticuloRebajado.GetPrecio()</code> este al no estar invalidado llama a <code>ArticuloRebajado.GetDescuento()</code> que a su vez llama a <em><code>ArticuloRebajado.GetPorcentajeRebaja()</code></em> <mark>→</mark> <strong><code>^ArticuloEnExposicion.GetPorcentajeRebaja()</code></strong> produciéndose el segundo enlace.</li>
</ol>
</blockquote>
<h4 id="utilidad-del-polimorfismo-de-datos-sustitución-y-el-enlace-dinámico">Utilidad del polimorfismo de datos (sustitución) y el enlace dinámico </h4>
<ul>
<li>En ocasiones el software cambia y se añaden nuevas especificaciones, como pudieran ser nuevos tipos de artículos en la jerarquía.</li>
<li>Con el polimorfismo de datos, podremos adaptarnos a futuros cambios (Nuevas formas de un objeto), <strong>sin realizar cambios</strong> traumáticos y costosos en nuestros objetos ni en nuestra implementación.</li>
</ul>
<p>Veamos esto a través de un <strong>ejemplo simplificado</strong>:</p>
<ul>
<li>
<p>Supongamos que queremos modelar una clase <strong><code>TicketCompra</code></strong> que contenga al menos un artículo y que me permita añadir artículos al mismo.</p>
</li>
<li>
<p>Además, vamos a añadir un método para mostrar el ticket y otro para calcular el total del mismo.</p>
</li>
<li>
<p>Un posible diseño simplificado para expresar esto podría ser ...</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="150px" preserveAspectRatio="none" style="width:449px;height:150px;background:#FFFFFF;" version="1.1" viewBox="0 0 449 150" width="449px" zoomAndPan="magnify"><defs></defs><g><!--class TicketCompra--><g id="elem_TicketCompra"><rect codeline="10" fill="#FFFAFA" height="136.0469" id="TicketCompra" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="245" x="7" y="7"></rect><ellipse cx="81.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M84.0156,18.875 Q84.1719,18.6563 84.3594,18.5469 Q84.5469,18.4375 84.7656,18.4375 Q85.1406,18.4375 85.375,18.7031 Q85.6094,18.9531 85.6094,19.5625 L85.6094,21.0156 Q85.6094,21.625 85.375,21.8906 Q85.1406,22.1563 84.7656,22.1563 Q84.4219,22.1563 84.2188,21.9531 Q84.0156,21.7656 83.9063,21.25 Q83.8594,20.8906 83.6719,20.7031 Q83.3438,20.3281 82.7344,20.1094 Q82.125,19.8906 81.5,19.8906 Q80.7344,19.8906 80.0938,20.2188 Q79.4688,20.5469 78.9688,21.2969 Q78.4844,22.0469 78.4844,23.0781 L78.4844,24.1719 Q78.4844,25.4063 79.375,26.2344 Q80.2656,27.0469 81.8594,27.0469 Q82.7969,27.0469 83.4531,26.7969 Q83.8438,26.6406 84.2656,26.2031 Q84.5313,25.9375 84.6719,25.8594 Q84.8281,25.7813 85.0313,25.7813 Q85.3594,25.7813 85.6094,26.0469 Q85.875,26.2969 85.875,26.6406 Q85.875,26.9844 85.5313,27.3906 Q85.0313,27.9688 84.2344,28.2969 Q83.1563,28.75 81.8594,28.75 Q80.3438,28.75 79.1406,28.125 Q78.1563,27.625 77.4688,26.5625 Q76.7813,25.4844 76.7813,24.2031 L76.7813,23.0469 Q76.7813,21.7188 77.3906,20.5781 Q78.0156,19.4219 79.1094,18.8125 Q80.2031,18.1875 81.4375,18.1875 Q82.1719,18.1875 82.8125,18.3594 Q83.4688,18.5156 84.0156,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="101.75" y="28.7285">TicketCompra</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="251" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="13" y="57.5332">-articulos : Articulo[1..*]</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="251" y1="64.6094" y2="64.6094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188" x="13" y="83.1426">+TicketCompra(in a : Articulo)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="13" y="100.752">+GetTotal() : double</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233" x="13" y="118.3613">+Añade(in a : Articulo):TicketCompra</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="13" y="135.9707">+ATexto() : string</text></g><!--class Articulo--><g id="elem_Articulo"><rect fill="#FFFAFA" height="32" id="Articulo" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="79" x="363" y="59"></rect><ellipse cx="378" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M380.7656,70.875 Q380.9219,70.6563 381.1094,70.5469 Q381.2969,70.4375 381.5156,70.4375 Q381.8906,70.4375 382.125,70.7031 Q382.3594,70.9531 382.3594,71.5625 L382.3594,73.0156 Q382.3594,73.625 382.125,73.8906 Q381.8906,74.1563 381.5156,74.1563 Q381.1719,74.1563 380.9688,73.9531 Q380.7656,73.7656 380.6563,73.25 Q380.6094,72.8906 380.4219,72.7031 Q380.0938,72.3281 379.4844,72.1094 Q378.875,71.8906 378.25,71.8906 Q377.4844,71.8906 376.8438,72.2188 Q376.2188,72.5469 375.7188,73.2969 Q375.2344,74.0469 375.2344,75.0781 L375.2344,76.1719 Q375.2344,77.4063 376.125,78.2344 Q377.0156,79.0469 378.6094,79.0469 Q379.5469,79.0469 380.2031,78.7969 Q380.5938,78.6406 381.0156,78.2031 Q381.2813,77.9375 381.4219,77.8594 Q381.5781,77.7813 381.7813,77.7813 Q382.1094,77.7813 382.3594,78.0469 Q382.625,78.2969 382.625,78.6406 Q382.625,78.9844 382.2813,79.3906 Q381.7813,79.9688 380.9844,80.2969 Q379.9063,80.75 378.6094,80.75 Q377.0938,80.75 375.8906,80.125 Q374.9063,79.625 374.2188,78.5625 Q373.5313,77.4844 373.5313,76.2031 L373.5313,75.0469 Q373.5313,73.7188 374.1406,72.5781 Q374.7656,71.4219 375.8594,70.8125 Q376.9531,70.1875 378.1875,70.1875 Q378.9219,70.1875 379.5625,70.3594 Q380.2188,70.5156 380.7656,70.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="392" y="80.7285">Articulo</text></g><!--reverse link TicketCompra to Articulo--><g id="link_TicketCompra_Articulo"><path codeline="20" d="M264.13,75 C304.09,75 333.68,75 362.79,75 " fill="none" id="TicketCompra-backto-Articulo" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="252.13,75,258.13,79,264.13,75,258.13,71,252.13,75" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="283" y="71.4951">contiene</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="334.8675" y="89.7981">1..*</text></g><!--SRC=[RP5DJiGm38NtFeKrgnbGHx2TNQSBn0wfbLWW5cbgsgX9NBckXXznACx0nSYq4Ye_sJZH-_py57jwKbH6SMsds3WXguuZZBsBWn4Jq7epZhcgk7fIkhKSI_TAUBL2SX4-5UnPyEYDxLVINNgQbewfjC9JR1RildDAPU2ULcnnddHaQKZ-Drk0NrPbv1D0vnf22eE-OA1Gaum0StAidEr92mw367W3J2SpeivEdaSyfF3B_U5wlxzuX1cuN3TjNKIp0dSBSaDQiHg_tIMjuQdsj0ZvvuTfw4_NuKUGXQpeMNas6DF_nXRU0TOOSfRXvXniyssKuBG3THG9lW00]--></g></svg></p></li>
<li>
<p>Una posible implementación de la clase <strong><code>TicketCompra</code></strong> podría ser:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">TicketCompra</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Articulo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> articulos<span class="token punctuation">;</span>

    <span class="token comment">// Me aseguro de que un ticket al menos tenga un artículo.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">TicketCompra</span><span class="token punctuation">(</span><span class="token class-name">Articulo</span> a<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        articulos <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span> a <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> total <span class="token operator">=</span> <span class="token number">0d</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Articulo</span> a <span class="token keyword keyword-in">in</span> articulos<span class="token punctuation">)</span>
            total <span class="token operator">+=</span> a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> total<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Fluent interface pattern para añadir artículoa a mi ticket</span>
    <span class="token keyword keyword-public">public</span> TicketCompra Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token class-name">Articulo</span> a<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Array<span class="token punctuation">.</span><span class="token function">Resize</span><span class="token punctuation">(</span><span class="token keyword keyword-ref">ref</span> articulos<span class="token punctuation">,</span> articulos<span class="token punctuation">.</span>Length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        articulos<span class="token punctuation">[</span>articulos<span class="token punctuation">.</span>Length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> ticket <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Articulo</span> a <span class="token keyword keyword-in">in</span> articulos<span class="token punctuation">)</span>
            ticket<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">a<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">22</span></span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€\n"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ticket<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token string">"Total:"</span><span class="token punctuation">,</span><span class="token number">22</span></span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€\n"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> ticket<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>Si implementamos el siguiente programa principal de test...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">TicketCompra</span> t <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">TicketCompra</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Airpods Apple"</span><span class="token punctuation">,</span> <span class="token number">100d</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t<span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloEnExposicion</span><span class="token punctuation">(</span><span class="token string">"TV Samsung OLED 50''"</span><span class="token punctuation">,</span> <span class="token number">999d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
     <span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Honor Band 4"</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
     <span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span>
            <span class="token string">"Samsung s10"</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span>  
            DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"TechnoBalmis"</span><span class="token punctuation">,</span> <span class="token string">"Cambio de  batería"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ul>
<div style="page-break-after:always;"></div>
<ul>
<li>
<p>Obtendemos una salida del tipo...</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd cmd"><code>Airpods Apple              100,00€
TV Samsung OLED 50''       899,10€
Honor Band 4                29,75€
Samsung s10                300,00€
                Total:    1328,85€
</code></pre><p>Si nos fijamos aunque el ticket solo maneje artículos genéricos, ha sabido calcular correctamente a través del enlace dinámico el precio de cada uno de los artículos y el total.</p>
</li>
<li>
<p>Si ahora añadiésemos otro tipo de artículo como por ejemplo <strong>artículos defectuosos</strong>, que funcionan bien y no han sido reacondicionados, pero tienen algún defecto menor, como una rozadura, pixel muerto, etc. y por tanto se les aplica una rebaja, pero también nos interesa guardar información del defecto.</p>
</li>
<li>
<p>A la hora de modelizar podemos decir que <strong>un artículo defectuoso - <em>es un</em> - artículo rebajado</strong> y modelizarlo de la siguiente manera.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="201.6px" preserveAspectRatio="none" style="width:802px;height:201px;background:#FFFFFF;" version="1.1" viewBox="0 0 802 201" width="802.8px" zoomAndPan="magnify"><defs></defs><g><!--class ArticuloDefectuoso--><g id="elem_ArticuloDefectuoso"><rect codeline="11" fill="#FFDEAD" height="106.5938" id="ArticuloDefectuoso" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="612" x="6.3" y="89.1"></rect><ellipse cx="254.925" cy="103.5" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M257.4141,99.7875 Q257.5547,99.5906 257.7234,99.4922 Q257.8922,99.3938 258.0891,99.3938 Q258.4266,99.3938 258.6375,99.6328 Q258.8484,99.8578 258.8484,100.4063 L258.8484,101.7141 Q258.8484,102.2625 258.6375,102.5016 Q258.4266,102.7406 258.0891,102.7406 Q257.7797,102.7406 257.5969,102.5578 Q257.4141,102.3891 257.3156,101.925 Q257.2734,101.6016 257.1047,101.4328 Q256.8094,101.0953 256.2609,100.8984 Q255.7125,100.7016 255.15,100.7016 Q254.4609,100.7016 253.8844,100.9969 Q253.3219,101.2922 252.8719,101.9672 Q252.4359,102.6422 252.4359,103.5703 L252.4359,104.5547 Q252.4359,105.6656 253.2375,106.4109 Q254.0391,107.1422 255.4734,107.1422 Q256.3172,107.1422 256.9078,106.9172 Q257.2594,106.7766 257.6391,106.3828 Q257.8781,106.1438 258.0047,106.0734 Q258.1453,106.0031 258.3281,106.0031 Q258.6234,106.0031 258.8484,106.2422 Q259.0875,106.4672 259.0875,106.7766 Q259.0875,107.0859 258.7781,107.4516 Q258.3281,107.9719 257.6109,108.2672 Q256.6406,108.675 255.4734,108.675 Q254.1094,108.675 253.0266,108.1125 Q252.1406,107.6625 251.5219,106.7063 Q250.9031,105.7359 250.9031,104.5828 L250.9031,103.5422 Q250.9031,102.3469 251.4516,101.3203 Q252.0141,100.2797 252.9984,99.7313 Q253.9828,99.1688 255.0938,99.1688 Q255.7547,99.1688 256.3313,99.3234 Q256.9219,99.4641 257.4141,99.7875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="107.1" x="273.375" y="108.6557">ArticuloDefectuoso</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="617.4" y1="117.9" y2="117.9"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="153.9" x="11.7" y="134.5799">-defecto : string {readOnly}</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="617.4" y1="140.9484" y2="140.9484"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="601.2" x="11.7" y="157.6283">+ArticuloDefectuoso(in nombre : string, in precio : double, in porcentajeRebaja : ushort, in defecto : string)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="123.3" x="11.7" y="173.4768">+GetDefecto() : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="98.1" x="11.7" y="189.3252">+ATexto() : string</text></g><!--class ArticuloRebajado--><g id="elem_ArticuloRebajado"><rect fill="#FFFAFA" height="28.8" id="ArticuloRebajado" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="126" x="454.5" y="6.3"></rect><ellipse cx="468" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M470.4891,16.9875 Q470.6297,16.7906 470.7984,16.6922 Q470.9672,16.5938 471.1641,16.5938 Q471.5016,16.5938 471.7125,16.8328 Q471.9234,17.0578 471.9234,17.6063 L471.9234,18.9141 Q471.9234,19.4625 471.7125,19.7016 Q471.5016,19.9406 471.1641,19.9406 Q470.8547,19.9406 470.6719,19.7578 Q470.4891,19.5891 470.3906,19.125 Q470.3484,18.8016 470.1797,18.6328 Q469.8844,18.2953 469.3359,18.0984 Q468.7875,17.9016 468.225,17.9016 Q467.5359,17.9016 466.9594,18.1969 Q466.3969,18.4922 465.9469,19.1672 Q465.5109,19.8422 465.5109,20.7703 L465.5109,21.7547 Q465.5109,22.8656 466.3125,23.6109 Q467.1141,24.3422 468.5484,24.3422 Q469.3922,24.3422 469.9828,24.1172 Q470.3344,23.9766 470.7141,23.5828 Q470.9531,23.3438 471.0797,23.2734 Q471.2203,23.2031 471.4031,23.2031 Q471.6984,23.2031 471.9234,23.4422 Q472.1625,23.6672 472.1625,23.9766 Q472.1625,24.2859 471.8531,24.6516 Q471.4031,25.1719 470.6859,25.4672 Q469.7156,25.875 468.5484,25.875 Q467.1844,25.875 466.1016,25.3125 Q465.2156,24.8625 464.5969,23.9063 Q463.9781,22.9359 463.9781,21.7828 L463.9781,20.7422 Q463.9781,19.5469 464.5266,18.5203 Q465.0891,17.4797 466.0734,16.9313 Q467.0578,16.3688 468.1688,16.3688 Q468.8297,16.3688 469.4063,16.5234 Q469.9969,16.6641 470.4891,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="97.2" x="480.6" y="25.8557">ArticuloRebajado</text></g><!--class ArticuloEnExposicion--><g id="elem_ArticuloEnExposicion"><rect fill="#FFFAFA" height="28.8" id="ArticuloEnExposicion" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="146.7" x="650.25" y="127.8"></rect><ellipse cx="663.75" cy="142.2" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M666.2391,138.4875 Q666.3797,138.2906 666.5484,138.1922 Q666.7172,138.0938 666.9141,138.0938 Q667.2516,138.0938 667.4625,138.3328 Q667.6734,138.5578 667.6734,139.1063 L667.6734,140.4141 Q667.6734,140.9625 667.4625,141.2016 Q667.2516,141.4406 666.9141,141.4406 Q666.6047,141.4406 666.4219,141.2578 Q666.2391,141.0891 666.1406,140.625 Q666.0984,140.3016 665.9297,140.1328 Q665.6344,139.7953 665.0859,139.5984 Q664.5375,139.4016 663.975,139.4016 Q663.2859,139.4016 662.7094,139.6969 Q662.1469,139.9922 661.6969,140.6672 Q661.2609,141.3422 661.2609,142.2703 L661.2609,143.2547 Q661.2609,144.3656 662.0625,145.1109 Q662.8641,145.8422 664.2984,145.8422 Q665.1422,145.8422 665.7328,145.6172 Q666.0844,145.4766 666.4641,145.0828 Q666.7031,144.8438 666.8297,144.7734 Q666.9703,144.7031 667.1531,144.7031 Q667.4484,144.7031 667.6734,144.9422 Q667.9125,145.1672 667.9125,145.4766 Q667.9125,145.7859 667.6031,146.1516 Q667.1531,146.6719 666.4359,146.9672 Q665.4656,147.375 664.2984,147.375 Q662.9344,147.375 661.8516,146.8125 Q660.9656,146.3625 660.3469,145.4063 Q659.7281,144.4359 659.7281,143.2828 L659.7281,142.2422 Q659.7281,141.0469 660.2766,140.0203 Q660.8391,138.9797 661.8234,138.4313 Q662.8078,137.8688 663.9188,137.8688 Q664.5797,137.8688 665.1563,138.0234 Q665.7469,138.1641 666.2391,138.4875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="117.9" x="676.35" y="147.3557">ArticuloEnExposicion</text></g><!--reverse link ArticuloRebajado to ArticuloEnExposicion--><g id="link_ArticuloRebajado_ArticuloEnExposicion"><path codeline="20" d="M555.3211,43.3295 C578.9821,56.9375 602.262,70.362 634.5,89.1 C656.973,102.168 682.569,117.18 700.551,127.737 " fill="none" id="ArticuloRebajado-backto-ArticuloEnExposicion" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="541.278,35.253,552.629,48.0106,558.0133,38.6485,541.278,35.253" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link ArticuloRebajado to ArticuloDefectuoso--><g id="link_ArticuloRebajado_ArticuloDefectuoso"><path codeline="21" d="M479.9716,43.4964 C457.3366,56.6994 435.672,69.336 401.913,89.028 " fill="none" id="ArticuloRebajado-backto-ArticuloDefectuoso" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="493.965,35.334,477.2508,38.8319,482.6924,48.1608,493.965,35.334" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--SRC=[VP11JuGm48Nl_HMJUDcDOhpgRLatnfD6JBoPb7Q4GkcGQP5TD_vt2oYkgv5BmxpNzxwfhurh9Si6b9NUhq9WatS1RnMvpBmXN0W_MrRCrA_94aDgfQeFfFluAmjCur4mTKvFjgVI1CmQgl70knwQKcAD_7VOP3YAoXprGdWbROGwlnIYD1e1cpRieC4cH_P2Z4j4pc1KP-aQNr25ZZp1YPElig9-u15x0V5Bz2WJN86FMxi2zenItpcxUnUZu_HtqC8uSDJaZFErCuYpbb6P8KfJbrkSPiGANP0LFc0kAndLpfV4OLIFsvTJvGs6gOqMordxf7d4xSznvFn2d2eqmNEIp0-mSPjjIzv4DFU_ytj3yG40]--></g></svg></p></li>
<li>
<p>Donde una posible implementación podría ser ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloDefectuoso</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ArticuloRebajado</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> defecto<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">ArticuloDefectuoso</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> precio<span class="token punctuation">,</span> 
                                <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> porcentajeRebaja<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> defecto<span class="token punctuation">)</span> 
                                <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> precio<span class="token punctuation">,</span> porcentajeRebaja<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>defecto <span class="token operator">=</span> defecto<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetDefecto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> defecto<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
            <span class="token interpolation-string"><span class="token string">$"\nDefecto: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">defecto</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><blockquote>
<p>✋ <strong>Importante</strong>: Si ahora añadimos un nuevo artículo de este tipo a nuestro ticket. <strong>No tendremos que modificar nuestra clase <code>TicketCompra</code></strong> y esto será gracias al <strong>polimorfismo de datos</strong>.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">TicketCompra</span> t <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">TicketCompra</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Airpods Apple"</span><span class="token punctuation">,</span> <span class="token number">100d</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t<span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloEnExposicion</span><span class="token punctuation">(</span><span class="token string">"TV Samsung OLED 50''"</span><span class="token punctuation">,</span> <span class="token number">999d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Honor Band 4"</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span>
        <span class="token string">"Samsung s10"</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> 
        DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"TechnoBalmis"</span><span class="token punctuation">,</span> <span class="token string">"Cambio de batería"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// Añadimos un artículo nuevo a TicketCompra sin tener que modificarla.</span>
    <span class="token punctuation">.</span>Añ<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloDefectuoso</span><span class="token punctuation">(</span><span class="token string">"Woffer Bang &amp; Olufsen"</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"Pequeño picado en caja."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ul>
<h4 id="el-caso-especial-de-la-clase-object-en-csharp">El caso especial de la clase object en CSharp </h4>
<ul>
<li>
<p>La Clase <strong><code>Object</code></strong> definida en <strong><code>System</code></strong>, es una clase especial de la cual heredan de forma <strong>implícita</strong> todos los objetos, tanto valor como refrencia, creados en C#.</p>
</li>
<li>
<p>Por tanto, podemos decir que un objeto de <strong>la clase <code>object</code> puede sustituir a cualquier objeto</strong> definido por nosotros o en las BCL.</p>
</li>
<li>
<p>Historicamente, en los principios de C#, esta clase se utilizaba para tratar objetos de forma genérica como en colecciones, antes de que el lenguaje implementara la genericidad a través de genéricos o clases parametrizadas, cuyo uso es más recomendable.</p>
</li>
<li>
<p>Podemos encontrar esta clase en otros lenguajes como Java.</p>
</li>
<li>
<p><strong>Define una serie de métodos invalidables o virtuales que podremos redefinir</strong> en cualquiera de las clases que nosotros creemos. Entre ellos podemos destacar:</p>
<ol>
<li>
<p><strong>public virtual string <a href="https://docs.microsoft.com/es-es/dotnet/api/system.object.tostring">ToString</a>()</strong></p>
<p>Este método, es llamado <strong>automáticamente</strong> cada vez que un objeto se intenta formatear cómo cadena y equivaldría en cierta manera al método <strong><code>string ATexto()</code></strong> que hemos definido en nuestra jerarquía de artículos.</p>
<p>En el fondo, aunque no se especifique, <strong><code>Articulo</code></strong> hereda implícitamente de <strong><code>Object</code></strong> y por tanto las clases <strong><code>Articulo</code></strong>, <strong><code>ArticuloRebajado</code></strong>, <strong><code>ArticuloReacondicionado</code></strong>, etc. heredan el método <strong><code>ToString()</code></strong> y además pueden invalidarlo.</p>
<p>De hecho si no lo invalidamos y hacemos el siguiente codigo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-namespace">namespace</span> <span class="token namespace">EjemploErencia</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Falda"</span><span class="token punctuation">,</span> <span class="token number">30f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// Mostrará "EjemploErencia.Articulo" que es el NCC de la clase y </span>
            <span class="token comment">// es lo que hace la implementación de ToString en la clase Object si no la invalidamos.</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="189px" preserveAspectRatio="none" style="width:777px;height:189px;background:#FFFFFF;" version="1.1" viewBox="0 0 777 189" width="777.6px" zoomAndPan="magnify"><defs></defs><g><!--class Object--><g id="elem_Object"><rect codeline="12" fill="#FFDEAD" height="51.8484" id="Object" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="163.8" x="6.3" y="90"></rect><ellipse cx="65.925" cy="104.4" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M68.4141,100.6875 Q68.5547,100.4906 68.7234,100.3922 Q68.8922,100.2938 69.0891,100.2938 Q69.4266,100.2938 69.6375,100.5328 Q69.8484,100.7578 69.8484,101.3063 L69.8484,102.6141 Q69.8484,103.1625 69.6375,103.4016 Q69.4266,103.6406 69.0891,103.6406 Q68.7797,103.6406 68.5969,103.4578 Q68.4141,103.2891 68.3156,102.825 Q68.2734,102.5016 68.1047,102.3328 Q67.8094,101.9953 67.2609,101.7984 Q66.7125,101.6016 66.15,101.6016 Q65.4609,101.6016 64.8844,101.8969 Q64.3219,102.1922 63.8719,102.8672 Q63.4359,103.5422 63.4359,104.4703 L63.4359,105.4547 Q63.4359,106.5656 64.2375,107.3109 Q65.0391,108.0422 66.4734,108.0422 Q67.3172,108.0422 67.9078,107.8172 Q68.2594,107.6766 68.6391,107.2828 Q68.8781,107.0438 69.0047,106.9734 Q69.1453,106.9031 69.3281,106.9031 Q69.6234,106.9031 69.8484,107.1422 Q70.0875,107.3672 70.0875,107.6766 Q70.0875,107.9859 69.7781,108.3516 Q69.3281,108.8719 68.6109,109.1672 Q67.6406,109.575 66.4734,109.575 Q65.1094,109.575 64.0266,109.0125 Q63.1406,108.5625 62.5219,107.6063 Q61.9031,106.6359 61.9031,105.4828 L61.9031,104.4422 Q61.9031,103.2469 62.4516,102.2203 Q63.0141,101.1797 63.9984,100.6313 Q64.9828,100.0688 66.0938,100.0688 Q66.7547,100.0688 67.3313,100.2234 Q67.9219,100.3641 68.4141,100.6875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="36.9" x="84.375" y="109.5557">Object</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="169.2" y1="118.8" y2="118.8"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="153" x="11.7" y="135.4799">+ToString() : string {virtual}</text></g><!--class Articulo--><g id="elem_Articulo"><rect codeline="16" fill="#FFFAFA" height="51.8484" id="Articulo" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="122.4" x="224.1" y="90"></rect><ellipse cx="260.685" cy="104.4" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M263.1741,100.6875 Q263.3147,100.4906 263.4834,100.3922 Q263.6522,100.2938 263.8491,100.2938 Q264.1866,100.2938 264.3975,100.5328 Q264.6084,100.7578 264.6084,101.3063 L264.6084,102.6141 Q264.6084,103.1625 264.3975,103.4016 Q264.1866,103.6406 263.8491,103.6406 Q263.5397,103.6406 263.3569,103.4578 Q263.1741,103.2891 263.0756,102.825 Q263.0334,102.5016 262.8647,102.3328 Q262.5694,101.9953 262.0209,101.7984 Q261.4725,101.6016 260.91,101.6016 Q260.2209,101.6016 259.6444,101.8969 Q259.0819,102.1922 258.6319,102.8672 Q258.1959,103.5422 258.1959,104.4703 L258.1959,105.4547 Q258.1959,106.5656 258.9975,107.3109 Q259.7991,108.0422 261.2334,108.0422 Q262.0772,108.0422 262.6678,107.8172 Q263.0194,107.6766 263.3991,107.2828 Q263.6381,107.0438 263.7647,106.9734 Q263.9053,106.9031 264.0881,106.9031 Q264.3834,106.9031 264.6084,107.1422 Q264.8475,107.3672 264.8475,107.6766 Q264.8475,107.9859 264.5381,108.3516 Q264.0881,108.8719 263.3709,109.1672 Q262.4006,109.575 261.2334,109.575 Q259.8694,109.575 258.7866,109.0125 Q257.9006,108.5625 257.2819,107.6063 Q256.6631,106.6359 256.6631,105.4828 L256.6631,104.4422 Q256.6631,103.2469 257.2116,102.2203 Q257.7741,101.1797 258.7584,100.6313 Q259.7428,100.0688 260.8538,100.0688 Q261.5147,100.0688 262.0913,100.2234 Q262.6819,100.3641 263.1741,100.6875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="42.3" x="278.415" y="109.5557">Articulo</text><line style="stroke:#000000;stroke-width:0.45;" x1="225" x2="345.6" y1="118.8" y2="118.8"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="111.6" x="229.5" y="135.4799">^+ToString() : string</text></g><!--class ArticuloRebajado--><g id="elem_ArticuloRebajado"><rect codeline="20" fill="#FFFAFA" height="51.8484" id="ArticuloRebajado" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="126" x="422.55" y="47.7"></rect><ellipse cx="436.05" cy="62.1" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M438.5391,58.3875 Q438.6797,58.1906 438.8484,58.0922 Q439.0172,57.9938 439.2141,57.9938 Q439.5516,57.9938 439.7625,58.2328 Q439.9734,58.4578 439.9734,59.0063 L439.9734,60.3141 Q439.9734,60.8625 439.7625,61.1016 Q439.5516,61.3406 439.2141,61.3406 Q438.9047,61.3406 438.7219,61.1578 Q438.5391,60.9891 438.4406,60.525 Q438.3984,60.2016 438.2297,60.0328 Q437.9344,59.6953 437.3859,59.4984 Q436.8375,59.3016 436.275,59.3016 Q435.5859,59.3016 435.0094,59.5969 Q434.4469,59.8922 433.9969,60.5672 Q433.5609,61.2422 433.5609,62.1703 L433.5609,63.1547 Q433.5609,64.2656 434.3625,65.0109 Q435.1641,65.7422 436.5984,65.7422 Q437.4422,65.7422 438.0328,65.5172 Q438.3844,65.3766 438.7641,64.9828 Q439.0031,64.7438 439.1297,64.6734 Q439.2703,64.6031 439.4531,64.6031 Q439.7484,64.6031 439.9734,64.8422 Q440.2125,65.0672 440.2125,65.3766 Q440.2125,65.6859 439.9031,66.0516 Q439.4531,66.5719 438.7359,66.8672 Q437.7656,67.275 436.5984,67.275 Q435.2344,67.275 434.1516,66.7125 Q433.2656,66.2625 432.6469,65.3063 Q432.0281,64.3359 432.0281,63.1828 L432.0281,62.1422 Q432.0281,60.9469 432.5766,59.9203 Q433.1391,58.8797 434.1234,58.3313 Q435.1078,57.7688 436.2188,57.7688 Q436.8797,57.7688 437.4563,57.9234 Q438.0469,58.0641 438.5391,58.3875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="97.2" x="448.65" y="67.2557">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:0.45;" x1="423.45" x2="547.65" y1="76.5" y2="76.5"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="111.6" x="427.95" y="93.1799">^+ToString() : string</text></g><!--class ArticuloReacondicionado--><g id="elem_ArticuloReacondicionado"><rect codeline="24" fill="#FFFAFA" height="51.8484" id="ArticuloReacondicionado" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="170.1" x="400.5" y="131.4"></rect><ellipse cx="414" cy="145.8" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M416.4891,142.0875 Q416.6297,141.8906 416.7984,141.7922 Q416.9672,141.6938 417.1641,141.6938 Q417.5016,141.6938 417.7125,141.9328 Q417.9234,142.1578 417.9234,142.7063 L417.9234,144.0141 Q417.9234,144.5625 417.7125,144.8016 Q417.5016,145.0406 417.1641,145.0406 Q416.8547,145.0406 416.6719,144.8578 Q416.4891,144.6891 416.3906,144.225 Q416.3484,143.9016 416.1797,143.7328 Q415.8844,143.3953 415.3359,143.1984 Q414.7875,143.0016 414.225,143.0016 Q413.5359,143.0016 412.9594,143.2969 Q412.3969,143.5922 411.9469,144.2672 Q411.5109,144.9422 411.5109,145.8703 L411.5109,146.8547 Q411.5109,147.9656 412.3125,148.7109 Q413.1141,149.4422 414.5484,149.4422 Q415.3922,149.4422 415.9828,149.2172 Q416.3344,149.0766 416.7141,148.6828 Q416.9531,148.4438 417.0797,148.3734 Q417.2203,148.3031 417.4031,148.3031 Q417.6984,148.3031 417.9234,148.5422 Q418.1625,148.7672 418.1625,149.0766 Q418.1625,149.3859 417.8531,149.7516 Q417.4031,150.2719 416.6859,150.5672 Q415.7156,150.975 414.5484,150.975 Q413.1844,150.975 412.1016,150.4125 Q411.2156,149.9625 410.5969,149.0063 Q409.9781,148.0359 409.9781,146.8828 L409.9781,145.8422 Q409.9781,144.6469 410.5266,143.6203 Q411.0891,142.5797 412.0734,142.0313 Q413.0578,141.4688 414.1688,141.4688 Q414.8297,141.4688 415.4063,141.6234 Q415.9969,141.7641 416.4891,142.0875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="141.3" x="426.6" y="150.9557">ArticuloReacondicionado</text><line style="stroke:#000000;stroke-width:0.45;" x1="401.4" x2="569.7" y1="160.2" y2="160.2"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="111.6" x="405.9" y="176.8799">^+ToString() : string</text></g><!--class ArticuloEnExposicion--><g id="elem_ArticuloEnExposicion"><rect codeline="28" fill="#FFFAFA" height="51.8484" id="ArticuloEnExposicion" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="146.7" x="624.6" y="6.3"></rect><ellipse cx="638.1" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M640.5891,16.9875 Q640.7297,16.7906 640.8984,16.6922 Q641.0672,16.5938 641.2641,16.5938 Q641.6016,16.5938 641.8125,16.8328 Q642.0234,17.0578 642.0234,17.6063 L642.0234,18.9141 Q642.0234,19.4625 641.8125,19.7016 Q641.6016,19.9406 641.2641,19.9406 Q640.9547,19.9406 640.7719,19.7578 Q640.5891,19.5891 640.4906,19.125 Q640.4484,18.8016 640.2797,18.6328 Q639.9844,18.2953 639.4359,18.0984 Q638.8875,17.9016 638.325,17.9016 Q637.6359,17.9016 637.0594,18.1969 Q636.4969,18.4922 636.0469,19.1672 Q635.6109,19.8422 635.6109,20.7703 L635.6109,21.7547 Q635.6109,22.8656 636.4125,23.6109 Q637.2141,24.3422 638.6484,24.3422 Q639.4922,24.3422 640.0828,24.1172 Q640.4344,23.9766 640.8141,23.5828 Q641.0531,23.3438 641.1797,23.2734 Q641.3203,23.2031 641.5031,23.2031 Q641.7984,23.2031 642.0234,23.4422 Q642.2625,23.6672 642.2625,23.9766 Q642.2625,24.2859 641.9531,24.6516 Q641.5031,25.1719 640.7859,25.4672 Q639.8156,25.875 638.6484,25.875 Q637.2844,25.875 636.2016,25.3125 Q635.3156,24.8625 634.6969,23.9063 Q634.0781,22.9359 634.0781,21.7828 L634.0781,20.7422 Q634.0781,19.5469 634.6266,18.5203 Q635.1891,17.4797 636.1734,16.9313 Q637.1578,16.3688 638.2688,16.3688 Q638.9297,16.3688 639.5063,16.5234 Q640.0969,16.6641 640.5891,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="117.9" x="650.7" y="25.8557">ArticuloEnExposicion</text><line style="stroke:#000000;stroke-width:0.45;" x1="625.5" x2="770.4" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="111.6" x="630" y="51.7799">^+ToString() : string</text></g><!--class ArticuloDefectuoso--><g id="elem_ArticuloDefectuoso"><rect codeline="32" fill="#FFFAFA" height="51.8484" id="ArticuloDefectuoso" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="135.9" x="630" y="90"></rect><ellipse cx="643.5" cy="104.4" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M645.9891,100.6875 Q646.1297,100.4906 646.2984,100.3922 Q646.4672,100.2938 646.6641,100.2938 Q647.0016,100.2938 647.2125,100.5328 Q647.4234,100.7578 647.4234,101.3063 L647.4234,102.6141 Q647.4234,103.1625 647.2125,103.4016 Q647.0016,103.6406 646.6641,103.6406 Q646.3547,103.6406 646.1719,103.4578 Q645.9891,103.2891 645.8906,102.825 Q645.8484,102.5016 645.6797,102.3328 Q645.3844,101.9953 644.8359,101.7984 Q644.2875,101.6016 643.725,101.6016 Q643.0359,101.6016 642.4594,101.8969 Q641.8969,102.1922 641.4469,102.8672 Q641.0109,103.5422 641.0109,104.4703 L641.0109,105.4547 Q641.0109,106.5656 641.8125,107.3109 Q642.6141,108.0422 644.0484,108.0422 Q644.8922,108.0422 645.4828,107.8172 Q645.8344,107.6766 646.2141,107.2828 Q646.4531,107.0438 646.5797,106.9734 Q646.7203,106.9031 646.9031,106.9031 Q647.1984,106.9031 647.4234,107.1422 Q647.6625,107.3672 647.6625,107.6766 Q647.6625,107.9859 647.3531,108.3516 Q646.9031,108.8719 646.1859,109.1672 Q645.2156,109.575 644.0484,109.575 Q642.6844,109.575 641.6016,109.0125 Q640.7156,108.5625 640.0969,107.6063 Q639.4781,106.6359 639.4781,105.4828 L639.4781,104.4422 Q639.4781,103.2469 640.0266,102.2203 Q640.5891,101.1797 641.5734,100.6313 Q642.5578,100.0688 643.6688,100.0688 Q644.3297,100.0688 644.9063,100.2234 Q645.4969,100.3641 645.9891,100.6875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="107.1" x="656.1" y="109.5557">ArticuloDefectuoso</text><line style="stroke:#000000;stroke-width:0.45;" x1="630.9" x2="765" y1="118.8" y2="118.8"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="111.6" x="635.4" y="135.4799">^+ToString() : string</text></g><!--reverse link Object to Articulo--><g id="link_Object_Articulo"><path codeline="36" d="M186.426,116.1 C204.453,116.1 207.054,116.1 224.073,116.1 " fill="none" id="Object-backto-Articulo" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="170.226,116.1,186.426,121.5,186.426,110.7,170.226,116.1" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link Articulo to ArticuloRebajado--><g id="link_Articulo_ArticuloRebajado"><path codeline="37" d="M362.3978,99.8604 C386.4548,94.7304 398.295,92.205 422.532,87.039 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="346.554,103.239,363.524,105.1417,361.2716,94.5792,346.554,103.239" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link Articulo to ArticuloReacondicionado--><g id="link_Articulo_ArticuloReacondicionado"><path codeline="38" d="M362.412,132.0021 C379.395,135.5481 382.338,136.152 400.455,139.932 " fill="none" id="Articulo-backto-ArticuloReacondicionado" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="346.554,128.691,361.3083,137.2881,363.5157,126.7161,346.554,128.691" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link ArticuloRebajado to ArticuloEnExposicion--><g id="link_ArticuloRebajado_ArticuloEnExposicion"><path codeline="39" d="M564.6788,58.4214 C588.4478,53.7414 599.859,51.507 624.501,46.665 " fill="none" id="ArticuloRebajado-backto-ArticuloEnExposicion" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="548.784,61.551,565.722,63.7197,563.6356,53.1231,548.784,61.551" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link ArticuloRebajado to ArticuloDefectuoso--><g id="link_ArticuloRebajado_ArticuloDefectuoso"><path codeline="40" d="M564.6662,89.5123 C590.1362,94.6333 603.774,97.362 629.739,102.582 " fill="none" id="ArticuloRebajado-backto-ArticuloDefectuoso" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="548.784,86.319,563.6017,94.8063,565.7306,84.2182,548.784,86.319" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--SRC=[bL5DJm913BtFhsZYHMCmNlK6oC6JnZNnHjATBSl0x9Hqkg0I_hl3Xx8Bg64kqqxVQ_lUU1efA8EuSgnGE26hZeE9KnTcA5Y1zHXZLrLSNYizMWwP-oIuRK2w8hpeisU1daSxRPIUKuebzT9L2jUXsCBUnaufgtXA3Mn_FQd7Kf2SRhO57BJA0Y-CYHPzMkhcpfYnAmYecka7L5Jb9D6OZGXuoYT97bm4dEE45-iTpD90EalCemfQNLs_SfQqXlBo2kuXRa9OpfreZNvbLhjMNL5dQyyx_l0KxGZyGZbEi3YNXCdpmjdqBUTo1s7mFkEuuPv5VA1HSghc-D-ydQN3JcTloNVGUltH_akrBVAGrGAtLFs9tClu0W00]--></g></svg></p><p>Por tanto podríamos haber hecho...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Invalido el ToString de Object</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">nombre</span><span class="token punctuation">}</span></span><span class="token string">\nPrecio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">precio</span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">€"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloReacondicionado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Invalido el ToString de Articulo</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-base">base</span> <span class="token operator">+</span>
            <span class="token interpolation-string"><span class="token string">$"\nFecha reacondicionamiento: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">fechaReacondicionamiento<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
            <span class="token interpolation-string"><span class="token string">$"Empresa: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetEmpresa</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
            <span class="token interpolation-string"><span class="token string">$"Descripción: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">descripcion</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Falda"</span><span class="token punctuation">,</span> <span class="token number">30f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// Mostrará sin necesidad de hacer a.ToString().</span>
        <span class="token comment">// Nombre: Falda</span>
        <span class="token comment">// Precio: 30.00€  </span>
        <span class="token class-name">Articulo</span> arc <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">"Samsung s10"</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> 
                DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">"FOXCOM"</span><span class="token punctuation">,</span> <span class="token string">"Cambio de batería"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Datos -------------\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">arc</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// Mostrará sin necesidad de hacer arc.ToString().</span>
        <span class="token comment">// Datos -------------</span>
        <span class="token comment">// Nombre: Samsung s10</span>
        <span class="token comment">// Precio: 300.00€</span>
        <span class="token comment">// Fecha reacondicionamiento: &lt;dd/mm/aaaa actual&gt;</span>
        <span class="token comment">// Empresa: FOXCOM</span>
        <span class="token comment">// Descripción: Cambio de batería                      </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p><strong>public virtual bool <a href="https://docs.microsoft.com/es-es/dotnet/api/system.object.equals?view=netcore-3.1#System_Object_Equals_System_Object_">Equals</a>(object obj)</strong></p>
<p>Se usa para comparar el objeto sobre el que se aplica con cualquier otro que se le pase como parámetro en <strong>profundidad</strong>. Devuelve true si ambos objetos son iguales y false en caso contrario.</p>
<p>Veamos un ejemplo en el cual lo invalidaremos en las clases <strong><code>Articulo</code></strong> y <strong><code>ArticuloRebajado</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-object">object</span></span> obj<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>                   
        <span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> iguales <span class="token operator">=</span> obj <span class="token keyword keyword-is">is</span> <span class="token class-name">Articulo</span> a
                        <span class="token comment">// Si la entrada es un artículo y es distinto de null</span>
                        <span class="token comment">// y el nombre de los artículos son iguales.                 </span>
                        <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>nombre<span class="token punctuation">.</span><span class="token function">CompareTo</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span>          
                        <span class="token comment">// y los precios son iguales con una precisión de 0.00001</span>
                        <span class="token operator">&amp;&amp;</span> Math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>precio <span class="token operator">-</span> precio<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1e-5</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> iguales<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-object">object</span></span> obj<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> iguales <span class="token operator">=</span> obj <span class="token keyword keyword-is">is</span> <span class="token class-name">ArticuloRebajado</span> a
                    <span class="token operator">&amp;&amp;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Articulo<span class="token punctuation">)</span>obj<span class="token punctuation">)</span>
                    <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>porcentajeRebaja <span class="token operator">==</span> porcentajeRebaja<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> iguales<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Honor Band 5"</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Aunque a sea de tipo Articulo, se hace un enlace dinámico al Equals de </span>
        <span class="token comment">// ArticuloRebajado al invalidar el de artículo y realemnte serlo.</span>
        <span class="token comment">// Por lo cual en todos los casos se llama al Equals de ArticuloRebajado que a su vez</span>
        <span class="token comment">// llama al de artículo.</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Honor Band 4"</span><span class="token punctuation">,</span> <span class="token number">30d</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// False</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Honor Band 5"</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// True</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">"Honor Band 5"</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// False</span>

        <span class="token comment">// En este caso el downcasting obj as ArticuloRebajado se evaluará a null.</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">"Honor Band 5"</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// False</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ol>
<p>El resto de funciones invalidables de object las puedes consultar en la documentación oficial y ya se explicará más adelante en caso de necesitarse.</p>
</li>
</ul>
<div class="caso_estudio">
<p>🎓 <strong>Caso de estudio:</strong></p>
<p>Veamos un ejemplo simplificado de diseño '<em>similar</em>' al seguido con los artículos.</p>
<p>En este ejemplo vamos a suponer que el propietario de una campa de aparcamiento vehículos a largo plazo. Decide instalar un sistema automatizado de entrada y salida de vehículos.<br>
Para ello, decide poner un sistema de cámaras y una IA que trata de identificar información de los vehiculos que entran y salen.<br>
El sistema es capaz de identificar de un <strong>vehículo</strong> al pasar, la siguiente información común:</p>
<ul>
<li>
<p><strong>Matrícula</strong> que creará con formato '<strong><code>DDDD LLL</code></strong>' donde <strong><code>D</code></strong> será un dígito de 0 a 9 y <strong><code>L</code></strong> una letra mayúscula excluidas las vocales.</p>
</li>
<li>
<p><strong>Color</strong> que será un conjunto de valores con las tonalidades básicas. Devolviendo la IA la predominante en el vehículo. Estas podrán ser uno de los siguiente valores <strong><code>Blanco</code></strong>, <strong><code>Morado</code></strong>, <strong><code>Cian</code></strong>, <strong><code>Azul</code></strong>, <strong><code>Rojo</code></strong>, <strong><code>Verde</code></strong>, <strong><code>Negro</code></strong>, <strong><code>Naranja</code></strong> y <strong><code>Gris</code></strong>.</p>
</li>
<li>
<p><strong>Marca</strong> que será un conjunto de valores de logos que la IA es capaz de identificar en las imágenes como <strong><code>DESCONOCIDA</code></strong>, <strong><code>BMW</code></strong>, <strong><code>SEAT</code></strong>, <strong><code>AUDI</code></strong>, <strong><code>RENAULT</code></strong>, <strong><code>MAN</code></strong>, <strong><code>DAF</code></strong>, <strong><code>CITROEN</code></strong>, <strong><code>TOYOTA</code></strong>, <strong><code>SUZUKI</code></strong>, <strong><code>YAMAHA</code></strong>, <strong><code>MERCEDES</code></strong>, <strong><code>PEGASO</code></strong>.</p>
</li>
<li>
<p><strong>Número de ocupantes</strong> que la IA cree que hay en el interior del vehículo.</p>
</li>
</ul>
<p>Además, de todo esto la IA de momento sabe clasificar los <strong>vehículos</strong> en estás epecificaciones <strong><code>Coche</code></strong>, <strong><code>Moto</code></strong> y <strong><code>Camión</code></strong>. Cada especificación, a su vez debe estar categorizada a través de un conjunto de valores y en algún caso añadiremos información extra.</p>
<ul>
<li>
<p><strong>Coche:</strong> Podrá tomar uno de los valores del siguiente conjunto de datos <strong><code>SinIdentificar</code></strong>, <strong><code>Berlina</code></strong>, <strong><code>Coupe</code></strong>, <strong><code>Sedan</code></strong>, <strong><code>Cabrio</code></strong>, <strong><code>TodoTerreno</code></strong>, <strong><code>MonoVolumen</code></strong> y <strong><code>Crossover</code></strong>.</p>
</li>
<li>
<p><strong>Moto:</strong> Podrá tomar uno de los valores del siguiente conjunto de datos <strong><code>SinIdentificar</code></strong>, <strong><code>Scooter</code></strong>, <strong><code>Motocross</code></strong>, <strong><code>Naked</code></strong>, <strong><code>Trail</code></strong> y <strong><code>Supermotard</code></strong></p>
</li>
<li>
<p><strong>Camión:</strong> Podrá tomar uno de los valores del siguiente conjunto de datos <strong><code>SinIdentificar</code></strong>, <strong><code>Articulado</code></strong>, <strong><code>Frigorífico</code></strong>, <strong><code>Cisterna</code></strong> y  <strong><code>Trailer</code></strong>. Pero además en los camiones es capaz de añadir el número de <strong>ejes</strong> y <strong>carga máxima</strong> en kilos.</p>
</li>
</ul>
<p>Nuestra IA, que será el programa principal, pasará un objeto <strong><code>Vehículo</code></strong>, con la información que ha podido recolectar, a un objeto <strong><code>CampaVehiculos</code></strong> que tendrá una <strong>capacidad de plazas determinada</strong> (para nuestro caso de estudio <strong>5 vehículos</strong> independientemente de su tamaño para simplificar). Estás plazas se numerarán de la <strong>1</strong> a la <strong>5</strong>.</p>
<p>La clase <strong><code>CampaVehiculos</code></strong> tendrá pues las siguientes <strong>opraciones básicas</strong>:</p>
<ul>
<li>
<p><strong>Privadas</strong></p>
<ul>
<li><strong><code>int Busca(Vehiculo v)</code></strong>: Me retornará el <strong>índice</strong> en un array de vehículos que ocupa el vehículo <strong><code>v</code></strong> o <strong>-1</strong> si no lo encuentra.</li>
<li><strong><code>int BuscaPlazaVacia()</code></strong>: Me retornará el <strong>primer índice vació</strong> en un array de vehículos o <strong>-1</strong> si no lo encuentra ningúno vacío.</li>
</ul>
</li>
<li>
<p><strong>Públicas</strong></p>
<ul>
<li>
<p><strong><code>int GetPlazasOcupadas()</code></strong>: Me retornará el número de plazas ocupadas en la campa.</p>
</li>
<li>
<p><strong><code>bool Entra(Vehiculo v, out int plaza, out string aviso)</code></strong>: Si la campa no está llena y si la matrícula del vehículo no se encuentra ya registrada, aparcará el vehículo en la promera plaza disponible retornando <strong><code>true</code></strong> y en <strong><code>plaza</code></strong> donde lo ha aparcado (1 a Numero Plazas).<br>
En caso de no poder entrar el vehículo por las causas ya mencionadas retornaremos <strong><code>false</code></strong> y en <strong><code>aviso</code></strong> uno de los siguientes mensajes:</p>
<ol>
<li>'<em><code>Ya se encuentra en el aparcamiento el vehículo DDDD LL</code></em>'</li>
<li>'<em><code>Aparcamiento lleno</code></em>'</li>
</ol>
</li>
<li>
<p><strong><code>bool Sale(Vehiculo v, out int plaza, out string aviso)</code></strong>: Si la campa no está vacía y si la matrícula del vehículo se encuentra registrada, sacará el vehículo en la plaza donde se encuentra retornando <strong><code>true</code></strong> y en <strong><code>plaza</code></strong> donde se encontraba aparcado.<br>
En caso de sacar el vehículo por las causas ya mencionadas retornaremos <strong><code>false</code></strong> y en <strong><code>aviso</code></strong> uno de los siguientes mensajes:</p>
<ol>
<li>'<em><code>No se registró la entrada del vehículo DDDD LL</code></em>'</li>
<li>'<em><code>Aparcamiento vacío</code></em>'</li>
</ol>
</li>
<li>
<p><strong><code>string ToString()</code></strong> imvalidado para que nuestre las plazas y los datos que se recibierosn de la IA de cada vehículo.</p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>✋ <strong>Importante</strong>: Intenta realizar primero por tu cuenta la implementación de la especificación anterior. Posteriormente comparala con la propueta comentada de solución que encontrarás más adelante.<br>
Además, en las siguiente páginas puedes encontrar un programa principal de prueba y la salida que debe producir.</p>
</blockquote>
<p>Fíjate bien en la definición de clases del programa principal, pues puede ayudarte a resolver dudas sobre cómo implementar la especificación anterior.</p>
<p>Propuesta de programa de prueba:</p>
<p>Para este programa de test, vamos a utilizar el método <a href="https://docs.microsoft.com/es-es/dotnet/api/system.object.gettype">public Type GetType()</a> que poseen todos los objetos por heredar de <code>object</code> y que como vemos devuelve un objeto de tipo <a href="https://docs.microsoft.com/es-es/dotnet/api/system.type">Type</a> perteneciente al <a href="https://docs.microsoft.com/es-es/dotnet/api/system.reflection">API de reflexión</a> de .NET</p>
<p>Fíjate como usamos este método en <strong><code>v.GetType().Name</code></strong> aunque <strong><code>v</code></strong> es de tipo <strong><code>Vehiculo</code></strong>, <strong><code>Name</code></strong> me devolverá el nombre de la especificación que realmente se '<em>esconda</em>' en el mismo.</p>
<blockquote>
<p>📌 <strong>Nota:</strong> Si quieres saber un poco más sobre el concepto de reflexión puedes consultar <a href="https://es.wikipedia.org/wiki/Reflexi%C3%B3n_(inform%C3%A1tica)">este enlace</a>.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Entra</span><span class="token punctuation">(</span><span class="token class-name">CampaVehiculos</span> campa<span class="token punctuation">,</span> <span class="token class-name">Vehiculo</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> t1 <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$"Entrando </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> t2 <span class="token operator">=</span> campa<span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> plaza<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-string">string</span><span class="token punctuation">?</span></span> aviso<span class="token punctuation">)</span> <span class="token punctuation">?</span> <span class="token interpolation-string"><span class="token string">$"Aparcado en la plaza </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">plaza</span><span class="token punctuation">}</span></span><span class="token string">"</span></span> <span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">aviso</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">t1<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">42</span></span><span class="token punctuation">}</span></span><span class="token string">-&gt; </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">t2</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Sale</span><span class="token punctuation">(</span><span class="token class-name">CampaVehiculos</span> campa<span class="token punctuation">,</span> <span class="token class-name">Vehiculo</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> t1 <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$"Saliendo </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> t2 <span class="token operator">=</span> campa<span class="token punctuation">.</span><span class="token function">Sale</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> plaza<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-string">string</span><span class="token punctuation">?</span></span> aviso<span class="token punctuation">)</span> <span class="token punctuation">?</span> <span class="token interpolation-string"><span class="token string">$"Deja libre la plaza </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">plaza</span><span class="token punctuation">}</span></span><span class="token string">"</span></span> <span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">aviso</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">t1<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">42</span></span><span class="token punctuation">}</span></span><span class="token string">-&gt; </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">t2</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">CampaVehiculos</span> campa <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">CampaVehiculos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Coche</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"1020 DRG"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>SEAT<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> Coche<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Coupe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Camion</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"8798 JWR"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Blanco<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DAF<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">,</span> Camion<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Frigorífico<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Coche</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"7643 LRF"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>BMW<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> Coche<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>TodoTerreno<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Coche</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"1020 DRG"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>SEAT<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> Coche<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Coupe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Vehiculo</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"0000 DGP"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Negro<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DESCONOCIDA<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Moto</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"1111 GRF"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>YAMAHA<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> Moto<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Naked<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Coche</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"1020 DRG"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>SEAT<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> Coche<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Coupe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Sale</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Camion</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"8798 JWR"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Blanco<span class="token punctuation">,</span> 
             Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DAF<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">,</span> Camion<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Frigorífico<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Sale</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Camion</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"8798 JWR"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Blanco<span class="token punctuation">,</span> 
             Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DAF<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">,</span> Camion<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Frigorífico<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Sale</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Moto</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"1111 GRF"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> 
             Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>YAMAHA<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> Moto<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Naked<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Moto</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"1111 GRF"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>YAMAHA<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> Moto<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Naked<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Camion</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">"8798 JWR"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Blanco<span class="token punctuation">,</span> 
              Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DAF<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">,</span> Camion<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>SinIdentificar<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>campa<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p>Salida del programa de prueba anterior ...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>Entrando Coche Coupe <span class="token number">1020</span> DRG             -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">1</span>
Entrando Camion Frigorífico <span class="token number">8798</span> JWR      -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">2</span>
Entrando Coche TodoTerreno <span class="token number">7643</span> LRF       -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">3</span>
Entrando Coche Coupe <span class="token number">1020</span> DRG             -<span class="token operator">&gt;</span> Ya se encuentra en el aparcamiento el vehículo <span class="token number">1020</span> DRG
Entrando Vehiculo SinIdentificar 0000 DGP -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">4</span>
Entrando Moto Naked <span class="token number">1111</span> GRF              -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">5</span>
Entrando Coche Coupe <span class="token number">1020</span> DRG             -<span class="token operator">&gt;</span> Aparcamiento lleno
Saliendo Camion Frigorífico <span class="token number">8798</span> JWR      -<span class="token operator">&gt;</span> Deja libre la plaza <span class="token number">2</span>
Saliendo Camion Frigorífico <span class="token number">8798</span> JWR      -<span class="token operator">&gt;</span> No se registró la entrada del vehículo <span class="token number">8798</span> JWR
Saliendo Moto Naked <span class="token number">1111</span> GRF              -<span class="token operator">&gt;</span> Deja libre la plaza <span class="token number">5</span>
Entrando Moto Naked <span class="token number">1111</span> GRF              -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">2</span>
Entrando Camion SinIdentificar <span class="token number">8798</span> JWR   -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">5</span>

Vehículos en el aparcamiento<span class="token punctuation">..</span>.

Plaza <span class="token number">1</span>:
Matricula: <span class="token number">1020</span> DRG
Color: Azul
Marca: SEAT
Ocupantes: <span class="token number">3</span>
Categoria: Coupe

Plaza <span class="token number">2</span>:
Matricula: <span class="token number">1111</span> GRF
Color: Rojo
Marca: YAMAHA
Ocupantes: <span class="token number">2</span>
Categoria: Naked

Plaza <span class="token number">3</span>:
Matricula: <span class="token number">7643</span> LRF
Color: Rojo
Marca: BMW
Ocupantes: <span class="token number">4</span>
Categoria: TodoTerreno

Plaza <span class="token number">4</span>:
Matricula: 0000 DGP
Color: Negro
Marca: DESCONOCIDA
Ocupntes: <span class="token number">2</span>
Categoria: SinIdentificar

Plaza <span class="token number">5</span>:
Matricula: <span class="token number">8798</span> JWR
Color: Blanco
Marca: DAF
Ocupantes: <span class="token number">1</span>
Categoria: SinIdentificar
Número de ejes: <span class="token number">2</span>
Carga Máxima: <span class="token number">6000</span> Kg
</code></pre><div style="page-break-after:always;"></div>
<p>Propuesta de solución del caso de estudi anterior</p>
<ol>
<li>
<p>Lo primero sería definir un <strong>tipo para guardar matrículas válidas</strong>. Básicamente contendrá un string, pero nos aseguraremos que lo que contiene es una matrículo.</p>
<p><strong>Podríamos definirlo como clase</strong>, pero también cumple los requisitos para ser un tipo valor, puesto que un string es un tipo referencia <strong>inmutable</strong>. Así pues, por repasar conceptos, vamos a definirlo como un tipo valor <strong>struct</strong>.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="150px" preserveAspectRatio="none" style="width:288px;height:150px;" version="1.1" viewBox="0 0 288 150" width="288px" zoomAndPan="magnify"><defs></defs><g><!--class Matricula--><g id="elem_Matricula"><rect codeline="8" fill="#FFFAFA" height="129.1406" id="Matricula" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="267" x="7" y="7"></rect><ellipse cx="105.75" cy="28.3516" fill="#FF7700" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M103.2969,31.6484 L103.2969,24.9922 Q102.75,24.9766 102.4844,24.7422 Q102.2344,24.5078 102.2344,24.1328 Q102.2344,23.7578 102.5,23.5234 Q102.7656,23.2891 103.375,23.2891 L106.9375,23.2891 Q107.7656,23.2891 108.5625,23.6016 Q109.3594,23.8984 109.8438,24.3828 Q110.2031,24.7422 110.5938,25.3672 Q110.9844,25.9766 111.1875,26.6016 Q111.3906,27.2109 111.3906,28.1016 L111.3906,28.9141 Q111.3906,29.9922 111.0156,30.8359 Q110.6563,31.6641 110.0625,32.1953 Q109.4688,32.7109 108.9531,32.9609 Q108.125,33.3516 106.7969,33.3516 L103.375,33.3516 Q102.7656,33.3516 102.5,33.1172 Q102.2344,32.8828 102.2344,32.4922 Q102.2344,32.1172 102.5,31.8828 Q102.7656,31.6484 103.2969,31.6484 Z M105,31.6484 L106.8125,31.6484 Q107.8125,31.6484 108.3281,31.3516 Q109,30.9766 109.3438,30.3984 Q109.6875,29.8047 109.6875,28.8672 L109.6875,28.0547 Q109.6875,27.2578 109.375,26.6484 Q108.8906,25.6953 108.2813,25.3516 Q107.6875,24.9922 106.7969,24.9922 L105,24.9922 L105,31.6484 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="124.25" y="24.457">«dataType»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="128.25" y="41.627">Matricula</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="273" y1="49.7031" y2="49.7031"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="13" y="68.2363">-matricula : string {readOnly}</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="273" y1="75.3125" y2="75.3125"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="255" x="13" y="93.8457">+EsValida(in matricula : string) : boolean</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="13" y="111.4551">+Matricula(in matricula : string)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="13" y="129.0645">^+ToString() : string</text></g><!--SRC=[TOzBQyCm383l_XM2NHAoGMw5KGfDN-mmDaZORWFLDfc9OnNPeNGX_trk2Y7ieOiala-ovHlZJiZOWhJe_Je4DiSkw2T9hZHV6dBX9sNDJESDMM8eBCfcXbvZYxKkOggPEgTkslkd2RfigT4pTtDzgI1MclzUTXD-h2eTdMVE5Hzck69qFYBjWX3ZBV2CyHZPMOJbCjdUt-ttYqMUfw0mO7KvwTLAz09YFBIJ-GW-bgw6dZMg5sSlmwZqFc0mSe1ivz_G6eM9SV1xBetLaSXgTEDSDdtY7t-qFhAAoh5FqWc9GNm3]--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-struct">struct</span> <span class="token class-name">Matricula</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> matricula<span class="token punctuation">;</span>

    <span class="token comment">// De momento lo dejamos privado, pues podemos obtener la matrícula a través del ToString()</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> matricula<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Dejamos la comprobación de matrícula como un método de clase publica de utilidad.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">EsValida</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> matricula<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// [^a-z\W\s\dAEIOU] Cualquier letra que no sea: Minúscula, Caracter no alfanumerico, Espacios o Vocales en mayúscula.</span>
        <span class="token comment">// Lo cual deja solo las mayúculas que no sean vocales.</span>
        <span class="token keyword keyword-return">return</span> Regex<span class="token punctuation">.</span><span class="token function">IsMatch</span><span class="token punctuation">(</span>matricula<span class="token punctuation">,</span> <span class="token string">@"^[0-9]{4} [^a-z\W\s\dAEIOU]{3}$"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Matricula</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> matricula<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Solo pertmitimos crear matrículas válidas.</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">EsValida</span><span class="token punctuation">(</span>matricula<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"La matrícula </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">matricula</span><span class="token punctuation">}</span></span><span class="token string"> no es correcta."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>matricula <span class="token operator">=</span> matricula<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Las estructuras como las clases, también heredan de Object y por tanto pueden </span>
    <span class="token comment">// invalidar ToString.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>En segundo lugar definiremos la clase <strong><code>Vehículo</code></strong>. Fíjate que al usar el tipo valor Matrícula existe una <strong>composición implícita</strong>.<br>
Además, hemos definido de forma <strong>anidada</strong> dos tispos enumerados publicos dentro de Vehículo. De tañ manera que ara hacer referencia a ellos desde fuera de la clase usaremos la notación <strong><code>Vehiculo.Color</code></strong> y <strong><code>Vahiculo.Marca</code></strong> de esta manera no tendremos redundancia en los nombre y no habrá conflicto de nombres con otros tipos <strong><code>Color</code></strong>.<br>
Esta relación de <strong>anidación</strong> el un diagrama de clases UML la podrmos expresar de la siguiente manera:</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="71px" preserveAspectRatio="none" style="width:476px;height:71px;" version="1.1" viewBox="0 0 476 71" width="476px" zoomAndPan="magnify"><defs></defs><g><!--class Color--><g id="elem_Color"><rect codeline="10" fill="#FFFAFA" height="42.7031" id="Color" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="112" x="7" y="14.5"></rect><ellipse cx="22" cy="35.8516" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M20.8594,36.6484 L20.8594,39.1484 L25.1875,39.1484 L25.1875,38.2266 Q25.1875,37.6172 25.4219,37.3516 Q25.6719,37.0859 26.0469,37.0859 Q26.4219,37.0859 26.6563,37.3516 Q26.8906,37.6172 26.8906,38.2266 L26.8906,40.8516 L18.8906,40.8516 Q18.2656,40.8516 18,40.6172 Q17.75,40.3828 17.75,39.9922 Q17.75,39.6172 18.0156,39.3828 Q18.2813,39.1484 18.8906,39.1484 L19.1563,39.1484 L19.1563,32.4922 L18.8906,32.4922 Q18.2656,32.4922 18,32.2578 Q17.75,32.0234 17.75,31.6328 Q17.75,31.2578 18,31.0234 Q18.2656,30.7891 18.8906,30.7891 L26.5156,30.7891 L26.5156,33.3828 Q26.5156,33.9922 26.2813,34.2578 Q26.0625,34.5078 25.6719,34.5078 Q25.2969,34.5078 25.0625,34.2578 Q24.8281,33.9922 24.8281,33.3828 L24.8281,32.4922 L20.8594,32.4922 L20.8594,34.9453 L22.3438,34.9453 Q22.3438,34.2891 22.4688,34.1016 Q22.7344,33.6953 23.2031,33.6953 Q23.5781,33.6953 23.8125,33.9609 Q24.0469,34.2109 24.0469,34.8203 L24.0469,36.7891 Q24.0469,37.3359 23.9219,37.5234 Q23.6563,37.9141 23.2031,37.9141 Q22.7344,37.9141 22.4688,37.5078 Q22.3438,37.3203 22.3438,36.6484 L20.8594,36.6484 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="84" x="34" y="31.957">«enumeration»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="59" y="49.127">Color</text></g><!--class Marca--><g id="elem_Marca"><rect codeline="11" fill="#FFFAFA" height="42.7031" id="Marca" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="112" x="357" y="14.5"></rect><ellipse cx="372" cy="35.8516" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M370.8594,36.6484 L370.8594,39.1484 L375.1875,39.1484 L375.1875,38.2266 Q375.1875,37.6172 375.4219,37.3516 Q375.6719,37.0859 376.0469,37.0859 Q376.4219,37.0859 376.6563,37.3516 Q376.8906,37.6172 376.8906,38.2266 L376.8906,40.8516 L368.8906,40.8516 Q368.2656,40.8516 368,40.6172 Q367.75,40.3828 367.75,39.9922 Q367.75,39.6172 368.0156,39.3828 Q368.2813,39.1484 368.8906,39.1484 L369.1563,39.1484 L369.1563,32.4922 L368.8906,32.4922 Q368.2656,32.4922 368,32.2578 Q367.75,32.0234 367.75,31.6328 Q367.75,31.2578 368,31.0234 Q368.2656,30.7891 368.8906,30.7891 L376.5156,30.7891 L376.5156,33.3828 Q376.5156,33.9922 376.2813,34.2578 Q376.0625,34.5078 375.6719,34.5078 Q375.2969,34.5078 375.0625,34.2578 Q374.8281,33.9922 374.8281,33.3828 L374.8281,32.4922 L370.8594,32.4922 L370.8594,34.9453 L372.3438,34.9453 Q372.3438,34.2891 372.4688,34.1016 Q372.7344,33.6953 373.2031,33.6953 Q373.5781,33.6953 373.8125,33.9609 Q374.0469,34.2109 374.0469,34.8203 L374.0469,36.7891 Q374.0469,37.3359 373.9219,37.5234 Q373.6563,37.9141 373.2031,37.9141 Q372.7344,37.9141 372.4688,37.5078 Q372.3438,37.3203 372.3438,36.6484 L370.8594,36.6484 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="84" x="384" y="31.957">«enumeration»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="406.5" y="49.127">Marca</text></g><!--class Vehiculo--><g id="elem_Vehiculo"><rect codeline="13" fill="#FFFAFA" height="57.6094" id="Vehiculo" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="168" x="154" y="7"></rect><ellipse cx="206.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M209.5156,18.875 Q209.6719,18.6563 209.8594,18.5469 Q210.0469,18.4375 210.2656,18.4375 Q210.6406,18.4375 210.875,18.7031 Q211.1094,18.9531 211.1094,19.5625 L211.1094,21.0156 Q211.1094,21.625 210.875,21.8906 Q210.6406,22.1563 210.2656,22.1563 Q209.9219,22.1563 209.7188,21.9531 Q209.5156,21.7656 209.4063,21.25 Q209.3594,20.8906 209.1719,20.7031 Q208.8438,20.3281 208.2344,20.1094 Q207.625,19.8906 207,19.8906 Q206.2344,19.8906 205.5938,20.2188 Q204.9688,20.5469 204.4688,21.2969 Q203.9844,22.0469 203.9844,23.0781 L203.9844,24.1719 Q203.9844,25.4063 204.875,26.2344 Q205.7656,27.0469 207.3594,27.0469 Q208.2969,27.0469 208.9531,26.7969 Q209.3438,26.6406 209.7656,26.2031 Q210.0313,25.9375 210.1719,25.8594 Q210.3281,25.7813 210.5313,25.7813 Q210.8594,25.7813 211.1094,26.0469 Q211.375,26.2969 211.375,26.6406 Q211.375,26.9844 211.0313,27.3906 Q210.5313,27.9688 209.7344,28.2969 Q208.6563,28.75 207.3594,28.75 Q205.8438,28.75 204.6406,28.125 Q203.6563,27.625 202.9688,26.5625 Q202.2813,25.4844 202.2813,24.2031 L202.2813,23.0469 Q202.2813,21.7188 202.8906,20.5781 Q203.5156,19.4219 204.6094,18.8125 Q205.7031,18.1875 206.9375,18.1875 Q207.6719,18.1875 208.3125,18.3594 Q208.9688,18.5156 209.5156,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="227.25" y="28.7285">Vehiculo</text><line style="stroke:#000000;stroke-width:0.5;" x1="155" x2="321" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="160" y="57.5332">-matricula : Matricula {id}</text></g><!--link Color to Vehiculo--><g id="link_Color_Vehiculo"><path codeline="18" d="M119.05,36 C130.67,36 126.29,36 137.9,36 " fill="none" id="Color-to-Vehiculo" style="stroke:#000000;stroke-width:1.0;"></path><ellipse cx="145.9" cy="36" fill="none" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"></ellipse><line style="stroke:#000000;stroke-width:1.0;" x1="137.9" x2="153.9" y1="36" y2="36"></line><line style="stroke:#000000;stroke-width:1.0;" x1="145.9" x2="145.9" y1="28" y2="44"></line></g><!--reverse link Vehiculo to Marca--><g id="link_Vehiculo_Marca"><path codeline="19" d="M338.08,36 C349.68,36 345.29,36 356.89,36 " fill="none" id="Vehiculo-backto-Marca" style="stroke:#000000;stroke-width:1.0;"></path><ellipse cx="330.08" cy="36" fill="none" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"></ellipse><line style="stroke:#000000;stroke-width:1.0;" x1="338.08" x2="322.08" y1="36" y2="36"></line><line style="stroke:#000000;stroke-width:1.0;" x1="330.08" x2="330.08" y1="44" y2="28"></line></g><!--SRC=[RP11Ym8n38Nl-HMvou3dHGJ7W-nXOM54px4Jd3BJHj8Eek9_jsDH1xMN9dbVteE4rle3AJaq7OMmY57jhe_yQyHNzimuXV145gfoN4edYcL7fXr9_wcbFPVfswlqlixOjh6HAoSjZzZba5IArgpVpJBmPbLvEOwOGLwDvBMI3qbY7m4QMpEoEyGJEdOxrW30la_ETtOs6nfMYbRyV9wbFr937nBSpu8RRgpfEu4BO7e5Eag7IXF2dxJvg2-sli8L8CSKazVUey19aPFW1W00]--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definimos los tipos enumerados de la especificación</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Color</span> <span class="token punctuation">{</span> Blanco<span class="token punctuation">,</span> Morado<span class="token punctuation">,</span> Cian<span class="token punctuation">,</span> Azul<span class="token punctuation">,</span> Rojo<span class="token punctuation">,</span> Verde<span class="token punctuation">,</span> Negro<span class="token punctuation">,</span> Naranja<span class="token punctuation">,</span> Gris <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Marca</span> <span class="token punctuation">{</span> DESCONOCIDA<span class="token punctuation">,</span> BMW<span class="token punctuation">,</span> SEAT<span class="token punctuation">,</span> AUDI<span class="token punctuation">,</span> RENAULT<span class="token punctuation">,</span> MAN<span class="token punctuation">,</span> DAF<span class="token punctuation">,</span> CITROEN<span class="token punctuation">,</span> TOYOTA<span class="token punctuation">,</span> SUZUKI<span class="token punctuation">,</span> YAMAHA<span class="token punctuation">,</span> MERCEDES<span class="token punctuation">,</span> PEGASO <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// Las características comunes a todos los vehículos, registrables por la IA</span>
    <span class="token comment">// Serán de solo lectura y por tanto solo definiremos accesores.</span>
    <span class="token comment">// Además, una vez creados los objectos vehículos ya no podrán cambiar de estado (Serán inmutables.).</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Matricula</span> matricula<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Color</span> color<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> ocupantes<span class="token punctuation">;</span>
</code></pre><p>Fíjate en el los comentarios de la implementación de <strong><code>object GetCategoria()</code></strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Matricula</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> matricula<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Color</span> <span class="token function">GetColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Marca</span> <span class="token function">GetMarca</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> marca<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-ushort">ushort</span></span> <span class="token function">GetOcupantes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> ocupantes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Los objetos vehículos creados como tal no tienen categoría, y por tanto al preguntársela</span>
    <span class="token comment">// retornaremos SinIdentificar y daremos la posibilidad de invalidarla en futuras especificaciones.</span>
    <span class="token comment">// Además, fijate que la categoría se devolverá en su forma de object con lo que, independientemente</span>
    <span class="token comment">// del tipo con el que la codifiquemos, de ella únicamente podremos saber la cadena que </span>
    <span class="token comment">// la representa llamando a ToString() (Ver línea 39).</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-object">object</span></span> <span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token string">"SinIdentificar"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-public">public</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token class-name">Matricula</span> matricula<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> ocupantes<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>matricula <span class="token operator">=</span> matricula<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>marca <span class="token operator">=</span> marca<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>ocupantes <span class="token operator">=</span> ocupantes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Matricula: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$"Color: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$"Marca: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetMarca</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$"Ocupantes: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetOcupantes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$"Categoria: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
              <span class="token comment">// Aquí, aunque llamemos a GetCategoria() no mostrará siempre SinIdentificar puesto</span>
              <span class="token comment">// que si hay una subclase que invalide el método, hará un enlace dinámico a la </span>
              <span class="token comment">// implementación del mismo haga esa subclase.</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-object">object</span></span> obj<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Invalidación de Equals de onject, para comparar dos objectos vehiculo por matricula.</span>
        <span class="token keyword keyword-return">return</span> obj <span class="token keyword keyword-is">is</span> <span class="token class-name">Vehiculo</span> v <span class="token operator">&amp;&amp;</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">CompareTo</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetHashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// En ocasiones la invalidación de Equals implica la invalidación de GetHashCode</span>
        <span class="token comment">// El valos de hash de un vehiculo será el hash de la cadena de su matrícula.</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetHashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>Vamos a realizar las <strong>tres especificaciones de <code>Vehiculo</code></strong> y usaremos <strong>herencia</strong> para ello. Además, como comentamos en <strong><code>Vehiculo</code></strong>, definiremos un <strong>tipo enum anidado</strong> <strong><code>Categoria</code></strong> para cada una de las subclasificaciones de vehículos.</p>
<p>Es fácil deducir las clasificaciones y los parámetros necesarios para definirlas, viendo el programa de ejemplo propuesto en el enunciado y estás serán <strong><code>Coche</code></strong>, <strong><code>Moto</code></strong> y <strong><code>Camion</code></strong></p>
<p>En todas la implementaciones invalidaremos el método <strong><code>object GetCategoria()</code></strong>, que al devolver diferentes tipos enumerados según la clasificación lo haremos haciendo una sustitición hacia <strong><code>object</code></strong>.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="239px" preserveAspectRatio="none" style="width:420px;height:239px;" version="1.1" viewBox="0 0 420 239" width="420px" zoomAndPan="magnify"><defs></defs><g><!--class Vehiculo--><g id="elem_Vehiculo"><rect codeline="10" fill="#FFFAFA" height="32" id="Vehiculo" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="86" x="167" y="7"></rect><ellipse cx="182" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M184.7656,18.875 Q184.9219,18.6563 185.1094,18.5469 Q185.2969,18.4375 185.5156,18.4375 Q185.8906,18.4375 186.125,18.7031 Q186.3594,18.9531 186.3594,19.5625 L186.3594,21.0156 Q186.3594,21.625 186.125,21.8906 Q185.8906,22.1563 185.5156,22.1563 Q185.1719,22.1563 184.9688,21.9531 Q184.7656,21.7656 184.6563,21.25 Q184.6094,20.8906 184.4219,20.7031 Q184.0938,20.3281 183.4844,20.1094 Q182.875,19.8906 182.25,19.8906 Q181.4844,19.8906 180.8438,20.2188 Q180.2188,20.5469 179.7188,21.2969 Q179.2344,22.0469 179.2344,23.0781 L179.2344,24.1719 Q179.2344,25.4063 180.125,26.2344 Q181.0156,27.0469 182.6094,27.0469 Q183.5469,27.0469 184.2031,26.7969 Q184.5938,26.6406 185.0156,26.2031 Q185.2813,25.9375 185.4219,25.8594 Q185.5781,25.7813 185.7813,25.7813 Q186.1094,25.7813 186.3594,26.0469 Q186.625,26.2969 186.625,26.6406 Q186.625,26.9844 186.2813,27.3906 Q185.7813,27.9688 184.9844,28.2969 Q183.9063,28.75 182.6094,28.75 Q181.0938,28.75 179.8906,28.125 Q178.9063,27.625 178.2188,26.5625 Q177.5313,25.4844 177.5313,24.2031 L177.5313,23.0469 Q177.5313,21.7188 178.1406,20.5781 Q178.7656,19.4219 179.8594,18.8125 Q180.9531,18.1875 182.1875,18.1875 Q182.9219,18.1875 183.5625,18.3594 Q184.2188,18.5156 184.7656,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="196" y="28.7285">Vehiculo</text></g><!--class Coche--><g id="elem_Coche"><rect codeline="11" fill="#FFFAFA" height="32" id="Coche" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="73" x="48.5" y="99"></rect><ellipse cx="63.5" cy="115" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M66.2656,110.875 Q66.4219,110.6563 66.6094,110.5469 Q66.7969,110.4375 67.0156,110.4375 Q67.3906,110.4375 67.625,110.7031 Q67.8594,110.9531 67.8594,111.5625 L67.8594,113.0156 Q67.8594,113.625 67.625,113.8906 Q67.3906,114.1563 67.0156,114.1563 Q66.6719,114.1563 66.4688,113.9531 Q66.2656,113.7656 66.1563,113.25 Q66.1094,112.8906 65.9219,112.7031 Q65.5938,112.3281 64.9844,112.1094 Q64.375,111.8906 63.75,111.8906 Q62.9844,111.8906 62.3438,112.2188 Q61.7188,112.5469 61.2188,113.2969 Q60.7344,114.0469 60.7344,115.0781 L60.7344,116.1719 Q60.7344,117.4063 61.625,118.2344 Q62.5156,119.0469 64.1094,119.0469 Q65.0469,119.0469 65.7031,118.7969 Q66.0938,118.6406 66.5156,118.2031 Q66.7813,117.9375 66.9219,117.8594 Q67.0781,117.7813 67.2813,117.7813 Q67.6094,117.7813 67.8594,118.0469 Q68.125,118.2969 68.125,118.6406 Q68.125,118.9844 67.7813,119.3906 Q67.2813,119.9688 66.4844,120.2969 Q65.4063,120.75 64.1094,120.75 Q62.5938,120.75 61.3906,120.125 Q60.4063,119.625 59.7188,118.5625 Q59.0313,117.4844 59.0313,116.2031 L59.0313,115.0469 Q59.0313,113.7188 59.6406,112.5781 Q60.2656,111.4219 61.3594,110.8125 Q62.4531,110.1875 63.6875,110.1875 Q64.4219,110.1875 65.0625,110.3594 Q65.7188,110.5156 66.2656,110.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="77.5" y="120.7285">Coche</text></g><!--class Moto--><g id="elem_Moto"><rect codeline="12" fill="#FFFAFA" height="32" id="Moto" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="63" x="178.5" y="99"></rect><ellipse cx="193.5" cy="115" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M196.2656,110.875 Q196.4219,110.6563 196.6094,110.5469 Q196.7969,110.4375 197.0156,110.4375 Q197.3906,110.4375 197.625,110.7031 Q197.8594,110.9531 197.8594,111.5625 L197.8594,113.0156 Q197.8594,113.625 197.625,113.8906 Q197.3906,114.1563 197.0156,114.1563 Q196.6719,114.1563 196.4688,113.9531 Q196.2656,113.7656 196.1563,113.25 Q196.1094,112.8906 195.9219,112.7031 Q195.5938,112.3281 194.9844,112.1094 Q194.375,111.8906 193.75,111.8906 Q192.9844,111.8906 192.3438,112.2188 Q191.7188,112.5469 191.2188,113.2969 Q190.7344,114.0469 190.7344,115.0781 L190.7344,116.1719 Q190.7344,117.4063 191.625,118.2344 Q192.5156,119.0469 194.1094,119.0469 Q195.0469,119.0469 195.7031,118.7969 Q196.0938,118.6406 196.5156,118.2031 Q196.7813,117.9375 196.9219,117.8594 Q197.0781,117.7813 197.2813,117.7813 Q197.6094,117.7813 197.8594,118.0469 Q198.125,118.2969 198.125,118.6406 Q198.125,118.9844 197.7813,119.3906 Q197.2813,119.9688 196.4844,120.2969 Q195.4063,120.75 194.1094,120.75 Q192.5938,120.75 191.3906,120.125 Q190.4063,119.625 189.7188,118.5625 Q189.0313,117.4844 189.0313,116.2031 L189.0313,115.0469 Q189.0313,113.7188 189.6406,112.5781 Q190.2656,111.4219 191.3594,110.8125 Q192.4531,110.1875 193.6875,110.1875 Q194.4219,110.1875 195.0625,110.3594 Q195.7188,110.5156 196.2656,110.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="207.5" y="120.7285">Moto</text></g><!--class Camion--><g id="elem_Camion"><rect codeline="13" fill="#FFFAFA" height="32" id="Camion" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="80" x="297" y="99"></rect><ellipse cx="312" cy="115" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M314.7656,110.875 Q314.9219,110.6563 315.1094,110.5469 Q315.2969,110.4375 315.5156,110.4375 Q315.8906,110.4375 316.125,110.7031 Q316.3594,110.9531 316.3594,111.5625 L316.3594,113.0156 Q316.3594,113.625 316.125,113.8906 Q315.8906,114.1563 315.5156,114.1563 Q315.1719,114.1563 314.9688,113.9531 Q314.7656,113.7656 314.6563,113.25 Q314.6094,112.8906 314.4219,112.7031 Q314.0938,112.3281 313.4844,112.1094 Q312.875,111.8906 312.25,111.8906 Q311.4844,111.8906 310.8438,112.2188 Q310.2188,112.5469 309.7188,113.2969 Q309.2344,114.0469 309.2344,115.0781 L309.2344,116.1719 Q309.2344,117.4063 310.125,118.2344 Q311.0156,119.0469 312.6094,119.0469 Q313.5469,119.0469 314.2031,118.7969 Q314.5938,118.6406 315.0156,118.2031 Q315.2813,117.9375 315.4219,117.8594 Q315.5781,117.7813 315.7813,117.7813 Q316.1094,117.7813 316.3594,118.0469 Q316.625,118.2969 316.625,118.6406 Q316.625,118.9844 316.2813,119.3906 Q315.7813,119.9688 314.9844,120.2969 Q313.9063,120.75 312.6094,120.75 Q311.0938,120.75 309.8906,120.125 Q308.9063,119.625 308.2188,118.5625 Q307.5313,117.4844 307.5313,116.2031 L307.5313,115.0469 Q307.5313,113.7188 308.1406,112.5781 Q308.7656,111.4219 309.8594,110.8125 Q310.9531,110.1875 312.1875,110.1875 Q312.9219,110.1875 313.5625,110.3594 Q314.2188,110.5156 314.7656,110.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="326" y="120.7285">Camion</text></g><!--class CCoche--><g id="elem_CCoche"><rect codeline="14" fill="#FFFAFA" height="42.7031" id="CCoche" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="112" x="7" y="191"></rect><ellipse cx="22" cy="212.3516" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M20.8594,213.1484 L20.8594,215.6484 L25.1875,215.6484 L25.1875,214.7266 Q25.1875,214.1172 25.4219,213.8516 Q25.6719,213.5859 26.0469,213.5859 Q26.4219,213.5859 26.6563,213.8516 Q26.8906,214.1172 26.8906,214.7266 L26.8906,217.3516 L18.8906,217.3516 Q18.2656,217.3516 18,217.1172 Q17.75,216.8828 17.75,216.4922 Q17.75,216.1172 18.0156,215.8828 Q18.2813,215.6484 18.8906,215.6484 L19.1563,215.6484 L19.1563,208.9922 L18.8906,208.9922 Q18.2656,208.9922 18,208.7578 Q17.75,208.5234 17.75,208.1328 Q17.75,207.7578 18,207.5234 Q18.2656,207.2891 18.8906,207.2891 L26.5156,207.2891 L26.5156,209.8828 Q26.5156,210.4922 26.2813,210.7578 Q26.0625,211.0078 25.6719,211.0078 Q25.2969,211.0078 25.0625,210.7578 Q24.8281,210.4922 24.8281,209.8828 L24.8281,208.9922 L20.8594,208.9922 L20.8594,211.4453 L22.3438,211.4453 Q22.3438,210.7891 22.4688,210.6016 Q22.7344,210.1953 23.2031,210.1953 Q23.5781,210.1953 23.8125,210.4609 Q24.0469,210.7109 24.0469,211.3203 L24.0469,213.2891 Q24.0469,213.8359 23.9219,214.0234 Q23.6563,214.4141 23.2031,214.4141 Q22.7344,214.4141 22.4688,214.0078 Q22.3438,213.8203 22.3438,213.1484 L20.8594,213.1484 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="84" x="34" y="208.457">«enumeration»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="45" y="225.627">Categoria</text></g><!--class CMoto--><g id="elem_CMoto"><rect codeline="15" fill="#FFFAFA" height="42.7031" id="CMoto" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="112" x="154" y="191"></rect><ellipse cx="169" cy="212.3516" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M167.8594,213.1484 L167.8594,215.6484 L172.1875,215.6484 L172.1875,214.7266 Q172.1875,214.1172 172.4219,213.8516 Q172.6719,213.5859 173.0469,213.5859 Q173.4219,213.5859 173.6563,213.8516 Q173.8906,214.1172 173.8906,214.7266 L173.8906,217.3516 L165.8906,217.3516 Q165.2656,217.3516 165,217.1172 Q164.75,216.8828 164.75,216.4922 Q164.75,216.1172 165.0156,215.8828 Q165.2813,215.6484 165.8906,215.6484 L166.1563,215.6484 L166.1563,208.9922 L165.8906,208.9922 Q165.2656,208.9922 165,208.7578 Q164.75,208.5234 164.75,208.1328 Q164.75,207.7578 165,207.5234 Q165.2656,207.2891 165.8906,207.2891 L173.5156,207.2891 L173.5156,209.8828 Q173.5156,210.4922 173.2813,210.7578 Q173.0625,211.0078 172.6719,211.0078 Q172.2969,211.0078 172.0625,210.7578 Q171.8281,210.4922 171.8281,209.8828 L171.8281,208.9922 L167.8594,208.9922 L167.8594,211.4453 L169.3438,211.4453 Q169.3438,210.7891 169.4688,210.6016 Q169.7344,210.1953 170.2031,210.1953 Q170.5781,210.1953 170.8125,210.4609 Q171.0469,210.7109 171.0469,211.3203 L171.0469,213.2891 Q171.0469,213.8359 170.9219,214.0234 Q170.6563,214.4141 170.2031,214.4141 Q169.7344,214.4141 169.4688,214.0078 Q169.3438,213.8203 169.3438,213.1484 L167.8594,213.1484 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="84" x="181" y="208.457">«enumeration»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="192" y="225.627">Categoria</text></g><!--class CCamion--><g id="elem_CCamion"><rect codeline="16" fill="#FFFAFA" height="42.7031" id="CCamion" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="112" x="301" y="191"></rect><ellipse cx="316" cy="212.3516" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M314.8594,213.1484 L314.8594,215.6484 L319.1875,215.6484 L319.1875,214.7266 Q319.1875,214.1172 319.4219,213.8516 Q319.6719,213.5859 320.0469,213.5859 Q320.4219,213.5859 320.6563,213.8516 Q320.8906,214.1172 320.8906,214.7266 L320.8906,217.3516 L312.8906,217.3516 Q312.2656,217.3516 312,217.1172 Q311.75,216.8828 311.75,216.4922 Q311.75,216.1172 312.0156,215.8828 Q312.2813,215.6484 312.8906,215.6484 L313.1563,215.6484 L313.1563,208.9922 L312.8906,208.9922 Q312.2656,208.9922 312,208.7578 Q311.75,208.5234 311.75,208.1328 Q311.75,207.7578 312,207.5234 Q312.2656,207.2891 312.8906,207.2891 L320.5156,207.2891 L320.5156,209.8828 Q320.5156,210.4922 320.2813,210.7578 Q320.0625,211.0078 319.6719,211.0078 Q319.2969,211.0078 319.0625,210.7578 Q318.8281,210.4922 318.8281,209.8828 L318.8281,208.9922 L314.8594,208.9922 L314.8594,211.4453 L316.3438,211.4453 Q316.3438,210.7891 316.4688,210.6016 Q316.7344,210.1953 317.2031,210.1953 Q317.5781,210.1953 317.8125,210.4609 Q318.0469,210.7109 318.0469,211.3203 L318.0469,213.2891 Q318.0469,213.8359 317.9219,214.0234 Q317.6563,214.4141 317.2031,214.4141 Q316.7344,214.4141 316.4688,214.0078 Q316.3438,213.8203 316.3438,213.1484 L314.8594,213.1484 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="84" x="328" y="208.457">«enumeration»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="339" y="225.627">Categoria</text></g><!--reverse link Vehiculo to Coche--><g id="link_Vehiculo_Coche"><path codeline="18" d="M174.4731,49.5785 C151.3931,66.1985 129.09,82.25 105.99,98.89 " fill="none" id="Vehiculo-backto-Coche" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="189.08,39.06,170.9669,44.7095,177.9793,54.4475,189.08,39.06" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Coche to CCoche--><g id="link_Coche_CCoche"><path codeline="19" d="M77.8765,146.9312 C74.1565,163.0712 71.88,172.96 67.76,190.85 " fill="none" id="Coche-backto-CCoche" style="stroke:#000000;stroke-width:1.0;"></path><ellipse cx="79.6732" cy="139.1356" fill="none" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"></ellipse><line style="stroke:#000000;stroke-width:1.0;" x1="77.8765" x2="81.47" y1="146.9312" y2="131.34"></line><line style="stroke:#000000;stroke-width:1.0;" x1="71.8776" x2="87.4689" y1="137.3389" y2="140.9324"></line></g><!--reverse link Vehiculo to Moto--><g id="link_Vehiculo_Moto"><path codeline="20" d="M210,57.27 C210,73.92 210,82.4 210,98.96 " fill="none" id="Vehiculo-backto-Moto" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="210,39.27,204,57.27,216,57.27,210,39.27" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Moto to CMoto--><g id="link_Moto_CMoto"><path codeline="21" d="M210,147.34 C210,163.48 210,172.96 210,190.85 " fill="none" id="Moto-backto-CMoto" style="stroke:#000000;stroke-width:1.0;"></path><ellipse cx="210" cy="139.34" fill="none" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"></ellipse><line style="stroke:#000000;stroke-width:1.0;" x1="210" x2="210" y1="147.34" y2="131.34"></line><line style="stroke:#000000;stroke-width:1.0;" x1="202" x2="218" y1="139.34" y2="139.34"></line></g><!--reverse link Vehiculo to Camion--><g id="link_Vehiculo_Camion"><path codeline="22" d="M245.9435,49.4713 C269.3835,66.0913 292.2,82.25 315.67,98.89 " fill="none" id="Vehiculo-backto-Camion" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="231.26,39.06,242.4731,54.3658,249.4139,44.5768,231.26,39.06" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Camion to CCamion--><g id="link_Camion_CCamion"><path codeline="23" d="M343.4895,147.0003 C346.8695,163.1403 348.93,172.96 352.68,190.85 " fill="none" id="Camion-backto-CCamion" style="stroke:#000000;stroke-width:1.0;"></path><ellipse cx="341.8498" cy="139.1701" fill="none" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"></ellipse><line style="stroke:#000000;stroke-width:1.0;" x1="343.4895" x2="340.21" y1="147.0003" y2="131.34"></line><line style="stroke:#000000;stroke-width:1.0;" x1="334.0196" x2="349.6799" y1="140.8099" y2="137.5304"></line></g><!--SRC=[ZO_DQiCm48JlUeebrnBe0uH0x4Ff8H1mQ6-5ZRpOmfOsh6H2-_JLZnkS9eUSfDdvDAFrWt5d5BIWH_H-5uAOqnJeNRDhp0_1g_9NP2V2bvf75gX6rCF2EaI97LNnw8GdrnRiipU16ii3BTWwDLKiBSdZi0ByYseSNnPCijyMzb7G-MYH2qhrfYKWUmxVOCcUIBnIUJ_ueDxeQUHPrgnxckzx3jSnMiDEaPiih6eCrB4ON056Ap-1pIQP91WYkDq-HbFYSsGfl6FLttVXQxsUFrlwNv8kWnicBv5xCv7bRKXPRIuiCMNq2m00]--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Coche</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Categoria</span> <span class="token punctuation">{</span> SinIdentificar<span class="token punctuation">,</span> Berlina<span class="token punctuation">,</span> Coupe<span class="token punctuation">,</span> Sedan<span class="token punctuation">,</span> Cabrio<span class="token punctuation">,</span> TodoTerreno<span class="token punctuation">,</span> MonoVolumen<span class="token punctuation">,</span> Crossover <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-object">object</span></span> <span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Coche</span><span class="token punctuation">(</span><span class="token class-name">Matricula</span> matricula<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> ocupantes<span class="token punctuation">,</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">)</span>
           <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>matricula<span class="token punctuation">,</span> color<span class="token punctuation">,</span> marca<span class="token punctuation">,</span> ocupantes<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>categoria <span class="token operator">=</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Moto</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Categoria</span> <span class="token punctuation">{</span> SinIdentificar<span class="token punctuation">,</span> Scooter<span class="token punctuation">,</span> Motocross<span class="token punctuation">,</span> Naked<span class="token punctuation">,</span> Trail<span class="token punctuation">,</span> Supermotard <span class="token punctuation">}</span>

    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-object">object</span></span> <span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Moto</span><span class="token punctuation">(</span><span class="token class-name">Matricula</span> matricula<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> ocupantes<span class="token punctuation">,</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">)</span>
           <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>matricula<span class="token punctuation">,</span> color<span class="token punctuation">,</span> marca<span class="token punctuation">,</span> ocupantes<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>categoria <span class="token operator">=</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Además en la especificación de camión, añadiremos los atributos adicionales que puede identificar nuestra IA según las especificaciones.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Camion</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Categoria</span> <span class="token punctuation">{</span> SinIdentificar<span class="token punctuation">,</span> Articulado<span class="token punctuation">,</span> Frigorífico<span class="token punctuation">,</span> Cisterna<span class="token punctuation">,</span> Trailer <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> ejes<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> cargaMaximaKg<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Camion</span><span class="token punctuation">(</span><span class="token class-name">Matricula</span> matricula<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> ocupantes<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> ejes<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-ushort">ushort</span></span> cargaMaximaKg<span class="token punctuation">,</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">)</span>
        <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>matricula<span class="token punctuation">,</span> color<span class="token punctuation">,</span> marca<span class="token punctuation">,</span> ocupantes<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>ejes <span class="token operator">=</span> ejes<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>cargaMaximaKg <span class="token operator">=</span> cargaMaximaKg<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>categoria <span class="token operator">=</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-ushort">ushort</span></span> <span class="token function">GetEjes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> ejes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-ushort">ushort</span></span> <span class="token function">GetCargaMaximaKg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> cargaMaximaKg<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-object">object</span></span> <span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// En este caso el ToString sí deberemos invalidarlo, pues deberá mostrar información adicional.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$"Número de ejes: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetEjes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$"Carga Máxima: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetCargaMaximaKg</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> Kg"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></li>
<li>
<p>Por último vamos a modelar una clase para nuestra campa de vehículos. Una posible modelización para las especificaciones del enunciado y donde se ha seguido la signatura propuesta para las operaciones del objeto campa en el programa de ejemplo, podría ser la siguente...</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="238px" preserveAspectRatio="none" style="width:605px;height:238px;" version="1.1" viewBox="0 0 605 238" width="605px" zoomAndPan="magnify"><defs></defs><g><!--class CampaVehiculos--><g id="elem_CampaVehiculos"><rect codeline="11" fill="#FFFAFA" height="224.0938" id="CampaVehiculos" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="445" x="7" y="7"></rect><ellipse cx="172.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M175.0156,18.875 Q175.1719,18.6563 175.3594,18.5469 Q175.5469,18.4375 175.7656,18.4375 Q176.1406,18.4375 176.375,18.7031 Q176.6094,18.9531 176.6094,19.5625 L176.6094,21.0156 Q176.6094,21.625 176.375,21.8906 Q176.1406,22.1563 175.7656,22.1563 Q175.4219,22.1563 175.2188,21.9531 Q175.0156,21.7656 174.9063,21.25 Q174.8594,20.8906 174.6719,20.7031 Q174.3438,20.3281 173.7344,20.1094 Q173.125,19.8906 172.5,19.8906 Q171.7344,19.8906 171.0938,20.2188 Q170.4688,20.5469 169.9688,21.2969 Q169.4844,22.0469 169.4844,23.0781 L169.4844,24.1719 Q169.4844,25.4063 170.375,26.2344 Q171.2656,27.0469 172.8594,27.0469 Q173.7969,27.0469 174.4531,26.7969 Q174.8438,26.6406 175.2656,26.2031 Q175.5313,25.9375 175.6719,25.8594 Q175.8281,25.7813 176.0313,25.7813 Q176.3594,25.7813 176.6094,26.0469 Q176.875,26.2969 176.875,26.6406 Q176.875,26.9844 176.5313,27.3906 Q176.0313,27.9688 175.2344,28.2969 Q174.1563,28.75 172.8594,28.75 Q171.3438,28.75 170.1406,28.125 Q169.1563,27.625 168.4688,26.5625 Q167.7813,25.4844 167.7813,24.2031 L167.7813,23.0469 Q167.7813,21.7188 168.3906,20.5781 Q169.0156,19.4219 170.1094,18.8125 Q171.2031,18.1875 172.4375,18.1875 Q173.1719,18.1875 173.8125,18.3594 Q174.4688,18.5156 175.0156,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="192.75" y="28.7285">CampaVehiculos</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="451" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="210" x="13" y="57.5332">+CAPACIDAD : int = 5 {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="270" x="13" y="75.1426">-plazas : Vehiculo[CAPACIDAD] {readOnly}</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="451" y1="82.2188" y2="82.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="13" y="100.752">+CampaVehiculos()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="13" y="118.3613">-GetPlazas() : Vehiculo[CAPACIDAD]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="13" y="135.9707">/+GetPlazasOcupadas() : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="13" y="153.5801">-Busca(in v : Vehiculo) : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="13" y="171.1895">-BuscaPlazaVacia() : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="433" x="13" y="188.7988">+Entra(in v : Vehiculo, out plaza : int, out problema : string) : boolean</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="427" x="13" y="206.4082">+Sale(in v : Vehiculo, out plaza : int, out problema : string) : boolean</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="13" y="224.0176">^+ToString() : string</text></g><!--class Vehiculo--><g id="elem_Vehiculo"><rect fill="#FFFAFA" height="32" id="Vehiculo" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="86" x="512" y="103"></rect><ellipse cx="527" cy="119" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M529.7656,114.875 Q529.9219,114.6563 530.1094,114.5469 Q530.2969,114.4375 530.5156,114.4375 Q530.8906,114.4375 531.125,114.7031 Q531.3594,114.9531 531.3594,115.5625 L531.3594,117.0156 Q531.3594,117.625 531.125,117.8906 Q530.8906,118.1563 530.5156,118.1563 Q530.1719,118.1563 529.9688,117.9531 Q529.7656,117.7656 529.6563,117.25 Q529.6094,116.8906 529.4219,116.7031 Q529.0938,116.3281 528.4844,116.1094 Q527.875,115.8906 527.25,115.8906 Q526.4844,115.8906 525.8438,116.2188 Q525.2188,116.5469 524.7188,117.2969 Q524.2344,118.0469 524.2344,119.0781 L524.2344,120.1719 Q524.2344,121.4063 525.125,122.2344 Q526.0156,123.0469 527.6094,123.0469 Q528.5469,123.0469 529.2031,122.7969 Q529.5938,122.6406 530.0156,122.2031 Q530.2813,121.9375 530.4219,121.8594 Q530.5781,121.7813 530.7813,121.7813 Q531.1094,121.7813 531.3594,122.0469 Q531.625,122.2969 531.625,122.6406 Q531.625,122.9844 531.2813,123.3906 Q530.7813,123.9688 529.9844,124.2969 Q528.9063,124.75 527.6094,124.75 Q526.0938,124.75 524.8906,124.125 Q523.9063,123.625 523.2188,122.5625 Q522.5313,121.4844 522.5313,120.2031 L522.5313,119.0469 Q522.5313,117.7188 523.1406,116.5781 Q523.7656,115.4219 524.8594,114.8125 Q525.9531,114.1875 527.1875,114.1875 Q527.9219,114.1875 528.5625,114.3594 Q529.2188,114.5156 529.7656,114.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="541" y="124.7285">Vehiculo</text></g><!--reverse link CampaVehiculos to Vehiculo--><g id="link_CampaVehiculos_Vehiculo"><path codeline="25" d="M464.09,119 C486.44,119 495.02,119 511.74,119 " fill="none" id="CampaVehiculos-backto-Vehiculo" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="452.09,119,458.09,123,464.09,119,458.09,115,452.09,119" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="482.1097" y="133.6448">0..5</text></g><!--SRC=[hP8zRy8m48Pt_ufJ9n25ih1KwX12XPX02g93rKeNvqei75zaEqM0-E_D1w3mCNQoxFUvvywMDVruy0nMhLCFYR8alM8Zt4QP72rc83Kw5tXlLLnucaasaTeJ35j8O2rlGzPiOQnHRbhHejpYciRbihPScAJ1FbBbASfuGoqsh3gDsIPa7yiQu4OL6Twsc2gUjkAbHUFAY8mN8bK90MMvtq56MKpM2G0GzHKXn2p75QLA5fgTE5GH79n7h-GHUc6m2CBP99Z0AoZZuGr6SB24oTpetR66-xd6FReIE6i-BrLVjt3lkb-dsoYcv1UrfTDzxAcnbzw5cyiYn-J4buCrcd7X97QKWT-MvPwe5IkK2i_bq0ptRhozgty6BZpKbspWqu7bM5DMdRdocvXrfOgPDQ5fR15g-Y_PTs_9KPtK8pUGE0fn_Px0_Juy3GU3qTEbfVW3]--></g></svg></p><p>Veamos la implementación comentada ....</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">CampaVehiculos</span>
<span class="token punctuation">{</span>
    <span class="token comment">// campo de clase y de solo lectura con un valor literal en C# se define con un const</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> CAPACIDAD <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token comment">// El array aunque sea del tipo Vehiculo, realmente va a representar las 5 plazas</span>
    <span class="token comment">// disponibles en la campa. Si hay un null significará que la plaza está vacía y </span>
    <span class="token comment">// si hay un objeto Vehiculo la plaza estará ocupada.</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Vehiculo<span class="token punctuation">?</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> plazas<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">CampaVehiculos</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        plazas <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Vehiculo</span><span class="token punctuation">[</span>CAPACIDAD<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Vehiculo<span class="token punctuation">?</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> plazas<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Es un accesor calculado que me indica el número de plazas que contienen un vehículo.</span>
    <span class="token comment">// Nota: Por eso lo hemos marcado con la / delante del nombre del método en el diagrama UML.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetPlazasOcupadas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> ocupadas <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v <span class="token keyword keyword-in">in</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>v <span class="token operator">!=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> ocupadas<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> ocupadas<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Implementación de la especificación del Busca</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">Busca</span><span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword keyword-return">return</span> i<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Implementación de la especificación del BuscaPlazaVacia</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">BuscaPlazaVacia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
                <span class="token keyword keyword-return">return</span> i<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Operación de entrada de un vehículo en un ojeto campa.</span>
    <span class="token comment">// Devolverá un booleano indicándome si el vehículo ha podido entrar o no</span>
    <span class="token comment">// y dos valores subordinados al mismo:</span>
    <span class="token comment">// - Si retorna true en plaza nos indicará la plaza de 1 a 5 donde a entrado.</span>
    <span class="token comment">// - Si retorna false en problema nos indicará el problema por el que no ha podido entrar.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">Entra</span><span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> plaza<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-string">string</span><span class="token punctuation">?</span></span> problema<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Compruebo que haya espacio en la campa.</span>
        <span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> entra <span class="token operator">=</span> <span class="token function">GetPlazasOcupadas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> CAPACIDAD<span class="token punctuation">;</span>
        plaza <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        problema <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>entra<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Si hay espacio compruebo que el vehículo no esté ya registrado.</span>
            <span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token function">Busca</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
            entra <span class="token operator">=</span> i <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>entra<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token comment">// Si no está registrado busco la primera plaza vacía para aparcarlo</span>
                plaza <span class="token operator">=</span> <span class="token function">BuscaPlazaVacia</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>plaza <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword keyword-else">else</span>
                problema <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$"Ya se encuentra en el aparcamiento el vehículo </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-else">else</span>
            problema <span class="token operator">=</span> <span class="token string">"Aparcamiento lleno"</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> entra<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Operación análoga y contrária a la de Entra.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">Sale</span><span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> plaza<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-string">string</span><span class="token punctuation">?</span></span> problema<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Compruebo que al menos haya un vehículo aparcado.</span>
        <span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> sale <span class="token operator">=</span> <span class="token function">GetPlazasOcupadas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
        problema <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>
        plaza <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>sale<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Compruebo que el vehículo que deseamos que salga estaba registrado como aparcado.</span>
            <span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token function">Busca</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
            sale <span class="token operator">=</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>sale<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token comment">// Dejo su plaza vacía asignándole null.</span>
                plaza <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword keyword-else">else</span>
                problema <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$"No se registró la entrada del vehículo </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-else">else</span>
            problema <span class="token operator">=</span> <span class="token string">"Aparcamiento vacío"</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-return">return</span> sale<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> texto <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">"\nVehículos en el aparcamiento...\n\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Es importante tener en cuenta que en el array puede haber plazas sin vehículo (a null)</span>
            texto<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Plaza </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">i <span class="token operator">+</span> <span class="token number">1</span></span><span class="token punctuation">}</span></span><span class="token string">:\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">?.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string">"Vacía"</span></span><span class="token punctuation">}</span></span><span class="token string">\n\n"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-return">return</span> texto<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ol>
</div> <!-- fin caso de estudio -->
<h3>Abstracción</h3>
<h4>Concepto de clase asbtracta</h4>
<ul>
<li>En la mayoría de los casos, al buscar el polimorfismo con la herencia se nos darán <strong>superclases que no tienen sentido como objetos</strong>.</li>
<li>A este tipo de clases se les denominará <strong>Clases Abstractas</strong> y de las mismas <strong>no podremos definir objetos</strong>, y sí objetos para sus subclases.</li>
</ul>
<p align="center" style="zoom:0.85" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="396pt" height="260pt" viewBox="0.00 0.00 396.40 260.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 256)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-256 392.4,-256 392.4,4 -4,4"></polygon>
<!-- f -->
<g id="node1" class="node">
<title>f</title>
<polygon fill="none" stroke="black" stroke-dasharray="5,2" points="195.58,-144.15 199,-144.44 202.39,-144.89 205.73,-145.47 209.01,-146.21 212.22,-147.08 215.33,-148.09 218.34,-149.24 221.25,-150.53 224.02,-151.94 226.67,-153.48 229.17,-155.14 231.53,-156.92 233.72,-158.82 235.75,-160.82 237.61,-162.92 239.3,-165.12 240.8,-167.4 242.13,-169.78 243.28,-172.22 244.24,-174.74 245.01,-177.33 245.61,-179.97 246.02,-182.66 246.26,-185.39 246.33,-188.16 246.22,-190.95 245.95,-193.76 245.52,-196.59 244.94,-199.41 244.21,-202.24 243.34,-205.05 242.33,-207.84 241.2,-210.61 239.95,-213.34 238.59,-216.03 237.13,-218.67 235.57,-221.26 233.93,-223.78 232.2,-226.22 230.4,-228.6 228.53,-230.88 226.6,-233.08 224.62,-235.18 222.59,-237.18 220.51,-239.08 218.4,-240.86 216.26,-242.52 214.09,-244.06 211.9,-245.47 209.68,-246.76 207.45,-247.91 205.2,-248.92 202.94,-249.79 200.67,-250.53 198.4,-251.11 196.12,-251.56 193.83,-251.85 191.54,-252 189.26,-252 186.97,-251.85 184.68,-251.56 182.4,-251.11 180.13,-250.53 177.86,-249.79 175.6,-248.92 173.35,-247.91 171.12,-246.76 168.9,-245.47 166.71,-244.06 164.54,-242.52 162.4,-240.86 160.29,-239.08 158.21,-237.18 156.18,-235.18 154.2,-233.08 152.27,-230.88 150.4,-228.6 148.6,-226.22 146.87,-223.78 145.23,-221.26 143.67,-218.67 142.21,-216.03 140.85,-213.34 139.6,-210.61 138.47,-207.84 137.46,-205.05 136.59,-202.24 135.86,-199.41 135.28,-196.59 134.85,-193.76 134.58,-190.95 134.47,-188.16 134.54,-185.39 134.78,-182.66 135.19,-179.97 135.79,-177.33 136.56,-174.74 137.52,-172.22 138.67,-169.78 140,-167.4 141.5,-165.12 143.19,-162.92 145.05,-160.82 147.08,-158.82 149.27,-156.92 151.63,-155.14 154.13,-153.48 156.78,-151.94 159.55,-150.53 162.46,-149.24 165.47,-148.09 168.58,-147.08 171.79,-146.21 175.07,-145.47 178.41,-144.89 181.8,-144.44 185.22,-144.15 188.67,-144 192.13,-144 195.58,-144.15"></polygon>
<text text-anchor="middle" x="190.4" y="-210.6" font-family="Arial" font-size="14.00">Figura</text>
<text text-anchor="middle" x="190.4" y="-193.8" font-family="Arial" font-size="14.00">Geométrica</text>
<text text-anchor="middle" x="190.4" y="-177" font-family="Arial" font-size="14.00">???</text>
</g>
<!-- cu -->
<g id="node2" class="node">
<title>cu</title>
<polygon fill="#8b1a1a" stroke="black" points="100.8,-104.4 0,-104.4 0,-3.6 100.8,-3.6 100.8,-104.4"></polygon>
<text text-anchor="middle" x="50.4" y="-49.8" font-family="Arial" font-size="14.00" fill="white">Cuadrado</text>
</g>
<!-- f&#45;&#45;cu -->
<g id="edge1" class="edge">
<title>f--cu</title>
<path fill="none" stroke="black" d="M149.91,-155.93C134.16,-139.96 115.97,-121.51 99.49,-104.79"></path>
</g>
<!-- ti -->
<g id="node3" class="node">
<title>ti</title>
<polygon fill="navy" stroke="black" points="190.4,-104.4 118.4,-54 190.4,-3.6 262.4,-54 190.4,-104.4"></polygon>
<text text-anchor="middle" x="190.4" y="-49.8" font-family="Arial" font-size="14.00" fill="white">Rombo</text>
</g>
<!-- f&#45;&#45;ti -->
<g id="edge2" class="edge">
<title>f--ti</title>
<path fill="none" stroke="black" d="M190.4,-143.72C190.4,-130.97 190.4,-117.41 190.4,-104.82"></path>
</g>
<!-- ci -->
<g id="node4" class="node">
<title>ci</title>
<ellipse fill="darkgreen" stroke="black" cx="334.4" cy="-54" rx="54" ry="54"></ellipse>
<text text-anchor="middle" x="334.4" y="-49.8" font-family="Arial" font-size="14.00" fill="white">Círculo</text>
</g>
<!-- f&#45;&#45;ci -->
<g id="edge3" class="edge">
<title>f--ci</title>
<path fill="none" stroke="black" d="M231.28,-156.69C251.73,-136.52 276.34,-112.25 296.38,-92.49"></path>
</g>
</g>
</svg>
</p><p>En la POO tradicional diremos que:</p>
<ul>
<li>
<p>Cómo hemos comentado, no podremos <strong>instanciar objetos</strong> de una clase abstracta, pues no tiene sentido la existencia de dicha abstracción sin una especificación.</p>
</li>
<li>
<p>Deberían, pero no es necesario, tener <strong>al menos un campo</strong> (atributo) común a todas las subclases.</p>
</li>
<li>
<p>Deberían, pero no es necesario, tener <strong>al menos un método abstracto o virtual puro</strong>.</p>
<ul>
<li>Un <strong>método abstracto</strong> o virtual puro no definirá o tendrá un '<em>cuerpo de método</em>' y por tanto dejaremos su implementación en manos de las subclases o especificaciones.</li>
<li>Este método abstracto deberá ser redefinido <strong>obligatoriamente</strong> en la subclases.</li>
</ul>
</li>
<li>
<p>A las clases abstractas con <strong>todos sus métodos abstractos</strong> se les denomina <em>'<strong>clases abstractas puras</strong>'</em>.</p>
</li>
</ul>
<p>Un posible modelo de clases para representar la jerarquía de figuras representada en el diagrama anterior podría ser el siguiente:</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="415.2px" preserveAspectRatio="none" style="width:888px;height:415px;background:#FFFFFF;" version="1.1" viewBox="0 0 888 415" width="888px" zoomAndPan="magnify"><defs></defs><g><!--class Cuadrado--><g id="elem_Cuadrado"><rect codeline="15" fill="#FFFAFA" height="137.0125" id="Cuadrado" rx="2" ry="2" style="stroke:#000000;stroke-width:0.4000000000000001;" width="252.8" x="5.6" y="245.2"></rect><ellipse cx="103.4" cy="258" fill="#ADD1B2" rx="8.8" ry="8.8" style="stroke:#181818;stroke-width:0.8000000000000002;"></ellipse><path d="M105.6125,254.7 Q105.7375,254.525 105.8875,254.4375 Q106.0375,254.35 106.2125,254.35 Q106.5125,254.35 106.7,254.5625 Q106.8875,254.7625 106.8875,255.25 L106.8875,256.4125 Q106.8875,256.9 106.7,257.1125 Q106.5125,257.325 106.2125,257.325 Q105.9375,257.325 105.775,257.1625 Q105.6125,257.0125 105.525,256.6 Q105.4875,256.3125 105.3375,256.1625 Q105.075,255.8625 104.5875,255.6875 Q104.1,255.5125 103.6,255.5125 Q102.9875,255.5125 102.475,255.775 Q101.975,256.0375 101.575,256.6375 Q101.1875,257.2375 101.1875,258.0625 L101.1875,258.9375 Q101.1875,259.925 101.9,260.5875 Q102.6125,261.2375 103.8875,261.2375 Q104.6375,261.2375 105.1625,261.0375 Q105.475,260.9125 105.8125,260.5625 Q106.025,260.35 106.1375,260.2875 Q106.2625,260.225 106.425,260.225 Q106.6875,260.225 106.8875,260.4375 Q107.1,260.6375 107.1,260.9125 Q107.1,261.1875 106.825,261.5125 Q106.425,261.975 105.7875,262.2375 Q104.925,262.6 103.8875,262.6 Q102.675,262.6 101.7125,262.1 Q100.925,261.7 100.375,260.85 Q99.825,259.9875 99.825,258.9625 L99.825,258.0375 Q99.825,256.975 100.3125,256.0625 Q100.8125,255.1375 101.6875,254.65 Q102.5625,254.15 103.55,254.15 Q104.1375,254.15 104.65,254.2875 Q105.175,254.4125 105.6125,254.7 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="50.4" x="119.8" y="262.5828">Cuadrado</text><line style="stroke:#000000;stroke-width:0.4000000000000001;" x1="6.4" x2="257.6" y1="270.8" y2="270.8"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="90.4" x="10.4" y="285.6266">-lado_cm : double</text><line style="stroke:#000000;stroke-width:0.4000000000000001;" x1="6.4" x2="257.6" y1="291.2875" y2="291.2875"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="185.6" x="10.4" y="306.1141">+SetLado(in lado_cm : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="100" x="10.4" y="320.2016">-GetLado() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="243.2" x="10.4" y="334.2891">+Cuadrado(in color : Color, in lado_cm : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="86.4" x="10.4" y="348.3766">^+Area() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="111.2" x="10.4" y="362.4641">^+Perimetro() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="99.2" x="10.4" y="376.5516">^+ToString() : string</text></g><!--class Rombo--><g id="elem_Rombo"><rect codeline="26" fill="#FFFAFA" height="193.3625" id="Rombo" rx="2" ry="2" style="stroke:#000000;stroke-width:0.4000000000000001;" width="325.6" x="286.8" y="216.8"></rect><ellipse cx="428.2" cy="229.6" fill="#ADD1B2" rx="8.8" ry="8.8" style="stroke:#181818;stroke-width:0.8000000000000002;"></ellipse><path d="M430.4125,226.3 Q430.5375,226.125 430.6875,226.0375 Q430.8375,225.95 431.0125,225.95 Q431.3125,225.95 431.5,226.1625 Q431.6875,226.3625 431.6875,226.85 L431.6875,228.0125 Q431.6875,228.5 431.5,228.7125 Q431.3125,228.925 431.0125,228.925 Q430.7375,228.925 430.575,228.7625 Q430.4125,228.6125 430.325,228.2 Q430.2875,227.9125 430.1375,227.7625 Q429.875,227.4625 429.3875,227.2875 Q428.9,227.1125 428.4,227.1125 Q427.7875,227.1125 427.275,227.375 Q426.775,227.6375 426.375,228.2375 Q425.9875,228.8375 425.9875,229.6625 L425.9875,230.5375 Q425.9875,231.525 426.7,232.1875 Q427.4125,232.8375 428.6875,232.8375 Q429.4375,232.8375 429.9625,232.6375 Q430.275,232.5125 430.6125,232.1625 Q430.825,231.95 430.9375,231.8875 Q431.0625,231.825 431.225,231.825 Q431.4875,231.825 431.6875,232.0375 Q431.9,232.2375 431.9,232.5125 Q431.9,232.7875 431.625,233.1125 Q431.225,233.575 430.5875,233.8375 Q429.725,234.2 428.6875,234.2 Q427.475,234.2 426.5125,233.7 Q425.725,233.3 425.175,232.45 Q424.625,231.5875 424.625,230.5625 L424.625,229.6375 Q424.625,228.575 425.1125,227.6625 Q425.6125,226.7375 426.4875,226.25 Q427.3625,225.75 428.35,225.75 Q428.9375,225.75 429.45,225.8875 Q429.975,226.0125 430.4125,226.3 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="36" x="444.6" y="234.1828">Rombo</text><line style="stroke:#000000;stroke-width:0.4000000000000001;" x1="287.6" x2="611.6" y1="242.4" y2="242.4"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="118.4" x="291.6" y="257.2266">-diagonal1_cm : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="118.4" x="291.6" y="271.3141">-diagonal2_cm : double</text><line style="stroke:#000000;stroke-width:0.4000000000000001;" x1="287.6" x2="611.6" y1="276.975" y2="276.975"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="196" x="291.6" y="291.8016">+SetDiagonal1(in d_cm : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="125.6" x="291.6" y="305.8891">-GetDiagonal1() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="196" x="291.6" y="319.9766">+SetDiagonal2(in d_cm : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="125.6" x="291.6" y="334.0641">-GetDiagonal2() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="103.2" x="291.6" y="348.1516">/-GetLado() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="316" x="291.6" y="362.2391">+Rombo(in color : Color, in d1_cm : double, in d2_cm : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="86.4" x="291.6" y="376.3266">^+Area() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="111.2" x="291.6" y="390.4141">^+Perimetro() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="99.2" x="291.6" y="404.5016">^+ToString() : string</text></g><!--class Circulo--><g id="elem_Circulo"><rect codeline="41" fill="#FFFAFA" height="137.0125" id="Circulo" rx="2" ry="2" style="stroke:#000000;stroke-width:0.4000000000000001;" width="241.6" x="640.8" y="245.2"></rect><ellipse cx="740.6" cy="258" fill="#ADD1B2" rx="8.8" ry="8.8" style="stroke:#181818;stroke-width:0.8000000000000002;"></ellipse><path d="M742.8125,254.7 Q742.9375,254.525 743.0875,254.4375 Q743.2375,254.35 743.4125,254.35 Q743.7125,254.35 743.9,254.5625 Q744.0875,254.7625 744.0875,255.25 L744.0875,256.4125 Q744.0875,256.9 743.9,257.1125 Q743.7125,257.325 743.4125,257.325 Q743.1375,257.325 742.975,257.1625 Q742.8125,257.0125 742.725,256.6 Q742.6875,256.3125 742.5375,256.1625 Q742.275,255.8625 741.7875,255.6875 Q741.3,255.5125 740.8,255.5125 Q740.1875,255.5125 739.675,255.775 Q739.175,256.0375 738.775,256.6375 Q738.3875,257.2375 738.3875,258.0625 L738.3875,258.9375 Q738.3875,259.925 739.1,260.5875 Q739.8125,261.2375 741.0875,261.2375 Q741.8375,261.2375 742.3625,261.0375 Q742.675,260.9125 743.0125,260.5625 Q743.225,260.35 743.3375,260.2875 Q743.4625,260.225 743.625,260.225 Q743.8875,260.225 744.0875,260.4375 Q744.3,260.6375 744.3,260.9125 Q744.3,261.1875 744.025,261.5125 Q743.625,261.975 742.9875,262.2375 Q742.125,262.6 741.0875,262.6 Q739.875,262.6 738.9125,262.1 Q738.125,261.7 737.575,260.85 Q737.025,259.9875 737.025,258.9625 L737.025,258.0375 Q737.025,256.975 737.5125,256.0625 Q738.0125,255.1375 738.8875,254.65 Q739.7625,254.15 740.75,254.15 Q741.3375,254.15 741.85,254.2875 Q742.375,254.4125 742.8125,254.7 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="35.2" x="757" y="262.5828">Circulo</text><line style="stroke:#000000;stroke-width:0.4000000000000001;" x1="641.6" x2="881.6" y1="270.8" y2="270.8"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="94.4" x="645.6" y="285.6266">-radio_cm : double</text><line style="stroke:#000000;stroke-width:0.4000000000000001;" x1="641.6" x2="881.6" y1="291.2875" y2="291.2875"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="193.6" x="645.6" y="306.1141">+SetRadio(in radio_cm : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="104" x="645.6" y="320.2016">-GetRadio() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="232" x="645.6" y="334.2891">+Circulo(in color : Color, in radio_cm : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="86.4" x="645.6" y="348.3766">^+Area() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="111.2" x="645.6" y="362.4641">^+Perimetro() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="99.2" x="645.6" y="376.5516">^+ToString() : string</text></g><!--class Color--><g id="elem_Color"><rect codeline="53" fill="#FFFAFA" height="111" id="Color" rx="2" ry="2" style="stroke:#000000;stroke-width:0.4000000000000001;" width="89.6" x="578.4" y="23.6"></rect><ellipse cx="590.4" cy="40.6813" fill="#EB937F" rx="8.8" ry="8.8" style="stroke:#181818;stroke-width:0.8000000000000002;"></ellipse><path d="M589.4875,41.3188 L589.4875,43.3188 L592.95,43.3188 L592.95,42.5813 Q592.95,42.0938 593.1375,41.8813 Q593.3375,41.6688 593.6375,41.6688 Q593.9375,41.6688 594.125,41.8813 Q594.3125,42.0938 594.3125,42.5813 L594.3125,44.6813 L587.9125,44.6813 Q587.4125,44.6813 587.2,44.4938 Q587,44.3063 587,43.9938 Q587,43.6938 587.2125,43.5063 Q587.425,43.3188 587.9125,43.3188 L588.125,43.3188 L588.125,37.9938 L587.9125,37.9938 Q587.4125,37.9938 587.2,37.8063 Q587,37.6188 587,37.3063 Q587,37.0063 587.2,36.8188 Q587.4125,36.6313 587.9125,36.6313 L594.0125,36.6313 L594.0125,38.7063 Q594.0125,39.1938 593.825,39.4063 Q593.65,39.6063 593.3375,39.6063 Q593.0375,39.6063 592.85,39.4063 Q592.6625,39.1938 592.6625,38.7063 L592.6625,37.9938 L589.4875,37.9938 L589.4875,39.9563 L590.675,39.9563 Q590.675,39.4313 590.775,39.2813 Q590.9875,38.9563 591.3625,38.9563 Q591.6625,38.9563 591.85,39.1688 Q592.0375,39.3688 592.0375,39.8563 L592.0375,41.4313 Q592.0375,41.8688 591.9375,42.0188 Q591.725,42.3313 591.3625,42.3313 Q590.9875,42.3313 590.775,42.0063 Q590.675,41.8563 590.675,41.3188 L589.4875,41.3188 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.6" font-style="italic" lengthAdjust="spacing" textLength="67.2" x="600" y="37.5656">«enumeration»</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="27.2" x="620" y="51.3016">Color</text><line style="stroke:#000000;stroke-width:0.4000000000000001;" x1="579.2" x2="667.2" y1="57.7625" y2="57.7625"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="26.4" x="583.2" y="72.5891">Rojo,</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="24" x="583.2" y="86.6766">Azul,</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="33.6" x="583.2" y="100.7641">Verde,</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="42.4" x="583.2" y="114.8516">Naranja,</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="9.6" x="583.2" y="128.9391">...</text></g><!--class FG--><g id="elem_FG"><rect codeline="62" fill="#FFFAFA" height="147.5875" id="FG" rx="2" ry="2" style="stroke:#000000;stroke-width:0.4000000000000001;" width="168.8" x="365.2" y="5.6"></rect><ellipse cx="421.8" cy="23.6875" fill="#A9DCDF" rx="8.8" ry="8.8" style="stroke:#181818;stroke-width:0.8000000000000002;"></ellipse><path d="M423.55,25.1 L420.2375,25.1 L419.9,25.925 L420.2375,25.925 Q420.725,25.925 420.9375,26.1125 Q421.15,26.3 421.15,26.6125 Q421.15,26.9125 420.9375,27.1 Q420.725,27.2875 420.2375,27.2875 L418.4,27.2875 Q417.9125,27.2875 417.7125,27.1 Q417.5,26.9125 417.5,26.6 Q417.5,26.3 417.725,26.1125 Q417.9375,25.9125 418.4375,25.925 L420.575,20.6 L419.6875,20.6 Q419.2,20.6 418.9875,20.4125 Q418.775,20.225 418.775,19.9125 Q418.775,19.6125 418.9875,19.425 Q419.2,19.2375 419.6875,19.2375 L422.625,19.2375 L425.3375,25.925 Q425.8125,25.925 425.9625,26.0375 Q426.275,26.25 426.275,26.6125 Q426.275,26.9125 426.0625,27.1 Q425.8625,27.2875 425.375,27.2875 L423.5375,27.2875 Q423.05,27.2875 422.8375,27.1 Q422.625,26.9125 422.625,26.6 Q422.625,26.3 422.8375,26.1125 Q423.05,25.925 423.5375,25.925 L423.875,25.925 L423.55,25.1 Z M422.975,23.7375 L421.8875,21.0375 L420.7875,23.7375 L422.975,23.7375 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="32.8" x="446.2" y="21.2266">Figura</text><text fill="#000000" font-family="sans-serif" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="48.8" x="438.2" y="35.3141">{abstract}</text><line style="stroke:#000000;stroke-width:0.4000000000000001;" x1="366" x2="533.2" y1="41.775" y2="41.775"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="65.6" x="370" y="56.6016">-color : Color</text><line style="stroke:#000000;stroke-width:0.4000000000000001;" x1="366" x2="533.2" y1="62.2625" y2="62.2625"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="94.4" x="370" y="77.0891">-GetColor() : Color</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="159.2" x="370" y="91.1766">+SetColor(in color: Color) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="117.6" x="370" y="105.2641">#Figura(in color: Color)</text><text fill="#000000" font-family="sans-serif" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="134.4" x="370" y="119.3516">+Area() : double {abstract}</text><text fill="#000000" font-family="sans-serif" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="159.2" x="370" y="133.4391">+Perimetro() : double {abstract}</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="99.2" x="370" y="147.5266">^+ToString() : string</text></g><polygon fill="none" points="449.6,153.1875,455.2,169.1875,444,169.1875" style="stroke:#000000;stroke-width:0.8000000000000002;"></polygon><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="449.6" x2="449.6" y1="169.1875" y2="169.6"></line><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="534" x2="563.104" y1="79.2497" y2="79.2"></line><!--reverse link FG to Cuadrado--><g id="link_FG_Cuadrado"><path codeline="74" d="M449.6,169.6 C449.6,169.6 346.736,182.92 272.8,216.8 C255.584,224.688 238.176,234.632 221.752,245.112 " fill="none" id="FG-backto-Cuadrado" style="stroke:#000000;stroke-width:0.8000000000000002;"></path></g><!--reverse link FG to Rombo--><g id="link_FG_Rombo"><path codeline="75" d="M449.6,169.6 C449.6,169.6 449.6,190.584 449.6,216.488 " fill="none" id="FG-backto-Rombo" style="stroke:#000000;stroke-width:0.8000000000000002;"></path></g><!--reverse link FG to Circulo--><g id="link_FG_Circulo"><path codeline="76" d="M449.6,169.6 C449.6,169.6 552.784,182.216 626.4,216.8 C643.072,224.632 659.864,234.552 675.664,245.016 " fill="none" id="FG-backto-Circulo" style="stroke:#000000;stroke-width:0.8000000000000002;"></path></g><!--reverse link FG to Color--><g id="link_FG_Color"><path codeline="77" d="M563.104,79.2 C572.4,79.2 568.904,79.2 578.208,79.2 " fill="none" id="FG-backto-Color" style="stroke:#000000;stroke-width:0.8000000000000002;"></path><ellipse cx="556.704" cy="79.2" fill="#FFFFFF" rx="6.4" ry="6.4" style="stroke:#000000;stroke-width:0.8000000000000002;"></ellipse><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="563.104" x2="550.304" y1="79.2" y2="79.2"></line><line style="stroke:#000000;stroke-width:0.8000000000000002;" x1="556.704" x2="556.704" y1="85.6" y2="72.8"></line></g><!--SRC=[jLHTQzim57tNhxXhOQoaoLQNmMXBmV5eAOnHuh2zZ0nPkdFKs5AGvPMrzBzFbkp4NnbxsFBYUtMEZdHE9BtY-4D8X70UBnTXj8JNnsV1-ILD2gCfCrNt_fAGOYFabcgQ0yjeKOJ6Q96K1k-Oah5uGdZNeeHQgyT8PKh3FADiquBkRKjJdDjFgbKfkQTzNGk3SQussE96rKfpfJdgSJ5Fw4d5KZssE1MqlPDhrC9GoH3EhHb6CxlZsGT2re8ZOBurlo37F45T4E8SGbHIhYbNv9c0_KqpMtzdELm0LsMI8N73anZD9uky4HBwZ1DR_LI2-_ctDV5ah-04cdKg1UOSN81pSWfZccxIQX9gf7sfrUJUkipHQ3M4bYgsVvbC7LAuahpKLXSgJtO-kQ2faZGxwvZjGC5u3X-RcPKL_iSazjH-72sTuEzrWhxEsuDvExFZOVEEPpyK_FVq8w5PcUtojsT173XeYmggjZxW38BnrC5PyqkDkn-A_bkt16MP-_NWwgfgK5CZbBo-hhqlr8CwTLNuL6Q- -eBs_lloixtGye7wPZQRLPhDE-MV9RYv1Lh0qOr8Iqs_oUS6VZbguktu9hkyNElswu4cSZ_Uv5MZdRIF_M83ZWFt6u1-ZBiNTq0SIxRBFXYnzR-QJlTlLztx2zw0zNcpxMHQs_qD]--></g></svg></p><blockquote>
<p>📌 <strong>Nota:</strong> Fíjate que en el diagrama UML hemos indicado que la clase es abstracta, además de usando el modificador <strong><code>{abstract}</code></strong> hemos puesto en <em>cursiva</em> el nombre, y en los métodos virtuales puros o abstractos además de la cursiva hemos pusto el modificador <strong><code>{abstract}</code></strong>. Aunque, la cursiva ya no es necesaria a partir de la versión 2.5 de UML aún sigue siendo ámpliamente usada.</p>
</blockquote>
<h4>Clases asbtractas en CSharp</h4>
<p>La sintáxis será muy similar a la de la herencia, pero ampliando las condiciones que hemos descrito con anterioridad.</p>
<p>Vamos a ver la sintaxis a través de la implementación de nuestro ejemplo con figuras.</p>
<ol>
<li>
<p>En primer lugar vamos a implementar la clase abstracta <strong><code>Figura</code></strong>.</p>
<ul>
<li>
<p><strong>(<em>línea 1</em>)</strong>: Definimos la clase anteponiendo el modificador <strong><code>abstract</code></strong></p>
</li>
<li>
<p><strong>(<em>línea 4</em>)</strong>: Podemos añadir como con en la herencia un campo común a todas las especificaciones que en este caso es el <strong><code>color</code></strong>.</p>
</li>
<li>
<p><strong>(<em>líneas 19 y 20</em>)</strong>: Aquellos métodos que no podemos implementar hasta que no sepamos la especificación, les anteponemos el modificador <strong><code>abstract</code></strong> y los dejaremos sin implementar.</p>
</li>
<li>
<p><strong>(<em>línea 14</em>)</strong>: Los constructores que definamos pueden ser <strong><code>protected</code></strong> pues solo tiene sentido usarlos desde las subclases.<br>
Nunca podré hacer un <strong><code>Figura f = new Figura(Figura.Rojo);</code></strong></p>
</li>
<li>
<p><strong>(<em>línea 24</em>)</strong>: Los datos disponibles en <strong><code>Figura</code></strong>, serán responsabilidad de la clase, para así no repetir código en las especificaciones y mantener al máximo la encapsulación (Ej. <strong><code>GetColor()</code></strong> es privado poque es <strong><code>Figura</code></strong> quien se encarga de componer el dato).</p>
<blockquote>
<p>✋ <strong>Importante:</strong> Pero, ¿Cómo puede ser que desde aquí se llama a <strong><code>Area()</code></strong> o <strong><code>Perimetro()</code></strong> si no están implementados?<br>
Son métodos de <strong><code>Figura</code></strong> y por tanto accesibles desde ella. Además, estoy seguro de que cuando se instáncie un objeto, será una especificación y por tanto se producirá un enlace dinámico a un método de la especificación donde estaremos obligados a implementarlo (invalidar).</p>
</blockquote>
</li>
</ul>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Figura</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Color</span> <span class="token punctuation">{</span> Rojo<span class="token punctuation">,</span> Azul<span class="token punctuation">,</span> Verde<span class="token punctuation">,</span> Naranja <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Color</span> color<span class="token punctuation">;</span>

    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Color</span> <span class="token function">GetColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> color<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetColor</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span> <span class="token punctuation">}</span>        
    <span class="token keyword keyword-protected">protected</span> <span class="token function">Figura</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetColor</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Color: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\nArea: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string"> cm2\nPerímetro: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></li>
<li>
<p>Implementación de las especificaciones (subclases)</p>
<ul>
<li><strong>(<em>líneas 11 y 12</em>)</strong>: Estaremos <strong>obligados</strong> a invalidar los métodos <strong>abstractos</strong> o virtuales puros.</li>
<li><strong>(<em>línea 15</em>)</strong>: Le pedimos a figura la información común aunque en relidad para ello llame a los métodos que he implementado aquí.</li>
</ul>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Circulo</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Figura</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> radio_cm<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetRadio</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-double">double</span></span> radio_cm<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>radio_cm <span class="token operator">=</span> radio_cm<span class="token punctuation">;</span>  <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetRadio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> radio_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Circulo</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> radio_cm<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetRadio</span><span class="token punctuation">(</span>radio_cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span><span class="token function">GetRadio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> <span class="token function">GetRadio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Círculo\nRadio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetRadio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre> <div style="page-break-after:always;"></div>
<p>El resto de implementaciones serán análogas a <strong><code>Circulo</code></strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Cuadrado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Figura</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> lado_cm<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetLado</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-double">double</span></span> lado_cm<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>lado_cm <span class="token operator">=</span> lado_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> lado_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Cuadrado</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> lado_cm<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetLado</span><span class="token punctuation">(</span>lado_cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Cuadrado\nLado: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Rombo</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Figura</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> diagonal1_cm<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> diagonal2_cm<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetDiagonal1</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-double">double</span></span> d_cm<span class="token punctuation">)</span> <span class="token punctuation">{</span> diagonal1_cm <span class="token operator">=</span> d_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetDiagonal1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> diagonal1_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetDiagonal2</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-double">double</span></span> d_cm<span class="token punctuation">)</span> <span class="token punctuation">{</span> diagonal2_cm <span class="token operator">=</span> d_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetDiagonal2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> diagonal2_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Accesor Calculado</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> Math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span><span class="token function">GetDiagonal1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2d</span><span class="token punctuation">,</span> <span class="token number">2d</span><span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span><span class="token function">GetDiagonal2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2d</span><span class="token punctuation">,</span> <span class="token number">2d</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Rombo</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> d1_cm<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> d2_cm<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDiagonal1</span><span class="token punctuation">(</span>d1_cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetDiagonal2</span><span class="token punctuation">(</span>d2_cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">GetDiagonal1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetDiagonal2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Rombo\nDiagonal1: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetDiagonal1</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm\nDiagonal2: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetDiagonal2</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm\nLado: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>El polimorfismo de datos lo vamos a poder realizar igual que en el caso de <strong><code>Articulo</code></strong> pero no vamos a poder crear ningún artículo directamente.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Figura<span class="token punctuation">[</span><span class="token punctuation">]</span></span> figuras <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Figura<span class="token punctuation">[</span><span class="token punctuation">]</span></span> 
    <span class="token punctuation">{</span> 
        <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Cuadrado</span><span class="token punctuation">(</span>Figura<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Rombo</span><span class="token punctuation">(</span>Figura<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Circulo</span><span class="token punctuation">(</span>Figura<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Verde<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Figura</span> f <span class="token keyword keyword-in">in</span> figuras<span class="token punctuation">)</span> 
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ol>
<div style="page-break-after:always;"></div>
<div class="caso_estudio">
<p><strong>🎓 Caso de estudio</strong></p>
<p>Supongamos el siguiente modelo simplificado, en el cual, un <strong>Sicólogo</strong> crea un gabinete o <strong>consulta</strong> psicológica, donde cada día atiende a los <strong>pacientes</strong> que le llegan.<br>
Los pacientes <strong>irán entrando a la consulta</strong> y en un momento dado el sicologo les <strong>pasará consulta</strong> por orden de llegada.<br>
Los pacientes tendrán un <strong>nombre</strong> y <strong>de momento</strong> nuestro sicólogo solo sabe atender a dos tipos de pacientes:</p>
<ol>
<li>Pacientes <strong>alegres</strong></li>
<li>Pacientes <strong>tristes</strong></li>
</ol>
<p>En el momento en que el sicólogo <strong>atiende a un paciente</strong>, se producirá un diálogo con el mismo que empezará igual para todos los pacientes:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>- Sicólogo: Buenos días<span class="token operator">!</span>. ¿Cómo se llama?
- Paciente: Soy <span class="token operator">&lt;</span>Nombre<span class="token operator">&gt;</span>
- Sicólogo: Dígame <span class="token operator">&lt;</span>Nombre<span class="token operator">&gt;</span><span class="token operator">!</span><span class="token punctuation">..</span> ¿Qué siente?
</code></pre><p>Pero dependiendo del tipo de paciente obtendremos un tipo de <strong>respuesta</strong> diferente...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>Para el alegre - Paciente:  Pues<span class="token punctuation">..</span>. ahora estoy alegre.
Para el triste - Paciente:  Pues<span class="token punctuation">..</span>. ahora estoy triste.
</code></pre><p>El sicólogo realizará un <strong>diagnóstico</strong> diferente dependiendo del tipo de paciente.</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>Para el alegre - Sicólogo: <span class="token operator">&lt;</span>Nombre<span class="token operator">&gt;</span> le veo estupendamente. Enhorabuena<span class="token operator">!</span><span class="token operator">!</span> no necesita más terapia.
Para el triste - Sicólogo: <span class="token operator">&lt;</span>Nombre<span class="token operator">&gt;</span> tome fluoxetina 20mg y vuelva en un mes.
</code></pre><p>Tras realizar el diagnostico el sicólogo dira ...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>- Sicólogo: Que pase el siguiente <span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span>
</code></pre><p>Atendiendo a otro paciente si hay aún pendientes en consulta.</p>
<p><strong>Piensa en un posible modelado o diseño de clases para representar las especificaciones anteriores.</strong><br>
Si no se te ocurre ningúno, aquí tienes una propuesta de implementación.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="453.6px" preserveAspectRatio="none" style="width:485px;height:453px;" version="1.1" viewBox="0 0 485 453" width="485.1px" zoomAndPan="magnify"><defs></defs><g><!--class PacienteFeliz--><g id="elem_PacienteFeliz"><rect codeline="13" fill="#FFFAFA" height="74.8969" id="PacienteFeliz" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="201.6" x="27" y="372.6"></rect><ellipse cx="86.175" cy="387" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M88.6641,383.2875 Q88.8047,383.0906 88.9734,382.9922 Q89.1422,382.8938 89.3391,382.8938 Q89.6766,382.8938 89.8875,383.1328 Q90.0984,383.3578 90.0984,383.9063 L90.0984,385.2141 Q90.0984,385.7625 89.8875,386.0016 Q89.6766,386.2406 89.3391,386.2406 Q89.0297,386.2406 88.8469,386.0578 Q88.6641,385.8891 88.5656,385.425 Q88.5234,385.1016 88.3547,384.9328 Q88.0594,384.5953 87.5109,384.3984 Q86.9625,384.2016 86.4,384.2016 Q85.7109,384.2016 85.1344,384.4969 Q84.5719,384.7922 84.1219,385.4672 Q83.6859,386.1422 83.6859,387.0703 L83.6859,388.0547 Q83.6859,389.1656 84.4875,389.9109 Q85.2891,390.6422 86.7234,390.6422 Q87.5672,390.6422 88.1578,390.4172 Q88.5094,390.2766 88.8891,389.8828 Q89.1281,389.6438 89.2547,389.5734 Q89.3953,389.5031 89.5781,389.5031 Q89.8734,389.5031 90.0984,389.7422 Q90.3375,389.9672 90.3375,390.2766 Q90.3375,390.5859 90.0281,390.9516 Q89.5781,391.4719 88.8609,391.7672 Q87.8906,392.175 86.7234,392.175 Q85.3594,392.175 84.2766,391.6125 Q83.3906,391.1625 82.7719,390.2063 Q82.1531,389.2359 82.1531,388.0828 L82.1531,387.0422 Q82.1531,385.8469 82.7016,384.8203 Q83.2641,383.7797 84.2484,383.2313 Q85.2328,382.6688 86.3438,382.6688 Q87.0047,382.6688 87.5813,382.8234 Q88.1719,382.9641 88.6641,383.2875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="75.6" x="104.625" y="392.1557">PacienteFeliz</text><line style="stroke:#000000;stroke-width:0.45;" x1="27.9" x2="227.7" y1="401.4" y2="401.4"></line><line style="stroke:#000000;stroke-width:0.45;" x1="27.9" x2="227.7" y1="408.6" y2="408.6"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="190.8" x="32.4" y="425.2799">+PacienteFeliz(in nombre : string)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="144.9" x="32.4" y="441.1283">^+GetRespuesta() : string</text></g><!--class PacienteTriste--><g id="elem_PacienteTriste"><rect codeline="19" fill="#FFFAFA" height="74.8969" id="PacienteTriste" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="207.9" x="260.55" y="372.6"></rect><ellipse cx="319.725" cy="387" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M322.2141,383.2875 Q322.3547,383.0906 322.5234,382.9922 Q322.6922,382.8938 322.8891,382.8938 Q323.2266,382.8938 323.4375,383.1328 Q323.6484,383.3578 323.6484,383.9063 L323.6484,385.2141 Q323.6484,385.7625 323.4375,386.0016 Q323.2266,386.2406 322.8891,386.2406 Q322.5797,386.2406 322.3969,386.0578 Q322.2141,385.8891 322.1156,385.425 Q322.0734,385.1016 321.9047,384.9328 Q321.6094,384.5953 321.0609,384.3984 Q320.5125,384.2016 319.95,384.2016 Q319.2609,384.2016 318.6844,384.4969 Q318.1219,384.7922 317.6719,385.4672 Q317.2359,386.1422 317.2359,387.0703 L317.2359,388.0547 Q317.2359,389.1656 318.0375,389.9109 Q318.8391,390.6422 320.2734,390.6422 Q321.1172,390.6422 321.7078,390.4172 Q322.0594,390.2766 322.4391,389.8828 Q322.6781,389.6438 322.8047,389.5734 Q322.9453,389.5031 323.1281,389.5031 Q323.4234,389.5031 323.6484,389.7422 Q323.8875,389.9672 323.8875,390.2766 Q323.8875,390.5859 323.5781,390.9516 Q323.1281,391.4719 322.4109,391.7672 Q321.4406,392.175 320.2734,392.175 Q318.9094,392.175 317.8266,391.6125 Q316.9406,391.1625 316.3219,390.2063 Q315.7031,389.2359 315.7031,388.0828 L315.7031,387.0422 Q315.7031,385.8469 316.2516,384.8203 Q316.8141,383.7797 317.7984,383.2313 Q318.7828,382.6688 319.8938,382.6688 Q320.5547,382.6688 321.1313,382.8234 Q321.7219,382.9641 322.2141,383.2875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="81.9" x="338.175" y="392.1557">PacienteTriste</text><line style="stroke:#000000;stroke-width:0.45;" x1="261.45" x2="467.55" y1="401.4" y2="401.4"></line><line style="stroke:#000000;stroke-width:0.45;" x1="261.45" x2="467.55" y1="408.6" y2="408.6"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="197.1" x="265.95" y="425.2799">+PacienteTriste(in nombre : string)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="144.9" x="265.95" y="441.1283">^+GetRespuesta() : string</text></g><!--class P--><g id="elem_P"><rect codeline="25" fill="#FFFAFA" height="118.4906" id="P" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="209.7" x="140.85" y="198.9"></rect><ellipse cx="214.425" cy="219.2484" fill="#A9DCDF" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M216.3938,220.8375 L212.6672,220.8375 L212.2875,221.7656 L212.6672,221.7656 Q213.2156,221.7656 213.4547,221.9766 Q213.6938,222.1875 213.6938,222.5391 Q213.6938,222.8766 213.4547,223.0875 Q213.2156,223.2984 212.6672,223.2984 L210.6,223.2984 Q210.0516,223.2984 209.8266,223.0875 Q209.5875,222.8766 209.5875,222.525 Q209.5875,222.1875 209.8406,221.9766 Q210.0797,221.7516 210.6422,221.7656 L213.0469,215.775 L212.0484,215.775 Q211.5,215.775 211.2609,215.5641 Q211.0219,215.3531 211.0219,215.0016 Q211.0219,214.6641 211.2609,214.4531 Q211.5,214.2422 212.0484,214.2422 L215.3531,214.2422 L218.4047,221.7656 Q218.9391,221.7656 219.1078,221.8922 Q219.4594,222.1313 219.4594,222.5391 Q219.4594,222.8766 219.2203,223.0875 Q218.9953,223.2984 218.4469,223.2984 L216.3797,223.2984 Q215.8313,223.2984 215.5922,223.0875 Q215.3531,222.8766 215.3531,222.525 Q215.3531,222.1875 215.5922,221.9766 Q215.8313,221.7656 216.3797,221.7656 L216.7594,221.7656 L216.3938,220.8375 Z M215.7469,219.3047 L214.5234,216.2672 L213.2859,219.3047 L215.7469,219.3047 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="49.5" x="235.575" y="216.4799">Paciente</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="54.9" x="232.875" y="232.3283">{abstract}</text><line style="stroke:#000000;stroke-width:0.45;" x1="141.75" x2="349.65" y1="239.5969" y2="239.5969"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="154.8" x="146.25" y="256.2768">-nombre : string {readOnly}</text><line style="stroke:#000000;stroke-width:0.45;" x1="141.75" x2="349.65" y1="262.6453" y2="262.6453"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="123.3" x="146.25" y="279.3252">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="164.7" x="146.25" y="295.1736">#Paciente(in nombre : string)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" font-style="italic" lengthAdjust="spacing" textLength="198.9" x="146.25" y="311.0221">+GetRespuesta() : string {abstract}</text></g><!--class Consulta--><g id="elem_Consulta"><rect codeline="34" fill="#FFFAFA" height="90.7453" id="Consulta" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="199.8" x="279" y="22.05"></rect><ellipse cx="349.875" cy="36.45" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M352.3641,32.7375 Q352.5047,32.5406 352.6734,32.4422 Q352.8422,32.3438 353.0391,32.3438 Q353.3766,32.3438 353.5875,32.5828 Q353.7984,32.8078 353.7984,33.3563 L353.7984,34.6641 Q353.7984,35.2125 353.5875,35.4516 Q353.3766,35.6906 353.0391,35.6906 Q352.7297,35.6906 352.5469,35.5078 Q352.3641,35.3391 352.2656,34.875 Q352.2234,34.5516 352.0547,34.3828 Q351.7594,34.0453 351.2109,33.8484 Q350.6625,33.6516 350.1,33.6516 Q349.4109,33.6516 348.8344,33.9469 Q348.2719,34.2422 347.8219,34.9172 Q347.3859,35.5922 347.3859,36.5203 L347.3859,37.5047 Q347.3859,38.6156 348.1875,39.3609 Q348.9891,40.0922 350.4234,40.0922 Q351.2672,40.0922 351.8578,39.8672 Q352.2094,39.7266 352.5891,39.3328 Q352.8281,39.0938 352.9547,39.0234 Q353.0953,38.9531 353.2781,38.9531 Q353.5734,38.9531 353.7984,39.1922 Q354.0375,39.4172 354.0375,39.7266 Q354.0375,40.0359 353.7281,40.4016 Q353.2781,40.9219 352.5609,41.2172 Q351.5906,41.625 350.4234,41.625 Q349.0594,41.625 347.9766,41.0625 Q347.0906,40.6125 346.4719,39.6563 Q345.8531,38.6859 345.8531,37.5328 L345.8531,36.4922 Q345.8531,35.2969 346.4016,34.2703 Q346.9641,33.2297 347.9484,32.6813 Q348.9328,32.1188 350.0438,32.1188 Q350.7047,32.1188 351.2813,32.2734 Q351.8719,32.4141 352.3641,32.7375 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="50.4" x="368.325" y="41.6057">Consulta</text><line style="stroke:#000000;stroke-width:0.45;" x1="279.9" x2="477.9" y1="50.85" y2="50.85"></line><line style="stroke:#000000;stroke-width:0.45;" x1="279.9" x2="477.9" y1="58.05" y2="58.05"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="100.8" x="284.4" y="74.7299">+Consulta() : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="189" x="284.4" y="90.5783">+Entra(in p : Paciente) : Consulta</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="129.6" x="284.4" y="106.4268">+Siguiente() : Paciente</text></g><!--class Sicologo--><g id="elem_Sicologo"><rect codeline="41" fill="#FFFAFA" height="122.4422" id="Sicologo" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="214.2" x="6.3" y="6.3"></rect><ellipse cx="85.275" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M87.7641,16.9875 Q87.9047,16.7906 88.0734,16.6922 Q88.2422,16.5938 88.4391,16.5938 Q88.7766,16.5938 88.9875,16.8328 Q89.1984,17.0578 89.1984,17.6063 L89.1984,18.9141 Q89.1984,19.4625 88.9875,19.7016 Q88.7766,19.9406 88.4391,19.9406 Q88.1297,19.9406 87.9469,19.7578 Q87.7641,19.5891 87.6656,19.125 Q87.6234,18.8016 87.4547,18.6328 Q87.1594,18.2953 86.6109,18.0984 Q86.0625,17.9016 85.5,17.9016 Q84.8109,17.9016 84.2344,18.1969 Q83.6719,18.4922 83.2219,19.1672 Q82.7859,19.8422 82.7859,20.7703 L82.7859,21.7547 Q82.7859,22.8656 83.5875,23.6109 Q84.3891,24.3422 85.8234,24.3422 Q86.6672,24.3422 87.2578,24.1172 Q87.6094,23.9766 87.9891,23.5828 Q88.2281,23.3438 88.3547,23.2734 Q88.4953,23.2031 88.6781,23.2031 Q88.9734,23.2031 89.1984,23.4422 Q89.4375,23.6672 89.4375,23.9766 Q89.4375,24.2859 89.1281,24.6516 Q88.6781,25.1719 87.9609,25.4672 Q86.9906,25.875 85.8234,25.875 Q84.4594,25.875 83.3766,25.3125 Q82.4906,24.8625 81.8719,23.9063 Q81.2531,22.9359 81.2531,21.7828 L81.2531,20.7422 Q81.2531,19.5469 81.8016,18.5203 Q82.3641,17.4797 83.3484,16.9313 Q84.3328,16.3688 85.4438,16.3688 Q86.1047,16.3688 86.6813,16.5234 Q87.2719,16.6641 87.7641,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="48.6" x="103.725" y="25.8557">Sicologo</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="219.6" y1="35.1" y2="35.1"></line><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="219.6" y1="42.3" y2="42.3"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="99" x="11.7" y="58.9799">+Sicologo() : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="148.5" x="11.7" y="74.8283">+GetConsulta() : Consulta</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" text-decoration="underline" textLength="203.4" x="11.7" y="90.6768">-Diagnostico(in p : Paciente) : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" text-decoration="underline" textLength="171.9" x="11.7" y="106.5252">-Atiende(in p : Paciente) : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="129.6" x="11.7" y="122.3736">+PasaConsulta() : void</text></g><!--reverse link P to PacienteFeliz--><g id="link_P_PacienteFeliz"><path codeline="50" d="M189.4192,330.7258 C174.9652,349.0858 169.47,356.085 156.582,372.465 " fill="none" id="P-backto-PacienteFeliz" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="199.44,317.997,185.1762,327.3855,193.6621,334.0661,199.44,317.997" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--reverse link P to PacienteTriste--><g id="link_P_PacienteTriste"><path codeline="51" d="M302.3779,330.6895 C316.9399,349.0495 322.506,356.085 335.493,372.465 " fill="none" id="P-backto-PacienteTriste" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="292.311,317.997,298.147,334.0451,306.6087,327.3338,292.311,317.997" style="stroke:#000000;stroke-width:0.9;"></polygon></g><!--link Sicologo to P--><g id="link_Sicologo_P"><path codeline="52" d="M155.628,128.718 C171.279,151.083 185.9037,171.9759 201.4557,194.1969 " fill="none" id="Sicologo-to-P" style="stroke:#000000;stroke-width:0.9;stroke-dasharray:7.0,7.0;"></path><polygon fill="#000000" points="204.552,198.621,202.8569,189.9206,201.9717,194.9342,196.9581,194.0491,204.552,198.621" style="stroke:#000000;stroke-width:0.9;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="31.5" x="184.5" y="168.7456">«use»</text></g><!--link Sicologo to Consulta--><g id="link_Sicologo_Consulta"><path codeline="53" d="M231.426,67.5 C250.569,67.5 254.241,67.5 273.177,67.5 " fill="none" id="Sicologo-Consulta" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="#000000" points="220.626,67.5,226.026,71.1,231.426,67.5,226.026,63.9,220.626,67.5" style="stroke:#000000;stroke-width:0.9;"></polygon><polygon fill="#000000" points="278.577,67.5,270.477,63.9,274.077,67.5,270.477,71.1,278.577,67.5" style="stroke:#000000;stroke-width:0.9;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="25.2" x="237.15" y="61.6456">tiene</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.3" x="227.697" y="64.7931">1</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.3" x="265.6483" y="64.7994">1</text></g><!--link Consulta to P--><g id="link_Consulta_P"><path codeline="54" d="M341.2786,121.7787 C323.2066,147.4287 309.6053,166.7207 290.0933,194.4137 " fill="none" id="Consulta-P" style="stroke:#000000;stroke-width:0.9;"></path><polygon fill="none" points="347.499,112.95,341.4459,115.2909,341.2786,121.7787,347.3317,119.4378,347.499,112.95" style="stroke:#000000;stroke-width:0.9;"></polygon><polygon fill="#000000" points="286.983,198.828,294.5913,194.28,289.5749,195.1494,288.7055,190.133,286.983,198.828" style="stroke:#000000;stroke-width:0.9;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="54.9" x="316.8" y="168.7456">es visitada</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="6.3" x="336.5562" y="132.2021">1</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="18" x="272.514" y="189.3156">0..*</text></g><!--SRC=[dL9DQ-Cm4BthLqnTM9eMXxPB3_qWu6G_sCjkg0EzB8M9FNL572b8SiisvBztP4U9xQQNzKLetjDxRyPpbDEJL0J9E9tT9vCPV3c-kFnwYtFh36REtwvkXR0BgLPeS0bPYTOcpXavhnpzohHAvHl1UOkI6ADV9xhK1iObPeiMDEKh5ZJcep2wKdb3UtYMZjAbNb2BE_5EOsroCeV56a9FAbNwjSNfmpE3oZ94od5N6POSVNWjHDsMZoSPeHzKoZUn5i3VMQTu8XKelPmRWXlW6KbL36hQuzbFSlTaLnLPXoU37ImsVVMPaTPHNxwf_fz- -5smDGAq40NXlseTy4sqTOrx7h0sXFaVLVvZjJeMk_skEMqhZnm7tK-ZxktWiz2xVTjFPwALhKg7OIxXNhzwqJ9lojyLItlh5PT354_PlQzfgIog9kMWnVFGtZ6L6Uz4eODZkFSSkOLEbevH_4rYeRHr_FPGgZ1URfyfc-PDuXZFwH3VstRPl20MFmw3kvZ2OnptThPRssvQQ0o68zwD6xYxgooDHljwT171QJogps35F1-JnAxWKHrxslbmU1hLKcJXHLhfC4Vn3W00]--></g></svg></p><p><strong>Antes de ver la implementación comentada de esta prupuesta, intenta realizarla tú y así posteriormente puedes ver la propuesta de solución para lo que no has sabido resolver.</strong></p>
<p>Propuesta de solución al caso de estudio:</p>
<ol>
<li>
<p>Crearemos la clase abstracta <strong><code>Paciente</code></strong>. Será abstracta porque los pacientes del sicólogo reponden de forma diferente dependiendo de su especificación.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Paciente</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-protected">protected</span> <span class="token function">Paciente</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>Definiremos las especificaciones de <strong><code>Paciente</code></strong> para que respondan según su estado de ánimo.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">PacienteAlegre</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Paciente</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Fíjate que los constructores no tienen cuerpo </span>
    <span class="token comment">// y lo único que hacen es pasar el nombre al constructor protected de Paciente.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">PacienteAlegre</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"Pues... ahora estoy alegre."</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">PacienteTriste</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Paciente</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">PacienteTriste</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"Pues... ahora estoy triste."</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>    
</code></pre></li>
<li>
<p>Definiremos la clase <strong><code>Consulta</code></strong> (✋ <em>Lee atentamente los <strong>comentarios</strong></em>).</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Consulta</span>
<span class="token punctuation">{</span>        
    <span class="token keyword keyword-private">private</span> <span class="token class-name">Paciente<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">?</span></span> pacientes<span class="token punctuation">;</span>          <span class="token comment">// Array de pacientes que representa la agregación 0..* con la clase Paciente.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Consulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> pacientes <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// En un principio la consulta estará vacía.</span>
    <span class="token comment">// Patrón de interfaz 'fluido' para que los pacientes entren por orden en la consulta.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Consulta</span> <span class="token function">Entra</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Redimensiono o creo el array y añado al paciente en la última posición.</span>
        Array<span class="token punctuation">.</span><span class="token function">Resize</span><span class="token punctuation">(</span><span class="token keyword keyword-ref">ref</span> pacientes<span class="token punctuation">,</span> pacientes <span class="token operator">==</span> <span class="token keyword keyword-null">null</span> <span class="token punctuation">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> pacientes<span class="token punctuation">.</span>Length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pacientes<span class="token punctuation">[</span>pacientes<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Retornará el siguiente paciente en la cola de la consulta o null si ya no quedan pacientes.</span>
    <span class="token comment">// Nota: Más adelante veremos colecciones que nos permitirán gestionar esto de forma más simple.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Paciente<span class="token punctuation">?</span></span> <span class="token function">Siguiente</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>           
        <span class="token class-name">Paciente<span class="token punctuation">?</span></span> p <span class="token operator">=</span> pacientes<span class="token punctuation">?</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Asigno null o el paciente en el índice 0 ('primero')</span>
        <span class="token comment">// Si hay más de 2 pacientes, eliminaré el primer elemento del array dejándolo con un elemento menos.</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>pacientes<span class="token punctuation">?.</span>Length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Creo un array auxiliar copia con un elemento menos que el de pacientes.</span>
            <span class="token class-name">Paciente<span class="token punctuation">[</span><span class="token punctuation">]</span></span> copia <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Paciente</span><span class="token punctuation">[</span>pacientes<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">// En este array copio desde el índice 1 del de pacientes en la posición 0 de la copia.</span>
            <span class="token comment">// Nota: Ver en la documentación de C# esta función.</span>
            Array<span class="token punctuation">.</span><span class="token function">Copy</span><span class="token punctuation">(</span>pacientes<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> copia<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> pacientes<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                
            pacientes <span class="token operator">=</span> copia<span class="token punctuation">;</span> <span class="token comment">// Pacientes pasa a ser ahora la copia donde he quitado el primer elemento.</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-else">else</span>
            pacientes <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> p<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div style="page-break-after:always;"></div>
</li>
<li>
<p>Definiremos la clase <strong><code>Sicologo</code></strong> (✋ <em>Lee atentamente los <strong>comentarios</strong></em>).<br>
<strong>Nota:</strong> Tiene un dependencia de uso con <strong><code>Paciente</code></strong> en el UML, ya que necesita conocer la clase. (En este caso hemos decidido representarla)</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Sicologo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Consulta</span> consulta<span class="token punctuation">;</span> <span class="token comment">// Representa la composición con consuta 'Un Sicologo tiene una Consulta'</span>
    <span class="token comment">// La consulta la crea el sicólogo y por tanto desaparece con él.</span>
    <span class="token comment">// Es mejor práctica recibirla como parámetro y hacer una copia como indicamos, </span>
    <span class="token comment">// pero lo hemos hecho así por simplificar.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Sicologo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> consulta <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Consulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token comment">// La consulta debe ser accesible por los pacientes.        </span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Consulta</span> <span class="token function">GetConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> consulta<span class="token punctuation">;</span> <span class="token punctuation">}</span> 
    <span class="token comment">// A partir de la especificación de paciente, damos un diagnóstico. </span>
    <span class="token comment">// Si es un paciente no conocido damos una respuesta ambigua.</span>
    <span class="token comment">// El método lo hemos hecho de clase pues no necesitamos acceder a los datos de la instáncia.</span>
    <span class="token comment">// además nos permitirá a un sicólogo diagnosticar pacientes sin tener consulta si la hicieramos pública.</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">Diagnostico</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> p <span class="token keyword keyword-switch">switch</span>
        <span class="token punctuation">{</span>
            <span class="token return-type class-name">PacienteAlegre</span> _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> le veo estupendamente. Enhorabuena!! no necesita más terapia."</span></span><span class="token punctuation">,</span>
            <span class="token return-type class-name">PacienteTriste</span> _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> tome fluoxetina 20mg y vuelva en un mes."</span></span><span class="token punctuation">,</span>
            _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> déjeme que estudie un poco más su caso y vuelva la semana que viene."</span></span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Atender al paciente es quien establece el diálogo.</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Atiende</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"- Sicólogo: Buenos días!. ¿Cómo se llama?"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"- Paciente: Soy </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"- Sicólogo: Dígame </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">!.. ¿Qué siente?"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"- Paciente: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuilder</span> accion <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">"- Sicólogo: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        accion<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token function">Diagnostico</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"\n- Sicólogo: Que pase el siguiente !!!\n\n"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>accion<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// PasaConsulta atiende a los pacientes mientras exista alguno en la cola de la consulta.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PasaConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Paciente<span class="token punctuation">?</span></span> p<span class="token punctuation">;</span>
        <span class="token keyword keyword-while">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p <span class="token operator">=</span> consulta<span class="token punctuation">.</span><span class="token function">Siguiente</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
            <span class="token function">Atiende</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>Vamos a crear un sencillo programa de test</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Sicologo</span> sicologo <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Sicologo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sicologo<span class="token punctuation">.</span><span class="token function">GetConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">PacienteAlegre</span><span class="token punctuation">(</span><span class="token string">"Xusa"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">PacienteAlegre</span><span class="token punctuation">(</span><span class="token string">"Juanjo"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">PacienteTriste</span><span class="token punctuation">(</span><span class="token string">"Carmen"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sicologo<span class="token punctuation">.</span><span class="token function">PasaConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>Cómo sucedía en otros casos podemos crear una nueva especificación de <strong><code>Paciente</code></strong> por ejemplo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">PacienteSociopata</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Paciente</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">PacienteSociopata</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"Vas a morir .. muuhaaahahahaha !!"</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>El <strong>consultorio seguiría funcionando</strong>. Pero, esta vez el <strong><code>Sicólogo</code></strong> debería actualizarse para saber tratar a este tipo de pacientes.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">Diagnostico</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> p <span class="token keyword keyword-switch">switch</span> <span class="token punctuation">{</span>
        <span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token return-type class-name">PacienteSociopata</span> _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"Lo siento!. Debo aplicarte una decarga de 10000V justo ahora."</span></span><span class="token punctuation">,</span>
        _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> déjeme que estudie un poco más su caso y vuelva la semana que viene."</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><blockquote>
<p><strong>⚡ Reto:</strong> ¿Se te ocurre cómo crear diferentes tipos de sicólogos que diagnostiquen de forma diferente o alguna forma de hacer que sepamos que tenemos que actualizar al sicólogo si hay nuevos pacientes?</p>
</blockquote>
</li>
</ol>
</div> <!-- fin caso de estudio -->

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>