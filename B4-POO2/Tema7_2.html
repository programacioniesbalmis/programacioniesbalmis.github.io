<!DOCTYPE html><html><head>
      <title>Programaci&#xF3;n 1&#xBA; DAM Tema 7 parte 2</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
.markdown-preview.markdown-preview .slides > section {
  height: 100%;
  font-size: 90%;
  overflow-y: auto !important;
}

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1 class="mume-header undefined" id="tema-7-parte-2">Tema 7 parte 2</h1>

<p><a href="./Tema7_2.pdf">Descargar estos apuntes</a></p>
<h2 class="mume-header" id="%C3%ADndice">&#xCD;ndice</h2>

<ol>
<li><a href="#%C3%ADndice">&#xCD;ndice</a></li>
<li><a href="#roles-entre-clases-continuaci%C3%B3n">Roles entre clases (Continuaci&#xF3;n)</a>
<ol>
<li><a href="#relaci%C3%B3n-de-herencia-generalizaci%C3%B3n">Relaci&#xF3;n de Herencia (Generalizaci&#xF3;n)</a>
<ol>
<li><a href="#tipos-de-herencia">Tipos de Herencia</a>
<ol>
<li><a href="#herencia-simple">Herencia Simple</a></li>
<li><a href="#herencia-m%C3%BAltiple">Herencia M&#xFA;ltiple</a></li>
</ol>
</li>
<li><a href="#implementando-la-herencia-en-c">Implementando la herencia en C#</a>
<ol>
<li><a href="#palabra-reservada-a-hrefhttpsdocsmicrosoftcomen-usdotnetcsharplanguage-referencekeywordsbase-target_blankbasea">Palabra reservada base</a></li>
</ol>
</li>
<li><a href="#ocultaci%C3%B3n-e-invalidaci%C3%B3n">Ocultaci&#xF3;n e Invalidaci&#xF3;n</a>
<ol>
<li><a href="#ocultaci%C3%B3n-o-reemplazo-en-c">Ocultaci&#xF3;n o reemplazo en C#</a></li>
<li><a href="#invalidaci%C3%B3n-o-refinamiento-en-c">Invalidaci&#xF3;n o refinamiento en C#</a></li>
</ol>
</li>
<li><a href="#polimorfismo-de-datos-o-inclusi%C3%B3n">Polimorfismo de datos o inclusi&#xF3;n</a></li>
<li><a href="#principio-de-sustituci%C3%B3n-de-a-hrefhttpseswikipediaorgwikibarbara_liskov-target_blankliskova-upcasting">Principio de sustituci&#xF3;n de Liskov (Upcasting)</a></li>
<li><a href="#downcasting">Downcasting</a>
<ol>
<li><a href="#formas-de-realizar-el-downcasting">Formas de realizar el Downcasting</a></li>
</ol>
</li>
<li><a href="#ligadura-din%C3%A1mica">Ligadura Din&#xE1;mica</a>
<ol>
<li><a href="#ejemplo-de-uso-del-enlace-din%C3%A1mico">Ejemplo de uso del Enlace Din&#xE1;mico</a></li>
</ol>
</li>
<li><a href="#utilidad-del-polimorfismo-de-datos-sustituci%C3%B3n-y-el-enlace-din%C3%A1mico">Utilidad del polimorfismo de datos (sustituci&#xF3;n) y el enlace din&#xE1;mico</a></li>
<li><a href="#el-caso-especial-de-la-clase-a-hrefhttpsdocsmicrosoftcomes-esdotnetapisystemobjectviewnetcore-31-target_blankobjecta-en-c">El caso especial de la clase object en C#</a></li>
</ol>
</li>
<li><a href="#abstracci%C3%B3n">Abstracci&#xF3;n</a>
<ol>
<li><a href="#concepto-de-clase-asbtracta">Concepto de clase asbtracta</a></li>
<li><a href="#clases-asbtractas-en-c">Clases asbtractas en C#</a></li>
</ol>
</li>
</ol>
</li>
</ol>
<div style="page-break-after:always;"></div>
<h2 class="mume-header" id="roles-entre-clases-continuaci%C3%B3n">Roles entre clases (Continuaci&#xF3;n)</h2>

<h3 class="mume-header" id="relaci%C3%B3n-de-herencia-generalizaci%C3%B3n">Relaci&#xF3;n de Herencia (Generalizaci&#xF3;n)</h3>

<ul>
<li>
<p>Una de las caracter&#xED;sticas principales de la POO. Formalmente podemos definirla como....</p>
<ul>
<li>Un tipo de relaci&#xF3;n entre clases, en la cual una clase denominada <strong>subclase</strong> (o tambi&#xE9;n <em>clase <strong>hija</strong></em>), comparte la estructura y/o comportamiento definidos en una o m&#xE1;s clases, llamadas <strong>superclases</strong> (o tambi&#xE9;n <em>clase <strong>padre</strong></em>, <em>clase <strong>base</strong></em>).</li>
<li>En otras palabras, una subclase a&#xF1;ade sus propios atributos y m&#xE9;todos a los de la superclase, por lo que generalmente es mayor que esta y representar&#xE1; a un grupo <strong>menor</strong> de objetos.</li>
</ul>
</li>
<li>
<p>De una forma menos formal podemos resaltar que...</p>
<ul>
<li>La subclase es un <strong>concreci&#xF3;n</strong> de la superclase que representar&#xE1; una <strong>generalizaci&#xF3;n</strong>.</li>
<li>Representar&#xE1; el tipo de relaci&#xF3;n &apos;<strong>Es un/a</strong>&apos;. Ej. &apos;<em>Un coche <strong>es un</strong> veh&#xED;culo.</em>&apos;</li>
<li>La <strong>herencia</strong> nos servir&#xE1; para reutilizar c&#xF3;digo y por tanto no repetir funcionalidades.</li>
</ul>
</li>
<li>
<p>Representaremos el rol a trav&#xE9;s de una flecha de punta hueca de la subclase a la superclase y se podr&#xE1;n producir relaciones <strong>transitivas</strong>.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="85.4839px" preserveAspectRatio="none" style="width:420px;height:85px;" version="1.1" viewBox="0 0 420 85" width="420.9677px" zoomAndPan="magnify"><defs><filter height="300%" id="f51tp2qd831ah" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="3.225806451612903"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="6.451612903225806" dy="6.451612903225806" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[a46ee5ce0ceb0380cf446a08a056dce4]
class A--><rect fill="#FFFAFA" filter="url(#f51tp2qd831ah)" height="51.6129" id="A" style="stroke:#000000;stroke-width:2.419354838709677;" width="62.9032" x="11.2903" y="11.2903"/><ellipse cx="35.4839" cy="37.0968" fill="#ADD1B2" rx="17.7419" ry="17.7419" style="stroke:#000000;stroke-width:1.6129032258064515;"/><path d="M39.9446,30.4435 Q40.1966,30.0907 40.499,29.9143 Q40.8014,29.7379 41.1542,29.7379 Q41.7591,29.7379 42.1371,30.1663 Q42.5151,30.5696 42.5151,31.5524 L42.5151,33.8962 Q42.5151,34.879 42.1371,35.3075 Q41.7591,35.7359 41.1542,35.7359 Q40.5998,35.7359 40.2722,35.4083 Q39.9446,35.1058 39.7681,34.2742 Q39.6925,33.6946 39.3901,33.3921 Q38.8609,32.7873 37.878,32.4345 Q36.8952,32.0817 35.8871,32.0817 Q34.6522,32.0817 33.619,32.6109 Q32.6109,33.1401 31.8044,34.3498 Q31.0232,35.5595 31.0232,37.2228 L31.0232,38.9869 Q31.0232,40.9778 32.4597,42.3135 Q33.8962,43.624 36.4667,43.624 Q37.9788,43.624 39.0373,43.2208 Q39.6673,42.9688 40.3478,42.2631 Q40.7762,41.8347 41.003,41.7087 Q41.255,41.5827 41.5827,41.5827 Q42.1119,41.5827 42.5151,42.0111 Q42.9435,42.4143 42.9435,42.9688 Q42.9435,43.5232 42.3891,44.1784 Q41.5827,45.1109 40.2974,45.6401 Q38.5585,46.371 36.4667,46.371 Q34.0222,46.371 32.0817,45.3629 Q30.494,44.5565 29.3851,42.8427 Q28.2762,41.1038 28.2762,39.0373 L28.2762,37.1724 Q28.2762,35.0302 29.2591,33.1905 Q30.2671,31.3256 32.0313,30.3427 Q33.7954,29.3347 35.7863,29.3347 Q36.9708,29.3347 38.004,29.6119 Q39.0625,29.8639 39.9446,30.4435 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="19.3548" lengthAdjust="spacingAndGlyphs" textLength="11.2903" x="58.0645" y="45.0164">A</text><!--MD5=[69c451c751c414e37549b782190fef46]
class B--><rect fill="#FFFAFA" filter="url(#f51tp2qd831ah)" height="51.6129" id="B" style="stroke:#000000;stroke-width:2.419354838709677;" width="64.5161" x="170.9677" y="11.2903"/><ellipse cx="195.1613" cy="37.0968" fill="#ADD1B2" rx="17.7419" ry="17.7419" style="stroke:#000000;stroke-width:1.6129032258064515;"/><path d="M199.622,30.4435 Q199.874,30.0907 200.1764,29.9143 Q200.4788,29.7379 200.8317,29.7379 Q201.4365,29.7379 201.8145,30.1663 Q202.1925,30.5696 202.1925,31.5524 L202.1925,33.8962 Q202.1925,34.879 201.8145,35.3075 Q201.4365,35.7359 200.8317,35.7359 Q200.2772,35.7359 199.9496,35.4083 Q199.622,35.1058 199.4456,34.2742 Q199.37,33.6946 199.0675,33.3921 Q198.5383,32.7873 197.5554,32.4345 Q196.5726,32.0817 195.5645,32.0817 Q194.3296,32.0817 193.2964,32.6109 Q192.2883,33.1401 191.4819,34.3498 Q190.7006,35.5595 190.7006,37.2228 L190.7006,38.9869 Q190.7006,40.9778 192.1371,42.3135 Q193.5736,43.624 196.1442,43.624 Q197.6563,43.624 198.7147,43.2208 Q199.3448,42.9688 200.0252,42.2631 Q200.4536,41.8347 200.6804,41.7087 Q200.9325,41.5827 201.2601,41.5827 Q201.7893,41.5827 202.1925,42.0111 Q202.621,42.4143 202.621,42.9688 Q202.621,43.5232 202.0665,44.1784 Q201.2601,45.1109 199.9748,45.6401 Q198.2359,46.371 196.1442,46.371 Q193.6996,46.371 191.7591,45.3629 Q190.1714,44.5565 189.0625,42.8427 Q187.9536,41.1038 187.9536,39.0373 L187.9536,37.1724 Q187.9536,35.0302 188.9365,33.1905 Q189.9446,31.3256 191.7087,30.3427 Q193.4728,29.3347 195.4637,29.3347 Q196.6482,29.3347 197.6815,29.6119 Q198.7399,29.8639 199.622,30.4435 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="19.3548" lengthAdjust="spacingAndGlyphs" textLength="12.9032" x="217.7419" y="45.0164">B</text><!--MD5=[378b18254a1b2429f435e93f5e5cc50c]
class C--><rect fill="#FFFAFA" filter="url(#f51tp2qd831ah)" height="51.6129" id="C" style="stroke:#000000;stroke-width:2.419354838709677;" width="66.129" x="332.2581" y="11.2903"/><ellipse cx="356.4516" cy="37.0968" fill="#ADD1B2" rx="17.7419" ry="17.7419" style="stroke:#000000;stroke-width:1.6129032258064515;"/><path d="M360.9123,30.4435 Q361.1643,30.0907 361.4667,29.9143 Q361.7692,29.7379 362.122,29.7379 Q362.7268,29.7379 363.1048,30.1663 Q363.4829,30.5696 363.4829,31.5524 L363.4829,33.8962 Q363.4829,34.879 363.1048,35.3075 Q362.7268,35.7359 362.122,35.7359 Q361.5675,35.7359 361.2399,35.4083 Q360.9123,35.1058 360.7359,34.2742 Q360.6603,33.6946 360.3579,33.3921 Q359.8286,32.7873 358.8458,32.4345 Q357.8629,32.0817 356.8548,32.0817 Q355.62,32.0817 354.5867,32.6109 Q353.5786,33.1401 352.7722,34.3498 Q351.9909,35.5595 351.9909,37.2228 L351.9909,38.9869 Q351.9909,40.9778 353.4274,42.3135 Q354.8639,43.624 357.4345,43.624 Q358.9466,43.624 360.005,43.2208 Q360.6351,42.9688 361.3155,42.2631 Q361.744,41.8347 361.9708,41.7087 Q362.2228,41.5827 362.5504,41.5827 Q363.0796,41.5827 363.4829,42.0111 Q363.9113,42.4143 363.9113,42.9688 Q363.9113,43.5232 363.3569,44.1784 Q362.5504,45.1109 361.2651,45.6401 Q359.5262,46.371 357.4345,46.371 Q354.9899,46.371 353.0494,45.3629 Q351.4617,44.5565 350.3528,42.8427 Q349.244,41.1038 349.244,39.0373 L349.244,37.1724 Q349.244,35.0302 350.2268,33.1905 Q351.2349,31.3256 352.999,30.3427 Q354.7631,29.3347 356.754,29.3347 Q357.9385,29.3347 358.9718,29.6119 Q360.0302,29.8639 360.9123,30.4435 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="19.3548" lengthAdjust="spacingAndGlyphs" textLength="14.5161" x="379.0323" y="45.0164">C</text><!--MD5=[81500ff05264bba268bb228b65a49ed8]
reverse link A to B--><path codeline="13" d="M107.5645,37.0968 C129.371,37.0968 152.8226,37.0968 170.8548,37.0968 " fill="none" id="A-backto-B" style="stroke:#000000;stroke-width:1.6129032258064515;"/><polygon fill="none" points="106.9355,48.3871,74.6774,37.0968,106.9355,25.8065,106.9355,48.3871" style="stroke:#000000;stroke-width:1.6129032258064515;"/><!--MD5=[86a7f2f40e8d9a69bf1262f888265aa3]
reverse link B to C--><path codeline="14" d="M268.9516,37.0968 C290.5968,37.0968 313.8065,37.0968 331.8387,37.0968 " fill="none" id="B-backto-C" style="stroke:#000000;stroke-width:1.6129032258064515;"/><polygon fill="none" points="268.4839,48.3871,236.2258,37.0968,268.4839,25.8065,268.4839,48.3871" style="stroke:#000000;stroke-width:1.6129032258064515;"/><!--MD5=[d93432320abfe3b7b3ebd2936ec7f5c9]
@startuml

left to right direction
scale 400 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide attributes
hide methods

A ^- -B
B ^- -C

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><ul>
<li><strong>B</strong> hereda de <strong>A</strong></li>
<li><strong>B</strong> es una concreci&#xF3;n <strong>A</strong></li>
<li><strong>A</strong> es una generalizaci&#xF3;n <strong>B</strong></li>
<li><strong>A</strong> es la superclase y <strong>B</strong> la subclase</li>
<li><strong>C</strong> hereda de <strong>B</strong> y <strong>A</strong></li>
<li><strong>B</strong> y <strong>C</strong> son subclases de <strong>A</strong></li>
</ul>
</li>
</ul>
<h4 class="mume-header" id="tipos-de-herencia">Tipos de Herencia</h4>

<h5 class="mume-header" id="herencia-simple">Herencia Simple</h5>

<ul>
<li>
<p>Cuando la subclase hereda de <strong>una sola</strong> superclase.</p>
</li>
<li>
<p>Ser&#xE1; la que nosotros vamos a usar.</p>
</li>
<li>
<p>Por <strong>ejemplo</strong>, supongamos Tenemos la superclase <strong><code>Articulo</code></strong> con un <strong><code>precio</code></strong> y un <strong><code>nombre</code></strong>.<br>
Una subclase de <strong><code>Articulo</code></strong> denominada <strong><code>ArticuloRebajado</code></strong> que adem&#xE1;s a&#xF1;ade al articulo un campo con el porcentaje de rebaja denominado <strong><code>porcentajeRebaja</code></strong>.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="118.1208px" preserveAspectRatio="none" style="width:417px;height:118px;" version="1.1" viewBox="0 0 417 118" width="417.4497px" zoomAndPan="magnify"><defs><filter height="300%" id="fd87cgc42rec0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.684563758389262"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.369127516778524" dy="5.369127516778524" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[60dbf6945f26d51d7ef11e92d44c812f]
class Articulo--><rect codeline="12" fill="#FFFAFA" filter="url(#fd87cgc42rec0)" height="90.8347" id="Articulo" style="stroke:#000000;stroke-width:2.0134228187919465;" width="120.8054" x="9.396" y="9.396"/><ellipse cx="40.4027" cy="30.8725" fill="#ADD1B2" rx="14.7651" ry="14.7651" style="stroke:#000000;stroke-width:1.342281879194631;"/><path d="M44.1149,25.3356 Q44.3247,25.0419 44.5763,24.8951 Q44.828,24.7483 45.1216,24.7483 Q45.625,24.7483 45.9396,25.1049 Q46.2542,25.4404 46.2542,26.2584 L46.2542,28.2089 Q46.2542,29.0268 45.9396,29.3834 Q45.625,29.7399 45.1216,29.7399 Q44.6602,29.7399 44.3876,29.4673 Q44.1149,29.2156 43.9681,28.5235 Q43.9052,28.0411 43.6535,27.7894 Q43.2131,27.2861 42.3951,26.9924 Q41.5772,26.6988 40.7383,26.6988 Q39.7106,26.6988 38.8507,27.1393 Q38.0117,27.5797 37.3406,28.5864 Q36.6904,29.5931 36.6904,30.9773 L36.6904,32.4455 Q36.6904,34.1023 37.8859,35.2139 Q39.0814,36.3045 41.2206,36.3045 Q42.479,36.3045 43.3599,35.969 Q43.8842,35.7592 44.4505,35.172 Q44.807,34.8154 44.9958,34.7106 Q45.2055,34.6057 45.4782,34.6057 Q45.9186,34.6057 46.2542,34.9622 Q46.6107,35.2978 46.6107,35.7592 Q46.6107,36.2206 46.1493,36.7659 Q45.4782,37.5419 44.4086,37.9824 Q42.9614,38.5906 41.2206,38.5906 Q39.1862,38.5906 37.5713,37.7517 Q36.25,37.0805 35.3272,35.6544 Q34.4044,34.2072 34.4044,32.4874 L34.4044,30.9354 Q34.4044,29.1527 35.2223,27.6216 Q36.0612,26.0696 37.5294,25.2517 Q38.9975,24.4128 40.6544,24.4128 Q41.6401,24.4128 42.5,24.6435 Q43.3809,24.8532 44.1149,25.3356 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="16.1074" lengthAdjust="spacingAndGlyphs" textLength="53.6913" x="61.6107" y="37.4633">Articulo</text><line style="stroke:#000000;stroke-width:2.0134228187919465;" x1="10.7383" x2="128.8591" y1="52.349" y2="52.349"/><text fill="#000000" font-family="sans-serif" font-size="14.7651" lengthAdjust="spacingAndGlyphs" textLength="103.3557" x="17.4497" y="73.0456">#precio : double</text><text fill="#000000" font-family="sans-serif" font-size="14.7651" lengthAdjust="spacingAndGlyphs" textLength="104.698" x="17.4497" y="91.6173">#nombre : string</text><!--MD5=[2f7aa29e6ed06458ec3a8577fe477f93]
class ArticuloRebajado--><rect codeline="18" fill="#FFFAFA" filter="url(#fd87cgc42rec0)" height="72.263" id="ArticuloRebajado" style="stroke:#000000;stroke-width:2.0134228187919465;" width="187.9195" x="210.7383" y="18.7919"/><ellipse cx="239.3289" cy="40.2685" fill="#ADD1B2" rx="14.7651" ry="14.7651" style="stroke:#000000;stroke-width:1.342281879194631;"/><path d="M243.0411,34.7315 Q243.2508,34.4379 243.5025,34.2911 Q243.7542,34.1443 244.0478,34.1443 Q244.5512,34.1443 244.8658,34.5008 Q245.1804,34.8364 245.1804,35.6544 L245.1804,37.6049 Q245.1804,38.4228 244.8658,38.7794 Q244.5512,39.1359 244.0478,39.1359 Q243.5864,39.1359 243.3138,38.8633 Q243.0411,38.6116 242.8943,37.9195 Q242.8314,37.4371 242.5797,37.1854 Q242.1393,36.682 241.3213,36.3884 Q240.5034,36.0948 239.6644,36.0948 Q238.6367,36.0948 237.7768,36.5352 Q236.9379,36.9757 236.2668,37.9824 Q235.6166,38.9891 235.6166,40.3733 L235.6166,41.8414 Q235.6166,43.4983 236.8121,44.6099 Q238.0076,45.7005 240.1468,45.7005 Q241.4052,45.7005 242.2861,45.3649 Q242.8104,45.1552 243.3767,44.568 Q243.7332,44.2114 243.922,44.1065 Q244.1317,44.0017 244.4044,44.0017 Q244.8448,44.0017 245.1804,44.3582 Q245.5369,44.6938 245.5369,45.1552 Q245.5369,45.6166 245.0755,46.1619 Q244.4044,46.9379 243.3347,47.3784 Q241.8876,47.9866 240.1468,47.9866 Q238.1124,47.9866 236.4975,47.1477 Q235.1762,46.4765 234.2534,45.0503 Q233.3305,43.6032 233.3305,41.8834 L233.3305,40.3314 Q233.3305,38.5487 234.1485,37.0176 Q234.9874,35.4656 236.4555,34.6477 Q237.9237,33.8087 239.5805,33.8087 Q240.5663,33.8087 241.4262,34.0394 Q242.307,34.2492 243.0411,34.7315 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="16.1074" lengthAdjust="spacingAndGlyphs" textLength="126.1745" x="260" y="46.8593">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:2.0134228187919465;" x1="212.0805" x2="397.3154" y1="61.745" y2="61.745"/><text fill="#000000" font-family="sans-serif" font-size="14.7651" lengthAdjust="spacingAndGlyphs" textLength="171.8121" x="218.7919" y="82.4415">-porcentajeRebaja : ushort</text><!--MD5=[4c5e07181522a81d7ce4ca381a4c3897]
reverse link Articulo to ArticuloRebajado--><path codeline="23" d="M157.3691,55.0336 C174.6577,55.0336 192.8993,55.0336 210.4161,55.0336 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:1.342281879194631;"/><polygon fill="none" points="157.1812,64.4295,130.3356,55.0336,157.1812,45.6376,157.1812,64.4295" style="stroke:#000000;stroke-width:1.342281879194631;"/><!--MD5=[d982fe12ca6e8d63007dbd530fa47c7a]
@startuml

scale 400 width
left to right direction
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide methods

class Articulo
{
    # precio : double
    # nombre : string
}

class ArticuloRebajado
{
    - porcentajeRebaja : ushort
}

Articulo ^- - ArticuloRebajado

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><blockquote>
<p>&#x1F441; La instancia de un objeto en memoria de <strong><code>ArticuloRebajado</code></strong> adem&#xE1;s de tener un campo <strong><code>porcentajeRebaja</code></strong>, tendr&#xE1; los campos <strong><code>precio</code></strong> y <strong><code>nombre</code></strong> por ser tambi&#xE9;n un <strong><code>Articulo</code></strong> y todos ellos definir&#xE1;n su estado.</p>
</blockquote>
</li>
</ul>
<h5 class="mume-header" id="herencia-m%C3%BAltiple">Herencia M&#xFA;ltiple</h5>

<ul>
<li>
<p>Se dar&#xE1; cuando una subclase hereda caracter&#xED;sticas de varias superclases.</p>
</li>
<li>
<p><strong>Tiene m&#xE1;s desventajas que ventajas. Por eso C# y Java NO la permiten.</strong> Aunque otros lenguajes como Python o C++ s&#xED;.</p>
</li>
<li>
<p>Entre las <strong>desventajas</strong> que hace que C# no la permita podemos destacar:</p>
<ul>
<li>
<p><strong>Menor velocidad</strong> de ejecuci&#xF3;n.</p>
</li>
<li>
<p><strong>Herencia repetida (Transitividad)</strong>.</p>
<p>En el ejemplo <strong><code>ProfesorUniversitario</code></strong> hereda <strong>2 veces</strong> o a trav&#xE9;s de dos clases diferentes los atributos de <strong><code>Persona</code></strong>.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="268.0995px" preserveAspectRatio="none" style="width:264px;height:268px;" version="1.1" viewBox="0 0 264 268" width="264.7059px" zoomAndPan="magnify"><defs><filter height="300%" id="f1t68w2qv1y3x5" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.262443438914027"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.524886877828054" dy="4.524886877828054" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[8f63dadf5c643e74a34e53c8f0a15d23]
class Persona--><rect fill="#FFFAFA" filter="url(#f1t68w2qv1y3x5)" height="36.1991" id="Persona" style="stroke:#000000;stroke-width:1.6968325791855203;" width="89.3665" x="78.0543" y="7.9186"/><ellipse cx="95.0226" cy="26.0181" fill="#ADD1B2" rx="12.4434" ry="12.4434" style="stroke:#000000;stroke-width:1.1312217194570136;"/><path d="M98.1512,21.3518 Q98.3279,21.1044 98.54,20.9806 Q98.7521,20.8569 98.9996,20.8569 Q99.4238,20.8569 99.6889,21.1574 Q99.954,21.4402 99.954,22.1295 L99.954,23.7733 Q99.954,24.4627 99.6889,24.7632 Q99.4238,25.0636 98.9996,25.0636 Q98.6107,25.0636 98.3809,24.8339 Q98.1512,24.6217 98.0274,24.0385 Q97.9744,23.6319 97.7623,23.4198 Q97.3911,22.9956 96.7018,22.7482 Q96.0124,22.5007 95.3054,22.5007 Q94.4393,22.5007 93.7146,22.8719 Q93.0076,23.2431 92.442,24.0915 Q91.8941,24.9399 91.8941,26.1065 L91.8941,27.3438 Q91.8941,28.7401 92.9016,29.6769 Q93.9091,30.596 95.712,30.596 Q96.7725,30.596 97.5148,30.3132 Q97.9567,30.1365 98.434,29.6415 Q98.7344,29.3411 98.8935,29.2527 Q99.0703,29.1643 99.3001,29.1643 Q99.6712,29.1643 99.954,29.4648 Q100.2545,29.7476 100.2545,30.1365 Q100.2545,30.5253 99.8657,30.9849 Q99.3001,31.6389 98.3986,32.01 Q97.179,32.5226 95.712,32.5226 Q93.9975,32.5226 92.6365,31.8156 Q91.5229,31.25 90.7452,30.0481 Q89.9675,28.8285 89.9675,27.3791 L89.9675,26.0711 Q89.9675,24.5687 90.6568,23.2784 Q91.3638,21.9704 92.6011,21.2811 Q93.8384,20.5741 95.2347,20.5741 Q96.0655,20.5741 96.7902,20.7685 Q97.5325,20.9453 98.1512,21.3518 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13.5747" lengthAdjust="spacingAndGlyphs" textLength="53.1674" x="110.8597" y="31.5726">Persona</text><!--MD5=[dd3b13c530c963ada90a48d1c3f4bdb3]
class Profesor--><rect fill="#FFFAFA" filter="url(#f1t68w2qv1y3x5)" height="36.1991" id="Profesor" style="stroke:#000000;stroke-width:1.6968325791855203;" width="89.3665" x="7.9186" y="111.991"/><ellipse cx="24.8869" cy="130.0905" fill="#ADD1B2" rx="12.4434" ry="12.4434" style="stroke:#000000;stroke-width:1.1312217194570136;"/><path d="M28.0154,125.4242 Q28.1922,125.1768 28.4043,125.053 Q28.6164,124.9293 28.8638,124.9293 Q29.288,124.9293 29.5532,125.2298 Q29.8183,125.5126 29.8183,126.2019 L29.8183,127.8457 Q29.8183,128.5351 29.5532,128.8355 Q29.288,129.136 28.8638,129.136 Q28.475,129.136 28.2452,128.9063 Q28.0154,128.6941 27.8917,128.1109 Q27.8387,127.7043 27.6266,127.4922 Q27.2554,127.068 26.566,126.8206 Q25.8767,126.5731 25.1697,126.5731 Q24.3036,126.5731 23.5789,126.9443 Q22.8719,127.3155 22.3063,128.1639 Q21.7583,129.0123 21.7583,130.1789 L21.7583,131.4161 Q21.7583,132.8125 22.7658,133.7493 Q23.7733,134.6684 25.5762,134.6684 Q26.6367,134.6684 27.3791,134.3856 Q27.821,134.2089 28.2982,133.7139 Q28.5987,133.4135 28.7578,133.3251 Q28.9345,133.2367 29.1643,133.2367 Q29.5355,133.2367 29.8183,133.5372 Q30.1188,133.82 30.1188,134.2089 Q30.1188,134.5977 29.7299,135.0573 Q29.1643,135.7113 28.2629,136.0824 Q27.0433,136.595 25.5762,136.595 Q23.8617,136.595 22.5007,135.888 Q21.3872,135.3224 20.6094,134.1205 Q19.8317,132.9009 19.8317,131.4515 L19.8317,130.1435 Q19.8317,128.6411 20.5211,127.3508 Q21.2281,126.0428 22.4654,125.3535 Q23.7026,124.6465 25.099,124.6465 Q25.9297,124.6465 26.6544,124.8409 Q27.3968,125.0177 28.0154,125.4242 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13.5747" lengthAdjust="spacingAndGlyphs" textLength="53.1674" x="40.724" y="135.645">Profesor</text><!--MD5=[c0995101a1341b36be05106ad95848ec]
class Investigador--><rect fill="#FFFAFA" filter="url(#f1t68w2qv1y3x5)" height="36.1991" id="Investigador" style="stroke:#000000;stroke-width:1.6968325791855203;" width="111.991" x="136.8778" y="111.991"/><ellipse cx="153.8462" cy="130.0905" fill="#ADD1B2" rx="12.4434" ry="12.4434" style="stroke:#000000;stroke-width:1.1312217194570136;"/><path d="M156.9747,125.4242 Q157.1514,125.1768 157.3635,125.053 Q157.5757,124.9293 157.8231,124.9293 Q158.2473,124.9293 158.5124,125.2298 Q158.7776,125.5126 158.7776,126.2019 L158.7776,127.8457 Q158.7776,128.5351 158.5124,128.8355 Q158.2473,129.136 157.8231,129.136 Q157.4342,129.136 157.2045,128.9063 Q156.9747,128.6941 156.851,128.1109 Q156.7979,127.7043 156.5858,127.4922 Q156.2146,127.068 155.5253,126.8206 Q154.836,126.5731 154.129,126.5731 Q153.2629,126.5731 152.5382,126.9443 Q151.8312,127.3155 151.2656,128.1639 Q150.7176,129.0123 150.7176,130.1789 L150.7176,131.4161 Q150.7176,132.8125 151.7251,133.7493 Q152.7326,134.6684 154.5355,134.6684 Q155.596,134.6684 156.3384,134.3856 Q156.7803,134.2089 157.2575,133.7139 Q157.558,133.4135 157.7171,133.3251 Q157.8938,133.2367 158.1236,133.2367 Q158.4948,133.2367 158.7776,133.5372 Q159.0781,133.82 159.0781,134.2089 Q159.0781,134.5977 158.6892,135.0573 Q158.1236,135.7113 157.2221,136.0824 Q156.0025,136.595 154.5355,136.595 Q152.821,136.595 151.46,135.888 Q150.3464,135.3224 149.5687,134.1205 Q148.791,132.9009 148.791,131.4515 L148.791,130.1435 Q148.791,128.6411 149.4803,127.3508 Q150.1874,126.0428 151.4246,125.3535 Q152.6619,124.6465 154.0583,124.6465 Q154.889,124.6465 155.6137,124.8409 Q156.3561,125.0177 156.9747,125.4242 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13.5747" lengthAdjust="spacingAndGlyphs" textLength="75.7919" x="169.6833" y="135.645">Investigador</text><!--MD5=[9e56b4e032529983900028f486242195]
class ProfesorUniversitario--><rect fill="#FFFAFA" filter="url(#f1t68w2qv1y3x5)" height="36.1991" id="ProfesorUniversitario" style="stroke:#000000;stroke-width:1.6968325791855203;" width="167.4208" x="39.0271" y="216.0633"/><ellipse cx="55.9955" cy="234.1629" fill="#ADD1B2" rx="12.4434" ry="12.4434" style="stroke:#000000;stroke-width:1.1312217194570136;"/><path d="M59.124,229.4966 Q59.3008,229.2492 59.5129,229.1254 Q59.725,229.0017 59.9724,229.0017 Q60.3966,229.0017 60.6618,229.3022 Q60.9269,229.585 60.9269,230.2743 L60.9269,231.9181 Q60.9269,232.6075 60.6618,232.9079 Q60.3966,233.2084 59.9724,233.2084 Q59.5836,233.2084 59.3538,232.9786 Q59.124,232.7665 59.0003,232.1833 Q58.9473,231.7767 58.7352,231.5646 Q58.364,231.1404 57.6746,230.893 Q56.9853,230.6455 56.2783,230.6455 Q55.4122,230.6455 54.6875,231.0167 Q53.9805,231.3879 53.4149,232.2363 Q52.8669,233.0847 52.8669,234.2513 L52.8669,235.4885 Q52.8669,236.8849 53.8744,237.8217 Q54.8819,238.7408 56.6848,238.7408 Q57.7453,238.7408 58.4877,238.458 Q58.9296,238.2813 59.4068,237.7863 Q59.7073,237.4859 59.8664,237.3975 Q60.0431,237.3091 60.2729,237.3091 Q60.6441,237.3091 60.9269,237.6096 Q61.2274,237.8924 61.2274,238.2813 Q61.2274,238.6701 60.8385,239.1297 Q60.2729,239.7837 59.3715,240.1548 Q58.1519,240.6674 56.6848,240.6674 Q54.9703,240.6674 53.6093,239.9604 Q52.4958,239.3948 51.718,238.1929 Q50.9403,236.9733 50.9403,235.5239 L50.9403,234.2159 Q50.9403,232.7135 51.6297,231.4232 Q52.3367,230.1152 53.574,229.4259 Q54.8112,228.7189 56.2076,228.7189 Q57.0383,228.7189 57.763,228.9133 Q58.5054,229.0901 59.124,229.4966 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13.5747" lengthAdjust="spacingAndGlyphs" textLength="131.2217" x="71.8326" y="239.7174">ProfesorUniversitario</text><!--MD5=[9e09bab47cb2ac82a022484be85e74c3]
reverse link Persona to Profesor--><path codeline="12" d="M97.6584,63.552 C86.2896,80.0566 73.3937,98.767 64.3213,111.9457 " fill="none" id="Persona-backto-Profesor" style="stroke:#000000;stroke-width:1.1312217194570136;"/><polygon fill="none" points="91.4819,58.5633,110.8371,44.4231,104.5249,67.5452,91.4819,58.5633" style="stroke:#000000;stroke-width:1.1312217194570136;"/><!--MD5=[07413cd62d39b3e5468e3513f2d4ccb4]
reverse link Persona to Investigador--><path codeline="13" d="M147.8167,63.552 C159.1855,80.0566 172.0814,98.767 181.1538,111.9457 " fill="none" id="Persona-backto-Investigador" style="stroke:#000000;stroke-width:1.1312217194570136;"/><polygon fill="none" points="140.9502,67.5452,134.638,44.4231,153.9932,58.5633,140.9502,67.5452" style="stroke:#000000;stroke-width:1.1312217194570136;"/><!--MD5=[fbc6095696164ee45af6b7012ed6a2b0]
reverse link Profesor to ProfesorUniversitario--><path codeline="14" d="M77.681,167.6244 C89.0498,184.129 101.9457,202.8394 111.0181,216.0181 " fill="none" id="Profesor-backto-ProfesorUniversitario" style="stroke:#000000;stroke-width:1.1312217194570136;"/><polygon fill="none" points="70.8145,171.6176,64.5023,148.4955,83.8575,162.6357,70.8145,171.6176" style="stroke:#000000;stroke-width:1.1312217194570136;"/><!--MD5=[3246e8526eb2b1f398539f9feafbc5ef]
reverse link Investigador to ProfesorUniversitario--><path codeline="15" d="M167.7941,167.6244 C156.4253,184.129 143.5294,202.8394 134.457,216.0181 " fill="none" id="Investigador-backto-ProfesorUniversitario" style="stroke:#000000;stroke-width:1.1312217194570136;"/><polygon fill="none" points="161.6176,162.6357,180.9729,148.4955,174.6606,171.6176,161.6176,162.6357" style="stroke:#000000;stroke-width:1.1312217194570136;"/><!--MD5=[18bfc1c22870fd0c4a65bc82107b4497]
@startuml

scale 250 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide attributes
hide methods

Persona ^- - Profesor
Persona ^- - Investigador
Profesor ^- - ProfesorUniversitario
Investigador ^- - ProfesorUniversitario
@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p></li>
<li>
<p><strong>Dise&#xF1;os m&#xE1;s complejos</strong> y m&#xE1;s dif&#xED;ciles de aprender y utilizar por el programador.<br>
<strong>Nota:</strong> Siempre podremos <strong>redise&#xF1;ar</strong> utilizando  herencia simple.</p>
</li>
<li>
<p><strong>Colisiones de Nombres</strong></p>
<p>En el ejemplo la subclase <strong><code>Multimedia</code></strong> hereda campos <strong>con el mismo nombre</strong> de las clases base <strong><code>Sonido</code></strong> y <strong><code>Gr&#xE1;ficos</code></strong>.<br>
Cuando hagamos referencia al campo <strong><code>escala</code></strong> en <strong><code>Multimedia</code></strong>.</p>
<blockquote>
<p>&#xBF;C&#xF3;mo podemos saber si estamos haciendo referencia a la escala de <strong><code>Sonido</code></strong> o la 3de <strong><code>Gr&#xE1;ficos</code></strong>?</p>
</blockquote>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="184.6939px" preserveAspectRatio="none" style="width:363px;height:184px;" version="1.1" viewBox="0 0 363 184" width="363.2653px" zoomAndPan="magnify"><defs><filter height="300%" id="fj6s1c7fu0w3i" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0408163265306123"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.081632653061225" dy="4.081632653061225" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[156146288f1ff037660669ac633042b0]
class Multimedia--><rect fill="#FFFAFA" filter="url(#fj6s1c7fu0w3i)" height="32.6531" id="Multimedia" style="stroke:#000000;stroke-width:1.5306122448979593;" width="93.8776" x="130.6122" y="137.7551"/><ellipse cx="145.9184" cy="154.0816" fill="#ADD1B2" rx="11.2245" ry="11.2245" style="stroke:#000000;stroke-width:1.0204081632653061;"/><path d="M148.7404,149.8724 Q148.8999,149.6492 149.0912,149.5376 Q149.2825,149.426 149.5057,149.426 Q149.8884,149.426 150.1276,149.6971 Q150.3667,149.9522 150.3667,150.574 L150.3667,152.0568 Q150.3667,152.6786 150.1276,152.9496 Q149.8884,153.2207 149.5057,153.2207 Q149.155,153.2207 148.9477,153.0134 Q148.7404,152.8221 148.6288,152.2959 Q148.581,151.9292 148.3897,151.7379 Q148.0548,151.3552 147.433,151.132 Q146.8112,150.9088 146.1735,150.9088 Q145.3922,150.9088 144.7385,151.2436 Q144.1008,151.5784 143.5906,152.3438 Q143.0963,153.1091 143.0963,154.1614 L143.0963,155.2774 Q143.0963,156.537 144.0051,157.382 Q144.9139,158.2111 146.5402,158.2111 Q147.4968,158.2111 148.1665,157.956 Q148.5651,157.7966 148.9955,157.3501 Q149.2666,157.0791 149.4101,156.9994 Q149.5695,156.9196 149.7768,156.9196 Q150.1116,156.9196 150.3667,157.1907 Q150.6378,157.4458 150.6378,157.7966 Q150.6378,158.1473 150.287,158.5619 Q149.7768,159.1518 148.9636,159.4866 Q147.8635,159.949 146.5402,159.949 Q144.9936,159.949 143.7659,159.3112 Q142.7615,158.801 142.0599,157.7168 Q141.3584,156.6167 141.3584,155.3093 L141.3584,154.1295 Q141.3584,152.7742 141.9802,151.6103 Q142.618,150.4305 143.7341,149.8087 Q144.8501,149.1709 146.1097,149.1709 Q146.8591,149.1709 147.5128,149.3463 Q148.1824,149.5057 148.7404,149.8724 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.2449" lengthAdjust="spacingAndGlyphs" textLength="61.2245" x="160.2041" y="159.092">Multimedia</text><!--MD5=[e817a77413eaa25dee9fa31a858ede1a]
class Sonido--><rect codeline="12" fill="#FFFAFA" filter="url(#fj6s1c7fu0w3i)" height="69.0529" id="Sonido" style="stroke:#000000;stroke-width:1.5306122448979593;" width="153.0612" x="7.1429" y="7.1429"/><ellipse cx="59.4388" cy="23.4694" fill="#ADD1B2" rx="11.2245" ry="11.2245" style="stroke:#000000;stroke-width:1.0204081632653061;"/><path d="M62.2608,19.2602 Q62.4203,19.037 62.6116,18.9254 Q62.8029,18.8138 63.0261,18.8138 Q63.4088,18.8138 63.648,19.0848 Q63.8871,19.3399 63.8871,19.9617 L63.8871,21.4445 Q63.8871,22.0663 63.648,22.3374 Q63.4088,22.6084 63.0261,22.6084 Q62.6754,22.6084 62.4681,22.4011 Q62.2608,22.2098 62.1492,21.6837 Q62.1014,21.317 61.9101,21.1256 Q61.5753,20.743 60.9534,20.5198 Q60.3316,20.2966 59.6939,20.2966 Q58.9126,20.2966 58.2589,20.6314 Q57.6212,20.9662 57.111,21.7315 Q56.6167,22.4968 56.6167,23.5491 L56.6167,24.6652 Q56.6167,25.9247 57.5255,26.7698 Q58.4343,27.5989 60.0606,27.5989 Q61.0172,27.5989 61.6869,27.3438 Q62.0855,27.1843 62.5159,26.7379 Q62.787,26.4668 62.9305,26.3871 Q63.0899,26.3074 63.2972,26.3074 Q63.632,26.3074 63.8871,26.5784 Q64.1582,26.8335 64.1582,27.1843 Q64.1582,27.5351 63.8074,27.9496 Q63.2972,28.5395 62.4841,28.8744 Q61.3839,29.3367 60.0606,29.3367 Q58.514,29.3367 57.2864,28.699 Q56.2819,28.1888 55.5804,27.1046 Q54.8788,26.0045 54.8788,24.6971 L54.8788,23.5172 Q54.8788,22.162 55.5006,20.9981 Q56.1384,19.8182 57.2545,19.1964 Q58.3705,18.5587 59.6301,18.5587 Q60.3795,18.5587 61.0332,18.7341 Q61.7028,18.8935 62.2608,19.2602 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.2449" lengthAdjust="spacingAndGlyphs" textLength="39.7959" x="80.3571" y="28.4798">Sonido</text><line style="stroke:#000000;stroke-width:1.5306122448979593;" x1="8.1633" x2="159.1837" y1="39.7959" y2="39.7959"/><text fill="#000000" font-family="sans-serif" font-size="11.2245" lengthAdjust="spacingAndGlyphs" textLength="101.0204" x="13.2653" y="55.5295">#escala : TipoEscala</text><text fill="#000000" font-family="sans-serif" font-size="11.2245" lengthAdjust="spacingAndGlyphs" textLength="140.8163" x="13.2653" y="69.6478">#resoluci&#xF3;n : TipoResoluci&#xF3;n</text><!--MD5=[8dc872fdd060c2eea3e27720778c30f9]
class Gráficos--><rect codeline="18" fill="#FFFAFA" filter="url(#fj6s1c7fu0w3i)" height="69.0529" id="Gr&#xE1;ficos" style="stroke:#000000;stroke-width:1.5306122448979593;" width="153.0612" x="195.9184" y="7.1429"/><ellipse cx="244.6429" cy="23.4694" fill="#ADD1B2" rx="11.2245" ry="11.2245" style="stroke:#000000;stroke-width:1.0204081632653061;"/><path d="M247.4649,19.2602 Q247.6244,19.037 247.8157,18.9254 Q248.007,18.8138 248.2302,18.8138 Q248.6129,18.8138 248.852,19.0848 Q249.0912,19.3399 249.0912,19.9617 L249.0912,21.4445 Q249.0912,22.0663 248.852,22.3374 Q248.6129,22.6084 248.2302,22.6084 Q247.8795,22.6084 247.6722,22.4011 Q247.4649,22.2098 247.3533,21.6837 Q247.3055,21.317 247.1142,21.1256 Q246.7793,20.743 246.1575,20.5198 Q245.5357,20.2966 244.898,20.2966 Q244.1167,20.2966 243.463,20.6314 Q242.8253,20.9662 242.3151,21.7315 Q241.8208,22.4968 241.8208,23.5491 L241.8208,24.6652 Q241.8208,25.9247 242.7296,26.7698 Q243.6384,27.5989 245.2647,27.5989 Q246.2213,27.5989 246.8909,27.3438 Q247.2895,27.1843 247.72,26.7379 Q247.9911,26.4668 248.1346,26.3871 Q248.294,26.3074 248.5013,26.3074 Q248.8361,26.3074 249.0912,26.5784 Q249.3622,26.8335 249.3622,27.1843 Q249.3622,27.5351 249.0115,27.9496 Q248.5013,28.5395 247.6881,28.8744 Q246.588,29.3367 245.2647,29.3367 Q243.7181,29.3367 242.4904,28.699 Q241.486,28.1888 240.7844,27.1046 Q240.0829,26.0045 240.0829,24.6971 L240.0829,23.5172 Q240.0829,22.162 240.7047,20.9981 Q241.3425,19.8182 242.4585,19.1964 Q243.5746,18.5587 244.8342,18.5587 Q245.5835,18.5587 246.2372,18.7341 Q246.9069,18.8935 247.4649,19.2602 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.2449" lengthAdjust="spacingAndGlyphs" textLength="46.9388" x="265.5612" y="28.4798">Gr&#xE1;ficos</text><line style="stroke:#000000;stroke-width:1.5306122448979593;" x1="196.9388" x2="347.9592" y1="39.7959" y2="39.7959"/><text fill="#000000" font-family="sans-serif" font-size="11.2245" lengthAdjust="spacingAndGlyphs" textLength="101.0204" x="202.0408" y="55.5295">#escala : TipoEscala</text><text fill="#000000" font-family="sans-serif" font-size="11.2245" lengthAdjust="spacingAndGlyphs" textLength="140.8163" x="202.0408" y="69.6478">#resoluci&#xF3;n : TipoResoluci&#xF3;n</text><!--MD5=[915b0c2c613d979994c85bc7528515f0]
reverse link Sonido to Multimedia--><path codeline="24" d="M126.0714,92.6327 C139.898,108.8571 154.2449,125.7041 164.2755,137.4796 " fill="none" id="Sonido-backto-Multimedia" style="stroke:#000000;stroke-width:1.0204081632653061;"/><polygon fill="none" points="120.398,96.9898,112.602,76.8163,131.2755,87.7245,120.398,96.9898" style="stroke:#000000;stroke-width:1.0204081632653061;"/><!--MD5=[7d24a4def200213b660e4c766576ffef]
reverse link Gráficos to Multimedia--><path codeline="25" d="M229.5918,92.6327 C215.6122,108.8571 201.1122,125.7041 190.9694,137.4796 " fill="none" id="Gr&#xE1;ficos-backto-Multimedia" style="stroke:#000000;stroke-width:1.0204081632653061;"/><polygon fill="none" points="224.4694,87.6224,243.2041,76.8163,235.2959,96.949,224.4694,87.6224" style="stroke:#000000;stroke-width:1.0204081632653061;"/><!--MD5=[892d87a654910925cdbaca75b2fb1e68]
@startuml

scale 350 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide Multimedia attributes
hide methods

class Sonido
{
    # escala : TipoEscala
    # resolución : TipoResolución
}

class Gráficos
{
    # escala : TipoEscala
    # resolución : TipoResolución
}

Sonido ^- - Multimedia
Gráficos ^- - Multimedia

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p></li>
</ul>
</li>
</ul>
<h4 class="mume-header" id="implementando-la-herencia-en-c">Implementando la herencia en C#</h4>

<p>Separaremos el nombre de la subclase y la superclase por el car&#xE1;cter <strong><code>&apos;:&apos;</code></strong> como en C++</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token operator">&lt;</span>NombreSubClase<span class="token operator">&gt;</span> <span class="token punctuation">:</span> <span class="token operator">&lt;</span>NombreSuperClase<span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definiremos  solo las concreciones de la subclase respecto  la superclase</span>
<span class="token punctuation">}</span>
</pre><p>Partamos del ejemplo que hemos visto en la herencia simple, expresado en el siguiente diagrama de clases UML...</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="360.6308px" preserveAspectRatio="none" style="width:463px;height:360px;" version="1.1" viewBox="0 0 463 360" width="463.6682px" zoomAndPan="magnify"><defs><filter height="300%" id="fo1w3n1sbopdw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.102803738317757"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.205607476635514" dy="4.205607476635514" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[60dbf6945f26d51d7ef11e92d44c812f]
class Articulo--><rect codeline="9" fill="#FFFAFA" filter="url(#fo1w3n1sbopdw)" height="137.7501" id="Articulo" style="stroke:#000000;stroke-width:1.5771028037383177;" width="246.028" x="105.1402" y="7.3598"/><ellipse cx="202.6577" cy="24.1822" fill="#ADD1B2" rx="11.5654" ry="11.5654" style="stroke:#000000;stroke-width:1.0514018691588785;"/><path d="M205.5655,19.8452 Q205.7298,19.6152 205.9269,19.5002 Q206.1241,19.3852 206.354,19.3852 Q206.7483,19.3852 206.9947,19.6645 Q207.2412,19.9274 207.2412,20.568 L207.2412,22.0959 Q207.2412,22.7366 206.9947,23.0158 Q206.7483,23.2951 206.354,23.2951 Q205.9926,23.2951 205.7791,23.0816 Q205.5655,22.8844 205.4505,22.3423 Q205.4012,21.9644 205.2041,21.7673 Q204.8591,21.373 204.2184,21.143 Q203.5777,20.913 202.9206,20.913 Q202.1156,20.913 201.442,21.258 Q200.7849,21.603 200.2592,22.3916 Q199.7499,23.1801 199.7499,24.2644 L199.7499,25.4144 Q199.7499,26.7122 200.6863,27.5829 Q201.6227,28.4371 203.2984,28.4371 Q204.2841,28.4371 204.9741,28.1743 Q205.3848,28.01 205.8283,27.55 Q206.1076,27.2707 206.2555,27.1886 Q206.4198,27.1065 206.6333,27.1065 Q206.9783,27.1065 207.2412,27.3857 Q207.5204,27.6486 207.5204,28.01 Q207.5204,28.3714 207.159,28.7986 Q206.6333,29.4064 205.7955,29.7514 Q204.6619,30.2278 203.2984,30.2278 Q201.7049,30.2278 200.4399,29.5707 Q199.4049,29.045 198.6821,27.9279 Q197.9593,26.7943 197.9593,25.4472 L197.9593,24.2315 Q197.9593,22.8351 198.6,21.6359 Q199.2571,20.4202 200.4071,19.7795 Q201.557,19.1224 202.8548,19.1224 Q203.627,19.1224 204.3005,19.3031 Q204.9905,19.4674 205.5655,19.8452 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6168" lengthAdjust="spacingAndGlyphs" textLength="42.0561" x="224.2114" y="29.3448">Articulo</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="106.1916" x2="350.1168" y1="41.0047" y2="41.0047"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="78.8551" x="111.4486" y="57.2162">-precio : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="79.9065" x="111.4486" y="71.7633">-nombre : string</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="106.1916" x2="350.1168" y1="78.5101" y2="78.5101"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="233.4112" x="111.4486" y="94.7217">+Articulo(in nombre : string, in precio : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="109.3458" x="111.4486" y="109.2688">#GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="107.243" x="111.4486" y="123.8159">#GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="89.3692" x="111.4486" y="138.363">+ATexto() : string</text><!--MD5=[2f7aa29e6ed06458ec3a8577fe477f93]
class ArticuloRebajado--><rect codeline="20" fill="#FFFAFA" filter="url(#fo1w3n1sbopdw)" height="137.7501" id="ArticuloRebajado" style="stroke:#000000;stroke-width:1.5771028037383177;" width="441.5888" x="7.3598" y="208.1776"/><ellipse cx="174.2699" cy="225" fill="#ADD1B2" rx="11.5654" ry="11.5654" style="stroke:#000000;stroke-width:1.0514018691588785;"/><path d="M177.1776,220.663 Q177.3419,220.433 177.5391,220.318 Q177.7362,220.203 177.9662,220.203 Q178.3605,220.203 178.6069,220.4823 Q178.8533,220.7451 178.8533,221.3858 L178.8533,222.9136 Q178.8533,223.5543 178.6069,223.8336 Q178.3605,224.1129 177.9662,224.1129 Q177.6048,224.1129 177.3912,223.8993 Q177.1776,223.7022 177.0626,223.16 Q177.0134,222.7822 176.8162,222.5851 Q176.4712,222.1908 175.8305,221.9608 Q175.1898,221.7308 174.5327,221.7308 Q173.7277,221.7308 173.0542,222.0758 Q172.3971,222.4208 171.8713,223.2093 Q171.3621,223.9979 171.3621,225.0821 L171.3621,226.2321 Q171.3621,227.5299 172.2985,228.4006 Q173.2349,229.2549 174.9106,229.2549 Q175.8962,229.2549 176.5862,228.992 Q176.9969,228.8278 177.4405,228.3678 Q177.7198,228.0885 177.8676,228.0064 Q178.0319,227.9242 178.2455,227.9242 Q178.5905,227.9242 178.8533,228.2035 Q179.1326,228.4663 179.1326,228.8278 Q179.1326,229.1892 178.7712,229.6163 Q178.2455,230.2242 177.4076,230.5691 Q176.2741,231.0456 174.9106,231.0456 Q173.317,231.0456 172.0521,230.3884 Q171.0171,229.8627 170.2942,228.7456 Q169.5714,227.6121 169.5714,226.265 L169.5714,225.0493 Q169.5714,223.6529 170.2121,222.4536 Q170.8692,221.238 172.0192,220.5973 Q173.1692,219.9401 174.467,219.9401 Q175.2391,219.9401 175.9127,220.1208 Q176.6027,220.2851 177.1776,220.663 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6168" lengthAdjust="spacingAndGlyphs" textLength="98.8318" x="195.8236" y="230.1625">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="8.4112" x2="447.8972" y1="241.8224" y2="241.8224"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="134.5794" x="13.6682" y="258.0339">-porcentajeRebaja : ushort</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="8.4112" x2="447.8972" y1="264.7808" y2="264.7808"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="428.972" x="13.6682" y="280.9923">+ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="160.8645" x="13.6682" y="295.5394">-GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="128.271" x="13.6682" y="310.0865">-GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="154.5561" x="13.6682" y="324.6337">+GetPrecioRebajado() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="136.6822" x="13.6682" y="339.1808">+ATextoRebajado() : string</text><!--MD5=[4c5e07181522a81d7ce4ca381a4c3897]
reverse link Articulo to ArticuloRebajado--><path codeline="31" d="M228.1542,166.6367 C228.1542,180.5678 228.1542,194.7722 228.1542,208.1355 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:1.0514018691588785;"/><polygon fill="none" points="220.7944,166.132,228.1542,145.104,235.514,166.132,220.7944,166.132" style="stroke:#000000;stroke-width:1.0514018691588785;"/><!--MD5=[fe9c8e55c39af62d223409612db1a8b8]
@startuml

scale 450 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

class Articulo
{
    - precio : double
    - nombre : string

    + Articulo(in nombre : string, in precio : double)
    # GetNombre() : string
    # GetPrecio() : double
    + ATexto() : string
}

class ArticuloRebajado
{
    - porcentajeRebaja : ushort

    + ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)
    - GetPorcentajeRebaja() : ushort
    - GetDescuento() : double
    + GetPrecioRebajado() : double
    + ATextoRebajado() : string
}

Articulo ^- - ArticuloRebajado

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><blockquote>
<p>&#x270B; F&#xED;jate que en el diagrama de clases, aparece el s&#xED;mbolo <strong><code>#</code></strong>.</p>
<ul>
<li>Es un modificador que <strong>solo tiene sentido aplicarlo a una superclase</strong>.</li>
<li>Se representar&#xE1; por la palabra reservada <strong><code>protected</code></strong>, y significar&#xE1; que el <strong>campo</strong> o el <strong>m&#xE9;todo</strong> al que modifica, no puede ser accedido desde fuera de la clase como en el caso de private, pero si desde las <strong>subclases</strong> de la misma.</li>
</ul>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Articulo</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">double</span></span> precio<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">string</span></span> nombre<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Articulo</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> nombre<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token class-name"><span class="token keyword">double</span></span> precio<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>precio <span class="token operator">=</span> precio<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">nombre</span><span class="token punctuation">}</span></span><span class="token string">\n Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">precio</span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">&#x20AC;&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">protected</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">protected</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> precio<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="csharp {highlight=[1,7]}" class="language-csharp" data-line="1,7"><span class="token keyword">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">ushort</span></span> porcentajeRebaja<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">ArticuloRebajado</span><span class="token punctuation">(</span>
                <span class="token class-name"><span class="token keyword">string</span></span> nombre<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token class-name"><span class="token keyword">double</span></span> precio<span class="token punctuation">,</span>
                <span class="token keyword">in</span> <span class="token class-name"><span class="token keyword">ushort</span></span> porcentajeRebaja<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> precio<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>porcentajeRebaja <span class="token operator">=</span> porcentajeRebaja<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">ushort</span></span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> porcentajeRebaja<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">GetPrecioRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ATextoRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\nRebaja: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">%\n&quot;</span></span> <span class="token operator">+</span>
               <span class="token interpolation-string"><span class="token string">$&quot;Antes: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">&#x20AC;\nAhora: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPrecioRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">&#x20AC;&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">EjemploHerencia</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Ralph Lauren&quot;</span><span class="token punctuation">,</span> <span class="token number">75d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Fred Perry&quot;</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">.</span><span class="token function">ATextoRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper"><div aria-hidden="true" class="line-highlight" data-range="1" data-start="1">
</div></div><div class="line-highlight-wrapper">





<div aria-hidden="true" class="line-highlight" data-range="7" data-start="7">
</div></div></pre><p align="center" style="zoom:0.85"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="890pt" height="224pt" viewBox="0.00 0.00 890.00 224.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 220)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-220 886,-220 886,4 -4,4"/>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-85" rx="27" ry="27"/>
<text text-anchor="middle" x="27" y="-80.8" font-family="Arial" font-size="14.00" fill="#000000">a</text>
</g>
<!-- oa -->
<g id="node4" class="node">
<title>oa</title>
<polygon fill="none" stroke="#000000" points="99,-97 99,-125 329,-125 329,-97 99,-97"/>
<text text-anchor="start" x="165.3773" y="-106.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;a : Articulo &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="103.8032" y="-79.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;nombre = &quot;Polo Ralph Lauren&quot; &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="104" y="-53.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;precio = 75.00 &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="98,-44 98,-126 330,-126 330,-44 98,-44"/>
</g>
<!-- a&#45;&gt;oa -->
<g id="edge1" class="edge">
<title>a-&gt;oa</title>
<path fill="none" stroke="#000000" d="M54.1914,-85C61.6304,-85 70.2231,-85 79.4856,-85"/>
<polygon fill="#000000" stroke="#000000" points="79.7763,-88.5001 89.7763,-85 79.7763,-81.5001 79.7763,-88.5001"/>
</g>
<!-- ar -->
<g id="node2" class="node">
<title>ar</title>
<ellipse fill="none" stroke="#000000" cx="401" cy="-85" rx="27" ry="27"/>
<text text-anchor="middle" x="401" y="-80.8" font-family="Arial" font-size="14.00" fill="#000000">ar</text>
</g>
<!-- oar -->
<g id="node5" class="node">
<title>oar</title>
<polygon fill="none" stroke="#000000" points="473,-163 473,-211 873,-211 873,-163 473,-163"/>
<text text-anchor="start" x="605.7097" y="-182.4" font-family="Arial" font-size="14.00" fill="#000000">ar : ArticuloRebajado </text>
<polygon fill="none" stroke="#ee1289" points="489,-119 489,-147 857,-147 857,-119 489,-119"/>
<text text-anchor="start" x="535.2827" y="-129.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="581.9699" y="-129.4" font-family="Arial" font-size="14.00" fill="#ee1289"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;base : Articulo &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="764.0301" y="-129.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="493.9491" y="-102.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="540.6363" y="-102.4" font-family="Arial" font-size="14.00" fill="#ee1289"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;nombre = &quot;Polo Fred Perry&quot; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="805.3637" y="-102.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="494" y="-76.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="540.6872" y="-76.4" font-family="Arial" font-size="14.00" fill="#ee1289"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;precio = 70.00 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="723.1534" y="-76.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#ee1289" points="488,-66 488,-148 858,-148 858,-66 488,-66"/>
<text text-anchor="start" x="488" y="-23.4" font-family="Arial" font-size="14.00" fill="#000000">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#000000" points="472,-4 472,-212 874,-212 874,-4 472,-4"/>
</g>
<!-- ar&#45;&gt;oar -->
<g id="edge3" class="edge">
<title>ar-&gt;oar</title>
<path fill="none" stroke="#000000" d="M428.0748,-87.2894C435.4549,-87.9135 444.0699,-88.6419 453.57,-89.4453"/>
<polygon fill="#000000" stroke="#000000" points="453.5165,-92.9531 463.7759,-90.3083 454.1064,-85.978 453.5165,-92.9531"/>
</g>
<!-- base -->
<g id="node3" class="node">
<title>base</title>
<ellipse fill="none" stroke="#ee1289" cx="401" cy="-157" rx="27" ry="27"/>
<text text-anchor="middle" x="401" y="-152.8" font-family="Arial" font-size="14.00" fill="#ee1289">base</text>
</g>
<!-- base&#45;&gt;oar -->
<g id="edge4" class="edge">
<title>base-&gt;oar:base</title>
<path fill="none" stroke="#ee1289" d="M425.9251,-146.4034C440.6379,-140.9536 460.0265,-135.1123 478.9024,-133.459"/>
<polygon fill="#ee1289" stroke="#ee1289" points="479.1693,-136.9506 489,-133 478.8514,-129.9578 479.1693,-136.9506"/>
</g>
<!-- oa&#45;&gt;ar -->
<g id="edge2" class="edge">
<title>oa-&gt;ar</title>
<path fill="none" stroke="transparent" d="M338.2115,-85C347.3016,-85 355.9561,-85 363.7746,-85"/>
<polygon fill="transparent" stroke="transparent" points="363.8805,-88.5001 373.8804,-85 363.8804,-81.5001 363.8805,-88.5001"/>
</g>
</g>
</svg>
</p><h5 class="mume-header" id="palabra-reservada-a-hrefhttpsdocsmicrosoftcomen-usdotnetcsharplanguage-referencekeywordsbase-target_blankbasea">Palabra reservada <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/base" target="_blank">base</a></h5>

<ul>
<li>Si nos fijamos <strong>(<em>l&#xED;nea 7</em>)</strong> el constructor de <strong><code>ArticuloRebajado</code></strong> solo se encarga de inicializar y crear los atributos espec&#xED;ficos de la subclase, para crear los de la clase, llamaremos al constructor que deseemos de la clase base o superclase, utilizando la palabra reservada <strong><code>:base(&lt;par&#xE1;metrosBase&gt;)</code></strong> a continuaci&#xF3;n de la declaraci&#xF3;n del constructor de la subclase.</li>
<li>Si hay un <strong>constructor por defecto</strong> en la superclase <strong>no har&#xED;a falta poner nada</strong>, puesto que autom&#xE1;ticamente seria llamado al llamar al de la subclase.</li>
<li>Al igual que <strong><code>this</code></strong> era una referencia impl&#xED;cita al objeto de la propia clase, en las subclases tenemos la palabra reservada <strong><code>base</code></strong> que tambi&#xE9;n es una referencia impl&#xED;cita a un objeto de la superclase, para la subclase actual.
<blockquote>
<p><strong>Nota:</strong> Me servir&#xE1; en los casos en los que en la subclase y en la superclase tengamos un <strong>m&#xE9;todo con el mismo nombre</strong>.</p>
</blockquote>
</li>
</ul>
<h4 class="mume-header" id="ocultaci%C3%B3n-e-invalidaci%C3%B3n">Ocultaci&#xF3;n e Invalidaci&#xF3;n</h4>

<p>Si te has fijado, en <strong><code>Articulo</code></strong> el getter de <strong><code>precio</code></strong> lo hemos llamado <strong><code>double GetPrecio()</code></strong> y en <strong><code>ArticuloRebajado</code></strong> le hemos llamado <strong><code>double GetPrecioRebajado()</code></strong>. Esto lo hemos hecho para no producir colisiones de signaturas (<em>recuerda que la subclase puede acceder a los m&#xE9;todos de la superclase</em>).<br>
Sin embargo, en el fondo es una <strong>redund&#xE1;ncia</strong>, porque si a un objeto <strong><code>ArticuloRebajado articuloRebajado;</code></strong> le aplico un m&#xE9;todo llamado <strong><code>articuloRebajado.GetPrecio();</code></strong> ya se que estoy obteniendo el precio rebajado.</p>
<p>Si le ponemos el mismo nombre, <strong>tendr&#xED;amos m&#xE9;todos con signaturas id&#xE9;nticas en la superclase y la subclase</strong> y posiblemente recibamos alg&#xFA;n tipo de aviso del compilador. Pero ...</p>
<ul>
<li><strong>&#xBF;Se puede hacer esto?</strong></li>
<li><strong>&#xBF;C&#xF3;mo resolvemos la ambig&#xFC;edad que se produce?</strong></li>
</ul>
<blockquote>
<p>&#x270B; En la <strong>POO tradicional</strong> hay <strong>dos estrategias</strong> posibles:</p>
<ul>
<li><strong>Reemplazo</strong>: Se sustituye completamente la implementaci&#xF3;n del m&#xE9;todo heredado manteniendo la signatura.<br>
Com&#xFA;nmente se le conoce como <strong>Ocultaci&#xF3;n</strong> (<em>hiding</em>)</li>
<li><strong>Refinamiento</strong>: Se a&#xF1;ade nueva funcionalidad al comportamiento heredado.<br>
Com&#xFA;nmente se le conoce como <strong>Invalidaci&#xF3;n</strong> (<em>overriding</em>)</li>
</ul>
</blockquote>
<div style="page-break-after:always;"></div>
<h5 class="mume-header" id="ocultaci%C3%B3n-o-reemplazo-en-c">Ocultaci&#xF3;n o reemplazo en C#</h5>

<ul>
<li>
<p>Ser&#xE1; la <strong>estrategia</strong> que aplica <strong>por defecto de C#</strong>, aunque como hemos comentado, el compilador <a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/compiler-messages/cs0108" target="_blank">nos avisar&#xE1;</a> por si nos hemos &apos;<em>despistado</em>&apos; y realmente quer&#xED;amos hacer otra cosa. Por ejemplo, VSCode generar&#xE1; el siguiente mensaje.</p>
<blockquote>
<p><em>&apos;ArticuloRebajado.GetPrecio()&apos; oculta el miembro heredado &apos;Articulo.GetPrecio()&apos;. Use la palabra clave new si su intenci&#xF3;n era ocultarlo. CS0108</em></p>
</blockquote>
</li>
<li>
<p>Puesto que con el <strong>reemplazo</strong> lo que buscamos es definir una nueva funcionalidad para una operaci&#xF3;n heredada, antepondremos la palabra reservada <strong><code>new</code></strong> a la operaci&#xF3;n o m&#xE9;todo de la clase hija o subclase con la misma signatura que queremos ocultar en la clase base o superclase.</p>
</li>
<li>
<p>Supongamos la misma relaci&#xF3;n de herencia anterior donde ahora queremos hacer una ocultaci&#xF3;n de los m&#xE9;todos <strong><code>GetPrecio</code></strong> y <strong><code>ATexto</code></strong>.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="166.3594px" preserveAspectRatio="none" style="width:482px;height:166px;" version="1.1" viewBox="0 0 482 166" width="482.6613px" zoomAndPan="magnify"><defs><filter height="300%" id="f1vsndo1abj5qf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.1889400921658986"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.377880184331797" dy="4.377880184331797" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[2f7aa29e6ed06458ec3a8577fe477f93]
class ArticuloRebajado--><rect codeline="9" fill="#FFFAFA" filter="url(#f1vsndo1abj5qf)" height="143.3927" id="ArticuloRebajado" style="stroke:#000000;stroke-width:1.641705069124424;" width="459.6774" x="7.6613" y="7.6613"/><ellipse cx="181.4084" cy="25.1728" fill="#ADD1B2" rx="12.0392" ry="12.0392" style="stroke:#000000;stroke-width:1.0944700460829493;"/><path d="M184.4353,20.6581 Q184.6063,20.4187 184.8115,20.299 Q185.0167,20.1793 185.2562,20.1793 Q185.6666,20.1793 185.9231,20.47 Q186.1796,20.7436 186.1796,21.4106 L186.1796,23.001 Q186.1796,23.6679 185.9231,23.9586 Q185.6666,24.2494 185.2562,24.2494 Q184.8799,24.2494 184.6576,24.027 Q184.4353,23.8218 184.3156,23.2575 Q184.2643,22.8642 184.0591,22.659 Q183.7,22.2485 183.033,22.0091 Q182.3661,21.7697 181.682,21.7697 Q180.8441,21.7697 180.1429,22.1288 Q179.4589,22.4879 178.9117,23.3088 Q178.3815,24.1296 178.3815,25.2583 L178.3815,26.4554 Q178.3815,27.8064 179.3563,28.7127 Q180.331,29.602 182.0754,29.602 Q183.1014,29.602 183.8197,29.3284 Q184.2472,29.1574 184.7089,28.6785 Q184.9996,28.3878 185.1535,28.3023 Q185.3246,28.2168 185.5469,28.2168 Q185.906,28.2168 186.1796,28.5075 Q186.4703,28.7811 186.4703,29.1574 Q186.4703,29.5336 186.0941,29.9782 Q185.5469,30.611 184.6747,30.9701 Q183.4947,31.466 182.0754,31.466 Q180.4165,31.466 179.0998,30.782 Q178.0224,30.2347 177.2699,29.0719 Q176.5175,27.8919 176.5175,26.4896 L176.5175,25.2241 Q176.5175,23.7705 177.1844,22.5221 Q177.8685,21.2567 179.0656,20.5897 Q180.2626,19.9057 181.6136,19.9057 Q182.4174,19.9057 183.1185,20.0938 Q183.8368,20.2648 184.4353,20.6581 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13.1336" lengthAdjust="spacingAndGlyphs" textLength="102.8802" x="203.845" y="30.5468">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:1.641705069124424;" x1="8.7558" x2="466.2442" y1="42.6843" y2="42.6843"/><text fill="#000000" font-family="sans-serif" font-size="12.0392" lengthAdjust="spacingAndGlyphs" textLength="140.0922" x="14.2281" y="59.5599">-porcentajeRebaja : ushort</text><line style="stroke:#000000;stroke-width:1.641705069124424;" x1="8.7558" x2="466.2442" y1="66.5831" y2="66.5831"/><text fill="#000000" font-family="sans-serif" font-size="12.0392" lengthAdjust="spacingAndGlyphs" textLength="446.5438" x="14.2281" y="83.4587">+ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)</text><text fill="#000000" font-family="sans-serif" font-size="12.0392" lengthAdjust="spacingAndGlyphs" textLength="167.4539" x="14.2281" y="98.6017">-GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="12.0392" lengthAdjust="spacingAndGlyphs" textLength="133.5253" x="14.2281" y="113.7447">-GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.0392" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129.1475" x="14.2281" y="128.8877">+ GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.0392" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107.2581" x="14.2281" y="144.0308">+ ATexto() : string</text><!--MD5=[d6947e0417dbb16d18b1b4b9e1b2d7da]
@startuml

scale 475 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

class ArticuloRebajado
{
    - porcentajeRebaja : ushort

    + ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)
    - GetPorcentajeRebaja() : ushort
    - GetDescuento() : double
    **+ GetPrecio() : double**
    **+ ATexto() : string**
}

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p>La implementaci&#xF3;n en C# quedar&#xED;a como sigue...</p>
<blockquote>
<p>&#x270B; <strong>Importante</strong> <strong>(<em>l&#xED;nea 17</em>)</strong>:</p>
<ul>
<li><strong><code>base.GetPrecio();</code></strong> me devuelve el precio del original del art&#xED;culo (sin descuento).</li>
<li><strong><code>this.GetPrecio();</code></strong> o <strong><code>GetPrecio();</code></strong> me devuelve el precio rebajado (con descuento).</li>
</ul>
</blockquote>
<pre data-role="codeBlock" data-info="csharp {highlight=[8,14,17]}" class="language-csharp" data-line="8,14,17"><span class="token keyword">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... c&#xF3;digo omitido para abreviar.</span>
    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">new</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// A&#xF1;ado el modificador new para confirmar que quiero hacer una ocultaci&#xF3;n.</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Aqu&#xED; si en lugar de llamar a base.GetPrecio(), llamase a GetPrecio() tendr&#xED;a una llamada</span>
        <span class="token comment">// recursiva y se producir&#xED;a una &apos;Stack Overflow&apos;.</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">new</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// A&#xF1;ado el modificador new para confirmar que quiero hacer una ocultaci&#xF3;n.</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\nRebaja: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">%\n&quot;</span></span> <span class="token operator">+</span>
               <span class="token interpolation-string"><span class="token string">$&quot;Antes: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">&#x20AC;\nAhora: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">&#x20AC;&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">






<div aria-hidden="true" class="line-highlight" data-range="8" data-start="8">
</div></div><div class="line-highlight-wrapper">












<div aria-hidden="true" class="line-highlight" data-range="14" data-start="14">
</div></div><div class="line-highlight-wrapper">















<div aria-hidden="true" class="line-highlight" data-range="17" data-start="17">
</div></div></pre></li>
</ul>
<div style="page-break-after:always;"></div>
<h5 class="mume-header" id="invalidaci%C3%B3n-o-refinamiento-en-c">Invalidaci&#xF3;n o refinamiento en C#</h5>

<ul>
<li>
<p>Ser&#xE1; la opci&#xF3;n que tomaremos en el 99% de los casos, pues es m&#xE1;s flexible que la ocultaci&#xF3;n y me permitir&#xE1; realizar los <strong>enlaces din&#xE1;micos</strong> que veremos mas adelante.</p>
</li>
<li>
<p>Haremos lo que hac&#xED;a la clase padre, m&#xE1;s nueva funcionalidad.</p>
</li>
<li>
<p>Llamaremos o marcaremos como m&#xE9;todos <em>&apos;<strong>virtuales</strong>&apos;</em> a los m&#xE9;todos &apos;<em>invalidables</em>&apos; en la superclase que sean <strong>p&#xFA;blicos</strong> o <strong>protegidos</strong>.</p>
</li>
<li>
<p>Para ello utilizaremos la palabra reservada <strong><code>virtual</code></strong> precediendo a la declaraci&#xF3;n del m&#xE9;todo invalidable y la palabra <strong><code>override</code></strong> precediendo la declaraci&#xF3;n de un m&#xE9;todo que invalida a uno invalidable o virtual en la superclase.<br>
&#x1F441; A diferencia con la ocultaci&#xF3;n, ambos <strong>m&#xE9;todos deber&#xE1;n tener la misma accesibilidad</strong>.</p>
<blockquote>
<p><strong>Nota:</strong> Para representar lo que queremos hacer. En <strong>&apos;nuestros&apos;</strong> diagramas de clases UML...</p>
<ul>
<li>Pondremos el modificador <strong><code>{virtual}</code></strong> al nombre del m&#xE9;todo invalidable. Tambi&#xE9;n, marcaremos en <strong>&apos;<em>cursiva</em>&apos;</strong> aquellos m&#xE9;todos virtuales o virtuales puros (que trataremos m&#xE1;s adelante) ya que aunque dej&#xF3; de usarse a partir de la versi&#xF3;n 2.5 de UML, sigue siendo una notaci&#xF3;n &#xE1;mpliamente usada .</li>
<li>Aquellos m&#xE9;todos que <strong>invaliden</strong> un m&#xE9;todo en su superclase los marcaremos con en caracter <em><code>^</code></em> precediendo al nombre del m&#xE9;todo, para tenerlo claro.</li>
<li>Si no ponemos nada, supondremos por convenio que estamos haciendo una ocultaci&#xF3;n.</li>
</ul>
</blockquote>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="360.6308px" preserveAspectRatio="none" style="width:463px;height:360px;" version="1.1" viewBox="0 0 463 360" width="463.6682px" zoomAndPan="magnify"><defs><filter height="300%" id="f1brc8iwzyhtdc" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.102803738317757"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.205607476635514" dy="4.205607476635514" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[60dbf6945f26d51d7ef11e92d44c812f]
class Articulo--><rect codeline="9" fill="#FFFAFA" filter="url(#f1brc8iwzyhtdc)" height="137.7501" id="Articulo" style="stroke:#000000;stroke-width:1.5771028037383177;" width="246.028" x="105.1402" y="7.3598"/><ellipse cx="202.6577" cy="24.1822" fill="#ADD1B2" rx="11.5654" ry="11.5654" style="stroke:#000000;stroke-width:1.0514018691588785;"/><path d="M205.5655,19.8452 Q205.7298,19.6152 205.9269,19.5002 Q206.1241,19.3852 206.354,19.3852 Q206.7483,19.3852 206.9947,19.6645 Q207.2412,19.9274 207.2412,20.568 L207.2412,22.0959 Q207.2412,22.7366 206.9947,23.0158 Q206.7483,23.2951 206.354,23.2951 Q205.9926,23.2951 205.7791,23.0816 Q205.5655,22.8844 205.4505,22.3423 Q205.4012,21.9644 205.2041,21.7673 Q204.8591,21.373 204.2184,21.143 Q203.5777,20.913 202.9206,20.913 Q202.1156,20.913 201.442,21.258 Q200.7849,21.603 200.2592,22.3916 Q199.7499,23.1801 199.7499,24.2644 L199.7499,25.4144 Q199.7499,26.7122 200.6863,27.5829 Q201.6227,28.4371 203.2984,28.4371 Q204.2841,28.4371 204.9741,28.1743 Q205.3848,28.01 205.8283,27.55 Q206.1076,27.2707 206.2555,27.1886 Q206.4198,27.1065 206.6333,27.1065 Q206.9783,27.1065 207.2412,27.3857 Q207.5204,27.6486 207.5204,28.01 Q207.5204,28.3714 207.159,28.7986 Q206.6333,29.4064 205.7955,29.7514 Q204.6619,30.2278 203.2984,30.2278 Q201.7049,30.2278 200.4399,29.5707 Q199.4049,29.045 198.6821,27.9279 Q197.9593,26.7943 197.9593,25.4472 L197.9593,24.2315 Q197.9593,22.8351 198.6,21.6359 Q199.2571,20.4202 200.4071,19.7795 Q201.557,19.1224 202.8548,19.1224 Q203.627,19.1224 204.3005,19.3031 Q204.9905,19.4674 205.5655,19.8452 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6168" lengthAdjust="spacingAndGlyphs" textLength="42.0561" x="224.2114" y="29.3448">Articulo</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="106.1916" x2="350.1168" y1="41.0047" y2="41.0047"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="78.8551" x="111.4486" y="57.2162">-precio : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="79.9065" x="111.4486" y="71.7633">-nombre : string</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="106.1916" x2="350.1168" y1="78.5101" y2="78.5101"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="233.4112" x="111.4486" y="94.7217">+Articulo(in nombre : string, in precio : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="109.3458" x="111.4486" y="109.2688">#GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="173.4813" x="111.4486" y="123.8159">+GetPrecio() : double {virtual}</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148.2477" x="111.4486" y="138.363">+ATexto() : string {virtual}</text><!--MD5=[2f7aa29e6ed06458ec3a8577fe477f93]
class ArticuloRebajado--><rect codeline="20" fill="#FFFAFA" filter="url(#f1brc8iwzyhtdc)" height="137.7501" id="ArticuloRebajado" style="stroke:#000000;stroke-width:1.5771028037383177;" width="441.5888" x="7.3598" y="208.1776"/><ellipse cx="174.2699" cy="225" fill="#ADD1B2" rx="11.5654" ry="11.5654" style="stroke:#000000;stroke-width:1.0514018691588785;"/><path d="M177.1776,220.663 Q177.3419,220.433 177.5391,220.318 Q177.7362,220.203 177.9662,220.203 Q178.3605,220.203 178.6069,220.4823 Q178.8533,220.7451 178.8533,221.3858 L178.8533,222.9136 Q178.8533,223.5543 178.6069,223.8336 Q178.3605,224.1129 177.9662,224.1129 Q177.6048,224.1129 177.3912,223.8993 Q177.1776,223.7022 177.0626,223.16 Q177.0134,222.7822 176.8162,222.5851 Q176.4712,222.1908 175.8305,221.9608 Q175.1898,221.7308 174.5327,221.7308 Q173.7277,221.7308 173.0542,222.0758 Q172.3971,222.4208 171.8713,223.2093 Q171.3621,223.9979 171.3621,225.0821 L171.3621,226.2321 Q171.3621,227.5299 172.2985,228.4006 Q173.2349,229.2549 174.9106,229.2549 Q175.8962,229.2549 176.5862,228.992 Q176.9969,228.8278 177.4405,228.3678 Q177.7198,228.0885 177.8676,228.0064 Q178.0319,227.9242 178.2455,227.9242 Q178.5905,227.9242 178.8533,228.2035 Q179.1326,228.4663 179.1326,228.8278 Q179.1326,229.1892 178.7712,229.6163 Q178.2455,230.2242 177.4076,230.5691 Q176.2741,231.0456 174.9106,231.0456 Q173.317,231.0456 172.0521,230.3884 Q171.0171,229.8627 170.2942,228.7456 Q169.5714,227.6121 169.5714,226.265 L169.5714,225.0493 Q169.5714,223.6529 170.2121,222.4536 Q170.8692,221.238 172.0192,220.5973 Q173.1692,219.9401 174.467,219.9401 Q175.2391,219.9401 175.9127,220.1208 Q176.6027,220.2851 177.1776,220.663 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6168" lengthAdjust="spacingAndGlyphs" textLength="98.8318" x="195.8236" y="230.1625">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="8.4112" x2="447.8972" y1="241.8224" y2="241.8224"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="134.5794" x="13.6682" y="258.0339">-porcentajeRebaja : ushort</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="8.4112" x2="447.8972" y1="264.7808" y2="264.7808"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="428.972" x="13.6682" y="280.9923">+ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="160.8645" x="13.6682" y="295.5394">-GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="128.271" x="13.6682" y="310.0865">-GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127.2196" x="13.6682" y="324.6337">^+GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="106.1916" x="13.6682" y="339.1808">^+ATexto() : string</text><!--MD5=[4c5e07181522a81d7ce4ca381a4c3897]
reverse link Articulo to ArticuloRebajado--><path codeline="31" d="M228.1542,166.6367 C228.1542,180.5678 228.1542,194.7722 228.1542,208.1355 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:1.0514018691588785;"/><polygon fill="none" points="220.7944,166.132,228.1542,145.104,235.514,166.132,220.7944,166.132" style="stroke:#000000;stroke-width:1.0514018691588785;"/><!--MD5=[a6b6a205e77a093cff2287682b4d7d05]
@startuml

scale 450 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

class Articulo
{
    - precio : double
    - nombre : string

    + Articulo(in nombre : string, in precio : double)
    # GetNombre() : string
    **{abstract} +GetPrecio() : double {virtual}**
    **{abstract} +ATexto() : string {virtual}**
}

class ArticuloRebajado
{
    - porcentajeRebaja : ushort

    + ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)
    - GetPorcentajeRebaja() : ushort
    - GetDescuento() : double
    **^+GetPrecio() : double**
    **^+ATexto() : string**
}

Articulo ^- - ArticuloRebajado

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p>La implementaci&#xF3;n en C# quedar&#xED;a como sigue...</p>
<ol>
<li>
<p>Modifico los m&#xE9;todos c&#xF3;mo invalidables con <strong><code>virtual</code></strong> en <strong><code>Articulo</code></strong> y los hagos public como va a ser en las subclases.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[4,7]}" class="language-csharp" data-line="4,7"><span class="token keyword">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... c&#xF3;digo omitido para abreviar.</span>
    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> precio<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">nombre</span><span class="token punctuation">}</span></span><span class="token string"> Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">precio</span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">&#x20AC;&quot;</span></span> <span class="token operator">+</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>        
<div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">





<div aria-hidden="true" class="line-highlight" data-range="7" data-start="7">
</div></div></pre></li>
<li>
<p>Invalido el m&#xE9;todo con la misma signatura en la subclase con el modificador <strong><code>override</code></strong></p>
<blockquote>
<p>&#x1F4A1; <strong>Tips:</strong><br>
1 - Si escribo <strong><code>public override</code></strong><em><code>Ctrl + &lt;espacio&gt;</code></em> el &apos;<em>intellisense</em>&apos; me ofrecer&#xE1; permitir&#xE1; escoger entre los m&#xE9;todos invalidables.<br>
2 - Si refactorizamos sobre el nombre de la clase con <em><code>Ctrl + .</code></em> una de ellas ser&#xE1; &apos;<em>Generar invalidaciones...</em>&apos;</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... c&#xF3;digo omitido para abreviar.</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// A&#xF1;ado el modificador override para confirmar que quiero hacer una invalidaci&#xF3;n.</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// A&#xF1;ado el modificador override para confirmar que quiero hacer una invalidaci&#xF3;n.</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\nRebaja: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">%\n&quot;</span></span> <span class="token operator">+</span>
               <span class="token interpolation-string"><span class="token string">$&quot;Antes: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">&#x20AC;\nAhora: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">&#x20AC;&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
</ol>
</li>
</ul>
<div style="page-break-after:always;"></div>
<ul>
<li>
<p>Lo normal es que en el momento que modifiquemos alg&#xFA;n m&#xE9;todo en la jerarqu&#xED;a con <strong><code>virtual</code></strong> (invalidable), los m&#xE9;todos con la misma signatura en las subclases se modificar&#xE1;n con <strong><code>override</code></strong>.</p>
</li>
<li>
<p>Sin embargo, podemos hacer dise&#xF1;os m&#xE1;s complejos como el del ejemplo siguiente donde volvemos a ocultar como sucede en la clase <strong><code>E</code></strong>. <strong>Deberemos evitar dise&#xF1;os complejos</strong>.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="78.3069px" preserveAspectRatio="none" style="width:813px;height:78px;" version="1.1" viewBox="0 0 813 78" width="813.7566px" zoomAndPan="magnify"><defs><filter height="300%" id="f1d14dfgls4um2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.1164021164021163"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.232804232804233" dy="4.232804232804233" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[a46ee5ce0ceb0380cf446a08a056dce4]
class A--><rect codeline="11" fill="#FFFAFA" filter="url(#f1d14dfgls4um2)" height="56.9692" id="A" style="stroke:#000000;stroke-width:1.5873015873015872;" width="95.2381" x="7.4074" y="7.4074"/><ellipse cx="47.5661" cy="24.3386" fill="#ADD1B2" rx="11.6402" ry="11.6402" style="stroke:#000000;stroke-width:1.0582010582010581;"/><path d="M50.4927,19.9735 Q50.6581,19.7421 50.8565,19.6263 Q51.0549,19.5106 51.2864,19.5106 Q51.6832,19.5106 51.9312,19.7917 Q52.1792,20.0562 52.1792,20.7011 L52.1792,22.2388 Q52.1792,22.8836 51.9312,23.1647 Q51.6832,23.4458 51.2864,23.4458 Q50.9226,23.4458 50.7077,23.2308 Q50.4927,23.0324 50.377,22.4868 Q50.3274,22.1065 50.129,21.9081 Q49.7817,21.5112 49.1369,21.2798 Q48.4921,21.0483 47.8307,21.0483 Q47.0205,21.0483 46.3426,21.3955 Q45.6812,21.7427 45.1521,22.5364 Q44.6396,23.33 44.6396,24.4213 L44.6396,25.5787 Q44.6396,26.8849 45.582,27.7612 Q46.5245,28.621 48.211,28.621 Q49.203,28.621 49.8975,28.3565 Q50.3108,28.1911 50.7573,27.7282 Q51.0384,27.4471 51.1872,27.3644 Q51.3525,27.2817 51.5675,27.2817 Q51.9147,27.2817 52.1792,27.5628 Q52.4603,27.8274 52.4603,28.1911 Q52.4603,28.5549 52.0966,28.9848 Q51.5675,29.5966 50.7242,29.9438 Q49.5833,30.4233 48.211,30.4233 Q46.6071,30.4233 45.334,29.7619 Q44.2923,29.2328 43.5648,28.1085 Q42.8373,26.9676 42.8373,25.6118 L42.8373,24.3882 Q42.8373,22.9828 43.4821,21.7758 Q44.1435,20.5522 45.3009,19.9074 Q46.4583,19.246 47.7646,19.246 Q48.5417,19.246 49.2196,19.4279 Q49.914,19.5933 50.4927,19.9735 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6984" lengthAdjust="spacingAndGlyphs" textLength="7.4074" x="67.7778" y="29.5346">A</text><line style="stroke:#000000;stroke-width:1.5873015873015872;" x1="8.4656" x2="101.5873" y1="41.2698" y2="41.2698"/><text fill="#000000" font-family="sans-serif" font-size="11.6402" lengthAdjust="spacingAndGlyphs" textLength="82.5397" x="13.7566" y="57.5862">+Metodo() : void</text><!--MD5=[69c451c751c414e37549b782190fef46]
class B--><rect codeline="15" fill="#FFFAFA" filter="url(#f1d14dfgls4um2)" height="56.9692" id="B" style="stroke:#000000;stroke-width:1.5873015873015872;" width="139.6825" x="166.1376" y="7.4074"/><ellipse cx="227.2487" cy="24.3386" fill="#ADD1B2" rx="11.6402" ry="11.6402" style="stroke:#000000;stroke-width:1.0582010582010581;"/><path d="M230.1753,19.9735 Q230.3406,19.7421 230.539,19.6263 Q230.7374,19.5106 230.9689,19.5106 Q231.3657,19.5106 231.6138,19.7917 Q231.8618,20.0562 231.8618,20.7011 L231.8618,22.2388 Q231.8618,22.8836 231.6138,23.1647 Q231.3657,23.4458 230.9689,23.4458 Q230.6052,23.4458 230.3902,23.2308 Q230.1753,23.0324 230.0595,22.4868 Q230.0099,22.1065 229.8115,21.9081 Q229.4643,21.5112 228.8194,21.2798 Q228.1746,21.0483 227.5132,21.0483 Q226.703,21.0483 226.0251,21.3955 Q225.3638,21.7427 224.8347,22.5364 Q224.3221,23.33 224.3221,24.4213 L224.3221,25.5787 Q224.3221,26.8849 225.2646,27.7612 Q226.207,28.621 227.8935,28.621 Q228.8856,28.621 229.58,28.3565 Q229.9934,28.1911 230.4398,27.7282 Q230.7209,27.4471 230.8697,27.3644 Q231.0351,27.2817 231.25,27.2817 Q231.5972,27.2817 231.8618,27.5628 Q232.1429,27.8274 232.1429,28.1911 Q232.1429,28.5549 231.7791,28.9848 Q231.25,29.5966 230.4067,29.9438 Q229.2659,30.4233 227.8935,30.4233 Q226.2897,30.4233 225.0165,29.7619 Q223.9749,29.2328 223.2474,28.1085 Q222.5198,26.9676 222.5198,25.6118 L222.5198,24.3882 Q222.5198,22.9828 223.1647,21.7758 Q223.8261,20.5522 224.9835,19.9074 Q226.1409,19.246 227.4471,19.246 Q228.2242,19.246 228.9021,19.4279 Q229.5966,19.5933 230.1753,19.9735 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6984" lengthAdjust="spacingAndGlyphs" textLength="8.4656" x="248.9418" y="29.5346">B</text><line style="stroke:#000000;stroke-width:1.5873015873015872;" x1="167.1958" x2="304.7619" y1="41.2698" y2="41.2698"/><text fill="#000000" font-family="sans-serif" font-size="11.6402" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="126.9841" x="172.4868" y="57.5862">+Metodo() : void {virtual}</text><!--MD5=[378b18254a1b2429f435e93f5e5cc50c]
class C--><rect codeline="19" fill="#FFFAFA" filter="url(#f1d14dfgls4um2)" height="56.9692" id="C" style="stroke:#000000;stroke-width:1.5873015873015872;" width="103.7037" x="369.3122" y="7.4074"/><ellipse cx="412.328" cy="24.3386" fill="#ADD1B2" rx="11.6402" ry="11.6402" style="stroke:#000000;stroke-width:1.0582010582010581;"/><path d="M415.2546,19.9735 Q415.42,19.7421 415.6184,19.6263 Q415.8168,19.5106 416.0483,19.5106 Q416.4451,19.5106 416.6931,19.7917 Q416.9411,20.0562 416.9411,20.7011 L416.9411,22.2388 Q416.9411,22.8836 416.6931,23.1647 Q416.4451,23.4458 416.0483,23.4458 Q415.6845,23.4458 415.4696,23.2308 Q415.2546,23.0324 415.1389,22.4868 Q415.0893,22.1065 414.8909,21.9081 Q414.5437,21.5112 413.8988,21.2798 Q413.254,21.0483 412.5926,21.0483 Q411.7824,21.0483 411.1045,21.3955 Q410.4431,21.7427 409.914,22.5364 Q409.4015,23.33 409.4015,24.4213 L409.4015,25.5787 Q409.4015,26.8849 410.3439,27.7612 Q411.2864,28.621 412.9729,28.621 Q413.9649,28.621 414.6594,28.3565 Q415.0728,28.1911 415.5192,27.7282 Q415.8003,27.4471 415.9491,27.3644 Q416.1144,27.2817 416.3294,27.2817 Q416.6766,27.2817 416.9411,27.5628 Q417.2222,27.8274 417.2222,28.1911 Q417.2222,28.5549 416.8585,28.9848 Q416.3294,29.5966 415.4861,29.9438 Q414.3452,30.4233 412.9729,30.4233 Q411.369,30.4233 410.0959,29.7619 Q409.0542,29.2328 408.3267,28.1085 Q407.5992,26.9676 407.5992,25.6118 L407.5992,24.3882 Q407.5992,22.9828 408.244,21.7758 Q408.9054,20.5522 410.0628,19.9074 Q411.2202,19.246 412.5265,19.246 Q413.3036,19.246 413.9815,19.4279 Q414.6759,19.5933 415.2546,19.9735 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6984" lengthAdjust="spacingAndGlyphs" textLength="9.5238" x="433.1746" y="29.5346">C</text><line style="stroke:#000000;stroke-width:1.5873015873015872;" x1="370.3704" x2="471.9577" y1="41.2698" y2="41.2698"/><text fill="#000000" font-family="sans-serif" font-size="11.6402" lengthAdjust="spacingAndGlyphs" textLength="91.0053" x="375.6614" y="57.5862">^+ Metodo() : void</text><!--MD5=[69b356fec5e4f53d7535011b6fc9d60b]
class D--><rect codeline="23" fill="#FFFAFA" filter="url(#f1d14dfgls4um2)" height="56.9692" id="D" style="stroke:#000000;stroke-width:1.5873015873015872;" width="103.7037" x="536.5079" y="7.4074"/><ellipse cx="579.5238" cy="24.3386" fill="#ADD1B2" rx="11.6402" ry="11.6402" style="stroke:#000000;stroke-width:1.0582010582010581;"/><path d="M582.4504,19.9735 Q582.6157,19.7421 582.8142,19.6263 Q583.0126,19.5106 583.244,19.5106 Q583.6409,19.5106 583.8889,19.7917 Q584.1369,20.0562 584.1369,20.7011 L584.1369,22.2388 Q584.1369,22.8836 583.8889,23.1647 Q583.6409,23.4458 583.244,23.4458 Q582.8803,23.4458 582.6653,23.2308 Q582.4504,23.0324 582.3347,22.4868 Q582.2851,22.1065 582.0866,21.9081 Q581.7394,21.5112 581.0946,21.2798 Q580.4497,21.0483 579.7884,21.0483 Q578.9782,21.0483 578.3003,21.3955 Q577.6389,21.7427 577.1098,22.5364 Q576.5972,23.33 576.5972,24.4213 L576.5972,25.5787 Q576.5972,26.8849 577.5397,27.7612 Q578.4821,28.621 580.1687,28.621 Q581.1607,28.621 581.8552,28.3565 Q582.2685,28.1911 582.7149,27.7282 Q582.996,27.4471 583.1448,27.3644 Q583.3102,27.2817 583.5251,27.2817 Q583.8724,27.2817 584.1369,27.5628 Q584.418,27.8274 584.418,28.1911 Q584.418,28.5549 584.0542,28.9848 Q583.5251,29.5966 582.6819,29.9438 Q581.541,30.4233 580.1687,30.4233 Q578.5648,30.4233 577.2917,29.7619 Q576.25,29.2328 575.5225,28.1085 Q574.795,26.9676 574.795,25.6118 L574.795,24.3882 Q574.795,22.9828 575.4398,21.7758 Q576.1012,20.5522 577.2586,19.9074 Q578.416,19.246 579.7222,19.246 Q580.4993,19.246 581.1772,19.4279 Q581.8717,19.5933 582.4504,19.9735 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6984" lengthAdjust="spacingAndGlyphs" textLength="9.5238" x="600.3704" y="29.5346">D</text><line style="stroke:#000000;stroke-width:1.5873015873015872;" x1="537.5661" x2="639.1534" y1="41.2698" y2="41.2698"/><text fill="#000000" font-family="sans-serif" font-size="11.6402" lengthAdjust="spacingAndGlyphs" textLength="91.0053" x="542.8571" y="57.5862">^+ Metodo() : void</text><!--MD5=[54d0f7ca6f9898010b87b67e67e7a5e0]
class E--><rect codeline="27" fill="#FFFAFA" filter="url(#f1d14dfgls4um2)" height="56.9692" id="E" style="stroke:#000000;stroke-width:1.5873015873015872;" width="95.2381" x="703.7037" y="7.4074"/><ellipse cx="743.3862" cy="24.3386" fill="#ADD1B2" rx="11.6402" ry="11.6402" style="stroke:#000000;stroke-width:1.0582010582010581;"/><path d="M746.3128,19.9735 Q746.4782,19.7421 746.6766,19.6263 Q746.875,19.5106 747.1065,19.5106 Q747.5033,19.5106 747.7513,19.7917 Q747.9993,20.0562 747.9993,20.7011 L747.9993,22.2388 Q747.9993,22.8836 747.7513,23.1647 Q747.5033,23.4458 747.1065,23.4458 Q746.7427,23.4458 746.5278,23.2308 Q746.3128,23.0324 746.1971,22.4868 Q746.1475,22.1065 745.9491,21.9081 Q745.6019,21.5112 744.957,21.2798 Q744.3122,21.0483 743.6508,21.0483 Q742.8406,21.0483 742.1627,21.3955 Q741.5013,21.7427 740.9722,22.5364 Q740.4597,23.33 740.4597,24.4213 L740.4597,25.5787 Q740.4597,26.8849 741.4021,27.7612 Q742.3446,28.621 744.0311,28.621 Q745.0231,28.621 745.7176,28.3565 Q746.131,28.1911 746.5774,27.7282 Q746.8585,27.4471 747.0073,27.3644 Q747.1726,27.2817 747.3876,27.2817 Q747.7348,27.2817 747.9993,27.5628 Q748.2804,27.8274 748.2804,28.1911 Q748.2804,28.5549 747.9167,28.9848 Q747.3876,29.5966 746.5443,29.9438 Q745.4034,30.4233 744.0311,30.4233 Q742.4272,30.4233 741.1541,29.7619 Q740.1124,29.2328 739.3849,28.1085 Q738.6574,26.9676 738.6574,25.6118 L738.6574,24.3882 Q738.6574,22.9828 739.3022,21.7758 Q739.9636,20.5522 741.121,19.9074 Q742.2784,19.246 743.5847,19.246 Q744.3618,19.246 745.0397,19.4279 Q745.7341,19.5933 746.3128,19.9735 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6984" lengthAdjust="spacingAndGlyphs" textLength="8.4656" x="763.4921" y="29.5346">E</text><line style="stroke:#000000;stroke-width:1.5873015873015872;" x1="704.7619" x2="797.8836" y1="41.2698" y2="41.2698"/><text fill="#000000" font-family="sans-serif" font-size="11.6402" lengthAdjust="spacingAndGlyphs" textLength="82.5397" x="710.0529" y="57.5862">+Metodo() : void</text><!--MD5=[81500ff05264bba268bb228b65a49ed8]
reverse link A to B--><path codeline="32" d="M124.4233,35.9788 C138.0529,35.9788 152.3915,35.9788 166.0423,35.9788 " fill="none" id="A-backto-B" style="stroke:#000000;stroke-width:1.0582010582010581;"/><polygon fill="none" points="124.2328,43.3862,103.0688,35.9788,124.2328,28.5714,124.2328,43.3862" style="stroke:#000000;stroke-width:1.0582010582010581;"/><!--MD5=[86a7f2f40e8d9a69bf1262f888265aa3]
reverse link B to C--><path codeline="33" d="M327.6508,35.9788 C341.8836,35.9788 356.1481,35.9788 369.0582,35.9788 " fill="none" id="B-backto-C" style="stroke:#000000;stroke-width:1.0582010582010581;"/><polygon fill="none" points="327.4074,43.3862,306.2434,35.9788,327.4074,28.5714,327.4074,43.3862" style="stroke:#000000;stroke-width:1.0582010582010581;"/><!--MD5=[aef4253f22c35495e0572246d48c1675]
reverse link C to D--><path codeline="34" d="M494.6138,35.9788 C508.6667,35.9788 523.1217,35.9788 536.3069,35.9788 " fill="none" id="C-backto-D" style="stroke:#000000;stroke-width:1.0582010582010581;"/><polygon fill="none" points="494.2646,43.3862,473.1005,35.9788,494.2646,28.5714,494.2646,43.3862" style="stroke:#000000;stroke-width:1.0582010582010581;"/><!--MD5=[04555dd0e3763fd2d9c38de9d9cbd0d7]
reverse link D to E--><path codeline="35" d="M661.9683,35.9788 C676.0847,35.9788 690.5185,35.9788 703.5238,35.9788 " fill="none" id="D-backto-E" style="stroke:#000000;stroke-width:1.0582010582010581;"/><polygon fill="none" points="661.4709,43.3862,640.3069,35.9788,661.4709,28.5714,661.4709,43.3862" style="stroke:#000000;stroke-width:1.0582010582010581;"/><!--MD5=[37b373ec472d488bed7707ea9c89e307]
@startuml

left to right direction
scale 800 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide attributes
class A
{
    + Metodo() : void
}
class B
{
    {abstract} + Metodo() : void {virtual}
}
class C
{
    ^+ Metodo() : void
}
class D
{
    ^+ Metodo() : void
}
class E
{
    + Metodo() : void
}

A ^- -B
B ^- -C
C ^- -D
D ^- -E

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">A</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">A</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Oculta el de A y lo marco como virtual o invalidable.</span>
    <span class="token keyword">public</span> <span class="token keyword">new</span> <span class="token keyword">virtual</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">B</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Invalido Metodo() en B</span>
    <span class="token punctuation">{</span> 
        <span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Llamada a la implementaci&#xF3;n de B </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">D</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">C</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// Invalido Metodo() en B y C</span>
    <span class="token punctuation">{</span> 
        <span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Llamada a la implementaci&#xF3;n de C</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">E</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">D</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">new</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// Corto la secuencia de invalidaciones ocultando el m&#xE9;todo.</span>
    <span class="token punctuation">{</span> 
        <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
</ul>
<div style="page-break-after:always;"></div>
<blockquote>
<p><strong>&#x1F393; Caso de estudio</strong></p>
<p>Vamos a definir otra concreci&#xF3;n m&#xE1;s de la clase <strong><code>Articulo</code></strong>. En este caso, va a representar art&#xED;culos reacondicionados, de los que vamos a a&#xF1;adir una <strong>fecha de reacondicionamiento</strong>, la <strong>empresa</strong> que lo realiza y una <strong>descripci&#xF3;n</strong> del trabajo realizado.</p>
<ul>
<li>Solo vamos a invalidar el m&#xE9;todo <strong><code>string ATexto()</code></strong>.</li>
<li>Inst&#xE1;ncia un objeto de la nueva clase.</li>
</ul>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="194.9778px" preserveAspectRatio="none" style="width:414px;height:194px;" version="1.1" viewBox="0 0 414 194" width="414.771px" zoomAndPan="magnify"><defs><filter height="300%" id="f1p1tcdrayfkon" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.363367799113737"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.726735598227474" dy="4.726735598227474" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[6a1e8c298c85852c3878b8bc4320a243]
class ArticuloReacondicionado--><rect codeline="13" fill="#FFDEAD" filter="url(#f1p1tcdrayfkon)" height="37.8139" id="ArticuloReacondicionado" style="stroke:#000000;stroke-width:1.7725258493353029;" width="199.7046" x="8.2718" y="140.6204"/><ellipse cx="25.997" cy="159.5273" fill="#ADD1B2" rx="12.9985" ry="12.9985" style="stroke:#000000;stroke-width:1.1816838995568686;"/><path d="M29.2651,154.6529 Q29.4498,154.3944 29.6713,154.2651 Q29.8929,154.1359 30.1514,154.1359 Q30.5945,154.1359 30.8715,154.4498 Q31.1484,154.7452 31.1484,155.4653 L31.1484,157.1824 Q31.1484,157.9025 30.8715,158.2164 Q30.5945,158.5303 30.1514,158.5303 Q29.7452,158.5303 29.5052,158.2903 Q29.2651,158.0687 29.1359,157.4594 Q29.0805,157.0347 28.8589,156.8131 Q28.4712,156.37 27.7511,156.1115 Q27.031,155.853 26.2925,155.853 Q25.3877,155.853 24.6307,156.2408 Q23.8922,156.6285 23.3013,157.5148 Q22.729,158.401 22.729,159.6196 L22.729,160.9121 Q22.729,162.3708 23.7814,163.3493 Q24.8338,164.3095 26.7171,164.3095 Q27.825,164.3095 28.6004,164.014 Q29.062,163.8294 29.5606,163.3124 Q29.8744,162.9985 30.0406,162.9062 Q30.2253,162.8139 30.4653,162.8139 Q30.853,162.8139 31.1484,163.1278 Q31.4623,163.4232 31.4623,163.8294 Q31.4623,164.2356 31.0561,164.7157 Q30.4653,165.3988 29.5236,165.7866 Q28.2496,166.322 26.7171,166.322 Q24.9261,166.322 23.5044,165.5835 Q22.3412,164.9926 21.5288,163.7371 Q20.7164,162.4631 20.7164,160.949 L20.7164,159.5827 Q20.7164,158.0133 21.4365,156.6654 Q22.175,155.2991 23.4675,154.579 Q24.76,153.8405 26.2186,153.8405 Q27.0864,153.8405 27.8434,154.0436 Q28.6189,154.2282 29.2651,154.6529 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14.1802" lengthAdjust="spacingAndGlyphs" textLength="161.8907" x="42.5406" y="165.3296">ArticuloReacondicionado</text><!--MD5=[60dbf6945f26d51d7ef11e92d44c812f]
class Articulo--><rect fill="#FFFAFA" filter="url(#f1p1tcdrayfkon)" height="37.8139" id="Articulo" style="stroke:#000000;stroke-width:1.7725258493353029;" width="85.0812" x="173.1167" y="8.2718"/><ellipse cx="190.8419" cy="27.1787" fill="#ADD1B2" rx="12.9985" ry="12.9985" style="stroke:#000000;stroke-width:1.1816838995568686;"/><path d="M194.11,22.3043 Q194.2947,22.0458 194.5162,21.9165 Q194.7378,21.7873 194.9963,21.7873 Q195.4394,21.7873 195.7164,22.1012 Q195.9934,22.3966 195.9934,23.1167 L195.9934,24.8338 Q195.9934,25.5539 195.7164,25.8678 Q195.4394,26.1817 194.9963,26.1817 Q194.5901,26.1817 194.3501,25.9417 Q194.11,25.7201 193.9808,25.1108 Q193.9254,24.6861 193.7038,24.4645 Q193.3161,24.0214 192.596,23.7629 Q191.8759,23.5044 191.1374,23.5044 Q190.2326,23.5044 189.4756,23.8922 Q188.7371,24.2799 188.1462,25.1662 Q187.5739,26.0524 187.5739,27.271 L187.5739,28.5635 Q187.5739,30.0222 188.6263,31.0007 Q189.6787,31.9609 191.562,31.9609 Q192.6699,31.9609 193.4453,31.6654 Q193.9069,31.4808 194.4055,30.9638 Q194.7194,30.6499 194.8855,30.5576 Q195.0702,30.4653 195.3102,30.4653 Q195.6979,30.4653 195.9934,30.7792 Q196.3072,31.0746 196.3072,31.4808 Q196.3072,31.887 195.901,32.3671 Q195.3102,33.0502 194.3685,33.438 Q193.0945,33.9734 191.562,33.9734 Q189.771,33.9734 188.3493,33.2349 Q187.1861,32.644 186.3737,31.3885 Q185.5613,30.1145 185.5613,28.6004 L185.5613,27.2341 Q185.5613,25.6647 186.2814,24.3168 Q187.0199,22.9505 188.3124,22.2304 Q189.6049,21.4919 191.0635,21.4919 Q191.9313,21.4919 192.6883,21.695 Q193.4638,21.8796 194.11,22.3043 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14.1802" lengthAdjust="spacingAndGlyphs" textLength="47.2674" x="207.3855" y="32.981">Articulo</text><polygon fill="none" points="215.6573,46.0857,223.9291,69.7194,207.3855,69.7194" style="stroke:#000000;stroke-width:1.1816838995568686;"/><line style="stroke:#000000;stroke-width:1.1816838995568686;" x1="215.6573" x2="215.6573" y1="69.7194" y2="70.901"/><!--MD5=[2f7aa29e6ed06458ec3a8577fe477f93]
class ArticuloRebajado--><rect fill="#FFFAFA" filter="url(#f1p1tcdrayfkon)" height="37.8139" id="ArticuloRebajado" style="stroke:#000000;stroke-width:1.7725258493353029;" width="148.8922" x="249.9261" y="140.6204"/><ellipse cx="267.6514" cy="159.5273" fill="#ADD1B2" rx="12.9985" ry="12.9985" style="stroke:#000000;stroke-width:1.1816838995568686;"/><path d="M270.9195,154.6529 Q271.1041,154.3944 271.3257,154.2651 Q271.5473,154.1359 271.8058,154.1359 Q272.2489,154.1359 272.5258,154.4498 Q272.8028,154.7452 272.8028,155.4653 L272.8028,157.1824 Q272.8028,157.9025 272.5258,158.2164 Q272.2489,158.5303 271.8058,158.5303 Q271.3996,158.5303 271.1595,158.2903 Q270.9195,158.0687 270.7903,157.4594 Q270.7349,157.0347 270.5133,156.8131 Q270.1256,156.37 269.4055,156.1115 Q268.6854,155.853 267.9468,155.853 Q267.0421,155.853 266.2851,156.2408 Q265.5465,156.6285 264.9557,157.5148 Q264.3833,158.401 264.3833,159.6196 L264.3833,160.9121 Q264.3833,162.3708 265.4357,163.3493 Q266.4882,164.3095 268.3715,164.3095 Q269.4793,164.3095 270.2548,164.014 Q270.7164,163.8294 271.2149,163.3124 Q271.5288,162.9985 271.695,162.9062 Q271.8796,162.8139 272.1196,162.8139 Q272.5074,162.8139 272.8028,163.1278 Q273.1167,163.4232 273.1167,163.8294 Q273.1167,164.2356 272.7105,164.7157 Q272.1196,165.3988 271.178,165.7866 Q269.904,166.322 268.3715,166.322 Q266.5805,166.322 265.1588,165.5835 Q263.9956,164.9926 263.1832,163.7371 Q262.3708,162.4631 262.3708,160.949 L262.3708,159.5827 Q262.3708,158.0133 263.0908,156.6654 Q263.8294,155.2991 265.1219,154.579 Q266.4143,153.8405 267.873,153.8405 Q268.7408,153.8405 269.4978,154.0436 Q270.2733,154.2282 270.9195,154.6529 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14.1802" lengthAdjust="spacingAndGlyphs" textLength="111.0783" x="284.195" y="165.3296">ArticuloRebajado</text><!--MD5=[4c5e07181522a81d7ce4ca381a4c3897]
reverse link Articulo to ArticuloRebajado--><path codeline="15" d="M215.6573,70.901 C215.6573,70.901 270.003,114.6115 301.8493,140.2304 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:1.1816838995568686;"/><!--MD5=[5ead35dfedb79aa276df792dc2cba33a]
reverse link Articulo to ArticuloReacondicionado--><path codeline="16" d="M215.6573,70.901 C215.6573,70.901 161.9025,114.6115 130.4106,140.2304 " fill="none" id="Articulo-backto-ArticuloReacondicionado" style="stroke:#000000;stroke-width:1.1816838995568686;"/><!--MD5=[eb1d65ee421ec748eef393b33ad776d5]
@startuml

scale 400 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow
skinparam groupInheritance 2

hide attributes
hide Methods

class ArticuloReacondicionado #navajowhite

Articulo ^- - ArticuloRebajado
Articulo ^- - ArticuloReacondicionado

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p><strong>Nota:</strong> Antes de ver la la propuesta de implementaci&#xF3;n, intenta pensar c&#xF3;mo ser&#xED;a la misma.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=21}" class="language-csharp" data-line="21"><span class="token keyword">class</span> <span class="token class-name">ArticuloReacondicionado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Una vez reacondicionado, los datos no van a cambiar.</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">DateTime</span> fechaReacondicionamiento<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name"><span class="token keyword">string</span></span> empresa<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name"><span class="token keyword">string</span></span> descripcion<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">ArticuloReacondicionado</span><span class="token punctuation">(</span>
                                <span class="token class-name"><span class="token keyword">string</span></span> nombre<span class="token punctuation">,</span>
                                <span class="token class-name"><span class="token keyword">double</span></span> precio<span class="token punctuation">,</span>
                                <span class="token class-name">DateTime</span> fechaReacondicionamiento<span class="token punctuation">,</span>
                                <span class="token class-name"><span class="token keyword">string</span></span> empresa<span class="token punctuation">,</span>
                                <span class="token class-name"><span class="token keyword">string</span></span> descripcion<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> precio<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fechaReacondicionamiento <span class="token operator">=</span> fechaReacondicionamiento<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>empresa <span class="token operator">=</span> empresa<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>descripcion <span class="token operator">=</span> descripcion<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetEmpresa</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> empresa<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Aprovechamos para no repetir el c&#xF3;digo que muestra los datos que son de art&#xED;culo llamando a  base.ATexto()</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
                <span class="token interpolation-string"><span class="token string">$&quot;\nFecha reacondicionamiento: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">fechaReacondicionamiento<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$&quot;Empresa: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetEmpresa</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$&quot;Descripci&#xF3;n: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">descripcion</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">EjemploHerencia</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">ArticuloReacondicionado</span> ac <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span>
                                <span class="token string">&quot;Fuente TFX&quot;</span><span class="token punctuation">,</span> <span class="token number">50d</span><span class="token punctuation">,</span>
                                DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">&quot;Balmis S.A&quot;</span><span class="token punctuation">,</span>
                                <span class="token string">&quot;Se cambia condensador electrol&#xED;tico&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ac<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">



















<div aria-hidden="true" class="line-highlight" data-range="21" data-start="21">
</div></div></pre></blockquote>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="polimorfismo-de-datos-o-inclusi%C3%B3n">Polimorfismo de datos o inclusi&#xF3;n</h4>

<ul>
<li>Es la capacidad de un identificador de hacer referencia a instancias de distintas clases durante su ejecuci&#xF3;n.</li>
<li>Se logra a trav&#xE9;s del <strong>principio de sustituci&#xF3;n</strong>.</li>
</ul>
<h4 class="mume-header" id="principio-de-sustituci%C3%B3n-de-a-hrefhttpseswikipediaorgwikibarbara_liskov-target_blankliskova-upcasting">Principio de sustituci&#xF3;n de <a href="https://es.wikipedia.org/wiki/Barbara_Liskov" target="_blank">Liskov</a> (Upcasting)</h4>

<ul>
<li>
<p>Podemos decir que es, cuando un identificador que hemos declarado del tipo la superclase, referencia a un objeto de la subclase.</p>
</li>
<li>
<p>Tambi&#xE9;n se le conoce como <strong>upcasting</strong></p>
</li>
<li>
<p>La <strong>conversi&#xF3;n</strong> o <em>&apos;cast&apos;</em> se hace de forma <strong>impl&#xED;cita</strong>.</p>
</li>
<li>
<p>Creamos un objeto de la subclase y lo asignamos a la superclase.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Fred Perry&quot;</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Articulo</span> a <span class="token operator">=</span> ar<span class="token punctuation">;</span>

<span class="token comment">// Tambi&#xE9;n podemos hacerlo directamente.</span>
<span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Fred Perry&quot;</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></li>
</ul>
<p align="center" style="zoom:0.8"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="396pt" height="272pt" viewBox="0.00 0.00 396.00 272.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 268)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-268 392,-268 392,4 -4,4"/>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-181" rx="27" ry="27"/>
<text text-anchor="middle" x="27" y="-176.8" font-family="Arial" font-size="14.00" fill="#000000">a</text>
</g>
<!-- oar -->
<g id="node2" class="node">
<title>oar</title>
<polygon fill="none" stroke="#a8a8a8" points="99,-211 99,-259 379,-259 379,-211 99,-211"/>
<text text-anchor="start" x="183.7672" y="-230.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">ArticuloRebajado </text>
<polygon fill="none" stroke="#000000" points="115,-167 115,-195 363,-195 363,-167 115,-167"/>
<text text-anchor="start" x="190.3773" y="-176.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;a : Articulo &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="120" y="-149.4" font-family="Arial" font-size="14.00" fill="#000000">nombre = &quot;Polo Fred Perry&quot; &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="120" y="-123.4" font-family="Arial" font-size="14.00" fill="#000000">precio = 70.00 &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="114,-114 114,-196 364,-196 364,-114 114,-114"/>
<text text-anchor="start" x="114" y="-71.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#a8a8a8" points="99,-5 99,-53 379,-53 379,-5 99,-5"/>
<text text-anchor="start" x="114.7157" y="-25.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="130.2781" y="-25.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">+GetPorcentajeRebaja() : ushort &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="347.7219" y="-25.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#a8a8a8" points="98,-4 98,-260 380,-260 380,-4 98,-4"/>
</g>
<!-- a&#45;&gt;oar -->
<g id="edge1" class="edge">
<title>a-&gt;oar:a</title>
<path fill="none" stroke="#000000" d="M54.3509,-181C68.872,-181 87.2977,-181 104.8222,-181"/>
<polygon fill="#000000" stroke="#000000" points="105,-184.5001 115,-181 105,-177.5001 105,-184.5001"/>
</g>
</g>
</svg>
</p><blockquote>
<p>&#x270B; <strong>Importante:</strong> Aunque creamos un objeto <strong><code>ArticuloRebajado</code></strong> <strong>completo</strong> en memoria. A trav&#xE9;s de <strong><code>a</code></strong> solo podremos acceder a la parte de <strong><code>Articulo</code></strong> que hay dentro del <strong><code>ArticuloRebajado</code></strong>.<br>
Por ejemplo, si tuvieramos una accesor p&#xFA;blico en <strong><code>ArticuloRebajado</code></strong> denominado <strong><code>ushort GetPorcentajeRebaja()</code></strong>, no podr&#xED;amos hacer <strong><code>a.GetPorcentajeRebaja()</code></strong>.</p>
</blockquote>
<h4 class="mume-header" id="downcasting">Downcasting</h4>

<ul>
<li>Se tratar&#xE1; de la <strong>operaci&#xF3;n contr&#xE1;ria a la sustituci&#xF3;n</strong> o upcasting.</li>
<li>Solo podremos hacerla si realmente la referencia que tenemos es del tipo al que queremos hacer el downcasting, en caso contr&#xE1;rio obtendremos un <strong>error en tiempo de ejecuci&#xF3;n</strong>.</li>
</ul>
<p align="center" style="zoom:0.6"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="910pt" height="224pt" viewBox="0.00 0.00 910.10 224.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 220)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-220 906.1044,-220 906.1044,4 -4,4"/>
<!-- a1 -->
<g id="node1" class="node">
<title>a1</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-133" rx="27" ry="27"/>
<text text-anchor="middle" x="27" y="-128.8" font-family="Arial" font-size="14.00" fill="#000000">a</text>
</g>
<!-- oar1 -->
<g id="node5" class="node">
<title>oar1</title>
<polygon fill="none" stroke="#a8a8a8" points="99,-163 99,-211 327,-211 327,-163 99,-163"/>
<text text-anchor="start" x="157.7672" y="-182.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">ArticuloRebajado </text>
<polygon fill="none" stroke="#000000" points="115,-119 115,-147 311,-147 311,-119 115,-119"/>
<text text-anchor="start" x="164.3773" y="-128.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;a : Articulo &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="119.5423" y="-101.4" font-family="Arial" font-size="14.00" fill="#000000">nombre = &quot;Polo Fred Perry&quot; &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="120" y="-75.4" font-family="Arial" font-size="14.00" fill="#000000">precio = 70.00 &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="114,-66 114,-148 312,-148 312,-66 114,-66"/>
<text text-anchor="start" x="114" y="-23.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#a8a8a8" points="98,-4 98,-212 328,-212 328,-4 98,-4"/>
</g>
<!-- a1&#45;&gt;oar1 -->
<g id="edge1" class="edge">
<title>a1-&gt;oar1:a</title>
<path fill="none" stroke="#000000" d="M54.3509,-133C68.872,-133 87.2977,-133 104.8222,-133"/>
<polygon fill="#000000" stroke="#000000" points="105,-136.5001 115,-133 105,-129.5001 105,-136.5001"/>
</g>
<!-- a2 -->
<g id="node2" class="node">
<title>a2</title>
<ellipse fill="none" stroke="#a8a8a8" cx="561.1044" cy="-163" rx="27" ry="27"/>
<text text-anchor="middle" x="561.1044" y="-158.8" font-family="Arial" font-size="14.00" fill="#a8a8a8">a</text>
</g>
<!-- oar2 -->
<g id="node6" class="node">
<title>oar2</title>
<polygon fill="none" stroke="#000000" points="633.1044,-163 633.1044,-211 893.1044,-211 893.1044,-163 633.1044,-163"/>
<text text-anchor="start" x="707.8716" y="-182.4" font-family="Arial" font-size="14.00" fill="#000000">ArticuloRebajado </text>
<polygon fill="none" stroke="#a8a8a8" points="649.1044,-119 649.1044,-147 877.1044,-147 877.1044,-119 649.1044,-119"/>
<text text-anchor="start" x="698.9193" y="-129.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="714.4817" y="-129.4" font-family="Arial" font-size="14.00" fill="#a8a8a8"> &#xA0;&#xA0;&#xA0;a : Articulo &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="811.7271" y="-129.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="654.0843" y="-102.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="669.6467" y="-102.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">nombre = &quot;Polo Fred Perry&quot; &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="856.5621" y="-102.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="654.1044" y="-76.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="669.6668" y="-76.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">precio = 70.00 &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="774.321" y="-76.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#a8a8a8" points="648.1044,-66 648.1044,-148 878.1044,-148 878.1044,-66 648.1044,-66"/>
<text text-anchor="start" x="648.1044" y="-23.4" font-family="Arial" font-size="14.00" fill="#000000">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#000000" points="632.1044,-4 632.1044,-212 894.1044,-212 894.1044,-4 632.1044,-4"/>
</g>
<!-- a2&#45;&gt;oar2 -->
<g id="edge4" class="edge">
<title>a2-&gt;oar2:a</title>
<path fill="none" stroke="#a8a8a8" d="M585.0156,-150.1032C599.7403,-143.1791 619.4747,-135.6451 638.9633,-133.561"/>
<polygon fill="#a8a8a8" stroke="#a8a8a8" points="639.313,-137.0471 649.1044,-133 638.9263,-130.0578 639.313,-137.0471"/>
</g>
<!-- code -->
<g id="node3" class="node">
<title>code</title>
<text text-anchor="middle" x="435.0522" y="-103.8" font-family="Arial" font-size="14.00" fill="#000000">= downcasting =&gt;</text>
</g>
<!-- code&#45;&gt;oar2 -->
<g id="edge3" class="edge">
<title>code-&gt;oar2</title>
<path fill="none" stroke="transparent" d="M498.304,-108C531.329,-108 573.2527,-108 613.9458,-108"/>
<polygon fill="transparent" stroke="transparent" points="613.9808,-111.5001 623.9807,-108 613.9807,-104.5001 613.9808,-111.5001"/>
</g>
<!-- ar -->
<g id="node4" class="node">
<title>ar</title>
<ellipse fill="none" stroke="#000000" cx="561.1044" cy="-53" rx="27" ry="27"/>
<text text-anchor="middle" x="561.1044" y="-48.8" font-family="Arial" font-size="14.00" fill="#000000">ar</text>
</g>
<!-- ar&#45;&gt;oar2 -->
<g id="edge5" class="edge">
<title>ar-&gt;oar2</title>
<path fill="none" stroke="#000000" d="M587.5124,-60.1903C595.2924,-62.3086 604.4067,-64.7902 614.3189,-67.4891"/>
<polygon fill="#000000" stroke="#000000" points="613.4811,-70.8883 624.0493,-70.1385 615.3201,-64.1342 613.4811,-70.8883"/>
</g>
<!-- oar1&#45;&gt;code -->
<g id="edge2" class="edge">
<title>oar1-&gt;code</title>
<path fill="none" stroke="transparent" d="M336.0402,-108C344.6941,-108 353.2495,-108 361.4928,-108"/>
<polygon fill="transparent" stroke="transparent" points="361.7512,-111.5001 371.7512,-108 361.7511,-104.5001 361.7512,-111.5001"/>
</g>
</g>
</svg>
</p><h5 class="mume-header" id="formas-de-realizar-el-downcasting">Formas de realizar el Downcasting</h5>

<ol>
<li>
<p>Mediante <strong>cast expl&#xED;cito</strong>:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Fred Perry&quot;</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a<span class="token punctuation">;</span> <span class="token comment">// realmente a es un ArticuloRebajado</span>
</pre><p>Sin embargo el siguiente c&#xF3;digo <strong>producir&#xED;a un error al ejecutar</strong> &#x1F480;</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Ralph Lauren&quot;</span><span class="token punctuation">,</span> <span class="token number">75f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a<span class="token punctuation">;</span>
</pre></li>
</ol>
<div style="page-break-after:always;"></div>
<ol start="2">
<li>
<p>Mediante el operador <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/is" target="_blank">is</a></strong></p>
<p>Nos sirve para preguntarle a un objeto si es de un determinado tipo y saber as&#xED; con seguridad si podemos hacer el downcasting.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=3}" class="language-csharp" data-line="3"><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Ralph Lauren&quot;</span><span class="token punctuation">,</span> <span class="token number">75f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">is</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a<span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">

<div aria-hidden="true" class="line-highlight" data-range="3" data-start="3">
</div></div></pre></li>
<li>
<p>Mediante el operador <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/operators/type-testing-and-cast#as-operator" target="_blank">as</a></strong></p>
<p>NRealiza directamente el downcasting y si no puede asigna <strong>null</strong>.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=2}" class="language-csharp" data-line="2"><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Ralph Lauren&quot;</span><span class="token punctuation">,</span> <span class="token number">75f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> a <span class="token keyword">as</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Equivaldr&#xED;a ha hacer...</span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> a <span class="token keyword">is</span> <span class="token class-name">ArticuloRebajado <span class="token punctuation">?</span></span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<div class="line-highlight-wrapper">
<div aria-hidden="true" class="line-highlight" data-range="2" data-start="2">
</div></div></pre></li>
<li>
<p>Apoy&#xE1;ndonos en el operador de uso combinado null <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/operators/null-coalescing-operator" target="_blank">??</a></strong> que vimos en el tema 2</p>
<p>Se podr&#xED;a usar en el downcasting de la siguiente forma:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">&quot;Samsung s10&quot;</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">&quot;FOXCOM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cambio de bater&#xED;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> a <span class="token keyword">as</span> <span class="token class-name">ArticuloRebajado 
                      <span class="token punctuation">?</span></span><span class="token punctuation">?</span> 
                      <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span> a<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                           
</pre></li>
<li>
<p>Usando la <strong>instrucci&#xF3;n</strong> <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/switch#type-pattern">switch</a></strong> con <strong>patrones de tipo</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">&quot;Samsung s11&quot;</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">&quot;FOXCOM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cambio de bater&#xED;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">switch</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token keyword">null</span><span class="token punctuation">:</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token class-name">ArticuloRebajado</span> _<span class="token punctuation">:</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Es rebajado&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token class-name">ArticuloReacondicionado</span> ac <span class="token keyword">when</span> ac<span class="token punctuation">.</span><span class="token function">GetEmpresa</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;FOXCOM&quot;</span><span class="token punctuation">:</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Es reacondicionado de FOXCOM&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token class-name">ArticuloReacondicionado</span> ac<span class="token punctuation">:</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ac<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;No es un tipo de objeto contemplado&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>Usando la <strong>expresi&#xF3;n switch</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">&quot;Samsung s11&quot;</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">&quot;FOXCOM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cambio de bater&#xED;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token keyword">switch</span>
<span class="token punctuation">{</span>
    <span class="token return-type class-name">ArticuloRebajado</span> ar <span class="token operator">=&gt;</span> ar<span class="token punctuation">,</span>
    _ <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></li>
</ol>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="ligadura-din%C3%A1mica">Ligadura Din&#xE1;mica</h4>

<p>Tambi&#xE9;n se le conoce como <strong>enlace din&#xE1;mico</strong>.<br>
Una de las principales &apos;<em>ventajas</em>&apos; de la <strong>invalidaci&#xF3;n</strong>, es que al hacer una <strong>sustituci&#xF3;n</strong> como la que hemos visto del tipo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Fred Perry&quot;</span><span class="token punctuation">,</span> <span class="token number">70d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p><strong><code>Console.WriteLine(a.GetPrecio());</code></strong> mostrar&#xE1; <strong>59,5</strong> y no <strong>70</strong>. Pero,... &#xBF;C&#xF3;mo puede suceder esto si <strong><code>a</code></strong> esta referenciando a la parte de <strong><code>Articulo</code></strong> que hay en el objeto <strong><code>ArticuloRebajado</code></strong> instanciado y <strong><code>GetPrecio()</code></strong> de <strong><code>Articulo</code></strong> me devuelve el precio sin el descuento?</p>
<p>Si nos fijamos en la figura siguiente, lo que realmente sucede es que al hacer <strong><code>a.GetPrecio()</code></strong> y ver que <strong><code>GetPrecio()</code></strong> est&#xE1; marcado como invalidable o <strong>virtual</strong>. Buscar&#xE1; posibles invalidaciones de ese m&#xE9;todo en el objeto realmente instanciado (<strong><code>ArticuloRebajado</code></strong>) y si existen lo que har&#xE1; es llamar a la invalidaci&#xF3;n.<br>
A este enlace entre el m&#xE9;todo virtual y su invalidaci&#xF3;n, lo denominaremos <strong>ligadura din&#xE1;mica</strong> y se denomina &apos;<em>din&#xE1;mica</em>&apos; puesto que <strong>se decide en tiempo de ejecuci&#xF3;n</strong>, dependiendo del objeto que realmente tengamos instanciado y est&#xE9; referenciado por la sustituci&#xF3;n.</p>
<p align="center" style="zoom:0.70"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="453pt" height="300pt" viewBox="0.00 0.00 453.12 300.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 296)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-296 449.1178,-296 449.1178,4 -4,4"/>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="#000000" cx="51.5589" cy="-209" rx="27" ry="27"/>
<text text-anchor="middle" x="51.5589" y="-204.8" font-family="Arial" font-size="14.00" fill="#000000">a</text>
</g>
<!-- oar -->
<g id="node3" class="node">
<title>oar</title>
<polygon fill="none" stroke="#a8a8a8" points="148.1178,-239 148.1178,-287 436.1178,-287 436.1178,-239 148.1178,-239"/>
<text text-anchor="start" x="238.8303" y="-258.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">ArticuloRebajado</text>
<polygon fill="none" stroke="#000000" points="164.1178,-195 164.1178,-223 420.1178,-223 420.1178,-195 164.1178,-195"/>
<text text-anchor="start" x="243.4951" y="-204.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;a : Articulo &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="169.1178" y="-177.4" font-family="Arial" font-size="14.00" fill="#000000">nombre = &quot;Polo Fred Perry&quot; &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="169.1178" y="-151.4" font-family="Arial" font-size="14.00" fill="#000000">precio = 70.00 &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="164.1178,-115 164.1178,-143 420.1178,-143 420.1178,-115 164.1178,-115"/>
<text text-anchor="start" x="170.1178" y="-125.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="185.6802" y="-125.4" font-family="Arial" font-size="14.00" fill="#ee1289"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="201.2426" y="-125.4" font-family="Arial" font-style="italic" font-size="14.00" fill="#ee1289">GetPrecio() : double &#x2192; 70 &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="377.0686" y="-125.4" font-family="Arial" font-size="14.00" fill="#ee1289"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="392.631" y="-125.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="163.1178,-114 163.1178,-224 421.1178,-224 421.1178,-114 163.1178,-114"/>
<text text-anchor="start" x="163.1178" y="-71.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#a8a8a8" points="148.1178,-5 148.1178,-53 436.1178,-53 436.1178,-5 148.1178,-5"/>
<text text-anchor="start" x="163.9611" y="-25.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="179.5235" y="-25.4" font-family="Arial" font-size="14.00" fill="#ee1289"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="195.0859" y="-25.4" font-family="Arial" font-weight="bold" font-size="14.00" fill="#ee1289">^GetPrecio() : double &#x2192; 59,5 &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="389.1497" y="-25.4" font-family="Arial" font-size="14.00" fill="#ee1289"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="404.7121" y="-25.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#a8a8a8" points="147.1178,-4 147.1178,-288 437.1178,-288 437.1178,-4 147.1178,-4"/>
</g>
<!-- a&#45;&gt;oar -->
<g id="edge1" class="edge">
<title>a-&gt;oar:a</title>
<path fill="none" stroke="#000000" d="M78.8527,-209C99.0653,-209 127.5798,-209 154.081,-209"/>
<polygon fill="#000000" stroke="#000000" points="154.1178,-212.5001 164.1178,-209 154.1178,-205.5001 154.1178,-212.5001"/>
</g>
<!-- ma -->
<g id="node2" class="node">
<title>ma</title>
<text text-anchor="middle" x="51.5589" y="-138.8" font-family="Arial" font-size="14.00" fill="#ee1289">a.GetPrecio();</text>
</g>
<!-- ma&#45;&gt;oar -->
<g id="edge2" class="edge">
<title>ma:e-&gt;oar:nw</title>
<path fill="none" stroke="#ee1289" d="M103.1178,-143C126.2046,-143 140.3048,-156.9016 155.8201,-149.1906"/>
<polygon fill="#ee1289" stroke="#ee1289" points="158.1956,-151.7851 164.1178,-143 154.0097,-146.1745 158.1956,-151.7851"/>
</g>
<!-- oar&#45;&gt;oar -->
<g id="edge3" class="edge">
<title>oar:virtual-&gt;oar:override</title>
<path fill="none" stroke="#ee1289" d="M163.9791,-132.6194C89.105,-129.4857 19.1178,-115.5869 19.1178,-79 19.1178,-46.7868 73.3722,-32.1616 137.4477,-26.9864"/>
<polygon fill="#ee1289" stroke="#ee1289" points="138.088,-30.4492 147.8089,-26.2357 137.5821,-23.4675 138.088,-30.4492"/>
</g>
</g>
</svg>
</p><h5 class="mume-header" id="ejemplo-de-uso-del-enlace-din%C3%A1mico">Ejemplo de uso del Enlace Din&#xE1;mico</h5>

<p>Veamos un ejemplo m&#xE1;s elaborado a trav&#xE9;s de otro ejemplo en e que vamos a ampliar nuestra jerarqu&#xED;a de art&#xED;culos.</p>
<p>Supungamos que nos piden hacer una concreci&#xF3;n m&#xE1;s de art&#xED;culos para aquellos que est&#xE1;n en exposici&#xF3;n. Nos comentan que <strong>los art&#xED;culos en exposici&#xF3;n siempre tienen alg&#xFA;n tipo de rebaja</strong>. Por lo tanto podemos decir que <strong>un art&#xED;culo en exposici&#xF3;n - <em>es un</em> - art&#xED;culo rebajado</strong>.<br>
Adem&#xE1;s, se nos especifica que el porcentaje de rebaja coincidir&#xE1; con los d&#xED;as que el art&#xED;culo est&#xE9; en exposici&#xF3;n siendo un m&#xED;nimo de un 1% y un m&#xE1;ximo de 75% de su valor. De esta manera si un art&#xED;culo lleva 20 d&#xED;as en exposici&#xF3;n su descuento ser&#xE1; del 20% pero si lleva 100 d&#xED;as su descuento ser&#xE1; del 75%.<br>
De lo expuesto, al crear un art&#xED;culo en exposici&#xF3;n, nos interesar&#xE1; saber la fecha en que se inici&#xF3; la misma.</p>
<p>Una posible modelaci&#xF3;n del diagrama de clases para implementaci&#xF3;n UML siguiendo nuestro convenio de nomenclatura ser&#xED;a...</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="418.0995px" preserveAspectRatio="none" style="width:511px;height:418px;" version="1.1" viewBox="0 0 511 418" width="511.3122px" zoomAndPan="magnify"><defs><filter height="300%" id="f1k6u0p7rnomw1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.8099547511312217"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.6199095022624435" dy="3.6199095022624435" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[6a1e8c298c85852c3878b8bc4320a243]
class ArticuloReacondicionado--><rect fill="#FFFAFA" filter="url(#f1k6u0p7rnomw1)" height="28.9593" id="ArticuloReacondicionado" style="stroke:#000000;stroke-width:1.3574660633484164;" width="152.9412" x="6.3348" y="181.448"/><ellipse cx="19.9095" cy="195.9276" fill="#ADD1B2" rx="9.9548" ry="9.9548" style="stroke:#000000;stroke-width:0.9049773755656109;"/><path d="M22.4123,192.1946 Q22.5537,191.9966 22.7234,191.8976 Q22.8931,191.7986 23.0911,191.7986 Q23.4304,191.7986 23.6425,192.039 Q23.8546,192.2653 23.8546,192.8167 L23.8546,194.1318 Q23.8546,194.6833 23.6425,194.9236 Q23.4304,195.164 23.0911,195.164 Q22.78,195.164 22.5962,194.9802 Q22.4123,194.8105 22.3133,194.3439 Q22.2709,194.0187 22.1012,193.849 Q21.8043,193.5096 21.2528,193.3117 Q20.7014,193.1137 20.1357,193.1137 Q19.4429,193.1137 18.8631,193.4106 Q18.2975,193.7076 17.845,194.3863 Q17.4067,195.065 17.4067,195.9983 L17.4067,196.9881 Q17.4067,198.1052 18.2127,198.8546 Q19.0187,199.5899 20.461,199.5899 Q21.3094,199.5899 21.9033,199.3637 Q22.2568,199.2223 22.6386,198.8264 Q22.879,198.586 23.0062,198.5153 Q23.1476,198.4446 23.3314,198.4446 Q23.6284,198.4446 23.8546,198.685 Q24.095,198.9112 24.095,199.2223 Q24.095,199.5334 23.7839,199.901 Q23.3314,200.4242 22.6103,200.7212 Q21.6346,201.1312 20.461,201.1312 Q19.0894,201.1312 18.0006,200.5656 Q17.1097,200.1131 16.4876,199.1516 Q15.8654,198.1759 15.8654,197.0164 L15.8654,195.97 Q15.8654,194.7681 16.4169,193.7359 Q16.9825,192.6895 17.9723,192.138 Q18.9621,191.5724 20.0792,191.5724 Q20.7438,191.5724 21.3235,191.7279 Q21.9174,191.8693 22.4123,192.1946 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="10.8597" lengthAdjust="spacingAndGlyphs" textLength="123.9819" x="32.5792" y="200.3712">ArticuloReacondicionado</text><!--MD5=[60dbf6945f26d51d7ef11e92d44c812f]
class Articulo--><rect codeline="14" fill="#FFFAFA" filter="url(#f1k6u0p7rnomw1)" height="86.2839" id="Articulo" style="stroke:#000000;stroke-width:1.3574660633484164;" width="160.181" x="110.4072" y="6.3348"/><ellipse cx="168.552" cy="20.8145" fill="#ADD1B2" rx="9.9548" ry="9.9548" style="stroke:#000000;stroke-width:0.9049773755656109;"/><path d="M171.0549,17.0814 Q171.1963,16.8835 171.366,16.7845 Q171.5356,16.6855 171.7336,16.6855 Q172.073,16.6855 172.2851,16.9259 Q172.4972,17.1521 172.4972,17.7036 L172.4972,19.0187 Q172.4972,19.5701 172.2851,19.8105 Q172.073,20.0509 171.7336,20.0509 Q171.4225,20.0509 171.2387,19.8671 Q171.0549,19.6974 170.9559,19.2308 Q170.9135,18.9055 170.7438,18.7359 Q170.4468,18.3965 169.8954,18.1985 Q169.3439,18.0006 168.7783,18.0006 Q168.0854,18.0006 167.5057,18.2975 Q166.94,18.5945 166.4876,19.2732 Q166.0492,19.9519 166.0492,20.8852 L166.0492,21.875 Q166.0492,22.9921 166.8552,23.7415 Q167.6612,24.4768 169.1035,24.4768 Q169.9519,24.4768 170.5458,24.2506 Q170.8993,24.1092 171.2811,23.7132 Q171.5215,23.4729 171.6488,23.4021 Q171.7902,23.3314 171.974,23.3314 Q172.2709,23.3314 172.4972,23.5718 Q172.7376,23.7981 172.7376,24.1092 Q172.7376,24.4202 172.4265,24.7879 Q171.974,25.3111 171.2528,25.608 Q170.2771,26.0181 169.1035,26.0181 Q167.7319,26.0181 166.6431,25.4525 Q165.7523,25 165.1301,24.0385 Q164.5079,23.0628 164.5079,21.9033 L164.5079,20.8569 Q164.5079,19.655 165.0594,18.6227 Q165.625,17.5764 166.6148,17.0249 Q167.6046,16.4593 168.7217,16.4593 Q169.3863,16.4593 169.9661,16.6148 Q170.56,16.7562 171.0549,17.0814 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="10.8597" lengthAdjust="spacingAndGlyphs" textLength="36.1991" x="187.1041" y="25.2581">Articulo</text><line style="stroke:#000000;stroke-width:1.3574660633484164;" x1="111.3122" x2="269.6833" y1="35.2941" y2="35.2941"/><text fill="#000000" font-family="sans-serif" font-size="9.9548" lengthAdjust="spacingAndGlyphs" textLength="54.2986" x="115.8371" y="49.2479">+Articulo(...)</text><text fill="#000000" font-family="sans-serif" font-size="9.9548" lengthAdjust="spacingAndGlyphs" textLength="94.1176" x="115.8371" y="61.7691">#GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.9548" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="149.3213" x="115.8371" y="74.2903">+GetPrecio() : double {virtual}</text><text fill="#000000" font-family="sans-serif" font-size="9.9548" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127.6018" x="115.8371" y="86.8115">+ATexto() : string {virtual}</text><!--MD5=[2f7aa29e6ed06458ec3a8577fe477f93]
class ArticuloRebajado--><rect codeline="22" fill="#FFFAFA" filter="url(#f1k6u0p7rnomw1)" height="98.8051" id="ArticuloRebajado" style="stroke:#000000;stroke-width:1.3574660633484164;" width="214.4796" x="190.9502" y="146.6063"/><ellipse cx="251.81" cy="161.086" fill="#ADD1B2" rx="9.9548" ry="9.9548" style="stroke:#000000;stroke-width:0.9049773755656109;"/><path d="M254.3128,157.3529 Q254.4542,157.155 254.6239,157.056 Q254.7936,156.957 254.9915,156.957 Q255.3309,156.957 255.543,157.1974 Q255.7551,157.4236 255.7551,157.9751 L255.7551,159.2902 Q255.7551,159.8416 255.543,160.082 Q255.3309,160.3224 254.9915,160.3224 Q254.6804,160.3224 254.4966,160.1386 Q254.3128,159.9689 254.2138,159.5023 Q254.1714,159.177 254.0017,159.0074 Q253.7048,158.668 253.1533,158.47 Q252.6018,158.2721 252.0362,158.2721 Q251.3433,158.2721 250.7636,158.569 Q250.198,158.866 249.7455,159.5447 Q249.3071,160.2234 249.3071,161.1567 L249.3071,162.1465 Q249.3071,163.2636 250.1131,164.013 Q250.9191,164.7483 252.3614,164.7483 Q253.2098,164.7483 253.8037,164.5221 Q254.1572,164.3807 254.539,163.9847 Q254.7794,163.7443 254.9067,163.6736 Q255.0481,163.6029 255.2319,163.6029 Q255.5288,163.6029 255.7551,163.8433 Q255.9955,164.0696 255.9955,164.3807 Q255.9955,164.6917 255.6844,165.0594 Q255.2319,165.5826 254.5107,165.8795 Q253.5351,166.2896 252.3614,166.2896 Q250.9898,166.2896 249.901,165.724 Q249.0102,165.2715 248.388,164.31 Q247.7658,163.3343 247.7658,162.1748 L247.7658,161.1284 Q247.7658,159.9265 248.3173,158.8942 Q248.8829,157.8479 249.8727,157.2964 Q250.8626,156.7308 251.9796,156.7308 Q252.6442,156.7308 253.224,156.8863 Q253.8179,157.0277 254.3128,157.3529 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="10.8597" lengthAdjust="spacingAndGlyphs" textLength="85.0679" x="270.362" y="165.5296">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:1.3574660633484164;" x1="191.8552" x2="404.5249" y1="175.5656" y2="175.5656"/><text fill="#000000" font-family="sans-serif" font-size="9.9548" lengthAdjust="spacingAndGlyphs" textLength="95.0226" x="196.3801" y="189.5194">+ArticuloRebajado(...)</text><text fill="#000000" font-family="sans-serif" font-size="9.9548" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="203.6199" x="196.3801" y="202.0406">#GetPorcentajeRebaja() : ushort {virtual}</text><text fill="#000000" font-family="sans-serif" font-size="9.9548" lengthAdjust="spacingAndGlyphs" textLength="110.4072" x="196.3801" y="214.5618">-GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="9.9548" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="109.5023" x="196.3801" y="227.083">^+GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="9.9548" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91.4027" x="196.3801" y="239.6042">^+ATexto() : string</text><!--MD5=[3059a5bdb040e06d11e05e5c7f6462d7]
class ArticuloEnExposicion--><rect codeline="31" fill="#FFFAFA" filter="url(#f1k6u0p7rnomw1)" height="106.045" id="ArticuloEnExposicion" style="stroke:#000000;stroke-width:1.3574660633484164;" width="401.81" x="97.2851" y="299.5475"/><ellipse cx="242.3077" cy="314.0271" fill="#ADD1B2" rx="9.9548" ry="9.9548" style="stroke:#000000;stroke-width:0.9049773755656109;"/><path d="M244.8105,310.2941 Q244.9519,310.0962 245.1216,309.9972 Q245.2913,309.8982 245.4893,309.8982 Q245.8286,309.8982 246.0407,310.1386 Q246.2528,310.3648 246.2528,310.9163 L246.2528,312.2313 Q246.2528,312.7828 246.0407,313.0232 Q245.8286,313.2636 245.4893,313.2636 Q245.1782,313.2636 244.9943,313.0798 Q244.8105,312.9101 244.7115,312.4434 Q244.6691,312.1182 244.4994,311.9485 Q244.2025,311.6092 243.651,311.4112 Q243.0995,311.2132 242.5339,311.2132 Q241.8411,311.2132 241.2613,311.5102 Q240.6957,311.8071 240.2432,312.4859 Q239.8049,313.1646 239.8049,314.0979 L239.8049,315.0877 Q239.8049,316.2048 240.6109,316.9542 Q241.4169,317.6895 242.8592,317.6895 Q243.7076,317.6895 244.3015,317.4632 Q244.655,317.3218 245.0368,316.9259 Q245.2771,316.6855 245.4044,316.6148 Q245.5458,316.5441 245.7296,316.5441 Q246.0266,316.5441 246.2528,316.7845 Q246.4932,317.0107 246.4932,317.3218 Q246.4932,317.6329 246.1821,318.0006 Q245.7296,318.5238 245.0085,318.8207 Q244.0328,319.2308 242.8592,319.2308 Q241.4876,319.2308 240.3988,318.6652 Q239.5079,318.2127 238.8857,317.2511 Q238.2636,316.2755 238.2636,315.116 L238.2636,314.0696 Q238.2636,312.8676 238.815,311.8354 Q239.3807,310.789 240.3705,310.2376 Q241.3603,309.6719 242.4774,309.6719 Q243.142,309.6719 243.7217,309.8275 Q244.3156,309.9689 244.8105,310.2941 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="10.8597" lengthAdjust="spacingAndGlyphs" textLength="104.0724" x="260.8597" y="318.4707">ArticuloEnExposicion</text><line style="stroke:#000000;stroke-width:1.3574660633484164;" x1="98.19" x2="498.19" y1="328.5068" y2="328.5068"/><text fill="#000000" font-family="sans-serif" font-size="9.9548" lengthAdjust="spacingAndGlyphs" textLength="170.1357" x="102.7149" y="342.4606">-inicioExposicion : DateTime {readOnly}</text><line style="stroke:#000000;stroke-width:1.3574660633484164;" x1="98.19" x2="498.19" y1="348.2678" y2="348.2678"/><text fill="#000000" font-family="sans-serif" font-size="9.9548" lengthAdjust="spacingAndGlyphs" textLength="390.9502" x="102.7149" y="362.2216">+ArticuloEnExposicion(in nombre : string, in precio : double, in inicioExposicion : DateTime)</text><text fill="#000000" font-family="sans-serif" font-size="9.9548" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="162.8959" x="102.7149" y="374.7428">^#GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="9.9548" lengthAdjust="spacingAndGlyphs" textLength="123.0769" x="102.7149" y="387.264">+GetDiasEnExposicion() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.9548" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91.4027" x="102.7149" y="399.7852">^+ATexto() : string</text><!--MD5=[4c5e07181522a81d7ce4ca381a4c3897]
reverse link Articulo to ArticuloRebajado--><path codeline="41" d="M232.9683,107.3213 C242.6244,120.3167 252.7964,133.991 262.1629,146.5792 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:0.9049773755656109;"/><polygon fill="none" points="227.6561,110.7964,221.9367,92.4977,237.819,103.2398,227.6561,110.7964" style="stroke:#000000;stroke-width:0.9049773755656109;"/><!--MD5=[dcfe97591e768dc4c3876e4be3e91787]
reverse link ArticuloRebajado to ArticuloEnExposicion--><path codeline="42" d="M298.19,263.7195 C298.19,275.6833 298.19,287.991 298.19,299.4661 " fill="none" id="ArticuloRebajado-backto-ArticuloEnExposicion" style="stroke:#000000;stroke-width:0.9049773755656109;"/><polygon fill="none" points="291.8552,263.4751,298.19,245.3756,304.5249,263.4751,291.8552,263.4751" style="stroke:#000000;stroke-width:0.9049773755656109;"/><!--MD5=[5ead35dfedb79aa276df792dc2cba33a]
reverse link Articulo to ArticuloReacondicionado--><path codeline="43" d="M148.1991,107.095 C128.0995,134.1267 105.7466,164.181 93.0679,181.2217 " fill="none" id="Articulo-backto-ArticuloReacondicionado" style="stroke:#000000;stroke-width:0.9049773755656109;"/><polygon fill="none" points="143.1765,103.2398,159.0588,92.4977,153.3394,110.7964,143.1765,103.2398" style="stroke:#000000;stroke-width:0.9049773755656109;"/><!--MD5=[0b68d3994a45dc09e1d088cd5393c27b]
@startuml

scale 500 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide ArticuloReacondicionado attributes
hide ArticuloReacondicionado Methods
hide Articulo attributes
hide ArticuloRebajado attributes

class Articulo
{
    + Articulo(...)
    # GetNombre() : string
    **{abstract} +GetPrecio() : double {virtual}**
    **{abstract} +ATexto() : string {virtual}**
}

class ArticuloRebajado
{
    +ArticuloRebajado(...)
    **{abstract} #GetPorcentajeRebaja() : ushort {virtual}**
    -GetDescuento() : double
    **^+GetPrecio() : double**
    **^+ATexto() : string**
}

class ArticuloEnExposicion
{
    - inicioExposicion : DateTime {readOnly}

    +ArticuloEnExposicion(in nombre : string, in precio : double, in inicioExposicion : DateTime)
    **^#GetPorcentajeRebaja() : ushort**
    +GetDiasEnExposicion() : int
    **^+ATexto() : string**
}

Articulo ^- - ArticuloRebajado
ArticuloRebajado ^- - ArticuloEnExposicion
Articulo ^- - ArticuloReacondicionado

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><div style="page-break-after:always;"></div>
<p>Vamos a realizar una propuesta de implementaci&#xF3;n, comentada, de la especificaci&#xF3;n anterior.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[7,25,30]}" class="language-csharp" data-line="7,25,30"><span class="token keyword">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... &lt;C&#xF3;digo omitido para abreviar&gt;</span>

    <span class="token comment">// Modificamos la accesibilidad a protected porque a los m&#xE9;todos privados no se les </span>
    <span class="token comment">// puede aplicar el modificador virtual.</span>
    <span class="token keyword">protected</span> <span class="token keyword">virtual</span> <span class="token return-type class-name"><span class="token keyword">ushort</span></span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> porcentajeRebaja<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">ArticuloEnExposicion</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ArticuloRebajado</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">DateTime</span> inicioExposicion<span class="token punctuation">;</span>

    <span class="token comment">// En un principio el descuento es 0 y lo calculeramos din&#xE1;micamente.</span>
    <span class="token keyword">public</span> <span class="token function">ArticuloEnExposicion</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> nombre<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token class-name"><span class="token keyword">double</span></span> precio<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token class-name">DateTime</span> inicioExposicion<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> precio<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>inicioExposicion <span class="token operator">=</span> inicioExposicion<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Invalidamo el porcentaje para calcularlo en funci&#xF3;n de los d&#xED;as en exposici&#xF3;n.</span>
    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">ushort</span></span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Convert<span class="token punctuation">.</span><span class="token function">ToUInt16</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Clamp</span><span class="token punctuation">(</span><span class="token function">GetDiasEnExposicion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Los d&#xED;as en esposici&#xF3;n se calculan en el momento actual, desde el incio de la exposici&#xF3;n.</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">GetDiasEnExposicion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span>Now <span class="token operator">-</span> inicioExposicion<span class="token punctuation">)</span><span class="token punctuation">.</span>Days<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Invalidamo el m&#xE9;todo ATexto() de Articulo y ArticuloRebajado para que a&#xF1;ada la nueva informaci&#xF3;n.</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$&quot;\nEn exposici&#xF3;n desde: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">inicioExposicion<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> total </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetDiasEnExposicion</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> d&#xED;as&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">





<div aria-hidden="true" class="line-highlight" data-range="7" data-start="7">
</div></div><div class="line-highlight-wrapper">























<div aria-hidden="true" class="line-highlight" data-range="25" data-start="25">
</div></div><div class="line-highlight-wrapper">




























<div aria-hidden="true" class="line-highlight" data-range="30" data-start="30">
</div></div></pre><p>Si ahora en el programa principal ejecutamos el siguiente c&#xF3;digo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token comment">// Creamos un ArticuloEnExposicion con fecha de inic&#xED;cio hace 10 d&#xED;as.</span>
<span class="token comment">// Hacemos una sustituci&#xF3;n hacia el tipo m&#xE1;s gen&#xE9;rico Articulo</span>
<span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token constructor-invocation class-name">ArticuloEnExposicion</span><span class="token punctuation">(</span><span class="token string">&quot;TV Samsung OLED 50&apos;&apos;&quot;</span><span class="token punctuation">,</span> <span class="token number">999d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>Moatrar&#xE1; el siguiente c&#xF3;digo...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash">Nombre: TV Samsung OLED <span class="token number">50</span><span class="token string">&apos;&apos;</span>
Rebaja: <span class="token number">10</span>%
Antes: <span class="token number">999,00</span>&#x20AC;
Ahora: <span class="token number">899,10</span>&#x20AC;
En exposici&#xF3;n desde: <span class="token operator">&lt;</span>fecha actual - <span class="token number">10</span> d&#xED;as<span class="token operator">&gt;</span> total <span class="token number">10</span> d&#xED;as
</pre><blockquote>
<p>&#x270B; <strong>Reflexi&#xF3;n:</strong> Si lo meditamos, se et&#xE1;n realizando <strong>dos enlaces o ligarduras din&#xE1;micas</strong> &apos;<mark>&#x2192;</mark>&apos; ...</p>
<ol>
<li><em><code>a.ATexto()</code></em> <mark>&#x2192;</mark> <code>^AritucloRebajado.Atexto()</code> <mark>&#x2192;</mark> <strong><code>^ArticuloEnExposicion.Atexto()</code></strong></li>
<li>Al ejecutar <code>^ArticuloEnExposicion.Atexto()</code> se llamar&#xE1; a <code>base.ATexto()</code> el cual llamar&#xE1; a <code>^AritucloRebajado.GetPrecio()</code> este al no estar invalidado llama a <code>AritucloRebajado.GetDescuento()</code> que a su vez llama a <em><code>AritucloRebajado.GetPorcentajeRebaja()</code></em> <mark>&#x2192;</mark> <strong><code>^ArticuloEnExposicion.GetPorcentajeRebaja()</code></strong> produciedose el segundo enlace.</li>
</ol>
</blockquote>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="utilidad-del-polimorfismo-de-datos-sustituci%C3%B3n-y-el-enlace-din%C3%A1mico">Utilidad del polimorfismo de datos (sustituci&#xF3;n) y el enlace din&#xE1;mico</h4>

<ul>
<li>En ocasiones el software cambia y se a&#xF1;aden nuevas especificaciones, como pudieran ser nuevos tipos de art&#xED;culos en la jerarqu&#xED;a.</li>
<li>Con el polimorfismo de datos, podremos adaptarnos a futuros cambios (Nuevas formas de un objeto), <strong>sin realizar cambios</strong> traum&#xE1;ticos y costosos en nuestros objetos ni en nuestra implementaci&#xF3;n.</li>
</ul>
<p>Veamos esto a trav&#xE9;s de un <strong>ejemplo simplificado</strong>:</p>
<ul>
<li>
<p>Supongamos que queremos modelar una clase <strong><code>TicketCompra</code></strong> que contenga al menos un art&#xED;culo y que me permita a&#xF1;adir art&#xED;culos al mismo.</p>
</li>
<li>
<p>Adem&#xE1;s, vamos a a&#xF1;adir un m&#xE9;todo para mostrar el ticket y otro para calcular el total del mismo.</p>
</li>
<li>
<p>Un posible dise&#xF1;o simplificado para expresar esto podr&#xED;a ser ...</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="181.5789px" preserveAspectRatio="none" style="width:517px;height:181px;" version="1.1" viewBox="0 0 517 181" width="517.1053px" zoomAndPan="magnify"><defs><filter height="300%" id="f1lmf844ks0s1i" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.6315789473684212"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.2631578947368425" dy="5.2631578947368425" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[60dbf6945f26d51d7ef11e92d44c812f]
class Articulo--><rect fill="#FFFAFA" filter="url(#f1lmf844ks0s1i)" height="42.1053" id="Articulo" style="stroke:#000000;stroke-width:1.973684210526316;" width="94.7368" x="403.9474" y="65.1316"/><ellipse cx="423.6842" cy="86.1842" fill="#ADD1B2" rx="14.4737" ry="14.4737" style="stroke:#000000;stroke-width:1.3157894736842106;"/><path d="M427.3232,80.7566 Q427.5288,80.4688 427.7755,80.3248 Q428.0222,80.1809 428.31,80.1809 Q428.8035,80.1809 429.1118,80.5304 Q429.4202,80.8594 429.4202,81.6612 L429.4202,83.5732 Q429.4202,84.375 429.1118,84.7245 Q428.8035,85.074 428.31,85.074 Q427.8577,85.074 427.5905,84.8067 Q427.3232,84.56 427.1793,83.8816 Q427.1176,83.4087 426.8709,83.162 Q426.4391,82.6686 425.6373,82.3808 Q424.8355,82.0929 424.0132,82.0929 Q423.0058,82.0929 422.1628,82.5247 Q421.3405,82.9564 420.6826,83.9433 Q420.0452,84.9301 420.0452,86.287 L420.0452,87.7262 Q420.0452,89.3503 421.2171,90.44 Q422.389,91.509 424.486,91.509 Q425.7196,91.509 426.5831,91.1801 Q427.097,90.9745 427.6521,90.3988 Q428.0016,90.0493 428.1867,89.9465 Q428.3923,89.8438 428.6595,89.8438 Q429.0913,89.8438 429.4202,90.1933 Q429.7697,90.5222 429.7697,90.9745 Q429.7697,91.4268 429.3174,91.9613 Q428.6595,92.722 427.611,93.1538 Q426.1924,93.75 424.486,93.75 Q422.4918,93.75 420.9087,92.9276 Q419.6135,92.2697 418.7089,90.8717 Q417.8043,89.4531 417.8043,87.7673 L417.8043,86.2459 Q417.8043,84.4984 418.6061,82.9975 Q419.4285,81.4762 420.8676,80.6743 Q422.3067,79.852 423.9309,79.852 Q424.8972,79.852 425.7401,80.0781 Q426.6036,80.2837 427.3232,80.7566 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="15.7895" lengthAdjust="spacingAndGlyphs" textLength="52.6316" x="442.1053" y="92.6449">Articulo</text><!--MD5=[1ad5f374424b1448c89e4f5afd36d1f3]
class TicketCompra--><rect codeline="12" fill="#FFFAFA" filter="url(#f1lmf844ks0s1i)" height="154.1838" id="TicketCompra" style="stroke:#000000;stroke-width:1.973684210526316;" width="248.6842" x="9.2105" y="9.2105"/><ellipse cx="77.3026" cy="30.2632" fill="#ADD1B2" rx="14.4737" ry="14.4737" style="stroke:#000000;stroke-width:1.3157894736842106;"/><path d="M80.9416,24.8355 Q81.1472,24.5477 81.3939,24.4038 Q81.6406,24.2599 81.9285,24.2599 Q82.4219,24.2599 82.7303,24.6094 Q83.0387,24.9383 83.0387,25.7401 L83.0387,27.6521 Q83.0387,28.4539 82.7303,28.8035 Q82.4219,29.153 81.9285,29.153 Q81.4762,29.153 81.2089,28.8857 Q80.9416,28.639 80.7977,27.9605 Q80.736,27.4877 80.4893,27.241 Q80.0576,26.7475 79.2558,26.4597 Q78.4539,26.1719 77.6316,26.1719 Q76.6242,26.1719 75.7813,26.6036 Q74.9589,27.0354 74.301,28.0222 Q73.6637,29.009 73.6637,30.366 L73.6637,31.8051 Q73.6637,33.4293 74.8355,34.5189 Q76.0074,35.588 78.1044,35.588 Q79.338,35.588 80.2015,35.259 Q80.7155,35.0535 81.2706,34.4778 Q81.6201,34.1283 81.8051,34.0255 Q82.0107,33.9227 82.278,33.9227 Q82.7097,33.9227 83.0387,34.2722 Q83.3882,34.6012 83.3882,35.0535 Q83.3882,35.5058 82.9359,36.0403 Q82.278,36.801 81.2294,37.2327 Q79.8109,37.8289 78.1044,37.8289 Q76.1102,37.8289 74.5271,37.0066 Q73.2319,36.3487 72.3273,34.9507 Q71.4227,33.5321 71.4227,31.8462 L71.4227,30.3248 Q71.4227,28.5773 72.2245,27.0765 Q73.0469,25.5551 74.486,24.7533 Q75.9252,23.9309 77.5493,23.9309 Q78.5156,23.9309 79.3586,24.1571 Q80.222,24.3627 80.9416,24.8355 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="15.7895" lengthAdjust="spacingAndGlyphs" textLength="101.3158" x="104.2763" y="36.7239">TicketCompra</text><line style="stroke:#000000;stroke-width:1.973684210526316;" x1="10.5263" x2="256.5789" y1="51.3158" y2="51.3158"/><text fill="#000000" font-family="sans-serif" font-size="14.4737" lengthAdjust="spacingAndGlyphs" textLength="148.6842" x="17.1053" y="71.6039">-articulos : Articulo[1..*]</text><line style="stroke:#000000;stroke-width:1.973684210526316;" x1="10.5263" x2="256.5789" y1="80.0473" y2="80.0473"/><text fill="#000000" font-family="sans-serif" font-size="14.4737" lengthAdjust="spacingAndGlyphs" textLength="186.8421" x="17.1053" y="100.3354">+TicketCompra(in a : Articulo)</text><text fill="#000000" font-family="sans-serif" font-size="14.4737" lengthAdjust="spacingAndGlyphs" textLength="125" x="17.1053" y="118.5406">+GetTotal() : double</text><text fill="#000000" font-family="sans-serif" font-size="14.4737" lengthAdjust="spacingAndGlyphs" textLength="232.8947" x="17.1053" y="136.7457">+A&#xF1;ade(in a : Articulo):TicketCompra</text><text fill="#000000" font-family="sans-serif" font-size="14.4737" lengthAdjust="spacingAndGlyphs" textLength="111.8421" x="17.1053" y="154.9509">+ATexto() : string</text><!--MD5=[e2343c3f47b914dca043e7e6f9208e48]
reverse link TicketCompra to Articulo--><path codeline="22" d="M275.5921,86.1842 C321.6579,86.1842 369.6579,86.1842 403.6184,86.1842 " fill="none" id="TicketCompra-backto-Articulo" style="stroke:#000000;stroke-width:1.3157894736842106;"/><polygon fill="#FFFFFF" points="258.0658,86.1842,265.9605,91.4474,273.8553,86.1842,265.9605,80.9211,258.0658,86.1842" style="stroke:#000000;stroke-width:1.3157894736842106;"/><text fill="#000000" font-family="sans-serif" font-size="17.1053" lengthAdjust="spacingAndGlyphs" textLength="64.4737" x="298.6842" y="81.5725">contiene</text><text fill="#000000" font-family="sans-serif" font-size="17.1053" lengthAdjust="spacingAndGlyphs" textLength="26.3158" x="367.2235" y="105.7227">1..*</text><!--MD5=[f9bb2b1b5c9a461d0165d4d87a14fe6c]
@startuml
left to right direction
scale 500 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide Articulo methods
hide Articulo attributes

class TicketCompra
{
    -articulos : Articulo[1..*]

    +TicketCompra(in a : Articulo)
    +GetTotal() : double
    +Añade(in a : Articulo):TicketCompra
    +ATexto() : string
}

TicketCompra o- - "1..*" Articulo : contiene

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p></li>
<li>
<p>Una posible implementaci&#xF3;n de la clase <strong><code>TicketCompra</code></strong> podr&#xED;a ser:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">TicketCompra</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Articulo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> articulos<span class="token punctuation">;</span>

    <span class="token comment">// Me aseguro de que un ticket al menos tenga un art&#xED;culo.</span>
    <span class="token keyword">public</span> <span class="token function">TicketCompra</span><span class="token punctuation">(</span><span class="token class-name">Articulo</span> a<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        articulos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Articulo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span> a <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">GetTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">double</span></span> total <span class="token operator">=</span> <span class="token number">0d</span><span class="token punctuation">;</span>
        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Articulo</span> a <span class="token keyword">in</span> articulos<span class="token punctuation">)</span>
            total <span class="token operator">+=</span> a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> total<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Fluent interface pattern para a&#xF1;adir art&#xED;culoa a mi ticket</span>
    <span class="token keyword">public</span> TicketCompra A&#xF1;<span class="token function">ade</span><span class="token punctuation">(</span><span class="token class-name">Articulo</span> a<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Array<span class="token punctuation">.</span><span class="token function">Resize</span><span class="token punctuation">(</span><span class="token keyword">ref</span> articulos<span class="token punctuation">,</span> articulos<span class="token punctuation">.</span>Length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        articulos<span class="token punctuation">[</span>articulos<span class="token punctuation">.</span>Length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> ticket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Articulo</span> a <span class="token keyword">in</span> articulos<span class="token punctuation">)</span>
            ticket<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">a<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">22</span></span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">&#x20AC;\n&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ticket<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token string">&quot;Total:&quot;</span><span class="token punctuation">,</span><span class="token number">22</span></span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">&#x20AC;\n&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> ticket<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>Si implementamos el siguiente programa principal de test...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">TicketCompra</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">TicketCompra</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Airpods Apple&quot;</span><span class="token punctuation">,</span> <span class="token number">100d</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t<span class="token punctuation">.</span>A&#xF1;<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloEnExposicion</span><span class="token punctuation">(</span><span class="token string">&quot;TV Samsung OLED 50&apos;&apos;&quot;</span><span class="token punctuation">,</span> <span class="token number">999d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
     <span class="token punctuation">.</span>A&#xF1;<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Honor Band 4&quot;</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
     <span class="token punctuation">.</span>A&#xF1;<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">&quot;Samsung s10&quot;</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span>  DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;TechnoBalmis&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cambio de  bater&#xED;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></li>
</ul>
<div style="page-break-after:always;"></div>
<ul>
<li>
<p>Obtendemos una salida del tipo...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash">Airpods Apple              <span class="token number">100,00</span>&#x20AC;
TV Samsung OLED <span class="token number">50</span><span class="token string">&apos;&apos;</span>       <span class="token number">899,10</span>&#x20AC;
Honor Band <span class="token number">4</span>                <span class="token number">29,75</span>&#x20AC;
Samsung s10                <span class="token number">300,00</span>&#x20AC;
                Total:    <span class="token number">1328,85</span>&#x20AC;
</pre><p>Si nos fijamos aunque el ticket solo maneje art&#xED;culos gen&#xE9;ricos, ha sabido calcular correctamente a trav&#xE9;s del enlace din&#xE1;mico el precio de cada uno de los art&#xED;culos y el total.</p>
</li>
<li>
<p>Si ahora a&#xF1;adi&#xE9;semos otro tipo de art&#xED;culo como por ejemplo <strong>art&#xED;culos defectuosos</strong>, que funcionan bien y no han sido reacondicionados, pero tienen alg&#xFA;n defecto menor, como una rozadura, pixel muerto, etc. y por tanto se les aplica una rebaja, pero tambi&#xE9;n nos interesa guardar informaci&#xF3;n del defecto.</p>
</li>
<li>
<p>A la hora de modelizar podemos decir que <strong>un art&#xED;culo defectuoso - <em>es un</em> - art&#xED;culo rebajado</strong> y modelizarlo de la siguiente manera.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="212.6582px" preserveAspectRatio="none" style="width:712px;height:212px;" version="1.1" viewBox="0 0 712 212" width="712.7989px" zoomAndPan="magnify"><defs><filter height="300%" id="f7bktmy70e16k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.969057665260197"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.938115330520394" dy="3.938115330520394" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[2f7aa29e6ed06458ec3a8577fe477f93]
class ArticuloRebajado--><rect fill="#FFFAFA" filter="url(#f7bktmy70e16k)" height="31.5049" id="ArticuloRebajado" style="stroke:#000000;stroke-width:1.4767932489451479;" width="124.0506" x="198.3826" y="6.8917"/><ellipse cx="213.1505" cy="22.6442" fill="#ADD1B2" rx="10.8298" ry="10.8298" style="stroke:#000000;stroke-width:0.9845288326300985;"/><path d="M215.8733,18.583 Q216.0272,18.3676 216.2118,18.2599 Q216.3964,18.1523 216.6117,18.1523 Q216.9809,18.1523 217.2117,18.4138 Q217.4424,18.6599 217.4424,19.2598 L217.4424,20.6905 Q217.4424,21.2904 217.2117,21.552 Q216.9809,21.8135 216.6117,21.8135 Q216.2733,21.8135 216.0733,21.6135 Q215.8733,21.4289 215.7656,20.9212 Q215.7195,20.5674 215.5349,20.3828 Q215.2118,20.0136 214.6119,19.7983 Q214.012,19.5829 213.3966,19.5829 Q212.6428,19.5829 212.0121,19.9059 Q211.3968,20.229 210.9045,20.9674 Q210.4277,21.7058 210.4277,22.7211 L210.4277,23.7979 Q210.4277,25.0132 211.3045,25.8285 Q212.1813,26.6284 213.7504,26.6284 Q214.6734,26.6284 215.3195,26.3823 Q215.7041,26.2285 216.1195,25.7977 Q216.381,25.5362 216.5194,25.4593 Q216.6733,25.3824 216.8732,25.3824 Q217.1963,25.3824 217.4424,25.6439 Q217.7039,25.89 217.7039,26.2285 Q217.7039,26.5669 217.3655,26.9669 Q216.8732,27.536 216.0887,27.8591 Q215.0273,28.3052 213.7504,28.3052 Q212.2583,28.3052 211.0738,27.6899 Q210.1046,27.1976 209.4277,26.1515 Q208.7509,25.0901 208.7509,23.8287 L208.7509,22.6903 Q208.7509,21.3827 209.3508,20.2598 Q209.9662,19.1214 211.043,18.5214 Q212.1198,17.9061 213.3351,17.9061 Q214.0581,17.9061 214.6888,18.0753 Q215.3349,18.2292 215.8733,18.583 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11.8143" lengthAdjust="spacingAndGlyphs" textLength="92.5457" x="226.9339" y="27.4784">ArticuloRebajado</text><!--MD5=[3059a5bdb040e06d11e05e5c7f6462d7]
class ArticuloEnExposicion--><rect fill="#FFFAFA" filter="url(#f7bktmy70e16k)" height="31.5049" id="ArticuloEnExposicion" style="stroke:#000000;stroke-width:1.4767932489451479;" width="144.7257" x="6.8917" y="132.4191"/><ellipse cx="21.6596" cy="148.1716" fill="#ADD1B2" rx="10.8298" ry="10.8298" style="stroke:#000000;stroke-width:0.9845288326300985;"/><path d="M24.3825,144.1104 Q24.5363,143.895 24.7209,143.7874 Q24.9055,143.6797 25.1209,143.6797 Q25.4901,143.6797 25.7208,143.9412 Q25.9516,144.1873 25.9516,144.7873 L25.9516,146.2179 Q25.9516,146.8179 25.7208,147.0794 Q25.4901,147.3409 25.1209,147.3409 Q24.7824,147.3409 24.5825,147.1409 Q24.3825,146.9563 24.2748,146.4487 Q24.2286,146.0948 24.044,145.9102 Q23.721,145.5411 23.121,145.3257 Q22.5211,145.1103 21.9058,145.1103 Q21.152,145.1103 20.5213,145.4334 Q19.9059,145.7564 19.4137,146.4948 Q18.9368,147.2332 18.9368,148.2485 L18.9368,149.3253 Q18.9368,150.5406 19.8136,151.3559 Q20.6905,152.1559 22.2596,152.1559 Q23.1826,152.1559 23.8287,151.9097 Q24.2133,151.7559 24.6286,151.3252 Q24.8901,151.0636 25.0286,150.9867 Q25.1824,150.9098 25.3824,150.9098 Q25.7054,150.9098 25.9516,151.1713 Q26.2131,151.4175 26.2131,151.7559 Q26.2131,152.0943 25.8746,152.4943 Q25.3824,153.0635 24.5978,153.3865 Q23.5364,153.8326 22.2596,153.8326 Q20.7674,153.8326 19.5829,153.2173 Q18.6137,152.725 17.9369,151.679 Q17.26,150.6175 17.26,149.3561 L17.26,148.2177 Q17.26,146.9102 17.86,145.7872 Q18.4753,144.6488 19.5521,144.0489 Q20.629,143.4335 21.8442,143.4335 Q22.5672,143.4335 23.198,143.6028 Q23.8441,143.7566 24.3825,144.1104 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11.8143" lengthAdjust="spacingAndGlyphs" textLength="113.2208" x="35.443" y="153.0058">ArticuloEnExposicion</text><!--MD5=[0c9e59459fe9af4d2b65d63643252534]
class ArticuloDefectuoso--><rect codeline="14" fill="#FFDEAD" filter="url(#f7bktmy70e16k)" height="101.7449" id="ArticuloDefectuoso" style="stroke:#000000;stroke-width:1.4767932489451479;" width="512.9395" x="186.0759" y="97.4684"/><ellipse cx="387.6582" cy="113.2208" fill="#ADD1B2" rx="10.8298" ry="10.8298" style="stroke:#000000;stroke-width:0.9845288326300985;"/><path d="M390.3811,109.1596 Q390.5349,108.9443 390.7195,108.8366 Q390.9041,108.7289 391.1195,108.7289 Q391.4887,108.7289 391.7194,108.9904 Q391.9502,109.2366 391.9502,109.8365 L391.9502,111.2671 Q391.9502,111.8671 391.7194,112.1286 Q391.4887,112.3901 391.1195,112.3901 Q390.781,112.3901 390.581,112.1901 Q390.3811,112.0055 390.2734,111.4979 Q390.2272,111.1441 390.0426,110.9595 Q389.7196,110.5903 389.1196,110.3749 Q388.5197,110.1595 387.9044,110.1595 Q387.1506,110.1595 386.5199,110.4826 Q385.9045,110.8056 385.4123,111.544 Q384.9354,112.2824 384.9354,113.2977 L384.9354,114.3746 Q384.9354,115.5898 385.8122,116.4052 Q386.6891,117.2051 388.2582,117.2051 Q389.1812,117.2051 389.8273,116.9589 Q390.2118,116.8051 390.6272,116.3744 Q390.8887,116.1129 391.0272,116.036 Q391.181,115.959 391.381,115.959 Q391.704,115.959 391.9502,116.2206 Q392.2117,116.4667 392.2117,116.8051 Q392.2117,117.1435 391.8732,117.5435 Q391.381,118.1127 390.5964,118.4357 Q389.535,118.8819 388.2582,118.8819 Q386.766,118.8819 385.5815,118.2665 Q384.6123,117.7743 383.9355,116.7282 Q383.2586,115.6668 383.2586,114.4053 L383.2586,113.267 Q383.2586,111.9594 383.8586,110.8364 Q384.4739,109.698 385.5507,109.0981 Q386.6275,108.4828 387.8428,108.4828 Q388.5658,108.4828 389.1966,108.652 Q389.8427,108.8058 390.3811,109.1596 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="11.8143" lengthAdjust="spacingAndGlyphs" textLength="101.4065" x="407.8411" y="118.055">ArticuloDefectuoso</text><line style="stroke:#000000;stroke-width:1.4767932489451479;" x1="187.0605" x2="698.0309" y1="128.9733" y2="128.9733"/><text fill="#000000" font-family="sans-serif" font-size="10.8298" lengthAdjust="spacingAndGlyphs" textLength="129.9578" x="191.9831" y="144.1537">-defecto : string {readOnly}</text><line style="stroke:#000000;stroke-width:1.4767932489451479;" x1="187.0605" x2="698.0309" y1="150.4714" y2="150.4714"/><text fill="#000000" font-family="sans-serif" font-size="10.8298" lengthAdjust="spacingAndGlyphs" textLength="501.1252" x="191.9831" y="165.6518">+ArticuloDefectuoso(in nombre : string, in precio : double, in porcentajeRebaja : ushort, in defecto : string)</text><text fill="#000000" font-family="sans-serif" font-size="10.8298" lengthAdjust="spacingAndGlyphs" textLength="103.3755" x="191.9831" y="179.2737">+GetDefecto() : string</text><text fill="#000000" font-family="sans-serif" font-size="10.8298" lengthAdjust="spacingAndGlyphs" textLength="83.685" x="191.9831" y="192.8955">+ATexto() : string</text><!--MD5=[dcfe97591e768dc4c3876e4be3e91787]
reverse link ArticuloRebajado to ArticuloEnExposicion--><path codeline="23" d="M222.0999,49.7581 C185.3474,74.8242 131.1491,111.7932 101.18,132.2321 " fill="none" id="ArticuloRebajado-backto-ArticuloEnExposicion" style="stroke:#000000;stroke-width:0.9845288326300985;"/><polygon fill="none" points="218.4079,43.9297,238.5612,38.5345,226.1758,55.3207,218.4079,43.9297" style="stroke:#000000;stroke-width:0.9845288326300985;"/><!--MD5=[ef03ca039eb75650c6a8eaf22a0c64fc]
reverse link ArticuloRebajado to ArticuloDefectuoso--><path codeline="24" d="M298.7159,49.6104 C319.0759,63.4332 344.8214,80.8889 368.8734,97.2124 " fill="none" id="ArticuloRebajado-backto-ArticuloDefectuoso" style="stroke:#000000;stroke-width:0.9845288326300985;"/><polygon fill="none" points="294.8073,55.2911,282.3826,38.5345,302.5457,43.8805,294.8073,55.2911" style="stroke:#000000;stroke-width:0.9845288326300985;"/><!--MD5=[1d54f0405bbd4ebc91f2cfc54989b3f8]
@startuml
scale 700 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide ArticuloRebajado methods
hide ArticuloRebajado attributes

hide ArticuloEnExposicion methods
hide ArticuloEnExposicion attributes

class ArticuloDefectuoso #navajowhite
{
    -defecto : string {readOnly}

    +ArticuloDefectuoso(in nombre : string, in precio : double, in porcentajeRebaja : ushort, in defecto : string)
    +GetDefecto() : string
    +ATexto() : string
}

ArticuloRebajado ^- - ArticuloEnExposicion
ArticuloRebajado ^- - ArticuloDefectuoso

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p></li>
<li>
<p>Donde una posible implementaci&#xF3;n podr&#xED;a ser ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">ArticuloDefectuoso</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ArticuloRebajado</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name"><span class="token keyword">string</span></span> defecto<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">ArticuloDefectuoso</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> nombre<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token class-name"><span class="token keyword">double</span></span> precio<span class="token punctuation">,</span> 
                                <span class="token keyword">in</span> <span class="token class-name"><span class="token keyword">ushort</span></span> porcentajeRebaja<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> defecto<span class="token punctuation">)</span> 
                                <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> precio<span class="token punctuation">,</span> porcentajeRebaja<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>defecto <span class="token operator">=</span> defecto<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetDefecto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> defecto<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
            <span class="token interpolation-string"><span class="token string">$&quot;\nDefecto: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">defecto</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>&#x270B; <strong>Si ahora a&#xF1;adimos un nuevo art&#xED;culo de este tipo a nuestro ticket.</strong></p>
<pre data-role="codeBlock" data-info="csharp {highlight=7}" class="language-csharp" data-line="7"><span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">TicketCompra</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">TicketCompra</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Airpods Apple&quot;</span><span class="token punctuation">,</span> <span class="token number">100d</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t<span class="token punctuation">.</span>A&#xF1;<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloEnExposicion</span><span class="token punctuation">(</span><span class="token string">&quot;TV Samsung OLED 50&apos;&apos;&quot;</span><span class="token punctuation">,</span> <span class="token number">999d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>A&#xF1;<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Honor Band 4&quot;</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>A&#xF1;<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">&quot;Samsung s10&quot;</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;TechnoBalmis&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cambio de bater&#xED;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>A&#xF1;<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloDefectuoso</span><span class="token punctuation">(</span><span class="token string">&quot;Woffer Bang &amp; Olufsen&quot;</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;Peque&#xF1;o picado en caja.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">





<div aria-hidden="true" class="line-highlight" data-range="7" data-start="7">
</div></div></pre><blockquote>
<p><strong>No tendremos que modificar nuestra clase <code>TicketCompra</code></strong> y esto ser&#xE1; gracias al <strong>polimorfismo de datos</strong>.</p>
</blockquote>
</li>
</ul>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="el-caso-especial-de-la-clase-a-hrefhttpsdocsmicrosoftcomes-esdotnetapisystemobjectviewnetcore-31-target_blankobjecta-en-c">El caso especial de la clase <a href="https://docs.microsoft.com/es-es/dotnet/api/system.object?view=netcore-3.1" target="_blank">object</a> en C#</h4>

<ul>
<li>
<p>La Clase <strong><code>Object</code></strong> definida en <strong><code>System</code></strong>, es una clase especial de la cual heredan de forma <strong>impl&#xED;cita</strong> todos los objetos, tanto valor como refrencia, creados en C#.</p>
</li>
<li>
<p>Por tanto, podemos decir que un objeto de <strong>la clase <code>object</code> puede sustituir a cualquier objeto</strong> definido por nosotros o en las BCL.</p>
</li>
<li>
<p>Historicamente, en los principios de C#, esta clase se utilizaba para tratar objetos de forma gen&#xE9;rica como en colecciones, antes de que el lenguaje implementara la genericidad a trav&#xE9;s de gen&#xE9;ricos o clases parametrizadas, cuyo uso es m&#xE1;s recomendable.</p>
</li>
<li>
<p>Podemos encontrar esta clase en otros lenguajes como Java.</p>
</li>
<li>
<p><strong>Define una serie de m&#xE9;todos invalidables o virtuales que podremos redefinir</strong> en cualquiera de las clases que nosotros creemos. Entre ellos podemos destacar:</p>
<ol>
<li>
<p><strong>public virtual string <a href="https://docs.microsoft.com/es-es/dotnet/api/system.object.tostring?view=netcore-3.1" target="_blank">ToString</a>()</strong></p>
<p>Este m&#xE9;todo, es llamado <strong>autom&#xE1;ticamente</strong> cada vez que un objeto se intenta formatear c&#xF3;mo cadena y equivaldr&#xED;a en cierta manera al m&#xE9;todo <strong><code>string ATexto()</code></strong> que hemos definido en nuestra jerarqu&#xED;a de art&#xED;culos.</p>
<p>En el fondo, aunque no se especifique, <strong><code>Articulo</code></strong> hereda impl&#xED;citamente de <strong><code>Object</code></strong> y por tanto las clases <strong><code>Articulo</code></strong>, <strong><code>ArticuloRebajado</code></strong>, <strong><code>ArticuloReacondicionado</code></strong>, etc. heredan el m&#xE9;todo <strong><code>ToString()</code></strong> y adem&#xE1;s pueden invalidarlo.</p>
<p>De hecho si no lo invalidamos y hacemos el siguiente codigo...</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[10-12]}" class="language-csharp" data-line="10-12"><span class="token keyword">namespace</span> <span class="token namespace">EjemploErencia</span>
<span class="token punctuation">{</span>
    <span class="token keyword">class</span> <span class="token class-name">Articulo</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

    <span class="token keyword">class</span> <span class="token class-name">Principal</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Falda&quot;</span><span class="token punctuation">,</span> <span class="token number">30f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// Mostrar&#xE1; &quot;EjemploErencia.Articulo&quot; que es el NCC de la clase y </span>
            <span class="token comment">// es lo que hace la implementaci&#xF3;n de ToString en la clase Object si no la invalidamos.</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">








<div aria-hidden="true" class="line-highlight" data-range="10-12" data-start="10" data-end="12">


</div></div></pre><p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="218.7583px" preserveAspectRatio="none" style="width:813px;height:218px;" version="1.1" viewBox="0 0 813 218" width="813.7384px" zoomAndPan="magnify"><defs><filter height="300%" id="f1nprocin4hr9t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.1136063408190227"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.227212681638045" dy="4.227212681638045" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[aa7f586532e18719e6cefa70fc650583]
class Object--><rect codeline="11" fill="#FFDEAD" filter="url(#f1nprocin4hr9t)" height="56.894" id="Object" style="stroke:#000000;stroke-width:1.585204755614267;" width="154.2933" x="7.3976" y="101.4531"/><ellipse cx="61.5588" cy="118.362" fill="#ADD1B2" rx="11.6248" ry="11.6248" style="stroke:#000000;stroke-width:1.0568031704095113;"/><path d="M64.4815,114.0026 Q64.6466,113.7715 64.8448,113.6559 Q65.0429,113.5403 65.2741,113.5403 Q65.6704,113.5403 65.9181,113.821 Q66.1658,114.0852 66.1658,114.7292 L66.1658,116.2649 Q66.1658,116.9089 65.9181,117.1896 Q65.6704,117.4703 65.2741,117.4703 Q64.9108,117.4703 64.6962,117.2556 Q64.4815,117.0575 64.3659,116.5125 Q64.3164,116.1328 64.1182,115.9346 Q63.7715,115.5383 63.1275,115.3071 Q62.4835,115.076 61.823,115.076 Q61.0139,115.076 60.3369,115.4227 Q59.6764,115.7695 59.148,116.5621 Q58.6361,117.3547 58.6361,118.4445 L58.6361,119.6004 Q58.6361,120.9049 59.5773,121.7801 Q60.5185,122.6387 62.2028,122.6387 Q63.1935,122.6387 63.8871,122.3745 Q64.2999,122.2094 64.7457,121.747 Q65.0264,121.4663 65.175,121.3838 Q65.3402,121.3012 65.5548,121.3012 Q65.9016,121.3012 66.1658,121.5819 Q66.4465,121.8461 66.4465,122.2094 Q66.4465,122.5727 66.0832,123.002 Q65.5548,123.6129 64.7127,123.9597 Q63.5733,124.4386 62.2028,124.4386 Q60.6011,124.4386 59.3296,123.7781 Q58.2893,123.2497 57.5627,122.1268 Q56.8362,120.9875 56.8362,119.6334 L56.8362,118.4115 Q56.8362,117.0079 57.4802,115.8025 Q58.1407,114.5806 59.2966,113.9366 Q60.4524,113.2761 61.7569,113.2761 Q62.533,113.2761 63.21,113.4577 Q63.9036,113.6229 64.4815,114.0026 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6816" lengthAdjust="spacingAndGlyphs" textLength="36.9881" x="83.2232" y="123.551">Object</text><line style="stroke:#000000;stroke-width:1.585204755614267;" x1="8.4544" x2="160.6341" y1="135.2708" y2="135.2708"/><text fill="#000000" font-family="sans-serif" font-size="11.6248" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="141.6116" x="13.7384" y="151.5656">+ToString() : string {virtual}</text><!--MD5=[60dbf6945f26d51d7ef11e92d44c812f]
class Articulo--><rect codeline="15" fill="#FFFAFA" filter="url(#f1nprocin4hr9t)" height="56.894" id="Articulo" style="stroke:#000000;stroke-width:1.585204755614267;" width="113.0779" x="225.0991" y="101.4531"/><ellipse cx="257.5958" cy="118.362" fill="#ADD1B2" rx="11.6248" ry="11.6248" style="stroke:#000000;stroke-width:1.0568031704095113;"/><path d="M260.5185,114.0026 Q260.6836,113.7715 260.8818,113.6559 Q261.0799,113.5403 261.3111,113.5403 Q261.7074,113.5403 261.9551,113.821 Q262.2028,114.0852 262.2028,114.7292 L262.2028,116.2649 Q262.2028,116.9089 261.9551,117.1896 Q261.7074,117.4703 261.3111,117.4703 Q260.9478,117.4703 260.7332,117.2556 Q260.5185,117.0575 260.4029,116.5125 Q260.3534,116.1328 260.1552,115.9346 Q259.8085,115.5383 259.1645,115.3071 Q258.5205,115.076 257.86,115.076 Q257.0509,115.076 256.3738,115.4227 Q255.7133,115.7695 255.1849,116.5621 Q254.6731,117.3547 254.6731,118.4445 L254.6731,119.6004 Q254.6731,120.9049 255.6143,121.7801 Q256.5555,122.6387 258.2398,122.6387 Q259.2305,122.6387 259.924,122.3745 Q260.3369,122.2094 260.7827,121.747 Q261.0634,121.4663 261.212,121.3838 Q261.3771,121.3012 261.5918,121.3012 Q261.9386,121.3012 262.2028,121.5819 Q262.4835,121.8461 262.4835,122.2094 Q262.4835,122.5727 262.1202,123.002 Q261.5918,123.6129 260.7497,123.9597 Q259.6103,124.4386 258.2398,124.4386 Q256.638,124.4386 255.3666,123.7781 Q254.3263,123.2497 253.5997,122.1268 Q252.8732,120.9875 252.8732,119.6334 L252.8732,118.4115 Q252.8732,117.0079 253.5172,115.8025 Q254.1777,114.5806 255.3336,113.9366 Q256.4894,113.2761 257.7939,113.2761 Q258.57,113.2761 259.247,113.4577 Q259.9406,113.6229 260.5185,114.0026 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6816" lengthAdjust="spacingAndGlyphs" textLength="42.2721" x="276.0898" y="123.551">Articulo</text><line style="stroke:#000000;stroke-width:1.585204755614267;" x1="226.1559" x2="337.1202" y1="135.2708" y2="135.2708"/><text fill="#000000" font-family="sans-serif" font-size="11.6248" lengthAdjust="spacingAndGlyphs" textLength="100.3963" x="231.4399" y="151.5656">^+ToString() : string</text><!--MD5=[2f7aa29e6ed06458ec3a8577fe477f93]
class ArticuloRebajado--><rect codeline="19" fill="#FFFAFA" filter="url(#f1nprocin4hr9t)" height="56.894" id="ArticuloRebajado" style="stroke:#000000;stroke-width:1.585204755614267;" width="133.1572" x="424.3065" y="53.897"/><ellipse cx="440.1585" cy="70.8058" fill="#ADD1B2" rx="11.6248" ry="11.6248" style="stroke:#000000;stroke-width:1.0568031704095113;"/><path d="M443.0812,66.4465 Q443.2464,66.2153 443.4445,66.0997 Q443.6427,65.9841 443.8738,65.9841 Q444.2701,65.9841 444.5178,66.2649 Q444.7655,66.5291 444.7655,67.1731 L444.7655,68.7087 Q444.7655,69.3527 444.5178,69.6334 Q444.2701,69.9141 443.8738,69.9141 Q443.5106,69.9141 443.2959,69.6995 Q443.0812,69.5013 442.9657,68.9564 Q442.9161,68.5766 442.718,68.3785 Q442.3712,67.9822 441.7272,67.751 Q441.0832,67.5198 440.4227,67.5198 Q439.6136,67.5198 438.9366,67.8666 Q438.2761,68.2133 437.7477,69.0059 Q437.2358,69.7985 437.2358,70.8884 L437.2358,72.0443 Q437.2358,73.3487 438.177,74.2239 Q439.1182,75.0826 440.8025,75.0826 Q441.7933,75.0826 442.4868,74.8184 Q442.8996,74.6532 443.3454,74.1909 Q443.6262,73.9102 443.7748,73.8276 Q443.9399,73.745 444.1546,73.745 Q444.5013,73.745 444.7655,74.0258 Q445.0462,74.29 445.0462,74.6532 Q445.0462,75.0165 444.683,75.4458 Q444.1546,76.0568 443.3124,76.4036 Q442.1731,76.8824 440.8025,76.8824 Q439.2008,76.8824 437.9293,76.2219 Q436.889,75.6935 436.1625,74.5707 Q435.4359,73.4313 435.4359,72.0773 L435.4359,70.8554 Q435.4359,69.4518 436.0799,68.2464 Q436.7404,67.0244 437.8963,66.3804 Q439.0522,65.7199 440.3567,65.7199 Q441.1328,65.7199 441.8098,65.9016 Q442.5033,66.0667 443.0812,66.4465 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6816" lengthAdjust="spacingAndGlyphs" textLength="99.3395" x="454.9538" y="75.9949">ArticuloRebajado</text><line style="stroke:#000000;stroke-width:1.585204755614267;" x1="425.3633" x2="556.4069" y1="87.7147" y2="87.7147"/><text fill="#000000" font-family="sans-serif" font-size="11.6248" lengthAdjust="spacingAndGlyphs" textLength="100.3963" x="430.6473" y="104.0095">^+ToString() : string</text><!--MD5=[6a1e8c298c85852c3878b8bc4320a243]
class ArticuloReacondicionado--><rect codeline="23" fill="#FFFAFA" filter="url(#f1nprocin4hr9t)" height="56.894" id="ArticuloReacondicionado" style="stroke:#000000;stroke-width:1.585204755614267;" width="178.5997" x="401.5852" y="147.9524"/><ellipse cx="417.4373" cy="164.8613" fill="#ADD1B2" rx="11.6248" ry="11.6248" style="stroke:#000000;stroke-width:1.0568031704095113;"/><path d="M420.36,160.502 Q420.5251,160.2708 420.7232,160.1552 Q420.9214,160.0396 421.1526,160.0396 Q421.5489,160.0396 421.7966,160.3203 Q422.0443,160.5845 422.0443,161.2285 L422.0443,162.7642 Q422.0443,163.4082 421.7966,163.6889 Q421.5489,163.9696 421.1526,163.9696 Q420.7893,163.9696 420.5746,163.755 Q420.36,163.5568 420.2444,163.0119 Q420.1948,162.6321 419.9967,162.4339 Q419.6499,162.0376 419.0059,161.8065 Q418.362,161.5753 417.7015,161.5753 Q416.8923,161.5753 416.2153,161.9221 Q415.5548,162.2688 415.0264,163.0614 Q414.5145,163.854 414.5145,164.9439 L414.5145,166.0997 Q414.5145,167.4042 415.4557,168.2794 Q416.397,169.138 418.0812,169.138 Q419.072,169.138 419.7655,168.8738 Q420.1783,168.7087 420.6242,168.2464 Q420.9049,167.9657 421.0535,167.8831 Q421.2186,167.8005 421.4333,167.8005 Q421.7801,167.8005 422.0443,168.0812 Q422.325,168.3454 422.325,168.7087 Q422.325,169.072 421.9617,169.5013 Q421.4333,170.1123 420.5911,170.459 Q419.4518,170.9379 418.0812,170.9379 Q416.4795,170.9379 415.2081,170.2774 Q414.1678,169.749 413.4412,168.6262 Q412.7147,167.4868 412.7147,166.1328 L412.7147,164.9108 Q412.7147,163.5073 413.3587,162.3018 Q414.0192,161.0799 415.175,160.4359 Q416.3309,159.7754 417.6354,159.7754 Q418.4115,159.7754 419.0885,159.9571 Q419.782,160.1222 420.36,160.502 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6816" lengthAdjust="spacingAndGlyphs" textLength="144.782" x="432.2325" y="170.0504">ArticuloReacondicionado</text><line style="stroke:#000000;stroke-width:1.585204755614267;" x1="402.642" x2="579.1281" y1="181.7701" y2="181.7701"/><text fill="#000000" font-family="sans-serif" font-size="11.6248" lengthAdjust="spacingAndGlyphs" textLength="100.3963" x="407.926" y="198.0649">^+ToString() : string</text><!--MD5=[3059a5bdb040e06d11e05e5c7f6462d7]
class ArticuloEnExposicion--><rect codeline="27" fill="#FFFAFA" filter="url(#f1nprocin4hr9t)" height="56.894" id="ArticuloEnExposicion" style="stroke:#000000;stroke-width:1.585204755614267;" width="155.3501" x="643.5931" y="7.3976"/><ellipse cx="659.4452" cy="24.3065" fill="#ADD1B2" rx="11.6248" ry="11.6248" style="stroke:#000000;stroke-width:1.0568031704095113;"/><path d="M662.3679,19.9472 Q662.533,19.716 662.7312,19.6004 Q662.9293,19.4848 663.1605,19.4848 Q663.5568,19.4848 663.8045,19.7655 Q664.0522,20.0297 664.0522,20.6737 L664.0522,22.2094 Q664.0522,22.8534 663.8045,23.1341 Q663.5568,23.4148 663.1605,23.4148 Q662.7972,23.4148 662.5826,23.2001 Q662.3679,23.002 662.2523,22.4571 Q662.2028,22.0773 662.0046,21.8791 Q661.6579,21.4828 661.0139,21.2517 Q660.3699,21.0205 659.7094,21.0205 Q658.9003,21.0205 658.2232,21.3672 Q657.5627,21.714 657.0343,22.5066 Q656.5225,23.2992 656.5225,24.389 L656.5225,25.5449 Q656.5225,26.8494 657.4637,27.7246 Q658.4049,28.5832 660.0892,28.5832 Q661.0799,28.5832 661.7734,28.319 Q662.1863,28.1539 662.6321,27.6915 Q662.9128,27.4108 663.0614,27.3283 Q663.2266,27.2457 663.4412,27.2457 Q663.788,27.2457 664.0522,27.5264 Q664.3329,27.7906 664.3329,28.1539 Q664.3329,28.5172 663.9696,28.9465 Q663.4412,29.5575 662.5991,29.9042 Q661.4597,30.3831 660.0892,30.3831 Q658.4875,30.3831 657.216,29.7226 Q656.1757,29.1942 655.4491,28.0713 Q654.7226,26.932 654.7226,25.5779 L654.7226,24.356 Q654.7226,22.9524 655.3666,21.747 Q656.0271,20.5251 657.183,19.8811 Q658.3388,19.2206 659.6433,19.2206 Q660.4194,19.2206 661.0964,19.4022 Q661.79,19.5674 662.3679,19.9472 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6816" lengthAdjust="spacingAndGlyphs" textLength="121.5324" x="674.2404" y="29.4955">ArticuloEnExposicion</text><line style="stroke:#000000;stroke-width:1.585204755614267;" x1="644.6499" x2="797.8864" y1="41.2153" y2="41.2153"/><text fill="#000000" font-family="sans-serif" font-size="11.6248" lengthAdjust="spacingAndGlyphs" textLength="100.3963" x="649.9339" y="57.5101">^+ToString() : string</text><!--MD5=[0c9e59459fe9af4d2b65d63643252534]
class ArticuloDefectuoso--><rect codeline="31" fill="#FFFAFA" filter="url(#f1nprocin4hr9t)" height="56.894" id="ArticuloDefectuoso" style="stroke:#000000;stroke-width:1.585204755614267;" width="142.6684" x="649.9339" y="101.4531"/><ellipse cx="665.786" cy="118.362" fill="#ADD1B2" rx="11.6248" ry="11.6248" style="stroke:#000000;stroke-width:1.0568031704095113;"/><path d="M668.7087,114.0026 Q668.8738,113.7715 669.072,113.6559 Q669.2701,113.5403 669.5013,113.5403 Q669.8976,113.5403 670.1453,113.821 Q670.393,114.0852 670.393,114.7292 L670.393,116.2649 Q670.393,116.9089 670.1453,117.1896 Q669.8976,117.4703 669.5013,117.4703 Q669.138,117.4703 668.9234,117.2556 Q668.7087,117.0575 668.5931,116.5125 Q668.5436,116.1328 668.3454,115.9346 Q667.9987,115.5383 667.3547,115.3071 Q666.7107,115.076 666.0502,115.076 Q665.2411,115.076 664.5641,115.4227 Q663.9036,115.7695 663.3752,116.5621 Q662.8633,117.3547 662.8633,118.4445 L662.8633,119.6004 Q662.8633,120.9049 663.8045,121.7801 Q664.7457,122.6387 666.43,122.6387 Q667.4207,122.6387 668.1143,122.3745 Q668.5271,122.2094 668.9729,121.747 Q669.2536,121.4663 669.4022,121.3838 Q669.5674,121.3012 669.782,121.3012 Q670.1288,121.3012 670.393,121.5819 Q670.6737,121.8461 670.6737,122.2094 Q670.6737,122.5727 670.3104,123.002 Q669.782,123.6129 668.9399,123.9597 Q667.8005,124.4386 666.43,124.4386 Q664.8283,124.4386 663.5568,123.7781 Q662.5165,123.2497 661.79,122.1268 Q661.0634,120.9875 661.0634,119.6334 L661.0634,118.4115 Q661.0634,117.0079 661.7074,115.8025 Q662.3679,114.5806 663.5238,113.9366 Q664.6797,113.2761 665.9841,113.2761 Q666.7602,113.2761 667.4373,113.4577 Q668.1308,113.6229 668.7087,114.0026 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6816" lengthAdjust="spacingAndGlyphs" textLength="108.8507" x="680.5812" y="123.551">ArticuloDefectuoso</text><line style="stroke:#000000;stroke-width:1.585204755614267;" x1="650.9908" x2="791.5456" y1="135.2708" y2="135.2708"/><text fill="#000000" font-family="sans-serif" font-size="11.6248" lengthAdjust="spacingAndGlyphs" textLength="100.3963" x="656.2748" y="151.5656">^+ToString() : string</text><!--MD5=[f4f8dcd04afdd92d00ae17e0652634b4]
reverse link Object to Articulo--><path codeline="35" d="M183.3448,129.9868 C197.6222,129.9868 211.889,129.9868 224.93,129.9868 " fill="none" id="Object-backto-Articulo" style="stroke:#000000;stroke-width:1.0568031704095113;"/><polygon fill="none" points="182.9643,137.3844,161.8283,129.9868,182.9643,122.5892,182.9643,137.3844" style="stroke:#000000;stroke-width:1.0568031704095113;"/><!--MD5=[4c5e07181522a81d7ce4ca381a4c3897]
reverse link Articulo to ArticuloRebajado--><path codeline="36" d="M358.9221,112.4861 C380.354,107.5614 403.4769,102.2563 424.2325,97.4901 " fill="none" id="Articulo-backto-ArticuloRebajado" style="stroke:#000000;stroke-width:1.0568031704095113;"/><polygon fill="none" points="360.4544,119.7252,338.1982,117.2417,357.1466,105.2999,360.4544,119.7252" style="stroke:#000000;stroke-width:1.0568031704095113;"/><!--MD5=[5ead35dfedb79aa276df792dc2cba33a]
reverse link Articulo to ArticuloReacondicionado--><path codeline="37" d="M359.0911,147.1387 C372.8507,150.2246 387.2867,153.469 401.3527,156.6288 " fill="none" id="Articulo-backto-ArticuloReacondicionado" style="stroke:#000000;stroke-width:1.0568031704095113;"/><polygon fill="none" points="357.21,154.2933,338.1982,142.4465,360.4439,139.8573,357.21,154.2933" style="stroke:#000000;stroke-width:1.0568031704095113;"/><!--MD5=[dcfe97591e768dc4c3876e4be3e91787]
reverse link ArticuloRebajado to ArticuloEnExposicion--><path codeline="38" d="M578.4095,64.8137 C599.7358,60.4703 622.4359,55.852 643.2761,51.6037 " fill="none" id="ArticuloRebajado-backto-ArticuloEnExposicion" style="stroke:#000000;stroke-width:1.0568031704095113;"/><polygon fill="none" points="579.8468,72.074,557.6645,69.041,576.8983,57.5746,579.8468,72.074" style="stroke:#000000;stroke-width:1.0568031704095113;"/><!--MD5=[ef03ca039eb75650c6a8eaf22a0c64fc]
reverse link ArticuloRebajado to ArticuloDefectuoso--><path codeline="39" d="M578.6526,100.4914 C602.1453,105.395 627.2972,110.6262 649.7754,115.3078 " fill="none" id="ArticuloRebajado-backto-ArticuloDefectuoso" style="stroke:#000000;stroke-width:1.0568031704095113;"/><polygon fill="none" points="576.8454,107.6777,557.6645,96.1268,579.8573,93.1889,576.8454,107.6777" style="stroke:#000000;stroke-width:1.0568031704095113;"/><!--MD5=[e7616e785c8d0c413ecd18527f33f935]
@startuml
left to right direction
scale 800 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide attributes

class Object #navajowhite
{
    {abstract}+ToString() : string {virtual}
}
class Articulo
{
    ^+ToString() : string
}
class ArticuloRebajado
{
    ^+ToString() : string
}
class ArticuloReacondicionado
{
    ^+ToString() : string
}
class ArticuloEnExposicion
{
    ^+ToString() : string
}
class ArticuloDefectuoso
{
    ^+ToString() : string
}
Object ^- - Articulo
Articulo ^- - ArticuloRebajado
Articulo ^- - ArticuloReacondicionado
ArticuloRebajado ^- - ArticuloEnExposicion
ArticuloRebajado ^- - ArticuloDefectuoso
@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p>Por tanto podr&#xED;amos haber hecho...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Invalido el ToString de Object</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">nombre</span><span class="token punctuation">}</span></span><span class="token string">\nPrecio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">precio</span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string">&#x20AC;&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">ArticuloReacondicionado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Invalido el ToString de Articulo</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span> <span class="token operator">+</span>
            <span class="token interpolation-string"><span class="token string">$&quot;\nFecha reacondicionamiento: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">fechaReacondicionamiento<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span> <span class="token operator">+</span>
            <span class="token interpolation-string"><span class="token string">$&quot;Empresa: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetEmpresa</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span> <span class="token operator">+</span>
            <span class="token interpolation-string"><span class="token string">$&quot;Descripci&#xF3;n: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">descripcion</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Falda&quot;</span><span class="token punctuation">,</span> <span class="token number">30f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// Mostrar&#xE1; sin necesidad de hacer a.ToString().</span>
        <span class="token comment">// Nombre: Falda</span>
        <span class="token comment">// Precio: 30.00&#x20AC;  </span>

        <span class="token class-name">Articulo</span> arc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">&quot;Samsung s10&quot;</span><span class="token punctuation">,</span> <span class="token number">300d</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">&quot;FOXCOM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cambio de bater&#xED;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Datos -------------\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">arc</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// Mostrar&#xE1; sin necesidad de hacer arc.ToString().</span>
        <span class="token comment">// Datos -------------</span>
        <span class="token comment">// Nombre: Samsung s10</span>
        <span class="token comment">// Precio: 300.00&#x20AC;</span>
        <span class="token comment">// Fecha reacondicionamiento: &lt;dd/mm/aaaa actual&gt;</span>
        <span class="token comment">// Empresa: FOXCOM</span>
        <span class="token comment">// Descripci&#xF3;n: Cambio de bater&#xED;a                      </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p><strong>public virtual bool <a href="https://docs.microsoft.com/es-es/dotnet/api/system.object.equals?view=netcore-3.1#System_Object_Equals_System_Object_" target="_blank">Equals</a>(object obj)</strong></p>
<p>Se usa para comparar el objeto sobre el que se aplica con cualquier otro que se le pase como par&#xE1;metro en <strong>profundidad</strong>. Devuelve true si ambos objetos son iguales y false en caso contrario.</p>
<p>Veamos un ejemplo en el cual lo invalidaremos en las clases <strong><code>Articulo</code></strong> y <strong><code>ArticuloRebajado</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp {}" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> obj<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">bool</span></span> iguales <span class="token operator">=</span> obj <span class="token keyword">is</span> <span class="token class-name">Articulo</span> a                        <span class="token comment">// Si la entrada es un art&#xED;culo y es distinto de null</span>
                    <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>nombre<span class="token punctuation">.</span><span class="token function">CompareTo</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span>          <span class="token comment">// y el nombre de los art&#xED;culos son iguales.</span>
                    <span class="token operator">&amp;&amp;</span> Math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>precio <span class="token operator">-</span> precio<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1e-5</span><span class="token punctuation">;</span>      <span class="token comment">// y los precios son iguales con una precisi&#xF3;n de 0.00001</span>
        <span class="token keyword">return</span> iguales<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Articulo</span></span>
<span class="token punctuation">{</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> obj<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">bool</span></span> iguales <span class="token operator">=</span> obj <span class="token keyword">is</span> <span class="token class-name">ArticuloRebajado</span> a                <span class="token comment">// Si la entrada es un art&#xED;culo rebajado</span>
                    <span class="token operator">&amp;&amp;</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Articulo<span class="token punctuation">)</span>obj<span class="token punctuation">)</span>               <span class="token comment">// y sus partes de art&#xED;culo son iguales</span>
                    <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>porcentajeRebaja <span class="token operator">==</span> porcentajeRebaja<span class="token punctuation">;</span>  <span class="token comment">// y tienen el mismo porcentaje de rebaja.</span>
        <span class="token keyword">return</span> iguales<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Honor Band 5&quot;</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Aunque a sea de tipo Articulo, se hace un enlace din&#xE1;mico al Equals de </span>
        <span class="token comment">// ArticuloRebajado al invalidar el de art&#xED;culo y realemnte serlo.</span>
        <span class="token comment">// Por lo cual en todos los casos se llama al Equals de ArticuloRebajado que a su vez</span>
        <span class="token comment">// llama al de art&#xED;culo.</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Honor Band 4&quot;</span><span class="token punctuation">,</span> <span class="token number">30d</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// False</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Honor Band 5&quot;</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// True</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Honor Band 5&quot;</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// False</span>

        <span class="token comment">// En este caso el downcasting obj as ArticuloRebajado se evaluar&#xE1; a null.</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Honor Band 5&quot;</span><span class="token punctuation">,</span> <span class="token number">35d</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// False</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
</ol>
<p>El resto de funciones invalidables de object las puedes consultar en la documentaci&#xF3;n oficial y ya se explicar&#xE1; m&#xE1;s adelante en caso de necesitarse.</p>
</li>
</ul>
<div style="page-break-after:always;"></div>
<blockquote>
<p><strong>&#x1F393; Caso de estudio</strong></p>
<p>Veamos un ejemplo simplificado de dise&#xF1;o &apos;<em>similar</em>&apos; al seguido con los art&#xED;culos.<br>
En este ejemplo vamos a suponer que el propietario de una campa de aparcamiento veh&#xED;culos a largo plazo. Decide instalar un sistema automatizado de entrada y salida de veh&#xED;culos.<br>
Para ello, decide poner un sistema de c&#xE1;maras y una IA que trata de identificar informaci&#xF3;n de los vehiculos que entran y salen.<br>
El sistema es capaz de identificar de un <strong>veh&#xED;culo</strong> al pasar la siguiente informaci&#xF3;n com&#xFA;n:</p>
<ul>
<li>
<p><strong>Matr&#xED;cula</strong> que crear&#xE1; con formato &apos;<strong><code>DDDD LLL</code></strong>&apos; donde <strong><code>D</code></strong> ser&#xE1; un d&#xED;gito de 0 a 9 y <strong><code>L</code></strong> una letra may&#xFA;scula excluidas las vocales.</p>
</li>
<li>
<p><strong>Color</strong> que ser&#xE1; un conjunto de valores con las tonalidades b&#xE1;sicas. Devolviendo la IA la predominante en el veh&#xED;culo. Estas podr&#xE1;n ser uno de los siguiente valores <strong><code>Blanco</code></strong>, <strong><code>Morado</code></strong>, <strong><code>Cian</code></strong>, <strong><code>Azul</code></strong>, <strong><code>Rojo</code></strong>, <strong><code>Verde</code></strong>, <strong><code>Negro</code></strong>, <strong><code>Naranja</code></strong> y <strong><code>Gris</code></strong>.</p>
</li>
<li>
<p><strong>Marca</strong> que ser&#xE1; un conjunto de valores de logos que la IA es capaz de identificar en las im&#xE1;genes como <strong><code>DESCONOCIDA</code></strong>, <strong><code>BMW</code></strong>, <strong><code>SEAT</code></strong>, <strong><code>AUDI</code></strong>, <strong><code>RENAULT</code></strong>, <strong><code>MAN</code></strong>, <strong><code>DAF</code></strong>, <strong><code>CITROEN</code></strong>, <strong><code>TOYOTA</code></strong>, <strong><code>SUZUKI</code></strong>, <strong><code>YAMAHA</code></strong>, <strong><code>MERCEDES</code></strong>, <strong><code>PEGASO</code></strong>.</p>
</li>
<li>
<p><strong>N&#xFA;mero de ocupantes</strong> que la IA cree que hay en el interior del veh&#xED;culo.</p>
</li>
</ul>
<p>Adem&#xE1;s, de todo esto la IA de momento sabe clasificar los <strong>veh&#xED;culos</strong> en est&#xE1;s epecificaciones <strong><code>Coche</code></strong>, <strong><code>Moto</code></strong> y <strong><code>Cami&#xF3;n</code></strong>. Cada especificaci&#xF3;n, a su vez debe estar categorizada a trav&#xE9;s de un conjunto de valores y en alg&#xFA;n caso a&#xF1;adiremos informaci&#xF3;n extra.</p>
<ul>
<li>
<p><strong>Coche:</strong> Podr&#xE1; tomar uno de los valores del siguiente conjunto de datos <strong><code>SinIdentificar</code></strong>, <strong><code>Berlina</code></strong>, <strong><code>Coupe</code></strong>, <strong><code>Sedan</code></strong>, <strong><code>Cabrio</code></strong>, <strong><code>TodoTerreno</code></strong>, <strong><code>MonoVolumen</code></strong> y <strong><code>Crossover</code></strong>.</p>
</li>
<li>
<p><strong>Moto:</strong> Podr&#xE1; tomar uno de los valores del siguiente conjunto de datos <strong><code>SinIdentificar</code></strong>, <strong><code>Scooter</code></strong>, <strong><code>Motocross</code></strong>, <strong><code>Naked</code></strong>, <strong><code>Trail</code></strong> y <strong><code>Supermotard</code></strong></p>
</li>
<li>
<p><strong>Cami&#xF3;n:</strong> Podr&#xE1; tomar uno de los valores del siguiente conjunto de datos <strong><code>SinIdentificar</code></strong>, <strong><code>Articulado</code></strong>, <strong><code>Frigor&#xED;fico</code></strong>, <strong><code>Cisterna</code></strong> y  <strong><code>Trailer</code></strong>. Pero adem&#xE1;s en los camiones es capaz de a&#xF1;adir el n&#xFA;mero de <strong>ejes</strong> y <strong>carga m&#xE1;xima</strong> en kilos.</p>
</li>
</ul>
<p>Nuestra IA, que ser&#xE1; el programa principal, pasar&#xE1; un objeto <strong><code>Veh&#xED;culo</code></strong>, con la informaci&#xF3;n que ha podido recolectar, a un objeto <strong><code>CampaVehiculos</code></strong> que tendr&#xE1; una <strong>capacidad de plazas determinada</strong> (para nuestro caso de estudio <strong>5 veh&#xED;culos</strong> independientemente de su tama&#xF1;o para simplificar). Est&#xE1;s plazas se numerar&#xE1;n de la <strong>1</strong> a la <strong>5</strong>.</p>
<p>La clase <strong><code>CampaVehiculos</code></strong> tendr&#xE1; pues las siguientes <strong>opraciones b&#xE1;sicas</strong>:</p>
<ul>
<li>
<p><strong>Privadas</strong></p>
<ul>
<li><strong><code>int Busca(Vehiculo v)</code></strong>: Me retornar&#xE1; el <strong>&#xED;ndice</strong> en un array de veh&#xED;culos que ocupa el veh&#xED;culo <strong><code>v</code></strong> o <strong>-1</strong> si no lo encuentra.</li>
<li><strong><code>int BuscaPlazaVacia()</code></strong>: Me retornar&#xE1; el <strong>primer &#xED;ndice vaci&#xF3;</strong> en un array de veh&#xED;culos o <strong>-1</strong> si no lo encuentra ning&#xFA;no vac&#xED;o.</li>
</ul>
</li>
<li>
<p><strong>P&#xFA;blicas</strong></p>
<ul>
<li>
<p><strong><code>int GetPlazasOcupadas()</code></strong>: Me retornar&#xE1; el n&#xFA;mero de plazas ocupadas en la campa.</p>
</li>
<li>
<p><strong><code>bool Entra(Vehiculo v, out int plaza, out string aviso)</code></strong>: Si la campa no est&#xE1; llena y si la matr&#xED;cula del veh&#xED;culo no se encuentra ya registrada, aparcar&#xE1; el veh&#xED;culo en la promera plaza disponible retornando <strong><code>true</code></strong> y en <strong><code>plaza</code></strong> donde lo ha aparcado (1 a Numero Plazas).<br>
En caso de no poder entrar el veh&#xED;culo por las causas ya mencionadas retornaremos <strong><code>false</code></strong> y en <strong><code>aviso</code></strong> uno de los siguientes mensajes:</p>
<ol>
<li>&apos;<em><code>Ya se encuentra en el aparcamiento el veh&#xED;culo DDDD LL</code></em>&apos;</li>
<li>&apos;<em><code>Aparcamiento lleno</code></em>&apos;</li>
</ol>
</li>
<li>
<p><strong><code>bool Sale(Vehiculo v, out int plaza, out string aviso)</code></strong>: Si la campa no est&#xE1; vac&#xED;a y si la matr&#xED;cula del veh&#xED;culo se encuentra registrada, sacar&#xE1; el veh&#xED;culo en la plaza donde se encuentra retornando <strong><code>true</code></strong> y en <strong><code>plaza</code></strong> donde se encontraba aparcado.<br>
En caso de sacar el veh&#xED;culo por las causas ya mencionadas retornaremos <strong><code>false</code></strong> y en <strong><code>aviso</code></strong> uno de los siguientes mensajes:</p>
<ol>
<li>&apos;<em><code>No se registr&#xF3; la entrada del veh&#xED;culo DDDD LL</code></em>&apos;</li>
<li>&apos;<em><code>Aparcamiento vac&#xED;o</code></em>&apos;</li>
</ol>
</li>
<li>
<p><strong><code>string ToString()</code></strong> imvalidado para que nuestre las plazas y los datos que se recibierosn de la IA de cada veh&#xED;culo.</p>
</li>
</ul>
</li>
</ul>
<p><strong>&#x270B; Intenta realizar primero por tu cuenta la implementaci&#xF3;n de la especificaci&#xF3;n anterior. Posteriormente comparala con la propueta comentada de soluci&#xF3;n que encontrar&#xE1;s m&#xE1;s adelante.<br>
Adem&#xE1;s, en las siguiente p&#xE1;ginas puedes encontrar un programa principal de prueba y la salida que debe producir.<br>
&#x1F4A1; F&#xED;jate bien en la definici&#xF3;n de clases del programa principal, pues puede ayudarte a resolver dudas sobre c&#xF3;mo implementar la especificaci&#xF3;n anterior.</strong></p>
</blockquote>
<div style="page-break-after:always;"></div>
<p>Propuesta de programa de prueba:</p>
<ul>
<li>&#x1F4A1; <strong>Tip:</strong> Para este programa de test, vamos a utilizar el m&#xE9;todo <strong>public Type <a href="https://docs.microsoft.com/es-es/dotnet/api/system.object.gettype?view=netcore-3.1" target="_blank">GetType</a>();</strong>  que poseen todos los objetos por heredar de <strong><code>object</code></strong> y que como vemos devuelve un objeto de tipo <strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.type?view=netcore-3.1" target="_blank">Type</a></strong> perteneciente al <a href="https://docs.microsoft.com/es-es/dotnet/api/system.reflection?view=netcore-3.1" target="_blank">API de reflexi&#xF3;n</a> de .NET<br>
F&#xED;jate en la <strong>(<em>l&#xED;nea 5</em>)</strong> como usamos este m&#xE9;todo en <strong><code>v.GetType().Name</code></strong> aunque <strong><code>v</code></strong> es de tipo <strong><code>Vehiculo</code></strong>, <strong><code>Name</code></strong> me devolver&#xE1; el nombre de la especificaci&#xF3;n que realmente se &apos;<em>esconda</em>&apos; en el mismo.<br>
<strong>Nota:</strong> Si quieres saber un poco m&#xE1;s sobre el concepto de reflexi&#xF3;n puedes consultar (<a href="https://es.wikipedia.org/wiki/Reflexi%C3%B3n_(inform%C3%A1tica)" target="_blank">este enlace</a>).</li>
</ul>
<pre data-role="codeBlock" data-info="csharp {highlight=5}" class="language-csharp" data-line="5"><span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Entra</span><span class="token punctuation">(</span><span class="token class-name">CampaVehiculos</span> campa<span class="token punctuation">,</span> <span class="token class-name">Vehiculo</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">string</span></span> t1 <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$&quot;Entrando </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">string</span></span> t2 <span class="token operator">=</span> campa<span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">int</span></span> plaza<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">string</span></span> aviso<span class="token punctuation">)</span> <span class="token punctuation">?</span> <span class="token interpolation-string"><span class="token string">$&quot;Aparcado en la plaza </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">plaza</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span> <span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">aviso</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">t1<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">42</span></span><span class="token punctuation">}</span></span><span class="token string">-&gt; </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">t2</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Sale</span><span class="token punctuation">(</span><span class="token class-name">CampaVehiculos</span> campa<span class="token punctuation">,</span> <span class="token class-name">Vehiculo</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">string</span></span> t1 <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$&quot;Saliendo </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">string</span></span> t2 <span class="token operator">=</span> campa<span class="token punctuation">.</span><span class="token function">Sale</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">int</span></span> plaza<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">string</span></span> aviso<span class="token punctuation">)</span> <span class="token punctuation">?</span> <span class="token interpolation-string"><span class="token string">$&quot;Deja libre la plaza </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">plaza</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span> <span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">aviso</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">t1<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">42</span></span><span class="token punctuation">}</span></span><span class="token string">-&gt; </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">t2</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">CampaVehiculos</span> campa <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">CampaVehiculos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Coche</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;1020 DRG&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>SEAT<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> Coche<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Coupe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Camion</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;8798 JWR&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Blanco<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DAF<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">,</span> Camion<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Frigor&#xED;fico<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Coche</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;7643 LRF&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>BMW<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> Coche<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>TodoTerreno<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Coche</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;1020 DRG&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>SEAT<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> Coche<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Coupe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vehiculo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;0000 DGP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Negro<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DESCONOCIDA<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Moto</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;1111 GRF&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>YAMAHA<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> Moto<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Naked<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Coche</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;1020 DRG&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>SEAT<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> Coche<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Coupe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Sale</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Camion</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;8798 JWR&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Blanco<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DAF<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">,</span> Camion<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Frigor&#xED;fico<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Sale</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Camion</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;8798 JWR&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Blanco<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DAF<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">,</span> Camion<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Frigor&#xED;fico<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Sale</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Moto</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;1111 GRF&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>YAMAHA<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> Moto<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Naked<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Moto</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;1111 GRF&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>YAMAHA<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> Moto<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Naked<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Camion</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;8798 JWR&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Blanco<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DAF<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">,</span> Camion<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>SinIdentificar<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>campa<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5" data-start="5">
</div></div></pre><div style="page-break-after:always;"></div>
<p>Salida del programa de prueba anterior ...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash">Entrando Coche Coupe <span class="token number">1020</span> DRG             -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">1</span>
Entrando Camion Frigor&#xED;fico <span class="token number">8798</span> JWR      -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">2</span>
Entrando Coche TodoTerreno <span class="token number">7643</span> LRF       -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">3</span>
Entrando Coche Coupe <span class="token number">1020</span> DRG             -<span class="token operator">&gt;</span> Ya se encuentra en el aparcamiento el veh&#xED;culo <span class="token number">1020</span> DRG
Entrando Vehiculo SinIdentificar 0000 DGP -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">4</span>
Entrando Moto Naked <span class="token number">1111</span> GRF              -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">5</span>
Entrando Coche Coupe <span class="token number">1020</span> DRG             -<span class="token operator">&gt;</span> Aparcamiento lleno
Saliendo Camion Frigor&#xED;fico <span class="token number">8798</span> JWR      -<span class="token operator">&gt;</span> Deja libre la plaza <span class="token number">2</span>
Saliendo Camion Frigor&#xED;fico <span class="token number">8798</span> JWR      -<span class="token operator">&gt;</span> No se registr&#xF3; la entrada del veh&#xED;culo <span class="token number">8798</span> JWR
Saliendo Moto Naked <span class="token number">1111</span> GRF              -<span class="token operator">&gt;</span> Deja libre la plaza <span class="token number">5</span>
Entrando Moto Naked <span class="token number">1111</span> GRF              -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">2</span>
Entrando Camion SinIdentificar <span class="token number">8798</span> JWR   -<span class="token operator">&gt;</span> Aparcado en la plaza <span class="token number">5</span>

Veh&#xED;culos en el aparcamiento<span class="token punctuation">..</span>.

Plaza <span class="token number">1</span>:
Matricula: <span class="token number">1020</span> DRG
Color: Azul
Marca: SEAT
Ocupantes: <span class="token number">3</span>
Categoria: Coupe

Plaza <span class="token number">2</span>:
Matricula: <span class="token number">1111</span> GRF
Color: Rojo
Marca: YAMAHA
Ocupantes: <span class="token number">2</span>
Categoria: Naked

Plaza <span class="token number">3</span>:
Matricula: <span class="token number">7643</span> LRF
Color: Rojo
Marca: BMW
Ocupantes: <span class="token number">4</span>
Categoria: TodoTerreno

Plaza <span class="token number">4</span>:
Matricula: 0000 DGP
Color: Negro
Marca: DESCONOCIDA
Ocupntes: <span class="token number">2</span>
Categoria: SinIdentificar

Plaza <span class="token number">5</span>:
Matricula: <span class="token number">8798</span> JWR
Color: Blanco
Marca: DAF
Ocupantes: <span class="token number">1</span>
Categoria: SinIdentificar
N&#xFA;mero de ejes: <span class="token number">2</span>
Carga M&#xE1;xima: <span class="token number">6000</span> Kg
</pre><div style="page-break-after:always;"></div>
<p>Propuesta de soluci&#xF3;n del caso de estudi anterior</p>
<ol>
<li>
<p>Lo primero ser&#xED;a definir un <strong>tipo para guardar matr&#xED;culas v&#xE1;lidas</strong>. B&#xE1;sicamente contendr&#xE1; un string, pero nos aseguraremos que lo que contiene es una matr&#xED;culo.</p>
<p><strong>Podr&#xED;amos definirlo como clase</strong>, pero tambi&#xE9;n cumple los requisitos para ser un tipo valor, puesto que un string es un tipo referencia <strong>inmutable</strong>. As&#xED; pues, por repasar conceptos, vamos a definirlo como un tipo valor <strong>struct</strong>.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="150.6849px" preserveAspectRatio="none" style="width:257px;height:150px;" version="1.1" viewBox="0 0 257 150" width="257.9909px" zoomAndPan="magnify"><defs><filter height="300%" id="fuzo4epj8bi0c" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.2831050228310503"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.566210045662101" dy="4.566210045662101" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ba2b4c83d307e647b8c7e3d62f712e68]
class Matricula--><rect codeline="8" fill="#FFFAFA" filter="url(#fuzo4epj8bi0c)" height="127.3188" id="Matricula" style="stroke:#000000;stroke-width:1.7123287671232879;" width="234.0183" x="7.9909" y="7.9909"/><ellipse cx="85.3311" cy="30.9289" fill="#FF7700" rx="12.5571" ry="12.5571" style="stroke:#000000;stroke-width:1.1415525114155252;"/><path d="M82.5307,34.6925 L82.5307,27.094 Q81.9064,27.0762 81.6032,26.8086 Q81.3178,26.5411 81.3178,26.113 Q81.3178,25.6849 81.621,25.4174 Q81.9242,25.1498 82.6199,25.1498 L86.6866,25.1498 Q87.632,25.1498 88.5417,25.5066 Q89.4513,25.8455 90.0043,26.3984 Q90.4145,26.8086 90.8604,27.5221 Q91.3064,28.2178 91.5382,28.9312 Q91.7701,29.6269 91.7701,30.6436 L91.7701,31.5711 Q91.7701,32.8018 91.342,33.765 Q90.9318,34.7103 90.254,35.3168 Q89.5762,35.9054 88.9876,36.1908 Q88.0422,36.6367 86.5261,36.6367 L82.6199,36.6367 Q81.9242,36.6367 81.621,36.3691 Q81.3178,36.1016 81.3178,35.6557 Q81.3178,35.2276 81.621,34.96 Q81.9242,34.6925 82.5307,34.6925 Z M84.4749,34.6925 L86.5439,34.6925 Q87.6855,34.6925 88.2741,34.3536 Q89.0411,33.9255 89.4335,33.2656 Q89.8259,32.5878 89.8259,31.5176 L89.8259,30.59 Q89.8259,29.6804 89.4692,28.9847 Q88.9162,27.8967 88.2206,27.5043 Q87.5428,27.094 86.5261,27.094 L84.4749,27.094 L84.4749,34.6925 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13.6986" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="74.2009" x="106.4498" y="27.919">&#xAB;dataType&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="13.6986" lengthAdjust="spacingAndGlyphs" textLength="55.9361" x="115.5822" y="45.1493">Matricula</text><line style="stroke:#000000;stroke-width:1.7123287671232879;" x1="9.1324" x2="240.8676" y1="53.867" y2="53.867"/><text fill="#000000" font-family="sans-serif" font-size="12.5571" lengthAdjust="spacingAndGlyphs" textLength="157.5342" x="14.8402" y="71.4685">-matricula : string {readOnly}</text><line style="stroke:#000000;stroke-width:1.7123287671232879;" x1="9.1324" x2="240.8676" y1="78.7939" y2="78.7939"/><text fill="#000000" font-family="sans-serif" font-size="12.5571" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="220.3196" x="14.8402" y="96.3954">+EsValida(in matricula : string) : boolean</text><text fill="#000000" font-family="sans-serif" font-size="12.5571" lengthAdjust="spacingAndGlyphs" textLength="167.8082" x="14.8402" y="112.1899">+Matricula(in matricula : string)</text><text fill="#000000" font-family="sans-serif" font-size="12.5571" lengthAdjust="spacingAndGlyphs" textLength="108.4475" x="14.8402" y="127.9843">^+ToString() : string</text><!--MD5=[5aeb11d13e1a06672ef22f194064a699]
@startuml
scale 250 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

class Matricula <<(D,#FF7700) dataType>>
{
    -matricula : string {readOnly}
    {static} +EsValida(in matricula : string) : boolean
    +Matricula(in matricula : string)
    ^+ToString() : string
}

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">struct</span> <span class="token class-name">Matricula</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name"><span class="token keyword">string</span></span> matricula<span class="token punctuation">;</span>

    <span class="token comment">// De momento lo dejamos privado, pues podemos obtener la matr&#xED;cula a trav&#xE9;s del ToString()</span>
    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> matricula<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Dejamos la comprobaci&#xF3;n de matr&#xED;cula como un m&#xE9;todo de clase publica de utilidad.</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">EsValida</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> matricula<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// [^a-z\W\s\dAEIOU] Cualquier letra que no sea: Min&#xFA;scula, Caracter no alfanumerico, Espacios o Vocales en may&#xFA;scula.</span>
        <span class="token comment">// Lo cual deja solo las may&#xFA;culas que no sean vocales.</span>
        <span class="token keyword">return</span> Regex<span class="token punctuation">.</span><span class="token function">IsMatch</span><span class="token punctuation">(</span>matricula<span class="token punctuation">,</span> <span class="token string">@&quot;^[0-9]{4} [^a-z\W\s\dAEIOU]{3}$&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Matricula</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> matricula<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Solo pertmitimos crear matr&#xED;culas v&#xE1;lidas.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">EsValida</span><span class="token punctuation">(</span>matricula<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;La matr&#xED;cula </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">matricula</span><span class="token punctuation">}</span></span><span class="token string"> no es correcta.&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>matricula <span class="token operator">=</span> matricula<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Las estructuras como las clases, tambi&#xE9;n heredan de Object y por tanto pueden </span>
    <span class="token comment">// invalidar ToString.</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>En segundo lugar definiremos la clase <strong><code>Veh&#xED;culo</code></strong>. F&#xED;jate que al usar el tipo valor Matr&#xED;cula existe una <strong>composici&#xF3;n impl&#xED;cita</strong>.<br>
Adem&#xE1;s, hemos definido de forma <strong>anidada</strong> dos tispos enumerados publicos dentro de Veh&#xED;culo. De ta&#xF1; manera que ara hacer referencia a ellos desde fuera de la clase usaremos la notaci&#xF3;n <strong><code>Vehiculo.Color</code></strong> y <strong><code>Vahiculo.Marca</code></strong> de esta manera no tendremos redundancia en los nombre y no habr&#xE1; conflicto de nombres con otros tipos <strong><code>Color</code></strong>.<br>
Esta relaci&#xF3;n de <strong>anidaci&#xF3;n</strong> el un diagrama de clases UML la podrmos expresar de la siguiente manera:</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="77.0833px" preserveAspectRatio="none" style="width:463px;height:77px;" version="1.1" viewBox="0 0 463 77" width="463.5417px" zoomAndPan="magnify"><defs><filter height="300%" id="f1335n66pppqxf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0833333333333335"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.166666666666667" dy="4.166666666666667" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[18eee71c88ab61f27581b8cbdd3ef5ee]
class Color--><rect codeline="11" fill="#FFFAFA" filter="url(#f1335n66pppqxf)" height="41.862" id="Color" style="stroke:#000000;stroke-width:1.5625;" width="116.6667" x="7.2917" y="14.5833"/><ellipse cx="22.9167" cy="35.5143" fill="#EB937F" rx="11.4583" ry="11.4583" style="stroke:#000000;stroke-width:1.0416666666666667;"/><path d="M21.7285,36.3444 L21.7285,38.9486 L26.237,38.9486 L26.237,37.9883 Q26.237,37.3535 26.4811,37.0768 Q26.7415,36.8001 27.1322,36.8001 Q27.5228,36.8001 27.7669,37.0768 Q28.0111,37.3535 28.0111,37.9883 L28.0111,40.7227 L19.6777,40.7227 Q19.0267,40.7227 18.75,40.4785 Q18.4896,40.2344 18.4896,39.8275 Q18.4896,39.4368 18.7663,39.1927 Q19.043,38.9486 19.6777,38.9486 L19.9544,38.9486 L19.9544,32.015 L19.6777,32.015 Q19.0267,32.015 18.75,31.7708 Q18.4896,31.5267 18.4896,31.1198 Q18.4896,30.7292 18.75,30.485 Q19.0267,30.2409 19.6777,30.2409 L27.6204,30.2409 L27.6204,32.9427 Q27.6204,33.5775 27.3763,33.8542 Q27.1484,34.1146 26.7415,34.1146 Q26.3509,34.1146 26.1068,33.8542 Q25.8626,33.5775 25.8626,32.9427 L25.8626,32.015 L21.7285,32.015 L21.7285,34.5703 L23.2747,34.5703 Q23.2747,33.8867 23.4049,33.6914 Q23.6816,33.2682 24.1699,33.2682 Q24.5605,33.2682 24.8047,33.5449 Q25.0488,33.8053 25.0488,34.4401 L25.0488,36.4909 Q25.0488,37.0605 24.9186,37.2559 Q24.6419,37.6628 24.1699,37.6628 Q23.6816,37.6628 23.4049,37.2396 Q23.2747,37.0443 23.2747,36.3444 L21.7285,36.3444 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.5" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87.5" x="35.4167" y="32.7677">&#xAB;enumeration&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="12.5" lengthAdjust="spacingAndGlyphs" textLength="31.25" x="63.5417" y="48.4904">Color</text><!--MD5=[c697cdd6c102d1ef4f6082caf1dabcae]
class Marca--><rect codeline="12" fill="#FFFAFA" filter="url(#f1335n66pppqxf)" height="41.862" id="Marca" style="stroke:#000000;stroke-width:1.5625;" width="116.6667" x="332.2917" y="14.5833"/><ellipse cx="347.9167" cy="35.5143" fill="#EB937F" rx="11.4583" ry="11.4583" style="stroke:#000000;stroke-width:1.0416666666666667;"/><path d="M346.7285,36.3444 L346.7285,38.9486 L351.237,38.9486 L351.237,37.9883 Q351.237,37.3535 351.4811,37.0768 Q351.7415,36.8001 352.1322,36.8001 Q352.5228,36.8001 352.7669,37.0768 Q353.0111,37.3535 353.0111,37.9883 L353.0111,40.7227 L344.6777,40.7227 Q344.0267,40.7227 343.75,40.4785 Q343.4896,40.2344 343.4896,39.8275 Q343.4896,39.4368 343.7663,39.1927 Q344.043,38.9486 344.6777,38.9486 L344.9544,38.9486 L344.9544,32.015 L344.6777,32.015 Q344.0267,32.015 343.75,31.7708 Q343.4896,31.5267 343.4896,31.1198 Q343.4896,30.7292 343.75,30.485 Q344.0267,30.2409 344.6777,30.2409 L352.6204,30.2409 L352.6204,32.9427 Q352.6204,33.5775 352.3763,33.8542 Q352.1484,34.1146 351.7415,34.1146 Q351.3509,34.1146 351.1068,33.8542 Q350.8626,33.5775 350.8626,32.9427 L350.8626,32.015 L346.7285,32.015 L346.7285,34.5703 L348.2747,34.5703 Q348.2747,33.8867 348.4049,33.6914 Q348.6816,33.2682 349.1699,33.2682 Q349.5605,33.2682 349.8047,33.5449 Q350.0488,33.8053 350.0488,34.4401 L350.0488,36.4909 Q350.0488,37.0605 349.9186,37.2559 Q349.6419,37.6628 349.1699,37.6628 Q348.6816,37.6628 348.4049,37.2396 Q348.2747,37.0443 348.2747,36.3444 L346.7285,36.3444 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.5" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87.5" x="360.4167" y="32.7677">&#xAB;enumeration&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="12.5" lengthAdjust="spacingAndGlyphs" textLength="34.375" x="386.9792" y="48.4904">Marca</text><!--MD5=[1d6438b19b75334de94d74596f8416e5]
class Vehiculo--><rect codeline="15" fill="#FFFAFA" filter="url(#f1335n66pppqxf)" height="56.0791" id="Vehiculo" style="stroke:#000000;stroke-width:1.5625;" width="135.4167" x="160.4167" y="7.2917"/><ellipse cx="199.9479" cy="23.9583" fill="#ADD1B2" rx="11.4583" ry="11.4583" style="stroke:#000000;stroke-width:1.0416666666666667;"/><path d="M202.8288,19.6615 Q202.9915,19.4336 203.1868,19.3197 Q203.3822,19.2057 203.61,19.2057 Q204.0007,19.2057 204.2448,19.4824 Q204.4889,19.7428 204.4889,20.3776 L204.4889,21.8913 Q204.4889,22.526 204.2448,22.8027 Q204.0007,23.0794 203.61,23.0794 Q203.252,23.0794 203.0404,22.8678 Q202.8288,22.6725 202.7148,22.1354 Q202.666,21.7611 202.4707,21.5658 Q202.1289,21.1751 201.4941,20.9473 Q200.8594,20.7194 200.2083,20.7194 Q199.4108,20.7194 198.7435,21.0612 Q198.0924,21.403 197.5716,22.1842 Q197.0671,22.9655 197.0671,24.0397 L197.0671,25.179 Q197.0671,26.4648 197.9948,27.3275 Q198.9225,28.1738 200.5827,28.1738 Q201.5592,28.1738 202.2428,27.9134 Q202.6497,27.7507 203.0892,27.2949 Q203.3659,27.0182 203.5124,26.9368 Q203.6751,26.8555 203.8867,26.8555 Q204.2285,26.8555 204.4889,27.1322 Q204.7656,27.3926 204.7656,27.7507 Q204.7656,28.1087 204.4076,28.5319 Q203.8867,29.1341 203.0566,29.4759 Q201.9336,29.9479 200.5827,29.9479 Q199.0039,29.9479 197.7507,29.2969 Q196.7253,28.776 196.0091,27.6693 Q195.293,26.5462 195.293,25.2116 L195.293,24.0072 Q195.293,22.6237 195.9277,21.4355 Q196.5788,20.2311 197.7181,19.5964 Q198.8574,18.9453 200.1432,18.9453 Q200.9082,18.9453 201.5755,19.1243 Q202.2591,19.2871 202.8288,19.6615 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.5" lengthAdjust="spacingAndGlyphs" textLength="48.9583" x="219.8438" y="29.0731">Vehiculo</text><line style="stroke:#000000;stroke-width:1.5625;" x1="161.4583" x2="294.7917" y1="40.625" y2="40.625"/><text fill="#000000" font-family="sans-serif" font-size="11.4583" lengthAdjust="spacingAndGlyphs" textLength="122.9167" x="166.6667" y="56.6864">-matricula : Matricula {id}</text><!--MD5=[29aefc7eb786748b8effedf729eb18d7]
link Color to Vehiculo--><path codeline="20" d="M124.0208,35.4167 C130.8125,35.4167 137.5938,35.4167 144.3854,35.4167 " fill="none" id="Color-to-Vehiculo" style="stroke:#000000;stroke-width:1.0416666666666667;"/><ellipse cx="151.8854" cy="35.4167" fill="#FFFFFF" rx="8.3333" ry="8.3333" style="stroke:#000000;stroke-width:1.0416666666666667;"/><line style="stroke:#000000;stroke-width:1.0416666666666667;" x1="143.5521" x2="160.2188" y1="35.4167" y2="35.4167"/><line style="stroke:#000000;stroke-width:1.0416666666666667;" x1="151.8854" x2="151.8854" y1="27.0833" y2="43.75"/><!--MD5=[2de6376aee23b4d8f8b32c5f40e26100]
reverse link Vehiculo to Marca--><path codeline="21" d="M311.8854,35.4167 C318.6771,35.4167 325.4583,35.4167 332.25,35.4167 " fill="none" id="Vehiculo-backto-Marca" style="stroke:#000000;stroke-width:1.0416666666666667;"/><ellipse cx="304.375" cy="35.4167" fill="#FFFFFF" rx="8.3333" ry="8.3333" style="stroke:#000000;stroke-width:1.0416666666666667;"/><line style="stroke:#000000;stroke-width:1.0416666666666667;" x1="312.7083" x2="296.0417" y1="35.4167" y2="35.4167"/><line style="stroke:#000000;stroke-width:1.0416666666666667;" x1="304.375" x2="304.375" y1="43.75" y2="27.0833"/><!--MD5=[4c8d2098e8570a9ce86c1af93376dd5b]
@startuml
scale 450 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide members
hide attributes

enum Color <<enumeration>>
enum Marca <<enumeration>>

show Vehiculo attributes
class Vehiculo
{
    - matricula : Matricula {id}
}

Color -+ Vehiculo
Vehiculo +- Marca

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definimos los tipos enumerados de la especificaci&#xF3;n</span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Color</span> <span class="token punctuation">{</span> Blanco<span class="token punctuation">,</span> Morado<span class="token punctuation">,</span> Cian<span class="token punctuation">,</span> Azul<span class="token punctuation">,</span> Rojo<span class="token punctuation">,</span> Verde<span class="token punctuation">,</span> Negro<span class="token punctuation">,</span> Naranja<span class="token punctuation">,</span> Gris <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Marca</span> <span class="token punctuation">{</span> DESCONOCIDA<span class="token punctuation">,</span> BMW<span class="token punctuation">,</span> SEAT<span class="token punctuation">,</span> AUDI<span class="token punctuation">,</span> RENAULT<span class="token punctuation">,</span> MAN<span class="token punctuation">,</span> DAF<span class="token punctuation">,</span> CITROEN<span class="token punctuation">,</span> TOYOTA<span class="token punctuation">,</span> SUZUKI<span class="token punctuation">,</span> YAMAHA<span class="token punctuation">,</span> MERCEDES<span class="token punctuation">,</span> PEGASO <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// Las caracter&#xED;sticas comunes a todos los veh&#xED;culos, registrables por la IA</span>
    <span class="token comment">// Ser&#xE1;n de solo lectura y por tanto solo definiremos accesores.</span>
    <span class="token comment">// Adem&#xE1;s, una vez creados los objectos veh&#xED;culos ya no podr&#xE1;n cambiar de estado (Ser&#xE1;n inmutables.).</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Matricula</span> matricula<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Color</span> color<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name"><span class="token keyword">ushort</span></span> ocupantes<span class="token punctuation">;</span>
</pre> <div style="page-break-after:always;"></div>
<p>F&#xED;jate en el los comentarios de la implementaci&#xF3;n de <strong><code>object GetCategoria()</code></strong></p>
<pre data-role="codeBlock" data-info="csharp {highlight=[17, 39]}" class="language-csharp" data-line="17,39">    <span class="token keyword">public</span> <span class="token return-type class-name">Matricula</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> matricula<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Color</span> <span class="token function">GetColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Marca</span> <span class="token function">GetMarca</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> marca<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">ushort</span></span> <span class="token function">GetOcupantes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ocupantes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Los objetos veh&#xED;culos creados como tal no tienen categor&#xED;a, y por tanto al pregunt&#xE1;rsela</span>
    <span class="token comment">// retornaremos SinIdentificar y daremos la posibilidad de invalidarla en futuras especificaciones.</span>
    <span class="token comment">// Adem&#xE1;s, fijate que la categor&#xED;a se devolver&#xE1; en su forma de object con lo que, independientemente</span>
    <span class="token comment">// del tipo con el que la codifiquemos, de ella &#xFA;nicamente podremos saber la cadena que </span>
    <span class="token comment">// la representa llamando a ToString() (Ver l&#xED;nea 39).</span>
    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;SinIdentificar&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token class-name">Matricula</span> matricula<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">ushort</span></span> ocupantes<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>matricula <span class="token operator">=</span> matricula<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>marca <span class="token operator">=</span> marca<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ocupantes <span class="token operator">=</span> ocupantes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Matricula: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$&quot;Color: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$&quot;Marca: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetMarca</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$&quot;Ocupantes: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetOcupantes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$&quot;Categoria: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
              <span class="token comment">// Aqu&#xED;, aunque llamemos a GetCategoria() no mostrar&#xE1; siempre SinIdentificar puesto</span>
              <span class="token comment">// que si hay una subclase que invalide el m&#xE9;todo, har&#xE1; un enlace din&#xE1;mico a la </span>
              <span class="token comment">// implementaci&#xF3;n del mismo haga esa subclase.</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> obj<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Invalidaci&#xF3;n de Equals de onject, para comparar dos objectos vehiculo por matricula.</span>
        <span class="token keyword">return</span> obj <span class="token keyword">is</span> <span class="token class-name">Vehiculo</span> v <span class="token operator">&amp;&amp;</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">CompareTo</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">GetHashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// En ocasiones la invalidaci&#xF3;n de Equals implica la invalidaci&#xF3;n de GetHashCode</span>
        <span class="token comment">// El valos de hash de un vehiculo ser&#xE1; el hash de la cadena de su matr&#xED;cula.</span>
        <span class="token keyword">return</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetHashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">















<div aria-hidden="true" class="line-highlight" data-range="17" data-start="17">
</div></div><div class="line-highlight-wrapper">





































<div aria-hidden="true" class="line-highlight" data-range="39" data-start="39">
</div></div></pre></li>
</ol>
<div style="page-break-after:always;"></div>
<ol>
<li>
<p>Vamos a realizar las <strong>tres especificaciones de <code>Vehiculo</code></strong> y usaremos <strong>herencia</strong> para ello. Adem&#xE1;s, como comentamos en <strong><code>Vehiculo</code></strong>, definiremos un <strong>tipo enum anidado</strong> <strong><code>Categoria</code></strong> para cada una de las subclasificaciones de veh&#xED;culos.</p>
<p>Es f&#xE1;cil deducir las clasificaciones y los par&#xE1;metros necesarios para definirlas, viendo el programa de ejemplo propuesto en el enunciado y est&#xE1;s ser&#xE1;n <strong><code>Coche</code></strong>, <strong><code>Moto</code></strong> y <strong><code>Camion</code></strong></p>
<p>En todas la implementaciones invalidaremos el m&#xE9;todo <strong><code>object GetCategoria()</code></strong>, que al devolver diferentes tipos enumerados seg&#xFA;n la clasificaci&#xF3;n lo haremos haciendo una sustitici&#xF3;n hacia <strong><code>object</code></strong>.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="266.3043px" preserveAspectRatio="none" style="width:464px;height:266px;" version="1.1" viewBox="0 0 464 266" width="464.1304px" zoomAndPan="magnify"><defs><filter height="300%" id="f11529bqm6tq60" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.1739130434782608"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.3478260869565215" dy="4.3478260869565215" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[1d6438b19b75334de94d74596f8416e5]
class Vehiculo--><rect codeline="11" fill="#FFFAFA" filter="url(#f11529bqm6tq60)" height="34.7826" id="Vehiculo" style="stroke:#000000;stroke-width:1.6304347826086956;" width="85.8696" x="185.3261" y="7.6087"/><ellipse cx="201.6304" cy="25" fill="#ADD1B2" rx="11.9565" ry="11.9565" style="stroke:#000000;stroke-width:1.0869565217391304;"/><path d="M204.6365,20.5163 Q204.8064,20.2785 205.0102,20.1596 Q205.214,20.0408 205.4518,20.0408 Q205.8594,20.0408 206.1141,20.3295 Q206.3689,20.6012 206.3689,21.2636 L206.3689,22.8431 Q206.3689,23.5054 206.1141,23.7942 Q205.8594,24.0829 205.4518,24.0829 Q205.0781,24.0829 204.8573,23.8621 Q204.6365,23.6583 204.5177,23.0978 Q204.4667,22.7072 204.2629,22.5034 Q203.9063,22.0958 203.2439,21.858 Q202.5815,21.6202 201.9022,21.6202 Q201.07,21.6202 200.3736,21.9769 Q199.6943,22.3336 199.1508,23.1488 Q198.6243,23.964 198.6243,25.0849 L198.6243,26.2738 Q198.6243,27.6155 199.5924,28.5156 Q200.5605,29.3988 202.2928,29.3988 Q203.3118,29.3988 204.0251,29.127 Q204.4497,28.9572 204.9083,28.4817 Q205.197,28.1929 205.3499,28.108 Q205.5197,28.0231 205.7405,28.0231 Q206.0971,28.0231 206.3689,28.3118 Q206.6576,28.5836 206.6576,28.9572 Q206.6576,29.3308 206.284,29.7724 Q205.7405,30.4008 204.8743,30.7575 Q203.7024,31.25 202.2928,31.25 Q200.6454,31.25 199.3376,30.5707 Q198.2677,30.0272 197.5204,28.8723 Q196.7731,27.7004 196.7731,26.3077 L196.7731,25.051 Q196.7731,23.6073 197.4355,22.3675 Q198.1148,21.1107 199.3037,20.4484 Q200.4925,19.769 201.8342,19.769 Q202.6325,19.769 203.3288,19.9558 Q204.0421,20.1257 204.6365,20.5163 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13.0435" lengthAdjust="spacingAndGlyphs" textLength="51.087" x="216.8478" y="30.3371">Vehiculo</text><!--MD5=[9e62edc53476c64bb488036abd7b0275]
class Coche--><rect codeline="12" fill="#FFFAFA" filter="url(#f11529bqm6tq60)" height="34.7826" id="Coche" style="stroke:#000000;stroke-width:1.6304347826086956;" width="73.913" x="57.6087" y="107.6087"/><ellipse cx="73.913" cy="125" fill="#ADD1B2" rx="11.9565" ry="11.9565" style="stroke:#000000;stroke-width:1.0869565217391304;"/><path d="M76.9192,120.5163 Q77.089,120.2785 77.2928,120.1596 Q77.4966,120.0408 77.7344,120.0408 Q78.142,120.0408 78.3967,120.3295 Q78.6515,120.6012 78.6515,121.2636 L78.6515,122.8431 Q78.6515,123.5054 78.3967,123.7942 Q78.142,124.0829 77.7344,124.0829 Q77.3607,124.0829 77.1399,123.8621 Q76.9192,123.6583 76.8003,123.0978 Q76.7493,122.7072 76.5455,122.5034 Q76.1889,122.0958 75.5265,121.858 Q74.8641,121.6202 74.1848,121.6202 Q73.3526,121.6202 72.6563,121.9769 Q71.9769,122.3336 71.4334,123.1488 Q70.9069,123.964 70.9069,125.0849 L70.9069,126.2738 Q70.9069,127.6155 71.875,128.5156 Q72.8431,129.3988 74.5754,129.3988 Q75.5944,129.3988 76.3077,129.127 Q76.7323,128.9572 77.1909,128.4817 Q77.4796,128.1929 77.6325,128.108 Q77.8023,128.0231 78.0231,128.0231 Q78.3798,128.0231 78.6515,128.3118 Q78.9402,128.5836 78.9402,128.9572 Q78.9402,129.3308 78.5666,129.7724 Q78.0231,130.4008 77.1569,130.7575 Q75.9851,131.25 74.5754,131.25 Q72.928,131.25 71.6202,130.5707 Q70.5503,130.0272 69.803,128.8723 Q69.0557,127.7004 69.0557,126.3077 L69.0557,125.051 Q69.0557,123.6073 69.7181,122.3675 Q70.3974,121.1107 71.5863,120.4484 Q72.7751,119.769 74.1168,119.769 Q74.9151,119.769 75.6114,119.9558 Q76.3247,120.1257 76.9192,120.5163 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13.0435" lengthAdjust="spacingAndGlyphs" textLength="39.1304" x="89.1304" y="130.3371">Coche</text><!--MD5=[2b79b7536f4e96f5c913208b633bce6d]
class Moto--><rect codeline="13" fill="#FFFAFA" filter="url(#f11529bqm6tq60)" height="34.7826" id="Moto" style="stroke:#000000;stroke-width:1.6304347826086956;" width="63.0435" x="196.7391" y="107.6087"/><ellipse cx="213.0435" cy="125" fill="#ADD1B2" rx="11.9565" ry="11.9565" style="stroke:#000000;stroke-width:1.0869565217391304;"/><path d="M216.0496,120.5163 Q216.2194,120.2785 216.4232,120.1596 Q216.627,120.0408 216.8648,120.0408 Q217.2724,120.0408 217.5272,120.3295 Q217.7819,120.6012 217.7819,121.2636 L217.7819,122.8431 Q217.7819,123.5054 217.5272,123.7942 Q217.2724,124.0829 216.8648,124.0829 Q216.4912,124.0829 216.2704,123.8621 Q216.0496,123.6583 215.9307,123.0978 Q215.8798,122.7072 215.676,122.5034 Q215.3193,122.0958 214.6569,121.858 Q213.9946,121.6202 213.3152,121.6202 Q212.483,121.6202 211.7867,121.9769 Q211.1073,122.3336 210.5639,123.1488 Q210.0374,123.964 210.0374,125.0849 L210.0374,126.2738 Q210.0374,127.6155 211.0054,128.5156 Q211.9735,129.3988 213.7058,129.3988 Q214.7249,129.3988 215.4382,129.127 Q215.8628,128.9572 216.3213,128.4817 Q216.6101,128.1929 216.7629,128.108 Q216.9327,128.0231 217.1535,128.0231 Q217.5102,128.0231 217.7819,128.3118 Q218.0707,128.5836 218.0707,128.9572 Q218.0707,129.3308 217.697,129.7724 Q217.1535,130.4008 216.2874,130.7575 Q215.1155,131.25 213.7058,131.25 Q212.0584,131.25 210.7507,130.5707 Q209.6807,130.0272 208.9334,128.8723 Q208.1861,127.7004 208.1861,126.3077 L208.1861,125.051 Q208.1861,123.6073 208.8485,122.3675 Q209.5279,121.1107 210.7167,120.4484 Q211.9056,119.769 213.2473,119.769 Q214.0455,119.769 214.7418,119.9558 Q215.4552,120.1257 216.0496,120.5163 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13.0435" lengthAdjust="spacingAndGlyphs" textLength="28.2609" x="228.2609" y="130.3371">Moto</text><!--MD5=[3d5715e8ca76bbaa71360b4a707d5f4c]
class Camion--><rect codeline="14" fill="#FFFAFA" filter="url(#f11529bqm6tq60)" height="34.7826" id="Camion" style="stroke:#000000;stroke-width:1.6304347826086956;" width="82.6087" x="321.7391" y="107.6087"/><ellipse cx="338.0435" cy="125" fill="#ADD1B2" rx="11.9565" ry="11.9565" style="stroke:#000000;stroke-width:1.0869565217391304;"/><path d="M341.0496,120.5163 Q341.2194,120.2785 341.4232,120.1596 Q341.627,120.0408 341.8648,120.0408 Q342.2724,120.0408 342.5272,120.3295 Q342.7819,120.6012 342.7819,121.2636 L342.7819,122.8431 Q342.7819,123.5054 342.5272,123.7942 Q342.2724,124.0829 341.8648,124.0829 Q341.4912,124.0829 341.2704,123.8621 Q341.0496,123.6583 340.9307,123.0978 Q340.8798,122.7072 340.676,122.5034 Q340.3193,122.0958 339.6569,121.858 Q338.9946,121.6202 338.3152,121.6202 Q337.483,121.6202 336.7867,121.9769 Q336.1073,122.3336 335.5639,123.1488 Q335.0374,123.964 335.0374,125.0849 L335.0374,126.2738 Q335.0374,127.6155 336.0054,128.5156 Q336.9735,129.3988 338.7058,129.3988 Q339.7249,129.3988 340.4382,129.127 Q340.8628,128.9572 341.3213,128.4817 Q341.6101,128.1929 341.7629,128.108 Q341.9327,128.0231 342.1535,128.0231 Q342.5102,128.0231 342.7819,128.3118 Q343.0707,128.5836 343.0707,128.9572 Q343.0707,129.3308 342.697,129.7724 Q342.1535,130.4008 341.2874,130.7575 Q340.1155,131.25 338.7058,131.25 Q337.0584,131.25 335.7507,130.5707 Q334.6807,130.0272 333.9334,128.8723 Q333.1861,127.7004 333.1861,126.3077 L333.1861,125.051 Q333.1861,123.6073 333.8485,122.3675 Q334.5279,121.1107 335.7167,120.4484 Q336.9056,119.769 338.2473,119.769 Q339.0455,119.769 339.7418,119.9558 Q340.4552,120.1257 341.0496,120.5163 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13.0435" lengthAdjust="spacingAndGlyphs" textLength="47.8261" x="353.2609" y="130.3371">Camion</text><!--MD5=[42db767e8e8c82816bb91459a30c7c3a]
class CCoche--><rect codeline="15" fill="#FFFAFA" filter="url(#f11529bqm6tq60)" height="43.6821" id="CCoche" style="stroke:#000000;stroke-width:1.6304347826086956;" width="121.7391" x="7.6087" y="207.6087"/><ellipse cx="23.913" cy="229.4497" fill="#EB937F" rx="11.9565" ry="11.9565" style="stroke:#000000;stroke-width:1.0869565217391304;"/><path d="M22.6732,230.3159 L22.6732,233.0333 L27.3777,233.0333 L27.3777,232.0313 Q27.3777,231.3689 27.6325,231.0802 Q27.9042,230.7914 28.3118,230.7914 Q28.7194,230.7914 28.9742,231.0802 Q29.2289,231.3689 29.2289,232.0313 L29.2289,234.8845 L20.5333,234.8845 Q19.8539,234.8845 19.5652,234.6298 Q19.2935,234.375 19.2935,233.9504 Q19.2935,233.5428 19.5822,233.288 Q19.8709,233.0333 20.5333,233.0333 L20.822,233.0333 L20.822,225.7982 L20.5333,225.7982 Q19.8539,225.7982 19.5652,225.5435 Q19.2935,225.2887 19.2935,224.8641 Q19.2935,224.4565 19.5652,224.2018 Q19.8539,223.947 20.5333,223.947 L28.8213,223.947 L28.8213,226.7663 Q28.8213,227.4287 28.5666,227.7174 Q28.3288,227.9891 27.9042,227.9891 Q27.4966,227.9891 27.2418,227.7174 Q26.9871,227.4287 26.9871,226.7663 L26.9871,225.7982 L22.6732,225.7982 L22.6732,228.4647 L24.2867,228.4647 Q24.2867,227.7514 24.4226,227.5476 Q24.7113,227.106 25.2208,227.106 Q25.6284,227.106 25.8832,227.3947 Q26.1379,227.6664 26.1379,228.3288 L26.1379,230.4688 Q26.1379,231.0632 26.002,231.267 Q25.7133,231.6916 25.2208,231.6916 Q24.7113,231.6916 24.4226,231.25 Q24.2867,231.0462 24.2867,230.3159 L22.6732,230.3159 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13.0435" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="91.3043" x="36.9565" y="226.5837">&#xAB;enumeration&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="13.0435" lengthAdjust="spacingAndGlyphs" textLength="58.6957" x="53.2609" y="242.99">Categoria</text><!--MD5=[a2909de2033681619c3ee4d82cc95de5]
class CMoto--><rect codeline="16" fill="#FFFAFA" filter="url(#f11529bqm6tq60)" height="43.6821" id="CMoto" style="stroke:#000000;stroke-width:1.6304347826086956;" width="121.7391" x="167.3913" y="207.6087"/><ellipse cx="183.6957" cy="229.4497" fill="#EB937F" rx="11.9565" ry="11.9565" style="stroke:#000000;stroke-width:1.0869565217391304;"/><path d="M182.4558,230.3159 L182.4558,233.0333 L187.1603,233.0333 L187.1603,232.0313 Q187.1603,231.3689 187.4151,231.0802 Q187.6868,230.7914 188.0944,230.7914 Q188.502,230.7914 188.7568,231.0802 Q189.0115,231.3689 189.0115,232.0313 L189.0115,234.8845 L180.3159,234.8845 Q179.6365,234.8845 179.3478,234.6298 Q179.0761,234.375 179.0761,233.9504 Q179.0761,233.5428 179.3648,233.288 Q179.6535,233.0333 180.3159,233.0333 L180.6046,233.0333 L180.6046,225.7982 L180.3159,225.7982 Q179.6365,225.7982 179.3478,225.5435 Q179.0761,225.2887 179.0761,224.8641 Q179.0761,224.4565 179.3478,224.2018 Q179.6365,223.947 180.3159,223.947 L188.6039,223.947 L188.6039,226.7663 Q188.6039,227.4287 188.3492,227.7174 Q188.1114,227.9891 187.6868,227.9891 Q187.2792,227.9891 187.0245,227.7174 Q186.7697,227.4287 186.7697,226.7663 L186.7697,225.7982 L182.4558,225.7982 L182.4558,228.4647 L184.0693,228.4647 Q184.0693,227.7514 184.2052,227.5476 Q184.4939,227.106 185.0034,227.106 Q185.411,227.106 185.6658,227.3947 Q185.9205,227.6664 185.9205,228.3288 L185.9205,230.4688 Q185.9205,231.0632 185.7846,231.267 Q185.4959,231.6916 185.0034,231.6916 Q184.4939,231.6916 184.2052,231.25 Q184.0693,231.0462 184.0693,230.3159 L182.4558,230.3159 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13.0435" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="91.3043" x="196.7391" y="226.5837">&#xAB;enumeration&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="13.0435" lengthAdjust="spacingAndGlyphs" textLength="58.6957" x="213.0435" y="242.99">Categoria</text><!--MD5=[a35e2299b4b185891aa25a74d31e6344]
class CCamion--><rect codeline="17" fill="#FFFAFA" filter="url(#f11529bqm6tq60)" height="43.6821" id="CCamion" style="stroke:#000000;stroke-width:1.6304347826086956;" width="121.7391" x="327.1739" y="207.6087"/><ellipse cx="343.4783" cy="229.4497" fill="#EB937F" rx="11.9565" ry="11.9565" style="stroke:#000000;stroke-width:1.0869565217391304;"/><path d="M342.2385,230.3159 L342.2385,233.0333 L346.9429,233.0333 L346.9429,232.0313 Q346.9429,231.3689 347.1977,231.0802 Q347.4694,230.7914 347.877,230.7914 Q348.2846,230.7914 348.5394,231.0802 Q348.7942,231.3689 348.7942,232.0313 L348.7942,234.8845 L340.0985,234.8845 Q339.4192,234.8845 339.1304,234.6298 Q338.8587,234.375 338.8587,233.9504 Q338.8587,233.5428 339.1474,233.288 Q339.4361,233.0333 340.0985,233.0333 L340.3872,233.0333 L340.3872,225.7982 L340.0985,225.7982 Q339.4192,225.7982 339.1304,225.5435 Q338.8587,225.2887 338.8587,224.8641 Q338.8587,224.4565 339.1304,224.2018 Q339.4192,223.947 340.0985,223.947 L348.3865,223.947 L348.3865,226.7663 Q348.3865,227.4287 348.1318,227.7174 Q347.894,227.9891 347.4694,227.9891 Q347.0618,227.9891 346.8071,227.7174 Q346.5523,227.4287 346.5523,226.7663 L346.5523,225.7982 L342.2385,225.7982 L342.2385,228.4647 L343.8519,228.4647 Q343.8519,227.7514 343.9878,227.5476 Q344.2765,227.106 344.786,227.106 Q345.1936,227.106 345.4484,227.3947 Q345.7031,227.6664 345.7031,228.3288 L345.7031,230.4688 Q345.7031,231.0632 345.5673,231.267 Q345.2785,231.6916 344.786,231.6916 Q344.2765,231.6916 343.9878,231.25 Q343.8519,231.0462 343.8519,230.3159 L342.2385,230.3159 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13.0435" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="91.3043" x="356.5217" y="226.5837">&#xAB;enumeration&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="13.0435" lengthAdjust="spacingAndGlyphs" textLength="58.6957" x="372.8261" y="242.99">Categoria</text><!--MD5=[c27f9def16ac3f9a7e2a4e6489f83475]
reverse link Vehiculo to Coche--><path codeline="19" d="M188.2174,55.3804 C164.9239,72.4348 136.413,93.2935 117.0109,107.4891 " fill="none" id="Vehiculo-backto-Coche" style="stroke:#000000;stroke-width:1.0869565217391304;"/><polygon fill="none" points="183.8478,49.1522,205.8804,42.4565,192.837,61.4348,183.8478,49.1522" style="stroke:#000000;stroke-width:1.0869565217391304;"/><!--MD5=[a2222a7c2eb37bcc58db55aaeb96f0f7]
reverse link Coche to CCoche--><path codeline="20" d="M86.3261,158.3696 C82.2391,174.3587 77.4348,193.1957 73.837,207.2826 " fill="none" id="Coche-backto-CCoche" style="stroke:#000000;stroke-width:1.0869565217391304;"/><ellipse cx="88.2158" cy="150.9247" fill="#FFFFFF" rx="8.6957" ry="8.6957" style="stroke:#000000;stroke-width:1.0869565217391304;"/><line style="stroke:#000000;stroke-width:1.0869565217391304;" x1="86.062" x2="90.3696" y1="159.3494" y2="142.5"/><line style="stroke:#000000;stroke-width:1.0869565217391304;" x1="79.7911" x2="96.6405" y1="148.7709" y2="153.0785"/><!--MD5=[0881991697586410200a261a3c8efb5b]
reverse link Vehiculo to Moto--><path codeline="21" d="M228.2609,64.7935 C228.2609,79.6848 228.2609,95.8913 228.2609,107.5652 " fill="none" id="Vehiculo-backto-Moto" style="stroke:#000000;stroke-width:1.0869565217391304;"/><polygon fill="none" points="220.6522,64.4239,228.2609,42.6848,235.8696,64.4239,220.6522,64.4239" style="stroke:#000000;stroke-width:1.0869565217391304;"/><!--MD5=[2b9ab2ce91b1cb214672175fa966dbec]
reverse link Moto to CMoto--><path codeline="22" d="M228.2609,158.8804 C228.2609,174.75 228.2609,193.3478 228.2609,207.2826 " fill="none" id="Moto-backto-CMoto" style="stroke:#000000;stroke-width:1.0869565217391304;"/><ellipse cx="228.2609" cy="151.1957" fill="#FFFFFF" rx="8.6957" ry="8.6957" style="stroke:#000000;stroke-width:1.0869565217391304;"/><line style="stroke:#000000;stroke-width:1.0869565217391304;" x1="228.2609" x2="228.2609" y1="159.8913" y2="142.5"/><line style="stroke:#000000;stroke-width:1.0869565217391304;" x1="219.5652" x2="236.9565" y1="151.1957" y2="151.1957"/><!--MD5=[502656c0fa51d076f56c9a61e2fecab8]
reverse link Vehiculo to Camion--><path codeline="23" d="M268.6304,55.3804 C292.1196,72.4348 320.8478,93.2935 340.413,107.4891 " fill="none" id="Vehiculo-backto-Camion" style="stroke:#000000;stroke-width:1.0869565217391304;"/><polygon fill="none" points="263.9457,61.3913,250.8152,42.4565,272.8804,49.0761,263.9457,61.3913" style="stroke:#000000;stroke-width:1.0869565217391304;"/><!--MD5=[2a8480d69d3992221c4ec03d9eb53df2]
reverse link Camion to CCamion--><path codeline="24" d="M370.9457,158.3696 C374.8587,174.3587 379.4674,193.1957 382.913,207.2826 " fill="none" id="Camion-backto-CCamion" style="stroke:#000000;stroke-width:1.0869565217391304;"/><ellipse cx="369.1274" cy="150.9476" fill="#FFFFFF" rx="8.6957" ry="8.6957" style="stroke:#000000;stroke-width:1.0869565217391304;"/><line style="stroke:#000000;stroke-width:1.0869565217391304;" x1="371.1896" x2="367.0652" y1="159.3952" y2="142.5"/><line style="stroke:#000000;stroke-width:1.0869565217391304;" x1="360.6798" x2="377.575" y1="153.0098" y2="148.8854"/><!--MD5=[31a70e9cb0c7ffa43e03ba2a0be21144]
@startuml
scale 450 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide members
hide attributes

class Vehiculo
class Coche
class Moto
class Camion
enum "Categoria" as CCoche <<enumeration>>
enum "Categoria" as CMoto <<enumeration>>
enum "Categoria" as CCamion <<enumeration>>

Vehiculo ^- - Coche
Coche +- - CCoche
Vehiculo ^- - Moto
Moto +- - CMoto
Vehiculo ^- - Camion
Camion +- - CCamion

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Coche</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Categoria</span> <span class="token punctuation">{</span> SinIdentificar<span class="token punctuation">,</span> Berlina<span class="token punctuation">,</span> Coupe<span class="token punctuation">,</span> Sedan<span class="token punctuation">,</span> Cabrio<span class="token punctuation">,</span> TodoTerreno<span class="token punctuation">,</span> MonoVolumen<span class="token punctuation">,</span> Crossover <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Coche</span><span class="token punctuation">(</span><span class="token class-name">Matricula</span> matricula<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">ushort</span></span> ocupantes<span class="token punctuation">,</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">)</span>
           <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>matricula<span class="token punctuation">,</span> color<span class="token punctuation">,</span> marca<span class="token punctuation">,</span> ocupantes<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>categoria <span class="token operator">=</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Moto</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Categoria</span> <span class="token punctuation">{</span> SinIdentificar<span class="token punctuation">,</span> Scooter<span class="token punctuation">,</span> Motocross<span class="token punctuation">,</span> Naked<span class="token punctuation">,</span> Trail<span class="token punctuation">,</span> Supermotard <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Moto</span><span class="token punctuation">(</span><span class="token class-name">Matricula</span> matricula<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">ushort</span></span> ocupantes<span class="token punctuation">,</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">)</span>
           <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>matricula<span class="token punctuation">,</span> color<span class="token punctuation">,</span> marca<span class="token punctuation">,</span> ocupantes<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>categoria <span class="token operator">=</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre> <div style="page-break-after:always;"></div>
<p>Adem&#xE1;s en la especificaci&#xF3;n de cami&#xF3;n, a&#xF1;adiremos los atributos adicionales que puede identificar nuestra IA seg&#xFA;n las especificaciones.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Camion</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Categoria</span> <span class="token punctuation">{</span> SinIdentificar<span class="token punctuation">,</span> Articulado<span class="token punctuation">,</span> Frigor&#xED;fico<span class="token punctuation">,</span> Cisterna<span class="token punctuation">,</span> Trailer <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name"><span class="token keyword">ushort</span></span> ejes<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name"><span class="token keyword">ushort</span></span> cargaMaximaKg<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Camion</span><span class="token punctuation">(</span><span class="token class-name">Matricula</span> matricula<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">ushort</span></span> ocupantes<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">ushort</span></span> ejes<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">ushort</span></span> cargaMaximaKg<span class="token punctuation">,</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">)</span>
        <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>matricula<span class="token punctuation">,</span> color<span class="token punctuation">,</span> marca<span class="token punctuation">,</span> ocupantes<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ejes <span class="token operator">=</span> ejes<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cargaMaximaKg <span class="token operator">=</span> cargaMaximaKg<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>categoria <span class="token operator">=</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">ushort</span></span> <span class="token function">GetEjes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ejes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">ushort</span></span> <span class="token function">GetCargaMaximaKg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> cargaMaximaKg<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// En este caso el ToString s&#xED; deberemos invalidarlo, pues deber&#xE1; mostrar informaci&#xF3;n adicional.</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$&quot;N&#xFA;mero de ejes: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetEjes</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span>
               <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$&quot;Carga M&#xE1;xima: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetCargaMaximaKg</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> Kg&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</pre></li>
<li>
<p>Por &#xFA;ltimo vamos a modelar una clase para nuestra campa de veh&#xED;culos. Una posible modelizaci&#xF3;n para las especificaciones del enunciado y donde se ha seguido la signatura propuesta para las operaciones del objeto campa en el programa de ejemplo, podr&#xED;a ser la siguente...</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="233.7782px" preserveAspectRatio="none" style="width:564px;height:233px;" version="1.1" viewBox="0 0 564 233" width="564.6817px" zoomAndPan="magnify"><defs><filter height="300%" id="f6reegmy3jw7t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.2587268993839835"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.517453798767967" dy="4.517453798767967" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[1d6438b19b75334de94d74596f8416e5]
class Vehiculo--><rect fill="#FFFAFA" filter="url(#f6reegmy3jw7t)" height="36.1396" id="Vehiculo" style="stroke:#000000;stroke-width:1.6940451745379876;" width="89.2197" x="459.6509" y="94.8665"/><ellipse cx="476.5914" cy="112.9363" fill="#ADD1B2" rx="12.423" ry="12.423" style="stroke:#000000;stroke-width:1.1293634496919918;"/><path d="M479.7148,108.2777 Q479.8912,108.0307 480.103,107.9071 Q480.3147,107.7836 480.5618,107.7836 Q480.9853,107.7836 481.25,108.0836 Q481.5147,108.366 481.5147,109.0542 L481.5147,110.6953 Q481.5147,111.3835 481.25,111.6835 Q480.9853,111.9834 480.5618,111.9834 Q480.1736,111.9834 479.9442,111.754 Q479.7148,111.5423 479.5912,110.96 Q479.5383,110.5541 479.3266,110.3423 Q478.956,109.9188 478.2678,109.6718 Q477.5796,109.4247 476.8737,109.4247 Q476.009,109.4247 475.2855,109.7953 Q474.5797,110.1659 474.015,111.0129 Q473.468,111.8599 473.468,113.0246 L473.468,114.2598 Q473.468,115.6539 474.4738,116.5891 Q475.4797,117.5067 477.2796,117.5067 Q478.3384,117.5067 479.0795,117.2244 Q479.5207,117.0479 479.9971,116.5538 Q480.2971,116.2539 480.4559,116.1656 Q480.6324,116.0774 480.8618,116.0774 Q481.2324,116.0774 481.5147,116.3774 Q481.8147,116.6597 481.8147,117.0479 Q481.8147,117.4362 481.4265,117.895 Q480.8618,118.5479 479.9618,118.9184 Q478.7442,119.4302 477.2796,119.4302 Q475.5679,119.4302 474.2091,118.7243 Q473.0974,118.1597 472.321,116.9597 Q471.5445,115.7421 471.5445,114.2951 L471.5445,112.9893 Q471.5445,111.4893 472.2327,110.2012 Q472.9386,108.8953 474.1738,108.2071 Q475.4091,107.5013 476.8031,107.5013 Q477.6325,107.5013 478.356,107.6954 Q479.0972,107.8719 479.7148,108.2777 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13.5524" lengthAdjust="spacingAndGlyphs" textLength="53.0801" x="492.4025" y="118.4817">Vehiculo</text><!--MD5=[18656988134bac11598ac17fe8b0ddca]
class CampaVehiculos--><rect codeline="12" fill="#FFFAFA" filter="url(#f6reegmy3jw7t)" height="210.4675" id="CampaVehiculos" style="stroke:#000000;stroke-width:1.6940451745379876;" width="383.9836" x="7.9055" y="7.9055"/><ellipse cx="141.4528" cy="25.9754" fill="#ADD1B2" rx="12.423" ry="12.423" style="stroke:#000000;stroke-width:1.1293634496919918;"/><path d="M144.5762,21.3167 Q144.7526,21.0697 144.9644,20.9462 Q145.1761,20.8226 145.4232,20.8226 Q145.8467,20.8226 146.1114,21.1226 Q146.3761,21.405 146.3761,22.0932 L146.3761,23.7343 Q146.3761,24.4225 146.1114,24.7225 Q145.8467,25.0225 145.4232,25.0225 Q145.035,25.0225 144.8056,24.7931 Q144.5762,24.5813 144.4526,23.999 Q144.3997,23.5931 144.1879,23.3814 Q143.8174,22.9578 143.1292,22.7108 Q142.441,22.4637 141.7351,22.4637 Q140.8704,22.4637 140.1469,22.8343 Q139.4411,23.2049 138.8764,24.0519 Q138.3294,24.8989 138.3294,26.0636 L138.3294,27.2988 Q138.3294,28.6929 139.3352,29.6281 Q140.3411,30.5458 142.141,30.5458 Q143.1998,30.5458 143.9409,30.2634 Q144.3821,30.0869 144.8585,29.5929 Q145.1585,29.2929 145.3173,29.2046 Q145.4938,29.1164 145.7232,29.1164 Q146.0938,29.1164 146.3761,29.4164 Q146.6761,29.6987 146.6761,30.0869 Q146.6761,30.4752 146.2879,30.934 Q145.7232,31.5869 144.8232,31.9575 Q143.6056,32.4692 142.141,32.4692 Q140.4293,32.4692 139.0705,31.7633 Q137.9588,31.1987 137.1824,29.9987 Q136.4059,28.7811 136.4059,27.3341 L136.4059,26.0283 Q136.4059,24.5284 137.0941,23.2402 Q137.8,21.9344 139.0352,21.2461 Q140.2705,20.5403 141.6645,20.5403 Q142.4939,20.5403 143.2174,20.7344 Q143.9585,20.9109 144.5762,21.3167 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13.5524" lengthAdjust="spacingAndGlyphs" textLength="107.2895" x="164.6047" y="31.5207">CampaVehiculos</text><line style="stroke:#000000;stroke-width:1.6940451745379876;" x1="9.0349" x2="390.7598" y1="44.0452" y2="44.0452"/><text fill="#000000" font-family="sans-serif" font-size="12.423" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="179.5688" x="14.6817" y="61.4588">+CAPACIDAD : int = 5 {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.423" lengthAdjust="spacingAndGlyphs" textLength="234.9076" x="14.6817" y="77.0846">-plazas : Vehiculo[CAPACIDAD] {readOnly}</text><line style="stroke:#000000;stroke-width:1.6940451745379876;" x1="9.0349" x2="390.7598" y1="84.3317" y2="84.3317"/><text fill="#000000" font-family="sans-serif" font-size="12.423" lengthAdjust="spacingAndGlyphs" textLength="107.2895" x="14.6817" y="101.7453">+CampaVehiculos()</text><text fill="#000000" font-family="sans-serif" font-size="12.423" lengthAdjust="spacingAndGlyphs" textLength="201.0267" x="14.6817" y="117.3711">-GetPlazas() : Vehiculo[CAPACIDAD]</text><text fill="#000000" font-family="sans-serif" font-size="12.423" lengthAdjust="spacingAndGlyphs" textLength="153.5934" x="14.6817" y="132.9969">/+GetPlazasOcupadas() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.423" lengthAdjust="spacingAndGlyphs" textLength="147.9466" x="14.6817" y="148.6227">-Busca(in v : Vehiculo) : int</text><text fill="#000000" font-family="sans-serif" font-size="12.423" lengthAdjust="spacingAndGlyphs" textLength="132.1355" x="14.6817" y="164.2485">-BuscaPlazaVacia() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.423" lengthAdjust="spacingAndGlyphs" textLength="370.4312" x="14.6817" y="179.8743">+Entra(in v : Vehiculo, out plaza : int, out problema : string) : boolean</text><text fill="#000000" font-family="sans-serif" font-size="12.423" lengthAdjust="spacingAndGlyphs" textLength="365.9138" x="14.6817" y="195.5001">+Sale(in v : Vehiculo, out plaza : int, out problema : string) : boolean</text><text fill="#000000" font-family="sans-serif" font-size="12.423" lengthAdjust="spacingAndGlyphs" textLength="107.2895" x="14.6817" y="211.1259">^+ToString() : string</text><!--MD5=[723b90ff1633580b852d49b542523bc7]
reverse link CampaVehiculos to Vehiculo--><path codeline="26" d="M406.7402,112.9363 C426.2669,112.9363 444.3819,112.9363 459.5154,112.9363 " fill="none" id="CampaVehiculos-backto-Vehiculo" style="stroke:#000000;stroke-width:1.1293634496919918;"/><polygon fill="#FFFFFF" points="391.923,112.9363,398.6992,117.4538,405.4754,112.9363,398.6992,108.4189,391.923,112.9363" style="stroke:#000000;stroke-width:1.1293634496919918;"/><text fill="#000000" font-family="sans-serif" font-size="14.6817" lengthAdjust="spacingAndGlyphs" textLength="24.846" x="425.9155" y="129.5911">0..5</text><!--MD5=[74748f6fb1b4d9fe9250ac7deb36bd47]
@startuml
scale 550 width
left to right direction
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow
   
hide Vehiculo members
hide Vehiculo attributes

class CampaVehiculos
{
    {static} +CAPACIDAD : int = 5 {readOnly}
    -plazas : Vehiculo[CAPACIDAD] {readOnly}
    +CampaVehiculos()
    -GetPlazas() : Vehiculo[CAPACIDAD]
    /+GetPlazasOcupadas() : int
    -Busca(in v : Vehiculo) : int
    -BuscaPlazaVacia() : int 
    +Entra(in v : Vehiculo, out plaza : int, out problema : string) : boolean
    +Sale(in v : Vehiculo, out plaza : int, out problema : string) : boolean
    ^+ToString() : string
}

CampaVehiculos o- - "0..5" Vehiculo

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p>Veamos la implementaci&#xF3;n comentada ....</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">CampaVehiculos</span>
<span class="token punctuation">{</span>
    <span class="token comment">// campo de clase y de solo lectura con un valor literal en C# se define con un const</span>
    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token class-name"><span class="token keyword">int</span></span> CAPACIDAD <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token comment">// El array aunque sea del tipo Vehiculo, realmente va a representar las 5 plazas</span>
    <span class="token comment">// disponibles en la campa. Si hay un null significar&#xE1; que la plaza est&#xE1; vac&#xED;a y </span>
    <span class="token comment">// si hay un objeto Vehiculo la plaza estar&#xE1; ocupada.</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Vehiculo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> plazas<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">CampaVehiculos</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        plazas <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vehiculo</span><span class="token punctuation">[</span>CAPACIDAD<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token return-type class-name">Vehiculo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> plazas<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</pre> <div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp">    <span class="token comment">// Es un accesor calculado que me indica el n&#xFA;mero de plazas que contienen un veh&#xED;culo.</span>
    <span class="token comment">// Nota: Por eso lo hemos marcado con la / delante del nombre del m&#xE9;todo en el diagrama UML.</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">GetPlazasOcupadas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">int</span></span> ocupadas <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v <span class="token keyword">in</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> ocupadas<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> ocupadas<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Implementaci&#xF3;n de la especificaci&#xF3;n del Busca</span>
    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">Busca</span><span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> i<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Implementaci&#xF3;n de la especificaci&#xF3;n del BuscaPlazaVacia</span>
    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">BuscaPlazaVacia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> i<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Operaci&#xF3;n de entrada de un veh&#xED;culo en un ojeto campa.</span>
    <span class="token comment">// Devolver&#xE1; un booleano indic&#xE1;ndome si el veh&#xED;culo ha podido entrar o no</span>
    <span class="token comment">// y dos valores subordinados al mismo:</span>
    <span class="token comment">// - Si retorna true en plaza nos indicar&#xE1; la plaza de 1 a 5 donde a entrado.</span>
    <span class="token comment">// - Si retorna false en problema nos indicar&#xE1; el problema por el que no ha podido entrar.</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">Entra</span><span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">int</span></span> plaza<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">string</span></span> problema<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Compruebo que haya espacio en la campa.</span>
        <span class="token class-name"><span class="token keyword">bool</span></span> entra <span class="token operator">=</span> <span class="token function">GetPlazasOcupadas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> CAPACIDAD<span class="token punctuation">;</span>
        plaza <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        problema <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>entra<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Si hay espacio compruebo que el veh&#xED;culo no est&#xE9; ya registrado.</span>
            <span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token function">Busca</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
            entra <span class="token operator">=</span> i <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>entra<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token comment">// Si no est&#xE1; registrado busco la primera plaza vac&#xED;a para aparcarlo</span>
                plaza <span class="token operator">=</span> <span class="token function">BuscaPlazaVacia</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>plaza <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
                problema <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$&quot;Ya se encuentra en el aparcamiento el veh&#xED;culo </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
            problema <span class="token operator">=</span> <span class="token string">&quot;Aparcamiento lleno&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> entra<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</pre> <div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp">    <span class="token comment">// Operaci&#xF3;n an&#xE1;loga y contr&#xE1;ria a la de Entra.</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">Sale</span><span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">int</span></span> plaza<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">string</span></span> problema<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Compruebo que al menos haya un veh&#xED;culo aparcado.</span>
        <span class="token class-name"><span class="token keyword">bool</span></span> sale <span class="token operator">=</span> <span class="token function">GetPlazasOcupadas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
        problema <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        plaza <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>sale<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Compruebo que el veh&#xED;culo que deseamos que salga estaba registrado como aparcado.</span>
            <span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token function">Busca</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
            sale <span class="token operator">=</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>sale<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token comment">// Dejo su plaza vac&#xED;a asign&#xE1;ndole null.</span>
                plaza <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
                problema <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$&quot;No se registr&#xF3; la entrada del veh&#xED;culo </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
            problema <span class="token operator">=</span> <span class="token string">&quot;Aparcamiento vac&#xED;o&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> sale<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> texto <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">&quot;\nVeh&#xED;culos en el aparcamiento...\n\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name">Vehiculo</span> v <span class="token operator">=</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">// Es importante tener en cuenta que en el array puede haber plazas sin veh&#xED;culo (a null)</span>
            texto<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Plaza </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">i <span class="token operator">+</span> <span class="token number">1</span></span><span class="token punctuation">}</span></span><span class="token string">:\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token punctuation">(</span>v <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token punctuation">?</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token string">&quot;Vac&#xED;a&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n\n&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> texto<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
</ol>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="abstracci%C3%B3n">Abstracci&#xF3;n</h3>

<h4 class="mume-header" id="concepto-de-clase-asbtracta">Concepto de clase asbtracta</h4>

<ul>
<li>En la mayor&#xED;a de los casos, al buscar el polimorfismo con la herencia se nos dar&#xE1;n <strong>superclases que no tienen sentido como objetos</strong>.</li>
<li>A este tipo de clases se les denominar&#xE1; <strong>Clases Abstractas</strong> y de las mismas <strong>no podremos definir objetos</strong>, y s&#xED; objetos para sus subclases.</li>
</ul>
<p align="center" style="zoom:0.85"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="398pt" height="260pt" viewBox="0.00 0.00 397.50 260.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 256)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-256 393.5,-256 393.5,4 -4,4"/>
<!-- f -->
<g id="node1" class="node">
<title>f</title>
<polygon fill="none" stroke="#000000" stroke-dasharray="5,2" points="196.6606,-144.148 200.0773,-144.4436 203.4587,-144.886 206.791,-145.474 210.0606,-146.206 213.2545,-147.0799 216.36,-148.0934 219.3651,-149.2437 222.2583,-150.5276 225.0289,-151.9416 227.667,-153.4819 230.1633,-155.1442 232.5095,-156.924 234.6982,-158.8164 236.7228,-160.8161 238.578,-162.9178 240.259,-165.1156 241.7622,-167.4036 243.0851,-169.7754 244.2259,-172.2246 245.1838,-174.7444 245.9592,-177.328 246.5529,-179.9683 246.9671,-182.6579 247.2043,-185.3896 247.2681,-188.1559 247.1628,-190.9492 246.893,-193.7618 246.4642,-196.586 245.8824,-199.414 245.154,-202.2382 244.2856,-205.0508 243.2844,-207.8441 242.1575,-210.6104 240.9126,-213.3421 239.5571,-216.0317 238.0986,-218.672 236.5447,-221.2556 234.9028,-223.7754 233.1802,-226.2246 231.3841,-228.5964 229.5213,-230.8844 227.5984,-233.0822 225.6216,-235.1839 223.5969,-237.1836 221.5299,-239.076 219.4256,-240.8558 217.2889,-242.5181 215.1241,-244.0584 212.9353,-245.4724 210.726,-246.7563 208.4995,-247.9066 206.2587,-248.9201 204.0062,-249.794 201.7442,-250.526 199.4749,-251.114 197.2002,-251.5564 194.9216,-251.852 192.6408,-252 190.3592,-252 188.0784,-251.852 185.7998,-251.5564 183.5251,-251.114 181.2558,-250.526 178.9938,-249.794 176.7413,-248.9201 174.5005,-247.9066 172.274,-246.7563 170.0647,-245.4724 167.8759,-244.0584 165.7111,-242.5181 163.5744,-240.8558 161.4701,-239.076 159.4031,-237.1836 157.3784,-235.1839 155.4016,-233.0822 153.4787,-230.8844 151.6159,-228.5964 149.8198,-226.2246 148.0972,-223.7754 146.4553,-221.2556 144.9014,-218.672 143.4429,-216.0317 142.0874,-213.3421 140.8425,-210.6104 139.7156,-207.8441 138.7144,-205.0508 137.846,-202.2382 137.1176,-199.414 136.5358,-196.586 136.107,-193.7618 135.8372,-190.9492 135.7319,-188.1559 135.7957,-185.3896 136.0329,-182.6579 136.4471,-179.9683 137.0408,-177.328 137.8162,-174.7444 138.7741,-172.2246 139.9149,-169.7754 141.2378,-167.4036 142.741,-165.1156 144.422,-162.9178 146.2772,-160.8161 148.3018,-158.8164 150.4905,-156.924 152.8367,-155.1442 155.333,-153.4819 157.9711,-151.9416 160.7417,-150.5276 163.6349,-149.2437 166.64,-148.0934 169.7455,-147.0799 172.9394,-146.206 176.209,-145.474 179.5413,-144.886 182.9227,-144.4436 186.3394,-144.148 189.7774,-144 193.2226,-144 196.6606,-144.148"/>
<text text-anchor="middle" x="191.5" y="-210.6" font-family="Arial" font-size="14.00" fill="#000000">Figura</text>
<text text-anchor="middle" x="191.5" y="-193.8" font-family="Arial" font-size="14.00" fill="#000000">Geom&#xE9;trica</text>
<text text-anchor="middle" x="191.5" y="-177" font-family="Arial" font-size="14.00" fill="#000000">???</text>
</g>
<!-- cu -->
<g id="node2" class="node">
<title>cu</title>
<polygon fill="#8b1a1a" stroke="#000000" points="101,-104.5 0,-104.5 0,-3.5 101,-3.5 101,-104.5"/>
<text text-anchor="middle" x="50.5" y="-49.8" font-family="Arial" font-size="14.00" fill="#ffffff">Cuadrado</text>
</g>
<!-- f&#45;&#45;cu -->
<g id="edge1" class="edge">
<title>f--cu</title>
<path fill="none" stroke="#000000" d="M150.717,-156.3492C134.9383,-140.2349 116.7288,-121.6379 100.1958,-104.7532"/>
</g>
<!-- ti -->
<g id="node3" class="node">
<title>ti</title>
<polygon fill="#000080" stroke="#000000" points="191.5,-104.5 119.5,-54 191.5,-3.5 263.5,-54 191.5,-104.5"/>
<text text-anchor="middle" x="191.5" y="-49.8" font-family="Arial" font-size="14.00" fill="#ffffff">Rombo</text>
</g>
<!-- f&#45;&#45;ti -->
<g id="edge2" class="edge">
<title>f--ti</title>
<path fill="none" stroke="#000000" d="M191.5,-143.97C191.5,-131.0415 191.5,-117.2871 191.5,-104.5238"/>
</g>
<!-- ci -->
<g id="node4" class="node">
<title>ci</title>
<ellipse fill="#006400" stroke="#000000" cx="335.5" cy="-54" rx="54" ry="54"/>
<text text-anchor="middle" x="335.5" y="-49.8" font-family="Arial" font-size="14.00" fill="#ffffff">C&#xED;rculo</text>
</g>
<!-- f&#45;&#45;ci -->
<g id="edge3" class="edge">
<title>f--ci</title>
<path fill="none" stroke="#000000" d="M232.7646,-156.7354C253.0432,-136.4568 277.3262,-112.1738 297.1913,-92.3087"/>
</g>
</g>
</svg>
</p><p>&#x270B; En la POO tradicional diremos que:</p>
<ul>
<li>C&#xF3;mo hemos comentado, no podremos <strong>instanciar objetos</strong> de una clase abstracta, pues no tiene sentido la existencia de dicha abstracci&#xF3;n sin una especificaci&#xF3;n.</li>
<li>Deber&#xED;an, pero no es necesario, tener <strong>al menos un campo</strong> (atributo) com&#xFA;n a todas las subclases.</li>
<li>Deber&#xED;an, pero no es necesario, tener <strong>al menos un m&#xE9;todo abstracto o virtual puro</strong>.
<ul>
<li>Un <strong>m&#xE9;todo abstracto</strong> o virtual puro no definir&#xE1; o tendr&#xE1; un &apos;<em>cuerpo de m&#xE9;todo</em>&apos; y por tanto dejaremos su implementaci&#xF3;n en manos de las subclases o especificaciones.</li>
<li>Este m&#xE9;todo abstracto deber&#xE1; ser redefinido <strong>obligatoriamente</strong> en la subclases.</li>
</ul>
</li>
<li>A las clases abstractas con <strong>todos sus m&#xE9;todos abstractos</strong> se les denomina <em>&apos;<strong>clases abstractas puras</strong>&apos;</em>.</li>
</ul>
<p>Un posible modelo de clases para representar la jerarqu&#xED;a de figuras representada en el diagrama anterior podr&#xED;a ser el siguiente:</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="477.3364px" preserveAspectRatio="none" style="width:913px;height:477px;" version="1.1" viewBox="0 0 913 477" width="913.6682px" zoomAndPan="magnify"><defs><filter height="300%" id="f1872m0ifem6f4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.102803738317757"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.205607476635514" dy="4.205607476635514" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[d3f3dbaf12f0f49c0b0b8bc4de8860e2]
class Cuadrado--><rect codeline="12" fill="#FFFAFA" filter="url(#f1872m0ifem6f4)" height="152.2972" id="Cuadrado" style="stroke:#000000;stroke-width:1.5771028037383177;" width="252.3364" x="7.3598" y="281.25"/><ellipse cx="100.146" cy="298.0724" fill="#ADD1B2" rx="11.5654" ry="11.5654" style="stroke:#000000;stroke-width:1.0514018691588785;"/><path d="M103.0538,293.7354 Q103.2181,293.5054 103.4152,293.3904 Q103.6124,293.2754 103.8424,293.2754 Q104.2366,293.2754 104.4831,293.5547 Q104.7295,293.8175 104.7295,294.4582 L104.7295,295.9861 Q104.7295,296.6268 104.4831,296.906 Q104.2366,297.1853 103.8424,297.1853 Q103.4809,297.1853 103.2674,296.9717 Q103.0538,296.7746 102.9388,296.2325 Q102.8895,295.8546 102.6924,295.6575 Q102.3474,295.2632 101.7067,295.0332 Q101.066,294.8032 100.4089,294.8032 Q99.6039,294.8032 98.9303,295.1482 Q98.2732,295.4932 97.7475,296.2818 Q97.2382,297.0703 97.2382,298.1546 L97.2382,299.3045 Q97.2382,300.6024 98.1746,301.4731 Q99.1111,302.3273 100.7867,302.3273 Q101.7724,302.3273 102.4624,302.0645 Q102.8731,301.9002 103.3167,301.4402 Q103.5959,301.1609 103.7438,301.0788 Q103.9081,300.9966 104.1216,300.9966 Q104.4666,300.9966 104.7295,301.2759 Q105.0088,301.5388 105.0088,301.9002 Q105.0088,302.2616 104.6473,302.6887 Q104.1216,303.2966 103.2838,303.6416 Q102.1503,304.118 100.7867,304.118 Q99.1932,304.118 97.9282,303.4609 Q96.8933,302.9352 96.1704,301.818 Q95.4476,300.6845 95.4476,299.3374 L95.4476,298.1217 Q95.4476,296.7253 96.0883,295.5261 Q96.7454,294.3104 97.8954,293.6697 Q99.0453,293.0126 100.3432,293.0126 Q101.1153,293.0126 101.7888,293.1933 Q102.4788,293.3575 103.0538,293.7354 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6168" lengthAdjust="spacingAndGlyphs" textLength="57.8271" x="121.6998" y="303.235">Cuadrado</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="8.4112" x2="258.6449" y1="314.8949" y2="314.8949"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="89.3692" x="13.6682" y="331.1064">-lado_cm : double</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="8.4112" x2="258.6449" y1="337.8532" y2="337.8532"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="183.9953" x="13.6682" y="354.0647">+SetLado(in lado_cm : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="98.8318" x="13.6682" y="368.6118">-GetLado() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="239.7196" x="13.6682" y="383.159">+Cuadrado(in color : Color, in lado_cm : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="88.3178" x="13.6682" y="397.7061">^+Area() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="110.3972" x="13.6682" y="412.2532">^+Perimetro() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="99.8832" x="13.6682" y="426.8004">^+ToString() : string</text><!--MD5=[9d2b52a1e7927df2b86d813b5ca29c38]
class Rombo--><rect codeline="23" fill="#FFFAFA" filter="url(#f1872m0ifem6f4)" height="210.4857" id="Rombo" style="stroke:#000000;stroke-width:1.5771028037383177;" width="323.8318" x="296.4953" y="252.3364"/><ellipse cx="432.389" cy="269.1589" fill="#ADD1B2" rx="11.5654" ry="11.5654" style="stroke:#000000;stroke-width:1.0514018691588785;"/><path d="M435.2968,264.8218 Q435.4611,264.5919 435.6582,264.4769 Q435.8554,264.3619 436.0854,264.3619 Q436.4796,264.3619 436.7261,264.6411 Q436.9725,264.904 436.9725,265.5447 L436.9725,267.0725 Q436.9725,267.7132 436.7261,267.9925 Q436.4796,268.2718 436.0854,268.2718 Q435.7239,268.2718 435.5104,268.0582 Q435.2968,267.8611 435.1818,267.3189 Q435.1325,266.9411 434.9354,266.7439 Q434.5904,266.3497 433.9497,266.1197 Q433.309,265.8897 432.6519,265.8897 Q431.8469,265.8897 431.1733,266.2347 Q430.5162,266.5797 429.9905,267.3682 Q429.4812,268.1568 429.4812,269.241 L429.4812,270.391 Q429.4812,271.6888 430.4176,272.5595 Q431.354,273.4138 433.0297,273.4138 Q434.0154,273.4138 434.7054,273.1509 Q435.1161,272.9866 435.5597,272.5267 Q435.8389,272.2474 435.9868,272.1652 Q436.1511,272.0831 436.3646,272.0831 Q436.7096,272.0831 436.9725,272.3624 Q437.2518,272.6252 437.2518,272.9866 Q437.2518,273.3481 436.8903,273.7752 Q436.3646,274.383 435.5268,274.728 Q434.3933,275.2044 433.0297,275.2044 Q431.4362,275.2044 430.1712,274.5473 Q429.1362,274.0216 428.4134,272.9045 Q427.6906,271.771 427.6906,270.4238 L427.6906,269.2082 Q427.6906,267.8118 428.3313,266.6125 Q428.9884,265.3968 430.1384,264.7561 Q431.2883,264.099 432.5862,264.099 Q433.3583,264.099 434.0318,264.2797 Q434.7218,264.444 435.2968,264.8218 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6168" lengthAdjust="spacingAndGlyphs" textLength="43.1075" x="453.9428" y="274.3214">Rombo</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="297.5467" x2="619.2757" y1="285.9813" y2="285.9813"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="116.7056" x="302.8037" y="302.1928">-diagonal1_cm : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="116.7056" x="302.8037" y="316.7399">-diagonal2_cm : double</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="297.5467" x2="619.2757" y1="323.4868" y2="323.4868"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="193.4579" x="302.8037" y="339.6983">+SetDiagonal1(in d_cm : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="123.014" x="302.8037" y="354.2454">-GetDiagonal1() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="193.4579" x="302.8037" y="368.7926">+SetDiagonal2(in d_cm : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="123.014" x="302.8037" y="383.3397">-GetDiagonal2() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="101.986" x="302.8037" y="397.8868">/-GetLado() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="311.215" x="302.8037" y="412.4339">+Rombo(in color : Color, in d1_cm : double, in d2_cm : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="88.3178" x="302.8037" y="426.9811">^+Area() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="110.3972" x="302.8037" y="441.5282">^+Perimetro() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="99.8832" x="302.8037" y="456.0753">^+ToString() : string</text><!--MD5=[49eac08f47363c88012fade2f4810c45]
class Circulo--><rect codeline="38" fill="#FFFAFA" filter="url(#f1872m0ifem6f4)" height="152.2972" id="Circulo" style="stroke:#000000;stroke-width:1.5771028037383177;" width="241.8224" x="657.1262" y="281.25"/><ellipse cx="753.0666" cy="298.0724" fill="#ADD1B2" rx="11.5654" ry="11.5654" style="stroke:#000000;stroke-width:1.0514018691588785;"/><path d="M755.9744,293.7354 Q756.1387,293.5054 756.3358,293.3904 Q756.5329,293.2754 756.7629,293.2754 Q757.1572,293.2754 757.4036,293.5547 Q757.65,293.8175 757.65,294.4582 L757.65,295.9861 Q757.65,296.6268 757.4036,296.906 Q757.1572,297.1853 756.7629,297.1853 Q756.4015,297.1853 756.1879,296.9717 Q755.9744,296.7746 755.8594,296.2325 Q755.8101,295.8546 755.613,295.6575 Q755.268,295.2632 754.6273,295.0332 Q753.9866,294.8032 753.3294,294.8032 Q752.5245,294.8032 751.8509,295.1482 Q751.1938,295.4932 750.6681,296.2818 Q750.1588,297.0703 750.1588,298.1546 L750.1588,299.3045 Q750.1588,300.6024 751.0952,301.4731 Q752.0316,302.3273 753.7073,302.3273 Q754.693,302.3273 755.383,302.0645 Q755.7937,301.9002 756.2372,301.4402 Q756.5165,301.1609 756.6644,301.0788 Q756.8286,300.9966 757.0422,300.9966 Q757.3872,300.9966 757.65,301.2759 Q757.9293,301.5388 757.9293,301.9002 Q757.9293,302.2616 757.5679,302.6887 Q757.0422,303.2966 756.2044,303.6416 Q755.0708,304.118 753.7073,304.118 Q752.1138,304.118 750.8488,303.4609 Q749.8138,302.9352 749.091,301.818 Q748.3681,300.6845 748.3681,299.3374 L748.3681,298.1217 Q748.3681,296.7253 749.0088,295.5261 Q749.666,294.3104 750.8159,293.6697 Q751.9659,293.0126 753.2637,293.0126 Q754.0358,293.0126 754.7094,293.1933 Q755.3994,293.3575 755.9744,293.7354 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6168" lengthAdjust="spacingAndGlyphs" textLength="41.0047" x="774.6203" y="303.235">Circulo</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="658.1776" x2="897.8972" y1="314.8949" y2="314.8949"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="93.5748" x="663.4346" y="331.1064">-radio_cm : double</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="658.1776" x2="897.8972" y1="337.8532" y2="337.8532"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="191.3551" x="663.4346" y="354.0647">+SetRadio(in radio_cm : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="101.986" x="663.4346" y="368.6118">-GetRadio() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="229.2056" x="663.4346" y="383.159">+Circulo(in color : Color, in radio_cm : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="88.3178" x="663.4346" y="397.7061">^+Area() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="110.3972" x="663.4346" y="412.2532">^+Perimetro() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="99.8832" x="663.4346" y="426.8004">^+ToString() : string</text><!--MD5=[18eee71c88ab61f27581b8cbdd3ef5ee]
class Color--><rect codeline="51" fill="#FFFAFA" filter="url(#f1872m0ifem6f4)" height="123.4001" id="Color" style="stroke:#000000;stroke-width:1.5771028037383177;" width="117.757" x="605.6075" y="26.285"/><ellipse cx="621.3785" cy="47.4117" fill="#EB937F" rx="11.5654" ry="11.5654" style="stroke:#000000;stroke-width:1.0514018691588785;"/><path d="M620.1792,48.2495 L620.1792,50.878 L624.7298,50.878 L624.7298,49.9087 Q624.7298,49.268 624.9763,48.9888 Q625.2391,48.7095 625.6334,48.7095 Q626.0277,48.7095 626.2741,48.9888 Q626.5205,49.268 626.5205,49.9087 L626.5205,52.6687 L618.1093,52.6687 Q617.4522,52.6687 617.1729,52.4222 Q616.91,52.1758 616.91,51.7651 Q616.91,51.3708 617.1893,51.1244 Q617.4686,50.878 618.1093,50.878 L618.3886,50.878 L618.3886,43.8796 L618.1093,43.8796 Q617.4522,43.8796 617.1729,43.6332 Q616.91,43.3868 616.91,42.9761 Q616.91,42.5818 617.1729,42.3354 Q617.4522,42.0889 618.1093,42.0889 L626.1262,42.0889 L626.1262,44.816 Q626.1262,45.4567 625.8798,45.736 Q625.6498,45.9988 625.2391,45.9988 Q624.8448,45.9988 624.5984,45.736 Q624.352,45.4567 624.352,44.816 L624.352,43.8796 L620.1792,43.8796 L620.1792,46.4588 L621.7399,46.4588 Q621.7399,45.7688 621.8713,45.5717 Q622.1506,45.1446 622.6435,45.1446 Q623.0377,45.1446 623.2842,45.4238 Q623.5306,45.6867 623.5306,46.3274 L623.5306,48.3973 Q623.5306,48.9723 623.3992,49.1695 Q623.1199,49.5802 622.6435,49.5802 Q622.1506,49.5802 621.8713,49.153 Q621.7399,48.9559 621.7399,48.2495 L620.1792,48.2495 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6168" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="88.3178" x="633.9953" y="44.6394">&#xAB;enumeration&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="12.6168" lengthAdjust="spacingAndGlyphs" textLength="31.5421" x="662.3832" y="60.509">Color</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="606.6589" x2="722.3131" y1="68.5383" y2="68.5383"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="25.2336" x="611.9159" y="84.7498">Rojo,</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="26.285" x="611.9159" y="99.2969">Azul,</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="34.6963" x="611.9159" y="113.844">Verde,</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="42.0561" x="611.9159" y="128.3912">Naranja,</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="9.4626" x="611.9159" y="142.9383">...</text><!--MD5=[b464a5c68dc7f267ec24dd4bada03c72]
class FG--><rect codeline="60" fill="#FFFAFA" filter="url(#f1872m0ifem6f4)" height="160.9056" id="FG" style="stroke:#000000;stroke-width:1.5771028037383177;" width="177.6869" x="369.5678" y="7.3598"/><ellipse cx="426.6063" cy="28.4864" fill="#A9DCDF" rx="11.5654" ry="11.5654" style="stroke:#000000;stroke-width:1.0514018691588785;"/><path d="M428.9063,30.3428 L424.5528,30.3428 L424.1092,31.4271 L424.5528,31.4271 Q425.1935,31.4271 425.4728,31.6735 Q425.752,31.9199 425.752,32.3306 Q425.752,32.7249 425.4728,32.9713 Q425.1935,33.2177 424.5528,33.2177 L422.1379,33.2177 Q421.4972,33.2177 421.2343,32.9713 Q420.955,32.7249 420.955,32.3142 Q420.955,31.9199 421.2507,31.6735 Q421.53,31.4106 422.1871,31.4271 L424.9963,24.4287 L423.83,24.4287 Q423.1893,24.4287 422.91,24.1822 Q422.6307,23.9358 422.6307,23.5251 Q422.6307,23.1308 422.91,22.8844 Q423.1893,22.638 423.83,22.638 L427.6906,22.638 L431.2555,31.4271 Q431.8797,31.4271 432.0769,31.5749 Q432.4876,31.8542 432.4876,32.3306 Q432.4876,32.7249 432.2083,32.9713 Q431.9455,33.2177 431.3048,33.2177 L428.8898,33.2177 Q428.2491,33.2177 427.9698,32.9713 Q427.6906,32.7249 427.6906,32.3142 Q427.6906,31.9199 427.9698,31.6735 Q428.2491,31.4271 428.8898,31.4271 L429.3334,31.4271 L428.9063,30.3428 Z M428.1506,28.5521 L426.7213,25.0037 L425.2756,28.5521 L428.1506,28.5521 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12.6168" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="36.7991" x="457.097" y="25.7142">Figura</text><text fill="#000000" font-family="sans-serif" font-size="12.6168" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="54.6729" x="448.16" y="41.5838">{abstract}</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="370.6192" x2="546.2033" y1="49.613" y2="49.613"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="65.1869" x="375.8762" y="65.8245">-color : Color</text><line style="stroke:#000000;stroke-width:1.5771028037383177;" x1="370.6192" x2="546.2033" y1="72.5714" y2="72.5714"/><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="92.5234" x="375.8762" y="88.7829">-GetColor() : Color</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="157.7103" x="375.8762" y="103.33">+SetColor(in color: Color) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="115.6542" x="375.8762" y="117.8771">#Figura(in color: Color)</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="138.785" x="375.8762" y="132.4243">+Area() : double {abstract}</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="165.0701" x="375.8762" y="146.9714">+Perimetro() : double {abstract}</text><text fill="#000000" font-family="sans-serif" font-size="11.5654" lengthAdjust="spacingAndGlyphs" textLength="99.8832" x="375.8762" y="161.5185">^+ToString() : string</text><polygon fill="none" points="458.4112,168.2654,465.771,189.2934,451.0514,189.2934" style="stroke:#000000;stroke-width:1.0514018691588785;"/><line style="stroke:#000000;stroke-width:1.0514018691588785;" x1="458.4112" x2="458.4112" y1="189.2934" y2="190.8294"/><line style="stroke:#000000;stroke-width:1.0514018691588785;" x1="547.2547" x2="584.2745" y1="87.7981" y2="87.7921"/><!--MD5=[d76d41d9713c50efbc09db0ee5380026]
reverse link FG to Cuadrado--><path codeline="72" d="M458.4112,190.8294 C458.4112,190.8294 352.9977,213.3715 277.5701,252.3364 C261.3995,260.6951 245.0292,270.7255 229.4159,281.2185 " fill="none" id="FG-backto-Cuadrado" style="stroke:#000000;stroke-width:1.0514018691588785;"/><!--MD5=[46e0154213e2af4a04bc6b1de17af620]
reverse link FG to Rombo--><path codeline="73" d="M458.4112,190.8294 C458.4112,190.8294 458.4112,218.9544 458.4112,252.021 " fill="none" id="FG-backto-Rombo" style="stroke:#000000;stroke-width:1.0514018691588785;"/><!--MD5=[e9423c9aa5de5e212ab3aec8df30d856]
reverse link FG to Circulo--><path codeline="74" d="M458.4112,190.8294 C458.4112,190.8294 564.1717,212.7091 639.2523,252.3364 C654.9708,260.632 670.8154,270.6308 685.8925,281.1133 " fill="none" id="FG-backto-Circulo" style="stroke:#000000;stroke-width:1.0514018691588785;"/><!--MD5=[281e94107fd30146c048da468fdab0e7]
reverse link FG to Color--><path codeline="75" d="M584.2745,87.7921 C591.3505,87.7921 598.4159,87.7921 605.4918,87.7921 " fill="none" id="FG-backto-Color" style="stroke:#000000;stroke-width:1.0514018691588785;"/><ellipse cx="576.7044" cy="87.7921" fill="#FFFFFF" rx="8.4112" ry="8.4112" style="stroke:#000000;stroke-width:1.0514018691588785;"/><line style="stroke:#000000;stroke-width:1.0514018691588785;" x1="585.1157" x2="568.2932" y1="87.7921" y2="87.7921"/><line style="stroke:#000000;stroke-width:1.0514018691588785;" x1="576.7044" x2="576.7044" y1="96.2033" y2="79.3808"/><!--MD5=[eb0a1cf642308e590962ab6c4bdb3fa1]
@startuml

!define ABSTRACT &#123;abstract&#125;

scale 900 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow
skinparam groupInheritance 3

class Cuadrado
{
    -lado_cm : double

    +SetLado(in lado_cm : double) : void
    -GetLado() : double
    +Cuadrado(in color : Color, in lado_cm : double)
    ^+Area() : double
    ^+Perimetro() : double
    ^+ToString() : string
}
class Rombo
{
    -diagonal1_cm : double
    -diagonal2_cm : double

    +SetDiagonal1(in d_cm : double) : void
    -GetDiagonal1() : double
    +SetDiagonal2(in d_cm : double) : void
    -GetDiagonal2() : double
    /-GetLado() : double
    +Rombo(in color : Color, in d1_cm : double, in d2_cm : double)
    ^+Area() : double
    ^+Perimetro() : double
    ^+ToString() : string
}
class Circulo
{
    -radio_cm : double

    +SetRadio(in radio_cm : double) : void
    -GetRadio() : double
    +Circulo(in color : Color, in radio_cm : double)
    ^+Area() : double
    ^+Perimetro() : double
    ^+ToString() : string
}

hide Color methods
enum Color <<enumeration>>
{
    Rojo,
    Azul,
    Verde,
    Naranja,
    ...
}

abstract class FG as "Figura\n{abstract}"
{
    -color : Color

    -GetColor() : Color
    +SetColor(in color: Color) : void
    #Figura(in color: Color)
    {abstract} +Area() : double ABSTRACT
    {abstract} +Perimetro() : double ABSTRACT
    ^+ToString() : string
}

FG ^- - Cuadrado
FG ^- - Rombo
FG ^- - Circulo
FG +- Color

@enduml

@startuml


scale 900 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow
skinparam groupInheritance 3

class Cuadrado
{
    -lado_cm : double

    +SetLado(in lado_cm : double) : void
    -GetLado() : double
    +Cuadrado(in color : Color, in lado_cm : double)
    ^+Area() : double
    ^+Perimetro() : double
    ^+ToString() : string
}
class Rombo
{
    -diagonal1_cm : double
    -diagonal2_cm : double

    +SetDiagonal1(in d_cm : double) : void
    -GetDiagonal1() : double
    +SetDiagonal2(in d_cm : double) : void
    -GetDiagonal2() : double
    /-GetLado() : double
    +Rombo(in color : Color, in d1_cm : double, in d2_cm : double)
    ^+Area() : double
    ^+Perimetro() : double
    ^+ToString() : string
}
class Circulo
{
    -radio_cm : double

    +SetRadio(in radio_cm : double) : void
    -GetRadio() : double
    +Circulo(in color : Color, in radio_cm : double)
    ^+Area() : double
    ^+Perimetro() : double
    ^+ToString() : string
}

hide Color methods
enum Color <<enumeration>>
{
    Rojo,
    Azul,
    Verde,
    Naranja,
    ...
}

abstract class FG as "Figura\n{abstract}"
{
    -color : Color

    -GetColor() : Color
    +SetColor(in color: Color) : void
    #Figura(in color: Color)
    {abstract} +Area() : double &#123;abstract&#125;
    {abstract} +Perimetro() : double &#123;abstract&#125;
    ^+ToString() : string
}

FG ^- - Cuadrado
FG ^- - Rombo
FG ^- - Circulo
FG +- Color

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><blockquote>
<p><strong>Nota:</strong> F&#xED;jate que en el diagrama UML hemos indicado que la clase es abstracta, adem&#xE1;s de usando el modificador <strong><code>{abstract}</code></strong> hemos puesto en <em>cursiva</em> el nombre, y en los m&#xE9;todos virtuales puros o abstractos adem&#xE1;s de la cursiva hemos pusto el modificador <strong><code>{abstract}</code></strong>. Aunque, la cursiva ya no es necesaria a partir de la versi&#xF3;n 2.5 de UML a&#xFA;n sigue siendo &#xE1;mpliamente usada.</p>
</blockquote>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="clases-asbtractas-en-c">Clases asbtractas en C#</h4>

<p>La sint&#xE1;xis ser&#xE1; muy similar a la de la herencia, pero ampliando las condiciones que hemos descrito con anterioridad.</p>
<p>Vamos a ver la sintaxis a trav&#xE9;s de la implementaci&#xF3;n de nuestro ejemplo con figuras.</p>
<ol>
<li>
<p>En primer lugar vamos a implementar la clase abstracta <strong><code>Figura</code></strong>.</p>
<ul>
<li><strong>(<em>l&#xED;nea 1</em>)</strong>: Definimos la clase anteponiendo el modificador <strong><code>abstract</code></strong></li>
<li><strong>(<em>l&#xED;nea 4</em>)</strong>: Podemos a&#xF1;adir como con en la herencia un campo com&#xFA;n a todas las especificaciones que en este caso es el <strong><code>color</code></strong>.</li>
<li><strong>(<em>l&#xED;neas 19 y 20</em>)</strong>: Aquellos m&#xE9;todos que no podemos implementar hasta que no sepamos la especificaci&#xF3;n, les anteponemos el modificador <strong><code>abstract</code></strong> y los dejaremos sin implementar.</li>
<li><strong>(<em>l&#xED;nea 14</em>)</strong>: Los constructores que definamos pueden ser <strong><code>protected</code></strong> pues solo tiene sentido usarlos desde las subclases.<br>
Nunca podr&#xE9; hacer un <strong><code>Figura f = new Figura(Figura.Rojo);</code></strong></li>
<li><strong>(<em>l&#xED;nea 24</em>)</strong>: Los datos disponibles en <strong><code>Figura</code></strong>, ser&#xE1;n responsabilidad de la clase, para as&#xED; no repetir c&#xF3;digo en las especificaciones y mantener al m&#xE1;ximo la encapsulaci&#xF3;n (Ej. <strong><code>GetColor()</code></strong> es privado poque es <strong><code>Figura</code></strong> quien se encarga de componer el dato).
<blockquote>
<p>&#x270B; <strong>Importante:</strong> Pero, &#xBF;C&#xF3;mo puede ser que desde aqu&#xED; se llama a <strong><code>Area()</code></strong> o <strong><code>Perimetro()</code></strong> si no est&#xE1;n implementados?<br>
Son m&#xE9;todos de <strong><code>Figura</code></strong> y por tanto accesibles desde ella. Adem&#xE1;s, estoy seguro de que cuando se inst&#xE1;ncie un objeto, ser&#xE1; una especificaci&#xF3;n y por tanto se producir&#xE1; un enlace din&#xE1;mico a un m&#xE9;todo de la especificaci&#xF3;n donde estaremos obligados a implementarlo (invalidar).</p>
</blockquote>
</li>
</ul>
<pre data-role="codeBlock" data-info="csharp {highlight=[1,4,8,12,13,16]}" class="language-csharp" data-line="1,4,8,12,13,16"><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Figura</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Color</span> <span class="token punctuation">{</span> Rojo<span class="token punctuation">,</span> Azul<span class="token punctuation">,</span> Verde<span class="token punctuation">,</span> Naranja <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token class-name">Color</span> color<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token return-type class-name">Color</span> <span class="token function">GetColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> color<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SetColor</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span> <span class="token punctuation">}</span>        
    <span class="token keyword">protected</span> <span class="token function">Figura</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetColor</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Color: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\nArea: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token format-string"><span class="token punctuation">:</span>F2</span><span class="token punctuation">}</span></span><span class="token string"> cm2\nPer&#xED;metro: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper"><div aria-hidden="true" class="line-highlight" data-range="1" data-start="1">
</div></div><div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">






<div aria-hidden="true" class="line-highlight" data-range="8" data-start="8">
</div></div><div class="line-highlight-wrapper">










<div aria-hidden="true" class="line-highlight" data-range="12" data-start="12">
</div></div><div class="line-highlight-wrapper">











<div aria-hidden="true" class="line-highlight" data-range="13" data-start="13">
</div></div><div class="line-highlight-wrapper">














<div aria-hidden="true" class="line-highlight" data-range="16" data-start="16">
</div></div></pre></li>
<li>
<p>Implementaci&#xF3;n de las especificaciones (subclases)</p>
<ul>
<li><strong>(<em>l&#xED;neas 11 y 15</em>)</strong>: Estaremos <strong>obligados</strong> a invalidar los m&#xE9;todos <strong>abstractos</strong> o virtuales puros.</li>
<li><strong>(<em>l&#xED;nea 21</em>)</strong>: Le pedimos a figura la informaci&#xF3;n com&#xFA;n aunque en relidad para ello llame a los m&#xE9;todos que he implementado aqu&#xED;.</li>
</ul>
<pre data-role="codeBlock" data-info="csharp {highlight=[11, 15, 21]}" class="language-csharp" data-line="11,15,21"><span class="token keyword">class</span> <span class="token class-name">Circulo</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Figura</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">double</span></span> radio_cm<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SetRadio</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">double</span></span> radio_cm<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>radio_cm <span class="token operator">=</span> radio_cm<span class="token punctuation">;</span>  <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">GetRadio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> radio_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Circulo</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">double</span></span> radio_cm<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetRadio</span><span class="token punctuation">(</span>radio_cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span><span class="token function">GetRadio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> <span class="token function">GetRadio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;C&#xED;rculo\nRadio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetRadio</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">









<div aria-hidden="true" class="line-highlight" data-range="11" data-start="11">
</div></div><div class="line-highlight-wrapper">













<div aria-hidden="true" class="line-highlight" data-range="15" data-start="15">
</div></div><div class="line-highlight-wrapper">



















<div aria-hidden="true" class="line-highlight" data-range="21" data-start="21">
</div></div></pre> <div style="page-break-after:always;"></div>
<p>El resto de implementaciones ser&#xE1;n an&#xE1;logas a <strong><code>Circulo</code></strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Cuadrado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Figura</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">double</span></span> lado_cm<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SetLado</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">double</span></span> lado_cm<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lado_cm <span class="token operator">=</span> lado_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> lado_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Cuadrado</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">double</span></span> lado_cm<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetLado</span><span class="token punctuation">(</span>lado_cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Cuadrado\nLado: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Rombo</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Figura</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">double</span></span> diagonal1_cm<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">double</span></span> diagonal2_cm<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SetDiagonal1</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">double</span></span> d_cm<span class="token punctuation">)</span> <span class="token punctuation">{</span> diagonal1_cm <span class="token operator">=</span> d_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">GetDiagonal1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> diagonal1_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SetDiagonal2</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">double</span></span> d_cm<span class="token punctuation">)</span> <span class="token punctuation">{</span> diagonal2_cm <span class="token operator">=</span> d_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">GetDiagonal2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> diagonal2_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Accesor Calculado</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span><span class="token function">GetDiagonal1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2d</span><span class="token punctuation">,</span> <span class="token number">2d</span><span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span><span class="token function">GetDiagonal2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2d</span><span class="token punctuation">,</span> <span class="token number">2d</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Rombo</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">double</span></span> d1_cm<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">double</span></span> d2_cm<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDiagonal1</span><span class="token punctuation">(</span>d1_cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetDiagonal2</span><span class="token punctuation">(</span>d2_cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">GetDiagonal1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetDiagonal2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Rombo\nDiagonal1: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetDiagonal1</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm\nDiagonal2: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetDiagonal2</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm\nLado: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> cm\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>El polimorfismo de datos lo vamos a poder realizar igual que en el caso de <strong><code>Articulo</code></strong> pero no vamos a poder crear ning&#xFA;n art&#xED;culo directamente.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Figura<span class="token punctuation">[</span><span class="token punctuation">]</span></span> figuras <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Figura<span class="token punctuation">[</span><span class="token punctuation">]</span></span> 
    <span class="token punctuation">{</span> 
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Cuadrado</span><span class="token punctuation">(</span>Figura<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Rombo</span><span class="token punctuation">(</span>Figura<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Circulo</span><span class="token punctuation">(</span>Figura<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Verde<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Figura</span> f <span class="token keyword">in</span> figuras<span class="token punctuation">)</span> 
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></li>
</ol>
<div style="page-break-after:always;"></div>
<blockquote>
<p><strong>&#x1F393; Caso de estudio</strong></p>
<p>Supongamos el siguiente modelo simplificado, en el cual, un <strong>Sic&#xF3;logo</strong> crea un gabinete o <strong>consulta</strong> psicol&#xF3;gica, donde cada d&#xED;a atiende a los <strong>pacientes</strong> que le llegan.<br>
Los pacientes <strong>ir&#xE1;n entrando a la consulta</strong> y en un momento dado el sicologo les <strong>pasar&#xE1; consulta</strong> por orden de llegada.<br>
Los pacientes tendr&#xE1;n un <strong>nombre</strong> y <strong>de momento</strong> nuestro sic&#xF3;logo solo sabe atender a dos tipos de pacientes:</p>
<ol>
<li>Pacientes <strong>alegres</strong></li>
<li>Pacientes <strong>tristes</strong></li>
</ol>
<p>En el momento en que el sic&#xF3;logo <strong>atiende a un paciente</strong>, se producir&#xE1; un di&#xE1;logo con el mismo que empezar&#xE1; igual para todos los pacientes:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash">- Sic&#xF3;logo: Buenos d&#xED;as<span class="token operator">!</span>. &#xBF;C&#xF3;mo se llama?
- Paciente: Soy <span class="token operator">&lt;</span>Nombre<span class="token operator">&gt;</span>
- Sic&#xF3;logo: D&#xED;game <span class="token operator">&lt;</span>Nombre<span class="token operator">&gt;</span><span class="token operator">!</span><span class="token punctuation">..</span> &#xBF;Qu&#xE9; siente?
</pre><p>Pero dependiendo del tipo de paciente obtendremos un tipo de <strong>respuesta</strong> diferente...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash">Para el alegre - Paciente:  Pues<span class="token punctuation">..</span>. ahora estoy alegre.
Para el triste - Paciente:  Pues<span class="token punctuation">..</span>. ahora estoy triste.
</pre><p>El sic&#xF3;logo realizar&#xE1; un <strong>diagn&#xF3;stico</strong> diferente dependiendo del tipo de paciente.</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash">Para el alegre - Sic&#xF3;logo: <span class="token operator">&lt;</span>Nombre<span class="token operator">&gt;</span> le veo estupendamente. Enhorabuena<span class="token operator">!</span><span class="token operator">!</span> no necesita m&#xE1;s terapia.
Para el triste - Sic&#xF3;logo: <span class="token operator">&lt;</span>Nombre<span class="token operator">&gt;</span> tome fluoxetina 20mg y vuelva en un mes.
</pre><p>Tras realizar el diagnostico el sic&#xF3;logo dira ...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash">- Sic&#xF3;logo: Que pase el siguiente <span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span>
</pre><p>Atendiendo a otro paciente si hay a&#xFA;n pendientes en consulta.</p>
<p><strong>&#x270B; Piensa en un posible modelado o dise&#xF1;o de clases para representar las especificaciones anteriores.</strong><br>
Si no se te ocurre ning&#xFA;no, aqu&#xED; tienes una propuesta de implementaci&#xF3;n.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="579.7647px" preserveAspectRatio="none" style="width:566px;height:579px;" version="1.1" viewBox="0 0 566 579" width="566.8235px" zoomAndPan="magnify"><defs><filter height="300%" id="fetsv0li2g4at" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.588235294117647"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.176470588235294" dy="5.176470588235294" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[9d15dff094c6f4d755a9b17a6c0d6b00]
class PacienteFeliz--><rect codeline="12" fill="#FFFAFA" filter="url(#fetsv0li2g4at)" height="87.5754" id="PacienteFeliz" style="stroke:#000000;stroke-width:1.9411764705882355;" width="222.5882" x="35.5882" y="474.9412"/><ellipse cx="94.1471" cy="495.6471" fill="#ADD1B2" rx="14.2353" ry="14.2353" style="stroke:#000000;stroke-width:1.2941176470588236;"/><path d="M97.7261,490.3088 Q97.9283,490.0257 98.171,489.8842 Q98.4136,489.7426 98.6967,489.7426 Q99.182,489.7426 99.4853,490.0864 Q99.7886,490.4099 99.7886,491.1985 L99.7886,493.079 Q99.7886,493.8676 99.4853,494.2114 Q99.182,494.5551 98.6967,494.5551 Q98.2518,494.5551 97.989,494.2923 Q97.7261,494.0496 97.5846,493.3824 Q97.5239,492.9173 97.2813,492.6746 Q96.8566,492.1893 96.068,491.9063 Q95.2794,491.6232 94.4706,491.6232 Q93.4798,491.6232 92.6507,492.0478 Q91.8419,492.4724 91.1949,493.443 Q90.568,494.4136 90.568,495.7482 L90.568,497.1636 Q90.568,498.761 91.7206,499.8327 Q92.8732,500.8842 94.9357,500.8842 Q96.1489,500.8842 96.9982,500.5607 Q97.5037,500.3585 98.0496,499.7923 Q98.3934,499.4485 98.5754,499.3474 Q98.7776,499.2463 99.0404,499.2463 Q99.4651,499.2463 99.7886,499.5901 Q100.1324,499.9136 100.1324,500.3585 Q100.1324,500.8033 99.6875,501.329 Q99.0404,502.0772 98.0092,502.5018 Q96.614,503.0882 94.9357,503.0882 Q92.9743,503.0882 91.4173,502.2794 Q90.1434,501.6324 89.2537,500.2574 Q88.364,498.8621 88.364,497.204 L88.364,495.7077 Q88.364,493.989 89.1526,492.5129 Q89.9614,491.0165 91.3768,490.2279 Q92.7923,489.4191 94.3897,489.4191 Q95.3401,489.4191 96.1691,489.6415 Q97.0184,489.8438 97.7261,490.3088 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="15.5294" lengthAdjust="spacingAndGlyphs" textLength="94.4706" x="120.6765" y="502.0014">PacienteFeliz</text><line style="stroke:#000000;stroke-width:1.9411764705882355;" x1="36.8824" x2="256.8824" y1="516.3529" y2="516.3529"/><text fill="#000000" font-family="sans-serif" font-size="14.2353" lengthAdjust="spacingAndGlyphs" textLength="207.0588" x="43.3529" y="536.3069">+PacienteFeliz(in nombre : string)</text><text fill="#000000" font-family="sans-serif" font-size="14.2353" lengthAdjust="spacingAndGlyphs" textLength="160.4706" x="43.3529" y="554.2122">^+GetRespuesta() : string</text><!--MD5=[c81d06c1dd2a171e36384f4a4e653380]
class PacienteTriste--><rect codeline="19" fill="#FFFAFA" filter="url(#fetsv0li2g4at)" height="87.5754" id="PacienteTriste" style="stroke:#000000;stroke-width:1.9411764705882355;" width="229.0588" x="304.1176" y="474.9412"/><ellipse cx="362.0294" cy="495.6471" fill="#ADD1B2" rx="14.2353" ry="14.2353" style="stroke:#000000;stroke-width:1.2941176470588236;"/><path d="M365.6085,490.3088 Q365.8107,490.0257 366.0533,489.8842 Q366.296,489.7426 366.579,489.7426 Q367.0643,489.7426 367.3676,490.0864 Q367.671,490.4099 367.671,491.1985 L367.671,493.079 Q367.671,493.8676 367.3676,494.2114 Q367.0643,494.5551 366.579,494.5551 Q366.1342,494.5551 365.8713,494.2923 Q365.6085,494.0496 365.4669,493.3824 Q365.4063,492.9173 365.1636,492.6746 Q364.739,492.1893 363.9504,491.9063 Q363.1618,491.6232 362.3529,491.6232 Q361.3621,491.6232 360.5331,492.0478 Q359.7243,492.4724 359.0772,493.443 Q358.4504,494.4136 358.4504,495.7482 L358.4504,497.1636 Q358.4504,498.761 359.6029,499.8327 Q360.7555,500.8842 362.818,500.8842 Q364.0313,500.8842 364.8805,500.5607 Q365.386,500.3585 365.932,499.7923 Q366.2757,499.4485 366.4577,499.3474 Q366.6599,499.2463 366.9228,499.2463 Q367.3474,499.2463 367.671,499.5901 Q368.0147,499.9136 368.0147,500.3585 Q368.0147,500.8033 367.5699,501.329 Q366.9228,502.0772 365.8915,502.5018 Q364.4963,503.0882 362.818,503.0882 Q360.8566,503.0882 359.2996,502.2794 Q358.0257,501.6324 357.136,500.2574 Q356.2463,498.8621 356.2463,497.204 L356.2463,495.7077 Q356.2463,493.989 357.0349,492.5129 Q357.8438,491.0165 359.2592,490.2279 Q360.6746,489.4191 362.2721,489.4191 Q363.2224,489.4191 364.0515,489.6415 Q364.9007,489.8438 365.6085,490.3088 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="15.5294" lengthAdjust="spacingAndGlyphs" textLength="102.2353" x="388.5588" y="502.0014">PacienteTriste</text><line style="stroke:#000000;stroke-width:1.9411764705882355;" x1="305.4118" x2="531.8824" y1="516.3529" y2="516.3529"/><text fill="#000000" font-family="sans-serif" font-size="14.2353" lengthAdjust="spacingAndGlyphs" textLength="213.5294" x="311.8824" y="536.3069">+PacienteTriste(in nombre : string)</text><text fill="#000000" font-family="sans-serif" font-size="14.2353" lengthAdjust="spacingAndGlyphs" textLength="160.4706" x="311.8824" y="554.2122">^+GetRespuesta() : string</text><!--MD5=[3b33aac52bf85bcbfceea1b1d7f3c296]
class P--><rect codeline="25" fill="#FFFAFA" filter="url(#fetsv0li2g4at)" height="144.3346" id="P" style="stroke:#000000;stroke-width:1.9411764705882355;" width="240.7059" x="162.4118" y="251.0588"/><ellipse cx="243.6176" cy="277.0625" fill="#A9DCDF" rx="14.2353" ry="14.2353" style="stroke:#000000;stroke-width:1.2941176470588236;"/><path d="M246.4485,279.3474 L241.0901,279.3474 L240.5441,280.682 L241.0901,280.682 Q241.8787,280.682 242.2224,280.9853 Q242.5662,281.2886 242.5662,281.7941 Q242.5662,282.2794 242.2224,282.5827 Q241.8787,282.886 241.0901,282.886 L238.1176,282.886 Q237.329,282.886 237.0055,282.5827 Q236.6618,282.2794 236.6618,281.7739 Q236.6618,281.2886 237.0257,280.9853 Q237.3695,280.6618 238.1783,280.682 L241.636,272.068 L240.2004,272.068 Q239.4118,272.068 239.068,271.7647 Q238.7243,271.4614 238.7243,270.9559 Q238.7243,270.4706 239.068,270.1673 Q239.4118,269.864 240.2004,269.864 L244.9522,269.864 L249.3401,280.682 Q250.1085,280.682 250.3511,280.864 Q250.8566,281.2077 250.8566,281.7941 Q250.8566,282.2794 250.5129,282.5827 Q250.1893,282.886 249.4007,282.886 L246.4283,282.886 Q245.6397,282.886 245.296,282.5827 Q244.9522,282.2794 244.9522,281.7739 Q244.9522,281.2886 245.296,280.9853 Q245.6397,280.682 246.4283,280.682 L246.9743,280.682 L246.4485,279.3474 Z M245.5184,277.1434 L243.7592,272.7757 L241.9798,277.1434 L245.5184,277.1434 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="15.5294" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="62.1176" x="272.7353" y="273.6503">Paciente</text><text fill="#000000" font-family="sans-serif" font-size="15.5294" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="67.2941" x="270.1471" y="293.1834">{abstract}</text><line style="stroke:#000000;stroke-width:1.9411764705882355;" x1="163.7059" x2="401.8235" y1="303.0662" y2="303.0662"/><text fill="#000000" font-family="sans-serif" font-size="14.2353" lengthAdjust="spacingAndGlyphs" textLength="169.5294" x="170.1765" y="323.0201">-nombre : string {readOnly}</text><line style="stroke:#000000;stroke-width:1.9411764705882355;" x1="163.7059" x2="401.8235" y1="331.3244" y2="331.3244"/><text fill="#000000" font-family="sans-serif" font-size="14.2353" lengthAdjust="spacingAndGlyphs" textLength="134.5882" x="170.1765" y="351.2784">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="14.2353" lengthAdjust="spacingAndGlyphs" textLength="178.5882" x="170.1765" y="369.1837">#Paciente(in nombre : string)</text><text fill="#000000" font-family="sans-serif" font-size="14.2353" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="225.1765" x="170.1765" y="387.089">+GetRespuesta() : string {abstract}</text><!--MD5=[aa5bbbe51933d9af291db0ed1115076d]
class Consulta--><rect codeline="35" fill="#FFFAFA" filter="url(#fetsv0li2g4at)" height="105.4807" id="Consulta" style="stroke:#000000;stroke-width:1.9411764705882355;" width="218.7059" x="330" y="26.5294"/><ellipse cx="401.5" cy="47.2353" fill="#ADD1B2" rx="14.2353" ry="14.2353" style="stroke:#000000;stroke-width:1.2941176470588236;"/><path d="M405.079,41.8971 Q405.2813,41.614 405.5239,41.4724 Q405.7665,41.3309 406.0496,41.3309 Q406.5349,41.3309 406.8382,41.6746 Q407.1415,41.9982 407.1415,42.7868 L407.1415,44.6673 Q407.1415,45.4559 406.8382,45.7996 Q406.5349,46.1434 406.0496,46.1434 Q405.6048,46.1434 405.3419,45.8805 Q405.079,45.6379 404.9375,44.9706 Q404.8768,44.5055 404.6342,44.2629 Q404.2096,43.7776 403.421,43.4945 Q402.6324,43.2114 401.8235,43.2114 Q400.8327,43.2114 400.0037,43.636 Q399.1949,44.0607 398.5478,45.0313 Q397.921,46.0018 397.921,47.3364 L397.921,48.7518 Q397.921,50.3493 399.0735,51.421 Q400.2261,52.4724 402.2886,52.4724 Q403.5018,52.4724 404.3511,52.1489 Q404.8566,51.9467 405.4026,51.3805 Q405.7463,51.0368 405.9283,50.9357 Q406.1305,50.8346 406.3934,50.8346 Q406.818,50.8346 407.1415,51.1783 Q407.4853,51.5018 407.4853,51.9467 Q407.4853,52.3915 407.0404,52.9173 Q406.3934,53.6654 405.3621,54.0901 Q403.9669,54.6765 402.2886,54.6765 Q400.3272,54.6765 398.7702,53.8676 Q397.4963,53.2206 396.6066,51.8456 Q395.7169,50.4504 395.7169,48.7923 L395.7169,47.296 Q395.7169,45.5772 396.5055,44.1011 Q397.3143,42.6048 398.7298,41.8162 Q400.1452,41.0074 401.7426,41.0074 Q402.693,41.0074 403.5221,41.2298 Q404.3713,41.432 405.079,41.8971 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="15.5294" lengthAdjust="spacingAndGlyphs" textLength="64.7059" x="428.0294" y="53.5896">Consulta</text><line style="stroke:#000000;stroke-width:1.9411764705882355;" x1="331.2941" x2="547.4118" y1="67.9412" y2="67.9412"/><text fill="#000000" font-family="sans-serif" font-size="14.2353" lengthAdjust="spacingAndGlyphs" textLength="110" x="337.7647" y="87.8951">+Consulta() : void</text><text fill="#000000" font-family="sans-serif" font-size="14.2353" lengthAdjust="spacingAndGlyphs" textLength="203.1765" x="337.7647" y="105.8004">+Entra(in p : Paciente) : Consulta</text><text fill="#000000" font-family="sans-serif" font-size="14.2353" lengthAdjust="spacingAndGlyphs" textLength="139.7647" x="337.7647" y="123.7058">+Siguiente() : Paciente</text><!--MD5=[08ab07a6d07f975842ef4ddbebc3f045]
class Sicologo--><rect codeline="43" fill="#FFFAFA" filter="url(#fetsv0li2g4at)" height="141.2914" id="Sicologo" style="stroke:#000000;stroke-width:1.9411764705882355;" width="236.8235" x="9.0588" y="9.0588"/><ellipse cx="90.9118" cy="29.7647" fill="#ADD1B2" rx="14.2353" ry="14.2353" style="stroke:#000000;stroke-width:1.2941176470588236;"/><path d="M94.4908,24.4265 Q94.693,24.1434 94.9357,24.0018 Q95.1783,23.8603 95.4614,23.8603 Q95.9467,23.8603 96.25,24.204 Q96.5533,24.5276 96.5533,25.3162 L96.5533,27.1967 Q96.5533,27.9853 96.25,28.329 Q95.9467,28.6728 95.4614,28.6728 Q95.0165,28.6728 94.7537,28.4099 Q94.4908,28.1673 94.3493,27.5 Q94.2886,27.0349 94.046,26.7923 Q93.6213,26.307 92.8327,26.0239 Q92.0441,25.7408 91.2353,25.7408 Q90.2445,25.7408 89.4154,26.1654 Q88.6066,26.5901 87.9596,27.5607 Q87.3327,28.5313 87.3327,29.8658 L87.3327,31.2813 Q87.3327,32.8787 88.4853,33.9504 Q89.6379,35.0018 91.7004,35.0018 Q92.9136,35.0018 93.7629,34.6783 Q94.2684,34.4761 94.8143,33.9099 Q95.1581,33.5662 95.3401,33.4651 Q95.5423,33.364 95.8051,33.364 Q96.2298,33.364 96.5533,33.7077 Q96.8971,34.0313 96.8971,34.4761 Q96.8971,34.921 96.4522,35.4467 Q95.8051,36.1949 94.7739,36.6195 Q93.3787,37.2059 91.7004,37.2059 Q89.739,37.2059 88.182,36.3971 Q86.9081,35.75 86.0184,34.375 Q85.1287,32.9798 85.1287,31.3217 L85.1287,29.8254 Q85.1287,28.1066 85.9173,26.6305 Q86.7261,25.1342 88.1415,24.3456 Q89.557,23.5368 91.1544,23.5368 Q92.1048,23.5368 92.9338,23.7592 Q93.7831,23.9614 94.4908,24.4265 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="15.5294" lengthAdjust="spacingAndGlyphs" textLength="62.1176" x="117.4412" y="36.119">Sicologo</text><line style="stroke:#000000;stroke-width:1.9411764705882355;" x1="10.3529" x2="244.5882" y1="50.4706" y2="50.4706"/><text fill="#000000" font-family="sans-serif" font-size="14.2353" lengthAdjust="spacingAndGlyphs" textLength="108.7059" x="16.8235" y="70.4245">+Sicologo() : void</text><text fill="#000000" font-family="sans-serif" font-size="14.2353" lengthAdjust="spacingAndGlyphs" textLength="160.4706" x="16.8235" y="88.3298">+GetConsulta() : Consulta</text><text fill="#000000" font-family="sans-serif" font-size="14.2353" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="221.2941" x="16.8235" y="106.2352">-Diagnostico(in p : Paciente) : string</text><text fill="#000000" font-family="sans-serif" font-size="14.2353" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="187.6471" x="16.8235" y="124.1405">-Atiende(in p : Paciente) : void</text><text fill="#000000" font-family="sans-serif" font-size="14.2353" lengthAdjust="spacingAndGlyphs" textLength="141.0588" x="16.8235" y="142.0458">+PasaConsulta() : void</text><!--MD5=[896b393e06bfd77d1981b9b22265aa64]
reverse link P to PacienteFeliz--><path codeline="52" d="M217.4506,417.5212 C203.3576,437.5024 189.1224,457.7035 177.1647,474.6694 " fill="none" id="P-backto-PacienteFeliz" style="stroke:#000000;stroke-width:1.2941176470588236;"/><polygon fill="none" points="210.2424,412.0082,232.5529,396.0776,225.0471,422.4518,210.2424,412.0082" style="stroke:#000000;stroke-width:1.2941176470588236;"/><!--MD5=[12d0549121195b8371386dd94ac0645b]
reverse link P to PacienteTriste--><path codeline="53" d="M348.0788,417.5212 C362.1718,437.5024 376.4071,457.7035 388.3647,474.6694 " fill="none" id="P-backto-PacienteTriste" style="stroke:#000000;stroke-width:1.2941176470588236;"/><polygon fill="none" points="340.4824,422.4518,332.9765,396.0776,355.2871,412.0082,340.4824,422.4518" style="stroke:#000000;stroke-width:1.2941176470588236;"/><!--MD5=[347653005821914bcce513fc0080b1b4]
link Sicologo to P--><path codeline="54" d="M172.1824,150.3635 C191.2447,179.9988 213.5553,214.6812 233.1353,245.0929 " fill="none" id="Sicologo-to-P" style="stroke:#000000;stroke-width:1.2941176470588236;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="236.7588,250.7224,234.8149,238.1259,233.2598,245.2794,226.1063,243.7243,236.7588,250.7224" style="stroke:#000000;stroke-width:1.2941176470588236;"/><text fill="#000000" font-family="sans-serif" font-size="16.8235" lengthAdjust="spacingAndGlyphs" textLength="45.2941" x="211.5882" y="207.6996">&#xAB;use&#xBB;</text><!--MD5=[4eb6ffff5f7365558ca611c9f34de2d4]
link Sicologo to Consulta--><path codeline="55" d="M261.8,79.5882 C261.8,79.5882 296.4047,79.5882 312.7494,79.5882 " fill="none" id="Sicologo-Consulta" style="stroke:#000000;stroke-width:1.2941176470588236;"/><polygon fill="#000000" points="329.5988,79.5882,317.9518,74.4118,323.1282,79.5882,317.9518,84.7647,329.5988,79.5882" style="stroke:#000000;stroke-width:1.2941176470588236;"/><line style="stroke:#000000;stroke-width:1.2941176470588236;" x1="323.1282" x2="312.7753" y1="79.5882" y2="79.5882"/><polygon fill="#000000" points="246.2706,79.5882,254.0353,84.7647,261.8,79.5882,254.0353,74.4118,246.2706,79.5882" style="stroke:#000000;stroke-width:1.2941176470588236;"/><text fill="#000000" font-family="sans-serif" font-size="16.8235" lengthAdjust="spacingAndGlyphs" textLength="36.2353" x="269.8235" y="71.1702">tiene</text><text fill="#000000" font-family="sans-serif" font-size="16.8235" lengthAdjust="spacingAndGlyphs" textLength="9.0588" x="256.0984" y="75.5305">1</text><text fill="#000000" font-family="sans-serif" font-size="16.8235" lengthAdjust="spacingAndGlyphs" textLength="9.0588" x="310.7188" y="75.5038">1</text><!--MD5=[451511ba67b3391b2c3a560883cdb53d]
link Consulta to P--><path codeline="56" d="M397.3057,145.6879 C397.3057,145.6879 357.4094,207.1882 338.2824,236.6682 " fill="none" id="Consulta-P" style="stroke:#000000;stroke-width:1.2941176470588236;"/><polygon fill="#000000" points="329.0682,250.8647,339.7521,243.9145,332.5916,245.4375,331.0686,238.2771,329.0682,250.8647" style="stroke:#000000;stroke-width:1.2941176470588236;"/><line style="stroke:#000000;stroke-width:1.2941176470588236;" x1="332.5916" x2="338.2306" y1="245.4375" y2="236.7459"/><polygon fill="#FFFFFF" points="405.7576,132.66,397.189,136.3567,397.3057,145.6879,405.8743,141.9913,405.7576,132.66" style="stroke:#000000;stroke-width:1.2941176470588236;"/><text fill="#000000" font-family="sans-serif" font-size="16.8235" lengthAdjust="spacingAndGlyphs" textLength="78.9412" x="366.8824" y="207.6996">es visitada</text><text fill="#000000" font-family="sans-serif" font-size="16.8235" lengthAdjust="spacingAndGlyphs" textLength="9.0588" x="390.861" y="159.9198">1</text><text fill="#000000" font-family="sans-serif" font-size="16.8235" lengthAdjust="spacingAndGlyphs" textLength="25.8824" x="307.4604" y="237.0545">0..*</text><!--MD5=[bdf14e57b6dc852230c90261c56ef3d5]
@startuml

!define ABSTRACT &#123;abstract&#125;

scale 550 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide PacienteFeliz attributes
class PacienteFeliz
{
    +PacienteFeliz(in nombre : string)
    ^+GetRespuesta() : string
}

hide PacienteTriste attributes
class PacienteTriste
{
    +PacienteTriste(in nombre : string)
    ^+GetRespuesta() : string
}

abstract class P as "Paciente\n{abstract}"
{
    -nombre : string {readOnly}

    +GetNombre() : string
    #Paciente(in nombre : string)
    {abstract} +GetRespuesta() : string ABSTRACT
}

hide Consulta attributes
class Consulta
{
    +Consulta() : void
    +Entra(in p : Paciente) : Consulta
    +Siguiente() : Paciente    
}

hide Sicologo attributes
class Sicologo
{
    +Sicologo() : void
    +GetConsulta() : Consulta
    -Diagnostico(in p : Paciente) : string {static}
    -Atiende(in p : Paciente) : void {static}
    +PasaConsulta() : void
}

P ^- - PacienteFeliz
P ^- - PacienteTriste
Sicologo .> P : <<use>>
Sicologo "1" *-> "1" Consulta : tiene
Consulta "1" o- -> "0..*" P : es visitada

@enduml

@startuml


scale 550 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide PacienteFeliz attributes
class PacienteFeliz
{
    +PacienteFeliz(in nombre : string)
    ^+GetRespuesta() : string
}

hide PacienteTriste attributes
class PacienteTriste
{
    +PacienteTriste(in nombre : string)
    ^+GetRespuesta() : string
}

abstract class P as "Paciente\n{abstract}"
{
    -nombre : string {readOnly}

    +GetNombre() : string
    #Paciente(in nombre : string)
    {abstract} +GetRespuesta() : string &#123;abstract&#125;
}

hide Consulta attributes
class Consulta
{
    +Consulta() : void
    +Entra(in p : Paciente) : Consulta
    +Siguiente() : Paciente    
}

hide Sicologo attributes
class Sicologo
{
    +Sicologo() : void
    +GetConsulta() : Consulta
    -Diagnostico(in p : Paciente) : string {static}
    -Atiende(in p : Paciente) : void {static}
    +PasaConsulta() : void
}

P ^- - PacienteFeliz
P ^- - PacienteTriste
Sicologo .> P : <<use>>
Sicologo "1" *-> "1" Consulta : tiene
Consulta "1" o- -> "0..*" P : es visitada

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p><strong>&#x270B; Antes de ver la implementaci&#xF3;n comentada de esta prupuesta, intenta realizarla t&#xFA; y as&#xED; posteriormente puedes ver la propuesta de soluci&#xF3;n para lo que no has sabido resolver.</strong></p>
</blockquote>
<div style="page-break-after:always;"></div>
<p>Propuesta de soluci&#xF3;n al caso de estudio:</p>
<ol>
<li>
<p>Crearemos la clase abstracta <strong><code>Paciente</code></strong>. Ser&#xE1; abstracta porque los pacientes del sic&#xF3;logo reponden de forma diferente dependiendo de su especificaci&#xF3;n.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Paciente</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name"><span class="token keyword">string</span></span> nombre<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">protected</span> <span class="token function">Paciente</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> nombre<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>Definiremos las especificaciones de <strong><code>Paciente</code></strong> para que respondan seg&#xFA;n su estado de &#xE1;nimo.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[4, 12]}" class="language-csharp" data-line="4,12"><span class="token keyword">class</span> <span class="token class-name">PacienteAlegre</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Paciente</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// F&#xED;jate que los constructores no tienen cuerpo y lo &#xFA;nico que hacen es pasar el nombre al constructor protected de Paciente.</span>
    <span class="token keyword">public</span> <span class="token function">PacienteAlegre</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> nombre<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Pues... ahora estoy alegre.&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">PacienteTriste</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Paciente</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">PacienteTriste</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> nombre<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Pues... ahora estoy triste.&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>    
<div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">










<div aria-hidden="true" class="line-highlight" data-range="12" data-start="12">
</div></div></pre></li>
<li>
<p>Definiremos la clase <strong><code>Consulta</code></strong> (&#x270B; <em>Lee atentamente los <strong>comentarios</strong></em>).</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Consulta</span>
<span class="token punctuation">{</span>        
    <span class="token keyword">private</span> <span class="token class-name">Paciente<span class="token punctuation">[</span><span class="token punctuation">]</span></span> pacientes<span class="token punctuation">;</span>           <span class="token comment">// Array de pacientes que representa la agregaci&#xF3;n 0..* con la clase Paciente.</span>
    <span class="token keyword">public</span> <span class="token function">Consulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> pacientes <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// En un principio la consulta estar&#xE1; vac&#xED;a.</span>
    <span class="token comment">// Patr&#xF3;n de interfaz &apos;fluido&apos; para que los pacientes entren por orden en la consulta.</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Consulta</span> <span class="token function">Entra</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Redimensiono o creo el array y a&#xF1;ado al paciente en la &#xFA;ltima posici&#xF3;n.</span>
        Array<span class="token punctuation">.</span><span class="token function">Resize</span><span class="token punctuation">(</span><span class="token keyword">ref</span> pacientes<span class="token punctuation">,</span> pacientes <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> pacientes<span class="token punctuation">.</span>Length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pacientes<span class="token punctuation">[</span>pacientes<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Retornar&#xE1; el siguiente paciente en la cola de la consulta o null si ya no quedan pacientes.</span>
    <span class="token comment">// Nota: M&#xE1;s adelante veremos colecciones que nos permitir&#xE1;n gestionar esto de forma m&#xE1;s simple.</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Paciente</span> <span class="token function">Siguiente</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>           
        <span class="token class-name">Paciente</span> p <span class="token operator">=</span> pacientes<span class="token punctuation">?</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Asigno null o el paciente en el &#xED;ndice 0 (&apos;primero&apos;)</span>
        <span class="token comment">// Si hay m&#xE1;s de 2 pacientes, eliminar&#xE9; el primer elemento del array dej&#xE1;ndolo con un elemento menos.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>pacientes <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> pacientes<span class="token punctuation">.</span>Length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Creo un array auxiliar copia con un elemento menos que el de pacientes.</span>
            <span class="token class-name">Paciente<span class="token punctuation">[</span><span class="token punctuation">]</span></span> copia <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Paciente</span><span class="token punctuation">[</span>pacientes<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">// En este array copio desde el &#xED;ndice 1 del de pacientes en la posici&#xF3;n 0 de la copia.</span>
            <span class="token comment">// Nota: Ver en la documentaci&#xF3;n de C# esta funci&#xF3;n.</span>
            Array<span class="token punctuation">.</span><span class="token function">Copy</span><span class="token punctuation">(</span>pacientes<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> copia<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> pacientes<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                
            pacientes <span class="token operator">=</span> copia<span class="token punctuation">;</span> <span class="token comment">// Pacientes pasa a ser ahora la copia donde he quitado el primer elemento.</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
            pacientes <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> p<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
</ol>
<div style="page-break-after:always;"></div>
<ol start="4">
<li>
<p>Definiremos la clase <strong><code>Sicologo</code></strong> (&#x270B; <em>Lee atentamente los <strong>comentarios</strong></em>).<br>
<strong>Nota:</strong> Tiene un dependencia de uso con <strong><code>Paciente</code></strong> en el UML, ya que necesita conocer la clase. (En este caso hemos decidido representarla)</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Sicologo</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Consulta</span> consulta<span class="token punctuation">;</span> <span class="token comment">// Representa la composici&#xF3;n con consuta &apos;Un Sicologo tiene una Consulta&apos;</span>
    <span class="token comment">// La consulta la crea el sic&#xF3;logo y por tanto desaparece con &#xE9;l.</span>
    <span class="token comment">// Es mejor pr&#xE1;ctica recibirla como par&#xE1;metro y hacer una copia como indicamos, </span>
    <span class="token comment">// pero lo hemos hecho as&#xED; por simplificar.</span>
    <span class="token keyword">public</span> <span class="token function">Sicologo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> consulta <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Consulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token comment">// La consulta debe ser accesible por los pacientes.        </span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Consulta</span> <span class="token function">GetConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> consulta<span class="token punctuation">;</span> <span class="token punctuation">}</span> 
    <span class="token comment">// A partir de la especificaci&#xF3;n de paciente, damos un diagn&#xF3;stico. </span>
    <span class="token comment">// Si es un paciente no conocido damos una respuesta ambigua.</span>
    <span class="token comment">// El m&#xE9;todo lo hemos hecho de clase pues no necesitamos acceder a los datos de la inst&#xE1;ncia.</span>
    <span class="token comment">// adem&#xE1;s nos permitir&#xE1; a un sic&#xF3;logo diagnosticar pacientes sin tener consulta si la hicieramos p&#xFA;blica.</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Diagnostico</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> p <span class="token keyword">switch</span>
        <span class="token punctuation">{</span>
            <span class="token return-type class-name">PacienteAlegre</span> _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> le veo estupendamente. Enhorabuena!! no necesita m&#xE1;s terapia.&quot;</span></span><span class="token punctuation">,</span>
            <span class="token return-type class-name">PacienteTriste</span> _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> tome fluoxetina 20mg y vuelva en un mes.&quot;</span></span><span class="token punctuation">,</span>
            _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> d&#xE9;jeme que estudie un poco m&#xE1;s su caso y vuelva la semana que viene.&quot;</span></span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Atender al paciente es quien establece el di&#xE1;logo.</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Atiende</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;- Sic&#xF3;logo: Buenos d&#xED;as!. &#xBF;C&#xF3;mo se llama?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;- Paciente: Soy </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;- Sic&#xF3;logo: D&#xED;game </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">!.. &#xBF;Qu&#xE9; siente?&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;- Paciente: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuilder</span> accion <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">&quot;- Sic&#xF3;logo: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        accion<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token function">Diagnostico</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;\n- Sic&#xF3;logo: Que pase el siguiente !!!\n\n&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>accion<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// PasaConsulta atiende a los pacientes mientras exista alguno en la cola de la consulta.</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">PasaConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Paciente</span> p<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p <span class="token operator">=</span> consulta<span class="token punctuation">.</span><span class="token function">Siguiente</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
            <span class="token function">Atiende</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>Vamos a crear un sencillo programa de test</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Sicologo</span> sicologo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Sicologo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sicologo<span class="token punctuation">.</span><span class="token function">GetConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">PacienteAlegre</span><span class="token punctuation">(</span><span class="token string">&quot;Xusa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">PacienteAlegre</span><span class="token punctuation">(</span><span class="token string">&quot;Juanjo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">PacienteTriste</span><span class="token punctuation">(</span><span class="token string">&quot;Carmen&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sicologo<span class="token punctuation">.</span><span class="token function">PasaConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>C&#xF3;mo suced&#xED;a en otros casos podemos crear una nueva especificaci&#xF3;n de <strong><code>Paciente</code></strong> por ejemplo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">PacienteSociopata</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Paciente</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">PacienteSociopata</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> nombre<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">&quot;Vas a morir .. muuhaaahahahaha !!&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>El <strong>consultorio seguir&#xED;a funcionando</strong>. Pero, esta vez el <strong><code>Sic&#xF3;logo</code></strong> deber&#xED;a actualizarse para saber tratar a este tipo de pacientes. (<em>L&#xED;nea 5</em>)</p>
<pre data-role="codeBlock" data-info="csharp {highlight=5}" class="language-csharp" data-line="5"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Diagnostico</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> p <span class="token keyword">switch</span> <span class="token punctuation">{</span>
        <span class="token range operator">..</span><span class="token punctuation">.</span>
        <span class="token return-type class-name">PacienteSociopata</span> _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$&quot;Lo siento!. Debo aplicarte una decarga de 10000V justo ahora.&quot;</span></span><span class="token punctuation">,</span>
        _ <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> d&#xE9;jeme que estudie un poco m&#xE1;s su caso y vuelva la semana que viene.&quot;</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5" data-start="5">
</div></div></pre><blockquote>
<p><strong>&#x26A1;&#xFE0F; Retos:</strong> &#xBF;Se te ocurre c&#xF3;mo crear diferentes tipos de sic&#xF3;logos que diagnostiquen de forma diferente o alguna forma de hacer que sepamos que tenemos que actualizar al sic&#xF3;logo si hay nuevos pacientes?</p>
</blockquote>
</li>
</ol>

      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>