<!DOCTYPE html><html><head>
      <title>Programaci&#xF3;n 1&#xBA; DAM Tema 7 pate 1</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.3/dist/katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
.markdown-preview.markdown-preview .slides > section {
  height: 100%;
  font-size: 90%;
  overflow-y: auto !important;
}
.markdown-preview.markdown-preview .slide code {
  color: yellow;
}

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <style>/* 
Añade 

@import "../EstilosPersonalizadosMarkdownEnhanced.less"

justo después del front matter 
*/
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v17/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
.contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.fondo {
  background: url(https://programacioniesbalmis.github.io/Imagenes/BannersMoodle/banner.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
</style>
<h1 class="mume-header undefined" id="tema-7-parte-1">Tema 7 parte 1</h1>

<p>Descargar estos apuntes en <a href="./Tema7_1.pdf">pdf</a> o <a href="./Tema7_1.html">html</a></p>
<h2 class="mume-header" id="%C3%ADndice">&#xCD;ndice</h2>

<ol>
<li><a href="#%C3%ADndice">&#xCD;ndice</a></li>
<li><a href="#repaso-tema-5">Repaso Tema 5</a></li>
<li><a href="#dise%C3%B1o-orientada-a-objetos-b%C3%A1sico">Dise&#xF1;o Orientada a Objetos B&#xE1;sico</a>
<ol>
<li><a href="#definici%C3%B3n-de-operaci%C3%B3n-o-m%C3%A9todo">Definici&#xF3;n de operaci&#xF3;n o m&#xE9;todo</a>
<ol>
<li><a href="#tipos-de-m%C3%A9todos">Tipos de m&#xE9;todos</a></li>
<li><a href="#enfoque-de-los-m%C3%A9todos-desde-la-teor%C3%ADa-de-poo">Enfoque de los m&#xE9;todos desde la teor&#xED;a de POO</a></li>
</ol>
</li>
<li><a href="#definici%C3%B3n-de-encapsulaci%C3%B3n">Definici&#xF3;n de Encapsulaci&#xF3;n</a></li>
<li><a href="#definici%C3%B3n-de-constructor-y-destructor">Definici&#xF3;n de Constructor Y Destructor</a></li>
</ol>
</li>
<li><a href="#definiendo-nuestra-primera-clase-a-trav%C3%A9s-de-c">Definiendo nuestra primera clase a trav&#xE9;s de &apos;<em>C#</em>&apos;</a>
<ol>
<li><a href="#paso-1-definir-los-campos-atributos-en-poo-cl%C3%A1sica">Paso 1: Definir los campos (atributos en POO cl&#xE1;sica)</a></li>
<li><a href="#paso-2-definir-los-constructores-destructores-de-objetos">Paso 2: Definir los constructores / destructores de objetos</a>
<ol>
<li><a href="#referencia-impl%C3%ADcita-a-hrefhttpsdocsmicrosoftcomes-esdotnetcsharplanguage-referencekeywordsthis-target_blankthisa">Referencia impl&#xED;cita this</a></li>
<li><a href="#constructor-por-defecto">Constructor por defecto</a></li>
<li><a href="#constructor-copia">Constructor copia</a></li>
<li><a href="#destructores">Destructor/es</a></li>
</ol>
</li>
<li><a href="#paso-3-definir-los-accesores-y-mutadores-propiedades-en-c">Paso 3: Definir los accesores y mutadores (Propiedades en C#)</a>
<ol>
<li><a href="#bulb-tips-de-dise%C3%B1o-de-getters-y-setters">&#x1F4A1; Tips de dise&#xF1;o de <em>&apos;getters&apos;</em> y <em>&apos;setters&apos;</em></a></li>
</ol>
</li>
<li><a href="#paso-4-definir-m%C3%A9todos-u-operaciones-de-la-clase">Paso 4: Definir m&#xE9;todos u operaciones de la clase</a></li>
<li><a href="#paso-5-crear-un-peque%C3%B1o-test-para-nuestra-clase-opcional">Paso 5: Crear un peque&#xF1;o test para nuestra clase (Opcional)</a></li>
<li><a href="#resumen-de-directrices-generales-de-definici%C3%B3n-de-clases">Resumen de directrices generales de definici&#xF3;n de clases</a></li>
</ol>
</li>
<li><a href="#definiendo-tipos-y-objetos-valor">Definiendo tipos y objetos &apos;<em>valor</em>&apos;</a>
<ol>
<li><a href="#un-poco-de-hist%C3%B3ria">Un poco de hist&#xF3;ria</a></li>
<li><a href="#bulb-tips-para-definir-un-value-object-usando-struct-o-tipos-valor">&#x1F4A1; Tips para definir un Value Object usando struct o tipos valor</a></li>
<li><a href="#definir-objetos-valor-a-trav%C3%A9s-de-c">Definir objetos valor a trav&#xE9;s de &apos;<em>C#</em>&apos;</a>
<ol>
<li><a href="#creando-un-objeto-valor-como-un-tipo-valor">Creando un objeto valor como un tipo valor</a></li>
<li><a href="#definiendo-operaciones-inmutables-en-el-objeto-valor">Definiendo operaciones inmutables en el objeto valor</a></li>
</ol>
</li>
<li><a href="#ejemplo-de-objeto-valor-definido-en-las-bcl-como-tipo-valor">Ejemplo de objeto valor definido en las BCL como tipo valor</a>
<ol>
<li><a href="#formas-de-instanciar-objetos-valor-fecha">Formas de instanciar objetos valor fecha</a></li>
<li><a href="#operaciones-m%C3%A1s-comunes-con-fechas">Operaciones m&#xE1;s comunes con fechas</a></li>
<li><a href="#fechas-y-cadenas">Fechas y cadenas</a></li>
<li><a href="#qu%C3%A9-pasa-si-solo-queremos-guardar-la-hora-o-la-fecha">&#xBF;Qu&#xE9; pasa si solo queremos guardar la hora o la fecha?</a></li>
</ol>
</li>
</ol>
</li>
<li><a href="#roles-entre-clases">Roles entre clases</a>
<ol>
<li><a href="#relaciones-todo-parte">Relaciones Todo-Parte</a>
<ol>
<li><a href="#agregaci%C3%B3n-o-referencia">Agregaci&#xF3;n o referencia</a>
<ol>
<li><a href="#ventajas-de-la-agregaci%C3%B3n-1">Ventajas de la agregaci&#xF3;n &#x1F44D;</a></li>
<li><a href="#desventajas-de-la-agregaci%C3%B3n-1">Desventajas de la agregaci&#xF3;n &#x1F44E;</a></li>
</ol>
</li>
<li><a href="#composici%C3%B3n-o-subobjetos">Composici&#xF3;n o subobjetos</a>
<ol>
<li><a href="#ventajas-de-la-composici%C3%B3n-1">Ventajas de la composici&#xF3;n &#x1F44D;</a></li>
<li><a href="#desventajas-de-la-composici%C3%B3n-1">Desventajas de la composici&#xF3;n &#x1F44E;</a></li>
</ol>
</li>
<li><a href="#ejemplo-de-agregaci%C3%B3n">Ejemplo de Agregaci&#xF3;n</a></li>
<li><a href="#ejemplo-de-composici%C3%B3n">Ejemplo de Composici&#xF3;n</a></li>
</ol>
</li>
</ol>
</li>
</ol>
<div style="page-break-after:always;"></div>
<h2 class="mume-header" id="repaso-tema-5">Repaso Tema 5</h2>

<p>Repasemos a trav&#xE9;s del siguiente diagrama las definiciones y conceptos iniciales de POO que vimos en el tema 5.</p>
<p align="center" style="zoom:0.7"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="455px" preserveAspectRatio="none" style="width:1389px;height:455px;background:#FFFFFF;" version="1.1" viewBox="0 0 1389 455" width="1389px" zoomAndPan="magnify"><defs><filter height="300%" id="f1p0tsy893nm6j" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#D3D3D3" filter="url(#f1p0tsy893nm6j)" height="78.2959" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="107" x="507" y="187.4438"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="77" x="522" y="215.5757">Definiciones</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="49" x="536" y="231.6743">B&#xE1;sicas</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="31" x="545" y="247.7729">POO</text><rect fill="#F5F5F5" filter="url(#f1p0tsy893nm6j)" height="78.2959" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="112" x="674" y="187.4438"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="45" x="707.5" y="215.5757">CLASE</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="82" x="689" y="231.6743">Definici&#xF3;n de</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="43" x="708.5" y="247.7729">un tipo</text><rect fill="#FFFFFF" filter="url(#f1p0tsy893nm6j)" height="46.0986" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="93" x="846" y="25"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="63" x="861" y="53.1318">NOMBRE</text><path d="M786,226.5918 L796,226.5918 C811,226.5918 821,48.0493 836,48.0493 L846,48.0493 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><rect fill="#FFFFFF" filter="url(#f1p0tsy893nm6j)" height="94.3945" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="295" x="846" y="101.0986"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="79" x="954" y="129.2305">ATRIBUTOS</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="64" x="894" y="145.3291">Definen el</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="48" x="962" y="145.3291">estado</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="79" x="1014" y="145.3291">de un objeto</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="265" x="861" y="161.4277">De ahora en adelante los denominaremos</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="170" x="876" y="177.5264">con la nomenclatura de C#</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="61" x="1050" y="177.5264">CAMPOS</text><rect fill="#F0F8FF" filter="url(#f1p0tsy893nm6j)" height="78.2959" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="167" x="1201" y="46.9507"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="18" x="1251" y="75.0825">De</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="45" x="1273" y="75.0825">CLASE</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="137" x="1216" y="91.1812">No necesito un objeto</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="133" x="1218" y="107.2798">para acceder a ellos.</text><path d="M1141,148.2959 L1151,148.2959 C1166,148.2959 1176,86.0986 1191,86.0986 L1201,86.0986 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><rect fill="#F0F8FF" filter="url(#f1p0tsy893nm6j)" height="94.3945" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="169" x="1201" y="155.2466"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="18" x="1238" y="183.3784">De</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="73" x="1260" y="183.3784">INSTANCIA</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="100" x="1235.5" y="199.4771">Pertenecen a la</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="139" x="1216" y="215.5757">inst&#xE1;ncia de un objeto</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="137" x="1217" y="231.6743">concreto en memoria.</text><path d="M1141,148.2959 L1151,148.2959 C1166,148.2959 1176,202.4438 1191,202.4438 L1201,202.4438 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><path d="M786,226.5918 L796,226.5918 C811,226.5918 821,148.2959 836,148.2959 L846,148.2959 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><rect fill="#FFFFFF" filter="url(#f1p0tsy893nm6j)" height="94.3945" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="295" x="846" y="225.4932"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="101" x="943" y="253.625">OPERACIONES</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="71" x="890.5" y="269.7236">Cambian el</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="48" x="965.5" y="269.7236">estado</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="79" x="1017.5" y="269.7236">de un objeto</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="265" x="861" y="285.8223">De ahora en adelante los denominaremos</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="170" x="871" y="301.9209">con la nomenclatura de C#</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="71" x="1045" y="301.9209">M&#xC9;TODOS</text><path d="M786,226.5918 L796,226.5918 C811,226.5918 821,272.6904 836,272.6904 L846,272.6904 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><rect fill="#FFFFFF" filter="url(#f1p0tsy893nm6j)" height="78.2959" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="179" x="846" y="349.8877"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="47" x="912" y="378.0195">ROLES</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="71" x="861" y="394.1182">Definen las</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="74" x="936" y="394.1182">relaciones</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="103" x="884" y="410.2168">con otras clases</text><path d="M786,226.5918 L796,226.5918 C811,226.5918 821,389.0356 836,389.0356 L846,389.0356 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><path d="M614,226.5918 L624,226.5918 C639,226.5918 649,226.5918 664,226.5918 L674,226.5918 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><rect fill="#F5F5F5" filter="url(#f1p0tsy893nm6j)" height="78.2959" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="148" x="299" y="187.4438"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="57" x="344.5" y="215.5757">OBJETO</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="115" x="315.5" y="231.6743">Instancia concreta</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="118" x="314" y="247.7729">del tipo de la clase</text><rect fill="#FFFFFF" filter="url(#f1p0tsy893nm6j)" height="78.2959" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="209" x="30" y="125.2466"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="67" x="101" y="153.3784">MUTABLE</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="67" x="75" y="169.4771">Cambia su</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="48" x="146" y="169.4771">estado</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="179" x="45" y="185.5757">a trav&#xE9;s de las operaciones.</text><path d="M299,226.5918 L289,226.5918 C274,226.5918 264,164.3945 249,164.3945 L239,164.3945 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><rect fill="#FFFFFF" filter="url(#f1p0tsy893nm6j)" height="94.3945" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="229" x="10" y="233.5425"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="81" x="84" y="261.6743">INMUTABLE</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="19" x="55" y="277.7729">No</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="64" x="78" y="277.7729">cambia su</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="48" x="146" y="277.7729">estado</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="199" x="25" y="293.8716">las operaciones sobre el mismo</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="176" x="36.5" y="309.9702">dan lugar a nuevos objetos.</text><path d="M299,226.5918 L289,226.5918 C274,226.5918 264,280.7397 249,280.7397 L239,280.7397 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><path d="M507,226.5918 L497,226.5918 C482,226.5918 472,226.5918 457,226.5918 L447,226.5918 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[1ae76452d2153a687ce695b446e2d1ef]
@startmindmap
left to right direction
<style>
mindmapDiagram {
  Linecolor black
  FontName Arial
  FontSize 14
  node {
    Padding 15
    Margin 15
    HorizontalAlignment center
    BackGroundColor white
  }
}
</style>

*[#lightgray] Definiciones\nBásicas\n**POO**

**[#whitesmoke] **CLASE**\nDefinición de\nun tipo
*** **NOMBRE**
*** **ATRIBUTOS**\nDefinen el **estado** de un objeto\nDe ahora en adelante los denominaremos\ncon la nomenclatura de C# **CAMPOS**
****[#aliceblue] De **CLASE**\nNo necesito un objeto\npara acceder a ellos.
****[#aliceblue] De **INSTANCIA**\nPertenecen a la\ninstáncia de un objeto\nconcreto en memoria.
*** **OPERACIONES**\nCambian el **estado** de un objeto\nDe ahora en adelante los denominaremos\ncon la nomenclatura de C# **MÉTODOS**
*** **ROLES**\nDefinen las **relaciones**\ncon otras clases

left side

**[#whitesmoke] **OBJETO**\nInstancia concreta\ndel tipo de la clase
*** **MUTABLE**\nCambia su **estado**\na través de las operaciones.
*** **INMUTABLE**\n**No** cambia su **estado**\nlas operaciones sobre el mismo\ndan lugar a nuevos objetos.
@endmindmap

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><h2 class="mume-header" id="dise%C3%B1o-orientada-a-objetos-b%C3%A1sico">Dise&#xF1;o Orientada a Objetos B&#xE1;sico</h2>

<p>Aunque en el Tema 5 hablamos de las definiciones b&#xE1;sicas, vamos a profundizar un poco m&#xE1;s en algunos conceptos de la programaci&#xF3;n orientado a objetos para poder hacer nuestros <strong>dise&#xF1;os o modelos</strong> de forma correcta.</p>
<h3 class="mume-header" id="definici%C3%B3n-de-operaci%C3%B3n-o-m%C3%A9todo">Definici&#xF3;n de operaci&#xF3;n o m&#xE9;todo</h3>

<ul>
<li>Definen el <strong>Comportamiento</strong> y las <strong>Operaciones</strong> que se pueden realizar con los objetos.</li>
<li>Permiten interactuar y relacionarse a los objetos.</li>
</ul>
<h4 class="mume-header" id="tipos-de-m%C3%A9todos">Tipos de m&#xE9;todos</h4>

<ul>
<li><strong>M&#xE9;todos de instancia o tambi&#xE9;n (de objeto)</strong>
<ul>
<li>Necesito tener un objeto instanciado en memoria para acceder a ellos.</li>
<li>Pueden acceder tanto a atributos de <strong>instancia</strong> como de <strong>clase</strong>.</li>
<li>Pueden modificar el <strong>estado de un objeto</strong> concreto en memoria si este es mutable.</li>
</ul>
</li>
<li><strong>M&#xE9;todos de clase o tambi&#xE9;n est&#xE1;ticos</strong>
<ul>
<li>No necesito tener un objeto instanciado en memoria para acceder a ellos.</li>
<li>Solo pueden acceder a los atributos de clase (static) y no a los de instancia.</li>
</ul>
</li>
<li><strong>M&#xE9;todos de acceso y actualizaci&#xF3;n</strong>
<ul>
<li>Tambi&#xE9;n se les conoce como <strong>Accesores</strong> - <strong>Mutadores</strong> en general, <strong>Propiedades</strong> (C# y Kotlin) o <strong>Setters</strong> - <strong>Getters</strong> (Java).</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="enfoque-de-los-m%C3%A9todos-desde-la-teor%C3%ADa-de-poo">Enfoque de los m&#xE9;todos desde la teor&#xED;a de POO</h4>

<ul>
<li>
<p>En la teor&#xED;a tradicional de la POO, los objetos se comunican entre ellos a trav&#xE9;s de un mecanismo de <strong>paso de mensajes</strong>. (<a href="https://en.wikipedia.org/wiki/Alan_Kay" target="_blank">Alan Kay</a>, <a href="https://en.wikipedia.org/wiki/Bertrand_Meyer" target="_blank">Bertrand Meyer</a>)</p>
</li>
<li>
<p>En el fondo cuando desde un m&#xE9;todo de un objeto de instancia llamamos o invocamos a un m&#xE9;todo de otro objetos, estaremos haciendo este paso de mensajes y por tanto comunicando ambos objetos.</p>
</li>
<li>
<p>Hay m&#xE1;s formas de pasar estos mensajes, pero la m&#xE1;s b&#xE1;sica es esta.</p>
</li>
<li>
<p>Vamos a verlo a trav&#xE9;s de un ejemplo <em>&apos;<strong>simplificado</strong>&apos;</em> de c&#xF3;digo para entender el concepto <em>&apos;<strong>abstracto</strong>&apos;</em> de mensaje y comunicaci&#xF3;n entre objetos:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-class">class</span> <span class="token class-name">Persona</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> M&#xE9;<span class="token function">todoDeInstancia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Phone</span> tlf <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Phone</span><span class="token punctuation">(</span><span class="token string">&quot;iPhone 12&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Mensaje 1</span>
        <span class="token comment">// Un objeto concreto de Persona (en el ejemplo &apos;Mar&#xED;a&apos;)</span>
        <span class="token comment">// Se comunica con e objetos tlf a trav&#xE9;s de un</span>
        <span class="token comment">// mensaje, esto &#xE9;s llamando a su m&#xE9;todo Enciende()</span>
        <span class="token comment">// Esto cambia el estado del objeto tlf a encendido.</span>
        tlf<span class="token punctuation">.</span><span class="token function">Enciende</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Mensaje 2</span>
        <span class="token comment">// Mar&#xED;a pasa el mensaje a tlf de que llame a un n&#xFA;mero </span>
        <span class="token comment">// cambiando su estado a llamando...</span>
        tlf<span class="token punctuation">.</span><span class="token function">Llama</span><span class="token punctuation">(</span><span class="token number">676345266</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
</ul>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="627pt" height="116pt" viewBox="0.00 0.00 626.71 116.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-112 622.7128,-112 622.7128,4 -4,4"/>
<!-- p -->
<g id="node1" class="node">
<title>p</title>
<polygon fill="none" stroke="#000000" points="8.5,-54 8.5,-92 193.5,-92 193.5,-54 8.5,-54"/>
<text text-anchor="start" x="25.1529" y="-68.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;mar&#xED;a : Persona &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="8.5,-16 8.5,-54 193.5,-54 193.5,-16 8.5,-16"/>
<text text-anchor="start" x="19.2183" y="-30.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Nombre = &quot;Mar&#xED;a&quot; &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- tlf -->
<g id="node2" class="node">
<title>tlf</title>
<polygon fill="none" stroke="#000000" points="408.2128,-54 408.2128,-92 611.2128,-92 611.2128,-54 408.2128,-54"/>
<text text-anchor="start" x="454.8559" y="-68.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;tlf : Phone &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="408.2128,-16 408.2128,-54 611.2128,-54 611.2128,-16 408.2128,-16"/>
<text text-anchor="start" x="418.9592" y="-30.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Modelo = &quot;iPhone 12&quot; &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- p&#45;&gt;tlf -->
<g id="edge1" class="edge">
<title>p-&gt;tlf</title>
<path fill="none" stroke="#000000" d="M201.0059,-36C201.0059,-36 389.4003,-36 389.4003,-36"/>
<polygon fill="#000000" stroke="#000000" points="389.4003,-39.5001 399.4003,-36 389.4002,-32.5001 389.4003,-39.5001"/>
<text text-anchor="start" x="242.0112" y="-77.6" font-family="Arial" font-size="12.00" fill="#000000">Mensaje1: </text>
<text text-anchor="start" x="300.6924" y="-77.6" font-family="Arial" font-weight="bold" font-size="12.00" fill="#000000">Enciende()</text>
</g>
<!-- p&#45;&gt;tlf -->
<g id="edge2" class="edge">
<title>p-&gt;tlf</title>
<path fill="none" stroke="#000000" d="M201.0059,-72C201.0059,-72 389.4003,-72 389.4003,-72"/>
<polygon fill="#000000" stroke="#000000" points="389.4003,-75.5001 399.4003,-72 389.4002,-68.5001 389.4003,-75.5001"/>
<text text-anchor="start" x="219" y="-40.6" font-family="Arial" font-size="12.00" fill="#000000">Mensaje2: </text>
<text text-anchor="start" x="277.6812" y="-40.6" font-family="Arial" font-weight="bold" font-size="12.00" fill="#000000">Llama( </text>
<text text-anchor="start" x="317.6808" y="-40.6" font-family="Arial" font-weight="bold" font-size="12.00" fill="#add8e6">676345266</text>
<text text-anchor="start" x="377.718" y="-40.6" font-family="Arial" font-weight="bold" font-size="12.00" fill="#000000">)</text>
</g>
</g>
</svg>
</p><h3 class="mume-header" id="definici%C3%B3n-de-encapsulaci%C3%B3n">Definici&#xF3;n de Encapsulaci&#xF3;n</h3>

<ul>
<li>En POO, se denomina encapsulaci&#xF3;n al la <strong>ocultaci&#xF3;n del estado</strong>, es decir, de los atributos, de un objeto. De tal manera que, solo se puede cambiar mediante las operaciones definidas para ese objeto o sus accesores - mutadores.</li>
<li>De esta forma el usuario de la clase solo interacciona con los objetos abstray&#xE9;ndose de como est&#xE1;n implementados (<strong>no sabe nada de la implementaci&#xF3;n</strong>).</li>
<li>Se evita que el usuario pueda cambiar su estado de maneras imprevistas e incontroladas.</li>
</ul>
<h3 class="mume-header" id="definici%C3%B3n-de-constructor-y-destructor">Definici&#xF3;n de Constructor Y Destructor</h3>

<p>CONSTRUCTOR</p>
<ul>
<li>M&#xE9;todo o m&#xE9;todos especiales que me servir&#xE1;n para instanciar e inicializar el estado de un objeto en memoria.</li>
<li>Toda clase debe tener al menos un constructor.</li>
</ul>
<p>DESTRUCTOR</p>
<ul>
<li>Un &#xFA;nico m&#xE9;todo especial encargado de eliminar una instancia en memoria de un objeto.</li>
<li>En la gram mayor&#xED;a de lenguajes OO modernos no hace falta definirlos y llamarlos, ya que de esta labor de eliminaci&#xF3;n de instancias de objetos en memoria, se encarga el denominado <em>&apos;<strong>recolector de basura</strong>&apos;</em> (GC), cuando un objeto ya no es referenciado por nadie.</li>
</ul>
<div style="page-break-after:always;"></div>
<h2 class="mume-header" id="definiendo-nuestra-primera-clase-a-trav%C3%A9s-de-c">Definiendo nuestra primera clase a trav&#xE9;s de &apos;<em>C#</em>&apos;</h2>

<p>Supongamos que queremos definir un tipo que represente libros.<br>
Una posible representaci&#xF3;n UML del mismo podr&#xED;a ser:</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="199.6283px" preserveAspectRatio="none" style="width:301px;height:199px;background:#FFFFFF;" version="1.1" viewBox="0 0 301 199" width="301.1152px" zoomAndPan="magnify"><defs><filter height="300%" id="fceh0qcc7bdhk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.2304832713754648"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.4609665427509295" dy="4.4609665427509295" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[a48731e35e4efcfa96e52c126b9a7dad]
class Libro--><rect codeline="10" fill="#FFFAFA" filter="url(#fceh0qcc7bdhk)" height="176.9749" id="Libro" style="stroke:#000000;stroke-width:1.6728624535315986;" width="277.6952" x="7.8067" y="7.8067"/><ellipse cx="126.3011" cy="25.6506" fill="#ADD1B2" rx="12.2677" ry="12.2677" style="stroke:#000000;stroke-width:1.1152416356877324;"/><path d="M129.3855,21.0502 Q129.5597,20.8062 129.7688,20.6842 Q129.9779,20.5623 130.2219,20.5623 Q130.6401,20.5623 130.9015,20.8585 Q131.1629,21.1373 131.1629,21.8169 L131.1629,23.4375 Q131.1629,24.1171 130.9015,24.4133 Q130.6401,24.7096 130.2219,24.7096 Q129.8385,24.7096 129.612,24.483 Q129.3855,24.2739 129.2635,23.6989 Q129.2112,23.2981 129.0021,23.089 Q128.6362,22.6708 127.9566,22.4268 Q127.277,22.1829 126.5799,22.1829 Q125.7261,22.1829 125.0116,22.5488 Q124.3146,22.9147 123.757,23.7512 Q123.2168,24.5876 123.2168,25.7377 L123.2168,26.9575 Q123.2168,28.3341 124.21,29.2577 Q125.2033,30.1638 126.9807,30.1638 Q128.0263,30.1638 128.7581,29.885 Q129.1938,29.7107 129.6643,29.2228 Q129.9605,28.9266 130.1173,28.8395 Q130.2916,28.7523 130.5181,28.7523 Q130.8841,28.7523 131.1629,29.0486 Q131.4591,29.3274 131.4591,29.7107 Q131.4591,30.0941 131.0757,30.5472 Q130.5181,31.1919 129.6294,31.5579 Q128.427,32.0632 126.9807,32.0632 Q125.2904,32.0632 123.9487,31.3662 Q122.8508,30.8086 122.0841,29.6236 Q121.3174,28.4212 121.3174,26.9923 L121.3174,25.7028 Q121.3174,24.2217 121.997,22.9496 Q122.694,21.6601 123.9138,20.9805 Q125.1336,20.2835 126.5102,20.2835 Q127.3292,20.2835 128.0437,20.4751 Q128.7756,20.6494 129.3855,21.0502 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13.3829" lengthAdjust="spacing" textLength="31.2268" x="149.1636" y="31.1266">Libro</text><line style="stroke:#000000;stroke-width:1.6728624535315986;" x1="8.9219" x2="284.3866" y1="43.4944" y2="43.4944"/><text fill="#000000" font-family="sans-serif" font-size="12.2677" lengthAdjust="spacing" textLength="130.4833" x="14.4981" y="60.6903">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.2677" lengthAdjust="spacing" textLength="108.1784" x="14.4981" y="76.1207">-a&#xF1;o : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.2677" lengthAdjust="spacing" textLength="130.4833" x="14.4981" y="91.5511">-paginas : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.2677" lengthAdjust="spacing" textLength="104.8327" x="14.4981" y="106.9815">-paginasLe&#xED;das : int</text><line style="stroke:#000000;stroke-width:1.6728624535315986;" x1="8.9219" x2="284.3866" y1="114.138" y2="114.138"/><text fill="#000000" font-family="sans-serif" font-size="12.2677" lengthAdjust="spacing" textLength="264.3123" x="14.4981" y="131.3339">+Libro(in titulo : string, in a&#xF1;o : int, in paginas : int)</text><text fill="#000000" font-family="sans-serif" font-size="12.2677" lengthAdjust="spacing" textLength="138.29" x="14.4981" y="146.7643">+Lee(int paginas : int) : int</text><text fill="#000000" font-family="sans-serif" font-size="12.2677" lengthAdjust="spacing" textLength="123.7918" x="14.4981" y="162.1947">+PorcentajeLe&#xED;do() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.2677" lengthAdjust="spacing" textLength="119.3309" x="14.4981" y="177.6251">+Descripci&#xF3;n() : string</text><!--MD5=[ddd6353b1206d4dc5586a71fe1a2a79d]
@startuml

left to right direction
scale 300 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

class Libro
{
    - titulo : string {readOnly}
    - año : int {readOnly}
    - paginas : int {readOnly}
    - paginasLeídas : int

    + Libro(in titulo : string, in año : int, in paginas : int)
    + Lee(int paginas : int) : int
    + PorcentajeLeído() : int
    + Descripción() : string
}

@enduml

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><p>En la mayor&#xED;a de lenguajes OO, para definir nuestra clase, seguiremos una plantilla similar a esta:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-class">class</span> <span class="token operator">&lt;</span>NombreDeLaClase<span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
  <span class="token operator">&lt;</span>campos<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>constructor<span class="token operator">/</span>es<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>accesores<span class="token operator">/</span>mutadores<span class="token operator">&gt;</span><span class="token punctuation">(</span> o <span class="token operator">&lt;</span>propiedades en C#<span class="token operator">&gt;</span><span class="token punctuation">)</span>
  <span class="token operator">&lt;</span>m&#xE9;todos<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</pre><h3 class="mume-header" id="paso-1-definir-los-campos-atributos-en-poo-cl%C3%A1sica">Paso 1: Definir los campos (atributos en POO cl&#xE1;sica)</h3>

<p>No deben ser accedidos desde fuera de clase. Para ello, antepondremos la cl&#xE1;usula <strong><code>private</code></strong> <strong>siempre</strong>.<br>
F&#xED;jate que hemos marcado dos campos con la <a href="https://www.uml-diagrams.org/property.html" target="_blank">propiedad de atributo de clase</a> <strong><code>{readOnly}</code></strong> esto significa que, <strong>una vez creado el objeto</strong>, ya no se podr&#xE1;n modificar los valores de <strong>t&#xED;tulo</strong>, <strong>a&#xF1;o</strong> y <strong>paginas</strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
  <span class="token comment">// &lt;campos&gt;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token keyword keyword-int">int</span> a&#xF1;o<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginasLeidas<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h3 class="mume-header" id="paso-2-definir-los-constructores-destructores-de-objetos">Paso 2: Definir los constructores / destructores de objetos</h3>

<p>En C# el m&#xE9;todo constructor tiene el mismo nombre que la clase y no lleva tipo de retorno (Es impl&#xED;cito).</p>
<blockquote>
<p>&#x1F4A1; <strong>Tip:</strong> Si justo despu&#xE9;s del nombre de la clase pulsamos <strong><code>Clrl+.</code></strong> en VSCode.<br>
El VSCode <strong>nos ofrecer&#xE1; crear un constructor</strong> en la refactorizaci&#xF3;n de c&#xF3;digo.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
  <span class="token comment">// &lt;campos&gt;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token keyword keyword-int">int</span> a&#xF1;o<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginasLeidas<span class="token punctuation">;</span>

  <span class="token comment">// &lt;constructor/es&gt;</span>
  <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token keyword keyword-int">int</span> a&#xF1;o<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>titulo <span class="token operator">=</span> titulo<span class="token punctuation">;</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>a&#xF1;o <span class="token operator">=</span> a&#xF1;o<span class="token punctuation">;</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>paginas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
      paginasLeidas <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// Al crear cualquier libro, llevar&#xE9; le&#xED;das 0 p&#xE1;ginas.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</pre><blockquote>
<p>&#x270B; <strong>Importante:</strong> F&#xED;jate que aunque hemos marcado <strong><code>titulo</code></strong> y <strong><code>a&#xF1;o</code></strong> como <strong><code>readonly</code></strong> (solo lectura) los podemos asignar a un valor inicial en el constructor. Esta es la &#xFA;nica vez que los podremos asignar. En el resto de m&#xE9;todos &#xFA;nicamente podremos acceder a su valor.</p>
</blockquote>
<h4 class="mume-header" id="referencia-impl%C3%ADcita-a-hrefhttpsdocsmicrosoftcomes-esdotnetcsharplanguage-referencekeywordsthis-target_blankthisa">Referencia impl&#xED;cita <a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/this" target="_blank">this</a></h4>

<ul>
<li><strong><code>this</code></strong> es una <strong>referencia impl&#xED;cita</strong> a la instancia en memoria del objeto que en ese momento estamos creando o est&#xE1; accediendo a un m&#xE9;todo de la clase.</li>
<li>En este caso nos ayuda a <strong>diferenciar entre los identificadores</strong> de los campos y los par&#xE1;metros de entrada del constructor.<br>
En el constructor el identificador <strong><code>a&#xF1;o</code></strong> es del par&#xE1;metro de entrada del mismo. Pero <strong><code>this.a&#xF1;o</code></strong> es el campo a&#xF1;o del objeto que estamos construyendo en ese momento.</li>
</ul>
<p align="center" style="zoom:0.9"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="475pt" height="188pt" viewBox="0.00 0.00 474.92 188.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-184 470.9238,-184 470.9238,4 -4,4"/>
<!-- i -->
<g id="node1" class="node">
<title>i</title>
<text text-anchor="start" x="8" y="-157.8" font-family="Arial" font-size="14.00" fill="#000000">Libro l = new Libro(&quot;La Biblia&quot;,-750, ...);</text>
</g>
<!-- o -->
<g id="node4" class="node">
<title>o</title>
<polygon fill="none" stroke="#000000" points="302.9238,-112 302.9238,-150 458.9238,-150 458.9238,-112 302.9238,-112"/>
<text text-anchor="start" x="334.6335" y="-126.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;l : Libro &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="302.9238,-48 302.9238,-112 458.9238,-112 458.9238,-48 302.9238,-48"/>
<text text-anchor="start" x="313.9238" y="-89.4" font-family="Arial" font-size="14.00" fill="#cd1076">this</text>
<text text-anchor="start" x="335.7036" y="-89.4" font-family="Arial" font-size="14.00" fill="#000000">.titulo = &quot;La Biblia&quot;</text>
<text text-anchor="start" x="313.9238" y="-75.4" font-family="Arial" font-size="14.00" fill="#cd1076">this</text>
<text text-anchor="start" x="335.7036" y="-75.4" font-family="Arial" font-size="14.00" fill="#000000">.a&#xF1;o = -750</text>
<text text-anchor="start" x="367.3067" y="-61.4" font-family="Arial" font-size="14.00" fill="#000000">... &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- i&#45;&gt;o -->
<g id="edge1" class="edge">
<title>i-&gt;o</title>
<path fill="none" stroke="transparent" d="M220.566,-143.9735C233.4811,-141.1351 246.5657,-138.1065 258.9238,-135 267.4045,-132.8682 276.1805,-130.5345 284.9576,-128.1125"/>
<polygon fill="transparent" stroke="transparent" points="286.1636,-131.4096 294.852,-125.3464 284.2789,-124.6681 286.1636,-131.4096"/>
</g>
<!-- this -->
<g id="node2" class="node">
<title>this</title>
<ellipse fill="none" stroke="#000000" cx="129.4619" cy="-99" rx="27" ry="27"/>
<text text-anchor="start" x="118.572" y="-94.8" font-family="Arial" font-size="14.00" fill="#cd1076">this</text>
</g>
<!-- this&#45;&gt;o -->
<g id="edge3" class="edge">
<title>this-&gt;o</title>
<path fill="none" stroke="#000000" d="M156.8514,-99C187.4427,-99 238.6837,-99 284.4492,-99"/>
<polygon fill="#000000" stroke="#000000" points="284.7278,-102.5001 294.7278,-99 284.7277,-95.5001 284.7278,-102.5001"/>
</g>
<!-- l -->
<g id="node3" class="node">
<title>l</title>
<ellipse fill="none" stroke="#000000" cx="129.4619" cy="-27" rx="27" ry="27"/>
<text text-anchor="middle" x="129.4619" y="-22.8" font-family="Arial" font-size="14.00" fill="#000000">l</text>
</g>
<!-- l&#45;&gt;o -->
<g id="edge2" class="edge">
<title>l-&gt;o</title>
<path fill="none" stroke="#000000" d="M155.779,-34.1878C181.9611,-41.3694 223.2661,-52.782 258.9238,-63 267.33,-65.4089 276.0546,-67.9339 284.7979,-70.4814"/>
<polygon fill="#000000" stroke="#000000" points="284.0812,-73.9182 294.6614,-73.3623 286.0438,-67.199 284.0812,-73.9182"/>
</g>
</g>
</svg>
</p><h4 class="mume-header" id="constructor-por-defecto">Constructor por defecto</h4>

<ul>
<li>Si no definimos ning&#xFA;n constructor, <strong>se define uno por defecto</strong> que nos permitir&#xE1; crear inst&#xE1;ncias de libro de la siguiente manera.<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token comment">// El constructor por defecto, no recibe ning&#xFA;n par&#xE1;metro que defina el estado inicial del objeto</span>
<span class="token class-name">Libro</span> l <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></li>
</ul>
<div style="display: flex; justify-content: space-between; margin-top: 15px">
<div style="width: 70%">
<ul>
<li>
<p>Sin embargo, si definimos un constructor concreto, <strong>dejar&#xE1; de estar disponible el constructor por defecto</strong>, a no ser que lo definamos expl&#xED;citamente nosotros.</p>
<p>Sin embargo esto permitir&#xE1; crear instancias del objeto libro a los valores default.</p>
</li>
</ul>
</div>
<div style="width: auto">
<p align="center" style="zoom:0.9"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="265pt" height="143pt" viewBox="0.00 0.00 265.00 143.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 139)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-139 261,-139 261,4 -4,4"/>
<!-- l -->
<g id="node1" class="node">
<title>l</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-67.5" rx="27" ry="27"/>
<text text-anchor="middle" x="27" y="-63.3" font-family="Arial" font-size="14.00" fill="#000000">l</text>
</g>
<!-- o -->
<g id="node2" class="node">
<title>o</title>
<polygon fill="none" stroke="#000000" points="98.5,-92.5 98.5,-130.5 249.5,-130.5 249.5,-92.5 98.5,-92.5"/>
<text text-anchor="start" x="127.7097" y="-106.9" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;l : Libro &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="98.5,-3.5 98.5,-92.5 249.5,-92.5 249.5,-3.5 98.5,-3.5"/>
<text text-anchor="start" x="109.5" y="-68.9" font-family="Arial" font-size="14.00" fill="#000000">titulo = null</text>
<text text-anchor="start" x="109.5" y="-52.1" font-family="Arial" font-size="14.00" fill="#000000">a&#xF1;o = 0</text>
<text text-anchor="start" x="109.5" y="-35.3" font-family="Arial" font-size="14.00" fill="#000000">paginas = 0</text>
<text text-anchor="start" x="109.2213" y="-18.5" font-family="Arial" font-size="14.00" fill="#000000">paginasLeidas = 0 &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- l&#45;&gt;o -->
<g id="edge1" class="edge">
<title>l-&gt;o</title>
<path fill="none" stroke="#000000" d="M54.2122,-67.5C61.8081,-67.5 70.5149,-67.5 79.6899,-67.5"/>
<polygon fill="#000000" stroke="#000000" points="79.7992,-71.0001 89.7991,-67.5 79.7991,-64.0001 79.7992,-71.0001"/>
</g>
</g>
</svg>
</p></div>
</div>
<blockquote>
<p>&#x270B; Estar&#xED;amos dando la oportunidad de <strong>crear objetos libro sin un estado apropiado</strong>. Por tanto, <strong>no es conveniente utilizar constructores por defecto</strong>, a no ser que por alguna raz&#xF3;n espec&#xED;fica, lo definamos nosotros expl&#xED;citamente y dispongamos de otras formas de crear nuestro objetos.</p>
</blockquote>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="constructor-copia">Constructor copia</h4>

<ul>
<li>
<p>Se trata de una <strong>aproximaci&#xF3;n</strong> inicial al <strong>clonado de objetos mutables</strong>.</p>
</li>
<li>
<p>Es un constructor <strong>optativo</strong>, que copiar&#xE1; el estado de una instancia de un objeto de la clase que lo define.</p>
</li>
<li>
<p>No tiene sentido su implementaci&#xF3;n en objetos inmutables.</p>
</li>
<li>
<p>En un principio vamos a implementarlo como un constructor m&#xE1;s desde el punto de vista de POO tradicional o lenguajes como <a href="https://docs.microsoft.com/es-es/cpp/cpp/copy-constructors-and-copy-assignment-operators-cpp?view=vs-2019" target="_blank">C++</a>. Pero m&#xE1;s adelante, veremos que para realizar copias en C# y en Java usaremos un m&#xE9;todo especial llamado <strong><code>Clone()</code></strong></p>
</li>
<li>
<p>Una posible implementaci&#xF3;n del mismo para nuestro ejemplo que podemos lleva a cualquier lenguaje OO puede ser....</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token comment">// Entra un objeto libro referencia do por l que querremos copiar.</span>
<span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// No usamos this porque no hay posibilidad de confusi&#xF3;n.</span>
    titulo <span class="token operator">=</span> l<span class="token punctuation">.</span>titulo<span class="token punctuation">;</span>
    a&#xF1;o <span class="token operator">=</span> l<span class="token punctuation">.</span>a&#xF1;o<span class="token punctuation">;</span>
    paginas <span class="token operator">=</span> l<span class="token punctuation">.</span>paginas<span class="token punctuation">;</span>
    paginasLeidas <span class="token operator">=</span> l<span class="token punctuation">.</span>paginasLeidas<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>Recordemos del tema 5 que si hici&#xE9;semos el siguiente c&#xF3;digo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Libro</span> l1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span><span class="token string">&quot;Code Complete 2&quot;</span><span class="token punctuation">,</span> <span class="token number">2004</span><span class="token punctuation">,</span> <span class="token number">960</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// l2 y l1 son el mismo objeto</span>
l2 <span class="token operator">=</span> l1<span class="token punctuation">;</span>

<span class="token comment">// l3 y l1 son objetos diferentes.</span>
l3 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span>l1<span class="token punctuation">)</span><span class="token punctuation">;</span>

l2<span class="token punctuation">.</span><span class="token function">Lee</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Modifica l2 y por ende l1 dejando le&#xED;das 10 p&#xE1;ginas del libro.</span>
l3<span class="token punctuation">.</span><span class="token function">Lee</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Modifica l3 que es una copia en memoria de l1, no afectando por tanto al estado del objeto l1.</span>
</pre></li>
</ul>
<p align="center" style="zoom:0.6"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="628pt" height="176pt" viewBox="0.00 0.00 628.00 176.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 172)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-172 624,-172 624,4 -4,4"/>
<!-- l1 -->
<g id="node1" class="node">
<title>l1</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-120" rx="27" ry="27"/>
<text text-anchor="middle" x="27" y="-115.8" font-family="Arial" font-size="14.00" fill="#000000">l1</text>
</g>
<!-- o1 -->
<g id="node2" class="node">
<title>o1</title>
<polygon fill="none" stroke="#000000" points="98,-126 98,-164 284,-164 284,-126 98,-126"/>
<text text-anchor="start" x="131.4832" y="-140.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;l1, l2 : Libro &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="98,-4 98,-126 284,-126 284,-4 98,-4"/>
<text text-anchor="start" x="109" y="-85.6" font-family="Arial" font-size="14.00" fill="#000000">titulo = &quot;Code Complete 2&quot;</text>
<text text-anchor="start" x="109" y="-68.8" font-family="Arial" font-size="14.00" fill="#000000">a&#xF1;o = 2004</text>
<text text-anchor="start" x="109" y="-52" font-family="Arial" font-size="14.00" fill="#000000">paginas = 960</text>
<text text-anchor="start" x="109" y="-35.2" font-family="Arial" font-size="14.00" fill="#000000">paginasLeidas = 10</text>
<text text-anchor="start" x="183.2188" y="-18.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- l1&#45;&gt;o1 -->
<g id="edge1" class="edge">
<title>l1-&gt;o1</title>
<path fill="none" stroke="#000000" d="M53.7144,-114.1359C61.4748,-112.4324 70.4717,-110.4574 80.0758,-108.3492"/>
<polygon fill="#000000" stroke="#000000" points="80.8419,-111.7645 89.8589,-106.2017 79.341,-104.9272 80.8419,-111.7645"/>
</g>
<!-- l3 -->
<g id="node4" class="node">
<title>l3</title>
<ellipse fill="none" stroke="#000000" cx="355" cy="-84" rx="27" ry="27"/>
<text text-anchor="middle" x="355" y="-79.8" font-family="Arial" font-size="14.00" fill="#000000">l3</text>
</g>
<!-- o1&#45;&gt;l3 -->
<g id="edge3" class="edge">
<title>o1-&gt;l3</title>
<path fill="none" stroke="transparent" d="M292.0623,-84C301.0352,-84 309.6857,-84 317.551,-84"/>
<polygon fill="transparent" stroke="transparent" points="317.7462,-87.5001 327.7462,-84 317.7461,-80.5001 317.7462,-87.5001"/>
</g>
<!-- l2 -->
<g id="node3" class="node">
<title>l2</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-48" rx="27" ry="27"/>
<text text-anchor="middle" x="27" y="-43.8" font-family="Arial" font-size="14.00" fill="#000000">l2</text>
</g>
<!-- l2&#45;&gt;o1 -->
<g id="edge2" class="edge">
<title>l2-&gt;o1</title>
<path fill="none" stroke="#000000" d="M53.7144,-53.8641C61.4748,-55.5676 70.4717,-57.5426 80.0758,-59.6508"/>
<polygon fill="#000000" stroke="#000000" points="79.341,-63.0728 89.8589,-61.7983 80.8419,-56.2355 79.341,-63.0728"/>
</g>
<!-- o2 -->
<g id="node5" class="node">
<title>o2</title>
<polygon fill="none" stroke="#000000" points="426,-126 426,-164 612,-164 612,-126 426,-126"/>
<text text-anchor="start" x="468.8184" y="-140.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;l3 : Libro &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="426,-4 426,-126 612,-126 612,-4 426,-4"/>
<text text-anchor="start" x="437" y="-85.6" font-family="Arial" font-size="14.00" fill="#000000">titulo = &quot;Code Complete 2&quot;</text>
<text text-anchor="start" x="437" y="-68.8" font-family="Arial" font-size="14.00" fill="#000000">a&#xF1;o = 2004</text>
<text text-anchor="start" x="437" y="-52" font-family="Arial" font-size="14.00" fill="#000000">paginas = 960</text>
<text text-anchor="start" x="437" y="-35.2" font-family="Arial" font-size="14.00" fill="#000000">paginasLeidas = 25</text>
<text text-anchor="start" x="511.2188" y="-18.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- l3&#45;&gt;o2 -->
<g id="edge4" class="edge">
<title>l3-&gt;o2</title>
<path fill="none" stroke="#000000" d="M382.0813,-84C389.631,-84 398.3302,-84 407.608,-84"/>
<polygon fill="#000000" stroke="#000000" points="407.8754,-87.5001 417.8754,-84 407.8754,-80.5001 407.8754,-87.5001"/>
</g>
</g>
</svg>
</p><h4 class="mume-header" id="destructores">Destructor/es</h4>

<ul>
<li>
<p>Cuando un objeto <strong>deja de ser referenciado</strong> por alg&#xFA;n identificador, al cabo de tiempo es eliminado  de la memoria por el <strong>Recolector de Basura</strong> (Garbage Collector o GC).</p>
</li>
<li>
<p>Esta eliminaci&#xF3;n la har&#xE1; llamando a su <strong>destructor por defecto</strong>, el cual nosotros podremos redefinir  de tal manera que deje el estado del objeto a unos valores que no permitan usarlo m&#xE1;s.<br>
<strong>Nota</strong>: Si lo redefinimos, no le aplicaremos ning&#xFA;n modificador de acceso (public, private).</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token comment">// &lt;campos&gt;</span>
    <span class="token comment">// &lt;constructor/es&gt;</span>
    <span class="token comment">// &lt;destructor&gt;</span>
    <span class="token operator">~</span><span class="token function">Libro</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Los otros valores son readonly y no podemos modificarlos.</span>
        paginas <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span>MinValue<span class="token punctuation">;</span>
        paginasLeidas <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span>MinValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</pre><blockquote>
<p>&#x270B; <strong>Importante:</strong> Este paso de definici&#xF3;n de nuestra clase, nos lo saltaremos en todos los  <strong>lenguajes gestionados</strong>, esto es, que dispongan de un GC para la eliminaci&#xF3;n de objetos. Solo se definir&#xE1; en lenguajes no gestionados como C++</p>
</blockquote>
</li>
</ul>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="paso-3-definir-los-accesores-y-mutadores-propiedades-en-c">Paso 3: Definir los accesores y mutadores (Propiedades en C#)</h3>

<blockquote>
<p>&#x270B; <strong>Nota:</strong> Usaremos en principio la forma de hacerlo de <strong>Java</strong>. Aunque m&#xE1;s adelante veremos que en C# existe un <em>&apos;<strong>Syntactic Sugar</strong>&apos;</em> para definirlos y usarlos.</p>
<ul>
<li>Para el <strong>accesor</strong>, crearemos un m&#xE9;todo con el prefijo <strong><code>Get&lt;idCampo&gt;</code></strong> seguido del nombre del campo en PascalCasing por ser C#.</li>
<li>Para el <strong>mutador</strong>, crearemos un m&#xE9;todo con el prefijo <strong><code>Set&lt;idCampo&gt;</code></strong> seguido del nombre del campo en PascalCasing por ser C#.</li>
</ul>
</blockquote>
<h4 class="mume-header" id="bulb-tips-de-dise%C3%B1o-de-getters-y-setters">&#x1F4A1; Tips de dise&#xF1;o de <em>&apos;getters&apos;</em> y <em>&apos;setters&apos;</em></h4>

<ol>
<li>
<p>No tengo porqu&#xE9; definirlos <strong>todos</strong>, solo si los necesito o me los piden.</p>
</li>
<li>
<p>Si el campo es <strong><code>readonly</code></strong> solo podr&#xE1; haber <strong>accesor</strong> (getter).</p>
</li>
<li>
<p>Los accesores (getters) llevar&#xE1;n el modificador <strong><code>public</code></strong> por defecto.</p>
</li>
<li>
<p>Los mutadores (setters) llevar&#xE1;n el modificador <strong><code>private</code></strong> por defecto para asegurar la encapsulaci&#xF3;n y solo ser&#xE1;n <strong><code>public</code></strong> si fuese necesario, siempre y cuando nos aseguremos que el objeto queda en buen estado.</p>
</li>
<li>
<p>En lugar de usar dir&#xE9;ctamente los campos dentro de los <strong>m&#xE9;todos</strong> y constructores, intentaremos usar los getters y setters definidos.</p>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp line-numbers"><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
  <span class="token comment">// &lt;campos&gt;</span>
  <span class="token comment">// &lt;constructor/es&gt;</span>
  <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token keyword keyword-int">int</span> a&#xF1;o<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>titulo <span class="token operator">=</span> titulo<span class="token punctuation">;</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>a&#xF1;o <span class="token operator">=</span> a&#xF1;o<span class="token punctuation">;</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>paginas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
      <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token comment">// Constructor Copia. EN los lenguajes OO modernos se ha sustituido por </span>
      <span class="token comment">// un m&#xE9;todo especial denominado Clone o Copy, seg&#xFA;n en lenguaje. (Lo abordaremos m&#xE1;s adelante)</span>
      titulo <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      a&#xF1;o <span class="token operator">=</span> l<span class="token punctuation">.</span>GetA&#xF1;<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      paginas <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span><span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// &lt;accesores/mutadores&gt;</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> titulo<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-int">int</span> GetA&#xF1;<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> a&#xF1;o<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> paginas<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> paginasLeidas<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      paginasLeidas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>      
<span class="token punctuation">}</span> 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></li>
</ol>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="paso-4-definir-m%C3%A9todos-u-operaciones-de-la-clase">Paso 4: Definir m&#xE9;todos u operaciones de la clase</h3>

<ul>
<li>
<p>Desde cualquier m&#xE9;todo de inst&#xE1;ncia, podremos acceder a los campos y accesores/mutadores de la clase. Ya sea a trav&#xE9;s de <strong><code>this</code></strong> o &apos;<em>inferido</em>&apos; si no hay un par&#xE1;metro formal con el mismo id.</p>
</li>
<li>
<p>Sin embargo, trataremos de usar los accesores/mutadores en lugar de los campos.<br>
Para nuestro ejemplo tendremos...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
  <span class="token comment">// &lt;campos&gt;</span>
  <span class="token comment">// &lt;constructor/es&gt;</span>
  <span class="token comment">// &lt;accesores/mutadores&gt;</span>

  <span class="token comment">// &lt;m&#xE9;todos&gt;</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">Lee</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>            
      <span class="token keyword keyword-int">int</span> le&#xED;das <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">Clamp</span><span class="token punctuation">(</span>paginas<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> le&#xED;das<span class="token punctuation">)</span><span class="token punctuation">;</span>            
      <span class="token keyword keyword-return">return</span> le&#xED;das<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">PorcentajeLeido</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt32</span><span class="token punctuation">(</span><span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100D</span> <span class="token operator">/</span>  <span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$&quot;T&#xED;tulo: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span> <span class="token operator">+</span>
              <span class="token interpolation-string"><span class="token string">$&quot;A&#xF1;o: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">GetA&#xF1;<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span> <span class="token operator">+</span> 
              <span class="token interpolation-string"><span class="token string">$&quot;P&#xE1;ginas: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</pre></li>
</ul>
<h3 class="mume-header" id="paso-5-crear-un-peque%C3%B1o-test-para-nuestra-clase-opcional">Paso 5: Crear un peque&#xF1;o test para nuestra clase (Opcional)</h3>

<ul>
<li>
<p><strong>Nota:</strong> M&#xE1;s adelante veremos c&#xF3;mo crear nuestros test de forma m&#xE1;s apropiada.</p>
</li>
<li>
<p>En este caso, vamos a hacer un peque&#xF1;o programa que cree una instancia de un objeto libro y posteriormente lo lea de 300 en 300 p&#xE1;ginas.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token comment">// Creo el libro.</span>
<span class="token class-name">Libro</span> libro <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token string">&quot;Code Complete 2&quot;</span><span class="token punctuation">,</span> <span class="token number">2004</span><span class="token punctuation">,</span> <span class="token number">960</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Muestro la descripci&#xF3;n de mi libro</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>libro<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Mientra pueda leer alguna p&#xE1;gina (m&#xE1;ximo 300)</span>
<span class="token comment">// muestro las p&#xE1;ginas le&#xED;das y el porcentaje de lo que llevo le&#xED;do del libro.</span>
<span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> MAXIMO_PAGINAS_A_LEER <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> le&#xED;das<span class="token punctuation">;</span>
<span class="token keyword keyword-while">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>le&#xED;das <span class="token operator">=</span> libro<span class="token punctuation">.</span><span class="token function">Lee</span><span class="token punctuation">(</span>MAXIMO_PAGINAS_A_LEER<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Le&#xED;das: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">le&#xED;das</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">libro<span class="token punctuation">.</span><span class="token function">PorcentajeLeido</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">%&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></li>
</ul>
<h3 class="mume-header" id="resumen-de-directrices-generales-de-definici%C3%B3n-de-clases">Resumen de directrices generales de definici&#xF3;n de clases</h3>

<p align="center" style="zoom:0.8"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="173px" preserveAspectRatio="none" style="width:1045px;height:173px;background:#FFFFFF;" version="1.1" viewBox="0 0 1045 173" width="1045px" zoomAndPan="magnify"><defs><filter height="300%" id="fyts6awzpuma0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fyts6awzpuma0)" height="121.9922" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="142" x="10" y="25"/><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="58" x="52" y="55.0078">PASO 1</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="46" x="58" y="73.4063">Definir</text><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="61" x="50.5" y="91.8047">campos</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="60" x="51" y="110.2031">privados</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="112" x="25" y="128.6016">(Encapsulaci&#xF3;n)</text><rect fill="#FFFFFF" filter="url(#fyts6awzpuma0)" height="121.9922" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="141" x="212" y="25"/><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="58" x="253.5" y="55.0078">PASO 2</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="46" x="259.5" y="73.4063">Definir</text><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="111" x="227" y="91.8047">constructor/es</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="87" x="239" y="110.2031">El destructor</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="111" x="227" y="128.6016">no es necesario</text><rect fill="#FFFFFF" filter="url(#fyts6awzpuma0)" height="121.9922" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="217" x="413" y="25"/><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="58" x="492.5" y="55.0078">PASO 3</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="46" x="498.5" y="73.4063">Definir</text><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="79" x="451" y="91.8047">accesores</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="58" x="534" y="91.8047">p&#xFA;blicos</text><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="82" x="448.5" y="110.2031">mutadores</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="60" x="534.5" y="110.2031">privados</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="187" x="428" y="128.6016">solo cuando sea necesario</text><rect fill="#FFFFFF" filter="url(#fyts6awzpuma0)" height="121.9922" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="133" x="690" y="25"/><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="58" x="727.5" y="55.0078">PASO 4</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="46" x="733.5" y="73.4063">Definir</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="20" x="711" y="91.8047">los</text><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="67" x="735" y="91.8047">m&#xE9;todos</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="103" x="705" y="110.2031">sobre el objeto</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="101" x="706" y="128.6016">como p&#xFA;blicos</text><rect fill="#FFFFFF" filter="url(#fyts6awzpuma0)" height="121.9922" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="143" x="883" y="25"/><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="58" x="925.5" y="55.0078">PASO 5</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="40" x="934.5" y="73.4063">Crear</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="81" x="898" y="91.8047">un peque&#xF1;o</text><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="28" x="983" y="91.8047">test</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="95" x="907" y="110.2031">para nuestros</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacing" textLength="65" x="922" y="128.6016">m&#xE9;todos.</text><path d="M823,85.9961 L833,85.9961 C848,85.9961 858,85.9961 873,85.9961 L883,85.9961 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><path d="M630,85.9961 L640,85.9961 C655,85.9961 665,85.9961 680,85.9961 L690,85.9961 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><path d="M353,85.9961 L363,85.9961 C378,85.9961 388,85.9961 403,85.9961 L413,85.9961 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><path d="M152,85.9961 L162,85.9961 C177,85.9961 187,85.9961 202,85.9961 L212,85.9961 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[3350dda5c0e12f2432ee7f0a34654188]
@startmindmap
<style>
mindmapDiagram {
  Linecolor black
  FontName Arial
  FontSize 16
  node {
    Padding 15
    Margin 15
    HorizontalAlignment center
    BackGroundColor white
  }
}
</style>

* **PASO 1**\nDefinir\n**campos**\nprivados\n(Encapsulación)
** **PASO 2**\nDefinir\n**constructor/es**\nEl destructor\nno es necesario
*** **PASO 3**\nDefinir\n**accesores** públicos\n**mutadores** privados\nsolo cuando sea necesario
**** **PASO 4**\nDefinir\nlos **métodos**\nsobre el objeto\ncomo públicos
***** **PASO 5**\nCrear\nun pequeño **test**\npara nuestros\nmétodos.

@endmindmap

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><div style="page-break-after:always;"></div>
<blockquote>
<p><strong>&#x1F393; Caso de estudio</strong></p>
<p>Junto a la clase Libro anterior, vamos a modelar la clase <strong><code>Escritor</code></strong> suponiendo que un escritor tiene un <strong><code>nombre</code></strong>, un a&#xF1;o de <strong><code>nacimiento</code></strong> y un n&#xFA;mero de <strong><code>publicaciones</code></strong>.<br>
Adem&#xE1;s del constructor y los accesores y mutadores para sus campos, vamos a definir el m&#xE9;todo descripci&#xF3;n que me muestre sus datos y m&#xE9;todo <strong><code>Libro Escribe(string titulo)</code></strong> donde el escritor crear&#xE1; un libro con el t&#xED;tulo recibido de entre 400 y 800 p&#xE1;ginas.<br>
<strong>&#x270B; Intenta modelarla e implementarla tu mismo, antes de ver la propuesta de soluci&#xF3;n</strong>.</p>
<p>Un posible modelado de la clase, podr&#xED;a ser el siguiente...</p>
<p align="center" style="zoom:0.9"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="221px" preserveAspectRatio="none" style="width:255px;height:221px;background:#00000000;" version="1.1" viewBox="0 0 255 221" width="255px" zoomAndPan="magnify"><defs><filter height="300%" id="f49a7wou33k80" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[86711dc2639f7c866c0f156bdfe53786]
class Escritor--><rect codeline="10" fill="#FFFAFA" filter="url(#f49a7wou33k80)" height="200.1953" id="Escritor" style="stroke:#000000;stroke-width:1.5;" width="234" x="7" y="7"/><ellipse cx="98.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M101.5156,18.875 Q101.6719,18.6563 101.8594,18.5469 Q102.0469,18.4375 102.2656,18.4375 Q102.6406,18.4375 102.875,18.7031 Q103.1094,18.9531 103.1094,19.5625 L103.1094,21.0156 Q103.1094,21.625 102.875,21.8906 Q102.6406,22.1563 102.2656,22.1563 Q101.9219,22.1563 101.7188,21.9531 Q101.5156,21.7656 101.4063,21.25 Q101.3594,20.8906 101.1719,20.7031 Q100.8438,20.3281 100.2344,20.1094 Q99.625,19.8906 99,19.8906 Q98.2344,19.8906 97.5938,20.2188 Q96.9688,20.5469 96.4688,21.2969 Q95.9844,22.0469 95.9844,23.0781 L95.9844,24.1719 Q95.9844,25.4063 96.875,26.2344 Q97.7656,27.0469 99.3594,27.0469 Q100.2969,27.0469 100.9531,26.7969 Q101.3438,26.6406 101.7656,26.2031 Q102.0313,25.9375 102.1719,25.8594 Q102.3281,25.7813 102.5313,25.7813 Q102.8594,25.7813 103.1094,26.0469 Q103.375,26.2969 103.375,26.6406 Q103.375,26.9844 103.0313,27.3906 Q102.5313,27.9688 101.7344,28.2969 Q100.6563,28.75 99.3594,28.75 Q97.8438,28.75 96.6406,28.125 Q95.6563,27.625 94.9688,26.5625 Q94.2813,25.4844 94.2813,24.2031 L94.2813,23.0469 Q94.2813,21.7188 94.8906,20.5781 Q95.5156,19.4219 96.6094,18.8125 Q97.7031,18.1875 98.9375,18.1875 Q99.6719,18.1875 100.3125,18.3594 Q100.9688,18.5156 101.5156,18.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="119.25" y="27.9102">Escritor</text><line style="stroke:#000000;stroke-width:1.5;" x1="8" x2="240" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="131" x="13" y="54.4189">-nombre : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="130" x="13" y="68.2549">-nacimiento : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="90" x="13" y="82.0908">-publicaciones : int</text><line style="stroke:#000000;stroke-width:1.5;" x1="8" x2="240" y1="88.5078" y2="88.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="222" x="13" y="103.9268">+Escritor(in nombre : string, in nacimiento : int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="114" x="13" y="117.7627">+Escritor(in e : Escritor)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="13" y="131.5986">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="103" x="13" y="145.4346">+GetNacimiento() : int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="13" y="159.2705">+GetPublicaciones() : int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="220" x="13" y="173.1064">-SetPublicaciones(in publicaciones : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="152" x="13" y="186.9424">+Escribe(in titulo : string) : Libro</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="107" x="13" y="200.7783">+Descripci&#xF3;n() : string</text><!--MD5=[564f3cc5696c3da1f2438218838fa994]
@startuml

left to right direction
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow
skinparam BackgroundColor Transparent

class Escritor
{
    - nombre : string {readOnly}
    - nacimiento : int {readOnly}
    - publicaciones : int

    + Escritor(in nombre : string, in nacimiento : int)
    + Escritor(in e : Escritor)
    + GetNombre() : string
    + GetNacimiento() : int
    + GetPublicaciones() : int
    - SetPublicaciones(in publicaciones : int) : void
    + Escribe(in titulo : string) : Libro
    + Descripción() : string
}

@enduml

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><p>La implementaci&#xF3;n propuesta siguiendo los pasos y criterios descritos ser&#xED;a...<br>
&#x270B; <strong>F&#xED;jate en la implementaci&#xF3;n y comentarios del m&#xE9;todo</strong> <strong><code>Libro Escribe(string titulo)</code></strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-class">class</span> <span class="token class-name">Escritor</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> nacimiento<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> publicaciones<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetNacimiento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> nacimiento<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> publicaciones<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> publicaciones<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicaciones <span class="token operator">=</span> publicaciones<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Escritor</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> nacimiento<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>nacimiento <span class="token operator">=</span> nacimiento<span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Hemos definido un constructor copia para escritores, aunque aqu&#xED; tendr&#xED;a menos sentido hacerlo. </span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Escritor</span><span class="token punctuation">(</span><span class="token class-name">Escritor</span> e<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        nombre <span class="token operator">=</span> e<span class="token punctuation">.</span>nombre<span class="token punctuation">;</span>
        nacimiento <span class="token operator">=</span> e<span class="token punctuation">.</span>nacimiento<span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>publicaciones<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-string">string</span> Descripci&#xF3;<span class="token function">n</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$&quot;Nacimiento: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetNacimiento</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$&quot;Publicaciones: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</pre></blockquote>
<div style="page-break-after:always;"></div>
<blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp">    <span class="token comment">// A este tipo de objetos que sin ser constructores, devuelven una inst&#xE1;ncia de un objeto</span>
    <span class="token comment">// se les denomina &apos;M&#xE9;todos factor&#xED;a&apos;. </span>
    <span class="token comment">// En cierto modo tienes sentido, ya que un escritor produce libros.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Para establecer el rango de p&#xE1;ginas de sus libros, hemos usado un nuevo tipo </span>
        <span class="token comment">// a&#xF1;adido en C#8 denominado rango (por ver posibilidades del lenguaje). </span>
        <span class="token comment">// Aunque podr&#xED;amos haber definido s&#xED;mplemente 2 enteros.</span>
        <span class="token comment">// Este rango podr&#xED;a ser incluso un campo que defina una caracter&#xED;stica de nuestros</span>
        <span class="token comment">// objetos escritor.</span>
        <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400</span><span class="token range operator">..</span><span class="token number">800</span><span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Incremento el n&#xFA;mero de publicaciones del escritor.</span>
        <span class="token comment">// Creo un l&#xED;bro, con el a&#xF1;o actual y un n&#xFA;mero de p&#xE1;ginas aleatoria en el rango.</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span>titulo<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Year<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></blockquote>
<h2 class="mume-header" id="definiendo-tipos-y-objetos-valor">Definiendo tipos y objetos &apos;<em>valor</em>&apos;</h2>

<p>Ya hablamos en el <strong>tema 2.1</strong> la diferencia entre tipos valor y tipos referencia y la forma en que se gestionaban en la memoria. Adem&#xE1;s, en el <strong>tema 5</strong> vimos que todos los objetos, ya sean creados a trav&#xE9;s de nuestras propias clases o a trav&#xE9;s de las definidas en la BCL son <strong>tipos referencia</strong>. Pero, &#xBF;Hay alguna forma de definir <strong>tipos valor</strong>?. La respuesta es <strong>S&#xCD;</strong>. Utilizando la palabra reservada <strong><code>struct</code></strong>.</p>
<blockquote>
<p>&#x1F4CC; <strong>Nota:</strong> La palabra reservada <strong><code>struct</code></strong> viene de los antecesores de C# que son C y C++, pero en ellos su <a href="https://docs.microsoft.com/es-es/cpp/cpp/struct-cpp?view=vs-2019" target="_blank">interpretaci&#xF3;n</a> est&#xE1; m&#xE1;s orientada a la definici&#xF3;n de tipos compuestos heterog&#xE9;neos.</p>
</blockquote>
<h3 class="mume-header" id="un-poco-de-hist%C3%B3ria">Un poco de hist&#xF3;ria</h3>

<p>A principios de la d&#xE9;cada del 2000 cuando <a href="https://es.wikipedia.org/wiki/Anders_Hejlsberg" target="_blank">Anders Hejlsberg</a> defini&#xF3; el lenguaje, siguiendo la estela de Java. En ese momento, todos los tipos deb&#xED;an ser tratados como objetos en memoria y por tanto los tipos b&#xE1;sicos como por ejemplo <strong><code>int</code></strong> tambi&#xE9;n eran objetos. Pero, si todas las clases definen tipos referencia. &#xBF;C&#xF3;mo hacer que estos tipos b&#xE1;sicos fueran objetos valor?.</p>
<p>Por ese motivo se incluy&#xF3; la palabra reservada <strong><code>struct</code></strong> que permit&#xED;a definir tipos como <strong><code>class</code></strong> pero con ciertas restricciones. Adem&#xE1;s, estos tipos ser&#xED;an <strong>valor</strong>. Por ejemplo, si nos fijamos <strong><code>int</code></strong> es una alias para el tipo <strong><code>System.Int32</code></strong> y si nos fijamos en su <a href="https://docs.microsoft.com/es-es/dotnet/api/system.int32" target="_blank">definici&#xF3;n</a>, este es un <strong><code>struct</code></strong>.</p>
<p>En dise&#xF1;o orientado a objetos a trav&#xE9;s de diagramas UML <strong>tambi&#xE9;n se les conoce como</strong> <a href="https://www.uml-diagrams.org/data-type.html" target="_blank">Data Type</a>.</p>
<p>En la POO moderna, la aproximaci&#xF3;n para el uso de estructuras que m&#xE1;s consenso produce, es la definici&#xF3;n de <a href="https://martinfowler.com/bliki/ValueObject.html" target="_blank">Value Object</a> que <a href="https://es.wikipedia.org/wiki/Martin_Fowler" target="_blank">Martin Fowler</a> da sobre los mismos. Las caracter&#xED;sticas que deber&#xED;an tener los tipos para definirlos a trav&#xE9;s <strong><code>struct</code></strong> seg&#xFA;n Martin la  describiremos a continuaci&#xF3;n.</p>
<p>Llegados a este punto, podemos tener algo de confusi&#xF3;n y preguntarnos.</p>
<p>&#xBF;Es lo mismo un <strong>value type</strong> que un <strong>value object</strong>?, &#xBF;Son sin&#xF3;nimos?</p>
<p>La respuesta es <strong>NO</strong>. Podemos resumir lo siguiente...</p>
<blockquote>
<p>&#x1F4E3; <strong>Resumen:</strong></p>
<ul>
<li>
<p>Un <strong>Value Type</strong> (tipo valor <a href="https://en.wikipedia.org/wiki/Value_type_and_reference_type">ver wikipedia</a>) son un tipo de &apos;<em>objetos</em>&apos; cuyas instancias se guardan directamente en el <em><strong>Stack</strong></em> en lugar de <em><strong>Heap</strong></em> y tener solo una referencia en el <em><strong>Stack</strong></em> como vimos en los primeros temas. Por tanto, todos los tipos valor son <strong>struct</strong> como hemos visto con <strong><code>int</code></strong> que es un tipo valor b&#xE1;sico.</p>
</li>
<li>
<p>Un <strong>Value Object</strong> (objecto valor <a href="https://en.wikipedia.org/wiki/Value_object">ver wikipedia</a>) ser&#xE1;n casos muy puntuales y se representar&#xE1;n por una <strong><code>record</code></strong>, <strong><code>class</code></strong> o <strong><code>struct</code></strong> cuyas caracter&#xED;sticas son muy espec&#xED;ficas y pueden representarse con el tipo valor <strong><code>struct</code></strong> en C#, aunque no es estrictamente necesario. De hecho <a href="https://learn.microsoft.com/es-es/dotnet/csharp/whats-new/csharp-9#record-types">C# 9</a> introdujo el tipo <strong><code>record</code></strong> para representar los <strong>Value Objects</strong> de forma m&#xE1;s concreta mediante tipos referencia en lugar de valor. Para saber m&#xE1;s sobre estos &#xFA;ltimos, puedes ver el <a href="https://learn.microsoft.com/es-es/dotnet/csharp/whats-new/tutorials/records#characteristics-of-records">siguiente enlace</a>.</p>
</li>
</ul>
</blockquote>
<h3 class="mume-header" id="bulb-tips-para-definir-un-value-object-usando-struct-o-tipos-valor">&#x1F4A1; Tips para definir un Value Object usando struct o tipos valor</h3>

<p>Veamos como definir nuestros <strong>Value Objects</strong> con un tipos valor o <strong><code>struct</code></strong> siguiendo las siguientes especificaciones.</p>
<ul>
<li>
<p>Al almacenarse en el <strong>Stack</strong> o Pila, no deber&#xED;an de superar los <strong>16 bytes</strong> de tama&#xF1;o por motivos de eficiencia en la lecturas y copias. Si ocupan m&#xE1;s, nuestros programas se pueden ralentizar demasiado y podremos desbordar la pila que recordemos que tiene un tama&#xF1;o menor al Heap.</p>
</li>
<li>
<p>Deber&#xED;an ser <strong>inmutables</strong>, esto es, cualquier operaci&#xF3;n sobre un objeto <strong><code>struct</code></strong> deber&#xED;a producir un nuevo objeto <strong><code>struct</code></strong>.</p>
</li>
<li>
<p>Sus campos, a su vez, ser&#xE1;n tipos inmutables.</p>
</li>
<li>
<p>No deber&#xED;an tener ning&#xFA;n campo marcado como <strong><code>{id}</code></strong> que haga a los objetos &#xFA;nicos.</p>
</li>
<li>
<p><strong>Los objetos representan entidades completamente intercambiables</strong>. Por ejemplo...</p>
<ul>
<li>Un objeto <strong><code>billete de 5&#x20AC;</code></strong> es intercambiable por otro <strong><code>billete de 5&#x20AC;</code></strong>. Sigo teniendo la misma cosa. El mismo <em>&apos;valor&apos;</em>.</li>
<li>Un objeto naipe con el <strong><code>7 de picas</code></strong> es intercambiable por otro <strong><code>7 de picas</code></strong>. Puedo intercambiarlo por otra carta igual y adem&#xE1;s es inmutable porque si cambiara su valor ser&#xED;a otra carta completamente diferente.</li>
<li>Un objeto IP con el valor <strong><code>192.168.0.1</code></strong> es intercambiable por otro <strong><code>192.168.0.1</code></strong>.</li>
<li>Una objeto coordenada de la consola con los valores <strong><code>X (columna) = 40</code></strong> y <strong><code>Y (fila) = 10</code></strong> es intercambiable con otro objetos con los mismos valores.</li>
<li>Un objeto Fecha <strong><code>21/03/2030</code></strong> es intercambiable por otro objeto fecha id&#xE9;ntico. Seguir&#xED;a teniendo el mismo valor.</li>
</ul>
</li>
<li>
<p>En todos los casos de ejemplo f&#xED;jate que la composici&#xF3;n son tipos valor simples que no ocupan mucho en memoria.</p>
</li>
</ul>
<blockquote>
<p>&#x1F4CC; <strong>Nota:</strong> Con tantas restricciones <strong>su uso ser&#xE1; poco com&#xFA;n</strong>.</p>
</blockquote>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">&quot;</div>
        <div class="cierra_comilla">&quot;</div>
        <div class="cita">Certainly not every good program is object-oriented, and not every object-oriented program is good.</div>
        <div class="autor">- Bjarne Stroustrup (C++ creator)</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="definir-objetos-valor-a-trav%C3%A9s-de-c">Definir objetos valor a trav&#xE9;s de &apos;<em>C#</em>&apos;</h3>

<p>Vamos a definir un tipo valor denominado <strong><code>Punto2D</code></strong> que contendr&#xE1; 2 campos que ser&#xE1;n las coordenadas <strong><code>x</code></strong> e <strong><code>y</code></strong> respectivas al punto.</p>
<p>Si la defini&#xE9;ramos en <a href="https://www.uml-diagrams.org/data-type.html" target="_blank">UML</a> usar&#xED;amos el estereotipo <strong><code>&lt;&lt;dataType&gt;&gt;</code></strong> de una forma similar a esta...</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="135.2113px" preserveAspectRatio="none" style="width:201px;height:135px;background:#FFFFFF;" version="1.1" viewBox="0 0 201 135" width="201.4085px" zoomAndPan="magnify"><defs><filter height="300%" id="f1uqggz0nuf3ko" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.816901408450704"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.633802816901408" dy="5.633802816901408" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[4188b287b597d910fa9f45f2dbe415c5]
class Punto2D--><rect codeline="10" fill="#FFFAFA" filter="url(#f1uqggz0nuf3ko)" height="106.8442" id="Punto2D" style="stroke:#000000;stroke-width:2.112676056338028;" width="171.831" x="9.8592" y="9.8592"/><ellipse cx="49.3662" cy="38.1602" fill="#FF7700" rx="15.493" ry="15.493" style="stroke:#000000;stroke-width:1.408450704225352;"/><path d="M45.9111,42.8037 L45.9111,33.4287 Q45.1408,33.4067 44.7667,33.0766 Q44.4146,32.7465 44.4146,32.2183 Q44.4146,31.6901 44.7887,31.36 Q45.1629,31.0299 46.0211,31.0299 L51.0387,31.0299 Q52.2051,31.0299 53.3275,31.4701 Q54.4498,31.8882 55.132,32.5704 Q55.6382,33.0766 56.1884,33.9569 Q56.7386,34.8151 57.0246,35.6954 Q57.3107,36.5537 57.3107,37.8081 L57.3107,38.9525 Q57.3107,40.471 56.7826,41.6593 Q56.2764,42.8257 55.4401,43.5739 Q54.6039,44.3002 53.8776,44.6523 Q52.7113,45.2025 50.8407,45.2025 L46.0211,45.2025 Q45.1629,45.2025 44.7887,44.8724 Q44.4146,44.5423 44.4146,43.9921 Q44.4146,43.4639 44.7887,43.1338 Q45.1629,42.8037 45.9111,42.8037 Z M48.3099,42.8037 L50.8627,42.8037 Q52.2711,42.8037 52.9974,42.3856 Q53.9437,41.8574 54.4278,41.0431 Q54.912,40.2069 54.912,38.8864 L54.912,37.7421 Q54.912,36.6197 54.4718,35.7614 Q53.7896,34.419 52.9313,33.9349 Q52.0951,33.4287 50.8407,33.4287 L48.3099,33.4287 L48.3099,42.8037 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="16.9014" font-style="italic" lengthAdjust="spacing" textLength="91.5493" x="70.3521" y="34.4465">&#xAB;dataType&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="16.9014" lengthAdjust="spacing" textLength="67.6056" x="82.3239" y="55.7053">Punto2D</text><line style="stroke:#000000;stroke-width:2.112676056338028;" x1="11.2676" x2="180.2817" y1="66.4613" y2="66.4613"/><text fill="#000000" font-family="sans-serif" font-size="15.493" lengthAdjust="spacing" textLength="153.5211" x="18.3099" y="88.1781">+X : double {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="15.493" lengthAdjust="spacing" textLength="154.9296" x="18.3099" y="107.6653">+Y : double {readOnly}</text><!--MD5=[5936b88e25bfcbfc319df430b39a1e6c]
@startuml
left to right direction
scale 200 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide methods
class Punto2D <<(D,#FF7700) dataType>>
{
    + X : double {readOnly}
    + Y : double {readOnly}
}
@enduml

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-struct">struct</span> <span class="token class-name">Punto2D</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> X<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> Y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>En lugar de usar el palabra reservada <strong><code>class</code></strong>, hemos usado <strong><code>struct</code></strong>. Adem&#xE1;s, como queremos que sea <strong>inmutable</strong>, los campos los hemos definido <strong><code>readonly</code></strong> y como una vez definidos ya no podremos modificarlos, los hemos definido c&#xF3;mo p&#xFA;blicos para que desde fuera se pueda consultar su valor.</p>
<h4 class="mume-header" id="creando-un-objeto-valor-como-un-tipo-valor">Creando un objeto valor como un tipo valor</h4>

<p>La forma m&#xE1;s simple, es hacerlo de forma an&#xE1;loga a c&#xF3;mo declar&#xE1;bamos un entero (recordemos que en el fondo un int es un struct).</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Punto2D</span> p<span class="token punctuation">;</span>
</pre><p>Recuerda que nada m&#xE1;s declarar <strong><code>Punto2D p;</code></strong>, como sucede cuando declaramos un entero, ya tendremos una instancia valor de nuestro punto con los valores por defecto para <strong><code>double</code></strong> que es <strong><code>0.0d</code></strong> en el <strong>Stack</strong> (Pila) y se eliminar&#xE1; de la pila al cerrarse el &#xE1;mbito donde se declar&#xF3; la variable,</p>
<p align="center" style="zoom:0.7"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="819pt" height="148pt" viewBox="0.00 0.00 819.36 148.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 144)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-144 815.359,-144 815.359,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster1</title>
<polygon fill="#4682b4" stroke="#000000" points="83,-8 83,-132 256,-132 256,-8 83,-8"/>
<text text-anchor="middle" x="169.5" y="-115.4" font-family="Arial" font-size="14.00" fill="#ffffff">STACK</text>
</g>
<!-- stack -->
<g id="node1" class="node">
<title>stack</title>
<text text-anchor="start" x="119.1087" y="-53.3" font-family="Arial" font-size="14.00" fill="#ffffff">p</text>
<polygon fill="none" stroke="#ffffff" points="146.5,-20 146.5,-95 240.5,-95 240.5,-20 146.5,-20"/>
<text text-anchor="start" x="167.5" y="-61.4" font-family="Arial" font-size="14.00" fill="#ffffff">X = 0.0d</text>
<text text-anchor="start" x="167.2346" y="-44.6" font-family="Arial" font-size="14.00" fill="#ffffff">Y = 0.0d</text>
</g>
<!-- o -->
<g id="node2" class="node">
<title>o</title>
<text text-anchor="start" x="662.9677" y="-53.3" font-family="Arial" font-size="14.00" fill="#000000">p</text>
<polygon fill="none" stroke="#000000" points="680.359,-66 680.359,-104 803.359,-104 803.359,-66 680.359,-66"/>
<text text-anchor="start" x="691.2833" y="-80.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Punto2D &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="680.359,-11 680.359,-66 803.359,-66 803.359,-11 680.359,-11"/>
<text text-anchor="start" x="707.8124" y="-42.4" font-family="Arial" font-size="14.00" fill="#000000">X = 0.0d</text>
<text text-anchor="start" x="707.8124" y="-25.6" font-family="Arial" font-size="14.00" fill="#000000">Y = 0.0d &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- stack&#45;&gt;o -->
<g id="edge2" class="edge">
<title>stack-&gt;o</title>
<path fill="none" stroke="transparent" d="M248.0487,-58C285.8148,-58 323,-58 323,-58 323,-58 515.3798,-58 635.0763,-58"/>
<polygon fill="transparent" stroke="transparent" points="635.3504,-61.5001 645.3504,-58 635.3504,-54.5001 635.3504,-61.5001"/>
<text text-anchor="middle" x="446.6795" y="-95.8" font-family="Arial" font-size="14.00" fill="#000000">Para simplificar lo podemos representar</text>
<text text-anchor="middle" x="446.6795" y="-79" font-family="Arial" font-size="14.00" fill="#000000">de la siguiente forma an&#xE1;loga</text>
<text text-anchor="middle" x="446.6795" y="-62.2" font-family="Arial" font-size="14.00" fill="#000000">a los tipos referencia.</text>
</g>
<!-- Cima\nPila -->
<g id="node3" class="node">
<title>Cima\nPila</title>
<text text-anchor="middle" x="27" y="-99.2" font-family="Arial" font-size="14.00" fill="#000000">Cima</text>
<text text-anchor="middle" x="27" y="-82.4" font-family="Arial" font-size="14.00" fill="#000000">Pila</text>
</g>
<!-- Cima\nPila&#45;&gt;stack -->
<g id="edge1" class="edge">
<title>Cima\nPila-&gt;stack:nw</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M54.1164,-95C80.2841,-95 118.4979,-95 136.4626,-95"/>
<polygon fill="#000000" stroke="#000000" points="136.5,-98.5001 146.5,-95 136.5,-91.5001 136.5,-98.5001"/>
</g>
</g>
</svg>
</p><p>Pero al hacer el objeto inmutable, ya no podremos modificar su estado. Por esta raz&#xF3;n, lo m&#xE1;s apropiado es <strong>definir un constructor</strong> que me permita crear objetos punto.</p>
<blockquote>
<p>&#x1F4CC; <strong>Nota:</strong> A&#xF1;adimos adem&#xE1;s el m&#xE9;todo <strong><code>string ATexto()</code></strong> para poder representar los puntos definidos.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-struct">struct</span> <span class="token class-name">Punto2D</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> X<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> Y<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Punto2D</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> x<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> y<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Y <span class="token operator">=</span> y<span class="token punctuation">;</span>
        X <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span> 
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$&quot;(</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">X</span><span class="token format-string"><span class="token punctuation">:</span>G2</span><span class="token punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Y</span><span class="token format-string"><span class="token punctuation">:</span>G2</span><span class="token punctuation">}</span></span><span class="token string">)&quot;</span></span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<p>Ahora si hacemos una asignaci&#xF3;n de un punto sobre otro se generar&#xE1; una copia en memoria, el objeto <strong><code>Punto2D</code></strong> ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Punto2D</span> p1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">(</span><span class="token number">4d</span><span class="token punctuation">,</span> <span class="token number">4d</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ojo! aunque hagamos un new sigue siendo un tipo valor.</span>
<span class="token class-name">Punto2D</span> p2 <span class="token operator">=</span> p1<span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;p1 = &quot;</span> <span class="token operator">+</span> p1<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;p2 = &quot;</span> <span class="token operator">+</span> p2<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p align="center" style="zoom:0.85"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="392pt" height="109pt" viewBox="0.00 0.00 392.00 109.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 105)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-105 388,-105 388,4 -4,4"/>
<!-- o1 -->
<g id="node1" class="node">
<title>o1</title>
<text text-anchor="start" x="17.7174" y="-45.8" font-family="Arial" font-size="14.00" fill="#000000">p1</text>
<polygon fill="none" stroke="#000000" points="43,-58.5 43,-96.5 166,-96.5 166,-58.5 43,-58.5"/>
<text text-anchor="start" x="53.9243" y="-72.9" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Punto2D &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="43,-3.5 43,-58.5 166,-58.5 166,-3.5 43,-3.5"/>
<text text-anchor="start" x="70.4534" y="-34.9" font-family="Arial" font-size="14.00" fill="#000000">X = 4.0d</text>
<text text-anchor="start" x="70.4534" y="-18.1" font-family="Arial" font-size="14.00" fill="#000000">Y = 4.0d &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- o2 -->
<g id="node2" class="node">
<title>o2</title>
<text text-anchor="start" x="227.7174" y="-45.8" font-family="Arial" font-size="14.00" fill="#000000">p2</text>
<polygon fill="none" stroke="#000000" points="253,-58.5 253,-96.5 376,-96.5 376,-58.5 253,-58.5"/>
<text text-anchor="start" x="263.9243" y="-72.9" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Punto2D &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="253,-3.5 253,-58.5 376,-58.5 376,-3.5 253,-3.5"/>
<text text-anchor="start" x="280.4534" y="-34.9" font-family="Arial" font-size="14.00" fill="#000000">X = 4.0d</text>
<text text-anchor="start" x="280.4534" y="-18.1" font-family="Arial" font-size="14.00" fill="#000000">Y = 4.0d &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- o1&#45;&gt;o2 -->
<g id="edge1" class="edge">
<title>o1-&gt;o2</title>
<path fill="none" stroke="transparent" d="M174.2345,-50.5C182.5665,-50.5 191.0523,-50.5 199.4735,-50.5"/>
<polygon fill="transparent" stroke="transparent" points="199.6991,-54.0001 209.699,-50.5 199.699,-47.0001 199.6991,-54.0001"/>
</g>
</g>
</svg>
</p><p>Si <strong><code>Punto2D</code></strong> lo hubi&#xE9;semos definido con <strong><code>class</code></strong> tendr&#xED;amos un <strong>tipo referencia</strong> y lo siguiente en memoria...</p>
<p align="center" style="zoom:0.85"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="273pt" height="114pt" viewBox="0.00 0.00 272.55 113.55" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 109.5462)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-109.5462 268.5462,-109.5462 268.5462,4 -4,4"/>
<!-- p1 -->
<g id="node1" class="node">
<title>p1</title>
<ellipse fill="none" stroke="#c0c0c0" cx="21.7731" cy="-83.7731" rx="21.5485" ry="21.5485"/>
<text text-anchor="middle" x="21.7731" y="-79.5731" font-family="Arial" font-size="14.00" fill="#000000">p1</text>
</g>
<!-- o1 -->
<g id="node3" class="node">
<title>o1</title>
<polygon fill="none" stroke="#c0c0c0" points="88.0462,-60.7731 88.0462,-98.7731 257.0462,-98.7731 257.0462,-60.7731 88.0462,-60.7731"/>
<text text-anchor="start" x="98.6241" y="-75.1731" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;p1, p2: Punto2D &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#c0c0c0" points="88.0462,-5.7731 88.0462,-60.7731 257.0462,-60.7731 257.0462,-5.7731 88.0462,-5.7731"/>
<text text-anchor="start" x="138.4996" y="-37.1731" font-family="Arial" font-size="14.00" fill="#000000">X = 4.0d</text>
<text text-anchor="start" x="138.4996" y="-20.3731" font-family="Arial" font-size="14.00" fill="#000000">Y = 4.0d &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- p1&#45;&gt;o1 -->
<g id="edge1" class="edge">
<title>p1-&gt;o1</title>
<path fill="none" stroke="#c0c0c0" d="M43.3036,-79.3316C50.7902,-77.7871 59.7584,-75.9371 69.4313,-73.9416"/>
<polygon fill="#c0c0c0" stroke="#c0c0c0" points="70.2237,-77.352 79.3103,-71.9037 68.8094,-70.4963 70.2237,-77.352"/>
</g>
<!-- p2 -->
<g id="node2" class="node">
<title>p2</title>
<ellipse fill="none" stroke="#c0c0c0" cx="21.7731" cy="-21.7731" rx="21.5485" ry="21.5485"/>
<text text-anchor="middle" x="21.7731" y="-17.5731" font-family="Arial" font-size="14.00" fill="#000000">p2</text>
</g>
<!-- p2&#45;&gt;o1 -->
<g id="edge2" class="edge">
<title>p2-&gt;o1</title>
<path fill="none" stroke="#c0c0c0" d="M43.3036,-26.2146C50.7902,-27.7591 59.7584,-29.6091 69.4313,-31.6046"/>
<polygon fill="#c0c0c0" stroke="#c0c0c0" points="68.8094,-35.0499 79.3103,-33.6425 70.2237,-28.1942 68.8094,-35.0499"/>
</g>
</g>
</svg>
</p><p>Si planteamos lo mismo pero en t&#xE9;rminos de colecciones homog&#xE9;neas. Si hacemos ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Punto2D<span class="token punctuation">[</span><span class="token punctuation">]</span></span> triangulo <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// Aqu&#xED; los puntos ya estar&#xED;an creados por ser Punto2D un tipo valor.</span>

triangulo<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">(</span><span class="token number">4D</span><span class="token punctuation">,</span> <span class="token number">4D</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;trangulo[2] = &quot;</span> <span class="token operator">+</span> triangulo<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>Se crear&#xE1; un array con los tres objetos valor inicializados por &apos;<em>defecto</em>&apos; y posteriormente hacemos una <strong>copia</strong> del un nuevo objeto valor con coordenadas (4 - 4) en la posici&#xF3;n de &#xED;ndice 2 en array.</p>
<p align="center" style="zoom:0.8"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="816pt" height="192pt" viewBox="0.00 0.00 816.24 192.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 188)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-188 812.2437,-188 812.2437,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster1</title>
<polygon fill="none" stroke="#000000" points="108.2437,-8 108.2437,-176 800.2437,-176 800.2437,-8 108.2437,-8"/>
<text text-anchor="middle" x="454.2437" y="-159.4" font-family="Arial" font-size="14.00" fill="#000000">triangulo : Punto2D[3]</text>
</g>
<!-- t1 -->
<g id="node1" class="node">
<title>t1</title>
<ellipse fill="none" stroke="#000000" cx="40.1218" cy="-80" rx="40.2441" ry="40.2441"/>
<text text-anchor="middle" x="40.1218" y="-75.8" font-family="Arial" font-size="14.00" fill="#000000">triangulo</text>
</g>
<!-- ot1 -->
<g id="node2" class="node">
<title>ot1</title>
<text text-anchor="start" x="230.3524" y="-124.4" font-family="Arial" font-size="14.00" fill="#c0c0c0">0</text>
<text text-anchor="start" x="450.3524" y="-124.4" font-family="Arial" font-size="14.00" fill="#c0c0c0">1</text>
<text text-anchor="start" x="670.3524" y="-124.4" font-family="Arial" font-size="14.00" fill="#0000ff">2</text>
<polygon fill="none" stroke="#000000" points="124.2437,-20 124.2437,-119 344.2437,-119 344.2437,-20 124.2437,-20"/>
<polygon fill="none" stroke="#000000" points="127.2437,-23 127.2437,-116 218.2437,-116 218.2437,-23 127.2437,-23"/>
<text text-anchor="start" x="138.1231" y="-65.3" font-family="Arial" font-size="14.00" fill="#000000">triangulo[0]</text>
<polygon fill="none" stroke="#000000" points="218.2437,-78 218.2437,-116 341.2437,-116 341.2437,-78 218.2437,-78"/>
<text text-anchor="start" x="229.168" y="-92.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Punto2D &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="218.2437,-23 218.2437,-78 341.2437,-78 341.2437,-23 218.2437,-23"/>
<text text-anchor="start" x="245.6971" y="-54.4" font-family="Arial" font-size="14.00" fill="#000000">X = 0.0d</text>
<text text-anchor="start" x="245.6971" y="-37.6" font-family="Arial" font-size="14.00" fill="#000000">Y = 0.0d &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="344.2437,-20 344.2437,-119 564.2437,-119 564.2437,-20 344.2437,-20"/>
<polygon fill="none" stroke="#000000" points="347.2437,-23 347.2437,-116 438.2437,-116 438.2437,-23 347.2437,-23"/>
<text text-anchor="start" x="358.1231" y="-65.3" font-family="Arial" font-size="14.00" fill="#000000">triangulo[1]</text>
<polygon fill="none" stroke="#000000" points="438.2437,-78 438.2437,-116 561.2437,-116 561.2437,-78 438.2437,-78"/>
<text text-anchor="start" x="449.168" y="-92.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Punto2D &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="438.2437,-23 438.2437,-78 561.2437,-78 561.2437,-23 438.2437,-23"/>
<text text-anchor="start" x="465.6971" y="-54.4" font-family="Arial" font-size="14.00" fill="#000000">X = 0.0d</text>
<text text-anchor="start" x="465.6971" y="-37.6" font-family="Arial" font-size="14.00" fill="#000000">Y = 0.0d &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="564.2437,-20 564.2437,-119 784.2437,-119 784.2437,-20 564.2437,-20"/>
<polygon fill="none" stroke="#000000" points="567.2437,-23 567.2437,-116 658.2437,-116 658.2437,-23 567.2437,-23"/>
<text text-anchor="start" x="578.1231" y="-65.3" font-family="Arial" font-size="14.00" fill="#0000ff">triangulo[2]</text>
<polygon fill="none" stroke="#000000" points="658.2437,-75 658.2437,-116 781.2437,-116 781.2437,-75 658.2437,-75"/>
<text text-anchor="start" x="669.168" y="-91.3" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Punto2D &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="658.2437,-23 658.2437,-75 781.2437,-75 781.2437,-23 658.2437,-23"/>
<text text-anchor="start" x="685.6971" y="-51.4" font-family="Arial" font-size="14.00" fill="#0000ff">X = 4.0d</text>
<text text-anchor="start" x="685.6971" y="-37.4" font-family="Arial" font-size="14.00" fill="#0000ff">Y = 4.0d</text>
<text text-anchor="start" x="738.2279" y="-37.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- t1&#45;&gt;ot1 -->
<g id="edge1" class="edge">
<title>t1-&gt;ot1</title>
<path fill="none" stroke="#000000" d="M80.5836,-80C88.2062,-80 96.713,-80 105.934,-80"/>
<polygon fill="#000000" stroke="#000000" points="98.2438,-83.5004 108.2437,-80 98.2435,-76.5004 98.2438,-83.5004"/>
</g>
</g>
</svg>
</p><blockquote>
<p>&#x270B; Recordemos del <strong>tema 5</strong>, que si <strong><code>Punto2D</code></strong> fuese un tipo referencia, despu&#xE9;s de ejecutar <strong><code>Punto2D[] triangulo = new Punto2D[3];</code></strong> tendr&#xED;amos un array con tres referencias a objetos <strong><code>Punto2D</code></strong> a <strong>null</strong>.</p>
</blockquote>
<h4 class="mume-header" id="definiendo-operaciones-inmutables-en-el-objeto-valor">Definiendo operaciones inmutables en el objeto valor</h4>

<p>Supongamos que queremos definir una operaci&#xF3;n que desplace un punto una dist&#xE1;ncia y un &#xE1;ngulo en el plano.<br>
Puesto que el m&#xE9;todo no puede cambiar el estado del punto, devolver&#xE1; un nuevo punto donde se habr&#xE1; aplicado el desplazamiento.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-struct">struct</span> <span class="token class-name">Punto2D</span> <span class="token punctuation">{</span>
    <span class="token comment">// ... c&#xF3;digo omitido para abreviar</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Punto2D</span> <span class="token function">Desplaza</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> distancia<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> anguloGrados<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> anguloRadianes <span class="token operator">=</span> anguloGrados <span class="token operator">*</span> Math<span class="token punctuation">.</span>PI <span class="token operator">/</span> <span class="token number">180d</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> fila <span class="token operator">=</span> Y <span class="token operator">+</span> distancia <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Sin</span><span class="token punctuation">(</span>anguloRadianes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> columna <span class="token operator">=</span> X <span class="token operator">+</span> distancia <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Cos</span><span class="token punctuation">(</span>anguloRadianes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Creamos la estructura y devolveremos una COPIA en la pila.</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">(</span>fila<span class="token punctuation">,</span> columna<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><blockquote>
<p><strong>&#x1F393; Caso de estudio</strong></p>
<p>Supongamos que queremos definir un tipo valor para los &#xE1;ngulos y as&#xED; no tener que especificar las unidades.</p>
<ul>
<li>Internamente guardar&#xE1; el valor del &#xE1;ngulo en grados (entero) y en radianes (double).</li>
<li>Definir&#xE9; un constructor que me los cree a partir de un valor en grados.</li>
<li>Un m&#xE9;todo <strong><code>Suma</code></strong> que a partir de un valor en grados lo sume y me devuelva un nuevo valor de &#xE1;ngulo.</li>
<li>Finalmente usa el tipo en <strong><code>Punto2D</code></strong> y has un peque&#xF1;o programa de prueba.</li>
</ul>
<p><strong>Nota:</strong> Intenta realizar la implementaci&#xF3;n antes des ver la siguiente propuesta de soluci&#xF3;n...</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="132px" preserveAspectRatio="none" style="width:182px;height:132px;background:#00000000;" version="1.1" viewBox="0 0 182 132" width="182px" zoomAndPan="magnify"><defs><filter height="300%" id="f16c27g4qyhwij" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[e1f7f799a76b240ff62c27f9c3cea7dc]
class Angulo--><rect codeline="9" fill="#FFFAFA" filter="url(#f16c27g4qyhwij)" height="111.5313" id="Angulo" style="stroke:#000000;stroke-width:1.5;" width="161" x="7" y="7"/><ellipse cx="51.75" cy="27.0938" fill="#FF7700" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M49.2969,30.3906 L49.2969,23.7344 Q48.75,23.7188 48.4844,23.4844 Q48.2344,23.25 48.2344,22.875 Q48.2344,22.5 48.5,22.2656 Q48.7656,22.0313 49.375,22.0313 L52.9375,22.0313 Q53.7656,22.0313 54.5625,22.3438 Q55.3594,22.6406 55.8438,23.125 Q56.2031,23.4844 56.5938,24.1094 Q56.9844,24.7188 57.1875,25.3438 Q57.3906,25.9531 57.3906,26.8438 L57.3906,27.6563 Q57.3906,28.7344 57.0156,29.5781 Q56.6563,30.4063 56.0625,30.9375 Q55.4688,31.4531 54.9531,31.7031 Q54.125,32.0938 52.7969,32.0938 L49.375,32.0938 Q48.7656,32.0938 48.5,31.8594 Q48.2344,31.625 48.2344,31.2344 Q48.2344,30.8594 48.5,30.625 Q48.7656,30.3906 49.2969,30.3906 Z M51,30.3906 L52.8125,30.3906 Q53.8125,30.3906 54.3281,30.0938 Q55,29.7188 55.3438,29.1406 Q55.6875,28.5469 55.6875,27.6094 L55.6875,26.7969 Q55.6875,26 55.375,25.3906 Q54.8906,24.4375 54.2813,24.0938 Q53.6875,23.7344 52.7969,23.7344 L51,23.7344 L51,30.3906 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="67" x="70.25" y="24.457">&#xAB;DataType&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="38" x="84.75" y="39.5508">Angulo</text><line style="stroke:#000000;stroke-width:1.5;" x1="8" x2="167" y1="47.1875" y2="47.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="13" y="62.6064">+Grados : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="147" x="13" y="76.4424">+Radianes : double {readOnly}</text><line style="stroke:#000000;stroke-width:1.5;" x1="8" x2="167" y1="82.8594" y2="82.8594"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="113" x="13" y="98.2783">+Angulo(in grados : int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="149" x="13" y="112.1143">+Suma(in grados : int) : Angulo</text><!--MD5=[6e5d952044a4656e79c43b42fec281fd]
@startuml
left to right direction
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow
skinparam BackgroundColor Transparent

class Angulo <<(D,#FF7700) DataType>>
{
    + Grados : int {readOnly}
    + Radianes : double {readOnly}
    + Angulo(in grados : int)
    + Suma(in grados : int) : Angulo
}

@enduml

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-struct">struct</span> <span class="token class-name">Angulo</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> Grados<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> Radianes<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Angulo</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> grados<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> GRADOS_TOTALES <span class="token operator">=</span> <span class="token number">360</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> gr <span class="token operator">=</span> grados <span class="token operator">%</span> GRADOS_TOTALES<span class="token punctuation">;</span>
        gr <span class="token operator">=</span> gr <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">?</span> gr <span class="token operator">+</span> GRADOS_TOTALES <span class="token punctuation">:</span> gr<span class="token punctuation">;</span>
        Grados <span class="token operator">=</span> gr<span class="token punctuation">;</span>
        Radianes <span class="token operator">=</span> Grados <span class="token operator">*</span> Math<span class="token punctuation">.</span>PI <span class="token operator">/</span> <span class="token number">180d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Angulo</span> <span class="token function">Suma</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> grados<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Angulo</span><span class="token punctuation">(</span>Grados <span class="token operator">+</span> grados<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Punto2D</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> X<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> Y<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Punto2D</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> x<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> y<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Y <span class="token operator">=</span> y<span class="token punctuation">;</span>
        X <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Punto2D</span> <span class="token function">Desplaza</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> distancia<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name">Angulo</span> angulo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> fila <span class="token operator">=</span> Y <span class="token operator">+</span> distancia <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Sin</span><span class="token punctuation">(</span>angulo<span class="token punctuation">.</span>Radianes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> columna <span class="token operator">=</span> X <span class="token operator">+</span> distancia <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Cos</span><span class="token punctuation">(</span>angulo<span class="token punctuation">.</span>Radianes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">(</span>fila<span class="token punctuation">,</span> columna<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$&quot;(</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">X</span><span class="token format-string"><span class="token punctuation">:</span>G2</span><span class="token punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Y</span><span class="token format-string"><span class="token punctuation">:</span>G2</span><span class="token punctuation">}</span></span><span class="token string">)&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Angulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Angulo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Punto2D</span> p1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">(</span><span class="token number">4d</span><span class="token punctuation">,</span> <span class="token number">4d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Punto2D</span> p2 <span class="token operator">=</span> p1<span class="token punctuation">;</span>
        <span class="token class-name">Punto2D</span> p3 <span class="token operator">=</span> p2<span class="token punctuation">.</span><span class="token function">Desplaza</span><span class="token punctuation">(</span><span class="token number">4d</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">Suma</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;a = </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">a<span class="token punctuation">.</span>Grados</span><span class="token punctuation">}</span></span><span class="token string"> grados&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;p1 = &quot;</span> <span class="token operator">+</span> p1<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;p2 = &quot;</span> <span class="token operator">+</span> p2<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;p3 = &quot;</span> <span class="token operator">+</span> p3<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></blockquote>
<div style="page-break-after:always;"></div>
<blockquote>
<p><strong>&#x1F393; Caso de estudio</strong></p>
<p>Vamos a definir una clase para modelar un <strong>ISBN</strong></p>
<ul>
<li>
<p>Un ISBN es un c&#xF3;digo normalizado internacional para libros <em>(<strong>International Standard Book Number</strong>)</em>.</p>
</li>
<li>
<p>Los ISBN tuvieron 10 d&#xED;gitos hasta diciembre de 2006 pero, desde enero de 2007, <strong>tienen siempre 13 d&#xED;gitos</strong> que se corresponden con los n&#xFA;meros del c&#xF3;digo de barras <strong>EAN13</strong><br>
(<em>c&#xF3;digo de barras de 13 d&#xED;gitos</em>).</p>
</li>
<li>
<p>Se calculan utilizando una f&#xF3;rmula matem&#xE1;tica espec&#xED;fica e incluyen un d&#xED;gito de control que valida el c&#xF3;digo.</p>
</li>
<li>
<p>Cada ISBN <strong>se compone de 5 elementos separados entre s&#xED;</strong> por un espacio o un guion. Tres de los  cinco elementos pueden variar en longitud:</p>
<ol>
<li>
<p><strong>Prefijo</strong>: Actualmente s&#xF3;lo pueden ser <strong>978</strong> o <strong>979</strong>. Siempre tiene 3 d&#xED;gitos de longitud.</p>
</li>
<li>
<p><strong>Grupo de registro</strong>: Identifica a un determinado pa&#xED;s, una regi&#xF3;n geogr&#xE1;fica o un &#xE1;rea ling&#xFC;&#xED;stica que participan en el sistema ISBN. Este elemento <strong>puede tener entre 1 y 5 d&#xED;gitos</strong> de longitud.</p>
</li>
<li>
<p><strong>Titular</strong>: Identifica a un determinado editor o a un sello editorial. Puede tener <strong>hasta 7 d&#xED;gitos</strong> de longitud.</p>
</li>
<li>
<p><strong>Publicaci&#xF3;n</strong>: Identifica una determinada edici&#xF3;n y formato de un determinado t&#xED;tulo. Puede  ser de <strong>hasta 6 d&#xED;gitos</strong> de longitud. Adem&#xE1;s, este elemento se rellenar&#xE1; con ceros por la izquierda si el ISBN no alcanzase los 13 d&#xED;gitos.</p>
</li>
<li>
<p><strong>D&#xED;gito de control</strong>: Es siempre el &#xFA;ltimo y &#xFA;nico d&#xED;gito que valida matem&#xE1;ticamente al resto  del n&#xFA;mero. Se calcula utilizando <strong>el sistema de m&#xF3;dulo 10 con pesos alternativos de 1 y 3</strong>.</p>
<p><strong>Ejemplo:</strong> Para el ISBN <strong>978-1-78528-144</strong> el DC se calcular&#xE1;.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp">suma  <span class="token operator">=</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">7</span> <span class="token operator">+</span> <span class="token number">8</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">4</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">=</span> 
      <span class="token operator">=</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">21</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">7</span> <span class="token operator">+</span> <span class="token number">24</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">=</span> <span class="token number">110</span>
resto <span class="token operator">=</span> suma <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">=</span> <span class="token number">110</span> <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">=</span> <span class="token number">0</span>
dc <span class="token operator">=</span> resto <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">?</span> <span class="token number">10</span> <span class="token operator">-</span> resto<span class="token punctuation">;</span>
</pre></li>
</ol>
</li>
<li>
<p>A la hora de modelar una clase para el ISBN, podr&#xED;amos definirla como un tipo referencia mediante  class (siempre es buena opci&#xF3;n) o como un tipo valor mediante un struct pues cumple con los requisitos para ello, sobre todo, que una vez establecido no va a cambiar de estado. En nuestro caso, los campos que definir&#xE1;n los elementos del ISBN los vamos a definir como cadenas y va a ser un tipo referencia.</p>
</li>
<li>
<p><strong>Nota:</strong> Vamos a obviar definir los accesores o getters para simplificar.</p>
</li>
<li>
<p>Una aproximaci&#xF3;n preliminar al dise&#xF1;o de nuestra clase podr&#xED;a ser la siguiente:</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="193px" preserveAspectRatio="none" style="width:416px;height:193px;background:#00000000;" version="1.1" viewBox="0 0 416 193" width="416px" zoomAndPan="magnify"><defs><filter height="300%" id="fwwi4x21qhwoh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[607c379646cef37c27302f4c529b61dc]
class Isbn13--><rect codeline="10" fill="#FFFAFA" filter="url(#fwwi4x21qhwoh)" height="172.5234" id="Isbn13" style="stroke:#000000;stroke-width:1.5;" width="395" x="7" y="7"/><ellipse cx="181.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M184.0156,18.875 Q184.1719,18.6563 184.3594,18.5469 Q184.5469,18.4375 184.7656,18.4375 Q185.1406,18.4375 185.375,18.7031 Q185.6094,18.9531 185.6094,19.5625 L185.6094,21.0156 Q185.6094,21.625 185.375,21.8906 Q185.1406,22.1563 184.7656,22.1563 Q184.4219,22.1563 184.2188,21.9531 Q184.0156,21.7656 183.9063,21.25 Q183.8594,20.8906 183.6719,20.7031 Q183.3438,20.3281 182.7344,20.1094 Q182.125,19.8906 181.5,19.8906 Q180.7344,19.8906 180.0938,20.2188 Q179.4688,20.5469 178.9688,21.2969 Q178.4844,22.0469 178.4844,23.0781 L178.4844,24.1719 Q178.4844,25.4063 179.375,26.2344 Q180.2656,27.0469 181.8594,27.0469 Q182.7969,27.0469 183.4531,26.7969 Q183.8438,26.6406 184.2656,26.2031 Q184.5313,25.9375 184.6719,25.8594 Q184.8281,25.7813 185.0313,25.7813 Q185.3594,25.7813 185.6094,26.0469 Q185.875,26.2969 185.875,26.6406 Q185.875,26.9844 185.5313,27.3906 Q185.0313,27.9688 184.2344,28.2969 Q183.1563,28.75 181.8594,28.75 Q180.3438,28.75 179.1406,28.125 Q178.1563,27.625 177.4688,26.5625 Q176.7813,25.4844 176.7813,24.2031 L176.7813,23.0469 Q176.7813,21.7188 177.3906,20.5781 Q178.0156,19.4219 179.1094,18.8125 Q180.2031,18.1875 181.4375,18.1875 Q182.1719,18.1875 182.8125,18.3594 Q183.4688,18.5156 184.0156,18.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="38" x="201.75" y="27.9102">Isbn13</text><line style="stroke:#000000;stroke-width:1.5;" x1="8" x2="401" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="13" y="54.4189">-prefijo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="176" x="13" y="68.2549">-grupoDeRegistro : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121" x="13" y="82.0908">-titular : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="149" x="13" y="95.9268">-publicacion : string {readOnly}</text><line style="stroke:#000000;stroke-width:1.5;" x1="8" x2="401" y1="102.3438" y2="102.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="383" x="13" y="117.7627">+Isbn13(in prefijo : int, in grupoDeRegistro : int, in titular : int, on publicacion : int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="13" y="131.5986">+Isbn13(in isbn13 : string)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118" x="13" y="145.4346">+Isbn13(in isbn : Isbn13)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="107" x="13" y="159.2705">+DigitoDeControl() : int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="182" x="13" y="173.1064">+ATexto(in separador : string) : string</text><!--MD5=[dac3a319ebfdee27749523135455723b]
@startuml

left to right direction
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow
skinparam BackgroundColor Transparent

class Isbn13
{
    - prefijo : string {readOnly}
    - grupoDeRegistro : string {readOnly}
    - titular : string {readOnly}
    - publicacion : string {readOnly}

    + Isbn13(in prefijo : int, in grupoDeRegistro : int, in titular : int, on publicacion : int)
    + Isbn13(in isbn13 : string)
    + Isbn13(in isbn : Isbn13)
    + DigitoDeControl() : int
    + ATexto(in separador : string) : string
}
@enduml

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><p>Definiremos <strong>tres</strong> constructores:</p>
<ol>
<li>
<p>Uno que reciba los cuatro elementos que definen el ISBN en forma de enteros sin el DC.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Isbn13</span> isbn <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Isbn13</span><span class="token punctuation">(</span><span class="token number">978</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">78528</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></li>
<li>
<p>Otro que reciba el ISBN como cadena.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Isbn13</span> isbn <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Isbn13</span><span class="token punctuation">(</span><span class="token string">&quot;978-1-78528-144-0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Isbn13</span> isbn <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Isbn13</span><span class="token punctuation">(</span><span class="token string">&quot;978 1 78528 144 0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Isbn13</span> isbn <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Isbn13</span><span class="token punctuation">(</span><span class="token string">&quot;9781785281440&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></li>
<li>
<p>Por &#xFA;ltimo un constructor copia.</p>
</li>
</ol>
</li>
</ul>
<p>&#x270B; <strong>&#xBF;Ser&#xED;as capaz de implementar la clase propuesta?</strong></p>
<p>Si no se te ocurre nada. Puedes consultar la <strong>propuesta de soluci&#xF3;n comentada</strong> en la siguiente p&#xE1;gina y despu&#xE9;s volver a intentarlo</p>
</blockquote>
<div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-class">class</span> <span class="token class-name">Isbn13</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definimos como constantes privadas y de clase todos aquellos valores que vamos a utilizar para</span>
    <span class="token comment">// comprobaciones de los rangos de valores de los campos y as&#xED; no utilizar &apos;N&#xFA;meros M&#xE1;gicos&apos;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> PREFIJOS <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span> <span class="token number">978</span><span class="token punctuation">,</span> <span class="token number">979</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> MAX_LONGITUD_GRUPO <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> MAX_LONGITUD_TITULAR <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> MAX_LONGITUD_PUBLICACION <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> LONGITUD_ISBN <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>

    <span class="token comment">// Definici&#xF3;n de los campos que guardan los elementos del ISBN.</span>
    <span class="token comment">// Son de solo lectura y string, para preservar ceros por la izquierda y evitar desbordamientos de tipo.</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> prefijo<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> grupoDeRegistro<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> titular<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> publicacion<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Isbn13</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> prefijo<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> grupoDeRegistro<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> titular<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> publicacion<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Comprobamos que el prefijo est&#xE9; entre los prefijos v&#xE1;lidos,</span>
        <span class="token comment">// en caso contr&#xE1;rio generamos un error y finalizamos la creaci&#xF3;n del objeto.</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>prefijo <span class="token operator">=</span> prefijo<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">IndexOf</span><span class="token punctuation">(</span>PREFIJOS<span class="token punctuation">,</span> prefijo<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;El prefijo </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">prefijo</span><span class="token punctuation">}</span></span><span class="token string"> no es v&#xE1;lido.&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Comprobamos que la longitud de los campos no supere la especificada,</span>
        <span class="token comment">// en caso contr&#xE1;rio generamos un error y finalizamos la creaci&#xF3;n del objeto.</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>grupoDeRegistro <span class="token operator">=</span> grupoDeRegistro<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>grupoDeRegistro<span class="token punctuation">.</span>Length <span class="token operator">&gt;</span> MAX_LONGITUD_PUBLICACION<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;El grupo de registro </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">grupoDeRegistro</span><span class="token punctuation">}</span></span><span class="token string"> es demasiado largo.&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>titular <span class="token operator">=</span> titular<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>titular<span class="token punctuation">.</span>Length <span class="token operator">&gt;</span> MAX_LONGITUD_PUBLICACION<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;El titular </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">titular</span><span class="token punctuation">}</span></span><span class="token string"> es demasiado largo.&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicacion <span class="token operator">=</span> publicacion<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicacion<span class="token punctuation">.</span>Length <span class="token operator">&gt;</span> MAX_LONGITUD_PUBLICACION<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;La publicacion </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">publicacion</span><span class="token punctuation">}</span></span><span class="token string"> es demasiado larga.&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Obtenemos la diferencia de longitud con un c&#xF3;digo de 13 d&#xED;gitos sin contar el d&#xED;gito de control.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn <span class="token operator">=</span> <span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> prefijo<span class="token punctuation">,</span> grupoDeRegistro<span class="token punctuation">,</span> titular<span class="token punctuation">,</span> publicacion<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> excesoLongitud <span class="token operator">=</span> isbn<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token punctuation">(</span>LONGITUD_ISBN <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si no llega a 12 rellenamos con ceros por la izquierda. </span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>excesoLongitud <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicacion <span class="token operator">=</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicacion<span class="token punctuation">.</span><span class="token function">PadLeft</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>excesoLongitud<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicacion<span class="token punctuation">.</span>Length<span class="token punctuation">,</span> <span class="token string character">&apos;0&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si es m&#xE1;s largo de 12 d&#xED;gitos generamos un error y finalizamos la creaci&#xF3;n del objeto.</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>excesoLongitud <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;El ISBN </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">isbn</span><span class="token punctuation">}</span></span><span class="token string"> esn demasiado largo.&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Isbn13</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn13<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Separadores posibles &apos; &apos;, &apos;-&apos; o nada.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> s <span class="token operator">=</span> <span class="token string">&quot;[ -]?&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo &quot;prefijo&quot;, con alternancia de los que haya en el array 978|979</span>
        <span class="token comment">// f&#xED;jate que el c&#xF3;digo es robusto pues est&#xE1; preparado para permitir futuros prefijos.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> erPrefijo <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$&quot;(?&lt;prefijo&gt;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">&quot;|&quot;</span><span class="token punctuation">,</span> PREFIJOS<span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">)&quot;</span></span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo &quot;grupoDeRegistro&quot;, un valor entre 1 y MAX_LONGITUD_GRUPO d&#xED;gitos.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> erGrupoDeRegistro <span class="token operator">=</span> <span class="token string">@&quot;(?&lt;grupoDeRegistro&gt;\d{1,&quot;</span> <span class="token operator">+</span> MAX_LONGITUD_GRUPO <span class="token operator">+</span> <span class="token string">&quot;})&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo &quot;titular&quot;, un valor entre 1 y MAX_LONGITUD_TITULAR d&#xED;gitos.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> erTitular <span class="token operator">=</span> <span class="token string">@&quot;(?&lt;titular&gt;\d{1,&quot;</span> <span class="token operator">+</span> MAX_LONGITUD_TITULAR <span class="token operator">+</span> <span class="token string">&quot;})&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo &quot;publicacion&quot;, un valor entre 1 y MAX_LONGITUD_PUBLICACION d&#xED;gitos.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> erPublicacion <span class="token operator">=</span> <span class="token string">@&quot;(?&lt;publicacion&gt;\d{1,&quot;</span> <span class="token operator">+</span> MAX_LONGITUD_PUBLICACION <span class="token operator">+</span> <span class="token string">&quot;})&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo &quot;dc&quot;, que contendr&#xE1; el d&#xED;gito de control.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> erDC <span class="token operator">=</span> <span class="token string">@&quot;(?&lt;dc&gt;\d)&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">// Intento ver si la entrada se corresponde con la expresi&#xF3;n para comprobar ISBN</span>
        <span class="token comment">// al dividir la expresi&#xF3;n esta queda m&#xE1;s legible y es por tanto hay menos posibilidad</span>
        <span class="token comment">// de cometer errores o ampliarla.</span>
        <span class="token class-name">Match</span> m <span class="token operator">=</span> Regex<span class="token punctuation">.</span><span class="token function">Match</span><span class="token punctuation">(</span>isbn13<span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">$&quot;^(</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">erPrefijo</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">erGrupoDeRegistro</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">erTitular</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">erPublicacion</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">erDC</span><span class="token punctuation">}</span></span><span class="token string">)$&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si no hay correspondencia generamos un error y finalizamos la creaci&#xF3;n del objeto.</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>m<span class="token punctuation">.</span>Success<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">isbn13</span><span class="token punctuation">}</span></span><span class="token string"> no es un valor v&#xE1;lido para un ISBN&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si hay correspondencia ya podremos extraer el valor de los grupos y rellenar los campos</span>
        <span class="token comment">// que definir&#xE1;n el objeto y el dc para comprobarlo.</span>
        prefijo <span class="token operator">=</span> m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;prefijo&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        grupoDeRegistro <span class="token operator">=</span> m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;grupoDeRegistro&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        titular <span class="token operator">=</span> m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;titular&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        publicacion <span class="token operator">=</span> m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;publicacion&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> dc <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;dc&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si el ISBN cumple el formato pero m&#xE1;s el dc es menor que 13 </span>
        <span class="token comment">// generamos un error y finalizamos la creaci&#xF3;n del objeto.</span>
        <span class="token comment">// Nota: La llamada a this.ATexto(&quot;&quot;).Length no la podremos hacer si no hemos</span>
        <span class="token comment">// definido el valor de los campos.</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length <span class="token operator">!=</span> LONGITUD_ISBN<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;El d&#xED;gito de control para </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">isbn13</span><span class="token punctuation">}</span></span><span class="token string"> deber&#xED;a ser un EAN13&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Calculamos cual deber&#xED;a ser el dc seg&#xFA;n el valor de los campos y lo comprobamos con el</span>
        <span class="token comment">// introducido. Si no coinciden, generamos un error y finalizamos la creaci&#xF3;n del objeto.</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> dcCorrecto <span class="token operator">=</span> <span class="token function">DigitoDeControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>dc <span class="token operator">!=</span> dcCorrecto<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;El d&#xED;gito de control para </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">isbn13</span><span class="token punctuation">}</span></span><span class="token string"> deber&#xED;a ser </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">dcCorrecto</span><span class="token punctuation">}</span></span><span class="token string"> en lugar de </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">dc</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Constructor copia</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Isbn13</span><span class="token punctuation">(</span><span class="token class-name">Isbn13</span> isbn<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        prefijo <span class="token operator">=</span> isbn<span class="token punctuation">.</span>prefijo<span class="token punctuation">;</span>
        grupoDeRegistro <span class="token operator">=</span> isbn<span class="token punctuation">.</span>grupoDeRegistro<span class="token punctuation">;</span>
        titular <span class="token operator">=</span> isbn<span class="token punctuation">.</span>titular<span class="token punctuation">;</span>
        publicacion <span class="token operator">=</span> isbn<span class="token punctuation">.</span>publicacion<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// C&#xE1;lculo del DC seg&#xFA;n las especificaciones.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">DigitoDeControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn <span class="token operator">=</span> <span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> prefijo<span class="token punctuation">,</span> grupoDeRegistro<span class="token punctuation">,</span> titular<span class="token punctuation">,</span> publicacion<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> suma <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> isbn<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            suma <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>isbn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> resto <span class="token operator">=</span> suma <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> resto <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt32</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">-</span> resto<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Devuelvo el ISBN en formato de cadena, con el separador que me indiquen por par&#xE1;metro.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> separador<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>separador<span class="token punctuation">,</span> prefijo<span class="token punctuation">,</span> grupoDeRegistro<span class="token punctuation">,</span> titular<span class="token punctuation">,</span> publicacion<span class="token punctuation">,</span> <span class="token function">DigitoDeControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h3 class="mume-header" id="ejemplo-de-objeto-valor-definido-en-las-bcl-como-tipo-valor">Ejemplo de objeto valor definido en las BCL como tipo valor</h3>

<p>Uno de los objetos valor predefinidos en las BCL y que m&#xE1;s vamos usar, es el tipo de dato <strong>fecha</strong>: <a href="https://docs.microsoft.com/en-us/dotnet/api/system.datetime?view=netcore-3.1" target="_blank">System.DateTime</a></p>
<h4 class="mume-header" id="formas-de-instanciar-objetos-valor-fecha">Formas de instanciar objetos valor fecha</h4>

<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">DateTime</span> f1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 19/03/2020 a las 00:00:00</span>
<span class="token class-name">DateTime</span> f2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 19/03/2020 a las 8:30:00</span>
<span class="token class-name">DateTime</span> f3 <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Today<span class="token punctuation">;</span>                        <span class="token comment">// Hoy a las 00:00:00</span>
<span class="token class-name">DateTime</span> f4 <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">;</span>                          <span class="token comment">// Hoy a a la hora actual en mi zona horaria.</span>
<span class="token class-name">DateTime</span> f5 <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>UtcNow<span class="token punctuation">;</span>                       <span class="token comment">// Hoy a a la hora actual en zona UTC.</span>
</pre><h4 class="mume-header" id="operaciones-m%C3%A1s-comunes-con-fechas">Operaciones m&#xE1;s comunes con fechas</h4>

<p>Podemos usar todos los operadores de comparaci&#xF3;n <strong><code>==, != , &gt; , &lt;, &gt;= y &lt;=</code></strong></p>
<p>En las operaciones de suma <strong><code>+</code></strong> y resta <strong><code>-</code></strong>, interviene otro tipo de dato valor denominado <a href="https://docs.microsoft.com/en-us/dotnet/api/system.timespan?view=netcore-3.1" target="_blank">TimeSpan</a> que representar&#xE1; un periodo de tiempo que podremos representar en las siguiente magnitudes <strong><code>a&#xF1;os, meses, d&#xED;as, horas, minutos, segundos</code></strong> seg&#xFA;n la precisi&#xF3;n que necesitemos.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[4, 8]}" class="language-csharp" data-line="4,8"><span class="token class-name">DateTime</span> f1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">TimeSpan</span> periodo <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">TimeSpan</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Periodo de tiempo con precisi&#xF3;n de 25 d&#xED;as</span>

<span class="token class-name">DateTime</span> f2 <span class="token operator">=</span> f1 <span class="token operator">+</span> periodo<span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// Muestra 13/04/2020</span>

<span class="token comment">// Muestra Del 19/03/2020 al 13/04/2020 hay 25 d&#xED;as</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Del </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f1<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> al </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f2<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> hay </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token punctuation">(</span>f2 <span class="token operator">-</span> f1<span class="token punctuation">)</span><span class="token punctuation">.</span>Days</span><span class="token punctuation">}</span></span><span class="token string"> d&#xED;as&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">






<div aria-hidden="true" class="line-highlight" data-range="8" data-start="8">
</div></div></pre><p>Estas operaciones tambi&#xE9;n las podremos hacer, a trav&#xE9;s de diferentes m&#xE9;todos <strong><code>f.AddHours(...)</code></strong>, <strong><code>f.AddDays(...)</code></strong>, etc. y as&#xED; evitarnos usar <strong><code>TimeSpan</code></strong></p>
<pre data-role="codeBlock" data-info="csharp {highlight=5}" class="language-csharp" data-line="5"><span class="token class-name">DateTime</span> f1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">DateTime</span> f2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Recuerda el m&#xE9;todo no cambia el estado de f1, sino que devuelve un objeto valor fecha que copiamos en f3</span>
<span class="token class-name">DateTime</span> f3 <span class="token operator">=</span> f1<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra 19/03/2020 (En Espa&#xF1;a)</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">ToLongDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra s&#xE1;bado, 1 de agosto de 2020 (En Espa&#xF1;a)</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f3<span class="token punctuation">.</span><span class="token function">ToLongDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra lunes, 13 de abril de 2020 (En Espa&#xF1;a)</span>
<div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5" data-start="5">
</div></div></pre><h4 class="mume-header" id="fechas-y-cadenas">Fechas y cadenas</h4>

<p>Una aproximaci&#xF3;n sencilla es usar las propiedades del objeto para dar el formato:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">DateTime</span> f <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f<span class="token punctuation">.</span>Day</span><span class="token format-string"><span class="token punctuation">:</span>D2</span><span class="token punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f<span class="token punctuation">.</span>Month</span><span class="token format-string"><span class="token punctuation">:</span>D2</span><span class="token punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f<span class="token punctuation">.</span>Year</span><span class="token format-string"><span class="token punctuation">:</span>D4</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra 19-03-2020</span>
</pre><p>Pero el lenguaje provee una sintaxis especial para cadenas de fecha y hora personalizadas de DateTime a string y viceversa. Usaremos los siguientes <a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings" target="_blank">formatos definidos por el lenguaje</a>.</p>
<div style="page-break-after:always;"></div>
<p>Aqu&#xED; dispones un <strong>cuadro resumen</strong> de los principales formatos descritos en el enlace:</p>
<table>
<thead>
<tr>
<th>Formato</th>
<th>Descripci&#xF3;n</th>
<th>Formato</th>
<th>Descripci&#xF3;n</th>
</tr>
</thead>
<tbody>
<tr>
<td>d</td>
<td>D&#xED;a del mes con el m&#xED;nimo de d&#xED;gitos</td>
<td>/</td>
<td>Separador fecha seg&#xFA;n el pa&#xED;s</td>
</tr>
<tr>
<td>dd</td>
<td>D&#xED;a del mes con 2 d&#xED;gitos</td>
<td>gg</td>
<td>Indicar la era seg&#xFA;n el pa&#xED;s AC/DC</td>
</tr>
<tr>
<td>ddd</td>
<td>D&#xED;a de la semana abreviado seg&#xFA;n el pa&#xED;s</td>
<td>h</td>
<td>Hora de 0 a 12 horas</td>
</tr>
<tr>
<td>dddd</td>
<td>D&#xED;a de la semana completo seg&#xFA;n el pa&#xED;s</td>
<td>hh</td>
<td>Hora de 00 a 12 horas</td>
</tr>
<tr>
<td>M</td>
<td>Mes con el m&#xED;nimo de d&#xED;gitos</td>
<td>z</td>
<td>Indicador Zona Horaria</td>
</tr>
<tr>
<td>MM</td>
<td>Mes con 2 d&#xED;gitos</td>
<td>H</td>
<td>Hora de 0 a 23 horas</td>
</tr>
<tr>
<td>MMM</td>
<td>Nombre del mes abreviado seg&#xFA;n el pa&#xED;s</td>
<td>HH</td>
<td>Hora de 00 a 23 horas</td>
</tr>
<tr>
<td>MMMM</td>
<td>Nombre del mes completo seg&#xFA;n el pa&#xED;s</td>
<td>mm</td>
<td>Minutos con 2 d&#xED;gitos</td>
</tr>
<tr>
<td>yyyy</td>
<td>A&#xF1;o con 4 d&#xED;gitos</td>
<td>ss</td>
<td>Segundos con 2 d&#xED;gitos</td>
</tr>
</tbody>
</table>
<blockquote>
<p>&#x1F4CC; <strong>Nota</strong>: Aquellos caracteres que tienen un significado especial como <strong>d</strong>, <strong>h</strong>, <strong>M</strong>, etc. si queremos que se representen tal cual y no sean sustituidos por un valor de DateTime deberemos escaparlos con <strong><code>\\</code></strong>. Por ejemplo, <strong><code>\\d</code></strong> es el caracter <strong><code>d</code></strong> y no el d&#xED;a del mes en formato num&#xE9;rico.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">DateTime</span> f <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> DateTimeKind<span class="token punctuation">.</span>Utc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Muestra: 19-03-2020</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">&quot;dd-MM-yyyy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Muestra: jueves 19 de marzo de 2020 a las 19 horas UTC+0</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">@&quot;dddd d \de MMMM \de yyyy a la\s H \hora\s UTCz&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</pre><p>Tendremos tambi&#xE9;n la conversi&#xF3;n en sentido inverso si hacemos un Parse. Aunque en este &#xFA;ltimo caso tambi&#xE9;n podemos utilizar ER.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Introduce una fecha con formato (dd/MM/yyyy): &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> texto <span class="token operator">=</span> Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span><span class="token function">TryParseExact</span><span class="token punctuation">(</span>texto<span class="token punctuation">,</span> <span class="token string">&quot;dd/MM/yyyy&quot;</span><span class="token punctuation">,</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">,</span>
                                System<span class="token punctuation">.</span>Globalization<span class="token punctuation">.</span>DateTimeStyles<span class="token punctuation">.</span>AllowWhiteSpaces <span class="token operator">|</span>
                                System<span class="token punctuation">.</span>Globalization<span class="token punctuation">.</span>DateTimeStyles<span class="token punctuation">.</span>AdjustToUniversal<span class="token punctuation">,</span>
                                <span class="token keyword keyword-out">out</span> <span class="token class-name">DateTime</span> fecha<span class="token punctuation">)</span><span class="token punctuation">)</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Has introducido </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">fecha<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-else">else</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">texto</span><span class="token punctuation">}</span></span><span class="token string"> es un fecha incorrecta.&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="qu%C3%A9-pasa-si-solo-queremos-guardar-la-hora-o-la-fecha">&#xBF;Qu&#xE9; pasa si solo queremos guardar la hora o la fecha?</h4>

<p>Si te ha fijado <strong><code>DateTime</code></strong> me obliga a guardar una fecha asociada si solo quiero guardar una hora. Para solucionar esto, en C#10 disponemos tambi&#xE9;n de los tipos valor <strong><code>TimeOnly</code></strong> y <strong><code>DateOnly</code></strong> similares a <strong><code>DateTime</code></strong> pero solo guardaremos u hora o fecha respectivamente.</p>
<div style="page-break-after:always;"></div>
<h2 class="mume-header" id="roles-entre-clases">Roles entre clases</h2>

<h3 class="mume-header" id="relaciones-todo-parte">Relaciones Todo-Parte</h3>

<ul>
<li>Suelen responder a la pregunta <strong>&#xBF;Tiene un ...?</strong></li>
<li>Este tipo de relaciones tambi&#xE9;n pueden tener <strong>cardinalidad</strong>.</li>
</ul>
<h4 class="mume-header" id="agregaci%C3%B3n-o-referencia">Agregaci&#xF3;n o referencia</h4>

<div style="display: flex; justify-content: space-between; margin-top: 15px">
<div style="width: 70%">
<ul>
<li>Almacenaremos una <strong>referencia</strong> al objeto &apos;<em>original</em>&apos;.</li>
<li><strong>Es la relaci&#xF3;n todo-parte m&#xE1;s com&#xFA;n</strong>.</li>
<li>La agregaci&#xF3;n indica independencia de los objetos, esto significa que si desaparece el contenedor, no desaparece el agregado.</li>
<li>En el siguiente ejemplo diremos que: &apos;<em>1 clase <strong>Banco</strong> tendr&#xE1; de 0 a N <strong>Clientes</strong></em>&apos;.<br>
Pero al tratarse de una agregaci&#xF3;n, al desaparecer un objeto banco, no desaparecer&#xE1;n con &#xE9;l sus clientes.</li>
</ul>
</div>
<div style="width: auto">
<p><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="54px" preserveAspectRatio="none" style="width:284px;height:54px;background:#FFFFFF;" version="1.1" viewBox="0 0 284 54" width="284px" zoomAndPan="magnify"><defs><filter height="300%" id="fdjujlftzv5pa" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5ec1166386a94cbb37f572e8da5b9803]
class Banco--><rect fill="#FFFAFA" filter="url(#fdjujlftzv5pa)" height="32" id="Banco" style="stroke:#000000;stroke-width:1.5;" width="67" x="7" y="8.3564"/><ellipse cx="22" cy="24.3564" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M24.7656,20.2314 Q24.9219,20.0127 25.1094,19.9033 Q25.2969,19.7939 25.5156,19.7939 Q25.8906,19.7939 26.125,20.0596 Q26.3594,20.3096 26.3594,20.9189 L26.3594,22.3721 Q26.3594,22.9814 26.125,23.2471 Q25.8906,23.5127 25.5156,23.5127 Q25.1719,23.5127 24.9688,23.3096 Q24.7656,23.1221 24.6563,22.6064 Q24.6094,22.2471 24.4219,22.0596 Q24.0938,21.6846 23.4844,21.4658 Q22.875,21.2471 22.25,21.2471 Q21.4844,21.2471 20.8438,21.5752 Q20.2188,21.9033 19.7188,22.6533 Q19.2344,23.4033 19.2344,24.4346 L19.2344,25.5283 Q19.2344,26.7627 20.125,27.5908 Q21.0156,28.4033 22.6094,28.4033 Q23.5469,28.4033 24.2031,28.1533 Q24.5938,27.9971 25.0156,27.5596 Q25.2813,27.2939 25.4219,27.2158 Q25.5781,27.1377 25.7813,27.1377 Q26.1094,27.1377 26.3594,27.4033 Q26.625,27.6533 26.625,27.9971 Q26.625,28.3408 26.2813,28.7471 Q25.7813,29.3252 24.9844,29.6533 Q23.9063,30.1064 22.6094,30.1064 Q21.0938,30.1064 19.8906,29.4814 Q18.9063,28.9814 18.2188,27.9189 Q17.5313,26.8408 17.5313,25.5596 L17.5313,24.4033 Q17.5313,23.0752 18.1406,21.9346 Q18.7656,20.7783 19.8594,20.1689 Q20.9531,19.5439 22.1875,19.5439 Q22.9219,19.5439 23.5625,19.7158 Q24.2188,19.8721 24.7656,20.2314 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="36" y="29.2666">Banco</text><!--MD5=[20a748d5ee336a9a91751b0a3d4f0beb]
class Cliente--><rect fill="#FFFAFA" filter="url(#fdjujlftzv5pa)" height="32" id="Cliente" style="stroke:#000000;stroke-width:1.5;" width="71" x="199" y="8.3564"/><ellipse cx="214" cy="24.3564" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M216.7656,20.2314 Q216.9219,20.0127 217.1094,19.9033 Q217.2969,19.7939 217.5156,19.7939 Q217.8906,19.7939 218.125,20.0596 Q218.3594,20.3096 218.3594,20.9189 L218.3594,22.3721 Q218.3594,22.9814 218.125,23.2471 Q217.8906,23.5127 217.5156,23.5127 Q217.1719,23.5127 216.9688,23.3096 Q216.7656,23.1221 216.6563,22.6064 Q216.6094,22.2471 216.4219,22.0596 Q216.0938,21.6846 215.4844,21.4658 Q214.875,21.2471 214.25,21.2471 Q213.4844,21.2471 212.8438,21.5752 Q212.2188,21.9033 211.7188,22.6533 Q211.2344,23.4033 211.2344,24.4346 L211.2344,25.5283 Q211.2344,26.7627 212.125,27.5908 Q213.0156,28.4033 214.6094,28.4033 Q215.5469,28.4033 216.2031,28.1533 Q216.5938,27.9971 217.0156,27.5596 Q217.2813,27.2939 217.4219,27.2158 Q217.5781,27.1377 217.7813,27.1377 Q218.1094,27.1377 218.3594,27.4033 Q218.625,27.6533 218.625,27.9971 Q218.625,28.3408 218.2813,28.7471 Q217.7813,29.3252 216.9844,29.6533 Q215.9063,30.1064 214.6094,30.1064 Q213.0938,30.1064 211.8906,29.4814 Q210.9063,28.9814 210.2188,27.9189 Q209.5313,26.8408 209.5313,25.5596 L209.5313,24.4033 Q209.5313,23.0752 210.1406,21.9346 Q210.7656,20.7783 211.8594,20.1689 Q212.9531,19.5439 214.1875,19.5439 Q214.9219,19.5439 215.5625,19.7158 Q216.2188,19.8721 216.7656,20.2314 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="39" x="228" y="29.2666">Cliente</text><!--MD5=[c4a076b3d4c0d5626686ca398df8b184]
reverse link Banco to Cliente--><path codeline="10" d="M87.47,24.3564 C121.69,24.3564 167.66,24.3564 198.82,24.3564 " fill="none" id="Banco-backto-Cliente" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="74.07,24.3564,80.07,28.3564,86.07,24.3564,80.07,20.3564,74.07,24.3564" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="105" y="20.8516">agregaci&#xF3;n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="82.1791" y="39.64">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="169.0886" y="39.2057">0..n</text><!--MD5=[9346c5a9b673bd8348c40098c5416118]
@startuml
left to right direction
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide methods
hide attributes
Banco "1" o- - "0..n" Cliente : agregación

@enduml

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p></div>
</div>
<h5 class="mume-header" id="ventajas-de-la-agregaci%C3%B3n-1">Ventajas de la agregaci&#xF3;n &#x1F44D;</h5>

<ul>
<li>Ahorramos memoria.</li>
<li>Al compartirse la referencia al mismo objeto, mantendremos la integridad referencial.</li>
<li>Mejor manejo de objetos complejos.</li>
<li>Los objetos solo se crean cuando se necesitan.</li>
</ul>
<h5 class="mume-header" id="desventajas-de-la-agregaci%C3%B3n-1">Desventajas de la agregaci&#xF3;n &#x1F44E;</h5>

<ul>
<li>Sobre todo en lenguajes no gestionados como C++. Se puede producir un efecto de <strong>Aliasing</strong>, si destruimos el objeto agregado.</li>
</ul>
<h4 class="mume-header" id="composici%C3%B3n-o-subobjetos">Composici&#xF3;n o subobjetos</h4>

<div style="display: flex; justify-content: space-between; margin-top: 15px">
<div style="width: 70%">
<ul>
<li>Almacenaremos un <strong>objeto valor</strong> o una referencia a una <strong>copia</strong> del objeto &apos;<em>original</em>&apos;.</li>
<li>La composici&#xF3;n indica dependencia de los objetos, esto significa que si desaparece el contenedor, desaparece el subobjeto.</li>
<li>En el siguiente ejemplo diremos que: &apos;<em>1 clase <strong>Banco</strong> tendr&#xE1; de 1 a N <strong>Sucursales</strong></em>&apos;.<br>
Pero al tratarse de una composici&#xF3;n, al desaparecer un objeto banco,  desaparecer&#xE1;n con &#xE9;l sus sucursales.</li>
</ul>
</div>
<div style="width: auto">
<p align="center" style="zoom:0.9"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="54px" preserveAspectRatio="none" style="width:304px;height:54px;background:#FFFFFF;" version="1.1" viewBox="0 0 304 54" width="304px" zoomAndPan="magnify"><defs><filter height="300%" id="fnv9l8uizfkpj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5ec1166386a94cbb37f572e8da5b9803]
class Banco--><rect fill="#FFFAFA" filter="url(#fnv9l8uizfkpj)" height="32" id="Banco" style="stroke:#000000;stroke-width:1.5;" width="67" x="7" y="8.3564"/><ellipse cx="22" cy="24.3564" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M24.7656,20.2314 Q24.9219,20.0127 25.1094,19.9033 Q25.2969,19.7939 25.5156,19.7939 Q25.8906,19.7939 26.125,20.0596 Q26.3594,20.3096 26.3594,20.9189 L26.3594,22.3721 Q26.3594,22.9814 26.125,23.2471 Q25.8906,23.5127 25.5156,23.5127 Q25.1719,23.5127 24.9688,23.3096 Q24.7656,23.1221 24.6563,22.6064 Q24.6094,22.2471 24.4219,22.0596 Q24.0938,21.6846 23.4844,21.4658 Q22.875,21.2471 22.25,21.2471 Q21.4844,21.2471 20.8438,21.5752 Q20.2188,21.9033 19.7188,22.6533 Q19.2344,23.4033 19.2344,24.4346 L19.2344,25.5283 Q19.2344,26.7627 20.125,27.5908 Q21.0156,28.4033 22.6094,28.4033 Q23.5469,28.4033 24.2031,28.1533 Q24.5938,27.9971 25.0156,27.5596 Q25.2813,27.2939 25.4219,27.2158 Q25.5781,27.1377 25.7813,27.1377 Q26.1094,27.1377 26.3594,27.4033 Q26.625,27.6533 26.625,27.9971 Q26.625,28.3408 26.2813,28.7471 Q25.7813,29.3252 24.9844,29.6533 Q23.9063,30.1064 22.6094,30.1064 Q21.0938,30.1064 19.8906,29.4814 Q18.9063,28.9814 18.2188,27.9189 Q17.5313,26.8408 17.5313,25.5596 L17.5313,24.4033 Q17.5313,23.0752 18.1406,21.9346 Q18.7656,20.7783 19.8594,20.1689 Q20.9531,19.5439 22.1875,19.5439 Q22.9219,19.5439 23.5625,19.7158 Q24.2188,19.8721 24.7656,20.2314 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="36" y="29.2666">Banco</text><!--MD5=[6eb21cbdc4d58042377df8925372ace8]
class Sucursal--><rect fill="#FFFAFA" filter="url(#fnv9l8uizfkpj)" height="32" id="Sucursal" style="stroke:#000000;stroke-width:1.5;" width="81" x="209" y="8.3564"/><ellipse cx="224" cy="24.3564" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M226.7656,20.2314 Q226.9219,20.0127 227.1094,19.9033 Q227.2969,19.7939 227.5156,19.7939 Q227.8906,19.7939 228.125,20.0596 Q228.3594,20.3096 228.3594,20.9189 L228.3594,22.3721 Q228.3594,22.9814 228.125,23.2471 Q227.8906,23.5127 227.5156,23.5127 Q227.1719,23.5127 226.9688,23.3096 Q226.7656,23.1221 226.6563,22.6064 Q226.6094,22.2471 226.4219,22.0596 Q226.0938,21.6846 225.4844,21.4658 Q224.875,21.2471 224.25,21.2471 Q223.4844,21.2471 222.8438,21.5752 Q222.2188,21.9033 221.7188,22.6533 Q221.2344,23.4033 221.2344,24.4346 L221.2344,25.5283 Q221.2344,26.7627 222.125,27.5908 Q223.0156,28.4033 224.6094,28.4033 Q225.5469,28.4033 226.2031,28.1533 Q226.5938,27.9971 227.0156,27.5596 Q227.2813,27.2939 227.4219,27.2158 Q227.5781,27.1377 227.7813,27.1377 Q228.1094,27.1377 228.3594,27.4033 Q228.625,27.6533 228.625,27.9971 Q228.625,28.3408 228.2813,28.7471 Q227.7813,29.3252 226.9844,29.6533 Q225.9063,30.1064 224.6094,30.1064 Q223.0938,30.1064 221.8906,29.4814 Q220.9063,28.9814 220.2188,27.9189 Q219.5313,26.8408 219.5313,25.5596 L219.5313,24.4033 Q219.5313,23.0752 220.1406,21.9346 Q220.7656,20.7783 221.8594,20.1689 Q222.9531,19.5439 224.1875,19.5439 Q224.9219,19.5439 225.5625,19.7158 Q226.2188,19.8721 226.7656,20.2314 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="49" x="238" y="29.2666">Sucursal</text><!--MD5=[e65e1d76721eab7399496d41b25bb36b]
reverse link Banco to Sucursal--><path codeline="10" d="M87.5,24.3564 C123.88,24.3564 174.13,24.3564 208.77,24.3564 " fill="none" id="Banco-backto-Sucursal" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="74.3,24.3564,80.3,28.3564,86.3,24.3564,80.3,20.3564,74.3,24.3564" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="105" y="20.8516">composici&#xF3;n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="81.9931" y="39.5378">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="181.002" y="39.1035">1..*</text><!--MD5=[5795fc060e8d87092a3a774e270a51b6]
@startuml
left to right direction
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide methods
hide attributes
Banco "1" *- - "1..*" Sucursal : composición

@enduml

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p></div>
</div>
<ul>
<li>Adem&#xE1;s, cualquier <strong>campo</strong> que defina nuestra clase que sea un tipo valor, <strong>value object</strong>, <strong>data type</strong>, etc. ser&#xE1; considerado como una composici&#xF3;n.</li>
<li>La relaci&#xF3;n no har&#xE1; falta expresarla, pues no puede ser de otra forma que no sea un composici&#xF3;n por la naturaleza valor del objeto fecha. S&#xED;mplemente indicaremos el tipo de datos en la definici&#xF3;n.</li>
</ul>
<p align="center" style="zoom:1"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="110px" preserveAspectRatio="none" style="width:286px;height:110px;background:#FFFFFF;" version="1.1" viewBox="0 0 286 110" width="286px" zoomAndPan="magnify"><defs><filter height="300%" id="fv05mspleasrk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5ec1166386a94cbb37f572e8da5b9803]
class Banco--><rect codeline="8" fill="#FFFAFA" filter="url(#fv05mspleasrk)" height="53.8359" id="Banco" style="stroke:#000000;stroke-width:1.5;" width="137" x="7" y="25"/><ellipse cx="53.75" cy="41" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M56.5156,36.875 Q56.6719,36.6563 56.8594,36.5469 Q57.0469,36.4375 57.2656,36.4375 Q57.6406,36.4375 57.875,36.7031 Q58.1094,36.9531 58.1094,37.5625 L58.1094,39.0156 Q58.1094,39.625 57.875,39.8906 Q57.6406,40.1563 57.2656,40.1563 Q56.9219,40.1563 56.7188,39.9531 Q56.5156,39.7656 56.4063,39.25 Q56.3594,38.8906 56.1719,38.7031 Q55.8438,38.3281 55.2344,38.1094 Q54.625,37.8906 54,37.8906 Q53.2344,37.8906 52.5938,38.2188 Q51.9688,38.5469 51.4688,39.2969 Q50.9844,40.0469 50.9844,41.0781 L50.9844,42.1719 Q50.9844,43.4063 51.875,44.2344 Q52.7656,45.0469 54.3594,45.0469 Q55.2969,45.0469 55.9531,44.7969 Q56.3438,44.6406 56.7656,44.2031 Q57.0313,43.9375 57.1719,43.8594 Q57.3281,43.7813 57.5313,43.7813 Q57.8594,43.7813 58.1094,44.0469 Q58.375,44.2969 58.375,44.6406 Q58.375,44.9844 58.0313,45.3906 Q57.5313,45.9688 56.7344,46.2969 Q55.6563,46.75 54.3594,46.75 Q52.8438,46.75 51.6406,46.125 Q50.6563,45.625 49.9688,44.5625 Q49.2813,43.4844 49.2813,42.2031 L49.2813,41.0469 Q49.2813,39.7188 49.8906,38.5781 Q50.5156,37.4219 51.6094,36.8125 Q52.7031,36.1875 53.9375,36.1875 Q54.6719,36.1875 55.3125,36.3594 Q55.9688,36.5156 56.5156,36.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="74.25" y="45.9102">Banco</text><line style="stroke:#000000;stroke-width:1.5;" x1="8" x2="143" y1="57" y2="57"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="13" y="72.4189">+FechaFundacion : Fecha</text><!--MD5=[57ede1e6086d5eb2e952d648682e58ef]
class Fecha--><rect codeline="14" fill="#FFFAFA" filter="url(#fv05mspleasrk)" height="89.6953" id="Fecha" style="stroke:#000000;stroke-width:1.5;" width="93" x="179" y="7"/><ellipse cx="194" cy="27.0938" fill="#FF7700" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M191.5469,30.3906 L191.5469,23.7344 Q191,23.7188 190.7344,23.4844 Q190.4844,23.25 190.4844,22.875 Q190.4844,22.5 190.75,22.2656 Q191.0156,22.0313 191.625,22.0313 L195.1875,22.0313 Q196.0156,22.0313 196.8125,22.3438 Q197.6094,22.6406 198.0938,23.125 Q198.4531,23.4844 198.8438,24.1094 Q199.2344,24.7188 199.4375,25.3438 Q199.6406,25.9531 199.6406,26.8438 L199.6406,27.6563 Q199.6406,28.7344 199.2656,29.5781 Q198.9063,30.4063 198.3125,30.9375 Q197.7188,31.4531 197.2031,31.7031 Q196.375,32.0938 195.0469,32.0938 L191.625,32.0938 Q191.0156,32.0938 190.75,31.8594 Q190.4844,31.625 190.4844,31.2344 Q190.4844,30.8594 190.75,30.625 Q191.0156,30.3906 191.5469,30.3906 Z M193.25,30.3906 L195.0625,30.3906 Q196.0625,30.3906 196.5781,30.0938 Q197.25,29.7188 197.5938,29.1406 Q197.9375,28.5469 197.9375,27.6094 L197.9375,26.7969 Q197.9375,26 197.625,25.3906 Q197.1406,24.4375 196.5313,24.0938 Q195.9375,23.7344 195.0469,23.7344 L193.25,23.7344 L193.25,30.3906 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="206" y="24.457">&#xAB;dataType&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="34" x="221.5" y="39.5508">Fecha</text><line style="stroke:#000000;stroke-width:1.5;" x1="180" x2="271" y1="47.1875" y2="47.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41" x="185" y="62.6064">+D&#xED;a : int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="185" y="76.4424">+Mes : int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="185" y="90.2783">+A&#xF1;o : int</text><!--MD5=[d0a842f61570ad0750f79c516d9eb850]
@startuml
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide methods
class Banco
{
    + FechaFundacion : Fecha
}

hide methods
class Fecha <<(D,#FF7700) dataType>>
{
    + Día : int
    + Mes : int
    + Año : int
}

@enduml

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><h5 class="mume-header" id="ventajas-de-la-composici%C3%B3n-1">Ventajas de la composici&#xF3;n &#x1F44D;</h5>

<ul>
<li>Evitaremos efectos de <strong>Aliasing</strong>.</li>
</ul>
<h5 class="mume-header" id="desventajas-de-la-composici%C3%B3n-1">Desventajas de la composici&#xF3;n &#x1F44E;</h5>

<ul>
<li>Consume mucha memoria y puede tener un coste de proceso alto.</li>
<li>No compartiremos. Por tanto, si necesitamos mantener la integridad referencial, deberemos hacerlo manualmente.</li>
<li>Se pueden crear objetos que puede que no necesitemos.</li>
</ul>
<h4 class="mume-header" id="ejemplo-de-agregaci%C3%B3n">Ejemplo de Agregaci&#xF3;n</h4>

<p>Vamos a crear una relaci&#xF3;n entre nuestras clases de ejemplo <strong><code>Escritor</code></strong> y <strong><code>Libro</code></strong> de tal manera que el <strong><code>Libro</code></strong> va a tener informaci&#xF3;n del <strong><code>Escritor</code></strong> a trav&#xE9;s de una agregaci&#xF3;n.<br>
Cumple con la m&#xE1;xima de que si desaparece el libro no tiene porque desaparecer el escritor.<br>
Una posible forma de expresarlo en UML es la siguiente.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="223.9316px" preserveAspectRatio="none" style="width:600px;height:223px;background:#FFFFFF;" version="1.1" viewBox="0 0 600 223" width="600.8547px" zoomAndPan="magnify"><defs><filter height="300%" id="f6ne9merhjsvs" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.7094017094017093"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.4188034188034186" dy="3.4188034188034186" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[a48731e35e4efcfa96e52c126b9a7dad]
class Libro--><rect codeline="12" fill="#FFFAFA" filter="url(#f6ne9merhjsvs)" height="206.5839" id="Libro" style="stroke:#000000;stroke-width:1.282051282051282;" width="331.6239" x="5.9829" y="5.9829"/><ellipse cx="156.1966" cy="19.6581" fill="#ADD1B2" rx="9.4017" ry="9.4017" style="stroke:#000000;stroke-width:0.8547008547008547;"/><path d="M158.5604,16.1325 Q158.6939,15.9455 158.8542,15.852 Q159.0144,15.7585 159.2014,15.7585 Q159.5219,15.7585 159.7222,15.9856 Q159.9225,16.1993 159.9225,16.7201 L159.9225,17.9621 Q159.9225,18.4829 159.7222,18.7099 Q159.5219,18.937 159.2014,18.937 Q158.9076,18.937 158.734,18.7634 Q158.5604,18.6031 158.4669,18.1624 Q158.4268,17.8552 158.2666,17.695 Q157.9861,17.3745 157.4653,17.1875 Q156.9444,17.0005 156.4103,17.0005 Q155.7559,17.0005 155.2083,17.281 Q154.6741,17.5614 154.2468,18.2025 Q153.8328,18.8435 153.8328,19.7249 L153.8328,20.6597 Q153.8328,21.7147 154.594,22.4225 Q155.3552,23.117 156.7174,23.117 Q157.5187,23.117 158.0796,22.9033 Q158.4135,22.7698 158.774,22.3958 Q159.0011,22.1688 159.1213,22.102 Q159.2548,22.0353 159.4284,22.0353 Q159.7089,22.0353 159.9225,22.2623 Q160.1496,22.476 160.1496,22.7698 Q160.1496,23.0636 159.8558,23.4108 Q159.4284,23.9049 158.7473,24.1854 Q157.8259,24.5726 156.7174,24.5726 Q155.422,24.5726 154.3937,24.0385 Q153.5524,23.6111 152.9647,22.703 Q152.3771,21.7815 152.3771,20.6864 L152.3771,19.6982 Q152.3771,18.563 152.898,17.5881 Q153.4322,16.5999 154.367,16.0791 Q155.3018,15.5449 156.3568,15.5449 Q156.9845,15.5449 157.5321,15.6918 Q158.0929,15.8253 158.5604,16.1325 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="10.2564" lengthAdjust="spacing" textLength="23.9316" x="173.7179" y="23.8548">Libro</text><line style="stroke:#000000;stroke-width:1.282051282051282;" x1="6.8376" x2="336.7521" y1="33.3333" y2="33.3333"/><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="100" x="11.1111" y="46.5119">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="82.906" x="11.1111" y="58.3375">-a&#xF1;o : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="100" x="11.1111" y="70.1631">-paginas : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="80.3419" x="11.1111" y="81.9887">-paginasLe&#xED;das : int</text><line style="stroke:#000000;stroke-width:1.282051282051282;" x1="6.8376" x2="336.7521" y1="87.4733" y2="87.4733"/><text fill="#000000" font-family="sans-serif" font-size="9.4017" font-weight="bold" lengthAdjust="spacing" textLength="321.3675" x="11.1111" y="100.6519">+ Libro(in titulo : string, in a&#xF1;o : int, in paginas : int, in autor : Escritor)</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="78.6325" x="11.1111" y="112.4775">+GetTitulo() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="60.6838" x="11.1111" y="124.3031">+GetA&#xF1;o() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" font-weight="bold" lengthAdjust="spacing" textLength="101.7094" x="11.1111" y="136.1286">+ GetAutor() : Escritor</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="76.0684" x="11.1111" y="147.9542">+GetPaginas() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="103.4188" x="11.1111" y="159.7798">+GetPaginasLeidas() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="167.5214" x="11.1111" y="171.6054">-SetPaginasLeidas(in paginas : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="105.9829" x="11.1111" y="183.431">+Lee(int paginas : int) : int</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="94.8718" x="11.1111" y="195.2566">+PorcentajeLe&#xED;do() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="91.453" x="11.1111" y="207.0822">+Descripci&#xF3;n() : string</text><!--MD5=[86711dc2639f7c866c0f156bdfe53786]
class Escritor--><rect codeline="31" fill="#FFFAFA" filter="url(#f6ne9merhjsvs)" height="159.2815" id="Escritor" style="stroke:#000000;stroke-width:1.282051282051282;" width="200" x="388.8889" y="29.9145"/><ellipse cx="467.3077" cy="43.5897" fill="#ADD1B2" rx="9.4017" ry="9.4017" style="stroke:#000000;stroke-width:0.8547008547008547;"/><path d="M469.6715,40.0641 Q469.805,39.8771 469.9653,39.7837 Q470.1255,39.6902 470.3125,39.6902 Q470.633,39.6902 470.8333,39.9172 Q471.0337,40.1309 471.0337,40.6517 L471.0337,41.8937 Q471.0337,42.4145 470.8333,42.6416 Q470.633,42.8686 470.3125,42.8686 Q470.0187,42.8686 469.8451,42.695 Q469.6715,42.5347 469.578,42.094 Q469.5379,41.7869 469.3777,41.6266 Q469.0972,41.3061 468.5764,41.1191 Q468.0556,40.9322 467.5214,40.9322 Q466.867,40.9322 466.3194,41.2126 Q465.7853,41.4931 465.3579,42.1341 Q464.9439,42.7751 464.9439,43.6565 L464.9439,44.5913 Q464.9439,45.6464 465.7051,46.3542 Q466.4663,47.0486 467.8285,47.0486 Q468.6298,47.0486 469.1907,46.8349 Q469.5246,46.7014 469.8851,46.3275 Q470.1122,46.1004 470.2324,46.0337 Q470.3659,45.9669 470.5395,45.9669 Q470.82,45.9669 471.0337,46.1939 Q471.2607,46.4076 471.2607,46.7014 Q471.2607,46.9952 470.9669,47.3424 Q470.5395,47.8365 469.8584,48.117 Q468.937,48.5043 467.8285,48.5043 Q466.5331,48.5043 465.5048,47.9701 Q464.6635,47.5427 464.0759,46.6346 Q463.4882,45.7131 463.4882,44.6181 L463.4882,43.6298 Q463.4882,42.4947 464.0091,41.5198 Q464.5433,40.5315 465.4781,40.0107 Q466.4129,39.4765 467.4679,39.4765 Q468.0956,39.4765 468.6432,39.6234 Q469.2041,39.7569 469.6715,40.0641 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="10.2564" lengthAdjust="spacing" textLength="35.8974" x="484.8291" y="47.7865">Escritor</text><line style="stroke:#000000;stroke-width:1.282051282051282;" x1="389.7436" x2="588.0342" y1="57.265" y2="57.265"/><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="111.9658" x="394.0171" y="70.4435">-nombre : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="111.1111" x="394.0171" y="82.2691">-nacimiento : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="76.9231" x="394.0171" y="94.0947">-publicaciones : int</text><line style="stroke:#000000;stroke-width:1.282051282051282;" x1="389.7436" x2="588.0342" y1="99.5793" y2="99.5793"/><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="189.7436" x="394.0171" y="112.7579">+Escritor(in nombre : string, in nacimiento : int)</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="88.8889" x="394.0171" y="124.5835">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="88.0342" x="394.0171" y="136.4091">+GetNacimiento() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="100" x="394.0171" y="148.2347">+GetPublicaciones() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="188.0342" x="394.0171" y="160.0603">-SetPublicaciones(in publicaciones : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="129.9145" x="394.0171" y="171.8859">+Escribe(in titulo : string) : Libro</text><text fill="#000000" font-family="sans-serif" font-size="9.4017" lengthAdjust="spacing" textLength="91.453" x="394.0171" y="183.7114">+Descripci&#xF3;n() : string</text><!--MD5=[91435e4c2633804ce6612f621abb47ea]
reverse link Libro to Escritor--><path codeline="10" d="M349.1453,109.4017 C362.7009,109.4017 376.0598,109.4017 388.8291,109.4017 " fill="none" id="Libro-backto-Escritor" style="stroke:#000000;stroke-width:0.8547008547008547;"/><polygon fill="#FFFFFF" points="337.735,109.4017,342.8632,112.8205,347.9915,109.4017,342.8632,105.9829,337.735,109.4017" style="stroke:#000000;stroke-width:0.8547008547008547;"/><text fill="#000000" font-family="sans-serif" font-size="11.1111" lengthAdjust="spacing" textLength="5.9829" x="344.3339" y="121.2139">1</text><text fill="#000000" font-family="sans-serif" font-size="11.1111" lengthAdjust="spacing" textLength="5.9829" x="375.9224" y="121.3952">1</text><!--MD5=[5f5a6aa39395e2fde3fcf035955f164c]
@startuml

left to right direction
scale 600 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

Libro "1" o- - "1" Escritor

class Libro
{
    - titulo : string {readOnly}
    - año : int {readOnly}
    - paginas : int {readOnly}
    - paginasLeídas : int

    **+ Libro(in titulo : string, in año : int, in paginas : int, in autor : Escritor)**
    + GetTitulo() : string
    + GetAño() : int
    **+ GetAutor() : Escritor**
    + GetPaginas() : int
    + GetPaginasLeidas() : int
    - SetPaginasLeidas(in paginas : int) : void
    + Lee(int paginas : int) : int
    + PorcentajeLeído() : int
    + Descripción() : string
}

class Escritor
{
    - nombre : string {readOnly}
    - nacimiento : int {readOnly}
    - publicaciones : int

    + Escritor(in nombre : string, in nacimiento : int)
    + GetNombre() : string
    + GetNacimiento() : int
    + GetPublicaciones() : int
    - SetPublicaciones(in publicaciones : int) : void
    + Escribe(in titulo : string) : Libro
    + Descripción() : string
}

@enduml

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><p>De la relaci&#xF3;n <strong>se debe deducir</strong> que en la clase libro tendremos un campo nuevo que podemos denominar <strong>autor</strong> y que ser&#xE1; de solo lectura.</p>
<p>Veamos los cambios que implicar&#xE1; esta relaci&#xF3;n en la implementaci&#xF3;n de nuestra clase <strong><code>Libro</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp line-numbers"><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... c&#xF3;digo omitido por brevedad.</span>
    <span class="token comment">// A&#xF1;adiremos el campo que establece la relaci&#xF3;n de agregaci&#xF3;n indicada.</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Escritor</span> autor<span class="token punctuation">;</span>

    <span class="token comment">// A&#xF1;adiremos un &apos;getter&apos; para el campo</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Escritor</span> <span class="token function">GetAutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> autor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Recibimos la referencia al escritor en el constructor de libro.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token keyword keyword-int">int</span> a&#xF1;o<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">,</span> <span class="token class-name">Escritor</span> autor<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// ... c&#xF3;digo omitido por brevedad.</span>
        <span class="token comment">// Nos quedamos con la referencia y en ning&#xFA;n caso deberemos hacer un copia de escritor. </span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>autor <span class="token operator">=</span> autor<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// ... c&#xF3;digo omitido por brevedad.</span>
        <span class="token comment">// Si tenemos constructor copia o m&#xE9;todo de clonado. </span>
        <span class="token comment">// Copiaremos la referencia al escritor y en ning&#xFA;n caso haremos </span>
        <span class="token comment">// copia en profundidad o llamaremos al constructor copia de escritor.. </span>
        autor <span class="token operator">=</span> l<span class="token punctuation">.</span>autor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Podemos a&#xF1;adir la informaci&#xF3;n del escritor a la descripci&#xF3;n del libro.</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Libro\n&quot;</span></span> <span class="token operator">+</span>
                <span class="token string">&quot;--------------------------\n&quot;</span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$&quot;T&#xED;tulo: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$&quot;A&#xF1;o: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">GetA&#xF1;<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$&quot;P&#xE1;ginas: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span><span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$&quot;Autor --------------------\n&quot;</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">autor<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><div style="page-break-after:always;"></div>
<p>En cuanto a la clase <strong><code>Escritor</code></strong> la &#xFA;nica modificaci&#xF3;n la deber&#xED;amos hacer en el m&#xE9;todo <strong><code>Escribe()</code></strong> que ahora debe pasar el escritor al constructor de <strong><code>Libro</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp line-numbers"><span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400</span><span class="token range operator">..</span><span class="token number">800</span><span class="token punctuation">;</span>
    <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// F&#xED;jate que ahora pasamos this que es la referencia impl&#xED;cita al objeto </span>
    <span class="token comment">// escritor que est&#xE1; escribiendo el libro.</span>
    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span>titulo<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Year<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Si implementamos y ejecutamos el siguiente c&#xF3;digo de test...</p>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp line-numbers"><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Escritor</span> e <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Escritor</span><span class="token punctuation">(</span><span class="token string">&quot;Mar&#xED;a&quot;</span><span class="token punctuation">,</span> <span class="token number">1980</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Libro</span> l1 <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token string">&quot;Programaci&#xF3;n en C#&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Libro</span> l2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span>l1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Console.WriteLine(l1.Descripcion());</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l2<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Libro</span> l3 <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token string">&quot;Programaci&#xF3;n en Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l2<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Console.WriteLine(l3.Descripcion());</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Al ejecutarlo obtendremos una salida similar a esta...</p>
<div class="code-chunk" data-id="code-chunk-id-0" data-cmd="bash"><div class="input-div"><pre data-role="codeBlock" data-info="bash {code_chunk_offset=0, cmd}" class="language-bash">Libro
--------------------------
T&#xED;tulo: Programaci&#xF3;n en C<span class="token comment">#</span>
A&#xF1;o: <span class="token number">2020</span>
P&#xE1;ginas: <span class="token number">517</span>
Autor --------------------
Nombre: Mar&#xED;a
Nacimiento: <span class="token number">1980</span>
Publicaciones: <span class="token number">1</span>

Libro
--------------------------
T&#xED;tulo: Programaci&#xF3;n en C<span class="token comment">#</span>
A&#xF1;o: <span class="token number">2020</span>
P&#xE1;ginas: <span class="token number">517</span>
Autor --------------------
Nombre: Mar&#xED;a
Nacimiento: <span class="token number">1980</span>
Publicaciones: <span class="token number">2</span>
</pre><div class="btn-group"><div class="run-btn btn"><span>&#x25B6;&#xFE0E;</span></div><div class="run-all-btn btn">all</div></div><div class="status">running...</div></div><div class="output-div"></div></div><p>Los tres objetos <strong><code>Libro</code></strong> <strong><code>l1</code></strong>, <strong><code>l2</code></strong> y <strong><code>l3</code></strong> referenciar&#xE1;n al mismo objeto <strong><code>Escritor</code></strong> <strong><code>e</code></strong>. Es m&#xE1;s, si te fijas en la salida, el escritor al ver la primera descripci&#xF3;n en <strong><code>l2</code></strong> solo ha publicado un libro y despu&#xE9;s de escribir el segundo libro la descripci&#xF3;n de <strong><code>l2</code></strong> mantiene la integridad referencial indic&#xE1;ndonos que ha publicado 2.</p>
<p align="center" style="zoom:0.4"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="681pt" height="446pt" viewBox="0.00 0.00 681.10 446.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 442)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-442 677.0954,-442 677.0954,4 -4,4"/>
<!-- le -->
<g id="node1" class="node">
<title>le</title>
<ellipse fill="none" stroke="#000000" cx="192.0954" cy="-420" rx="18" ry="18"/>
<text text-anchor="middle" x="192.0954" y="-415.8" font-family="Arial" font-size="14.00" fill="#000000">e</text>
</g>
<!-- oe -->
<g id="node8" class="node">
<title>oe</title>
<polygon fill="none" stroke="#000000" points="355.0954,-241 355.0954,-279 665.0954,-279 665.0954,-241 355.0954,-241"/>
<text text-anchor="start" x="365.7799" y="-255.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;e, l1::autor, l2::autor, l3::autor : Escritor &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="355.0954,-169 355.0954,-241 665.0954,-241 665.0954,-169 355.0954,-169"/>
<text text-anchor="start" x="452.8193" y="-217.4" font-family="Arial" font-size="14.00" fill="#000000">nombre = &quot;Mar&#xED;a&quot;</text>
<text text-anchor="start" x="504.2595" y="-200.6" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<text text-anchor="start" x="448.046" y="-183.8" font-family="Arial" font-size="14.00" fill="#000000">publicaciones = 2 &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- le&#45;&gt;oe -->
<g id="edge7" class="edge">
<title>le-&gt;oe</title>
<path fill="none" stroke="#000000" d="M210.3373,-418.5803C234.5022,-416.1077 277.9348,-409.5777 311.0954,-393 362.4066,-367.3484 411.6217,-325.754 448.2719,-290.2502"/>
<polygon fill="#000000" stroke="#000000" points="450.7368,-292.7351 455.4313,-283.2371 445.8384,-287.7345 450.7368,-292.7351"/>
</g>
<!-- l1 -->
<g id="node2" class="node">
<title>l1</title>
<ellipse fill="none" stroke="#000000" cx="18.5477" cy="-326" rx="18.5955" ry="18.5955"/>
<text text-anchor="middle" x="18.5477" y="-321.8" font-family="Arial" font-size="14.00" fill="#000000">l1</text>
</g>
<!-- ol1 -->
<g id="node5" class="node">
<title>ol1</title>
<polygon fill="none" stroke="#000000" points="87.0954,-342 87.0954,-380 297.0954,-380 297.0954,-342 87.0954,-342"/>
<text text-anchor="start" x="143.8591" y="-356.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;l1: Libro &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="87.0954,-272 87.0954,-342 297.0954,-342 297.0954,-272 87.0954,-272"/>
<text text-anchor="start" x="97.8607" y="-318.4" font-family="Arial" font-size="14.00" fill="#000000">titulo = &quot;Programaci&#xF3;n en C#&quot;</text>
<text text-anchor="start" x="274.4236" y="-302.4" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<text text-anchor="start" x="254.1964" y="-286.4" font-family="Arial" font-size="14.00" fill="#000000">autor</text>
</g>
<!-- l1&#45;&gt;ol1 -->
<g id="edge1" class="edge">
<title>l1-&gt;ol1</title>
<path fill="none" stroke="#000000" d="M37.1203,-326C45.745,-326 56.798,-326 69.0237,-326"/>
<polygon fill="#000000" stroke="#000000" points="69.0559,-329.5001 79.0559,-326 69.0558,-322.5001 69.0559,-329.5001"/>
</g>
<!-- l2 -->
<g id="node3" class="node">
<title>l2</title>
<ellipse fill="none" stroke="#000000" cx="18.5477" cy="-192" rx="18.5955" ry="18.5955"/>
<text text-anchor="middle" x="18.5477" y="-187.8" font-family="Arial" font-size="14.00" fill="#000000">l2</text>
</g>
<!-- ol2 -->
<g id="node6" class="node">
<title>ol2</title>
<polygon fill="none" stroke="#000000" points="87.0954,-208 87.0954,-246 297.0954,-246 297.0954,-208 87.0954,-208"/>
<text text-anchor="start" x="143.8591" y="-222.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;l2: Libro &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="87.0954,-138 87.0954,-208 297.0954,-208 297.0954,-138 87.0954,-138"/>
<text text-anchor="start" x="97.8607" y="-184.4" font-family="Arial" font-size="14.00" fill="#000000">titulo = &quot;Programaci&#xF3;n en C#&quot;</text>
<text text-anchor="start" x="274.4236" y="-168.4" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<text text-anchor="start" x="254.1964" y="-152.4" font-family="Arial" font-size="14.00" fill="#000000">autor</text>
</g>
<!-- l2&#45;&gt;ol2 -->
<g id="edge2" class="edge">
<title>l2-&gt;ol2</title>
<path fill="none" stroke="#000000" d="M37.1203,-192C45.745,-192 56.798,-192 69.0237,-192"/>
<polygon fill="#000000" stroke="#000000" points="69.0559,-195.5001 79.0559,-192 69.0558,-188.5001 69.0559,-195.5001"/>
</g>
<!-- l3 -->
<g id="node4" class="node">
<title>l3</title>
<ellipse fill="none" stroke="#000000" cx="18.5477" cy="-58" rx="18.5955" ry="18.5955"/>
<text text-anchor="middle" x="18.5477" y="-53.8" font-family="Arial" font-size="14.00" fill="#000000">l3</text>
</g>
<!-- ol3 -->
<g id="node7" class="node">
<title>ol3</title>
<polygon fill="none" stroke="#000000" points="81.0954,-74 81.0954,-112 303.0954,-112 303.0954,-74 81.0954,-74"/>
<text text-anchor="start" x="143.8591" y="-88.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;l3: Libro &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="81.0954,-4 81.0954,-74 303.0954,-74 303.0954,-4 81.0954,-4"/>
<text text-anchor="start" x="92.0227" y="-50.4" font-family="Arial" font-size="14.00" fill="#000000">titulo = &quot;Programaci&#xF3;n en Java&quot;</text>
<text text-anchor="start" x="280.4236" y="-34.4" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<text text-anchor="start" x="260.1964" y="-18.4" font-family="Arial" font-size="14.00" fill="#000000">autor</text>
</g>
<!-- l3&#45;&gt;ol3 -->
<g id="edge3" class="edge">
<title>l3-&gt;ol3</title>
<path fill="none" stroke="#000000" d="M37.1203,-58C44.2687,-58 53.0853,-58 62.8551,-58"/>
<polygon fill="#000000" stroke="#000000" points="62.9162,-61.5001 72.9162,-58 62.9162,-54.5001 62.9162,-61.5001"/>
</g>
<!-- ol1&#45;&gt;oe -->
<g id="edge4" class="edge">
<title>ol1:autor-&gt;oe</title>
<path fill="none" stroke="#000000" d="M286.0954,-291C305.1066,-291 324.6593,-288.7574 343.9188,-285.0928"/>
<polygon fill="#000000" stroke="#000000" points="344.8572,-288.4737 353.9592,-283.0511 343.4622,-281.614 344.8572,-288.4737"/>
</g>
<!-- ol2&#45;&gt;oe -->
<g id="edge5" class="edge">
<title>ol2:autor-&gt;oe</title>
<path fill="none" stroke="#000000" d="M286.0954,-157C305.1066,-157 324.6593,-159.2426 343.9188,-162.9072"/>
<polygon fill="#000000" stroke="#000000" points="343.4622,-166.386 353.9592,-164.9489 344.8572,-159.5263 343.4622,-166.386"/>
</g>
<!-- ol3&#45;&gt;oe -->
<g id="edge6" class="edge">
<title>ol3:autor-&gt;oe</title>
<path fill="none" stroke="#000000" d="M292.0954,-23C372.5641,-23 436.0414,-97.9382 473.2762,-156.3008"/>
<polygon fill="#000000" stroke="#000000" points="470.309,-158.1571 478.5783,-164.7805 476.2442,-154.446 470.309,-158.1571"/>
</g>
</g>
</svg>
</p><div style="page-break-after:always;"></div>
<h4 class="mume-header" id="ejemplo-de-composici%C3%B3n">Ejemplo de Composici&#xF3;n</h4>

<p>Vamos ampliar nuestro ejemplo con la clase <strong><code>Libro</code></strong> y vamos a crear una relaci&#xF3;n entre <strong><code>Libro</code></strong>  y la clase <strong><code>Isbn3</code></strong> y adem&#xE1;s la fecha de publicaci&#xF3;n va a ser un <strong><code>DateTime</code></strong>.<br>
En ambos casos se cumple con la m&#xE1;xima de que si desaparece el libro, deber&#xED;a desaparecer su ISBN (tipo referencia) y su fecha de publicaci&#xF3;n (tipo valor).</p>
<p>Una posible forma de expresarlo en UML es la siguiente.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="346.0884px" preserveAspectRatio="none" style="width:750px;height:346px;background:#FFFFFF;" version="1.1" viewBox="0 0 750 346" width="750.8503px" zoomAndPan="magnify"><defs><filter height="300%" id="firib8rw60w7i" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.7006802721088434"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.401360544217687" dy="3.401360544217687" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[99b31deea5d7419a569cd5090bf83263]
cluster System--><polygon fill="#F5F5F5" filter="url(#firib8rw60w7i)" points="125.8503,5.102,173.4694,5.102,179.4218,25.178,232.1429,25.178,232.1429,83.3333,125.8503,83.3333,125.8503,5.102" style="stroke:#000000;stroke-width:1.2755102040816326;"/><line style="stroke:#000000;stroke-width:1.2755102040816326;" x1="125.8503" x2="179.4218" y1="25.178" y2="25.178"/><text fill="#000000" font-family="sans-serif" font-size="11.9048" font-weight="bold" lengthAdjust="spacing" textLength="42.517" x="129.2517" y="19.1609">System</text><!--MD5=[20ddef7090025b04fb973268620c0974]
class DateTime--><rect codeline="57" fill="#FFFAFA" filter="url(#firib8rw60w7i)" height="34.173" id="DateTime" style="stroke:#000000;stroke-width:1.2755102040816326;" width="79.0816" x="139.4558" y="35.7143"/><ellipse cx="152.2109" cy="52.8008" fill="#FF7700" rx="9.3537" ry="9.3537" style="stroke:#000000;stroke-width:0.8503401360544217;"/><path d="M150.1249,55.6043 L150.1249,49.9442 Q149.6599,49.9309 149.434,49.7316 Q149.2214,49.5323 149.2214,49.2134 Q149.2214,48.8946 149.4473,48.6953 Q149.6732,48.496 150.1913,48.496 L153.2207,48.496 Q153.9249,48.496 154.6025,48.7617 Q155.2801,49.0141 155.692,49.426 Q155.9976,49.7316 156.3297,50.2631 Q156.6619,50.7813 156.8346,51.3127 Q157.0073,51.8309 157.0073,52.5882 L157.0073,53.2791 Q157.0073,54.1959 156.6885,54.9134 Q156.3829,55.6176 155.878,56.0693 Q155.3731,56.5078 154.9346,56.7203 Q154.2304,57.0525 153.1011,57.0525 L150.1913,57.0525 Q149.6732,57.0525 149.4473,56.8532 Q149.2214,56.6539 149.2214,56.3217 Q149.2214,56.0029 149.4473,55.8036 Q149.6732,55.6043 150.1249,55.6043 Z M151.5731,55.6043 L153.1144,55.6043 Q153.9647,55.6043 154.4032,55.3518 Q154.9745,55.033 155.2668,54.5413 Q155.5591,54.0365 155.5591,53.2393 L155.5591,52.5484 Q155.5591,51.8707 155.2934,51.3526 Q154.8815,50.5421 154.3633,50.2498 Q153.8584,49.9442 153.1011,49.9442 L151.5731,49.9442 L151.5731,55.6043 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="10.2041" font-style="italic" lengthAdjust="spacing" textLength="55.2721" x="162.415" y="50.5587">&#xAB;dataType&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="10.2041" lengthAdjust="spacing" textLength="45.9184" x="167.0918" y="63.3935">DateTime</text><!--MD5=[a48731e35e4efcfa96e52c126b9a7dad]
class Libro--><rect codeline="13" fill="#FFFAFA" filter="url(#firib8rw60w7i)" height="205.5299" id="Libro" style="stroke:#000000;stroke-width:1.2755102040816326;" width="346.0884" x="5.9524" y="99.4898"/><ellipse cx="163.4779" cy="113.0952" fill="#ADD1B2" rx="9.3537" ry="9.3537" style="stroke:#000000;stroke-width:0.8503401360544217;"/><path d="M165.8296,109.5876 Q165.9625,109.4016 166.1219,109.3086 Q166.2814,109.2156 166.4674,109.2156 Q166.7862,109.2156 166.9855,109.4414 Q167.1848,109.654 167.1848,110.1722 L167.1848,111.4078 Q167.1848,111.926 166.9855,112.1519 Q166.7862,112.3778 166.4674,112.3778 Q166.1751,112.3778 166.0023,112.205 Q165.8296,112.0456 165.7366,111.6071 Q165.6967,111.3016 165.5373,111.1421 Q165.2583,110.8232 164.7401,110.6372 Q164.2219,110.4512 163.6905,110.4512 Q163.0394,110.4512 162.4947,110.7302 Q161.9632,111.0092 161.5381,111.647 Q161.1262,112.2848 161.1262,113.1617 L161.1262,114.0917 Q161.1262,115.1414 161.8835,115.8456 Q162.6408,116.5365 163.9961,116.5365 Q164.7933,116.5365 165.3513,116.3239 Q165.6835,116.191 166.0422,115.819 Q166.2681,115.5931 166.3876,115.5267 Q166.5205,115.4602 166.6932,115.4602 Q166.9723,115.4602 167.1848,115.6861 Q167.4107,115.8987 167.4107,116.191 Q167.4107,116.4833 167.1184,116.8288 Q166.6932,117.3204 166.0156,117.5994 Q165.0989,117.9847 163.9961,117.9847 Q162.7073,117.9847 161.6842,117.4532 Q160.8472,117.0281 160.2625,116.1246 Q159.6779,115.2078 159.6779,114.1183 L159.6779,113.1351 Q159.6779,112.0057 160.1961,111.0358 Q160.7276,110.0526 161.6576,109.5344 Q162.5877,109.003 163.6373,109.003 Q164.2618,109.003 164.8065,109.1491 Q165.3646,109.282 165.8296,109.5876 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="10.2041" lengthAdjust="spacing" textLength="23.8095" x="180.9099" y="117.2705">Libro</text><line style="stroke:#000000;stroke-width:1.2755102040816326;" x1="6.8027" x2="351.1905" y1="126.7007" y2="126.7007"/><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="99.4898" x="11.0544" y="139.812">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" font-weight="bold" lengthAdjust="spacing" textLength="134.3537" x="11.0544" y="151.5773">- fecha : DateTime {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="99.4898" x="11.0544" y="163.3425">-paginas : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="79.932" x="11.0544" y="175.1078">-paginasLe&#xED;das : int</text><line style="stroke:#000000;stroke-width:1.2755102040816326;" x1="6.8027" x2="351.1905" y1="180.5644" y2="180.5644"/><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="90.1361" x="11.0544" y="193.6758">+Libro(in titulo : string,</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" font-weight="bold" lengthAdjust="spacing" textLength="88.4354" x="103.7415" y="193.6758">in fecha : DateTime</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="141.1565" x="192.1769" y="193.6758">, in paginas : int, in autor : Escritor,</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" font-weight="bold" lengthAdjust="spacing" textLength="7.6531" x="335.8844" y="193.6758">...</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="3.4014" x="343.5374" y="193.6758">)</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="78.2313" x="11.0544" y="205.441">+GetTitulo() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" font-weight="bold" lengthAdjust="spacing" textLength="109.6939" x="11.0544" y="217.2063">+ GetFecha() : DateTime</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="88.4354" x="11.0544" y="228.9715">+GetAutor() : Escritor</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="75.6803" x="11.0544" y="240.7368">+GetPaginas() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="102.8912" x="11.0544" y="252.502">+GetPaginasLeidas() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="166.6667" x="11.0544" y="264.2673">-SetPaginasLeidas(in paginas : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="105.4422" x="11.0544" y="276.0325">+Lee(int paginas : int) : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="94.3878" x="11.0544" y="287.7978">+PorcentajeLe&#xED;do() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="90.9864" x="11.0544" y="299.563">+Descripci&#xF3;n() : string</text><!--MD5=[86711dc2639f7c866c0f156bdfe53786]
class Escritor--><rect codeline="49" fill="#FFFAFA" filter="url(#firib8rw60w7i)" height="27.2109" id="Escritor" style="stroke:#000000;stroke-width:1.2755102040816326;" width="62.9252" x="539.5408" y="130.102"/><ellipse cx="552.2959" cy="143.7075" fill="#ADD1B2" rx="9.3537" ry="9.3537" style="stroke:#000000;stroke-width:0.8503401360544217;"/><path d="M554.6476,140.1998 Q554.7805,140.0138 554.9399,139.9208 Q555.0994,139.8278 555.2854,139.8278 Q555.6043,139.8278 555.8036,140.0537 Q556.0029,140.2663 556.0029,140.7844 L556.0029,142.0201 Q556.0029,142.5383 555.8036,142.7641 Q555.6043,142.99 555.2854,142.99 Q554.9931,142.99 554.8204,142.8173 Q554.6476,142.6578 554.5546,142.2194 Q554.5148,141.9138 554.3553,141.7544 Q554.0763,141.4355 553.5581,141.2495 Q553.04,141.0635 552.5085,141.0635 Q551.8575,141.0635 551.3127,141.3425 Q550.7813,141.6215 550.3561,142.2592 Q549.9442,142.897 549.9442,143.7739 L549.9442,144.704 Q549.9442,145.7536 550.7015,146.4578 Q551.4589,147.1487 552.8141,147.1487 Q553.6113,147.1487 554.1693,146.9361 Q554.5015,146.8033 554.8602,146.4312 Q555.0861,146.2054 555.2057,146.1389 Q555.3385,146.0725 555.5113,146.0725 Q555.7903,146.0725 556.0029,146.2984 Q556.2287,146.5109 556.2287,146.8033 Q556.2287,147.0956 555.9364,147.441 Q555.5113,147.9326 554.8337,148.2116 Q553.9169,148.5969 552.8141,148.5969 Q551.5253,148.5969 550.5022,148.0655 Q549.6652,147.6403 549.0806,146.7368 Q548.496,145.82 548.496,144.7305 L548.496,143.7473 Q548.496,142.618 549.0141,141.6481 Q549.5456,140.6649 550.4757,140.1467 Q551.4057,139.6152 552.4554,139.6152 Q553.0798,139.6152 553.6246,139.7614 Q554.1826,139.8942 554.6476,140.1998 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="10.2041" lengthAdjust="spacing" textLength="35.7143" x="564.2007" y="147.8828">Escritor</text><!--MD5=[607c379646cef37c27302f4c529b61dc]
class Isbn13--><rect codeline="32" fill="#FFFAFA" filter="url(#firib8rw60w7i)" height="146.7036" id="Isbn13" style="stroke:#000000;stroke-width:1.2755102040816326;" width="335.8844" x="403.0612" y="187.5"/><ellipse cx="551.233" cy="201.1054" fill="#ADD1B2" rx="9.3537" ry="9.3537" style="stroke:#000000;stroke-width:0.8503401360544217;"/><path d="M553.5847,197.5978 Q553.7176,197.4118 553.877,197.3188 Q554.0365,197.2258 554.2225,197.2258 Q554.5413,197.2258 554.7406,197.4516 Q554.9399,197.6642 554.9399,198.1824 L554.9399,199.418 Q554.9399,199.9362 554.7406,200.1621 Q554.5413,200.388 554.2225,200.388 Q553.9302,200.388 553.7574,200.2152 Q553.5847,200.0558 553.4917,199.6173 Q553.4518,199.3118 553.2924,199.1523 Q553.0134,198.8334 552.4952,198.6474 Q551.977,198.4614 551.4456,198.4614 Q550.7945,198.4614 550.2498,198.7404 Q549.7183,199.0195 549.2932,199.6572 Q548.8813,200.295 548.8813,201.1719 L548.8813,202.1019 Q548.8813,203.1516 549.6386,203.8558 Q550.3959,204.5467 551.7512,204.5467 Q552.5484,204.5467 553.1064,204.3341 Q553.4386,204.2012 553.7973,203.8292 Q554.0232,203.6033 554.1428,203.5369 Q554.2756,203.4705 554.4483,203.4705 Q554.7274,203.4705 554.9399,203.6963 Q555.1658,203.9089 555.1658,204.2012 Q555.1658,204.4935 554.8735,204.839 Q554.4483,205.3306 553.7707,205.6096 Q552.854,205.9949 551.7512,205.9949 Q550.4624,205.9949 549.4393,205.4634 Q548.6023,205.0383 548.0176,204.1348 Q547.433,203.218 547.433,202.1285 L547.433,201.1453 Q547.433,200.0159 547.9512,199.046 Q548.4827,198.0628 549.4127,197.5446 Q550.3428,197.0132 551.3924,197.0132 Q552.0169,197.0132 552.5616,197.1593 Q553.1197,197.2922 553.5847,197.5978 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="10.2041" lengthAdjust="spacing" textLength="32.3129" x="568.665" y="205.2807">Isbn13</text><line style="stroke:#000000;stroke-width:1.2755102040816326;" x1="403.9116" x2="738.0952" y1="214.7109" y2="214.7109"/><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="106.2925" x="408.1633" y="227.8222">-prefijo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="149.6599" x="408.1633" y="239.5875">-grupoDeRegistro : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="102.8912" x="408.1633" y="251.3527">-titular : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="126.7007" x="408.1633" y="263.118">-publicacion : string {readOnly}</text><line style="stroke:#000000;stroke-width:1.2755102040816326;" x1="403.9116" x2="738.0952" y1="268.5746" y2="268.5746"/><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="325.6803" x="408.1633" y="281.686">+Isbn13(in prefijo : int, in grupoDeRegistro : int, in titular : int, on publicacion : int)</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="106.2925" x="408.1633" y="293.4512">+Isbn13(in isbn13 : string)</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="100.3401" x="408.1633" y="305.2165">+Isbn13(in isbn : Isbn13)</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="90.9864" x="408.1633" y="316.9817">+DigitoDeControl() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3537" lengthAdjust="spacing" textLength="154.7619" x="408.1633" y="328.747">+ATexto(in separador : string) : string</text><!--MD5=[91435e4c2633804ce6612f621abb47ea]
reverse link Libro to Escritor--><path codeline="10" d="M363.4524,174.7789 C431.0714,164.6173 500.5612,154.1667 539.2602,148.3503 " fill="none" id="Libro-backto-Escritor" style="stroke:#000000;stroke-width:0.8503401360544217;"/><polygon fill="#FFFFFF" points="352.1769,176.4711,357.727,179.078,362.2681,174.9574,356.7179,172.3505,352.1769,176.4711" style="stroke:#000000;stroke-width:0.8503401360544217;"/><text fill="#000000" font-family="sans-serif" font-size="11.0544" lengthAdjust="spacing" textLength="5.9524" x="359.058" y="187.2109">1</text><text fill="#000000" font-family="sans-serif" font-size="11.0544" lengthAdjust="spacing" textLength="5.9524" x="526.6894" y="162.0361">1</text><!--MD5=[a09041bc2d7c6146515adf3623da726b]
reverse link Libro to Isbn13--><path codeline="11" d="M363.2568,229.949 C376.4796,231.9388 389.7789,233.9371 402.8997,235.9099 " fill="none" id="Libro-backto-Isbn13" style="stroke:#000000;stroke-width:0.8503401360544217;"/><polygon fill="#000000" points="352.1769,228.2908,356.7179,232.4114,362.2681,229.8045,357.727,225.6839,352.1769,228.2908" style="stroke:#000000;stroke-width:0.8503401360544217;"/><text fill="#000000" font-family="sans-serif" font-size="11.0544" lengthAdjust="spacing" textLength="5.9524" x="359.058" y="241.0549">1</text><text fill="#000000" font-family="sans-serif" font-size="11.0544" lengthAdjust="spacing" textLength="5.9524" x="390.2645" y="246.6826">1</text><!--MD5=[339534d7bc332bcb4af4dcf91acede09]
@startuml

left to right direction
scale 750 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

Libro "1" o- - "1" Escritor
Libro "1" *- - "1" Isbn13

class Libro
{
    - titulo : string {readOnly}
    **- fecha : DateTime {readOnly}**
    - paginas : int {readOnly}
    - paginasLeídas : int

    + Libro(in titulo : string, **in fecha : DateTime**, in paginas : int, in autor : Escritor, **...**)
    + GetTitulo() : string
    **+ GetFecha() : DateTime**
    + GetAutor() : Escritor
    + GetPaginas() : int
    + GetPaginasLeidas() : int
    - SetPaginasLeidas(in paginas : int) : void
    + Lee(int paginas : int) : int
    + PorcentajeLeído() : int
    + Descripción() : string
}

class Isbn13
{
    - prefijo : string {readOnly}
    - grupoDeRegistro : string {readOnly}
    - titular : string {readOnly}
    - publicacion : string {readOnly}

    + Isbn13(in prefijo : int, in grupoDeRegistro : int, in titular : int, on publicacion : int)
    + Isbn13(in isbn13 : string)
    + Isbn13(in isbn : Isbn13)
    + DigitoDeControl() : int
    + ATexto(in separador : string) : string
}


hide Escritor methods
hide Escritor attributes
class Escritor
{
}

package System
{
    hide DateTime methods
    hide DateTime attributes
    class DateTime <<(D,#FF7700) dataType>>
    {
    }
}
@enduml

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><p>F&#xED;jate que con DateTime no hace falta indicar la relaci&#xF3;n porque al ser un tipo valor, forzosamente ya es una composici&#xF3;n. Adem&#xE1;s, de esta relaci&#xF3;n tambi&#xE9;n <strong>se debe deducir</strong> que en la clase libro tendremos un campo nuevo que podemos denominar <strong>isbn</strong> y que ser&#xE1; de solo lectura.</p>
<p>Veamos los cambios que implicar&#xE1; esta relaci&#xF3;n en la implementaci&#xF3;n de nuestra clase <strong><code>Libro</code></strong>.</p>
<p>Lo mas l&#xF3;gico es que llegue el <strong>ISBN</strong> al constructor de <strong><code>Libro</code></strong>, puesto que no es <strong>responsabilidad</strong> del libro definirlo, sino m&#xE1;s bien de un posible objeto de tipo <strong><code>Editorial</code></strong> de existir el mismo.</p>
<blockquote>
<p>&#x270B; <strong>Importante:</strong> Deberemos asegurarnos que la <strong>referencia</strong> al objeto <strong><code>Isbn13</code></strong> que tenga nuestro objeto <strong><code>Libro</code></strong>, solo la tenga &#xE9;l y no est&#xE9; referenciado por nadie m&#xE1;s, como puede suceder con el <strong><code>Escritor</code></strong> por ser una agregaci&#xF3;n.<br>
De esta manera al ser &apos;<em>Destruido</em>&apos; el libro, el el objeto <strong><code>Isbn13</code></strong> dejar&#xE1; de estar referenciado y tambi&#xE9;n ser&#xE1; destruido por el GC.<br>
&#x1F441; F&#xED;jate que por esa misma raz&#xF3;n no definimos ning&#xFA;n <strong>accesor publico</strong> del tipo <strong><code>GetISBN() : Isbn13</code></strong>. Si lo hici&#xE9;ramos, este deber&#xED;a devolver una <strong>copia</strong>.<br>
<strong>&#xBF;Qu&#xE9; sentido tiene que haya un objeto isbn referenciado por alguien, si su libro asociado ya no existe?</strong></p>
<p align="center" style="zoom:1"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="384pt" height="269pt" viewBox="0.00 0.00 384.00 269.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 265)">
<title>G</title>
<!-- ll -->
<g id="node1" class="node">
<title>ll</title>
<ellipse fill="none" stroke="#000000" cx="18" cy="-113" rx="18" ry="18"/>
<text text-anchor="middle" x="18" y="-108.8" font-family="Arial" font-size="14.00" fill="#000000">l</text>
</g>
<!-- ol -->
<g id="node3" class="node">
<title>ol</title>
<polygon fill="none" stroke="#000000" points="81,-164 81,-202 191,-202 191,-164 81,-164"/>
<text text-anchor="start" x="91.655" y="-178.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;l: Libro &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#ee1289" points="92,-135 92,-153 180,-153 180,-135 92,-135"/>
<text text-anchor="start" x="105.6676" y="-139.4" font-family="Arial" font-size="14.00" fill="#000000">DateTime</text>
<polygon fill="none" stroke="#ee1289" points="92,-87 92,-135 148,-135 148,-87 92,-87"/>
<text text-anchor="start" x="102.8808" y="-106.8" font-family="Arial" font-size="14.00" fill="#cd1076">fecha</text>
<text text-anchor="start" x="158.1641" y="-122.4" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<text text-anchor="start" x="158.1641" y="-106.4" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<text text-anchor="start" x="158.1641" y="-90.4" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<polygon fill="none" stroke="#ee1289" points="91,-86 91,-154 181,-154 181,-86 91,-86"/>
<text text-anchor="start" x="149.101" y="-53.4" font-family="Arial" font-size="14.00" fill="#000000">autor</text>
<text text-anchor="start" x="155.3282" y="-37.4" font-family="Arial" font-size="14.00" fill="#cd1076">isbn</text>
<polygon fill="none" stroke="#000000" points="80,-23 80,-203 192,-203 192,-23 80,-23"/>
</g>
<!-- ll&#45;&gt;ol -->
<g id="edge1" class="edge">
<title>ll-&gt;ol</title>
<path fill="none" stroke="#000000" d="M36.1789,-113C43.472,-113 52.3974,-113 61.8817,-113"/>
<polygon fill="#000000" stroke="#000000" points="61.9227,-116.5001 71.9227,-113 61.9226,-109.5001 61.9227,-116.5001"/>
</g>
<!-- le -->
<g id="node2" class="node">
<title>le</title>
<ellipse fill="none" stroke="#000000" cx="136" cy="-243" rx="18" ry="18"/>
<text text-anchor="middle" x="136" y="-238.8" font-family="Arial" font-size="14.00" fill="#000000">e</text>
</g>
<!-- oa -->
<g id="node4" class="node">
<title>oa</title>
<polygon fill="none" stroke="#000000" points="244,-193 244,-231 368,-231 368,-193 244,-193"/>
<text text-anchor="start" x="254.6592" y="-207.4" font-family="Arial" font-size="14.00" fill="#000000">e, autor: Escritor</text>
<polygon fill="none" stroke="#000000" points="244,-155 244,-193 368,-193 368,-155 244,-155"/>
<text text-anchor="start" x="292.3829" y="-169.4" font-family="Arial" font-size="14.00" fill="#000000">... &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- le&#45;&gt;oa -->
<g id="edge4" class="edge">
<title>le-&gt;oa</title>
<path fill="none" stroke="#000000" d="M153.5527,-237.8374C171.0065,-232.704 199.0495,-224.456 226.3531,-216.4256"/>
<polygon fill="#000000" stroke="#000000" points="227.3552,-219.7791 235.9613,-213.5996 225.38,-213.0636 227.3552,-219.7791"/>
</g>
<!-- ol&#45;&gt;oa -->
<g id="edge2" class="edge">
<title>ol:autor-&gt;oa:w</title>
<path fill="none" stroke="#000000" d="M181,-58C241.9922,-58 179.4726,-177.6432 225.9908,-191.6639"/>
<polygon fill="#000000" stroke="#000000" points="225.6248,-195.146 236,-193 226.5511,-188.2075 225.6248,-195.146"/>
</g>
<!-- oi -->
<g id="node5" class="node">
<title>oi</title>
<polygon fill="none" stroke="#cd1076" points="258,-42 258,-80 355,-80 355,-42 258,-42"/>
<text text-anchor="start" x="268.763" y="-56.4" font-family="Arial" font-size="14.00" fill="#000000">isbn: Isbn13</text>
<polygon fill="none" stroke="#cd1076" points="258,-4 258,-42 355,-42 355,-4 258,-4"/>
<text text-anchor="start" x="292.8829" y="-18.4" font-family="Arial" font-size="14.00" fill="#000000">... &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- ol&#45;&gt;oi -->
<g id="edge3" class="edge">
<title>ol:isbn-&gt;oi:w</title>
<path fill="none" stroke="#cd1076" d="M181,-42C207.5625,-42 216.6155,-42 238.9375,-42"/>
<polygon fill="#cd1076" stroke="#cd1076" points="239,-45.5001 249,-42 239,-38.5001 239,-45.5001"/>
</g>
</g>
</svg>
</p></blockquote>
<div style="page-break-after:always;"></div>
<p>Sabiendo que nuestro libro debe ser el &#xFA;nico en referenciar el objeto ISBN. Una de las formas de abordarlo es la siguiente (Existen otras que veremos m&#xE1;s adelante al ver POO Avanzada):</p>
<p>Pasaremos los datos necesarios para construir un objeto ISBN al constructor de Libro (en nuestro caso una cadena con el isbn) y ser&#xE1; este quien lo cree. En el fondo esto es lo que sucede con un tipo valor como <strong><code>DateTime</code></strong> por su &apos;<em>naturaleza</em>&apos;.<br>
De esta manera, adem&#xE1;s, el objeto <strong><code>Isbn13</code></strong> que estoy creando desaparecer&#xE1; junto con el libro.</p>
<blockquote>
<p>&#x1F4CC; <strong>Nota:</strong> F&#xED;jate que con el <strong><code>Escritor</code></strong>, no sucede lo mismo.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp line-numbers"><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">DateTime</span> fecha<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Isbn13</span> isbn<span class="token punctuation">;</span>
    <span class="token comment">// ... c&#xF3;digo omitido por brevedad</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span><span class="token keyword keyword-in">in</span> <span class="token class-name">DateTime</span> fecha<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">,</span> <span class="token class-name">Escritor</span> autor<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>titulo <span class="token operator">=</span> titulo<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>fecha <span class="token operator">=</span> fecha<span class="token punctuation">;</span> <span class="token comment">// Aqu&#xED; estamos haciendo una copia por ser un tipo valor.</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>paginas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>autor <span class="token operator">=</span> autor<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>isbn <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Isbn13</span><span class="token punctuation">(</span>isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        titulo <span class="token operator">=</span> l<span class="token punctuation">.</span>titulo<span class="token punctuation">;</span>
        fecha <span class="token operator">=</span> l<span class="token punctuation">.</span>fecha<span class="token punctuation">;</span> <span class="token comment">// Aqu&#xED; estamos haciendo una copia por ser un tipo valor.</span>
        paginas <span class="token operator">=</span> l<span class="token punctuation">.</span>paginas<span class="token punctuation">;</span>
        autor <span class="token operator">=</span> l<span class="token punctuation">.</span>autor<span class="token punctuation">;</span>
        <span class="token comment">// En el constructor copia haremos una copia en profundidad. Duplicando el objeto </span>
        <span class="token comment">// referenciado por isbn, para que cada libro tenga el suyo y as&#xED; desaparezca con &#xE9;l.</span>
        isbn <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Isbn13</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>paginasLeidas<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$&quot;Libro\n&quot;</span></span> <span class="token operator">+</span> <span class="token string">&quot;--------------------------\n&quot;</span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$&quot;T&#xED;tulo: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$&quot;Fecha: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetFecha</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToShortTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$&quot;P&#xE1;ginas: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$&quot;ISBN: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">isbn<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$&quot;Autor --------------------\n&quot;</span></span> <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">autor<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n&quot;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Escritor</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... c&#xF3;digo omitido por brevedad</span>
    <span class="token comment">// Tampoco es responsabilidad del escritor crear el ISBN.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400</span><span class="token range operator">..</span><span class="token number">800</span><span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span>titulo<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">,</span> isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Programa</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Escritor</span> e <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Escritor</span><span class="token punctuation">(</span><span class="token string">&quot;Mar&#xED;a&quot;</span><span class="token punctuation">,</span> <span class="token number">1980</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Nos hemos asegurado que el libro l tenga su propia referencia al objeto isbn.</span>
        <span class="token comment">// Lo que hagamos con el objeto isbn referenciado en el main, ya no importa porque no afecta a l</span>
        <span class="token class-name">Libro</span> l <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token string">&quot;Programaci&#xF3;n en C#&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;9788420454665&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><div style="page-break-after:always;"></div>
<p>Es importente insistir en la gesti&#xF3;n de la memoria y por tanto deberemos tener en cuenta que en el bloque <strong><code>Main</code></strong> anterior:</p>
<ol>
<li>En el <strong>Stack</strong> tendremos dos referencias:
<ul>
<li><strong><code>e</code></strong> que apunta al objeto de tipo <strong><code>Escritor</code></strong> <strong><code>&quot;Mar&#xED;a&quot;</code></strong></li>
<li><strong><code>l</code></strong> que apunta al objeto de tipo <strong><code>Libro</code></strong> <strong><code>&quot;Programaci&#xF3;n en C#&quot;</code></strong></li>
</ul>
</li>
<li>En el <strong>Heap</strong> tendremos:
<ul>
<li>El objeto de tipo <strong><code>Escritor</code></strong> referenciado por <strong><code>e</code></strong> en el <strong>Stack</strong> y por el campo <strong><code>autor</code></strong> en el objeto de tipo <strong><code>Libro</code></strong>.</li>
<li>El objeto de tipo <strong><code>Isbn13</code></strong> creado <em>&apos;dentro del libro&apos;</em> y referenciado &#xFA;nicamente por el atrav&#xE9;s del campo <strong><code>isbn</code></strong>.</li>
<li>El objeto de tipo <strong><code>Libro</code></strong> que contiene el Tipo Valor <strong><code>DateTime</code></strong> por lo que este formar&#xE1; parte del propio objeto y no es una referencia a otro objeto en el Heap. Esto significa que ser&#xE1; destruido junto con el libro.</li>
</ul>
</li>
</ol>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="521pt" height="351pt" viewBox="0.00 0.00 521.00 351.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 347)">
<title>G</title>
<g id="clust2" class="cluster">
<title>cluster2</title>
<polygon fill="#b0c4de" stroke="#000000" points="322,-8 322,-335 470,-335 470,-8 322,-8"/>
<text text-anchor="middle" x="396" y="-318.4" font-family="Arial" font-size="14.00" fill="#000000">HEAP</text>
</g>
<g id="clust1" class="cluster">
<title>cluster1</title>
<polygon fill="#4682b4" stroke="#000000" points="82,-89 82,-254 228,-254 228,-89 82,-89"/>
<text text-anchor="middle" x="155" y="-237.4" font-family="Arial" font-size="14.00" fill="#ffffff">STACK</text>
</g>
<!-- stack -->
<g id="node1" class="node">
<title>stack</title>
<text text-anchor="start" x="119.9467" y="-183.8" font-family="Arial" font-size="14.00" fill="#ffffff">l</text>
<polygon fill="#6495ed" stroke="transparent" points="145,-159 145,-217 212,-217 212,-159 145,-159"/>
<polygon fill="none" stroke="#ffffff" points="145,-159 145,-217 212,-217 212,-159 145,-159"/>
<text text-anchor="start" x="165.6725" y="-183.4" font-family="Arial" font-size="14.00" fill="#ffffff">(ref)</text>
<text text-anchor="start" x="117.6087" y="-125.8" font-family="Arial" font-size="14.00" fill="#ffffff">e</text>
<polygon fill="#6495ed" stroke="transparent" points="145,-101 145,-159 212,-159 212,-101 145,-101"/>
<polygon fill="none" stroke="#ffffff" points="145,-101 145,-159 212,-159 212,-101 145,-101"/>
<text text-anchor="start" x="165.6725" y="-125.4" font-family="Arial" font-size="14.00" fill="#ffffff">(ref)</text>
</g>
<!-- heap -->
<g id="node2" class="node">
<title>heap</title>
<polygon fill="none" stroke="#000000" points="338,-260 338,-298 454,-298 454,-260 338,-260"/>
<text text-anchor="start" x="348.9376" y="-274.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Escritor &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="338,-222 338,-260 454,-260 454,-222 338,-222"/>
<text text-anchor="start" x="366.8205" y="-236.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;... &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="338,-184 338,-222 454,-222 454,-184 338,-184"/>
<text text-anchor="start" x="351.6459" y="-198.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Isbn13 &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="338,-146 338,-184 454,-184 454,-146 338,-146"/>
<text text-anchor="start" x="366.8205" y="-160.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;... &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="338,-20 338,-146 454,-146 454,-20 338,-20"/>
<polygon fill="none" stroke="#000000" points="349,-117 349,-135 443,-135 443,-117 349,-117"/>
<text text-anchor="start" x="365.6676" y="-121.4" font-family="Arial" font-size="14.00" fill="#000000">DateTime</text>
<polygon fill="none" stroke="#000000" points="349,-63 349,-117 398,-117 398,-63 349,-63"/>
<text text-anchor="start" x="356.3808" y="-85.8" font-family="Arial" font-size="14.00" fill="#000000">fecha</text>
<polygon fill="none" stroke="#000000" points="398,-99 398,-117 443,-117 443,-99 398,-99"/>
<text text-anchor="start" x="412.7174" y="-103.4" font-family="Arial" font-size="14.00" fill="#000000">dd</text>
<polygon fill="none" stroke="#000000" points="398,-81 398,-99 443,-99 443,-81 398,-81"/>
<text text-anchor="start" x="408.8394" y="-85.4" font-family="Arial" font-size="14.00" fill="#000000">mm</text>
<polygon fill="none" stroke="#000000" points="398,-63 398,-81 443,-81 443,-63 398,-63"/>
<text text-anchor="start" x="404.9348" y="-67.4" font-family="Arial" font-size="14.00" fill="#000000">aaaa</text>
<text text-anchor="start" x="381.5554" y="-50.4" font-family="Arial" font-size="14.00" fill="#000000">autor (ref)</text>
<text text-anchor="start" x="387.7826" y="-34.4" font-family="Arial" font-size="14.00" fill="#000000">isbn (ref)</text>
</g>
<!-- stack&#45;&gt;heap -->
<g id="edge2" class="edge">
<title>stack:e-&gt;heap:w</title>
<path fill="none" stroke="#000000" d="M212,-188C212,-188 302.5337,-112.5553 330.1181,-89.5682"/>
<polygon fill="#000000" stroke="#000000" points="332.5584,-92.0907 338,-83 328.0771,-86.7131 332.5584,-92.0907"/>
</g>
<!-- stack&#45;&gt;heap -->
<g id="edge3" class="edge">
<title>stack:e-&gt;heap:w</title>
<path fill="none" stroke="#000000" d="M212,-130C212,-130 305.0542,-240.0403 331.2257,-270.9891"/>
<polygon fill="#000000" stroke="#000000" points="328.8703,-273.6242 338,-279 334.2154,-269.1042 328.8703,-273.6242"/>
</g>
<!-- stack&#45;&gt;heap -->
<g id="edge6" class="edge">
<title>stack-&gt;heap</title>
<path fill="none" stroke="transparent" d="M227.9985,-159C256.9999,-159 290.3717,-159 319.6917,-159"/>
<polygon fill="transparent" stroke="transparent" points="312.0002,-162.5004 322,-159 311.9998,-155.5004 312.0002,-162.5004"/>
</g>
<!-- heap&#45;&gt;heap -->
<g id="edge4" class="edge">
<title>heap:e-&gt;heap:e</title>
<path fill="none" stroke="#000000" d="M443,-55C479,-46 513,-46 513,-167 513,-272.875 486.9688,-286.1094 463.7129,-281.7344"/>
<polygon fill="#000000" stroke="#000000" points="464.5743,-278.3409 454,-279 462.6774,-285.079 464.5743,-278.3409"/>
</g>
<!-- heap&#45;&gt;heap -->
<g id="edge5" class="edge">
<title>heap:e-&gt;heap:e</title>
<path fill="none" stroke="#4682b4" d="M443,-39C479,-30 513,-30 513,-121 513,-200.625 486.9688,-210.5781 463.7129,-205.793"/>
<polygon fill="#4682b4" stroke="#4682b4" points="464.5778,-202.3999 454,-203 462.6433,-209.1273 464.5778,-202.3999"/>
</g>
<!-- Cima\nPila -->
<g id="node3" class="node">
<title>Cima\nPila</title>
<text text-anchor="middle" x="27" y="-221.2" font-family="Arial" font-size="14.00" fill="#000000">Cima</text>
<text text-anchor="middle" x="27" y="-204.4" font-family="Arial" font-size="14.00" fill="#000000">Pila</text>
</g>
<!-- Cima\nPila&#45;&gt;stack -->
<g id="edge1" class="edge">
<title>Cima\nPila-&gt;stack:nw</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M54.0716,-217C79.7916,-217 117.0958,-217 134.8604,-217"/>
<polygon fill="#000000" stroke="#000000" points="135,-220.5001 145,-217 135,-213.5001 135,-220.5001"/>
</g>
</g>
</svg>
</p><p>Si te fijas en el diagrama que representa la disposici&#xF3;n de memoria que hemos comentado. La liberaci&#xF3;n de memoria seguir&#xE1; el siguiente proceso...</p>
<ol>
<li>Se desapilar&#xE1;n las referencias <strong><code>l</code></strong> y <strong><code>e</code></strong> por lo que:
<ul>
<li>El objeto de tipo <strong><code>Libro</code></strong> ya no estar&#xE1; referenciado por nadie y ser&#xE1; liberado en la siguiente pasada del <strong>GC</strong>.</li>
<li>El objeto de tipo <strong><code>Escritor</code></strong> a&#xFA;n seguir&#xE1; referenciado por el campo <strong><code>autor</code></strong> y no se liberar&#xE1;.</li>
</ul>
</li>
<li>Al liberarse El objeto de tipo <strong><code>Libro</code></strong>...
<ul>
<li>El campo <strong><code>fecha</code></strong> se liber&#xE1; con &#xE9;l al ser de tipo valor.</li>
<li>Los objetos de tipo <strong><code>Isbn13</code></strong> y <strong><code>Escritor</code></strong> dejar&#xE1; de estar referenciados y en la &apos;<em>siguiente</em>&apos; pasada del <strong><code>GC</code></strong> se liberar&#xE1;n.</li>
</ul>
</li>
</ol>

      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>