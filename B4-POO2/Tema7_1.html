<!DOCTYPE html><html><head>
      <title>Programación 1º DAM Tema 7 pate 1</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v19/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
.markdown-preview.markdown-preview .caso_estudio {
  background-color: #f5f5f5;
  border: 2px solid #969696;
  padding: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .ejercicio {
  background-color: #f5faf5;
  border: 2px solid #969b96;
  padding-left: 15px;
  padding-right: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.markdown-preview.markdown-preview .fondo {
  background: url(https://programacioniesbalmis.github.io/Imagenes/BannersMoodle/banner.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.markdown-preview.markdown-preview .cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.markdown-preview.markdown-preview .abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.markdown-preview.markdown-preview .cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.markdown-preview.markdown-preview .autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
.markdown-preview.markdown-preview .flotante {
  display: flex;
  justify-content: space-between;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: row;
  }
}
.markdown-preview.markdown-preview .flotante_izq {
  margin-right: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: auto;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: auto;
  }
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="tema-7-parte-1">Tema 7 parte 1 </h1>
<p>Descargar estos apuntes en <a href="./Tema7_1.pdf">pdf</a> o <a href="./Tema7_1.html">html</a></p>
<h2 id="índice">Índice </h2>

<div class="md-toc">
<div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">
          <a href="#índice" class="md-toc-link">
            <p>Índice</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">
          <a href="#repaso-tema-5" class="md-toc-link">
            <p>Repaso Tema 5</p>

          </a></div><details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#diseño-orientada-a-objetos-básico" class="md-toc-link"><p>Diseño Orientada a Objetos Básico</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#definición-de-operación-o-método" class="md-toc-link"><p>Definición de operación o método</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#tipos-de-métodos" class="md-toc-link">
            <p>Tipos de métodos</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#enfoque-de-los-métodos-desde-la-teoría-de-poo" class="md-toc-link">
            <p>Enfoque de los métodos desde la teoría de POO</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#definición-de-encapsulación" class="md-toc-link">
            <p>Definición de Encapsulación</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#definición-de-constructor-y-destructor" class="md-toc-link">
            <p>Definición de Constructor Y Destructor</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#definiendo-nuestra-primera-clase-a-través-de-csharp" class="md-toc-link"><p>Definiendo nuestra primera clase a través de CSharp</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#paso-1-definir-los-campos-atributos-en-poo-clásica" class="md-toc-link">
            <p>Paso 1: Definir los campos (atributos en POO clásica)</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#paso-2-definir-los-constructores--destructores-de-objetos" class="md-toc-link"><p>Paso 2: Definir los constructores / destructores de objetos</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#referencia-implícita-this" class="md-toc-link">
            <p>Referencia implícita this</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#constructor-por-defecto" class="md-toc-link">
            <p>Constructor por defecto</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#constructor-copia" class="md-toc-link">
            <p>Constructor copia</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#destructores" class="md-toc-link">
            <p>Destructor/es</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#paso-3-definir-los-accesores-y-mutadores-propiedades-en-csharp" class="md-toc-link"><p>Paso 3: Definir los accesores y mutadores (Propiedades en CSharp)</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#bulb-tips-de-diseño-de-getters-y-setters" class="md-toc-link">
            <p>💡 Tips de diseño de <em>'getters'</em> y <em>'setters'</em></p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#paso-4-definir-métodos-u-operaciones-de-la-clase" class="md-toc-link">
            <p>Paso 4: Definir métodos u operaciones de la clase</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#paso-5-crear-un-pequeño-test-para-nuestra-clase-opcional" class="md-toc-link">
            <p>Paso 5: Crear un pequeño test para nuestra clase (Opcional)</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#resumen-de-directrices-generales-de-definición-de-clases" class="md-toc-link">
            <p>Resumen de directrices generales de definición de clases</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#definiendo-tipos-y-objetos-valor" class="md-toc-link"><p>Definiendo tipos y objetos '<em>valor</em>'</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#un-poco-de-historia" class="md-toc-link">
            <p>Un poco de historia</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#bulb-tips-para-definir-un-value-object-usando-struct-o-tipos-valor" class="md-toc-link">
            <p>💡 Tips para definir un Value Object usando struct o tipos valor</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#definir-objetos-valor-a-través-de-csharp" class="md-toc-link"><p>Definir objetos valor a través de CSharp</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#creando-un-objeto-valor-como-un-tipo-valor" class="md-toc-link">
            <p>Creando un objeto valor como un tipo valor</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#definiendo-operaciones-inmutables-en-el-objeto-valor" class="md-toc-link">
            <p>Definiendo operaciones inmutables en el objeto valor</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#ejemplo-de-objeto-valor-definido-en-las-bcl-como-tipo-valor" class="md-toc-link"><p>Ejemplo de objeto valor definido en las BCL como tipo valor</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#formas-de-instanciar-objetos-valor-fecha" class="md-toc-link">
            <p>Formas de instanciar objetos valor fecha</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#operaciones-más-comunes-con-fechas" class="md-toc-link">
            <p>Operaciones más comunes con fechas</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#fechas-y-cadenas" class="md-toc-link">
            <p>Fechas y cadenas</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#qué-pasa-si-solo-queremos-guardar-la-hora-o-la-fecha" class="md-toc-link">
            <p>¿Qué pasa si solo queremos guardar la hora o la fecha?</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    <details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#roles-entre-clases" class="md-toc-link"><p>Roles entre clases</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#relaciones-todo-parte" class="md-toc-link"><p>Relaciones Todo-Parte</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#agregación-o-referencia" class="md-toc-link"><p>Agregación o referencia</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ventajas-de-la-agregación-1" class="md-toc-link">
            <p>Ventajas de la agregación 👍</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#desventajas-de-la-agregación--1" class="md-toc-link">
            <p>Desventajas de la agregación 👎</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#composición-o-subobjetos" class="md-toc-link"><p>Composición o subobjetos</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ventajas-de-la-composición-1" class="md-toc-link">
            <p>Ventajas de la composición 👍</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#desventajas-de-la-composición--1" class="md-toc-link">
            <p>Desventajas de la composición 👎</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ejemplo-de-agregación" class="md-toc-link">
            <p>Ejemplo de Agregación</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ejemplo-de-composición" class="md-toc-link">
            <p>Ejemplo de Composición</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    
</div>
<div style="page-break-after:always;"></div>
<h2 id="repaso-tema-5">Repaso Tema 5 </h2>
<p>Repasemos a través del siguiente diagrama las definiciones y conceptos iniciales de POO que vimos en el tema 5.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="318.5px" preserveAspectRatio="none" style="width:967px;height:318px;background:#FFFFFF;" version="1.1" viewBox="0 0 967 318" width="967.4px" zoomAndPan="magnify"><defs></defs><g><rect fill="#D3D3D3" height="54.8071" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="74.9" x="354.9" y="131.2107"></rect><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="53.9" x="365.4" y="150.903">Definiciones</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="34.3" x="375.2" y="162.172">Básicas</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="21.7" x="381.5" y="173.4411">POO</text><rect fill="#F5F5F5" height="54.8071" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="78.4" x="471.8" y="131.2107"></rect><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="31.5" x="495.25" y="150.903">CLASE</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="57.4" x="482.3" y="162.172">Definición de</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="30.1" x="495.95" y="173.4411">un tipo</text><rect fill="#FFFFFF" height="32.269" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="65.1" x="592.2" y="17.5"></rect><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="44.1" x="602.7" y="37.1923">NOMBRE</text><path d="M550.2,158.6143 L557.2,158.6143 C567.7,158.6143 574.7,33.6345 585.2,33.6345 L592.2,33.6345 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><rect fill="#FFFFFF" height="66.0762" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="206.5" x="592.2" y="70.769"></rect><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="55.3" x="667.8" y="90.4613">ATRIBUTOS</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="44.8" x="625.8" y="101.7304">Definen el</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="33.6" x="673.4" y="101.7304">estado</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="55.3" x="709.8" y="101.7304">de un objeto</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="185.5" x="602.7" y="112.9994">De ahora en adelante los denominaremos</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="119" x="613.2" y="124.2685">con la nomenclatura de C#</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="42.7" x="735" y="124.2685">CAMPOS</text><rect fill="#F0F8FF" height="54.8071" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="116.9" x="840.7" y="32.8655"></rect><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="12.6" x="875.7" y="52.5578">De</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="31.5" x="891.1" y="52.5578">CLASE</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="95.9" x="851.2" y="63.8268">No necesito un objeto</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="93.1" x="852.6" y="75.0958">para acceder a ellos.</text><path d="M798.7,103.8071 L805.7,103.8071 C816.2,103.8071 823.2,60.269 833.7,60.269 L840.7,60.269 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><rect fill="#F0F8FF" height="66.0762" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="118.3" x="840.7" y="108.6726"></rect><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="12.6" x="866.6" y="128.3649">De</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="51.1" x="882" y="128.3649">INSTANCIA</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="70" x="864.85" y="139.6339">Pertenecen a la</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="97.3" x="851.2" y="150.903">instáncia de un objeto</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="95.9" x="851.9" y="162.172">concreto en memoria.</text><path d="M798.7,103.8071 L805.7,103.8071 C816.2,103.8071 823.2,141.7107 833.7,141.7107 L840.7,141.7107 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><path d="M550.2,158.6143 L557.2,158.6143 C567.7,158.6143 574.7,103.8071 585.2,103.8071 L592.2,103.8071 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><rect fill="#FFFFFF" height="66.0762" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="206.5" x="592.2" y="157.8452"></rect><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="70.7" x="660.1" y="177.5375">OPERACIONES</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="49.7" x="623.35" y="188.8065">Cambian el</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="33.6" x="675.85" y="188.8065">estado</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="55.3" x="712.25" y="188.8065">de un objeto</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="185.5" x="602.7" y="200.0756">De ahora en adelante los denominaremos</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="119" x="609.7" y="211.3446">con la nomenclatura de C#</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="49.7" x="731.5" y="211.3446">MÉTODOS</text><path d="M550.2,158.6143 L557.2,158.6143 C567.7,158.6143 574.7,190.8833 585.2,190.8833 L592.2,190.8833 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><rect fill="#FFFFFF" height="54.8071" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="125.3" x="592.2" y="244.9214"></rect><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="32.9" x="638.4" y="264.6137">ROLES</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="49.7" x="602.7" y="275.8827">Definen las</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="51.8" x="655.2" y="275.8827">relaciones</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="72.1" x="618.8" y="287.1518">con otras clases</text><path d="M550.2,158.6143 L557.2,158.6143 C567.7,158.6143 574.7,272.325 585.2,272.325 L592.2,272.325 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><path d="M429.8,158.6143 L436.8,158.6143 C447.3,158.6143 454.3,158.6143 464.8,158.6143 L471.8,158.6143 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><rect fill="#F5F5F5" height="54.8071" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="103.6" x="209.3" y="131.2107"></rect><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="39.9" x="241.15" y="150.903">OBJETO</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="80.5" x="220.85" y="162.172">Instancia concreta</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="82.6" x="219.8" y="173.4411">del tipo de la clase</text><rect fill="#FFFFFF" height="54.8071" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="146.3" x="21" y="87.6726"></rect><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="46.9" x="70.7" y="107.3649">MUTABLE</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="46.9" x="52.5" y="118.6339">Cambia su</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="33.6" x="102.2" y="118.6339">estado</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="125.3" x="31.5" y="129.903">a través de las operaciones.</text><path d="M209.3,158.6143 L202.3,158.6143 C191.8,158.6143 184.8,115.0762 174.3,115.0762 L167.3,115.0762 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><rect fill="#FFFFFF" height="66.0762" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="160.3" x="7" y="163.4797"></rect><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="56.7" x="58.8" y="183.172">INMUTABLE</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="13.3" x="38.5" y="194.4411">No</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="44.8" x="54.6" y="194.4411">cambia su</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="33.6" x="102.2" y="194.4411">estado</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="139.3" x="17.5" y="205.7101">las operaciones sobre el mismo</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="123.2" x="25.55" y="216.9792">dan lugar a nuevos objetos.</text><path d="M209.3,158.6143 L202.3,158.6143 C191.8,158.6143 184.8,196.5178 174.3,196.5178 L167.3,196.5178 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><path d="M354.9,158.6143 L347.9,158.6143 C337.4,158.6143 330.4,158.6143 319.9,158.6143 L312.9,158.6143 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><!--SRC=[jLJ1Zjis4BthAmR89H4GrxlTj8KH196zsjHRsp9iRIvr3cDfucL3aGP9kTWK-O1-HeuzvnFyOtdKoiqcI8-z22HdvisRDwDvwGExq2XJDxnFjBmD52mvjRiDL2idLL3M9BvYBJGS_9maptsuq_8YwKCk5UySD_HNGZHJHYghhQEjvkeTNgwi2GjkX3AdMFSFQ_LUwEm2DsDhwIA9bbpNokpex5btdRFRANEw_MgTUez8rfbMEzE82LJX8wupZv7ibREjgITTzZzlLH1OFYGVakS_z7oJzFT7EfO5kdTlw5BUAgCg52T-OyR7ZrvLZ5EQBeiYJU4E_mx8D_QTlA4qdSooTPwc6tEAFNuoLCl6j8Q2sbk4f71R5FFn2dxzDIjNq_5DMQp_ZHH3ec4HI5zRE444GDZj7n9iz26-jOu9VboBPjH9sdgu6GlLsKbZmRIoXZH3GyXHQGujGe0qUHIfPlDbp1Wve0xMgfAjRYNM_R2IXIMqJBn2pnzGs3EmkAga5aSWef5-y1zOqyMwp1QJQHRnbkA2H4HG1xcDKSQ7uqTJAVwcIh2l74wnoWO5OJu6lMB5Cbzbascno3lD9jni5V__cisFVvV5vKarFAoAMVvLrpHxF3l0tyzDj4L46nmimFFYa_j_oAjQlZT3nVWwBuiOE8Kot0dJIm6rmBoRfCW9D3l4dipyfip6i_oB8EJR1tfi31DO78x_-FjWJtOlhYTwKdQwU023IOr2Ljz5-mQ0lDqwYIre56e1KpH4jpkEus5QEK3g-ruWrql1PkWNIhAClRYPp-WWpWEBpWRdm_EBmO-FozkMhcIBVvpEXwEBuMZuZ2PvIT7y97dyQZb3rjPLWZtaWrFRDgwY9yar7vXMhGcgaH4LUp7Nbx-T7YWt1-LijoAIwzVpBmu_NJmTgq1hSM12h-S9kigj3eYeR5mz8xefhvx-aipOx5hU0HlTd62h17Stedpz6G00]--></g></svg></p><h2 id="diseño-orientada-a-objetos-básico">Diseño Orientada a Objetos Básico </h2>
<p>Aunque en el <strong>Tema 5</strong> hablamos de las definiciones básicas, vamos a profundizar un poco más en algunos conceptos de la programación orientado a objetos para poder hacer nuestros <strong>diseños o modelos</strong> de forma correcta.</p>
<h3 id="definición-de-operación-o-método">Definición de operación o método </h3>
<ul>
<li>Definen el <strong>Comportamiento</strong> y las <strong>Operaciones</strong> que se pueden realizar con los objetos.</li>
<li>Permiten interactuar y relacionarse a los objetos.</li>
</ul>
<h4 id="tipos-de-métodos">Tipos de métodos </h4>
<ul>
<li><strong>Métodos de instancia o también (de objeto)</strong>
<ul>
<li>Necesito tener un objeto instanciado en memoria para acceder a ellos.</li>
<li>Pueden acceder tanto a atributos de <strong>instancia</strong> como de <strong>clase</strong>.</li>
<li>Pueden modificar el <strong>estado de un objeto</strong> concreto en memoria si este es mutable.</li>
</ul>
</li>
<li><strong>Métodos de clase o también estáticos</strong>
<ul>
<li>No necesito tener un objeto instanciado en memoria para acceder a ellos.</li>
<li>Solo pueden acceder a los atributos de clase (static) y no a los de instancia.</li>
</ul>
</li>
<li><strong>Métodos de acceso y actualización</strong>
<ul>
<li>También se les conoce como <strong>Accesores</strong> - <strong>Mutadores</strong> en general, <strong>Propiedades</strong> (C# y Kotlin) o <strong>Setters</strong> - <strong>Getters</strong> (Java).</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;"></div>
<h4 id="enfoque-de-los-métodos-desde-la-teoría-de-poo">Enfoque de los métodos desde la teoría de POO </h4>
<ul>
<li>
<p>En la teoría tradicional de la POO, los objetos se comunican entre ellos a través de un mecanismo de <strong>paso de mensajes</strong>. (<a href="https://en.wikipedia.org/wiki/Alan_Kay">Alan Kay</a>, <a href="https://en.wikipedia.org/wiki/Bertrand_Meyer">Bertrand Meyer</a>)</p>
</li>
<li>
<p>En el fondo cuando desde un método de un objeto de instancia llamamos o invocamos a un método de otro objetos, estaremos haciendo este paso de mensajes y por tanto comunicando ambos objetos.</p>
</li>
<li>
<p>Hay más formas de pasar estos mensajes, pero la más básica es esta.</p>
</li>
<li>
<p>Vamos a verlo a través de un ejemplo <em>'<strong>simplificado</strong>'</em> de código para entender el concepto <em>'<strong>abstracto</strong>'</em> de mensaje y comunicación entre objetos:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Persona</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> Mé<span class="token function">todoDeInstancia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Phone</span> tlf <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Phone</span><span class="token punctuation">(</span><span class="token string">"iPhone 12"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Mensaje 1</span>
        <span class="token comment">// Un objeto concreto de Persona (en el ejemplo 'María')</span>
        <span class="token comment">// Se comunica con e objetos tlf a través de un</span>
        <span class="token comment">// mensaje, esto és llamando a su método Enciende()</span>
        <span class="token comment">// Esto cambia el estado del objeto tlf a encendido.</span>
        tlf<span class="token punctuation">.</span><span class="token function">Enciende</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Mensaje 2</span>
        <span class="token comment">// María pasa el mensaje a tlf de que llame a un número </span>
        <span class="token comment">// cambiando su estado a llamando...</span>
        tlf<span class="token punctuation">.</span><span class="token function">Llama</span><span class="token punctuation">(</span><span class="token number">676345266</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ul>
<p></p><p align="center" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="628pt" height="116pt" viewBox="0.00 0.00 628.35 116.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-112 624.35,-112 624.35,4 -4,4"></polygon>
<!-- p -->
<g id="node1" class="node">
<title>p</title>
<polygon fill="none" stroke="black" points="8,-54 8,-92.8 192.04,-92.8 192.04,-54 8,-54"></polygon>
<text text-anchor="start" x="24.94" y="-69.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maría : Persona &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="8,-15.2 8,-54 192.04,-54 192.04,-15.2 8,-15.2"></polygon>
<text text-anchor="start" x="19" y="-30.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nombre = "María" &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- tlf -->
<g id="node2" class="node">
<title>tlf</title>
<polygon fill="none" stroke="black" points="408.81,-54 408.81,-92.8 612.35,-92.8 612.35,-54 408.81,-54"></polygon>
<text text-anchor="start" x="455.72" y="-69.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tlf : Phone &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="408.81,-15.2 408.81,-54 612.35,-54 612.35,-15.2 408.81,-15.2"></polygon>
<text text-anchor="start" x="419.81" y="-30.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Modelo = "iPhone 12" &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- p&#45;&gt;tlf -->
<g id="edge1" class="edge">
<title>p-&gt;tlf</title>
<path fill="none" stroke="black" d="M199.93,-36C199.93,-36 389.31,-36 389.31,-36"></path>
<polygon fill="black" stroke="black" points="389.31,-39.5 399.31,-36 389.31,-32.5 389.31,-39.5"></polygon>
<text text-anchor="start" x="240.4" y="-77.6" font-family="Arial" font-size="12.00">Mensaje1: </text>
<text text-anchor="start" x="299.1" y="-77.6" font-family="Arial" font-weight="bold" font-size="12.00">Enciende()</text>
</g>
<!-- p&#45;&gt;tlf -->
<g id="edge2" class="edge">
<title>p-&gt;tlf</title>
<path fill="none" stroke="black" d="M199.93,-72C199.93,-72 389.31,-72 389.31,-72"></path>
<polygon fill="black" stroke="black" points="389.31,-75.5 399.31,-72 389.31,-68.5 389.31,-75.5"></polygon>
<text text-anchor="start" x="218.04" y="-40.6" font-family="Arial" font-size="12.00">Mensaje2: </text>
<text text-anchor="start" x="276.74" y="-40.6" font-family="Arial" font-weight="bold" font-size="12.00">Llama( </text>
<text text-anchor="start" x="318.75" y="-40.6" font-family="Arial" font-weight="bold" font-size="12.00" fill="lightblue">676345266</text>
<text text-anchor="start" x="378.81" y="-40.6" font-family="Arial" font-weight="bold" font-size="12.00">)</text>
</g>
</g>
</svg>
</p><p></p>
<h3 id="definición-de-encapsulación">Definición de Encapsulación </h3>
<ul>
<li>En POO, se denomina encapsulación al la <strong>ocultación del estado</strong>, es decir, de los atributos, de un objeto. De tal manera que, solo se puede cambiar mediante las operaciones definidas para ese objeto o sus accesores - mutadores.</li>
<li>De esta forma el usuario de la clase solo interacciona con los objetos abstrayéndose de como están implementados (<strong>no sabe nada de la implementación</strong>).</li>
<li>Se evita que el usuario pueda cambiar su estado de maneras imprevistas e incontroladas.</li>
</ul>
<h3 id="definición-de-constructor-y-destructor">Definición de Constructor Y Destructor </h3>
<p>CONSTRUCTOR</p>
<ul>
<li>Método o métodos especiales que me servirán para instanciar e inicializar el estado de un objeto en memoria.</li>
<li>Toda clase debe tener al menos un constructor.</li>
</ul>
<p>DESTRUCTOR</p>
<ul>
<li>Un único método especial encargado de eliminar una instancia en memoria de un objeto.</li>
<li>En la gram mayoría de lenguajes OO modernos no hace falta definirlos y llamarlos, ya que de esta labor de eliminación de instancias de objetos en memoria, se encarga el denominado <em>'<strong>recolector de basura</strong>'</em> (GC), cuando un objeto ya no es referenciado por nadie.</li>
</ul>
<h2 id="definiendo-nuestra-primera-clase-a-través-de-csharp">Definiendo nuestra primera clase a través de CSharp </h2>
<p>Supongamos que queremos definir un tipo que represente libros.<br>
Una posible representación UML del mismo podría ser:</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="188.1px" preserveAspectRatio="none" style="width:314px;height:188px;background:#FFFFFF;" version="1.1" viewBox="0 0 314 188" width="314.1px" zoomAndPan="magnify"><defs></defs><g><!--class Libro--><g id="elem_Libro"><rect codeline="11" fill="#FFFAFA" height="169.9875" id="Libro" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="295.2" x="6.3" y="6.3"></rect><ellipse cx="135.675" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M138.1641,16.9875 Q138.3047,16.7906 138.4734,16.6922 Q138.6422,16.5938 138.8391,16.5938 Q139.1766,16.5938 139.3875,16.8328 Q139.5984,17.0578 139.5984,17.6063 L139.5984,18.9141 Q139.5984,19.4625 139.3875,19.7016 Q139.1766,19.9406 138.8391,19.9406 Q138.5297,19.9406 138.3469,19.7578 Q138.1641,19.5891 138.0656,19.125 Q138.0234,18.8016 137.8547,18.6328 Q137.5594,18.2953 137.0109,18.0984 Q136.4625,17.9016 135.9,17.9016 Q135.2109,17.9016 134.6344,18.1969 Q134.0719,18.4922 133.6219,19.1672 Q133.1859,19.8422 133.1859,20.7703 L133.1859,21.7547 Q133.1859,22.8656 133.9875,23.6109 Q134.7891,24.3422 136.2234,24.3422 Q137.0672,24.3422 137.6578,24.1172 Q138.0094,23.9766 138.3891,23.5828 Q138.6281,23.3438 138.7547,23.2734 Q138.8953,23.2031 139.0781,23.2031 Q139.3734,23.2031 139.5984,23.4422 Q139.8375,23.6672 139.8375,23.9766 Q139.8375,24.2859 139.5281,24.6516 Q139.0781,25.1719 138.3609,25.4672 Q137.3906,25.875 136.2234,25.875 Q134.8594,25.875 133.7766,25.3125 Q132.8906,24.8625 132.2719,23.9063 Q131.6531,22.9359 131.6531,21.7828 L131.6531,20.7422 Q131.6531,19.5469 132.2016,18.5203 Q132.7641,17.4797 133.7484,16.9313 Q134.7328,16.3688 135.8438,16.3688 Q136.5047,16.3688 137.0813,16.5234 Q137.6719,16.6641 138.1641,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="28.8" x="154.125" y="25.8557">Libro</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="300.6" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="138.6" x="11.7" y="51.7799">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="115.2" x="11.7" y="67.6283">-año : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="138.6" x="11.7" y="83.4768">-paginas : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="111.6" x="11.7" y="99.3252">-paginasLeídas : int</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="300.6" y1="105.6938" y2="105.6938"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="284.4" x="11.7" y="122.3736">+Libro(in titulo : string, in año : int, in paginas : int)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="148.5" x="11.7" y="138.2221">+Lee(int paginas : int) : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="133.2" x="11.7" y="154.0705">+PorcentajeLeído() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="125.1" x="11.7" y="169.9189">+Descripción() : string</text></g><!--SRC=[XOvDQiCm48NtEiKiNVf3j-qkJZU1G0DUTAt8KsTgPSQCP48RSgGkIe-GYrMs4x3JGhKHm_VntlFu6Y4AA5MR22KfkaZ29ZZh4Uxl7em9DN5ZrMx1UHl2B4QbTHjnuOGB-aZMI9cfocukNXHoRrqzGgjqsWhpz5KgBPU3zhAXYCLMQXovywuf5orH_muRX8keWcLdJByIbhHMCNi3wTr2fDXwWKS8QJnNi5UqvJFxzyD9iCUl3XF7twon5R4D_-0b7Z_BisLwTZsio8Wl1zmaQTJPdvEQgtC0OjQrJk6fP51MeWuvsZVi9qWsnKyOd5BZwFZDFHeMc8Fv0G00]--></g></svg></p><p>En la mayoría de lenguajes OO, para definir nuestra clase, seguiremos una plantilla similar a esta:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token operator">&lt;</span>NombreDeLaClase<span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token operator">&lt;</span>campos<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>constructor<span class="token operator">/</span>es<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>accesores<span class="token operator">/</span>mutadores<span class="token operator">&gt;</span><span class="token punctuation">(</span> o <span class="token operator">&lt;</span>propiedades en C#<span class="token operator">&gt;</span><span class="token punctuation">)</span>
    <span class="token operator">&lt;</span>métodos<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="paso-1-definir-los-campos-atributos-en-poo-clásica">Paso 1: Definir los campos (atributos en POO clásica) </h3>
<p>No deben ser accedidos desde fuera de clase. Para ello, antepondremos la cláusula <strong><code>private</code></strong> <strong>siempre</strong>.<br>
Fíjate que hemos marcado dos campos con la <a href="https://www.uml-diagrams.org/property.html">propiedad de atributo de clase</a> <strong><code>{readOnly}</code></strong> esto significa que, <strong>una vez creado el objeto</strong>, ya no se podrán modificar los valores de <strong>título</strong>, <strong>año</strong> y <strong>paginas</strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token comment">// &lt;campos&gt;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token keyword keyword-int">int</span> año<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginasLeidas<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="paso-2-definir-los-constructores--destructores-de-objetos">Paso 2: Definir los constructores / destructores de objetos </h3>
<p>En C# el método constructor tiene el mismo nombre que la clase y no lleva tipo de retorno (Es implícito).</p>
<blockquote>
<p>💡 <strong>Tip:</strong> Si justo después del nombre de la clase pulsamos <strong><code>Clrl+.</code></strong> en VSCode.<br>
El VSCode <strong>nos ofrecerá crear un constructor</strong> en la refactorización de código.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
  <span class="token comment">// &lt;campos&gt;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token keyword keyword-int">int</span> año<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginasLeidas<span class="token punctuation">;</span>

  <span class="token comment">// &lt;constructor/es&gt;</span>
  <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token keyword keyword-int">int</span> año<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>titulo <span class="token operator">=</span> titulo<span class="token punctuation">;</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>año <span class="token operator">=</span> año<span class="token punctuation">;</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>paginas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
      paginasLeidas <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// Al crear cualquier libro, llevaré leídas 0 páginas.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre><blockquote>
<p>✋ <strong>Importante:</strong> Fíjate que aunque hemos marcado <strong><code>titulo</code></strong> y <strong><code>año</code></strong> como <strong><code>readonly</code></strong> (solo lectura) los podemos asignar a un valor inicial en el constructor. Esta es la única vez que los podremos asignar. En el resto de métodos únicamente podremos acceder a su valor.</p>
</blockquote>
<h4 id="referencia-implícita-this">Referencia implícita this </h4>
<ul>
<li>
<p><strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/this">this</a></strong> es una <strong>referencia implícita</strong> a la instancia en memoria del objeto que en ese momento estamos creando o está accediendo a un método de la clase.</p>
</li>
<li>
<p>En este caso nos ayuda a <strong>diferenciar entre los identificadores</strong> de los campos y los parámetros de entrada del constructor.<br>
En el constructor el identificador <strong><code>año</code></strong> es del parámetro de entrada del mismo. Pero <strong><code>this.año</code></strong> es el campo año del objeto que estamos construyendo en ese momento.</p>
</li>
</ul>
<p align="center" style="zoom:0.9" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="476pt" height="188pt" viewBox="0.00 0.00 475.85 188.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-184 471.85,-184 471.85,4 -4,4"></polygon>
<!-- i -->
<g id="node1" class="node">
<title>i</title>
<text text-anchor="start" x="8" y="-157.8" font-family="Arial" font-size="14.00">Libro l = new Libro("La Biblia",-750, ...);</text>
</g>
<!-- o -->
<g id="node4" class="node">
<title>o</title>
<polygon fill="none" stroke="black" points="303,-111.6 303,-150.4 459.85,-150.4 459.85,-111.6 303,-111.6"></polygon>
<text text-anchor="start" x="335.13" y="-126.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l : Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="303,-47.6 303,-111.6 459.85,-111.6 459.85,-47.6 303,-47.6"></polygon>
<text text-anchor="start" x="314" y="-89" font-family="Arial" font-size="14.00" fill="#cd1076">this</text>
<text text-anchor="start" x="335.79" y="-89" font-family="Arial" font-size="14.00">.titulo = "La Biblia"</text>
<text text-anchor="start" x="314" y="-75" font-family="Arial" font-size="14.00" fill="#cd1076">this</text>
<text text-anchor="start" x="335.79" y="-75" font-family="Arial" font-size="14.00">.año = -750</text>
<text text-anchor="start" x="367.81" y="-61" font-family="Arial" font-size="14.00">... &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- i&#45;&gt;o -->
<g id="edge1" class="edge">
<title>i-&gt;o</title>
<path fill="none" stroke="none" d="M220.58,-144.04C233.52,-141.18 246.63,-138.13 259,-135 267.16,-132.94 275.58,-130.69 284.02,-128.36"></path>
<polygon fill="none" stroke="none" points="284.95,-131.73 293.63,-125.66 283.06,-124.99 284.95,-131.73"></polygon>
</g>
<!-- this -->
<g id="node2" class="node">
<title>this</title>
<ellipse fill="none" stroke="black" cx="129.5" cy="-99" rx="27" ry="27"></ellipse>
<text text-anchor="start" x="118.61" y="-94.8" font-family="Arial" font-size="14.00" fill="#cd1076">this</text>
</g>
<!-- this&#45;&gt;o -->
<g id="edge3" class="edge">
<title>this-&gt;o</title>
<path fill="none" stroke="black" d="M156.78,-99C186.87,-99 237.94,-99 283.68,-99"></path>
<polygon fill="black" stroke="black" points="283.67,-102.5 293.67,-99 283.67,-95.5 283.67,-102.5"></polygon>
</g>
<!-- l -->
<g id="node3" class="node">
<title>l</title>
<ellipse fill="none" stroke="black" cx="129.5" cy="-27" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="129.5" y="-22.8" font-family="Arial" font-size="14.00">l</text>
</g>
<!-- l&#45;&gt;o -->
<g id="edge2" class="edge">
<title>l-&gt;o</title>
<path fill="none" stroke="black" d="M155.65,-33.92C181.58,-41.09 223.16,-52.67 259,-63 267.25,-65.38 275.8,-67.87 284.38,-70.38"></path>
<polygon fill="black" stroke="black" points="283.19,-73.68 293.78,-73.14 285.17,-66.96 283.19,-73.68"></polygon>
</g>
</g>
</svg>
</p><h4 id="constructor-por-defecto">Constructor por defecto </h4>
<ul>
<li>
<p>Si no definimos ningún constructor, <strong>se define uno por defecto</strong> que nos permitirá crear instáncias de libro de la siguiente manera.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// El constructor por defecto, no recibe ningún parámetro que defina el estado inicial del objeto</span>
<span class="token class-name">Libro</span> l <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
</ul>
<div class="flotante" ,="" style="align-items: center;">
<div class="flotante_izq">
<ul>
<li>
<p>Sin embargo, si definimos un constructor concreto, <strong>dejará de estar disponible el constructor por defecto</strong>, a no ser que lo definamos explícitamente nosotros.</p>
<p>Sin embargo esto permitirá crear instancias del objeto libro a los valores default.</p>
</li>
</ul>
</div>
<div class="flotante_der">
<p align="center" style="zoom:0.9" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="266pt" height="144pt" viewBox="0.00 0.00 265.60 144.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 140)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-140 261.6,-140 261.6,4 -4,4"></polygon>
<!-- l -->
<g id="node1" class="node">
<title>l</title>
<ellipse fill="none" stroke="black" cx="27" cy="-68" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-63.8" font-family="Arial" font-size="14.00">l</text>
</g>
<!-- o -->
<g id="node2" class="node">
<title>o</title>
<polygon fill="none" stroke="black" points="98,-93.2 98,-132 249.6,-132 249.6,-93.2 98,-93.2"></polygon>
<text text-anchor="start" x="127.5" y="-108.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l : Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="98,-4 98,-93.2 249.6,-93.2 249.6,-4 98,-4"></polygon>
<text text-anchor="start" x="109" y="-69.6" font-family="Arial" font-size="14.00">titulo = null</text>
<text text-anchor="start" x="109" y="-52.8" font-family="Arial" font-size="14.00">año = 0</text>
<text text-anchor="start" x="109" y="-36" font-family="Arial" font-size="14.00">paginas = 0</text>
<text text-anchor="start" x="109" y="-19.2" font-family="Arial" font-size="14.00">paginasLeidas = 0 &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- l&#45;&gt;o -->
<g id="edge1" class="edge">
<title>l-&gt;o</title>
<path fill="none" stroke="black" d="M54.22,-68C61.5,-68 69.85,-68 78.67,-68"></path>
<polygon fill="black" stroke="black" points="78.53,-71.5 88.53,-68 78.53,-64.5 78.53,-71.5"></polygon>
</g>
</g>
</svg>
</p></div>
</div>
<blockquote>
<p>⚠️ <strong>Aviso</strong>: Estaríamos dando la oportunidad de <strong>crear objetos libro sin un estado apropiado</strong>. Por tanto, <strong>no es conveniente utilizar constructores por defecto</strong>, a no ser que por alguna razón específica, lo definamos nosotros explícitamente y dispongamos de otras formas de crear nuestro objetos.</p>
</blockquote>
<h4 id="constructor-copia">Constructor copia </h4>
<ul>
<li>
<p>Se trata de una <strong>aproximación</strong> inicial al <strong>clonado de objetos mutables</strong>.</p>
</li>
<li>
<p>Es un constructor <strong>optativo</strong>, que copiará el estado de una instancia de un objeto de la clase que lo define.</p>
</li>
<li>
<p>No tiene sentido su implementación en objetos inmutables.</p>
</li>
<li>
<p>En un principio vamos a implementarlo como un constructor más desde el punto de vista de POO tradicional o lenguajes como <a href="https://docs.microsoft.com/es-es/cpp/cpp/copy-constructors-and-copy-assignment-operators-cpp?view=vs-2019" target="_blank">C++</a>. Pero más adelante, veremos que para realizar copias en C# y en Java usaremos un método especial llamado <strong><code>Clone()</code></strong></p>
</li>
<li>
<p>Una posible implementación del mismo para nuestro ejemplo que podemos lleva a cualquier lenguaje OO puede ser....</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// Entra un objeto libro referencia do por l que querremos copiar.</span>
<span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// No usamos this porque no hay posibilidad de confusión.</span>
    titulo <span class="token operator">=</span> l<span class="token punctuation">.</span>titulo<span class="token punctuation">;</span>
    año <span class="token operator">=</span> l<span class="token punctuation">.</span>año<span class="token punctuation">;</span>
    paginas <span class="token operator">=</span> l<span class="token punctuation">.</span>paginas<span class="token punctuation">;</span>
    paginasLeidas <span class="token operator">=</span> l<span class="token punctuation">.</span>paginasLeidas<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>Recordemos del tema 5 que si hiciésemos el siguiente código...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Libro</span> l1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span><span class="token string">"Code Complete 2"</span><span class="token punctuation">,</span> <span class="token number">2004</span><span class="token punctuation">,</span> <span class="token number">960</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// l2 y l1 son el mismo objeto</span>
l2 <span class="token operator">=</span> l1<span class="token punctuation">;</span>

<span class="token comment">// l3 y l1 son objetos diferentes.</span>
l3 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span>l1<span class="token punctuation">)</span><span class="token punctuation">;</span>

l2<span class="token punctuation">.</span><span class="token function">Lee</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Modifica l2 y por ende l1 dejando leídas 10 páginas del libro.</span>
l3<span class="token punctuation">.</span><span class="token function">Lee</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Modifica l3 que es una copia en memoria de l1, no afectando por tanto al estado del objeto l1.</span>
</code></pre></li>
</ul>
<p></p><p align="center" style="zoom:0.6" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="629pt" height="178pt" viewBox="0.00 0.00 628.84 177.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 173.6)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-173.6 624.84,-173.6 624.84,4 -4,4"></polygon>
<!-- l1 -->
<g id="node1" class="node">
<title>l1</title>
<ellipse fill="none" stroke="black" cx="27" cy="-120.8" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-116.6" font-family="Arial" font-size="14.00">l1</text>
</g>
<!-- o1 -->
<g id="node2" class="node">
<title>o1</title>
<polygon fill="none" stroke="black" points="98,-126.8 98,-165.6 284.42,-165.6 284.42,-126.8 98,-126.8"></polygon>
<text text-anchor="start" x="131.69" y="-142" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l1, l2 : Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="98,-4 98,-126.8 284.42,-126.8 284.42,-4 98,-4"></polygon>
<text text-anchor="start" x="109" y="-86.4" font-family="Arial" font-size="14.00">titulo = "Code Complete 2"</text>
<text text-anchor="start" x="109" y="-69.6" font-family="Arial" font-size="14.00">año = 2004</text>
<text text-anchor="start" x="109" y="-52.8" font-family="Arial" font-size="14.00">paginas = 960</text>
<text text-anchor="start" x="109" y="-36" font-family="Arial" font-size="14.00">paginasLeidas = 10</text>
<text text-anchor="start" x="183.43" y="-19.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- l1&#45;&gt;o1 -->
<g id="edge1" class="edge">
<title>l1-&gt;o1</title>
<path fill="none" stroke="black" d="M53.7,-115.1C61.15,-113.44 69.79,-111.52 79.04,-109.47"></path>
<polygon fill="black" stroke="black" points="79.66,-112.92 88.67,-107.34 78.15,-106.09 79.66,-112.92"></polygon>
</g>
<!-- l3 -->
<g id="node4" class="node">
<title>l3</title>
<ellipse fill="none" stroke="black" cx="355.42" cy="-84.8" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="355.42" y="-80.6" font-family="Arial" font-size="14.00">l3</text>
</g>
<!-- o1&#45;&gt;l3 -->
<g id="edge3" class="edge">
<title>o1-&gt;l3</title>
<path fill="none" stroke="none" d="M292.17,-84.8C300.81,-84.8 309.15,-84.8 316.77,-84.8"></path>
<polygon fill="none" stroke="none" points="316.56,-88.3 326.56,-84.8 316.56,-81.3 316.56,-88.3"></polygon>
</g>
<!-- l2 -->
<g id="node3" class="node">
<title>l2</title>
<ellipse fill="none" stroke="black" cx="27" cy="-48.8" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-44.6" font-family="Arial" font-size="14.00">l2</text>
</g>
<!-- l2&#45;&gt;o1 -->
<g id="edge2" class="edge">
<title>l2-&gt;o1</title>
<path fill="none" stroke="black" d="M53.7,-54.5C61.15,-56.16 69.79,-58.08 79.04,-60.13"></path>
<polygon fill="black" stroke="black" points="78.15,-63.51 88.67,-62.26 79.66,-56.68 78.15,-63.51"></polygon>
</g>
<!-- o2 -->
<g id="node5" class="node">
<title>o2</title>
<polygon fill="none" stroke="black" points="426.42,-126.8 426.42,-165.6 612.84,-165.6 612.84,-126.8 426.42,-126.8"></polygon>
<text text-anchor="start" x="469.44" y="-142" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l3 : Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="426.42,-4 426.42,-126.8 612.84,-126.8 612.84,-4 426.42,-4"></polygon>
<text text-anchor="start" x="437.42" y="-86.4" font-family="Arial" font-size="14.00">titulo = "Code Complete 2"</text>
<text text-anchor="start" x="437.42" y="-69.6" font-family="Arial" font-size="14.00">año = 2004</text>
<text text-anchor="start" x="437.42" y="-52.8" font-family="Arial" font-size="14.00">paginas = 960</text>
<text text-anchor="start" x="437.42" y="-36" font-family="Arial" font-size="14.00">paginasLeidas = 25</text>
<text text-anchor="start" x="511.85" y="-19.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- l3&#45;&gt;o2 -->
<g id="edge4" class="edge">
<title>l3-&gt;o2</title>
<path fill="none" stroke="black" d="M382.84,-84.8C390.04,-84.8 398.31,-84.8 407.14,-84.8"></path>
<polygon fill="black" stroke="black" points="407.08,-88.3 417.08,-84.8 407.08,-81.3 407.08,-88.3"></polygon>
</g>
</g>
</svg>
</p><p></p>
<h4 id="destructores">Destructor/es </h4>
<ul>
<li>
<p>Cuando un objeto <strong>deja de ser referenciado</strong> por algún identificador, al cabo de tiempo es eliminado  de la memoria por el <strong>Recolector de Basura</strong> (Garbage Collector o GC).</p>
</li>
<li>
<p>Esta eliminación la hará llamando a su <strong>destructor por defecto</strong>, el cual nosotros podremos redefinir  de tal manera que deje el estado del objeto a unos valores que no permitan usarlo más.<br>
<strong>Nota</strong>: Si lo redefinimos, no le aplicaremos ningún modificador de acceso (public, private).</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token comment">// &lt;campos&gt;</span>
    <span class="token comment">// &lt;constructor/es&gt;</span>
    <span class="token comment">// &lt;destructor&gt;</span>
    <span class="token operator">~</span><span class="token function">Libro</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Los otros valores son readonly y no podemos modificarlos.</span>
        paginas <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span>MinValue<span class="token punctuation">;</span>
        paginasLeidas <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span>MinValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre><blockquote>
<p>✋ <strong>Importante:</strong> Este paso de definición de nuestra clase, nos lo saltaremos en todos los  <strong>lenguajes gestionados</strong>, esto es, que dispongan de un GC para la eliminación de objetos. Solo se definirá en lenguajes no gestionados como C++</p>
</blockquote>
</li>
</ul>
<h3 id="paso-3-definir-los-accesores-y-mutadores-propiedades-en-csharp">Paso 3: Definir los accesores y mutadores (Propiedades en CSharp) </h3>
<blockquote>
<p>📌 <strong>Nota:</strong> Usaremos en principio la forma de hacerlo de <strong>Java</strong>. Aunque más adelante veremos que en C# existe un <em>'<strong>Syntactic Sugar</strong>'</em> para definirlos y usarlos.</p>
<ul>
<li>Para el <strong>accesor</strong>, crearemos un método con el prefijo <strong><code>Get&lt;idCampo&gt;</code></strong> seguido del nombre del campo en PascalCasing por ser C#.</li>
<li>Para el <strong>mutador</strong>, crearemos un método con el prefijo <strong><code>Set&lt;idCampo&gt;</code></strong> seguido del nombre del campo en PascalCasing por ser C#.</li>
</ul>
</blockquote>
<h4 id="bulb-tips-de-diseño-de-getters-y-setters">💡 Tips de diseño de <em>'getters'</em> y <em>'setters'</em> </h4>
<ol>
<li>
<p>No tengo porqué definirlos <strong>todos</strong>, solo si los necesito o me los piden.</p>
</li>
<li>
<p>Si el campo es <strong><code>readonly</code></strong> solo podrá haber <strong>accesor</strong> (getter).</p>
</li>
<li>
<p>Los accesores (getters) llevarán el modificador <strong><code>public</code></strong> por defecto.</p>
</li>
<li>
<p>Los mutadores (setters) llevarán el modificador <strong><code>private</code></strong> por defecto para asegurar la encapsulación y solo serán <strong><code>public</code></strong> si fuese necesario, siempre y cuando nos aseguremos que el objeto queda en buen estado.</p>
</li>
<li>
<p>En lugar de usar directamente los campos dentro de los <strong>métodos</strong> y constructores, intentaremos usar los getters y setters definidos.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
  <span class="token comment">// &lt;campos&gt;</span>
  <span class="token comment">// &lt;constructor/es&gt;</span>
  <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token keyword keyword-int">int</span> año<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>titulo <span class="token operator">=</span> titulo<span class="token punctuation">;</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>año <span class="token operator">=</span> año<span class="token punctuation">;</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>paginas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
      <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token comment">// Constructor Copia. EN los lenguajes OO modernos se ha sustituido por </span>
      <span class="token comment">// un método especial denominado Clone o Copy, según en lenguaje. (Lo abordaremos más adelante)</span>
      titulo <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      año <span class="token operator">=</span> l<span class="token punctuation">.</span>GetAñ<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      paginas <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span><span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> <div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>  <span class="token comment">// &lt;accesores/mutadores&gt;</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> titulo<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-int">int</span> GetAñ<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> año<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> paginas<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> paginasLeidas<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      paginasLeidas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>      
<span class="token punctuation">}</span> 
</code></pre></li>
</ol>
<h3 id="paso-4-definir-métodos-u-operaciones-de-la-clase">Paso 4: Definir métodos u operaciones de la clase </h3>
<ul>
<li>
<p>Desde cualquier método de instáncia, podremos acceder a los campos y accesores/mutadores de la clase. Ya sea a través de <strong><code>this</code></strong> o '<em>inferido</em>' si no hay un parámetro formal con el mismo id.</p>
</li>
<li>
<p>Sin embargo, trataremos de usar los accesores/mutadores en lugar de los campos.<br>
Para nuestro ejemplo tendremos...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
  <span class="token comment">// &lt;campos&gt;</span>
  <span class="token comment">// &lt;constructor/es&gt;</span>
  <span class="token comment">// &lt;accesores/mutadores&gt;</span>

  <span class="token comment">// &lt;métodos&gt;</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">Lee</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>            
      <span class="token keyword keyword-int">int</span> leídas <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">Clamp</span><span class="token punctuation">(</span>paginas<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> leídas<span class="token punctuation">)</span><span class="token punctuation">;</span>            
      <span class="token keyword keyword-return">return</span> leídas<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">PorcentajeLeido</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt32</span><span class="token punctuation">(</span><span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100D</span> <span class="token operator">/</span>  <span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Título: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
              <span class="token interpolation-string"><span class="token string">$"Año: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">GetAñ<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span> 
              <span class="token interpolation-string"><span class="token string">$"Páginas: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre></li>
</ul>
<h3 id="paso-5-crear-un-pequeño-test-para-nuestra-clase-opcional">Paso 5: Crear un pequeño test para nuestra clase (Opcional) </h3>
<blockquote>
<p>📌 <strong>Nota:</strong> Más adelante veremos cómo crear nuestros test de forma más apropiada.</p>
</blockquote>
<p>En este caso, vamos a hacer un pequeño programa que cree una instancia de un objeto libro y posteriormente lo lea de 300 en 300 páginas.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// Creo el libro.</span>
<span class="token class-name">Libro</span> libro <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token string">"Code Complete 2"</span><span class="token punctuation">,</span> <span class="token number">2004</span><span class="token punctuation">,</span> <span class="token number">960</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Muestro la descripción de mi libro</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>libro<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Mientra pueda leer alguna página (máximo 300)</span>
<span class="token comment">// muestro las páginas leídas y el porcentaje de lo que llevo leído del libro.</span>
<span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> MAXIMO_PAGINAS_A_LEER <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> leídas<span class="token punctuation">;</span>
<span class="token keyword keyword-while">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>leídas <span class="token operator">=</span> libro<span class="token punctuation">.</span><span class="token function">Lee</span><span class="token punctuation">(</span>MAXIMO_PAGINAS_A_LEER<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Leídas: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">leídas</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">libro<span class="token punctuation">.</span><span class="token function">PorcentajeLeido</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">%"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="resumen-de-directrices-generales-de-definición-de-clases">Resumen de directrices generales de definición de clases </h3>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="138.4px" preserveAspectRatio="none" style="width:830px;height:138px;background:#FFFFFF;" version="1.1" viewBox="0 0 830 138" width="830.4px" zoomAndPan="magnify"><defs></defs><g><rect fill="#FFFFFF" height="97.5938" rx="10" ry="10" style="stroke:#000000;stroke-width:1.2000000000000002;" width="113.6" x="8" y="20"></rect><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="46.4" x="41.6" y="44.0063">PASO 1</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="36.8" x="46.4" y="58.725">Definir</text><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="48.8" x="40.4" y="73.4438">campos</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="48" x="40.8" y="88.1625">privados</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="89.6" x="20" y="102.8813">(Encapsulación)</text><rect fill="#FFFFFF" height="97.5938" rx="10" ry="10" style="stroke:#000000;stroke-width:1.2000000000000002;" width="112.8" x="169.6" y="20"></rect><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="46.4" x="202.8" y="44.0063">PASO 2</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="36.8" x="207.6" y="58.725">Definir</text><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="88.8" x="181.6" y="73.4438">constructor/es</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="69.6" x="191.2" y="88.1625">El destructor</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="88.8" x="181.6" y="102.8813">no es necesario</text><rect fill="#FFFFFF" height="97.5938" rx="10" ry="10" style="stroke:#000000;stroke-width:1.2000000000000002;" width="173.6" x="330.4" y="20"></rect><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="46.4" x="394" y="44.0063">PASO 3</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="36.8" x="398.8" y="58.725">Definir</text><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="63.2" x="360.8" y="73.4438">accesores</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="46.4" x="427.2" y="73.4438">públicos</text><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="65.6" x="358.8" y="88.1625">mutadores</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="48" x="427.6" y="88.1625">privados</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="149.6" x="342.4" y="102.8813">solo cuando sea necesario</text><rect fill="#FFFFFF" height="97.5938" rx="10" ry="10" style="stroke:#000000;stroke-width:1.2000000000000002;" width="106.4" x="552" y="20"></rect><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="46.4" x="582" y="44.0063">PASO 4</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="36.8" x="586.8" y="58.725">Definir</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="16" x="568.8" y="73.4438">los</text><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="53.6" x="588" y="73.4438">métodos</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="82.4" x="564" y="88.1625">sobre el objeto</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="80.8" x="564.8" y="102.8813">como públicos</text><rect fill="#FFFFFF" height="97.5938" rx="10" ry="10" style="stroke:#000000;stroke-width:1.2000000000000002;" width="114.4" x="706.4" y="20"></rect><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="46.4" x="740.4" y="44.0063">PASO 5</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="32" x="747.6" y="58.725">Crear</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="64.8" x="718.4" y="73.4438">un pequeño</text><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="22.4" x="786.4" y="73.4438">test</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="76" x="725.6" y="88.1625">para nuestros</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="52" x="737.6" y="102.8813">métodos.</text><path d="M658.4,68.7969 L666.4,68.7969 C678.4,68.7969 686.4,68.7969 698.4,68.7969 L706.4,68.7969 " fill="none" style="stroke:#000000;stroke-width:0.8000000000000002;"></path><path d="M504,68.7969 L512,68.7969 C524,68.7969 532,68.7969 544,68.7969 L552,68.7969 " fill="none" style="stroke:#000000;stroke-width:0.8000000000000002;"></path><path d="M282.4,68.7969 L290.4,68.7969 C302.4,68.7969 310.4,68.7969 322.4,68.7969 L330.4,68.7969 " fill="none" style="stroke:#000000;stroke-width:0.8000000000000002;"></path><path d="M121.6,68.7969 L129.6,68.7969 C141.6,68.7969 149.6,68.7969 161.6,68.7969 L169.6,68.7969 " fill="none" style="stroke:#000000;stroke-width:0.8000000000000002;"></path><!--SRC=[NLBDJXj13BxFK_W8An5220X5g092eA99YPh0AHTdrmtJpjhR-Gc2YWVgiUgjrxnOlTia22uZZR_vVkpnMOZeOscvAB4o9kJe2Dgj4sDEGtnozC6iiKkB2uyb_3G0GykKYnCFSuVvTwrS2SVFM1ASUujkNPZOPuA3Oxsn5DGm0SPO59ONS73KN4Ve5vOtju_YxRCoqPqxk-2IE4Ak1_a6lb2pQo-9YtxZ_lXW8odoObxCwVuwhyaWoyRdariuoB8PNz9NozRFECjoB2i9TR7oTec5X1dl33Z7AYJjmwx-yAx9jlJEUxfmY3xbKVm-DJ831mLjQZDc0GgWew60tefARRKEtsbXhe_4rp9GhVxEdSthD5bMfgZ1ri0sPT1s8K_8XK0WVEknDUc-CN4I52XNlw8K_xiEClS4v43ctoZAZ7CfvTM-qTgA7TMClYTKgSHGqOz4gz-YSDIMco6YroIf7a2TSUFKCkQCT6KsApLsoF5kD8Gb-M15_xhLQNUwhSETwKE2AvhhvqEdtUksU-qZw0-cKCExPkTwF8GWoUS4XLKJEqzH-Rlc1fS8Nn97Mr8FRYlYcyjFcm8CU6czDBjZRkv7hm-EktiNDiA4l2Q1-v7HKM5oKHcvr3lPWxlfrTw96I8l4YvKcuBfwxf5_zI3mUGV]--></g></svg></p><div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">If you're not failing 90% of the time, then you're probably not working on sufficiently challenging problems.</div>
        <div class="autor">- Alan Kay.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<div class="caso_estudio">
<p>🎓 <strong>Caso de estudio:</strong></p>
<p>Junto a la clase Libro anterior, vamos a modelar la clase <strong><code>Escritor</code></strong> suponiendo que un escritor tiene un <strong><code>nombre</code></strong>, un año de <strong><code>nacimiento</code></strong> y un número de <strong><code>publicaciones</code></strong>.<br>
Además del constructor y los accesores y mutadores para sus campos, vamos a definir el método descripción que me muestre sus datos y método <strong><code>Libro Escribe(string titulo)</code></strong> donde el escritor creará un libro con el título recibido de entre 400 y 800 páginas.<br>
<strong>Intenta modelarla e implementarla tu mismo, antes de ver la propuesta de solución</strong>.</p>
<p>Un posible modelado de la clase, podría ser el siguiente...</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="262px" preserveAspectRatio="none" style="width:327px;height:262px;" version="1.1" viewBox="0 0 327 262" width="327px" zoomAndPan="magnify"><defs></defs><g><!--class Escritor--><g id="elem_Escritor"><rect codeline="10" fill="#FFFAFA" height="241.7031" id="Escritor" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="306" x="7" y="7"></rect><ellipse cx="131.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M134.5156,18.875 Q134.6719,18.6563 134.8594,18.5469 Q135.0469,18.4375 135.2656,18.4375 Q135.6406,18.4375 135.875,18.7031 Q136.1094,18.9531 136.1094,19.5625 L136.1094,21.0156 Q136.1094,21.625 135.875,21.8906 Q135.6406,22.1563 135.2656,22.1563 Q134.9219,22.1563 134.7188,21.9531 Q134.5156,21.7656 134.4063,21.25 Q134.3594,20.8906 134.1719,20.7031 Q133.8438,20.3281 133.2344,20.1094 Q132.625,19.8906 132,19.8906 Q131.2344,19.8906 130.5938,20.2188 Q129.9688,20.5469 129.4688,21.2969 Q128.9844,22.0469 128.9844,23.0781 L128.9844,24.1719 Q128.9844,25.4063 129.875,26.2344 Q130.7656,27.0469 132.3594,27.0469 Q133.2969,27.0469 133.9531,26.7969 Q134.3438,26.6406 134.7656,26.2031 Q135.0313,25.9375 135.1719,25.8594 Q135.3281,25.7813 135.5313,25.7813 Q135.8594,25.7813 136.1094,26.0469 Q136.375,26.2969 136.375,26.6406 Q136.375,26.9844 136.0313,27.3906 Q135.5313,27.9688 134.7344,28.2969 Q133.6563,28.75 132.3594,28.75 Q130.8438,28.75 129.6406,28.125 Q128.6563,27.625 127.9688,26.5625 Q127.2813,25.4844 127.2813,24.2031 L127.2813,23.0469 Q127.2813,21.7188 127.8906,20.5781 Q128.5156,19.4219 129.6094,18.8125 Q130.7031,18.1875 131.9375,18.1875 Q132.6719,18.1875 133.3125,18.3594 Q133.9688,18.5156 134.5156,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="152.25" y="28.7285">Escritor</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="312" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="13" y="57.5332">-nombre : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="13" y="75.1426">-nacimiento : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="13" y="92.752">-publicaciones : int</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="312" y1="99.8281" y2="99.8281"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="294" x="13" y="118.3613">+Escritor(in nombre : string, in nacimiento : int)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="13" y="135.9707">+Escritor(in e : Escritor)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="13" y="153.5801">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="13" y="171.1895">+GetNacimiento() : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="13" y="188.7988">+GetPublicaciones() : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="13" y="206.4082">-SetPublicaciones(in publicaciones : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201" x="13" y="224.0176">+Escribe(in titulo : string) : Libro</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="13" y="241.627">+Descripción() : string</text></g><!--SRC=[RO_1JiCm38RlVGeVDy4apjosWT0a19EAn3bDJMSjZIV7PO9fJyKZy68a7Qj2MIvHydt-RJjyKr06eMQZK9EWLM9VX2tvdH7JWdKcXBcgKDKfhYpxaZuHRZ9bBiBx9JiMM3XZjnbQnwTfS16lHhZpzKbxtP1YsV8MCtUPEYrOQfJBOITX55LwtcVE6B-8yI4Yz5eK_Ivm7woGiXI70kAPWUUs4eHR275Bty11qDJFtdqSpuAnr5ACu2YHr__6hgiSsQYnnt2IYXvT3UqcvCUThY7zZSAd5-fIoVbzvW-eJttSP3e4PcX8xN6QPs3hVDW_U0Rb6CVk5vPBHUzCTJvhXKbMqixnC54I7waI_ZNlCAaxIzzVFX_yMFm0]--></g></svg></p><p>La implementación propuesta siguiendo los pasos y criterios descritos sería...<br>
<strong>Fíjate en la implementación y comentarios del método</strong> <strong><code>Libro Escribe(string titulo)</code></strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Escritor</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> nacimiento<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> publicaciones<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetNacimiento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> nacimiento<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> publicaciones<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> publicaciones<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicaciones <span class="token operator">=</span> publicaciones<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Escritor</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> nacimiento<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>nacimiento <span class="token operator">=</span> nacimiento<span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token comment">// Hemos definido un constructor copia para escritores, aunque aquí tendría menos sentido hacerlo. </span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Escritor</span><span class="token punctuation">(</span><span class="token class-name">Escritor</span> e<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        nombre <span class="token operator">=</span> e<span class="token punctuation">.</span>nombre<span class="token punctuation">;</span>
        nacimiento <span class="token operator">=</span> e<span class="token punctuation">.</span>nacimiento<span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>publicaciones<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-string">string</span> Descripció<span class="token function">n</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Nacimiento: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetNacimiento</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Publicaciones: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// A este tipo de objetos que sin ser constructores, devuelven una instáncia de un objeto</span>
    <span class="token comment">// se les denomina 'Métodos factoría'. </span>
    <span class="token comment">// En cierto modo tienes sentido, ya que un escritor produce libros.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Para establecer el rango de páginas de sus libros, hemos usado un nuevo tipo </span>
        <span class="token comment">// añadido en C#8 denominado rango (por ver posibilidades del lenguaje). </span>
        <span class="token comment">// Aunque podríamos haber definido símplemente 2 enteros.</span>
        <span class="token comment">// Este rango podría ser incluso un campo que defina una característica de nuestros</span>
        <span class="token comment">// objetos escritor.</span>
        <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400</span><span class="token range operator">..</span><span class="token number">800</span><span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Incremento el número de publicaciones del escritor.</span>
        <span class="token comment">// Creo un líbro, con el año actual y un número de páginas aleatoria en el rango.</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span>titulo<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Year<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div> <!-- fin caso de estudio -->
<h2 id="definiendo-tipos-y-objetos-valor">Definiendo tipos y objetos '<em>valor</em>' </h2>
<p>Ya hablamos en el <strong>tema 2.1</strong> la diferencia entre tipos valor y tipos referencia y la forma en que se gestionaban en la memoria. Además, en el <strong>tema 5</strong> vimos que todos los objetos, ya sean creados a través de nuestras propias clases o a través de las definidas en la BCL son <strong>tipos referencia</strong>. Pero, ¿Hay alguna forma de definir <strong>tipos valor</strong>?. La respuesta es <strong>SÍ</strong>. Utilizando la palabra reservada <strong><code>struct</code></strong>.</p>
<blockquote>
<p>📌 <strong>Nota:</strong> La palabra reservada <strong><code>struct</code></strong> viene de los antecesores de C# que son C y C++, pero en ellos su <a href="https://docs.microsoft.com/es-es/cpp/cpp/struct-cpp?view=vs-2019">interpretación</a> está más orientada a la definición de tipos compuestos heterogéneos.</p>
</blockquote>
<h3 id="un-poco-de-historia">Un poco de historia </h3>
<p>A principios de la década del 2000 cuando <a href="https://es.wikipedia.org/wiki/Anders_Hejlsberg">Anders Hejlsberg</a> definió el lenguaje, siguiendo la estela de Java. En ese momento, todos los tipos debían ser tratados como objetos en memoria y por tanto los tipos básicos como por ejemplo <code>int</code> también eran objetos. Pero, si todas las clases definen tipos referencia. ¿Cómo hacer que estos tipos básicos fueran objetos valor?.</p>
<p>Por ese motivo se incluyó la palabra reservada <code>struct</code> que permitía definir tipos como <code>class</code> pero con ciertas restricciones. Además, estos tipos serían valor. Por ejemplo, si nos fijamos <code>int</code> es una alias para el tipo <code>System.Int32</code> y si nos fijamos en su <a href="https://docs.microsoft.com/es-es/dotnet/api/system.int32">definición</a>, este es un <code>struct</code>.</p>
<p>En diseño orientado a objetos a través de diagramas UML también se les conoce como <a href="https://www.uml-diagrams.org/data-type.html">Data Type</a>.</p>
<p>En la POO moderna, la aproximación para el uso de estructuras que más consenso produce, es la definición de <a href="https://martinfowler.com/bliki/ValueObject.html">Value Object</a> que <a href="https://es.wikipedia.org/wiki/Martin_Fowler">Martin Fowler</a> da sobre los mismos. Las características que deberían tener los tipos para definirlos a través <code>struct</code> según Martin la describiremos a continuación.</p>
<p>Llegados a este punto, podemos tener algo de confusión y preguntarnos.</p>
<p>¿Es lo mismo un <strong>value type</strong> que un <strong>value object</strong>?, ¿Son sinónimos?</p>
<p>La respuesta es <strong>NO</strong>. Podemos resumir lo siguiente...</p>
<div class="caso_estudio">
<p>📣 <strong>Resumen:</strong></p>
<ul>
<li>
<p>Un <strong>Value Type</strong> (tipo valor <a href="https://en.wikipedia.org/wiki/Value_type_and_reference_type">ver wikipedia</a>) son un tipo de '<em>objetos</em>' cuyas instancias se guardan directamente en el <em><strong>Stack</strong></em> en lugar de <em><strong>Heap</strong></em> y tener solo una referencia en el <em><strong>Stack</strong></em> como vimos en los primeros temas. Por tanto, todos los tipos valor son <strong>struct</strong> como hemos visto con <strong><code>int</code></strong> que es un tipo valor básico.</p>
</li>
<li>
<p>Un <strong>Value Object</strong> (objecto valor <a href="https://en.wikipedia.org/wiki/Value_object">ver wikipedia</a>) serán casos muy puntuales y se representarán por una <strong><code>record</code></strong>, <strong><code>class</code></strong> o <strong><code>struct</code></strong> cuyas características son muy específicas y pueden representarse con el tipo valor <strong><code>struct</code></strong> en C#, aunque no es estrictamente necesario. De hecho <a href="https://learn.microsoft.com/es-es/dotnet/csharp/whats-new/csharp-9#record-types">C# 9</a> introdujo el tipo <strong><code>record</code></strong> para representar los <strong>Value Objects</strong> de forma más concreta mediante tipos referencia en lugar de valor. Para saber más sobre estos últimos, puedes ver el <a href="https://learn.microsoft.com/es-es/dotnet/csharp/whats-new/tutorials/records#characteristics-of-records">siguiente enlace</a>.</p>
</li>
</ul>
</div> <!-- fin caso de estudio -->
<h3 id="bulb-tips-para-definir-un-value-object-usando-struct-o-tipos-valor">💡 Tips para definir un Value Object usando struct o tipos valor </h3>
<p>Veamos como definir nuestros <strong>Value Objects</strong> con un tipos valor o <strong><code>struct</code></strong> siguiendo las siguientes especificaciones.</p>
<ul>
<li>
<p>Al almacenarse en el <strong>Stack</strong> o Pila, no deberían de superar los <strong>16 bytes</strong> de tamaño por motivos de eficiencia en la lecturas y copias. Si ocupan más, nuestros programas se pueden ralentizar demasiado y podremos desbordar la pila que recordemos que tiene un tamaño menor al Heap.</p>
</li>
<li>
<p>Deberían ser <strong>inmutables</strong>, esto es, cualquier operación sobre un objeto <strong><code>struct</code></strong> debería producir un nuevo objeto <strong><code>struct</code></strong>.</p>
</li>
<li>
<p>Sus campos, a su vez, serán tipos inmutables.</p>
</li>
<li>
<p>No deberían tener ningún campo marcado como <strong><code>{id}</code></strong> que haga a los objetos únicos.</p>
</li>
<li>
<p><strong>Los objetos representan entidades completamente intercambiables</strong>. Por ejemplo...</p>
<ul>
<li>Un objeto <strong><code>billete de 5€</code></strong> es intercambiable por otro <strong><code>billete de 5€</code></strong>. Sigo teniendo la misma cosa. El mismo <em>'valor'</em>.</li>
<li>Un objeto naipe con el <strong><code>7 de picas</code></strong> es intercambiable por otro <strong><code>7 de picas</code></strong>. Puedo intercambiarlo por otra carta igual y además es inmutable porque si cambiara su valor sería otra carta completamente diferente.</li>
<li>Un objeto IP con el valor <strong><code>192.168.0.1</code></strong> es intercambiable por otro <strong><code>192.168.0.1</code></strong>.</li>
<li>Una objeto coordenada de la consola con los valores <strong><code>X (columna) = 40</code></strong> y <strong><code>Y (fila) = 10</code></strong> es intercambiable con otro objetos con los mismos valores.</li>
<li>Un objeto Fecha <strong><code>21/03/2030</code></strong> es intercambiable por otro objeto fecha idéntico. Seguiría teniendo el mismo valor.</li>
</ul>
</li>
<li>
<p>En todos los casos de ejemplo fíjate que la composición son tipos valor simples que no ocupan mucho en memoria.</p>
</li>
</ul>
<blockquote>
<p>📌 <strong>Nota:</strong> Con tantas restricciones <strong>su uso será poco común</strong>.</p>
</blockquote>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">Certainly not every good program is object-oriented, and not every object-oriented program is good.</div>
        <div class="autor">- Bjarne Stroustrup (C++ creator)</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<h3 id="definir-objetos-valor-a-través-de-csharp">Definir objetos valor a través de CSharp </h3>
<div class="flotante" ,="" style="align-items: top;">
<div class="flotante_izq">
<p>Vamos a definir un tipo valor denominado <strong><code>Punto2D</code></strong> que contendrá 2 campos que serán las coordenadas <strong><code>x</code></strong> e <strong><code>y</code></strong> respectivas al punto.</p>
<p>Si la definiéramos en <a href="https://www.uml-diagrams.org/data-type.html">UML</a> usaríamos el estereotipo <strong><code>&lt;&lt;dataType&gt;&gt;</code></strong> de una forma similar a esta...</p>
</div>
<div class="flotante_der">
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="106px" preserveAspectRatio="none" style="width:177px;height:106px;background:#FFFFFF;" version="1.1" viewBox="0 0 177 106" width="177px" zoomAndPan="magnify"><defs></defs><g><!--class Punto2D--><g id="elem_Punto2D"><rect codeline="10" fill="#FFFAFA" height="85.9219" id="Punto2D" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="156" x="7" y="7"></rect><ellipse cx="50.35" cy="28.3516" fill="#FF7700" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M47.8969,31.6484 L47.8969,24.9922 Q47.35,24.9766 47.0844,24.7422 Q46.8344,24.5078 46.8344,24.1328 Q46.8344,23.7578 47.1,23.5234 Q47.3656,23.2891 47.975,23.2891 L51.5375,23.2891 Q52.3656,23.2891 53.1625,23.6016 Q53.9594,23.8984 54.4438,24.3828 Q54.8031,24.7422 55.1938,25.3672 Q55.5844,25.9766 55.7875,26.6016 Q55.9906,27.2109 55.9906,28.1016 L55.9906,28.9141 Q55.9906,29.9922 55.6156,30.8359 Q55.2563,31.6641 54.6625,32.1953 Q54.0688,32.7109 53.5531,32.9609 Q52.725,33.3516 51.3969,33.3516 L47.975,33.3516 Q47.3656,33.3516 47.1,33.1172 Q46.8344,32.8828 46.8344,32.4922 Q46.8344,32.1172 47.1,31.8828 Q47.3656,31.6484 47.8969,31.6484 Z M49.6,31.6484 L51.4125,31.6484 Q52.4125,31.6484 52.9281,31.3516 Q53.6,30.9766 53.9438,30.3984 Q54.2875,29.8047 54.2875,28.8672 L54.2875,28.0547 Q54.2875,27.2578 53.975,26.6484 Q53.4906,25.6953 52.8813,25.3516 Q52.2875,24.9922 51.3969,24.9922 L49.6,24.9922 L49.6,31.6484 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="68.65" y="24.457">«dataType»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="73.65" y="41.627">Punto2D</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="162" y1="49.7031" y2="49.7031"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="13" y="68.2363">+X : double {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="13" y="85.8457">+Y : double {readOnly}</text></g><!--SRC=[ROwn2i9038RtUug0Yw93SH6a5AmYE2bKKCThBxP7hnT9KqJ5TxTQXo9c2U7x-FCxF0i80Tky432MCHDBNgcwjFwYMLUGELtN2n6sQIEuoSWdzeuGz9G5CrsNv8WXTZehUsZNdZh7k5qvK-DDfnqAAvXKL6BFNRu_nSG6-NzO9_n49PwkIXNM85Ge1PbQVIh3hl52qnM4uN0r6QpNiraGZC1eqVlR1QD8FHIqCuOZpC5Gapg41wCsM-zkpoyx_MNF5m00]--></g></svg></p></div>
</div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-struct">struct</span> <span class="token class-name">Punto2D</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> X<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> Y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>En lugar de usar el palabra reservada <strong><code>class</code></strong>, hemos usado <strong><code>struct</code></strong>. Además, como queremos que sea <strong>inmutable</strong>, los campos los hemos definido <strong><code>readonly</code></strong> y como una vez definidos ya no podremos modificarlos, los hemos definido cómo públicos para que desde fuera se pueda consultar su valor.</p>
<h4 id="creando-un-objeto-valor-como-un-tipo-valor">Creando un objeto valor como un tipo valor </h4>
<p>La forma más simple, es hacerlo de forma análoga a cómo declarábamos un entero (recordemos que en el fondo un int es un struct).</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Punto2D</span> p<span class="token punctuation">;</span>
</code></pre><p>Recuerda que nada más declarar <strong><code>Punto2D p;</code></strong>, como sucede cuando declaramos un entero, ya tendremos una instancia valor de nuestro punto con los valores por defecto para <strong><code>double</code></strong> que es <strong><code>0.0d</code></strong> en el <strong>Stack</strong> (Pila) y se eliminará de la pila al cerrarse el ámbito donde se declaró la variable,</p>
<p align="center" style="zoom:0.7" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="821pt" height="149pt" viewBox="0.00 0.00 820.77 149.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 145)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-145 816.77,-145 816.77,4 -4,4"></polygon>
<g id="clust1" class="cluster">
<title>cluster1</title>
<polygon fill="SteelBlue" stroke="black" points="83,-8 83,-133 257.33,-133 257.33,-8 83,-8"></polygon>
<text text-anchor="middle" x="170.16" y="-116.4" font-family="Arial" font-size="14.00" fill="white">STACK</text>
</g>
<!-- stack -->
<g id="node1" class="node">
<title>stack</title>
<text text-anchor="start" x="119" y="-53.8" font-family="Arial" font-size="14.00" fill="white">p</text>
<polygon fill="none" stroke="white" points="146.79,-20.2 146.79,-95.8 241.33,-95.8 241.33,-20.2 146.79,-20.2"></polygon>
<text text-anchor="start" x="167.79" y="-62.2" font-family="Arial" font-size="14.00" fill="white">X = 0.0d</text>
<text text-anchor="start" x="167.79" y="-45.4" font-family="Arial" font-size="14.00" fill="white">Y = 0.0d</text>
</g>
<!-- o -->
<g id="node2" class="node">
<title>o</title>
<text text-anchor="start" x="664.37" y="-53.8" font-family="Arial" font-size="14.00">p</text>
<polygon fill="none" stroke="black" points="681.77,-66.5 681.77,-104.5 804.77,-104.5 804.77,-66.5 681.77,-66.5"></polygon>
<text text-anchor="start" x="692.69" y="-80.9" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Punto2D &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="681.77,-11.5 681.77,-66.5 804.77,-66.5 804.77,-11.5 681.77,-11.5"></polygon>
<text text-anchor="start" x="709.22" y="-42.9" font-family="Arial" font-size="14.00">X = 0.0d</text>
<text text-anchor="start" x="709.22" y="-26.1" font-family="Arial" font-size="14.00">Y = 0.0d &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- stack&#45;&gt;o -->
<g id="edge2" class="edge">
<title>stack-&gt;o</title>
<path fill="none" stroke="Transparent" d="M249.05,-58C286.98,-58 324.33,-58 324.33,-58 324.33,-58 516.11,-58 635.88,-58"></path>
<polygon fill="Transparent" stroke="Transparent" points="635.72,-61.5 645.72,-58 635.72,-54.5 635.72,-61.5"></polygon>
<text text-anchor="middle" x="448.05" y="-95.8" font-family="Arial" font-size="14.00">Para simplificar lo podemos representar</text>
<text text-anchor="middle" x="448.05" y="-79" font-family="Arial" font-size="14.00">de la siguiente forma análoga</text>
<text text-anchor="middle" x="448.05" y="-62.2" font-family="Arial" font-size="14.00">a los tipos referencia.</text>
</g>
<!-- Cima\nPila -->
<g id="node3" class="node">
<title>Cima\nPila</title>
<text text-anchor="middle" x="27" y="-100.2" font-family="Arial" font-size="14.00">Cima</text>
<text text-anchor="middle" x="27" y="-83.4" font-family="Arial" font-size="14.00">Pila</text>
</g>
<!-- Cima\nPila&#45;&gt;stack -->
<g id="edge1" class="edge">
<title>Cima\nPila-&gt;stack:nw</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M53.86,-96.22C79.32,-96.43 117.04,-96.75 135.76,-96.9"></path>
<polygon fill="black" stroke="black" points="135.62,-100.4 145.65,-96.99 135.68,-93.4 135.62,-100.4"></polygon>
</g>
</g>
</svg>
</p><p>Pero al hacer el objeto inmutable, ya no podremos modificar su estado. Por esta razón, lo más apropiado es <strong>definir un constructor</strong> que me permita crear objetos punto.</p>
<blockquote>
<p>📌 <strong>Nota:</strong> Añadimos además el método <strong><code>string ATexto()</code></strong> para poder representar los puntos definidos.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-struct">struct</span> <span class="token class-name">Punto2D</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> X<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> Y<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Punto2D</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> x<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> y<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Y <span class="token operator">=</span> y<span class="token punctuation">;</span>
        X <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span> 
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"(</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">X</span><span class="token format-string"><span class="token punctuation">:</span>G2</span><span class="token punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Y</span><span class="token format-string"><span class="token punctuation">:</span>G2</span><span class="token punctuation">}</span></span><span class="token string">)"</span></span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p>Ahora si hacemos una asignación de un punto sobre otro se generará una copia en memoria, el objeto <strong><code>Punto2D</code></strong> ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Punto2D</span> p1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">(</span><span class="token number">4d</span><span class="token punctuation">,</span> <span class="token number">4d</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ojo! aunque hagamos un new sigue siendo un tipo valor.</span>
<span class="token class-name">Punto2D</span> p2 <span class="token operator">=</span> p1<span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"p1 = "</span> <span class="token operator">+</span> p1<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"p2 = "</span> <span class="token operator">+</span> p2<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p align="center" style="zoom:0.8" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="392pt" height="109pt" viewBox="0.00 0.00 392.00 109.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 105)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-105 388,-105 388,4 -4,4"></polygon>
<!-- o1 -->
<g id="node1" class="node">
<title>o1</title>
<text text-anchor="start" x="17.71" y="-46.3" font-family="Arial" font-size="14.00">p1</text>
<polygon fill="none" stroke="black" points="43,-59 43,-97 166,-97 166,-59 43,-59"></polygon>
<text text-anchor="start" x="53.92" y="-73.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Punto2D &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="43,-4 43,-59 166,-59 166,-4 43,-4"></polygon>
<text text-anchor="start" x="70.45" y="-35.4" font-family="Arial" font-size="14.00">X = 4.0d</text>
<text text-anchor="start" x="70.45" y="-18.6" font-family="Arial" font-size="14.00">Y = 4.0d &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- o2 -->
<g id="node2" class="node">
<title>o2</title>
<text text-anchor="start" x="227.71" y="-46.3" font-family="Arial" font-size="14.00">p2</text>
<polygon fill="none" stroke="black" points="253,-59 253,-97 376,-97 376,-59 253,-59"></polygon>
<text text-anchor="start" x="263.92" y="-73.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Punto2D &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="253,-4 253,-59 376,-59 376,-4 253,-4"></polygon>
<text text-anchor="start" x="280.45" y="-35.4" font-family="Arial" font-size="14.00">X = 4.0d</text>
<text text-anchor="start" x="280.45" y="-18.6" font-family="Arial" font-size="14.00">Y = 4.0d &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- o1&#45;&gt;o2 -->
<g id="edge1" class="edge">
<title>o1-&gt;o2</title>
<path fill="none" stroke="none" d="M173.8,-50.5C182.03,-50.5 190.42,-50.5 198.75,-50.5"></path>
<polygon fill="none" stroke="none" points="198.55,-54 208.55,-50.5 198.55,-47 198.55,-54"></polygon>
</g>
</g>
</svg>
</p><p>Si <strong><code>Punto2D</code></strong> lo hubiésemos definido con <strong><code>class</code></strong> tendríamos un <strong>tipo referencia</strong> y lo siguiente en memoria...</p>
<p align="center" style="zoom:0.8" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="273pt" height="114pt" viewBox="0.00 0.00 273.42 113.56" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 109.56)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-109.56 269.42,-109.56 269.42,4 -4,4"></polygon>
<!-- p1 -->
<g id="node1" class="node">
<title>p1</title>
<ellipse fill="none" stroke="gray" cx="21.78" cy="-83.78" rx="21.78" ry="21.78"></ellipse>
<text text-anchor="middle" x="21.78" y="-79.58" font-family="Arial" font-size="14.00">p1</text>
</g>
<!-- o1 -->
<g id="node3" class="node">
<title>o1</title>
<polygon fill="none" stroke="gray" points="87.56,-61.18 87.56,-99.98 257.42,-99.98 257.42,-61.18 87.56,-61.18"></polygon>
<text text-anchor="start" x="98.56" y="-76.38" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p1, p2: Punto2D &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="gray" points="87.56,-5.58 87.56,-61.18 257.42,-61.18 257.42,-5.58 87.56,-5.58"></polygon>
<text text-anchor="start" x="138.44" y="-37.58" font-family="Arial" font-size="14.00">X = 4.0d</text>
<text text-anchor="start" x="138.44" y="-20.78" font-family="Arial" font-size="14.00">Y = 4.0d &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- p1&#45;&gt;o1 -->
<g id="edge1" class="edge">
<title>p1-&gt;o1</title>
<path fill="none" stroke="gray" d="M43.46,-79.47C50.63,-77.97 59.22,-76.18 68.52,-74.24"></path>
<polygon fill="gray" stroke="gray" points="69.16,-77.68 78.24,-72.22 67.74,-70.83 69.16,-77.68"></polygon>
</g>
<!-- p2 -->
<g id="node2" class="node">
<title>p2</title>
<ellipse fill="none" stroke="gray" cx="21.78" cy="-21.78" rx="21.78" ry="21.78"></ellipse>
<text text-anchor="middle" x="21.78" y="-17.58" font-family="Arial" font-size="14.00">p2</text>
</g>
<!-- p2&#45;&gt;o1 -->
<g id="edge2" class="edge">
<title>p2-&gt;o1</title>
<path fill="none" stroke="gray" d="M43.46,-26.09C50.63,-27.58 59.22,-29.38 68.52,-31.31"></path>
<polygon fill="gray" stroke="gray" points="67.74,-34.73 78.24,-33.34 69.16,-27.87 67.74,-34.73"></polygon>
</g>
</g>
</svg>
</p><p>Si planteamos lo mismo pero en términos de colecciones homogéneas. Si hacemos ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Punto2D<span class="token punctuation">[</span><span class="token punctuation">]</span></span> triangulo <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// Aquí los puntos ya estarían creados por ser Punto2D un tipo valor.</span>
triangulo<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">(</span><span class="token number">4D</span><span class="token punctuation">,</span> <span class="token number">4D</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"trangulo[2] = "</span> <span class="token operator">+</span> triangulo<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>Se creará un array con los tres objetos valor inicializados por '<em>defecto</em>' y posteriormente hacemos una <strong>copia</strong> del un nuevo objeto valor con coordenadas (4 - 4) en la posición de índice 2 en array.</p>
<p></p><p align="center" style="zoom:0.7" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="816pt" height="192pt" viewBox="0.00 0.00 816.07 192.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 188)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-188 812.07,-188 812.07,4 -4,4"></polygon>
<g id="clust1" class="cluster">
<title>cluster1</title>
<polygon fill="none" stroke="black" points="108.07,-8 108.07,-176 800.07,-176 800.07,-8 108.07,-8"></polygon>
<text text-anchor="middle" x="454.07" y="-159.4" font-family="Arial" font-size="14.00">triangulo : Punto2D[3]</text>
</g>
<!-- t1 -->
<g id="node1" class="node">
<title>t1</title>
<ellipse fill="none" stroke="black" cx="40.03" cy="-80" rx="40.03" ry="40.03"></ellipse>
<text text-anchor="middle" x="40.03" y="-75.8" font-family="Arial" font-size="14.00">triangulo</text>
</g>
<!-- ot1 -->
<g id="node2" class="node">
<title>ot1</title>
<text text-anchor="start" x="230.17" y="-124.9" font-family="Arial" font-size="14.00" fill="gray">0</text>
<text text-anchor="start" x="450.17" y="-124.9" font-family="Arial" font-size="14.00" fill="gray">1</text>
<text text-anchor="start" x="670.17" y="-124.9" font-family="Arial" font-size="14.00" fill="blue">2</text>
<polygon fill="none" stroke="black" points="124.07,-20.5 124.07,-119.5 344.07,-119.5 344.07,-20.5 124.07,-20.5"></polygon>
<polygon fill="none" stroke="black" points="127.07,-23.5 127.07,-116.5 218.07,-116.5 218.07,-23.5 127.07,-23.5"></polygon>
<text text-anchor="start" x="137.93" y="-65.8" font-family="Arial" font-size="14.00">triangulo[0]</text>
<polygon fill="none" stroke="black" points="218.07,-78.5 218.07,-116.5 341.07,-116.5 341.07,-78.5 218.07,-78.5"></polygon>
<text text-anchor="start" x="228.99" y="-92.9" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Punto2D &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="218.07,-23.5 218.07,-78.5 341.07,-78.5 341.07,-23.5 218.07,-23.5"></polygon>
<text text-anchor="start" x="245.52" y="-54.9" font-family="Arial" font-size="14.00">X = 0.0d</text>
<text text-anchor="start" x="245.52" y="-38.1" font-family="Arial" font-size="14.00">Y = 0.0d &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="344.07,-20.5 344.07,-119.5 564.07,-119.5 564.07,-20.5 344.07,-20.5"></polygon>
<polygon fill="none" stroke="black" points="347.07,-23.5 347.07,-116.5 438.07,-116.5 438.07,-23.5 347.07,-23.5"></polygon>
<text text-anchor="start" x="357.93" y="-65.8" font-family="Arial" font-size="14.00">triangulo[1]</text>
<polygon fill="none" stroke="black" points="438.07,-78.5 438.07,-116.5 561.07,-116.5 561.07,-78.5 438.07,-78.5"></polygon>
<text text-anchor="start" x="448.99" y="-92.9" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Punto2D &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="438.07,-23.5 438.07,-78.5 561.07,-78.5 561.07,-23.5 438.07,-23.5"></polygon>
<text text-anchor="start" x="465.52" y="-54.9" font-family="Arial" font-size="14.00">X = 0.0d</text>
<text text-anchor="start" x="465.52" y="-38.1" font-family="Arial" font-size="14.00">Y = 0.0d &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="564.07,-20.5 564.07,-119.5 784.07,-119.5 784.07,-20.5 564.07,-20.5"></polygon>
<polygon fill="none" stroke="black" points="567.07,-23.5 567.07,-116.5 658.07,-116.5 658.07,-23.5 567.07,-23.5"></polygon>
<text text-anchor="start" x="577.93" y="-65.8" font-family="Arial" font-size="14.00" fill="blue">triangulo[2]</text>
<polygon fill="none" stroke="black" points="658.07,-76 658.07,-116.5 781.07,-116.5 781.07,-76 658.07,-76"></polygon>
<text text-anchor="start" x="668.99" y="-92.05" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Punto2D &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="658.07,-23.5 658.07,-76 781.07,-76 781.07,-23.5 658.07,-23.5"></polygon>
<text text-anchor="start" x="685.52" y="-52.15" font-family="Arial" font-size="14.00" fill="blue">X = 4.0d</text>
<text text-anchor="start" x="685.52" y="-38.15" font-family="Arial" font-size="14.00" fill="blue">Y = 4.0d</text>
<text text-anchor="start" x="738.06" y="-38.15" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- t1&#45;&gt;ot1 -->
<g id="edge1" class="edge">
<title>t1-&gt;ot1</title>
<path fill="none" stroke="black" d="M80.54,-80C87.83,-80 95.96,-80 104.76,-80"></path>
<polygon fill="black" stroke="black" points="96.55,-83.5 106.55,-80 96.55,-76.5 96.55,-83.5"></polygon>
</g>
</g>
</svg>
</p><p></p>
<blockquote>
<p>✋ <strong>Importante</strong>: Recordemos del <strong>tema 5</strong>, que si <strong><code>Punto2D</code></strong> fuese un tipo referencia, después de ejecutar <strong><code>Punto2D[] triangulo = new Punto2D[3];</code></strong> tendríamos un array con tres referencias a objetos <strong><code>Punto2D</code></strong> a <strong>null</strong>.</p>
</blockquote>
<h4 id="definiendo-operaciones-inmutables-en-el-objeto-valor">Definiendo operaciones inmutables en el objeto valor </h4>
<p>Supongamos que queremos definir una operación que desplace un punto una distancia y un ángulo en el plano.<br>
Puesto que el método no puede cambiar el estado del punto, devolverá un nuevo punto donde se habrá aplicado el desplazamiento.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-struct">struct</span> <span class="token class-name">Punto2D</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Punto2D</span> <span class="token function">Desplaza</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> distancia<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> anguloGrados<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> anguloRadianes <span class="token operator">=</span> anguloGrados <span class="token operator">*</span> Math<span class="token punctuation">.</span>PI <span class="token operator">/</span> <span class="token number">180d</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> fila <span class="token operator">=</span> Y <span class="token operator">+</span> distancia <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Sin</span><span class="token punctuation">(</span>anguloRadianes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> columna <span class="token operator">=</span> X <span class="token operator">+</span> distancia <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Cos</span><span class="token punctuation">(</span>anguloRadianes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Creamos la estructura y devolveremos una COPIA en la pila.</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">(</span>fila<span class="token punctuation">,</span> columna<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="caso_estudio">
<p>🎓 <strong>Caso de estudio:</strong></p>
<p>Supongamos que queremos definir un tipo valor para los ángulos y así no tener que especificar las unidades.</p>
<ul>
<li>Internamente guardará el valor del ángulo en grados (entero) y en radianes (double).</li>
<li>Definiré un constructor que me los cree a partir de un valor en grados.</li>
<li>Un método <strong><code>Suma</code></strong> que a partir de un valor en grados lo sume y me devuelva un nuevo valor de ángulo.</li>
<li>Finalmente usa el tipo en <strong><code>Punto2D</code></strong> y has un pequeño programa de prueba.</li>
</ul>
<blockquote>
<p>📌 <strong>Nota:</strong> Intenta realizar la implementación antes des ver la siguiente propuesta de solución...</p>
</blockquote>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="150px" preserveAspectRatio="none" style="width:229px;height:150px;" version="1.1" viewBox="0 0 229 150" width="229px" zoomAndPan="magnify"><defs></defs><g><!--class Angulo--><g id="elem_Angulo"><rect codeline="9" fill="#FFFAFA" height="129.1406" id="Angulo" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="208" x="7" y="7"></rect><ellipse cx="75.25" cy="28.3516" fill="#FF7700" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M72.7969,31.6484 L72.7969,24.9922 Q72.25,24.9766 71.9844,24.7422 Q71.7344,24.5078 71.7344,24.1328 Q71.7344,23.7578 72,23.5234 Q72.2656,23.2891 72.875,23.2891 L76.4375,23.2891 Q77.2656,23.2891 78.0625,23.6016 Q78.8594,23.8984 79.3438,24.3828 Q79.7031,24.7422 80.0938,25.3672 Q80.4844,25.9766 80.6875,26.6016 Q80.8906,27.2109 80.8906,28.1016 L80.8906,28.9141 Q80.8906,29.9922 80.5156,30.8359 Q80.1563,31.6641 79.5625,32.1953 Q78.9688,32.7109 78.4531,32.9609 Q77.625,33.3516 76.2969,33.3516 L72.875,33.3516 Q72.2656,33.3516 72,33.1172 Q71.7344,32.8828 71.7344,32.4922 Q71.7344,32.1172 72,31.8828 Q72.2656,31.6484 72.7969,31.6484 Z M74.5,31.6484 L76.3125,31.6484 Q77.3125,31.6484 77.8281,31.3516 Q78.5,30.9766 78.8438,30.3984 Q79.1875,29.8047 79.1875,28.8672 L79.1875,28.0547 Q79.1875,27.2578 78.875,26.6484 Q78.3906,25.6953 77.7813,25.3516 Q77.1875,24.9922 76.2969,24.9922 L74.5,24.9922 L74.5,31.6484 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="67" x="93.75" y="24.457">«DataType»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="105.25" y="41.627">Angulo</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="214" y1="49.7031" y2="49.7031"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="13" y="68.2363">+Grados : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="13" y="85.8457">+Radianes : double {readOnly}</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="214" y1="92.9219" y2="92.9219"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="13" y="111.4551">+Angulo(in grados : int)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="13" y="129.0645">+Suma(in grados : int) : Angulo</text></g><!--SRC=[ROz1Qy9G3CVlxrC4Tb6sGs_24A5Lb9qsLc7ds9VLHryJoKiH9txtrTL3qUKImk-NVqYaRmCJq53l3NnGgYm8kzG4Fg1Y2rN4b78p3RlEwAqIBiCFGJPISbKvBYMAGX6nQaReen-nfg9ljKh7Vj2-zi6eRAMXaRkyNYf4FUd_OODm5rMo74VEFTugSkeHiJdtzmlaN7THO3wVh5wUrklPBCkci4B3xUb0YuKxE-Zh6JQANXAyGc23inBwTuwdour-eW_8TELUkbsaHsKuD0aCzIXgUgDbr-83wzkmvIxk5m00]--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-struct">struct</span> <span class="token class-name">Angulo</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> Grados<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> Radianes<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Angulo</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> grados<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> GRADOS_TOTALES <span class="token operator">=</span> <span class="token number">360</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> gr <span class="token operator">=</span> grados <span class="token operator">%</span> GRADOS_TOTALES<span class="token punctuation">;</span>
        gr <span class="token operator">=</span> gr <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">?</span> gr <span class="token operator">+</span> GRADOS_TOTALES <span class="token punctuation">:</span> gr<span class="token punctuation">;</span>
        Grados <span class="token operator">=</span> gr<span class="token punctuation">;</span>
        Radianes <span class="token operator">=</span> Grados <span class="token operator">*</span> Math<span class="token punctuation">.</span>PI <span class="token operator">/</span> <span class="token number">180d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Angulo</span> <span class="token function">Suma</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> grados<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Angulo</span><span class="token punctuation">(</span>Grados <span class="token operator">+</span> grados<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Punto2D</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> X<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> Y<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Punto2D</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> x<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> y<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Y <span class="token operator">=</span> y<span class="token punctuation">;</span>
        X <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Punto2D</span> <span class="token function">Desplaza</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> distancia<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name">Angulo</span> angulo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> fila <span class="token operator">=</span> Y <span class="token operator">+</span> distancia <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Sin</span><span class="token punctuation">(</span>angulo<span class="token punctuation">.</span>Radianes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> columna <span class="token operator">=</span> X <span class="token operator">+</span> distancia <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Cos</span><span class="token punctuation">(</span>angulo<span class="token punctuation">.</span>Radianes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">(</span>fila<span class="token punctuation">,</span> columna<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"(</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">X</span><span class="token format-string"><span class="token punctuation">:</span>G2</span><span class="token punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Y</span><span class="token format-string"><span class="token punctuation">:</span>G2</span><span class="token punctuation">}</span></span><span class="token string">)"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Angulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Angulo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Punto2D</span> p1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">(</span><span class="token number">4d</span><span class="token punctuation">,</span> <span class="token number">4d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Punto2D</span> p2 <span class="token operator">=</span> p1<span class="token punctuation">;</span>
        <span class="token class-name">Punto2D</span> p3 <span class="token operator">=</span> p2<span class="token punctuation">.</span><span class="token function">Desplaza</span><span class="token punctuation">(</span><span class="token number">4d</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">Suma</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"a = </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">a<span class="token punctuation">.</span>Grados</span><span class="token punctuation">}</span></span><span class="token string"> grados"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"p1 = "</span> <span class="token operator">+</span> p1<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"p2 = "</span> <span class="token operator">+</span> p2<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"p3 = "</span> <span class="token operator">+</span> p3<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Vamos a definir una clase para modelar un <strong>ISBN</strong></p>
<ul>
<li>
<p>Un ISBN es un código normalizado internacional para libros <em>(<strong>International Standard Book Number</strong>)</em>.</p>
</li>
<li>
<p>Los ISBN tuvieron 10 dígitos hasta diciembre de 2006 pero, desde enero de 2007, <strong>tienen siempre 13 dígitos</strong> que se corresponden con los números del código de barras <strong>EAN13</strong><br>
(<em>código de barras de 13 dígitos</em>).</p>
</li>
<li>
<p>Se calculan utilizando una fórmula matemática específica e incluyen un dígito de control que valida el código.</p>
</li>
<li>
<p>Cada ISBN <strong>se compone de 5 elementos separados entre sí</strong> por un espacio o un guion. Tres de los  cinco elementos pueden variar en longitud:</p>
<ol>
<li><strong>Prefijo</strong>: Actualmente sólo pueden ser <strong>978</strong> o <strong>979</strong>. Siempre tiene 3 dígitos de longitud.</li>
<li><strong>Grupo de registro</strong>: Identifica a un determinado país, una región geográfica o un área lingüística que participan en el sistema ISBN. Este elemento <strong>puede tener entre 1 y 5 dígitos</strong> de longitud.</li>
<li><strong>Titular</strong>: Identifica a un determinado editor o a un sello editorial. Puede tener <strong>hasta 7 dígitos</strong> de longitud.</li>
<li><strong>Publicación</strong>: Identifica una determinada edición y formato de un determinado título. Puede  ser de <strong>hasta 6 dígitos</strong> de longitud. Además, este elemento se rellenará con ceros por la izquierda si el ISBN no alcanzase los 13 dígitos.</li>
<li><strong>Dígito de control</strong>: Es siempre el último y único dígito que valida matemáticamente al resto  del número. Se calcula utilizando <strong>el sistema de módulo 10 con pesos alternativos de 1 y 3</strong>.</li>
</ol>
<p><strong>Ejemplo:</strong> Para el ISBN <strong>978-1-78528-144</strong> el DC se calculará.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>suma  <span class="token operator">=</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">7</span> <span class="token operator">+</span> <span class="token number">8</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">4</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">=</span> 
    <span class="token operator">=</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">21</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">7</span> <span class="token operator">+</span> <span class="token number">24</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">=</span> <span class="token number">110</span>
resto <span class="token operator">=</span> suma <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">=</span> <span class="token number">110</span> <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">=</span> <span class="token number">0</span>
dc <span class="token operator">=</span> resto <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">?</span> <span class="token number">10</span> <span class="token operator">-</span> resto<span class="token punctuation">;</span>
</code></pre></li>
<li>
<p>A la hora de modelar una clase para el ISBN, podríamos definirla como un tipo referencia mediante  class (siempre es buena opción) o como un tipo valor mediante un struct pues cumple con los requisitos para ello, sobre todo, que una vez establecido no va a cambiar de estado. En nuestro caso, los campos que definirán los elementos del ISBN los vamos a definir como cadenas y va a ser un tipo referencia.</p>
<blockquote>
<p>📌 <strong>Nota:</strong> Vamos a obviar definir los accesores o getters para simplificar.</p>
</blockquote>
</li>
<li>
<p>Una aproximación preliminar al diseño de nuestra clase podría ser la siguiente:</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="227px" preserveAspectRatio="none" style="width:543px;height:227px;" version="1.1" viewBox="0 0 543 227" width="543px" zoomAndPan="magnify"><defs></defs><g><!--class Isbn13--><g id="elem_Isbn13"><rect codeline="10" fill="#FFFAFA" height="206.4844" id="Isbn13" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="522" x="7" y="7"></rect><ellipse cx="242.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M245.5156,18.875 Q245.6719,18.6563 245.8594,18.5469 Q246.0469,18.4375 246.2656,18.4375 Q246.6406,18.4375 246.875,18.7031 Q247.1094,18.9531 247.1094,19.5625 L247.1094,21.0156 Q247.1094,21.625 246.875,21.8906 Q246.6406,22.1563 246.2656,22.1563 Q245.9219,22.1563 245.7188,21.9531 Q245.5156,21.7656 245.4063,21.25 Q245.3594,20.8906 245.1719,20.7031 Q244.8438,20.3281 244.2344,20.1094 Q243.625,19.8906 243,19.8906 Q242.2344,19.8906 241.5938,20.2188 Q240.9688,20.5469 240.4688,21.2969 Q239.9844,22.0469 239.9844,23.0781 L239.9844,24.1719 Q239.9844,25.4063 240.875,26.2344 Q241.7656,27.0469 243.3594,27.0469 Q244.2969,27.0469 244.9531,26.7969 Q245.3438,26.6406 245.7656,26.2031 Q246.0313,25.9375 246.1719,25.8594 Q246.3281,25.7813 246.5313,25.7813 Q246.8594,25.7813 247.1094,26.0469 Q247.375,26.2969 247.375,26.6406 Q247.375,26.9844 247.0313,27.3906 Q246.5313,27.9688 245.7344,28.2969 Q244.6563,28.75 243.3594,28.75 Q241.8438,28.75 240.6406,28.125 Q239.6563,27.625 238.9688,26.5625 Q238.2813,25.4844 238.2813,24.2031 L238.2813,23.0469 Q238.2813,21.7188 238.8906,20.5781 Q239.5156,19.4219 240.6094,18.8125 Q241.7031,18.1875 242.9375,18.1875 Q243.6719,18.1875 244.3125,18.3594 Q244.9688,18.5156 245.5156,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="263.25" y="28.7285">Isbn13</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="528" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="13" y="57.5332">-prefijo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="13" y="75.1426">-grupoDeRegistro : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="13" y="92.752">-titular : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="13" y="110.3613">-publicacion : string {readOnly}</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="528" y1="117.4375" y2="117.4375"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="510" x="13" y="135.9707">+Isbn13(in prefijo : int, in grupoDeRegistro : int, in titular : int, on publicacion : int)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="13" y="153.5801">+Isbn13(in isbn13 : string)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="13" y="171.1895">+Isbn13(in isbn : Isbn13)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="13" y="188.7988">+DigitoDeControl() : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="236" x="13" y="206.4082">+ATexto(in separador : string) : string</text></g><!--SRC=[VP5DJyCm38Rl_HKvRW8a43Tk-xZi16AJE6UjbvbcTkMu6Z3jl-Er-oYZMWzfulU9tpT9X9KwPISOrkeA5CWLcR9K8bLU_CRbqQSqKXLSrWgpd6cEF-0UEyX8XBSJZYnk77rUTgGtM_e0O_i5uPgA5ljOey9ymoLqsCd1QSnIWFGtQu6hLdFYROUvbXVYAPa4f5dMdCNDqfAUdhDTvknxS9N02Z_PlRXaXwJWTWA-UANulJyIGUgAf_0E0GsvHIfg7RtS8Afw6J7tkLroBzLWTyUC0wHEF2Izjw4dpacvs3SLi_XhPzNXFmDiPkSm_O39RU4aJp6WMee9asM8Ws7R_gYE5l2bVDYSuF0k1L_kP7YUPVjV]--></g></svg></p>  <div style="page-break-after:always;"></div>
<p>Definiremos <strong>tres</strong> constructores:</p>
<ol>
<li>
<p>Uno que reciba los cuatro elementos que definen el ISBN en forma de enteros sin el DC.</p>
<p><strong><code>Isbn13 isbn = new Isbn13(978, 1, 78528, 14);</code></strong></p>
</li>
<li>
<p>Otro que reciba el ISBN como cadena.</p>
<p><strong><code>Isbn13 isbn = new Isbn13("978-1-78528-144-0");</code></strong><br>
<strong><code>Isbn13 isbn = new Isbn13("978 1 78528 144 0");</code></strong><br>
<strong><code>Isbn13 isbn = new Isbn13("9781785281440");</code></strong></p>
</li>
<li>
<p>Por último un constructor copia.</p>
</li>
</ol>
</li>
</ul>
<p><strong>¿Serías capaz de implementar la clase propuesta?</strong></p>
<p>Si no se te ocurre nada. Puedes consultar la <strong>propuesta de solución comentada</strong> en la siguiente página y después volver a intentarlo</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Isbn13</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definimos como constantes privadas y de clase todos aquellos valores que vamos a utilizar para</span>
    <span class="token comment">// comprobaciones de los rangos de valores de los campos y así no utilizar 'Números Mágicos'</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> PREFIJOS <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span> <span class="token number">978</span><span class="token punctuation">,</span> <span class="token number">979</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> MAX_LONGITUD_GRUPO <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> MAX_LONGITUD_TITULAR <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> MAX_LONGITUD_PUBLICACION <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> LONGITUD_ISBN <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>
    <span class="token comment">// Definición de los campos que guardan los elementos del ISBN.</span>
    <span class="token comment">// Son de solo lectura y string, para preservar ceros por la izquierda y evitar desbordamientos de tipo.</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> prefijo<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> grupoDeRegistro<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> titular<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> publicacion<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Isbn13</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> prefijo<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> grupoDeRegistro<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> titular<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> publicacion<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Comprobamos que el prefijo esté entre los prefijos válidos,</span>
        <span class="token comment">// en caso contrário generamos un error y finalizamos la creación del objeto.</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>prefijo <span class="token operator">=</span> prefijo<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">IndexOf</span><span class="token punctuation">(</span>PREFIJOS<span class="token punctuation">,</span> prefijo<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"El prefijo </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">prefijo</span><span class="token punctuation">}</span></span><span class="token string"> no es válido."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Comprobamos que la longitud de los campos no supere la especificada,</span>
        <span class="token comment">// en caso contrário generamos un error y finalizamos la creación del objeto.</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>grupoDeRegistro <span class="token operator">=</span> grupoDeRegistro<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>grupoDeRegistro<span class="token punctuation">.</span>Length <span class="token operator">&gt;</span> MAX_LONGITUD_PUBLICACION<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"El grupo de registro </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">grupoDeRegistro</span><span class="token punctuation">}</span></span><span class="token string"> es demasiado largo."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>titular <span class="token operator">=</span> titular<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>titular<span class="token punctuation">.</span>Length <span class="token operator">&gt;</span> MAX_LONGITUD_PUBLICACION<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"El titular </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">titular</span><span class="token punctuation">}</span></span><span class="token string"> es demasiado largo."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicacion <span class="token operator">=</span> publicacion<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicacion<span class="token punctuation">.</span>Length <span class="token operator">&gt;</span> MAX_LONGITUD_PUBLICACION<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"La publicacion </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">publicacion</span><span class="token punctuation">}</span></span><span class="token string"> es demasiado larga."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Obtenemos la diferencia de longitud con un código de 13 dígitos sin contar el dígito de control.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn <span class="token operator">=</span> <span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> prefijo<span class="token punctuation">,</span> grupoDeRegistro<span class="token punctuation">,</span> titular<span class="token punctuation">,</span> publicacion<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> excesoLongitud <span class="token operator">=</span> isbn<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token punctuation">(</span>LONGITUD_ISBN <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Si no llega a 12 rellenamos con ceros por la izquierda. </span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>excesoLongitud <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicacion <span class="token operator">=</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicacion<span class="token punctuation">.</span><span class="token function">PadLeft</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>excesoLongitud<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicacion<span class="token punctuation">.</span>Length<span class="token punctuation">,</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Si es más largo de 12 dígitos generamos un error y finalizamos la creación del objeto.</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>excesoLongitud <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"El ISBN </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">isbn</span><span class="token punctuation">}</span></span><span class="token string"> esn demasiado largo."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-public">public</span> <span class="token function">Isbn13</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn13<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Separadores posibles ' ', '-' o nada.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> s <span class="token operator">=</span> <span class="token string">"[ -]?"</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo "prefijo", con alternancia de los que haya en el array 978|979</span>
        <span class="token comment">// fíjate que el código es robusto pues está preparado para permitir futuros prefijos.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> erPrefijo <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$"(?&lt;prefijo&gt;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">"|"</span><span class="token punctuation">,</span> PREFIJOS<span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">)"</span></span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo "grupoDeRegistro", un valor entre 1 y MAX_LONGITUD_GRUPO dígitos.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> erGrupoDeRegistro <span class="token operator">=</span> <span class="token string">@"(?&lt;grupoDeRegistro&gt;\d{1,"</span> <span class="token operator">+</span> MAX_LONGITUD_GRUPO <span class="token operator">+</span> <span class="token string">"})"</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo "titular", un valor entre 1 y MAX_LONGITUD_TITULAR dígitos.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> erTitular <span class="token operator">=</span> <span class="token string">@"(?&lt;titular&gt;\d{1,"</span> <span class="token operator">+</span> MAX_LONGITUD_TITULAR <span class="token operator">+</span> <span class="token string">"})"</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo "publicacion", un valor entre 1 y MAX_LONGITUD_PUBLICACION dígitos.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> erPublicacion <span class="token operator">=</span> <span class="token string">@"(?&lt;publicacion&gt;\d{1,"</span> <span class="token operator">+</span> MAX_LONGITUD_PUBLICACION <span class="token operator">+</span> <span class="token string">"})"</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo "dc", que contendrá el dígito de control.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> erDC <span class="token operator">=</span> <span class="token string">@"(?&lt;dc&gt;\d)"</span><span class="token punctuation">;</span>

        <span class="token comment">// Intento ver si la entrada se corresponde con la expresión para comprobar ISBN</span>
        <span class="token comment">// al dividir la expresión esta queda más legible y es por tanto hay menos posibilidad</span>
        <span class="token comment">// de cometer errores o ampliarla.</span>
        <span class="token class-name">Match</span> m <span class="token operator">=</span> Regex<span class="token punctuation">.</span><span class="token function">Match</span><span class="token punctuation">(</span>isbn13<span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">$"^(</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">erPrefijo</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">erGrupoDeRegistro</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">erTitular</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">erPublicacion</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">erDC</span><span class="token punctuation">}</span></span><span class="token string">)$"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si no hay correspondencia generamos un error y finalizamos la creación del objeto.</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>m<span class="token punctuation">.</span>Success<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">isbn13</span><span class="token punctuation">}</span></span><span class="token string"> no es un valor válido para un ISBN"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si hay correspondencia ya podremos extraer el valor de los grupos y rellenar los campos</span>
        <span class="token comment">// que definirán el objeto y el dc para comprobarlo.</span>
        prefijo <span class="token operator">=</span> m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">"prefijo"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        grupoDeRegistro <span class="token operator">=</span> m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">"grupoDeRegistro"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        titular <span class="token operator">=</span> m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">"titular"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        publicacion <span class="token operator">=</span> m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">"publicacion"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> dc <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">"dc"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si el ISBN cumple el formato pero más el dc es menor que 13 </span>
        <span class="token comment">// generamos un error y finalizamos la creación del objeto.</span>
        <span class="token comment">// Nota: La llamada a this.ATexto("").Length no la podremos hacer si no hemos</span>
        <span class="token comment">// definido el valor de los campos.</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length <span class="token operator">!=</span> LONGITUD_ISBN<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"El dígito de control para </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">isbn13</span><span class="token punctuation">}</span></span><span class="token string"> debería ser un EAN13"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Calculamos cual debería ser el dc según el valor de los campos y lo comprobamos con el</span>
        <span class="token comment">// introducido. Si no coinciden, generamos un error y finalizamos la creación del objeto.</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> dcCorrecto <span class="token operator">=</span> <span class="token function">DigitoDeControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>dc <span class="token operator">!=</span> dcCorrecto<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"El dígito de control para </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">isbn13</span><span class="token punctuation">}</span></span><span class="token string"> debería ser </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">dcCorrecto</span><span class="token punctuation">}</span></span><span class="token string"> en lugar de </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">dc</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Constructor copia</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Isbn13</span><span class="token punctuation">(</span><span class="token class-name">Isbn13</span> isbn<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        prefijo <span class="token operator">=</span> isbn<span class="token punctuation">.</span>prefijo<span class="token punctuation">;</span>
        grupoDeRegistro <span class="token operator">=</span> isbn<span class="token punctuation">.</span>grupoDeRegistro<span class="token punctuation">;</span>
        titular <span class="token operator">=</span> isbn<span class="token punctuation">.</span>titular<span class="token punctuation">;</span>
        publicacion <span class="token operator">=</span> isbn<span class="token punctuation">.</span>publicacion<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token comment">// Cálculo del DC según las especificaciones.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">DigitoDeControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn <span class="token operator">=</span> <span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> prefijo<span class="token punctuation">,</span> grupoDeRegistro<span class="token punctuation">,</span> titular<span class="token punctuation">,</span> publicacion<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> suma <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> isbn<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            suma <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>isbn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> resto <span class="token operator">=</span> suma <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> resto <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt32</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">-</span> resto<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Devuelvo el ISBN en formato de cadena, con el separador que me indiquen por parámetro.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> separador<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>separador<span class="token punctuation">,</span> prefijo<span class="token punctuation">,</span> grupoDeRegistro<span class="token punctuation">,</span> titular<span class="token punctuation">,</span> publicacion<span class="token punctuation">,</span> <span class="token function">DigitoDeControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div> <!-- fin caso de estudio -->
<div style="page-break-after:always;"></div>
<h3 id="ejemplo-de-objeto-valor-definido-en-las-bcl-como-tipo-valor">Ejemplo de objeto valor definido en las BCL como tipo valor </h3>
<p>Uno de los objetos valor predefinidos en las BCL y que más vamos usar, es el tipo de dato <strong>fecha</strong>: <a href="https://docs.microsoft.com/en-us/dotnet/api/system.datetime?view=netcore-3.1" target="_blank">System.DateTime</a></p>
<h4 id="formas-de-instanciar-objetos-valor-fecha">Formas de instanciar objetos valor fecha </h4>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">DateTime</span> f1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 19/03/2020 a las 00:00:00</span>
<span class="token class-name">DateTime</span> f2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 19/03/2020 a las 8:30:00</span>
<span class="token class-name">DateTime</span> f3 <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Today<span class="token punctuation">;</span>                        <span class="token comment">// Hoy a las 00:00:00</span>
<span class="token class-name">DateTime</span> f4 <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">;</span>                          <span class="token comment">// Hoy a a la hora actual en mi zona horaria.</span>
<span class="token class-name">DateTime</span> f5 <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>UtcNow<span class="token punctuation">;</span>                       <span class="token comment">// Hoy a a la hora actual en zona UTC.</span>
</code></pre><h4 id="operaciones-más-comunes-con-fechas">Operaciones más comunes con fechas </h4>
<p>Podemos usar todos los operadores de comparación <strong><code>==, != , &gt; , &lt;, &gt;= y &lt;=</code></strong></p>
<p>En las operaciones de suma <strong><code>+</code></strong> y resta <strong><code>-</code></strong>, interviene otro tipo de dato valor denominado <a href="https://docs.microsoft.com/en-us/dotnet/api/system.timespan?view=netcore-3.1" target="_blank">TimeSpan</a> que representará un periodo de tiempo que podremos representar en las siguiente magnitudes <strong><code>años, meses, días, horas, minutos, segundos</code></strong> según la precisión que necesitemos.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[4, 8]}" class="language-csharp csharp" data-line="4,8"><code><span class="token class-name">DateTime</span> f1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">TimeSpan</span> periodo <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">TimeSpan</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Periodo de tiempo con precisión de 25 días</span>

<span class="token class-name">DateTime</span> f2 <span class="token operator">=</span> f1 <span class="token operator">+</span> periodo<span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// Muestra 13/04/2020</span>

<span class="token comment">// Muestra Del 19/03/2020 al 13/04/2020 hay 25 días</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Del </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f1<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> al </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f2<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> hay </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token punctuation">(</span>f2 <span class="token operator">-</span> f1<span class="token punctuation">)</span><span class="token punctuation">.</span>Days</span><span class="token punctuation">}</span></span><span class="token string"> días"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">






<div aria-hidden="true" class="line-highlight" data-range="8" data-start="8">
</div></div></pre><p>Estas operaciones también las podremos hacer, a través de diferentes métodos <strong><code>f.AddHours(...)</code></strong>, <strong><code>f.AddDays(...)</code></strong>, etc. y así evitarnos usar <strong><code>TimeSpan</code></strong></p>
<pre data-role="codeBlock" data-info="csharp {highlight=5}" class="language-csharp csharp" data-line="5"><code><span class="token class-name">DateTime</span> f1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">DateTime</span> f2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Recuerda el método no cambia el estado de f1, sino que devuelve un objeto valor fecha que copiamos en f3</span>
<span class="token class-name">DateTime</span> f3 <span class="token operator">=</span> f1<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra 19/03/2020 (En España)</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">ToLongDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra sábado, 1 de agosto de 2020 (En España)</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f3<span class="token punctuation">.</span><span class="token function">ToLongDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra lunes, 13 de abril de 2020 (En España)</span>
</code><div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5" data-start="5">
</div></div></pre><h4 id="fechas-y-cadenas">Fechas y cadenas </h4>
<p>Una aproximación sencilla es usar las propiedades del objeto para dar el formato:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">DateTime</span> f <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f<span class="token punctuation">.</span>Day</span><span class="token format-string"><span class="token punctuation">:</span>D2</span><span class="token punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f<span class="token punctuation">.</span>Month</span><span class="token format-string"><span class="token punctuation">:</span>D2</span><span class="token punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f<span class="token punctuation">.</span>Year</span><span class="token format-string"><span class="token punctuation">:</span>D4</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra 19-03-2020</span>
</code></pre><p>Pero el lenguaje provee una sintaxis especial para cadenas de fecha y hora personalizadas de DateTime a string y viceversa. Usaremos los siguientes <a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings" target="_blank">formatos definidos por el lenguaje</a>.</p>
<div style="page-break-after:always;"></div>
<p>Aquí dispones un <strong>cuadro resumen</strong> de los principales formatos descritos en el enlace:</p>
<table>
<thead>
<tr>
<th>Formato</th>
<th>Descripción</th>
<th>Formato</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td>d</td>
<td>Día del mes con el mínimo de dígitos</td>
<td>/</td>
<td>Separador fecha según el país</td>
</tr>
<tr>
<td>dd</td>
<td>Día del mes con 2 dígitos</td>
<td>gg</td>
<td>Indicar la era según el país AC/DC</td>
</tr>
<tr>
<td>ddd</td>
<td>Día de la semana abreviado según el país</td>
<td>h</td>
<td>Hora de 0 a 12 horas</td>
</tr>
<tr>
<td>dddd</td>
<td>Día de la semana completo según el país</td>
<td>hh</td>
<td>Hora de 00 a 12 horas</td>
</tr>
<tr>
<td>M</td>
<td>Mes con el mínimo de dígitos</td>
<td>z</td>
<td>Indicador Zona Horaria</td>
</tr>
<tr>
<td>MM</td>
<td>Mes con 2 dígitos</td>
<td>H</td>
<td>Hora de 0 a 23 horas</td>
</tr>
<tr>
<td>MMM</td>
<td>Nombre del mes abreviado según el país</td>
<td>HH</td>
<td>Hora de 00 a 23 horas</td>
</tr>
<tr>
<td>MMMM</td>
<td>Nombre del mes completo según el país</td>
<td>mm</td>
<td>Minutos con 2 dígitos</td>
</tr>
<tr>
<td>yyyy</td>
<td>Año con 4 dígitos</td>
<td>ss</td>
<td>Segundos con 2 dígitos</td>
</tr>
</tbody>
</table>
<blockquote>
<p>📌 <strong>Nota</strong>: Aquellos caracteres que tienen un significado especial como <strong>d</strong>, <strong>h</strong>, <strong>M</strong>, etc. si queremos que se representen tal cual y no sean sustituidos por un valor de DateTime deberemos escaparlos con <strong><code>\\</code></strong>. Por ejemplo, <strong><code>\\d</code></strong> es el caracter <strong><code>d</code></strong> y no el día del mes en formato numérico.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">DateTime</span> f <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> DateTimeKind<span class="token punctuation">.</span>Utc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Muestra: 19-03-2020</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">"dd-MM-yyyy"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Muestra: jueves 19 de marzo de 2020 a las 19 horas UTC+0</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">@"dddd d \de MMMM \de yyyy a la\s H \hora\s UTCz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre><p>Tendremos también la conversión en sentido inverso si hacemos un Parse. Aunque en este último caso también podemos utilizar ER.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Introduce una fecha con formato (dd/MM/yyyy): "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> texto <span class="token operator">=</span> Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span><span class="token function">TryParseExact</span><span class="token punctuation">(</span>texto<span class="token punctuation">,</span> <span class="token string">"dd/MM/yyyy"</span><span class="token punctuation">,</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">,</span>
                                System<span class="token punctuation">.</span>Globalization<span class="token punctuation">.</span>DateTimeStyles<span class="token punctuation">.</span>AllowWhiteSpaces <span class="token operator">|</span>
                                System<span class="token punctuation">.</span>Globalization<span class="token punctuation">.</span>DateTimeStyles<span class="token punctuation">.</span>AdjustToUniversal<span class="token punctuation">,</span>
                                <span class="token keyword keyword-out">out</span> <span class="token class-name">DateTime</span> fecha<span class="token punctuation">)</span><span class="token punctuation">)</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Has introducido </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">fecha<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-else">else</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">texto</span><span class="token punctuation">}</span></span><span class="token string"> es un fecha incorrecta."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="qué-pasa-si-solo-queremos-guardar-la-hora-o-la-fecha">¿Qué pasa si solo queremos guardar la hora o la fecha? </h4>
<p>Si te ha fijado <strong><code>DateTime</code></strong> me obliga a guardar una fecha asociada si solo quiero guardar una hora. Para solucionar esto, en C#10 disponemos también de los tipos valor <strong><code>TimeOnly</code></strong> y <strong><code>DateOnly</code></strong> similares a <strong><code>DateTime</code></strong> pero solo guardaremos u hora o fecha respectivamente.</p>
<div style="page-break-after:always;"></div>
<h2 id="roles-entre-clases">Roles entre clases </h2>
<h3 id="relaciones-todo-parte">Relaciones Todo-Parte </h3>
<ul>
<li>Suelen responder a la pregunta <strong>¿Tiene un ...?</strong></li>
<li>Este tipo de relaciones también pueden tener <strong>cardinalidad</strong>.</li>
</ul>
<h4 id="agregación-o-referencia">Agregación o referencia </h4>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="47px" preserveAspectRatio="none" style="width:287px;height:47px;background:#FFFFFF;" version="1.1" viewBox="0 0 287 47" width="287px" zoomAndPan="magnify"><defs></defs><g><!--class Banco--><g id="elem_Banco"><rect fill="#FFFAFA" height="32" id="Banco" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="72" x="7" y="8.3564"></rect><ellipse cx="22" cy="24.3564" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M24.7656,20.2314 Q24.9219,20.0127 25.1094,19.9033 Q25.2969,19.7939 25.5156,19.7939 Q25.8906,19.7939 26.125,20.0596 Q26.3594,20.3096 26.3594,20.9189 L26.3594,22.3721 Q26.3594,22.9814 26.125,23.2471 Q25.8906,23.5127 25.5156,23.5127 Q25.1719,23.5127 24.9688,23.3096 Q24.7656,23.1221 24.6563,22.6064 Q24.6094,22.2471 24.4219,22.0596 Q24.0938,21.6846 23.4844,21.4658 Q22.875,21.2471 22.25,21.2471 Q21.4844,21.2471 20.8438,21.5752 Q20.2188,21.9033 19.7188,22.6533 Q19.2344,23.4033 19.2344,24.4346 L19.2344,25.5283 Q19.2344,26.7627 20.125,27.5908 Q21.0156,28.4033 22.6094,28.4033 Q23.5469,28.4033 24.2031,28.1533 Q24.5938,27.9971 25.0156,27.5596 Q25.2813,27.2939 25.4219,27.2158 Q25.5781,27.1377 25.7813,27.1377 Q26.1094,27.1377 26.3594,27.4033 Q26.625,27.6533 26.625,27.9971 Q26.625,28.3408 26.2813,28.7471 Q25.7813,29.3252 24.9844,29.6533 Q23.9063,30.1064 22.6094,30.1064 Q21.0938,30.1064 19.8906,29.4814 Q18.9063,28.9814 18.2188,27.9189 Q17.5313,26.8408 17.5313,25.5596 L17.5313,24.4033 Q17.5313,23.0752 18.1406,21.9346 Q18.7656,20.7783 19.8594,20.1689 Q20.9531,19.5439 22.1875,19.5439 Q22.9219,19.5439 23.5625,19.7158 Q24.2188,19.8721 24.7656,20.2314 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="36" y="30.085">Banco</text></g><!--class Cliente--><g id="elem_Cliente"><rect fill="#FFFAFA" height="32" id="Cliente" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="76" x="204" y="8.3564"></rect><ellipse cx="219" cy="24.3564" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M221.7656,20.2314 Q221.9219,20.0127 222.1094,19.9033 Q222.2969,19.7939 222.5156,19.7939 Q222.8906,19.7939 223.125,20.0596 Q223.3594,20.3096 223.3594,20.9189 L223.3594,22.3721 Q223.3594,22.9814 223.125,23.2471 Q222.8906,23.5127 222.5156,23.5127 Q222.1719,23.5127 221.9688,23.3096 Q221.7656,23.1221 221.6563,22.6064 Q221.6094,22.2471 221.4219,22.0596 Q221.0938,21.6846 220.4844,21.4658 Q219.875,21.2471 219.25,21.2471 Q218.4844,21.2471 217.8438,21.5752 Q217.2188,21.9033 216.7188,22.6533 Q216.2344,23.4033 216.2344,24.4346 L216.2344,25.5283 Q216.2344,26.7627 217.125,27.5908 Q218.0156,28.4033 219.6094,28.4033 Q220.5469,28.4033 221.2031,28.1533 Q221.5938,27.9971 222.0156,27.5596 Q222.2813,27.2939 222.4219,27.2158 Q222.5781,27.1377 222.7813,27.1377 Q223.1094,27.1377 223.3594,27.4033 Q223.625,27.6533 223.625,27.9971 Q223.625,28.3408 223.2813,28.7471 Q222.7813,29.3252 221.9844,29.6533 Q220.9063,30.1064 219.6094,30.1064 Q218.0938,30.1064 216.8906,29.4814 Q215.9063,28.9814 215.2188,27.9189 Q214.5313,26.8408 214.5313,25.5596 L214.5313,24.4033 Q214.5313,23.0752 215.1406,21.9346 Q215.7656,20.7783 216.8594,20.1689 Q217.9531,19.5439 219.1875,19.5439 Q219.9219,19.5439 220.5625,19.7158 Q221.2188,19.8721 221.7656,20.2314 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="233" y="30.085">Cliente</text></g><!--reverse link Banco to Cliente--><g id="link_Banco_Cliente"><path codeline="9" d="M91.22,24.3564 C126.3,24.3564 167.96,24.3564 203.74,24.3564 " fill="none" id="Banco-backto-Cliente" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="79.22,24.3564,85.22,28.3564,91.22,24.3564,85.22,20.3564,79.22,24.3564" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="110" y="20.8516">agregación</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="87.0399" y="39.4612">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="173.8892" y="39.1546">0..n</text></g><!--SRC=[ROqn3i8m34NtdCBAJWKhMzk93Qa3SvgOr6fZ8zS8mRKu0XUZYAL2J5zV_-dz2Sy69g2K1uD4Yj58sCqZyILeA12dCC-rcL9_DJn4uOuU2DiLKglAhPL959efn74r7PSQCZPBP9Khfozs6iYmApBYYcq_JureGlql-m8_gexbvjn02G7BnUvGiFIeisi2Hm6_yo2R3VXjLR5V58Hi27i8MJ67IAydkpS0]--></g></svg></p><ul>
<li>Almacenaremos una <strong>referencia</strong> al objeto '<em>original</em>'.</li>
<li><strong>Es la relación todo-parte más común</strong>.</li>
<li>La agregación indica independencia de los objetos, esto significa que si desaparece el contenedor, no desaparece el agregado.</li>
<li>En el siguiente ejemplo diremos que: '<em>1 clase <strong>Banco</strong> tendrá de 0 a N <strong>Clientes</strong></em>'.<br>
Pero al tratarse de una agregación, al desaparecer un objeto banco, no desaparecerán con él sus clientes.</li>
</ul>
<h5 id="ventajas-de-la-agregación-1">Ventajas de la agregación 👍 </h5>
<ul>
<li>Ahorramos memoria.</li>
<li>Al compartirse la referencia al mismo objeto, mantendremos la integridad referencial.</li>
<li>Mejor manejo de objetos complejos.</li>
<li>Los objetos solo se crean cuando se necesitan.</li>
</ul>
<h5 id="desventajas-de-la-agregación--1">Desventajas de la agregación 👎 </h5>
<ul>
<li>Sobre todo en lenguajes no gestionados como C++. Se puede producir un efecto de <strong>Aliasing</strong>, si destruimos el objeto agregado.</li>
</ul>
<h4 id="composición-o-subobjetos">Composición o subobjetos </h4>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="47px" preserveAspectRatio="none" style="width:308px;height:47px;background:#FFFFFF;" version="1.1" viewBox="0 0 308 47" width="308px" zoomAndPan="magnify"><defs></defs><g><!--class Banco--><g id="elem_Banco"><rect fill="#FFFAFA" height="32" id="Banco" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="72" x="7" y="8.3564"></rect><ellipse cx="22" cy="24.3564" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M24.7656,20.2314 Q24.9219,20.0127 25.1094,19.9033 Q25.2969,19.7939 25.5156,19.7939 Q25.8906,19.7939 26.125,20.0596 Q26.3594,20.3096 26.3594,20.9189 L26.3594,22.3721 Q26.3594,22.9814 26.125,23.2471 Q25.8906,23.5127 25.5156,23.5127 Q25.1719,23.5127 24.9688,23.3096 Q24.7656,23.1221 24.6563,22.6064 Q24.6094,22.2471 24.4219,22.0596 Q24.0938,21.6846 23.4844,21.4658 Q22.875,21.2471 22.25,21.2471 Q21.4844,21.2471 20.8438,21.5752 Q20.2188,21.9033 19.7188,22.6533 Q19.2344,23.4033 19.2344,24.4346 L19.2344,25.5283 Q19.2344,26.7627 20.125,27.5908 Q21.0156,28.4033 22.6094,28.4033 Q23.5469,28.4033 24.2031,28.1533 Q24.5938,27.9971 25.0156,27.5596 Q25.2813,27.2939 25.4219,27.2158 Q25.5781,27.1377 25.7813,27.1377 Q26.1094,27.1377 26.3594,27.4033 Q26.625,27.6533 26.625,27.9971 Q26.625,28.3408 26.2813,28.7471 Q25.7813,29.3252 24.9844,29.6533 Q23.9063,30.1064 22.6094,30.1064 Q21.0938,30.1064 19.8906,29.4814 Q18.9063,28.9814 18.2188,27.9189 Q17.5313,26.8408 17.5313,25.5596 L17.5313,24.4033 Q17.5313,23.0752 18.1406,21.9346 Q18.7656,20.7783 19.8594,20.1689 Q20.9531,19.5439 22.1875,19.5439 Q22.9219,19.5439 23.5625,19.7158 Q24.2188,19.8721 24.7656,20.2314 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="36" y="30.085">Banco</text></g><!--class Sucursal--><g id="elem_Sucursal"><rect fill="#FFFAFA" height="32" id="Sucursal" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="87" x="214" y="8.3564"></rect><ellipse cx="229" cy="24.3564" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M231.7656,20.2314 Q231.9219,20.0127 232.1094,19.9033 Q232.2969,19.7939 232.5156,19.7939 Q232.8906,19.7939 233.125,20.0596 Q233.3594,20.3096 233.3594,20.9189 L233.3594,22.3721 Q233.3594,22.9814 233.125,23.2471 Q232.8906,23.5127 232.5156,23.5127 Q232.1719,23.5127 231.9688,23.3096 Q231.7656,23.1221 231.6563,22.6064 Q231.6094,22.2471 231.4219,22.0596 Q231.0938,21.6846 230.4844,21.4658 Q229.875,21.2471 229.25,21.2471 Q228.4844,21.2471 227.8438,21.5752 Q227.2188,21.9033 226.7188,22.6533 Q226.2344,23.4033 226.2344,24.4346 L226.2344,25.5283 Q226.2344,26.7627 227.125,27.5908 Q228.0156,28.4033 229.6094,28.4033 Q230.5469,28.4033 231.2031,28.1533 Q231.5938,27.9971 232.0156,27.5596 Q232.2813,27.2939 232.4219,27.2158 Q232.5781,27.1377 232.7813,27.1377 Q233.1094,27.1377 233.3594,27.4033 Q233.625,27.6533 233.625,27.9971 Q233.625,28.3408 233.2813,28.7471 Q232.7813,29.3252 231.9844,29.6533 Q230.9063,30.1064 229.6094,30.1064 Q228.0938,30.1064 226.8906,29.4814 Q225.9063,28.9814 225.2188,27.9189 Q224.5313,26.8408 224.5313,25.5596 L224.5313,24.4033 Q224.5313,23.0752 225.1406,21.9346 Q225.7656,20.7783 226.8594,20.1689 Q227.9531,19.5439 229.1875,19.5439 Q229.9219,19.5439 230.5625,19.7158 Q231.2188,19.8721 231.7656,20.2314 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="243" y="30.085">Sucursal</text></g><!--reverse link Banco to Sucursal--><g id="link_Banco_Sucursal"><path codeline="10" d="M91.09,24.3564 C127.99,24.3564 174.07,24.3564 213.65,24.3564 " fill="none" id="Banco-backto-Sucursal" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="79.09,24.3564,85.09,28.3564,91.09,24.3564,85.09,20.3564,79.09,24.3564" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="110" y="20.8516">composición</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="86.8843" y="39.4612">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="186.0773" y="39.0013">1..*</text></g><!--SRC=[ROqn3e9044NxFSM4aWIZhHrGsPbGM2_B21DsTyZi4ABNyWXUJ0mDCLO_F__bVOzt1MKGwWU5ZWIT4aUJHegJ5Hl0UPjIgIhKpeeNnx6X9y9nXvGYlDJiMQ3oresxwRfMssErHYyynsx3RWCfDe57tB7rzwbYwL3-opRWHzL4NemPg4F0CEa30eOM9HbJsUWOibC6UL6iUJZa6JIpcoLP3sTm72PEvEZzYkO3]--></g></svg></p><ul>
<li>Almacenaremos un <strong>objeto valor</strong> o una referencia a una <strong>copia</strong> del objeto '<em>original</em>'.</li>
<li>La composición indica dependencia de los objetos, esto significa que si desaparece el contenedor, desaparece el subobjeto.</li>
<li>En el siguiente ejemplo diremos que: '<em>1 clase <strong>Banco</strong> tendrá de 1 a N <strong>Sucursales</strong></em>'.<br>
Pero al tratarse de una composición, al desaparecer un objeto banco,  desaparecerán con él sus sucursales.</li>
<li>Además, cualquier <strong>campo</strong> que defina nuestra clase que sea un tipo valor, <strong>value object</strong>, <strong>data type</strong>, etc. será considerado como una composición.</li>
<li>La relación no hará falta expresarla, pues no puede ser de otra forma que no sea un composición por la naturaleza valor del objeto fecha. Símplemente indicaremos el tipo de datos en la definición.</li>
</ul>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="117px" preserveAspectRatio="none" style="width:321px;height:117px;background:#FFFFFF;" version="1.1" viewBox="0 0 321 117" width="321px" zoomAndPan="magnify"><defs></defs><g><!--class Banco--><g id="elem_Banco"><rect codeline="8" fill="#FFFAFA" height="57.6094" id="Banco" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="179" x="7" y="30"></rect><ellipse cx="72.25" cy="46" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M75.0156,41.875 Q75.1719,41.6563 75.3594,41.5469 Q75.5469,41.4375 75.7656,41.4375 Q76.1406,41.4375 76.375,41.7031 Q76.6094,41.9531 76.6094,42.5625 L76.6094,44.0156 Q76.6094,44.625 76.375,44.8906 Q76.1406,45.1563 75.7656,45.1563 Q75.4219,45.1563 75.2188,44.9531 Q75.0156,44.7656 74.9063,44.25 Q74.8594,43.8906 74.6719,43.7031 Q74.3438,43.3281 73.7344,43.1094 Q73.125,42.8906 72.5,42.8906 Q71.7344,42.8906 71.0938,43.2188 Q70.4688,43.5469 69.9688,44.2969 Q69.4844,45.0469 69.4844,46.0781 L69.4844,47.1719 Q69.4844,48.4063 70.375,49.2344 Q71.2656,50.0469 72.8594,50.0469 Q73.7969,50.0469 74.4531,49.7969 Q74.8438,49.6406 75.2656,49.2031 Q75.5313,48.9375 75.6719,48.8594 Q75.8281,48.7813 76.0313,48.7813 Q76.3594,48.7813 76.6094,49.0469 Q76.875,49.2969 76.875,49.6406 Q76.875,49.9844 76.5313,50.3906 Q76.0313,50.9688 75.2344,51.2969 Q74.1563,51.75 72.8594,51.75 Q71.3438,51.75 70.1406,51.125 Q69.1563,50.625 68.4688,49.5625 Q67.7813,48.4844 67.7813,47.2031 L67.7813,46.0469 Q67.7813,44.7188 68.3906,43.5781 Q69.0156,42.4219 70.1094,41.8125 Q71.2031,41.1875 72.4375,41.1875 Q73.1719,41.1875 73.8125,41.3594 Q74.4688,41.5156 75.0156,41.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="92.75" y="51.7285">Banco</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="185" y1="62" y2="62"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="13" y="80.5332">+FechaFundacion : Fecha</text></g><!--class Fecha--><g id="elem_Fecha"><rect codeline="13" fill="#FFFAFA" height="103.5313" id="Fecha" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="93" x="221" y="7"></rect><ellipse cx="236" cy="28.3516" fill="#FF7700" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M233.5469,31.6484 L233.5469,24.9922 Q233,24.9766 232.7344,24.7422 Q232.4844,24.5078 232.4844,24.1328 Q232.4844,23.7578 232.75,23.5234 Q233.0156,23.2891 233.625,23.2891 L237.1875,23.2891 Q238.0156,23.2891 238.8125,23.6016 Q239.6094,23.8984 240.0938,24.3828 Q240.4531,24.7422 240.8438,25.3672 Q241.2344,25.9766 241.4375,26.6016 Q241.6406,27.2109 241.6406,28.1016 L241.6406,28.9141 Q241.6406,29.9922 241.2656,30.8359 Q240.9063,31.6641 240.3125,32.1953 Q239.7188,32.7109 239.2031,32.9609 Q238.375,33.3516 237.0469,33.3516 L233.625,33.3516 Q233.0156,33.3516 232.75,33.1172 Q232.4844,32.8828 232.4844,32.4922 Q232.4844,32.1172 232.75,31.8828 Q233.0156,31.6484 233.5469,31.6484 Z M235.25,31.6484 L237.0625,31.6484 Q238.0625,31.6484 238.5781,31.3516 Q239.25,30.9766 239.5938,30.3984 Q239.9375,29.8047 239.9375,28.8672 L239.9375,28.0547 Q239.9375,27.2578 239.625,26.6484 Q239.1406,25.6953 238.5313,25.3516 Q237.9375,24.9922 237.0469,24.9922 L235.25,24.9922 L235.25,31.6484 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="248" y="24.457">«dataType»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="260.5" y="41.627">Fecha</text><line style="stroke:#000000;stroke-width:0.5;" x1="222" x2="313" y1="49.7031" y2="49.7031"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="227" y="68.2363">+Día : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="227" y="85.8457">+Mes : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="227" y="103.4551">+Año : int</text></g><!--SRC=[ROx1QW9138RlUOf0BvNsi3T1HDXL5dee5BRGSvmDxh0xaoKp8bfyf1vy1b_CqLt4bkOI_ZzV_YIqrlUavD1q548UezhrDlAR4L_P0sC6uOxagh9RIYUAHKUcVHXz94aRBbBRg6nzFM1VZOrSEMdvWLrUBnMYDUl_OGFm9whoiWDeRCt8hezxTEpMh05kZsD1tWXy0wPwmP9DGsNQ9MF5usmmu0WZVPCudp-lNf_ASZhDiWdM5Ebpt_DYSOzPdNyeBLiVH-ETmo-Tdqyo6aUu0000]--></g></svg></p><h5 id="ventajas-de-la-composición-1">Ventajas de la composición 👍 </h5>
<ul>
<li>Evitaremos efectos de <strong>Aliasing</strong>.</li>
</ul>
<h5 id="desventajas-de-la-composición--1">Desventajas de la composición 👎 </h5>
<ul>
<li>Consume mucha memoria y puede tener un coste de proceso alto.</li>
<li>No compartiremos. Por tanto, si necesitamos mantener la integridad referencial, deberemos hacerlo manualmente.</li>
<li>Se pueden crear objetos que puede que no necesitemos.</li>
</ul>
<h4 id="ejemplo-de-agregación">Ejemplo de Agregación </h4>
<p>Vamos a crear una relación entre nuestras clases de ejemplo <strong><code>Escritor</code></strong> y <strong><code>Libro</code></strong> de tal manera que el <strong><code>Libro</code></strong> va a tener información del <strong><code>Escritor</code></strong> a través de una agregación.<br>
Cumple con la máxima de que si desaparece el libro no tiene porque desaparecer el escritor.<br>
Una posible forma de expresarlo en UML es la siguiente.</p>
<p></p><p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="211.2px" preserveAspectRatio="none" style="width:600px;height:211px;background:#FFFFFF;" version="1.1" viewBox="0 0 600 211" width="600.6857px" zoomAndPan="magnify"><defs></defs><g><!--class Libro--><g id="elem_Libro"><rect codeline="12" fill="#FFFAFA" height="201.9643" id="Libro" rx="1.7143" ry="1.7143" style="stroke:#000000;stroke-width:0.3428571428571428;" width="340.1143" x="4.8" y="4.8"></rect><ellipse cx="160.9714" cy="15.7714" fill="#ADD1B2" rx="7.5429" ry="7.5429" style="stroke:#181818;stroke-width:0.6857142857142856;"></ellipse><path d="M162.8679,12.9429 Q162.975,12.7929 163.1036,12.7179 Q163.2321,12.6429 163.3821,12.6429 Q163.6393,12.6429 163.8,12.825 Q163.9607,12.9964 163.9607,13.4143 L163.9607,14.4107 Q163.9607,14.8286 163.8,15.0107 Q163.6393,15.1929 163.3821,15.1929 Q163.1464,15.1929 163.0071,15.0536 Q162.8679,14.925 162.7929,14.5714 Q162.7607,14.325 162.6321,14.1964 Q162.4071,13.9393 161.9893,13.7893 Q161.5714,13.6393 161.1429,13.6393 Q160.6179,13.6393 160.1786,13.8643 Q159.75,14.0893 159.4071,14.6036 Q159.075,15.1179 159.075,15.825 L159.075,16.575 Q159.075,17.4214 159.6857,17.9893 Q160.2964,18.5464 161.3893,18.5464 Q162.0321,18.5464 162.4821,18.375 Q162.75,18.2679 163.0393,17.9679 Q163.2214,17.7857 163.3179,17.7321 Q163.425,17.6786 163.5643,17.6786 Q163.7893,17.6786 163.9607,17.8607 Q164.1429,18.0321 164.1429,18.2679 Q164.1429,18.5036 163.9071,18.7821 Q163.5643,19.1786 163.0179,19.4036 Q162.2786,19.7143 161.3893,19.7143 Q160.35,19.7143 159.525,19.2857 Q158.85,18.9429 158.3786,18.2143 Q157.9071,17.475 157.9071,16.5964 L157.9071,15.8036 Q157.9071,14.8929 158.325,14.1107 Q158.7536,13.3179 159.5036,12.9 Q160.2536,12.4714 161.1,12.4714 Q161.6036,12.4714 162.0429,12.5893 Q162.4929,12.6964 162.8679,12.9429 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="21.9429" x="175.0286" y="19.6996">Libro</text><line style="stroke:#000000;stroke-width:0.3428571428571428;" x1="5.4857" x2="344.2286" y1="26.7429" y2="26.7429"></line><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="105.6" x="8.9143" y="39.4513">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="87.7714" x="8.9143" y="51.5263">-año : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="105.6" x="8.9143" y="63.6013">-paginas : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="85.0286" x="8.9143" y="75.6763">-paginasLeídas : int</text><line style="stroke:#000000;stroke-width:0.3428571428571428;" x1="5.4857" x2="344.2286" y1="80.5286" y2="80.5286"></line><text fill="#000000" font-family="sans-serif" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="331.8857" x="8.9143" y="93.2371">+ Libro(in titulo : string, in año : int, in paginas : int, in autor : Escritor)</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="84.3429" x="8.9143" y="105.3121">+GetTitulo() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="63.7714" x="8.9143" y="117.3871">+GetAño() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="104.2286" x="8.9143" y="129.4621">+ GetAutor() : Escritor</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="81.6" x="8.9143" y="141.5371">+GetPaginas() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="110.4" x="8.9143" y="153.6121">+GetPaginasLeidas() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="177.6" x="8.9143" y="165.6871">-SetPaginasLeidas(in paginas : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="113.1429" x="8.9143" y="177.7621">+Lee(int paginas : int) : int</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="101.4857" x="8.9143" y="189.8371">+PorcentajeLeído() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="95.3143" x="8.9143" y="201.9121">+Descripción() : string</text></g><!--class Escritor--><g id="elem_Escritor"><rect codeline="31" fill="#FFFAFA" height="153.6643" id="Escritor" rx="1.7143" ry="1.7143" style="stroke:#000000;stroke-width:0.3428571428571428;" width="209.8286" x="386.0571" y="29.1429"></rect><ellipse cx="471.6" cy="40.1143" fill="#ADD1B2" rx="7.5429" ry="7.5429" style="stroke:#181818;stroke-width:0.6857142857142856;"></ellipse><path d="M473.4964,37.2857 Q473.6036,37.1357 473.7321,37.0607 Q473.8607,36.9857 474.0107,36.9857 Q474.2679,36.9857 474.4286,37.1679 Q474.5893,37.3393 474.5893,37.7571 L474.5893,38.7536 Q474.5893,39.1714 474.4286,39.3536 Q474.2679,39.5357 474.0107,39.5357 Q473.775,39.5357 473.6357,39.3964 Q473.4964,39.2679 473.4214,38.9143 Q473.3893,38.6679 473.2607,38.5393 Q473.0357,38.2821 472.6179,38.1321 Q472.2,37.9821 471.7714,37.9821 Q471.2464,37.9821 470.8071,38.2071 Q470.3786,38.4321 470.0357,38.9464 Q469.7036,39.4607 469.7036,40.1679 L469.7036,40.9179 Q469.7036,41.7643 470.3143,42.3321 Q470.925,42.8893 472.0179,42.8893 Q472.6607,42.8893 473.1107,42.7179 Q473.3786,42.6107 473.6679,42.3107 Q473.85,42.1286 473.9464,42.075 Q474.0536,42.0214 474.1929,42.0214 Q474.4179,42.0214 474.5893,42.2036 Q474.7714,42.375 474.7714,42.6107 Q474.7714,42.8464 474.5357,43.125 Q474.1929,43.5214 473.6464,43.7464 Q472.9071,44.0571 472.0179,44.0571 Q470.9786,44.0571 470.1536,43.6286 Q469.4786,43.2857 469.0071,42.5571 Q468.5357,41.8179 468.5357,40.9393 L468.5357,40.1464 Q468.5357,39.2357 468.9536,38.4536 Q469.3821,37.6607 470.1321,37.2429 Q470.8821,36.8143 471.7286,36.8143 Q472.2321,36.8143 472.6714,36.9321 Q473.1214,37.0393 473.4964,37.2857 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="32.9143" x="485.6571" y="44.0424">Escritor</text><line style="stroke:#000000;stroke-width:0.3428571428571428;" x1="386.7429" x2="595.2" y1="51.0857" y2="51.0857"></line><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="117.9429" x="390.1714" y="63.7942">-nombre : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="117.9429" x="390.1714" y="75.8692">-nacimiento : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="80.9143" x="390.1714" y="87.9442">-publicaciones : int</text><line style="stroke:#000000;stroke-width:0.3428571428571428;" x1="386.7429" x2="595.2" y1="92.7964" y2="92.7964"></line><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="201.6" x="390.1714" y="105.5049">+Escritor(in nombre : string, in nacimiento : int)</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="93.9429" x="390.1714" y="117.5799">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="93.9429" x="390.1714" y="129.6549">+GetNacimiento() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="106.2857" x="390.1714" y="141.7299">+GetPublicaciones() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="198.1714" x="390.1714" y="153.8049">-SetPublicaciones(in publicaciones : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="137.8286" x="390.1714" y="165.8799">+Escribe(in titulo : string) : Libro</text><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacing" textLength="95.3143" x="390.1714" y="177.9549">+Descripción() : string</text></g><!--reverse link Libro to Escritor--><g id="link_Libro_Escritor"><path codeline="10" d="M353.3486,105.9429 C367.2274,105.9429 372.7543,105.9429 385.9406,105.9429 " fill="none" id="Libro-backto-Escritor" style="stroke:#000000;stroke-width:0.6857142857142856;"></path><polygon fill="none" points="345.12,105.9429,349.2343,108.6857,353.3486,105.9429,349.2343,103.2,345.12,105.9429" style="stroke:#000000;stroke-width:0.6857142857142856;"></polygon><text fill="#000000" font-family="sans-serif" font-size="8.9143" lengthAdjust="spacing" textLength="4.8" x="350.2459" y="115.3679">1</text><text fill="#000000" font-family="sans-serif" font-size="8.9143" lengthAdjust="spacing" textLength="4.8" x="375.9369" y="115.4666">1</text></g><!--SRC=[XLFBJiCm4BpxArQS-g1IkN3WrXQ4a2geL2JEZhEaIrDlvJXKWFWa3eXFw8zXEwHDtG2vMCvCPdOyJewF5Yo3eMnX8IM3oX9hKIYP8vmFXx2Xr2v4iIIzbaQkGEMoA4RM6afAYpUAzPnU4OODoiWOtamuPmFZNAfb0vgvhSnmx9RCSAdJYlQm88lp5I-nmPrufp6R54sxM4M8fEQQDq9CAJ4C9sSdm8D1MAyAPSYo4I8aWC0GRmBSCm1BjimPBg1mmNG6RmPbUgVpb_SVWjn-UfYqFSRMCYCjYt_WAMu_qfeb0jRhzQivEgJZ4KuThU4QjWT65Q5qaTo-JjVjzO9o7wxHtWV5JdUdkOT6JZW0VfPw5F_UwmMWLcmApYh_Wm-Rm1GfZU01p6Cu3kBfpqpfZzmKiUFFyOYpTvonKQYjVC9mg1mDT8b-zhMYxPTkfd-lkz_TXRf-pQl4u1_rQwbeHSxpzqjG9ZafHsED1oNtTtO-UUGKIep5k_k3lGtqrWflTr-rzD4SfgMF0zZtSJnyr4h8a63BHVN4wcVwx_I_0G00]--></g></svg></p><p></p>
<p>De la relación <strong>se debe deducir</strong> que en la clase libro tendremos un campo nuevo que podemos denominar <strong>autor</strong> y que será de solo lectura.</p>
<p>Veamos los cambios que implicará esta relación en la implementación de nuestra clase <strong><code>Libro</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido por brevedad.</span>
    <span class="token comment">// Añadiremos el campo que establece la relación de agregación indicada.</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Escritor</span> autor<span class="token punctuation">;</span>

    <span class="token comment">// Añadiremos un 'getter' para el campo</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Escritor</span> <span class="token function">GetAutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> autor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Recibimos la referencia al escritor en el constructor de libro.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token keyword keyword-int">int</span> año<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">,</span> <span class="token class-name">Escritor</span> autor<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// ... código omitido por brevedad.</span>
        <span class="token comment">// Nos quedamos con la referencia y en ningún caso deberemos hacer un copia de escritor. </span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>autor <span class="token operator">=</span> autor<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// ... código omitido por brevedad.</span>
        <span class="token comment">// Si tenemos constructor copia o método de clonado. </span>
        <span class="token comment">// Copiaremos la referencia al escritor y en ningún caso haremos </span>
        <span class="token comment">// copia en profundidad o llamaremos al constructor copia de escritor.. </span>
        autor <span class="token operator">=</span> l<span class="token punctuation">.</span>autor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Podemos añadir la información del escritor a la descripción del libro.</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Libro\n"</span></span> <span class="token operator">+</span>
                <span class="token string">"--------------------------\n"</span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Título: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Año: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">GetAñ<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Páginas: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span><span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Autor --------------------\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">autor<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>
</code></pre><p>En cuanto a la clase <strong><code>Escritor</code></strong> la única modificación la deberíamos hacer en el método <strong><code>Escribe()</code></strong> que ahora debe pasar el escritor al constructor de <strong><code>Libro</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400</span><span class="token range operator">..</span><span class="token number">800</span><span class="token punctuation">;</span>
    <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Fíjate que ahora pasamos this que es la referencia implícita al objeto </span>
    <span class="token comment">// escritor que está escribiendo el libro.</span>
    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span>titulo<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Year<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Si implementamos y ejecutamos el siguiente código de test...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Escritor</span> e <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Escritor</span><span class="token punctuation">(</span><span class="token string">"María"</span><span class="token punctuation">,</span> <span class="token number">1980</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Libro</span> l1 <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token string">"Programación en C#"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Libro</span> l2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span>l1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Console.WriteLine(l1.Descripcion());</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l2<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Libro</span> l3 <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token string">"Programación en Java"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l2<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Console.WriteLine(l3.Descripcion());</span>
<span class="token punctuation">}</span>
</code></pre><div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">The most disastrous thing that you can ever learn is your first programming language.</div>
        <div class="autor">- Alan kay.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<p>Al ejecutarlo obtendremos una salida similar a esta...</p>
<div class="code-chunk" data-id="code-chunk-id-0" data-cmd="bash"><div class="input-div"><pre data-role="codeBlock" data-info="bash {code_chunk_offset=0, cmd}" class="language-bash bash"><code>Libro
--------------------------
Título: Programación en C<span class="token comment">#</span>
Año: <span class="token number">2020</span>
Páginas: <span class="token number">517</span>
Autor --------------------
Nombre: María
Nacimiento: <span class="token number">1980</span>
Publicaciones: <span class="token number">1</span>

Libro
--------------------------
Título: Programación en C<span class="token comment">#</span>
Año: <span class="token number">2020</span>
Páginas: <span class="token number">517</span>
Autor --------------------
Nombre: María
Nacimiento: <span class="token number">1980</span>
Publicaciones: <span class="token number">2</span>
</code></pre><div class="code-chunk-btn-group"><div class="run-btn btn btn-xs btn-primary"><span>▶︎</span></div><div class="run-all-btn btn btn-xs btn-primary">all</div></div><div class="status">running...</div></div><div class="output-div"></div></div><p>Los tres objetos <strong><code>Libro</code></strong> <strong><code>l1</code></strong>, <strong><code>l2</code></strong> y <strong><code>l3</code></strong> referenciarán al mismo objeto <strong><code>Escritor</code></strong> <strong><code>e</code></strong>. Es más, si te fijas en la salida, el escritor al ver la primera descripción en <strong><code>l2</code></strong> solo ha publicado un libro y después de escribir el segundo libro la descripción de <strong><code>l2</code></strong> mantiene la integridad referencial indicándonos que ha publicado 2.</p>
<p align="center" style="zoom:0.8" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="677pt" height="456pt" viewBox="0.00 0.00 677.32 455.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 451.6)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-451.6 673.32,-451.6 673.32,4 -4,4"></polygon>
<!-- le -->
<g id="node1" class="node">
<title>le</title>
<ellipse fill="none" stroke="black" cx="189.87" cy="-429.6" rx="18" ry="18"></ellipse>
<text text-anchor="middle" x="189.87" y="-425.4" font-family="Arial" font-size="14.00">e</text>
</g>
<!-- oe -->
<g id="node8" class="node">
<title>oe</title>
<polygon fill="none" stroke="black" points="350.64,-245.4 350.64,-284.2 661.32,-284.2 661.32,-245.4 350.64,-245.4"></polygon>
<text text-anchor="start" x="361.64" y="-260.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e, l1::autor, l2::autor, l3::autor : Escritor &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="350.64,-173 350.64,-245.4 661.32,-245.4 661.32,-173 350.64,-173"></polygon>
<text text-anchor="start" x="449.46" y="-221.8" font-family="Arial" font-size="14.00">nombre = "María"</text>
<text text-anchor="start" x="500.14" y="-205" font-family="Arial" font-size="14.00">...</text>
<text text-anchor="start" x="443.91" y="-188.2" font-family="Arial" font-size="14.00">publicaciones = 2 &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- le&#45;&gt;oe -->
<g id="edge7" class="edge">
<title>le-&gt;oe</title>
<path fill="none" stroke="black" d="M208.26,-428.2C231.73,-425.74 274.33,-419.2 306.64,-402.6 358.53,-375.94 407.89,-332.73 444.38,-296.05"></path>
<polygon fill="black" stroke="black" points="446.86,-298.52 451.37,-288.93 441.87,-293.61 446.86,-298.52"></polygon>
</g>
<!-- l1 -->
<g id="node2" class="node">
<title>l1</title>
<ellipse fill="none" stroke="black" cx="18.55" cy="-333.6" rx="18.55" ry="18.55"></ellipse>
<text text-anchor="middle" x="18.55" y="-329.4" font-family="Arial" font-size="14.00">l1</text>
</g>
<!-- ol1 -->
<g id="node5" class="node">
<title>ol1</title>
<polygon fill="none" stroke="black" points="86.94,-350.4 86.94,-389.2 292.8,-389.2 292.8,-350.4 86.94,-350.4"></polygon>
<text text-anchor="start" x="141.63" y="-365.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l1: Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="86.94,-278 86.94,-350.4 292.8,-350.4 292.8,-278 86.94,-278"></polygon>
<text text-anchor="start" x="97.94" y="-326.8" font-family="Arial" font-size="14.00">titulo = "Programación en C#"</text>
<text text-anchor="start" x="270.13" y="-310" font-family="Arial" font-size="14.00">...</text>
<text text-anchor="start" x="249.89" y="-293.2" font-family="Arial" font-size="14.00">autor</text>
</g>
<!-- l1&#45;&gt;ol1 -->
<g id="edge1" class="edge">
<title>l1-&gt;ol1</title>
<path fill="none" stroke="black" d="M37.35,-333.6C45.52,-333.6 55.98,-333.6 67.57,-333.6"></path>
<polygon fill="black" stroke="black" points="67.47,-337.1 77.47,-333.6 67.47,-330.1 67.47,-337.1"></polygon>
</g>
<!-- l2 -->
<g id="node3" class="node">
<title>l2</title>
<ellipse fill="none" stroke="black" cx="18.55" cy="-196.6" rx="18.55" ry="18.55"></ellipse>
<text text-anchor="middle" x="18.55" y="-192.4" font-family="Arial" font-size="14.00">l2</text>
</g>
<!-- ol2 -->
<g id="node6" class="node">
<title>ol2</title>
<polygon fill="none" stroke="black" points="86.94,-213.4 86.94,-252.2 292.8,-252.2 292.8,-213.4 86.94,-213.4"></polygon>
<text text-anchor="start" x="141.63" y="-228.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l2: Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="86.94,-141 86.94,-213.4 292.8,-213.4 292.8,-141 86.94,-141"></polygon>
<text text-anchor="start" x="97.94" y="-189.8" font-family="Arial" font-size="14.00">titulo = "Programación en C#"</text>
<text text-anchor="start" x="270.13" y="-173" font-family="Arial" font-size="14.00">...</text>
<text text-anchor="start" x="249.89" y="-156.2" font-family="Arial" font-size="14.00">autor</text>
</g>
<!-- l2&#45;&gt;ol2 -->
<g id="edge2" class="edge">
<title>l2-&gt;ol2</title>
<path fill="none" stroke="black" d="M37.35,-196.6C45.52,-196.6 55.98,-196.6 67.57,-196.6"></path>
<polygon fill="black" stroke="black" points="67.47,-200.1 77.47,-196.6 67.47,-193.1 67.47,-200.1"></polygon>
</g>
<!-- l3 -->
<g id="node4" class="node">
<title>l3</title>
<ellipse fill="none" stroke="black" cx="18.55" cy="-59.6" rx="18.55" ry="18.55"></ellipse>
<text text-anchor="middle" x="18.55" y="-55.4" font-family="Arial" font-size="14.00">l3</text>
</g>
<!-- ol3 -->
<g id="node7" class="node">
<title>ol3</title>
<polygon fill="none" stroke="black" points="81.11,-76.4 81.11,-115.2 298.64,-115.2 298.64,-76.4 81.11,-76.4"></polygon>
<text text-anchor="start" x="141.63" y="-91.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l3: Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="81.11,-4 81.11,-76.4 298.64,-76.4 298.64,-4 81.11,-4"></polygon>
<text text-anchor="start" x="92.11" y="-52.8" font-family="Arial" font-size="14.00">titulo = "Programación en Java"</text>
<text text-anchor="start" x="275.97" y="-36" font-family="Arial" font-size="14.00">...</text>
<text text-anchor="start" x="255.73" y="-19.2" font-family="Arial" font-size="14.00">autor</text>
</g>
<!-- l3&#45;&gt;ol3 -->
<g id="edge3" class="edge">
<title>l3-&gt;ol3</title>
<path fill="none" stroke="black" d="M37.35,-59.6C44.19,-59.6 52.62,-59.6 61.98,-59.6"></path>
<polygon fill="black" stroke="black" points="61.83,-63.1 71.83,-59.6 61.83,-56.1 61.83,-63.1"></polygon>
</g>
<!-- ol1&#45;&gt;oe -->
<g id="edge4" class="edge">
<title>ol1:autor-&gt;oe</title>
<path fill="none" stroke="black" d="M282.87,-297.6C303.24,-297.6 324.2,-294.92 344.73,-290.62"></path>
<polygon fill="black" stroke="black" points="345.28,-294.08 354.28,-288.48 343.75,-287.25 345.28,-294.08"></polygon>
</g>
<!-- ol2&#45;&gt;oe -->
<g id="edge5" class="edge">
<title>ol2:autor-&gt;oe</title>
<path fill="none" stroke="black" d="M282.87,-160.6C301.84,-160.6 321.32,-162.89 340.51,-166.64"></path>
<polygon fill="black" stroke="black" points="339.77,-170.06 350.28,-168.69 341.21,-163.21 339.77,-170.06"></polygon>
</g>
<!-- ol3&#45;&gt;oe -->
<g id="edge6" class="edge">
<title>ol3:autor-&gt;oe</title>
<path fill="none" stroke="black" d="M288.87,-23.6C369.58,-23.6 432.2,-99.78 468.79,-159.27"></path>
<polygon fill="black" stroke="black" points="465.72,-160.96 473.88,-167.73 471.72,-157.36 465.72,-160.96"></polygon>
</g>
</g>
</svg>
</p><div style="page-break-after:always;"></div>
<h4 id="ejemplo-de-composición">Ejemplo de Composición </h4>
<p>Vamos ampliar nuestro ejemplo con la clase <strong><code>Libro</code></strong> y vamos a crear una relación entre <strong><code>Libro</code></strong>  y la clase <strong><code>Isbn3</code></strong> y además la fecha de publicación va a ser un <strong><code>DateTime</code></strong>.<br>
En ambos casos se cumple con la máxima de que si desaparece el libro, debería desaparecer su ISBN (tipo referencia) y su fecha de publicación (tipo valor).</p>
<p>Una posible forma de expresarlo en UML es la siguiente.</p>
<p></p><p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="318.5px" preserveAspectRatio="none" style="width:788px;height:318px;background:#FFFFFF;" version="1.1" viewBox="0 0 788 318" width="788.9px" zoomAndPan="magnify"><defs></defs><g><!--cluster System--><g id="cluster_System"><path d="M148.75,4.2 L184.45,4.2 A2.625,2.625 0 0 1 186.2,5.95 L191.1,20.7266 L232.75,20.7266 A1.75,1.75 0 0 1 234.5,22.4766 L234.5,69.65 A1.75,1.75 0 0 1 232.75,71.4 L148.75,71.4 A1.75,1.75 0 0 1 147,69.65 L147,5.95 A1.75,1.75 0 0 1 148.75,4.2 " fill="#F5F5F5" style="stroke:#000000;stroke-width:1.0499999999999998;"></path><line style="stroke:#000000;stroke-width:1.0499999999999998;" x1="147" x2="191.1" y1="20.7266" y2="20.7266"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="35" x="149.8" y="15.7732">System</text></g><!--class DateTime--><g id="elem_DateTime"><rect codeline="56" fill="#FFFAFA" height="29.8922" id="DateTime" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.3499999999999999;" width="65.1" x="158.2" y="29.75"></rect><ellipse cx="168.7" cy="44.6961" fill="#FF7700" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.6999999999999998;"></ellipse><path d="M166.9828,47.0039 L166.9828,42.3445 Q166.6,42.3336 166.4141,42.1695 Q166.2391,42.0055 166.2391,41.743 Q166.2391,41.4805 166.425,41.3164 Q166.6109,41.1523 167.0375,41.1523 L169.5312,41.1523 Q170.1109,41.1523 170.6687,41.3711 Q171.2266,41.5789 171.5656,41.918 Q171.8172,42.1695 172.0906,42.607 Q172.3641,43.0336 172.5062,43.4711 Q172.6484,43.8977 172.6484,44.5211 L172.6484,45.0898 Q172.6484,45.8445 172.3859,46.4352 Q172.1344,47.0148 171.7187,47.3867 Q171.3031,47.7477 170.9422,47.9227 Q170.3625,48.1961 169.4328,48.1961 L167.0375,48.1961 Q166.6109,48.1961 166.425,48.032 Q166.2391,47.868 166.2391,47.5945 Q166.2391,47.332 166.425,47.168 Q166.6109,47.0039 166.9828,47.0039 Z M168.175,47.0039 L169.4437,47.0039 Q170.1437,47.0039 170.5047,46.7961 Q170.975,46.5336 171.2156,46.1289 Q171.4562,45.7133 171.4562,45.057 L171.4562,44.4883 Q171.4562,43.9305 171.2375,43.5039 Q170.8984,42.8367 170.4719,42.5961 Q170.0562,42.3445 169.4328,42.3445 L168.175,42.3445 L168.175,47.0039 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="45.5" x="177.1" y="41.9699">«dataType»</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="42.7" x="178.5" y="53.9889">DateTime</text></g><!--class Libro--><g id="elem_Libro"><rect codeline="14" fill="#FFFAFA" height="206.1719" id="Libro" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.3499999999999999;" width="371.7" x="4.9" y="84.35"></rect><ellipse cx="176.575" cy="95.55" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.6999999999999998;"></ellipse><path d="M178.5109,92.6625 Q178.6203,92.5094 178.7516,92.4328 Q178.8828,92.3562 179.0359,92.3562 Q179.2984,92.3562 179.4625,92.5422 Q179.6266,92.7172 179.6266,93.1437 L179.6266,94.1609 Q179.6266,94.5875 179.4625,94.7734 Q179.2984,94.9594 179.0359,94.9594 Q178.7953,94.9594 178.6531,94.8172 Q178.5109,94.6859 178.4344,94.325 Q178.4016,94.0734 178.2703,93.9422 Q178.0406,93.6797 177.6141,93.5266 Q177.1875,93.3734 176.75,93.3734 Q176.2141,93.3734 175.7656,93.6031 Q175.3281,93.8328 174.9781,94.3578 Q174.6391,94.8828 174.6391,95.6047 L174.6391,96.3703 Q174.6391,97.2344 175.2625,97.8141 Q175.8859,98.3828 177.0016,98.3828 Q177.6578,98.3828 178.1172,98.2078 Q178.3906,98.0984 178.6859,97.7922 Q178.8719,97.6062 178.9703,97.5516 Q179.0797,97.4969 179.2219,97.4969 Q179.4516,97.4969 179.6266,97.6828 Q179.8125,97.8578 179.8125,98.0984 Q179.8125,98.3391 179.5719,98.6234 Q179.2219,99.0281 178.6641,99.2578 Q177.9094,99.575 177.0016,99.575 Q175.9406,99.575 175.0984,99.1375 Q174.4094,98.7875 173.9281,98.0437 Q173.4469,97.2891 173.4469,96.3922 L173.4469,95.5828 Q173.4469,94.6531 173.8734,93.8547 Q174.3109,93.0453 175.0766,92.6187 Q175.8422,92.1812 176.7062,92.1812 Q177.2203,92.1812 177.6687,92.3016 Q178.1281,92.4109 178.5109,92.6625 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="22.4" x="190.925" y="99.56">Libro</text><line style="stroke:#000000;stroke-width:0.3499999999999999;" x1="5.6" x2="375.9" y1="106.75" y2="106.75"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="107.8" x="9.1" y="119.7232">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="141.4" x="9.1" y="132.0498">- fecha : DateTime {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="107.8" x="9.1" y="144.3764">-paginas : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="86.8" x="9.1" y="156.7029">-paginasLeídas : int</text><line style="stroke:#000000;stroke-width:0.3499999999999999;" x1="5.6" x2="375.9" y1="161.6562" y2="161.6562"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="98.7" x="9.1" y="174.6295">+Libro(in titulo : string,</text><text fill="#000000" font-family="sans-serif" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="93.1" x="110.6" y="174.6295">in fecha : DateTime</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="154" x="203.7" y="174.6295">, in paginas : int, in autor : Escritor,</text><text fill="#000000" font-family="sans-serif" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="360.5" y="174.6295">...</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="3.5" x="368.9" y="174.6295">)</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="86.1" x="9.1" y="186.9561">+GetTitulo() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="116.9" x="9.1" y="199.2826">+ GetFecha() : DateTime</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="94.5" x="9.1" y="211.6092">+GetAutor() : Escritor</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="83.3" x="9.1" y="223.9357">+GetPaginas() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="112.7" x="9.1" y="236.2623">+GetPaginasLeidas() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="181.3" x="9.1" y="248.5889">-SetPaginasLeidas(in paginas : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="115.5" x="9.1" y="260.9154">+Lee(int paginas : int) : int</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="103.6" x="9.1" y="273.242">+PorcentajeLeído() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="97.3" x="9.1" y="285.5686">+Descripción() : string</text></g><!--class Escritor--><g id="elem_Escritor"><rect codeline="49" fill="#FFFAFA" height="22.4" id="Escritor" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.3499999999999999;" width="56" x="573.3" y="122.5"></rect><ellipse cx="583.8" cy="133.7" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.6999999999999998;"></ellipse><path d="M585.7359,130.8125 Q585.8453,130.6594 585.9766,130.5828 Q586.1078,130.5062 586.2609,130.5062 Q586.5234,130.5062 586.6875,130.6922 Q586.8516,130.8672 586.8516,131.2937 L586.8516,132.3109 Q586.8516,132.7375 586.6875,132.9234 Q586.5234,133.1094 586.2609,133.1094 Q586.0203,133.1094 585.8781,132.9672 Q585.7359,132.8359 585.6594,132.475 Q585.6266,132.2234 585.4953,132.0922 Q585.2656,131.8297 584.8391,131.6766 Q584.4125,131.5234 583.975,131.5234 Q583.4391,131.5234 582.9906,131.7531 Q582.5531,131.9828 582.2031,132.5078 Q581.8641,133.0328 581.8641,133.7547 L581.8641,134.5203 Q581.8641,135.3844 582.4875,135.9641 Q583.1109,136.5328 584.2266,136.5328 Q584.8828,136.5328 585.3422,136.3578 Q585.6156,136.2484 585.9109,135.9422 Q586.0969,135.7562 586.1953,135.7016 Q586.3047,135.6469 586.4469,135.6469 Q586.6766,135.6469 586.8516,135.8328 Q587.0375,136.0078 587.0375,136.2484 Q587.0375,136.4891 586.7969,136.7734 Q586.4469,137.1781 585.8891,137.4078 Q585.1344,137.725 584.2266,137.725 Q583.1656,137.725 582.3234,137.2875 Q581.6344,136.9375 581.1531,136.1937 Q580.6719,135.4391 580.6719,134.5422 L580.6719,133.7328 Q580.6719,132.8031 581.0984,132.0047 Q581.5359,131.1953 582.3016,130.7687 Q583.0672,130.3312 583.9312,130.3312 Q584.4453,130.3312 584.8937,130.4516 Q585.3531,130.5609 585.7359,130.8125 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="33.6" x="593.6" y="137.71">Escritor</text></g><!--class Isbn13--><g id="elem_Isbn13"><rect codeline="33" fill="#FFFAFA" height="144.5391" id="Isbn13" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.3499999999999999;" width="365.4" x="418.6" y="169.4"></rect><ellipse cx="583.625" cy="180.6" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.6999999999999998;"></ellipse><path d="M585.5609,177.7125 Q585.6703,177.5594 585.8016,177.4828 Q585.9328,177.4062 586.0859,177.4062 Q586.3484,177.4062 586.5125,177.5922 Q586.6766,177.7672 586.6766,178.1937 L586.6766,179.2109 Q586.6766,179.6375 586.5125,179.8234 Q586.3484,180.0094 586.0859,180.0094 Q585.8453,180.0094 585.7031,179.8672 Q585.5609,179.7359 585.4844,179.375 Q585.4516,179.1234 585.3203,178.9922 Q585.0906,178.7297 584.6641,178.5766 Q584.2375,178.4234 583.8,178.4234 Q583.2641,178.4234 582.8156,178.6531 Q582.3781,178.8828 582.0281,179.4078 Q581.6891,179.9328 581.6891,180.6547 L581.6891,181.4203 Q581.6891,182.2844 582.3125,182.8641 Q582.9359,183.4328 584.0516,183.4328 Q584.7078,183.4328 585.1672,183.2578 Q585.4406,183.1484 585.7359,182.8422 Q585.9219,182.6562 586.0203,182.6016 Q586.1297,182.5469 586.2719,182.5469 Q586.5016,182.5469 586.6766,182.7328 Q586.8625,182.9078 586.8625,183.1484 Q586.8625,183.3891 586.6219,183.6734 Q586.2719,184.0781 585.7141,184.3078 Q584.9594,184.625 584.0516,184.625 Q582.9906,184.625 582.1484,184.1875 Q581.4594,183.8375 580.9781,183.0937 Q580.4969,182.3391 580.4969,181.4422 L580.4969,180.6328 Q580.4969,179.7031 580.9234,178.9047 Q581.3609,178.0953 582.1266,177.6687 Q582.8922,177.2312 583.7562,177.2312 Q584.2703,177.2312 584.7187,177.3516 Q585.1781,177.4609 585.5609,177.7125 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="29.4" x="597.975" y="184.61">Isbn13</text><line style="stroke:#000000;stroke-width:0.3499999999999999;" x1="419.3" x2="783.3" y1="191.8" y2="191.8"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="114.1" x="422.8" y="204.7732">-prefijo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="162.4" x="422.8" y="217.0998">-grupoDeRegistro : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="111.3" x="422.8" y="229.4264">-titular : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="136.5" x="422.8" y="241.7529">-publicacion : string {readOnly}</text><line style="stroke:#000000;stroke-width:0.3499999999999999;" x1="419.3" x2="783.3" y1="246.7062" y2="246.7062"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="357" x="422.8" y="259.6795">+Isbn13(in prefijo : int, in grupoDeRegistro : int, in titular : int, on publicacion : int)</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="114.8" x="422.8" y="272.0061">+Isbn13(in isbn13 : string)</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="108.5" x="422.8" y="284.3326">+Isbn13(in isbn : Isbn13)</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="101.5" x="422.8" y="296.6592">+DigitoDeControl() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="165.2" x="422.8" y="308.9857">+ATexto(in separador : string) : string</text></g><!--reverse link Libro to Escritor--><g id="link_Libro_Escritor"><path codeline="11" d="M385.1027,161.9163 C399.2567,160.0473 404.992,159.292 418.6,157.5 C473.417,150.283 537.53,141.918 573.153,137.277 " fill="none" id="Libro-backto-Escritor" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><polygon fill="none" points="376.775,163.016,381.3054,165.2421,385.1027,161.9163,380.5723,159.6903,376.775,163.016" style="stroke:#000000;stroke-width:0.6999999999999998;"></polygon><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="4.9" x="382.3704" y="171.9075">1</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="4.9" x="562.8029" y="148.3802">1</text></g><!--reverse link Libro to Isbn13--><g id="link_Libro_Isbn13"><path codeline="12" d="M385.2014,213.1247 C399.0474,214.9447 404.684,215.691 418.516,217.511 " fill="none" id="Libro-backto-Isbn13" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><polygon fill="#000000" points="376.873,212.03,380.6723,215.3535,385.2014,213.1247,381.4021,209.8012,376.873,212.03" style="stroke:#000000;stroke-width:0.6999999999999998;"></polygon><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="4.9" x="382.4713" y="222.3766">1</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="4.9" x="408.1169" y="226.4103">1</text></g><!--SRC=[VLJBZjem5DtxAwpf1bA267M1L8r60ZACHa8gAaXT6_iIxf3OaUrqIX6Vr5K_ONwiZlCW13fiGdpElUVSXvF0rbAhgCPuPwb03ToYaiJiKMPCivJoX1apiLRZ9hVmmfLSuM-WenPbehLwcwb4QJfD6D-teALxPJ5CtIFMAfUYfFtOeOLLglRGuiuAfQdI0lJjP2MXasebrHiXXhF4cHgE2LdWHYjwTtz7LHZwvvFX6gtIBIYee1UpaVTV2F5LKe-J8w7k5rABDayK_KgDArx6zAY1YMyoEPmy8GX2kWM-OuuHCGjhJA752O8gJSPYbCmu5ahRJTB02tZ_8seMyTZdqayFPTVAm8cxqwvw40nSzAMWFs6vgzwzruqeueV3OH3qAw5di6ilqUit8bMH7fmNIXuxQvr39qLwZpQTRh1bQSQZHMLTO04eEd18LrsuMrL1_wbGr7q2w1NDlUAS5PTASv2MlOBljEeOYg1mdd5y_olRFJZLgr4jIhqRcOOjllv_EK8QwpnJ4No761tb8wOVBjCVCB9yao1dtDtCcwogYDAZRrPZhrw1QpirSfRt9qxYKgvevPK0-d-DcTi41vS7DHnXxBOZWfcIpaFIcS5a3R-iNtS3nOKNwjoJov6G7GgWa6RsG5D8Dw1DDQPc0O-UbvMV7xew60jfDRsIsLpPXuTUDFWqdu_7er6V2cRP-f31uwFdbX7b7Bne4vQ2tIbXRY2i_bWQSle7]--></g></svg></p><p></p>
<p>Fíjate que con DateTime no hace falta indicar la relación porque al ser un tipo valor, forzosamente ya es una composición. Además, de esta relación también <strong>se debe deducir</strong> que en la clase libro tendremos un campo nuevo que podemos denominar <strong>isbn</strong> y que será de solo lectura.</p>
<p>Veamos los cambios que implicará esta relación en la implementación de nuestra clase <strong><code>Libro</code></strong>.</p>
<p>Lo mas lógico es que llegue el <strong>ISBN</strong> al constructor de <strong><code>Libro</code></strong>, puesto que no es <strong>responsabilidad</strong> del libro definirlo, sino más bien de un posible objeto de tipo <strong><code>Editorial</code></strong> de existir el mismo.</p>
<div class="caso_estudio">
<p>✋ <strong>Muy importante</strong>:</p>
<p>Deberemos asegurarnos que la <strong>referencia</strong> al objeto <strong><code>Isbn13</code></strong> que tenga nuestro objeto <strong><code>Libro</code></strong>, solo la tenga él y no esté referenciado por nadie más, como puede suceder con el <strong><code>Escritor</code></strong> por ser una agregación.</p>
<p>De esta manera al ser '<em>Destruido</em>' el libro, el el objeto <strong><code>Isbn13</code></strong> dejará de estar referenciado y también será destruido por el GC.<br>
👁️ Fíjate que por esa misma razón no definimos ningún <strong>accesor publico</strong> del tipo <strong><code>GetISBN() : Isbn13</code></strong>. Si lo hiciéramos, este debería devolver una <strong>copia</strong>.<br>
<strong>¿Qué sentido tiene que haya un objeto isbn referenciado por alguien, si su libro asociado ya no existe?</strong></p>
<p align="center" style="zoom:0.8" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="385pt" height="272pt" viewBox="0.00 0.00 385.40 271.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 267.8)">
<title>G</title>
<!-- ll -->
<g id="node1" class="node">
<title>ll</title>
<ellipse fill="none" stroke="black" cx="18" cy="-114.8" rx="18" ry="18"></ellipse>
<text text-anchor="middle" x="18" y="-110.6" font-family="Arial" font-size="14.00">l</text>
</g>
<!-- ol -->
<g id="node3" class="node">
<title>ol</title>
<polygon fill="none" stroke="black" points="81,-166.2 81,-205 191.7,-205 191.7,-166.2 81,-166.2"></polygon>
<text text-anchor="start" x="92" y="-181.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l: Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="#ee1289" points="92,-137.2 92,-155.2 180.7,-155.2 180.7,-137.2 92,-137.2"></polygon>
<text text-anchor="start" x="106.01" y="-141.6" font-family="Arial" font-size="14.00">DateTime</text>
<polygon fill="none" stroke="#ee1289" points="92,-89.2 92,-137.2 148.35,-137.2 148.35,-89.2 92,-89.2"></polygon>
<text text-anchor="start" x="103.05" y="-109" font-family="Arial" font-size="14.00" fill="#cd1076">fecha</text>
<text text-anchor="start" x="158.69" y="-124.6" font-family="Arial" font-size="14.00">...</text>
<text text-anchor="start" x="158.69" y="-108.6" font-family="Arial" font-size="14.00">...</text>
<text text-anchor="start" x="158.69" y="-92.6" font-family="Arial" font-size="14.00">...</text>
<polygon fill="none" stroke="#ee1289" points="91,-88.2 91,-156.2 181.7,-156.2 181.7,-88.2 91,-88.2"></polygon>
<text text-anchor="start" x="149.79" y="-55.6" font-family="Arial" font-size="14.00">autor</text>
<text text-anchor="start" x="156.01" y="-38.8" font-family="Arial" font-size="14.00" fill="#cd1076">isbn</text>
<polygon fill="none" stroke="black" points="80,-23.6 80,-206 192.7,-206 192.7,-23.6 80,-23.6"></polygon>
</g>
<!-- ll&#45;&gt;ol -->
<g id="edge1" class="edge">
<title>ll-&gt;ol</title>
<path fill="none" stroke="black" d="M36.42,-114.8C43.36,-114.8 51.85,-114.8 60.92,-114.8"></path>
<polygon fill="black" stroke="black" points="60.69,-118.3 70.69,-114.8 60.69,-111.3 60.69,-118.3"></polygon>
</g>
<!-- le -->
<g id="node2" class="node">
<title>le</title>
<ellipse fill="none" stroke="black" cx="136.35" cy="-245.8" rx="18" ry="18"></ellipse>
<text text-anchor="middle" x="136.35" y="-241.6" font-family="Arial" font-size="14.00">e</text>
</g>
<!-- oa -->
<g id="node4" class="node">
<title>oa</title>
<polygon fill="none" stroke="black" points="244.7,-195.8 244.7,-234.6 369.4,-234.6 369.4,-195.8 244.7,-195.8"></polygon>
<text text-anchor="start" x="255.7" y="-211" font-family="Arial" font-size="14.00">e, autor: Escritor</text>
<polygon fill="none" stroke="black" points="244.7,-157 244.7,-195.8 369.4,-195.8 369.4,-157 244.7,-157"></polygon>
<text text-anchor="start" x="293.43" y="-172.2" font-family="Arial" font-size="14.00">... &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- le&#45;&gt;oa -->
<g id="edge4" class="edge">
<title>le-&gt;oa</title>
<path fill="none" stroke="black" d="M154.14,-240.82C171.21,-235.76 198.93,-227.55 226.05,-219.51"></path>
<polygon fill="black" stroke="black" points="226.75,-222.95 235.34,-216.76 224.76,-216.24 226.75,-222.95"></polygon>
</g>
<!-- ol&#45;&gt;oa -->
<g id="edge2" class="edge">
<title>ol:autor-&gt;oa:w</title>
<path fill="none" stroke="black" d="M182.35,-59.8C243.12,-59.8 181.05,-178.34 225.51,-194.08"></path>
<polygon fill="black" stroke="black" points="224.78,-197.51 235.2,-195.57 225.85,-190.59 224.78,-197.51"></polygon>
</g>
<!-- oi -->
<g id="node5" class="node">
<title>oi</title>
<polygon fill="none" stroke="#cd1076" points="258.3,-42.8 258.3,-81.6 355.8,-81.6 355.8,-42.8 258.3,-42.8"></polygon>
<text text-anchor="start" x="269.3" y="-58" font-family="Arial" font-size="14.00">isbn: Isbn13</text>
<polygon fill="none" stroke="#cd1076" points="258.3,-4 258.3,-42.8 355.8,-42.8 355.8,-4 258.3,-4"></polygon>
<text text-anchor="start" x="293.43" y="-19.2" font-family="Arial" font-size="14.00">... &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- ol&#45;&gt;oi -->
<g id="edge3" class="edge">
<title>ol:isbn-&gt;oi:w</title>
<path fill="none" stroke="#cd1076" d="M182.35,-42.8C207.82,-42.8 216.88,-42.8 237.74,-42.8"></path>
<polygon fill="#cd1076" stroke="#cd1076" points="237.53,-46.3 247.53,-42.8 237.53,-39.3 237.53,-46.3"></polygon>
</g>
</g>
</svg>
</p></div> <!-- fin caso de estudio -->
<p>Sabiendo que nuestro libro debe ser el único en referenciar el objeto ISBN. Una de las formas de abordarlo es la siguiente (Existen otras que veremos más adelante al ver POO Avanzada):</p>
<p>Pasaremos los datos necesarios para construir un objeto ISBN al constructor de Libro (en nuestro caso una cadena con el isbn) y será este quien lo cree. En el fondo esto es lo que sucede con un tipo valor como <strong><code>DateTime</code></strong> por su '<em>naturaleza</em>'.<br>
De esta manera, además, el objeto <strong><code>Isbn13</code></strong> que estoy creando desaparecerá junto con el libro.</p>
<blockquote>
<p>📌 <strong>Nota:</strong> Fíjate que con el <strong><code>Escritor</code></strong>, no sucede lo mismo.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">DateTime</span> fecha<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Isbn13</span> isbn<span class="token punctuation">;</span>
    <span class="token comment">// ... código omitido por brevedad</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span><span class="token keyword keyword-in">in</span> <span class="token class-name">DateTime</span> fecha<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">,</span> <span class="token class-name">Escritor</span> autor<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>titulo <span class="token operator">=</span> titulo<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>fecha <span class="token operator">=</span> fecha<span class="token punctuation">;</span> <span class="token comment">// Aquí estamos haciendo una copia por ser un tipo valor.</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>paginas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>autor <span class="token operator">=</span> autor<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>isbn <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Isbn13</span><span class="token punctuation">(</span>isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        titulo <span class="token operator">=</span> l<span class="token punctuation">.</span>titulo<span class="token punctuation">;</span>
        fecha <span class="token operator">=</span> l<span class="token punctuation">.</span>fecha<span class="token punctuation">;</span> <span class="token comment">// Aquí estamos haciendo una copia por ser un tipo valor.</span>
        paginas <span class="token operator">=</span> l<span class="token punctuation">.</span>paginas<span class="token punctuation">;</span>
        autor <span class="token operator">=</span> l<span class="token punctuation">.</span>autor<span class="token punctuation">;</span>
        <span class="token comment">// En el constructor copia haremos una copia en profundidad. Duplicando el objeto </span>
        <span class="token comment">// referenciado por isbn, para que cada libro tenga el suyo y así desaparezca con él.</span>
        isbn <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Isbn13</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>paginasLeidas<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Libro\n"</span></span> <span class="token operator">+</span> <span class="token string">"--------------------------\n"</span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Título: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Fecha: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetFecha</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToShortTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Páginas: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"ISBN: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">isbn<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Autor --------------------\n"</span></span> <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">autor<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Escritor</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido por brevedad</span>
    <span class="token comment">// Tampoco es responsabilidad del escritor crear el ISBN.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400</span><span class="token range operator">..</span><span class="token number">800</span><span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span>titulo<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">,</span> isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Programa</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Escritor</span> e <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Escritor</span><span class="token punctuation">(</span><span class="token string">"María"</span><span class="token punctuation">,</span> <span class="token number">1980</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Nos hemos asegurado que el libro l tenga su propia referencia al objeto isbn.</span>
        <span class="token comment">// Lo que hagamos con el objeto isbn referenciado en el main, ya no importa porque no afecta a l</span>
        <span class="token class-name">Libro</span> l <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token string">"Programación en C#"</span><span class="token punctuation">,</span> <span class="token string">"9788420454665"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Es importente insistir en la gestión de la memoria y por tanto deberemos tener en cuenta que en el bloque <strong><code>Main</code></strong> anterior:</p>
<ol>
<li>
<p>En el <strong>Stack</strong> tendremos dos referencias:</p>
<ul>
<li><strong><code>e</code></strong> que apunta al objeto de tipo <strong><code>Escritor</code></strong> <strong><code>"María"</code></strong></li>
<li><strong><code>l</code></strong> que apunta al objeto de tipo <strong><code>Libro</code></strong> <strong><code>"Programación en C#"</code></strong></li>
</ul>
</li>
<li>
<p>En el <strong>Heap</strong> tendremos:</p>
<ul>
<li>El objeto de tipo <strong><code>Escritor</code></strong> referenciado por <strong><code>e</code></strong> en el <strong>Stack</strong> y por el campo <strong><code>autor</code></strong> en el objeto de tipo <strong><code>Libro</code></strong>.</li>
<li>El objeto de tipo <strong><code>Isbn13</code></strong> creado <em>'dentro del libro'</em> y referenciado únicamente por el através del campo <strong><code>isbn</code></strong>.</li>
<li>El objeto de tipo <strong><code>Libro</code></strong> que contiene el Tipo Valor <strong><code>DateTime</code></strong> por lo que este formará parte del propio objeto y no es una referencia a otro objeto en el Heap. Esto significa que será destruido junto con el libro.</li>
</ul>
</li>
</ol>
<p align="center" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="521pt" height="354pt" viewBox="0.00 0.00 521.41 354.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 350)">
<title>G</title>
<g id="clust2" class="cluster">
<title>cluster2</title>
<polygon fill="LightSteelBlue" stroke="black" points="322,-8 322,-338 470.12,-338 470.12,-8 322,-8"></polygon>
<text text-anchor="middle" x="396.06" y="-321.4" font-family="Arial" font-size="14.00">HEAP</text>
</g>
<g id="clust1" class="cluster">
<title>cluster1</title>
<polygon fill="SteelBlue" stroke="black" points="82,-91 82,-256 228,-256 228,-91 82,-91"></polygon>
<text text-anchor="middle" x="155" y="-239.4" font-family="Arial" font-size="14.00" fill="white">STACK</text>
</g>
<!-- stack -->
<g id="node1" class="node">
<title>stack</title>
<text text-anchor="start" x="119.94" y="-185.8" font-family="Arial" font-size="14.00" fill="white">l</text>
<polygon fill="CornflowerBlue" stroke="none" points="145,-161 145,-219 212,-219 212,-161 145,-161"></polygon>
<polygon fill="none" stroke="white" points="145,-161 145,-219 212,-219 212,-161 145,-161"></polygon>
<text text-anchor="start" x="165.67" y="-185.4" font-family="Arial" font-size="14.00" fill="white">(ref)</text>
<text text-anchor="start" x="117.61" y="-127.8" font-family="Arial" font-size="14.00" fill="white">e</text>
<polygon fill="CornflowerBlue" stroke="none" points="145,-103 145,-161 212,-161 212,-103 145,-103"></polygon>
<polygon fill="none" stroke="white" points="145,-103 145,-161 212,-161 212,-103 145,-103"></polygon>
<text text-anchor="start" x="165.67" y="-127.4" font-family="Arial" font-size="14.00" fill="white">(ref)</text>
</g>
<!-- heap -->
<g id="node2" class="node">
<title>heap</title>
<polygon fill="none" stroke="black" points="338,-262.8 338,-301.6 454.12,-301.6 454.12,-262.8 338,-262.8"></polygon>
<text text-anchor="start" x="349" y="-278" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Escritor &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="338,-224 338,-262.8 454.12,-262.8 454.12,-224 338,-224"></polygon>
<text text-anchor="start" x="366.89" y="-239.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="338,-185.2 338,-224 454.12,-224 454.12,-185.2 338,-185.2"></polygon>
<text text-anchor="start" x="351.71" y="-200.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Isbn13 &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="338,-146.4 338,-185.2 454.12,-185.2 454.12,-146.4 338,-146.4"></polygon>
<text text-anchor="start" x="366.89" y="-161.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="338,-20.4 338,-146.4 454.12,-146.4 454.12,-20.4 338,-20.4"></polygon>
<polygon fill="none" stroke="black" points="349,-117.4 349,-135.4 443.12,-135.4 443.12,-117.4 349,-117.4"></polygon>
<text text-anchor="start" x="365.72" y="-121.8" font-family="Arial" font-size="14.00">DateTime</text>
<polygon fill="none" stroke="black" points="349,-63.4 349,-117.4 397.56,-117.4 397.56,-63.4 349,-63.4"></polygon>
<text text-anchor="start" x="356.16" y="-86.2" font-family="Arial" font-size="14.00">fecha</text>
<polygon fill="none" stroke="black" points="397.56,-99.4 397.56,-117.4 443.12,-117.4 443.12,-99.4 397.56,-99.4"></polygon>
<text text-anchor="start" x="412.56" y="-103.8" font-family="Arial" font-size="14.00">dd</text>
<polygon fill="none" stroke="black" points="397.56,-81.4 397.56,-99.4 443.12,-99.4 443.12,-81.4 397.56,-81.4"></polygon>
<text text-anchor="start" x="408.68" y="-85.8" font-family="Arial" font-size="14.00">mm</text>
<polygon fill="none" stroke="black" points="397.56,-63.4 397.56,-81.4 443.12,-81.4 443.12,-63.4 397.56,-63.4"></polygon>
<text text-anchor="start" x="404.77" y="-67.8" font-family="Arial" font-size="14.00">aaaa</text>
<text text-anchor="start" x="381.66" y="-50.8" font-family="Arial" font-size="14.00">autor (ref)</text>
<text text-anchor="start" x="387.89" y="-34.8" font-family="Arial" font-size="14.00">isbn (ref)</text>
</g>
<!-- stack&#45;&gt;heap -->
<g id="edge2" class="edge">
<title>stack:e-&gt;heap:w</title>
<path fill="none" stroke="black" d="M212,-190C212,-190 300.92,-114.53 329.4,-90.35"></path>
<polygon fill="black" stroke="black" points="331.55,-93.12 336.91,-83.98 327.02,-87.78 331.55,-93.12"></polygon>
</g>
<!-- stack&#45;&gt;heap -->
<g id="edge3" class="edge">
<title>stack:e-&gt;heap:w</title>
<path fill="none" stroke="black" d="M212,-132C212,-132 304.26,-241.77 330.92,-273.51"></path>
<polygon fill="black" stroke="black" points="327.97,-275.44 337.09,-280.84 333.33,-270.93 327.97,-275.44"></polygon>
</g>
<!-- stack&#45;&gt;heap -->
<g id="edge6" class="edge">
<title>stack-&gt;heap</title>
<path fill="none" stroke="none" d="M228,-161C256.67,-161 289.61,-161 318.68,-161"></path>
<polygon fill="none" stroke="none" points="310.49,-164.5 320.49,-161 310.49,-157.5 310.49,-164.5"></polygon>
</g>
<!-- heap&#45;&gt;heap -->
<g id="edge4" class="edge">
<title>heap:e-&gt;heap:e</title>
<path fill="none" stroke="black" d="M443.06,-55C479.22,-46 513.41,-46 513.41,-168.5 513.41,-273.77 488.16,-288.58 465.09,-284.95"></path>
<polygon fill="black" stroke="black" points="466.09,-281.59 455.52,-282.39 464.28,-288.35 466.09,-281.59"></polygon>
</g>
<!-- heap&#45;&gt;heap -->
<g id="edge5" class="edge">
<title>heap:e-&gt;heap:e</title>
<path fill="none" stroke="SteelBlue" d="M443.06,-39C479.22,-30 513.41,-30 513.41,-122 513.41,-201.06 488.16,-212.18 465.09,-208.03"></path>
<polygon fill="SteelBlue" stroke="SteelBlue" points="466.09,-204.68 455.52,-205.4 464.24,-211.43 466.09,-204.68"></polygon>
</g>
<!-- Cima\nPila -->
<g id="node3" class="node">
<title>Cima\nPila</title>
<text text-anchor="middle" x="27" y="-223.2" font-family="Arial" font-size="14.00">Cima</text>
<text text-anchor="middle" x="27" y="-206.4" font-family="Arial" font-size="14.00">Pila</text>
</g>
<!-- Cima\nPila&#45;&gt;stack -->
<g id="edge1" class="edge">
<title>Cima\nPila-&gt;stack:nw</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M53.97,-219.22C78.88,-219.43 115.32,-219.75 133.63,-219.9"></path>
<polygon fill="black" stroke="black" points="133.46,-223.4 143.49,-219.99 133.52,-216.4 133.46,-223.4"></polygon>
</g>
</g>
</svg>
</p><p>Si te fijas en el diagrama que representa la disposición de memoria que hemos comentado. La liberación de memoria seguirá el siguiente proceso...</p>
<ol>
<li>Se desapilarán las referencias <strong><code>l</code></strong> y <strong><code>e</code></strong> por lo que:
<ul>
<li>El objeto de tipo <strong><code>Libro</code></strong> ya no estará referenciado por nadie y será liberado en la siguiente pasada del <strong>GC</strong>.</li>
<li>El objeto de tipo <strong><code>Escritor</code></strong> aún seguirá referenciado por el campo <strong><code>autor</code></strong> y no se liberará.</li>
</ul>
</li>
<li>Al liberarse El objeto de tipo <strong><code>Libro</code></strong>...
<ul>
<li>El campo <strong><code>fecha</code></strong> se liberá con él al ser de tipo valor.</li>
<li>Los objetos de tipo <strong><code>Isbn13</code></strong> y <strong><code>Escritor</code></strong> dejará de estar referenciados y en la '<em>siguiente</em>' pasada del <strong><code>GC</code></strong> se liberarán.</li>
</ul>
</li>
</ol>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>