<!DOCTYPE html><html><head>
      <title>Programaci√≥n 1¬∫ DAM Tema 7 pate 1</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v19/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
.markdown-preview.markdown-preview .caso_estudio {
  background-color: #f5f5f5;
  border: 2px solid #969696;
  padding: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .resumen {
  background-color: #d6d6d6;
  border: 2px solid #b0b0b0;
  padding: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .ejercicio {
  background-color: #f5faf5;
  border: 2px solid #969b96;
  padding-left: 15px;
  padding-right: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.markdown-preview.markdown-preview .fondo {
  background: url(https://programacioniesbalmis.github.io/Imagenes/BannersMoodle/banner.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.markdown-preview.markdown-preview .cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.markdown-preview.markdown-preview .abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.markdown-preview.markdown-preview .cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.markdown-preview.markdown-preview .autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
.markdown-preview.markdown-preview .flotante {
  display: flex;
  justify-content: space-between;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: row;
  }
}
.markdown-preview.markdown-preview .flotante_izq {
  margin-right: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: auto;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: auto;
  }
}
.markdown-preview.markdown-preview .cabeceras_examen {
  background-color: #fcfcfc;
  border: 2px solid #b7bbb7;
  padding-left: 15px;
  padding-right: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
  color: black;
  font-size: 8pt;
}
.markdown-preview.markdown-preview .ejercicio_control {
  background-color: #f9faf9;
  border: 2px solid #b4b7b4;
  padding-left: 15px;
  padding-right: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="tema-7-parte-1">Tema 7 parte 1 </h1>
<p>Descargar estos apuntes en <a href="./Tema7_1.pdf">pdf</a> o <a href="./Tema7_1.html">html</a></p>
<h2 id="√≠ndice">√çndice </h2>

<div class="md-toc">
<div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">
          <a href="#√≠ndice" class="md-toc-link">
            <p>√çndice</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">
          <a href="#repaso-tema-5" class="md-toc-link">
            <p>Repaso Tema 5</p>

          </a></div><details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#dise√±o-orientada-a-objetos-b√°sico" class="md-toc-link"><p>Dise√±o Orientada a Objetos B√°sico</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#definici√≥n-de-operaci√≥n-o-m√©todo" class="md-toc-link"><p>Definici√≥n de operaci√≥n o m√©todo</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#tipos-de-m√©todos" class="md-toc-link">
            <p>Tipos de m√©todos</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#enfoque-de-los-m√©todos-desde-la-teor√≠a-de-poo" class="md-toc-link">
            <p>Enfoque de los m√©todos desde la teor√≠a de POO</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#definici√≥n-de-encapsulaci√≥n" class="md-toc-link">
            <p>Definici√≥n de Encapsulaci√≥n</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#definici√≥n-de-constructor-y-destructor" class="md-toc-link">
            <p>Definici√≥n de Constructor Y Destructor</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#definiendo-nuestra-primera-clase-a-trav√©s-de-csharp" class="md-toc-link"><p>Definiendo nuestra primera clase a trav√©s de CSharp</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#paso-1-definir-los-campos-atributos-en-poo-cl√°sica" class="md-toc-link">
            <p>Paso 1: Definir los campos (atributos en POO cl√°sica)</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#paso-2-definir-los-constructores--destructores-de-objetos" class="md-toc-link"><p>Paso 2: Definir los constructores / destructores de objetos</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#referencia-impl√≠cita-this" class="md-toc-link">
            <p>Referencia impl√≠cita this</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#constructor-por-defecto" class="md-toc-link">
            <p>Constructor por defecto</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#constructor-copia" class="md-toc-link">
            <p>Constructor copia</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#destructores" class="md-toc-link">
            <p>Destructor/es</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#paso-3-definir-los-accesores-y-mutadores-propiedades-en-csharp" class="md-toc-link"><p>Paso 3: Definir los accesores y mutadores (Propiedades en CSharp)</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#bulb-tips-de-dise√±o-de-getters-y-setters" class="md-toc-link">
            <p>üí° Tips de dise√±o de <em>'getters'</em> y <em>'setters'</em></p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#paso-4-definir-m√©todos-u-operaciones-de-la-clase" class="md-toc-link">
            <p>Paso 4: Definir m√©todos u operaciones de la clase</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#paso-5-crear-un-peque√±o-test-para-nuestra-clase-opcional" class="md-toc-link">
            <p>Paso 5: Crear un peque√±o test para nuestra clase (Opcional)</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#resumen-de-directrices-generales-de-definici√≥n-de-clases" class="md-toc-link">
            <p>Resumen de directrices generales de definici√≥n de clases</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#definiendo-tipos-y-objetos-valor" class="md-toc-link"><p>Definiendo tipos y objetos '<em>valor</em>'</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#un-poco-de-historia" class="md-toc-link">
            <p>Un poco de historia</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#bulb-tips-para-definir-un-value-object-usando-struct-o-tipos-valor" class="md-toc-link">
            <p>üí° Tips para definir un Value Object usando struct o tipos valor</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#definir-objetos-valor-a-trav√©s-de-csharp" class="md-toc-link"><p>Definir objetos valor a trav√©s de CSharp</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#creando-un-objeto-valor-como-un-tipo-valor" class="md-toc-link">
            <p>Creando un objeto valor como un tipo valor</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#definiendo-operaciones-inmutables-en-el-objeto-valor" class="md-toc-link">
            <p>Definiendo operaciones inmutables en el objeto valor</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#ejemplo-de-objeto-valor-definido-en-las-bcl-como-tipo-valor" class="md-toc-link"><p>Ejemplo de objeto valor definido en las BCL como tipo valor</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#formas-de-instanciar-objetos-valor-fecha" class="md-toc-link">
            <p>Formas de instanciar objetos valor fecha</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#operaciones-m√°s-comunes-con-fechas" class="md-toc-link">
            <p>Operaciones m√°s comunes con fechas</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#fechas-y-cadenas" class="md-toc-link">
            <p>Fechas y cadenas</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#qu√©-pasa-si-solo-queremos-guardar-la-hora-o-la-fecha" class="md-toc-link">
            <p>¬øQu√© pasa si solo queremos guardar la hora o la fecha?</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    <details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#roles-entre-clases" class="md-toc-link"><p>Roles entre clases</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#relaciones-todo-parte" class="md-toc-link"><p>Relaciones Todo-Parte</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#agregaci√≥n-o-referencia" class="md-toc-link"><p>Agregaci√≥n o referencia</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ventajas-de-la-agregaci√≥n-1" class="md-toc-link">
            <p>Ventajas de la agregaci√≥n üëç</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#desventajas-de-la-agregaci√≥n--1" class="md-toc-link">
            <p>Desventajas de la agregaci√≥n üëé</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#composici√≥n-o-subobjetos" class="md-toc-link"><p>Composici√≥n o subobjetos</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ventajas-de-la-composici√≥n-1" class="md-toc-link">
            <p>Ventajas de la composici√≥n üëç</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#desventajas-de-la-composici√≥n--1" class="md-toc-link">
            <p>Desventajas de la composici√≥n üëé</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ejemplo-de-agregaci√≥n" class="md-toc-link">
            <p>Ejemplo de Agregaci√≥n</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ejemplo-de-composici√≥n" class="md-toc-link">
            <p>Ejemplo de Composici√≥n</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    
</div>
<div style="page-break-after:always;"></div>
<h2 id="repaso-tema-5">Repaso Tema 5 </h2>
<p>Repasemos a trav√©s del siguiente diagrama las definiciones y conceptos iniciales de POO que vimos en el tema 5.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="396.2px" preserveAspectRatio="none" style="width:1026px;height:396px;background:#FFFFFF;" version="1.1" viewBox="0 0 1026 396" width="1026.9px" zoomAndPan="magnify"><defs></defs><g><rect fill="#D3D3D3" height="55.2234" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="80.5" x="375.9" y="169.9469"></rect><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="59.5" x="386.4" y="189.5435">Definiciones</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="37.1" x="397.6" y="200.9513">B√°sicas</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="23.8" x="404.25" y="212.3591">POO</text><rect fill="#F5F5F5" height="55.2234" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="84" x="498.4" y="169.9469"></rect><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="35" x="522.9" y="189.5435">CLASE</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="63" x="508.9" y="200.9513">Definici√≥n de</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="33.6" x="523.6" y="212.3591">un tipo</text><rect fill="#FFFFFF" height="32.4078" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="66.5" x="624.4" y="17.5"></rect><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="45.5" x="634.9" y="37.0966">NOMBRE</text><path d="M582.4,197.5586 L589.4,197.5586 C599.9,197.5586 606.9,33.7039 617.4,33.7039 L624.4,33.7039 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><rect fill="#FFFFFF" height="66.6312" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="224" x="624.4" y="70.9078"></rect><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="61.6" x="705.6" y="90.5044">ATRIBUTOS</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="49" x="659.4" y="101.9122">Definen el</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="37.8" x="711.2" y="101.9122">estado</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="61.6" x="751.8" y="101.9122">de un objeto</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="203" x="634.9" y="113.32">De ahora en adelante los denominaremos</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="131.6" x="645.75" y="124.7278">con la nomenclatura de C#</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="46.9" x="780.15" y="124.7278">CAMPOS</text><rect fill="#F0F8FF" height="55.2234" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="128.1" x="890.4" y="32.7961"></rect><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="14" x="928.55" y="52.3927">De</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="35" x="945.35" y="52.3927">CLASE</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="107.1" x="900.9" y="63.8005">No necesito un objeto</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="99.4" x="904.75" y="75.2083">para acceder a ellos.</text><path d="M848.4,104.2234 L855.4,104.2234 C865.9,104.2234 872.9,60.4078 883.4,60.4078 L890.4,60.4078 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><rect fill="#F0F8FF" height="66.6312" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="128.1" x="890.4" y="109.0195"></rect><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="14" x="917" y="128.6161">De</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="58.1" x="933.8" y="128.6161">INSTANCIA</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="75.6" x="916.65" y="140.0239">Pertenecen a la</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="107.1" x="900.9" y="151.4317">inst√°ncia de un objeto</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="106.4" x="901.25" y="162.8396">concreto en memoria.</text><path d="M848.4,104.2234 L855.4,104.2234 C865.9,104.2234 872.9,142.3352 883.4,142.3352 L890.4,142.3352 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><path d="M582.4,197.5586 L589.4,197.5586 C599.9,197.5586 606.9,104.2234 617.4,104.2234 L624.4,104.2234 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><rect fill="#FFFFFF" height="66.6312" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="224" x="624.4" y="234.7625"></rect><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="76.3" x="698.25" y="254.3591">OPERACIONES</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="53.2" x="657.3" y="265.7669">Cambian el</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="37.8" x="713.3" y="265.7669">estado</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="61.6" x="753.9" y="265.7669">de un objeto</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="203" x="634.9" y="277.1747">De ahora en adelante los denominaremos</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="131.6" x="642.25" y="288.5825">con la nomenclatura de C#</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="53.9" x="776.65" y="288.5825">M√âTODOS</text><rect fill="#F0F8FF" height="55.2234" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="128.1" x="890.4" y="196.6508"></rect><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="14" x="928.55" y="216.2474">De</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="35" x="945.35" y="216.2474">CLASE</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="107.1" x="900.9" y="227.6552">No necesito un objeto</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="99.4" x="904.75" y="239.063">para acceder a ellos.</text><path d="M848.4,268.0781 L855.4,268.0781 C865.9,268.0781 872.9,224.2625 883.4,224.2625 L890.4,224.2625 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><rect fill="#F0F8FF" height="66.6312" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="128.1" x="890.4" y="272.8742"></rect><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="14" x="917" y="292.4708">De</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="58.1" x="933.8" y="292.4708">INSTANCIA</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="75.6" x="916.65" y="303.8786">Pertenecen a la</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="107.1" x="900.9" y="315.2864">inst√°ncia de un objeto</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="106.4" x="901.25" y="326.6942">concreto en memoria.</text><path d="M848.4,268.0781 L855.4,268.0781 C865.9,268.0781 872.9,306.1898 883.4,306.1898 L890.4,306.1898 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><path d="M582.4,197.5586 L589.4,197.5586 C599.9,197.5586 606.9,268.0781 617.4,268.0781 L624.4,268.0781 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><rect fill="#FFFFFF" height="55.2234" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="135.1" x="624.4" y="322.3937"></rect><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="35" x="674.45" y="341.9903">ROLES</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="53.9" x="634.9" y="353.3981">Definen las</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="57.4" x="691.6" y="353.3981">relaciones</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="79.1" x="652.4" y="364.806">con otras clases</text><path d="M582.4,197.5586 L589.4,197.5586 C599.9,197.5586 606.9,350.0055 617.4,350.0055 L624.4,350.0055 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><path d="M456.4,197.5586 L463.4,197.5586 C473.9,197.5586 480.9,197.5586 491.4,197.5586 L498.4,197.5586 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><rect fill="#F5F5F5" height="55.2234" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="110.6" x="223.3" y="169.9469"></rect><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="39.9" x="258.65" y="189.5435">OBJETO</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="88.2" x="234.5" y="200.9513">Instancia concreta</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="89.6" x="233.8" y="212.3591">del tipo de la clase</text><rect fill="#FFFFFF" height="55.2234" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="156.1" x="25.2" y="126.1312"></rect><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="51.1" x="77.7" y="145.7278">MUTABLE</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="50.4" x="57.75" y="157.1356">Cambia su</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="37.8" x="110.95" y="157.1356">estado</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="135.1" x="35.7" y="168.5435">a trav√©s de las operaciones.</text><path d="M223.3,197.5586 L216.3,197.5586 C205.8,197.5586 198.8,153.743 188.3,153.743 L181.3,153.743 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><rect fill="#FFFFFF" height="66.6312" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.0499999999999998;" width="174.3" x="7" y="202.3547"></rect><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="61.6" x="63.35" y="221.9513">INMUTABLE</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="14.7" x="40.6" y="233.3591">No</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="49" x="58.1" y="233.3591">cambia su</text><text fill="#000000" font-family="Arial" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="37.8" x="109.9" y="233.3591">estado</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="153.3" x="17.5" y="244.7669">las operaciones sobre el mismo</text><text fill="#000000" font-family="Arial" font-size="9.8" lengthAdjust="spacing" textLength="133.7" x="27.3" y="256.1747">dan lugar a nuevos objetos.</text><path d="M223.3,197.5586 L216.3,197.5586 C205.8,197.5586 198.8,235.6703 188.3,235.6703 L181.3,235.6703 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><path d="M375.9,197.5586 L368.9,197.5586 C358.4,197.5586 351.4,197.5586 340.9,197.5586 L333.9,197.5586 " fill="none" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><!--SRC=[rLJ1RjD04BtxAqRYGYqH6bH4LI5K9qqXLH97ISg5z32nf-d2UhVQNHUrg1_0Pt3ap2VantZhk52gSkI054LUxyoRzzwCvz07Tg5IfgpuCj5o7YXOScfz4QXKJegWh4bymLfej_CgILxxSAtbJTAc72bUEwxeIq8qKaOAgwsZbURY4zuSMnCcN0bbJh5kNypLZL1t3oTZIsaoYQPSbigigVkoEOxPhPMvExspJjqWatMcrTfKOW8L-1FNNFTGxAspjIdxJVNF5oe8RcwJs-JryvPladvuegCiqBq-eoCvLqOL42T-QNgRRruLZASqdUPvcY8SyGsGh-mdEQCqxO-o-I1Db-OkT_F3K2bBKniAwj8Y9KNO91_tPeXhZzbYDkoTBlBvhqmn91et0kjBYo2O00Yx-YZ1nXZY2-kO4CUbQ8PEqjOZp5Yupaug2wQ5DQGP7iAEGdEeaGAa_fD8DHjFOyN80JfOgq9MkfQe-xwIYIMqJBn2p-zHk6HWSL58AOv0HADyvozOmybyaKtwmopYJSK5YOYW3d9BeumFcs-cKFn09TWN3azHPGL1c8zEwrW-7Soo_Z2V31hF-boj5FzxpyQRhulywBzrRPQF1d_Cc6QFrmvcRASytaNzDZZSGBqNdso_UAzAUMpYyzx9O977n24OSKEefG2MyBcP-yWHfZQ8BPdnwIBhZGQ_sqU-ljUzfM42YwlDTxzDzcGlnRL4xnGD9_TWy5t5jXUFeZq086zNJkB0L0fQm1JZe-irnxQOMgum65j7KUjGiCVQzPTCu-ISZaTq9Su3YxgT5xilzZhTfukBcevbHRjTwkuVuFToZquNVOhNEydJjzCHgjQk46nD7vnQrN5nxYGdVCKqgqrGbHoWkDR9oVln0Sth5S8OO_f-dA1bNEj00pGeRi43G1y_sqz6RDOrh-yI-rXnmLrlJpy1]--></g></svg></p><h2 id="dise√±o-orientada-a-objetos-b√°sico">Dise√±o Orientada a Objetos B√°sico </h2>
<p>Aunque en el <strong>Tema 5</strong> hablamos de las definiciones b√°sicas, vamos a profundizar un poco m√°s en algunos conceptos de la programaci√≥n orientado a objetos para poder hacer nuestros <strong>dise√±os o modelos</strong> de forma correcta.</p>
<h3 id="definici√≥n-de-operaci√≥n-o-m√©todo">Definici√≥n de operaci√≥n o m√©todo </h3>
<ul>
<li>Definen el <strong>Comportamiento</strong> y las <strong>Operaciones</strong> que se pueden realizar con los objetos.</li>
<li>Permiten interactuar y relacionarse a los objetos.</li>
</ul>
<h4 id="tipos-de-m√©todos">Tipos de m√©todos </h4>
<ul>
<li><strong>M√©todos de instancia o tambi√©n (de objeto)</strong>
<ul>
<li>Necesito tener un objeto instanciado en memoria para acceder a ellos.</li>
<li>Pueden acceder tanto a atributos de <strong>instancia</strong> como de <strong>clase</strong>.</li>
<li>Pueden modificar el <strong>estado de un objeto</strong> concreto en memoria si este es mutable.</li>
</ul>
</li>
<li><strong>M√©todos de clase o tambi√©n est√°ticos</strong>
<ul>
<li>No necesito tener un objeto instanciado en memoria para acceder a ellos.</li>
<li>Solo pueden acceder a los atributos de clase (static) y no a los de instancia.</li>
</ul>
</li>
<li><strong>M√©todos de acceso y actualizaci√≥n</strong>
<ul>
<li>Tambi√©n se les conoce como <strong>Accesores</strong> - <strong>Mutadores</strong> en general, <strong>Propiedades</strong> (C# y Kotlin) o <strong>Setters</strong> - <strong>Getters</strong> (Java).</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;"></div>
<h4 id="enfoque-de-los-m√©todos-desde-la-teor√≠a-de-poo">Enfoque de los m√©todos desde la teor√≠a de POO </h4>
<ul>
<li>
<p>En la teor√≠a tradicional de la POO, los objetos se comunican entre ellos a trav√©s de un mecanismo de <strong>paso de mensajes</strong>. (<a href="https://en.wikipedia.org/wiki/Alan_Kay">Alan Kay</a>, <a href="https://en.wikipedia.org/wiki/Bertrand_Meyer">Bertrand Meyer</a>)</p>
</li>
<li>
<p>En el fondo cuando desde un m√©todo de un objeto de instancia llamamos o invocamos a un m√©todo de otro objetos, estaremos haciendo este paso de mensajes y por tanto comunicando ambos objetos.</p>
</li>
<li>
<p>Hay m√°s formas de pasar estos mensajes, pero la m√°s b√°sica es esta.</p>
</li>
<li>
<p>Vamos a verlo a trav√©s de un ejemplo <em>'<strong>simplificado</strong>'</em> de c√≥digo para entender el concepto <em>'<strong>abstracto</strong>'</em> de mensaje y comunicaci√≥n entre objetos:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Persona</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-void">void</span> M√©<span class="token function">todoDeInstancia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Phone</span> tlf <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Phone</span><span class="token punctuation">(</span><span class="token string">"iPhone 12"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Mensaje 1</span>
        <span class="token comment">// Un objeto concreto de Persona (en el ejemplo 'Mar√≠a')</span>
        <span class="token comment">// Se comunica con e objetos tlf a trav√©s de un</span>
        <span class="token comment">// mensaje, esto √©s llamando a su m√©todo Enciende()</span>
        <span class="token comment">// Esto cambia el estado del objeto tlf a encendido.</span>
        tlf<span class="token punctuation">.</span><span class="token function">Enciende</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Mensaje 2</span>
        <span class="token comment">// Mar√≠a pasa el mensaje a tlf de que llame a un n√∫mero </span>
        <span class="token comment">// cambiando su estado a llamando...</span>
        tlf<span class="token punctuation">.</span><span class="token function">Llama</span><span class="token punctuation">(</span><span class="token number">676345266</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ul>
<p></p><p align="center" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="628pt" height="116pt" viewBox="0.00 0.00 628.35 116.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-112 624.35,-112 624.35,4 -4,4"></polygon>
<!-- p -->
<g id="node1" class="node">
<title>p</title>
<polygon fill="none" stroke="black" points="8,-54 8,-92.8 192.04,-92.8 192.04,-54 8,-54"></polygon>
<text text-anchor="start" x="24.94" y="-69.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mar√≠a : Persona &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="8,-15.2 8,-54 192.04,-54 192.04,-15.2 8,-15.2"></polygon>
<text text-anchor="start" x="19" y="-30.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nombre = "Mar√≠a" &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- tlf -->
<g id="node2" class="node">
<title>tlf</title>
<polygon fill="none" stroke="black" points="408.81,-54 408.81,-92.8 612.35,-92.8 612.35,-54 408.81,-54"></polygon>
<text text-anchor="start" x="455.72" y="-69.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tlf : Phone &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="408.81,-15.2 408.81,-54 612.35,-54 612.35,-15.2 408.81,-15.2"></polygon>
<text text-anchor="start" x="419.81" y="-30.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Modelo = "iPhone 12" &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- p&#45;&gt;tlf -->
<g id="edge1" class="edge">
<title>p-&gt;tlf</title>
<path fill="none" stroke="black" d="M199.93,-36C199.93,-36 389.31,-36 389.31,-36"></path>
<polygon fill="black" stroke="black" points="389.31,-39.5 399.31,-36 389.31,-32.5 389.31,-39.5"></polygon>
<text text-anchor="start" x="240.4" y="-77.6" font-family="Arial" font-size="12.00">Mensaje1: </text>
<text text-anchor="start" x="299.1" y="-77.6" font-family="Arial" font-weight="bold" font-size="12.00">Enciende()</text>
</g>
<!-- p&#45;&gt;tlf -->
<g id="edge2" class="edge">
<title>p-&gt;tlf</title>
<path fill="none" stroke="black" d="M199.93,-72C199.93,-72 389.31,-72 389.31,-72"></path>
<polygon fill="black" stroke="black" points="389.31,-75.5 399.31,-72 389.31,-68.5 389.31,-75.5"></polygon>
<text text-anchor="start" x="218.04" y="-40.6" font-family="Arial" font-size="12.00">Mensaje2: </text>
<text text-anchor="start" x="276.74" y="-40.6" font-family="Arial" font-weight="bold" font-size="12.00">Llama( </text>
<text text-anchor="start" x="318.75" y="-40.6" font-family="Arial" font-weight="bold" font-size="12.00" fill="lightblue">676345266</text>
<text text-anchor="start" x="378.81" y="-40.6" font-family="Arial" font-weight="bold" font-size="12.00">)</text>
</g>
</g>
</svg>
</p><p></p>
<h3 id="definici√≥n-de-encapsulaci√≥n">Definici√≥n de Encapsulaci√≥n </h3>
<ul>
<li>En POO, se denomina encapsulaci√≥n al la <strong>ocultaci√≥n del estado</strong>, es decir, de los atributos, de un objeto. De tal manera que, solo se puede cambiar mediante las operaciones definidas para ese objeto o sus accesores - mutadores.</li>
<li>De esta forma el usuario de la clase solo interacciona con los objetos abstray√©ndose de como est√°n implementados (<strong>no sabe nada de la implementaci√≥n</strong>).</li>
<li>Se evita que el usuario pueda cambiar su estado de maneras imprevistas e incontroladas.</li>
</ul>
<h3 id="definici√≥n-de-constructor-y-destructor">Definici√≥n de Constructor Y Destructor </h3>
<p>CONSTRUCTOR</p>
<ul>
<li>M√©todo o m√©todos especiales que me servir√°n para instanciar e inicializar el estado de un objeto en memoria.</li>
<li>Toda clase debe tener al menos un constructor.</li>
</ul>
<p>DESTRUCTOR</p>
<ul>
<li>Un √∫nico m√©todo especial encargado de eliminar una instancia en memoria de un objeto.</li>
<li>En la gram mayor√≠a de lenguajes OO modernos no hace falta definirlos y llamarlos, ya que de esta labor de eliminaci√≥n de instancias de objetos en memoria, se encarga el denominado <em>'<strong>recolector de basura</strong>'</em> (GC), cuando un objeto ya no es referenciado por nadie.</li>
</ul>
<h2 id="definiendo-nuestra-primera-clase-a-trav√©s-de-csharp">Definiendo nuestra primera clase a trav√©s de CSharp </h2>
<p>Supongamos que queremos definir un tipo que represente libros.<br>
Una posible representaci√≥n UML del mismo podr√≠a ser:</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="179.1px" preserveAspectRatio="none" style="width:340px;height:179px;background:#FFFFFF;" version="1.1" viewBox="0 0 340 179" width="340.2px" zoomAndPan="magnify"><defs></defs><g><!--class Libro--><g id="elem_Libro"><rect codeline="11" fill="#FFFAFA" height="160.5375" id="Libro" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="321.3" x="6.3" y="6.3"></rect><ellipse cx="148.275" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M150.9469,25.7766 Q150.4266,26.0438 149.85,26.1703 Q149.2734,26.3109 148.6406,26.3109 Q146.3906,26.3109 145.1953,24.8344 Q144.0141,23.3438 144.0141,20.5313 Q144.0141,17.7188 145.1953,16.2281 Q146.3906,14.7375 148.6406,14.7375 Q149.2734,14.7375 149.85,14.8781 Q150.4406,15.0188 150.9469,15.2859 L150.9469,17.7328 Q150.3844,17.2125 149.85,16.9734 Q149.3156,16.7203 148.7531,16.7203 Q147.5438,16.7203 146.925,17.6906 Q146.3063,18.6469 146.3063,20.5313 Q146.3063,22.4156 146.925,23.3859 Q147.5438,24.3422 148.7531,24.3422 Q149.3156,24.3422 149.85,24.1031 Q150.3844,23.85 150.9469,23.3297 L150.9469,25.7766 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="29.7" x="166.725" y="25.062">Libro</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="326.7" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="156.6" x="11.7" y="50.3956">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="129.6" x="11.7" y="65.0628">-a√±o : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="154.8" x="11.7" y="79.73">-paginas : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="119.7" x="11.7" y="94.3972">-paginasLe√≠das : int</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="326.7" y1="100.9688" y2="100.9688"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="310.5" x="11.7" y="116.2644">+Libro(in titulo : string, in a√±o : int, in paginas : int)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="159.3" x="11.7" y="130.9315">+Lee(in paginas : int) : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="146.7" x="11.7" y="145.5987">+PorcentajeLe√≠do() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="140.4" x="11.7" y="160.2659">+Descripci√≥n() : string</text></g><!--SRC=[XOuzQiD048NxFSMK3laXRT9PJXCmnA0YzNeraITQpuZP4IOnFbAAa2FeOf4b6sGxa6sMuVjuxqLyCp01fN9bK91YC19sAVY8S7_tu5ogY6klVWqX-fIcPahBnl0v2EVqsLaZPQegcvb4KSYY3zK8BRhJbvXrNwdIS35ehoiopDTIuSYTxPioqGBrxx11E8lAMJREzIjXJaiLjtNGlLimiYOAF4BgndC9MqLVl73ys1q4ttxlCR5TijgNn3xzW-VOVXL7o_NiUbWn8JuVSDD9eyx-FAcvEWOWJYxOeMCm5g81sVmxzWjaSegVC0MbEb3xmpqQ1hYT-mK0]--></g></svg></p><p>En la mayor√≠a de lenguajes OO, para definir nuestra clase, seguiremos una plantilla similar a esta:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token operator">&lt;</span>NombreDeLaClase<span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token operator">&lt;</span>campos<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>constructor<span class="token operator">/</span>es<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>accesores<span class="token operator">/</span>mutadores<span class="token operator">&gt;</span><span class="token punctuation">(</span> o <span class="token operator">&lt;</span>propiedades en C#<span class="token operator">&gt;</span><span class="token punctuation">)</span>
    <span class="token operator">&lt;</span>m√©todos<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="paso-1-definir-los-campos-atributos-en-poo-cl√°sica">Paso 1: Definir los campos (atributos en POO cl√°sica) </h3>
<p>No deben ser accedidos desde fuera de clase. Para ello, antepondremos la cl√°usula <strong><code>private</code></strong> <strong>siempre</strong>.<br>
F√≠jate que hemos marcado dos campos con la <a href="https://www.uml-diagrams.org/property.html">propiedad de atributo de clase</a> <strong><code>{readOnly}</code></strong> esto significa que, <strong>una vez creado el objeto</strong>, ya no se podr√°n modificar los valores de <strong>t√≠tulo</strong>, <strong>a√±o</strong> y <strong>paginas</strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token comment">// &lt;campos&gt;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token keyword keyword-int">int</span> a√±o<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginasLeidas<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="paso-2-definir-los-constructores--destructores-de-objetos">Paso 2: Definir los constructores / destructores de objetos </h3>
<p>En C# el m√©todo constructor tiene el mismo nombre que la clase y no lleva tipo de retorno (Es impl√≠cito).</p>
<blockquote>
<p>üí° <strong>Tip:</strong> Si justo despu√©s del nombre de la clase pulsamos <strong><code>Clrl+.</code></strong> en VSCode.<br>
El VSCode <strong>nos ofrecer√° crear un constructor</strong> en la refactorizaci√≥n de c√≥digo.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
  <span class="token comment">// &lt;campos&gt;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token keyword keyword-int">int</span> a√±o<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginasLeidas<span class="token punctuation">;</span>

  <span class="token comment">// &lt;constructor/es&gt;</span>
  <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token keyword keyword-int">int</span> a√±o<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>titulo <span class="token operator">=</span> titulo<span class="token punctuation">;</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>a√±o <span class="token operator">=</span> a√±o<span class="token punctuation">;</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>paginas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
      paginasLeidas <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// Al crear cualquier libro, llevar√© le√≠das 0 p√°ginas.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre><blockquote>
<p>‚úã <strong>Importante:</strong> F√≠jate que aunque hemos marcado <strong><code>titulo</code></strong> y <strong><code>a√±o</code></strong> como <strong><code>readonly</code></strong> (solo lectura) los podemos asignar a un valor inicial en el constructor. Esta es la √∫nica vez que los podremos asignar. En el resto de m√©todos √∫nicamente podremos acceder a su valor.</p>
</blockquote>
<h4 id="referencia-impl√≠cita-this">Referencia impl√≠cita this </h4>
<ul>
<li>
<p><strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/this">this</a></strong> es una <strong>referencia impl√≠cita</strong> a la instancia en memoria del objeto que en ese momento estamos creando o est√° accediendo a un m√©todo de la clase.</p>
</li>
<li>
<p>En este caso nos ayuda a <strong>diferenciar entre los identificadores</strong> de los campos y los par√°metros de entrada del constructor.<br>
En el constructor el identificador <strong><code>a√±o</code></strong> es del par√°metro de entrada del mismo. Pero <strong><code>this.a√±o</code></strong> es el campo a√±o del objeto que estamos construyendo en ese momento.</p>
</li>
</ul>
<p align="center" style="zoom:0.9" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="476pt" height="188pt" viewBox="0.00 0.00 475.85 188.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-184 471.85,-184 471.85,4 -4,4"></polygon>
<!-- i -->
<g id="node1" class="node">
<title>i</title>
<text text-anchor="start" x="8" y="-157.8" font-family="Arial" font-size="14.00">Libro l = new Libro("La Biblia",-750, ...);</text>
</g>
<!-- o -->
<g id="node4" class="node">
<title>o</title>
<polygon fill="none" stroke="black" points="303,-111.6 303,-150.4 459.85,-150.4 459.85,-111.6 303,-111.6"></polygon>
<text text-anchor="start" x="335.13" y="-126.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l : Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="303,-47.6 303,-111.6 459.85,-111.6 459.85,-47.6 303,-47.6"></polygon>
<text text-anchor="start" x="314" y="-89" font-family="Arial" font-size="14.00" fill="#cd1076">this</text>
<text text-anchor="start" x="335.79" y="-89" font-family="Arial" font-size="14.00">.titulo = "La Biblia"</text>
<text text-anchor="start" x="314" y="-75" font-family="Arial" font-size="14.00" fill="#cd1076">this</text>
<text text-anchor="start" x="335.79" y="-75" font-family="Arial" font-size="14.00">.a√±o = -750</text>
<text text-anchor="start" x="367.81" y="-61" font-family="Arial" font-size="14.00">... &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- i&#45;&gt;o -->
<g id="edge1" class="edge">
<title>i-&gt;o</title>
<path fill="none" stroke="none" d="M220.58,-144.04C233.52,-141.18 246.63,-138.13 259,-135 267.16,-132.94 275.58,-130.69 284.02,-128.36"></path>
<polygon fill="none" stroke="none" points="284.95,-131.73 293.63,-125.66 283.06,-124.99 284.95,-131.73"></polygon>
</g>
<!-- this -->
<g id="node2" class="node">
<title>this</title>
<ellipse fill="none" stroke="black" cx="129.5" cy="-99" rx="27" ry="27"></ellipse>
<text text-anchor="start" x="118.61" y="-94.8" font-family="Arial" font-size="14.00" fill="#cd1076">this</text>
</g>
<!-- this&#45;&gt;o -->
<g id="edge3" class="edge">
<title>this-&gt;o</title>
<path fill="none" stroke="black" d="M156.78,-99C186.87,-99 237.94,-99 283.68,-99"></path>
<polygon fill="black" stroke="black" points="283.67,-102.5 293.67,-99 283.67,-95.5 283.67,-102.5"></polygon>
</g>
<!-- l -->
<g id="node3" class="node">
<title>l</title>
<ellipse fill="none" stroke="black" cx="129.5" cy="-27" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="129.5" y="-22.8" font-family="Arial" font-size="14.00">l</text>
</g>
<!-- l&#45;&gt;o -->
<g id="edge2" class="edge">
<title>l-&gt;o</title>
<path fill="none" stroke="black" d="M155.65,-33.92C181.58,-41.09 223.16,-52.67 259,-63 267.25,-65.38 275.8,-67.87 284.38,-70.38"></path>
<polygon fill="black" stroke="black" points="283.19,-73.68 293.78,-73.14 285.17,-66.96 283.19,-73.68"></polygon>
</g>
</g>
</svg>
</p><h4 id="constructor-por-defecto">Constructor por defecto </h4>
<ul>
<li>
<p>Si no definimos ning√∫n constructor, <strong>se define uno por defecto</strong> que nos permitir√° crear inst√°ncias de libro de la siguiente manera.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// El constructor por defecto, no recibe ning√∫n par√°metro que defina el estado inicial del objeto</span>
<span class="token class-name">Libro</span> l <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
</ul>
<div class="flotante" ,="" style="align-items: center;">
<div class="flotante_izq">
<ul>
<li>
<p>Sin embargo, si definimos un constructor concreto, <strong>dejar√° de estar disponible el constructor por defecto</strong>, a no ser que lo definamos expl√≠citamente nosotros.</p>
<p>Sin embargo esto permitir√° crear instancias del objeto libro a los valores default.</p>
</li>
</ul>
</div>
<div class="flotante_der">
<p align="center" style="zoom:0.9" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="266pt" height="144pt" viewBox="0.00 0.00 265.60 144.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 140)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-140 261.6,-140 261.6,4 -4,4"></polygon>
<!-- l -->
<g id="node1" class="node">
<title>l</title>
<ellipse fill="none" stroke="black" cx="27" cy="-68" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-63.8" font-family="Arial" font-size="14.00">l</text>
</g>
<!-- o -->
<g id="node2" class="node">
<title>o</title>
<polygon fill="none" stroke="black" points="98,-93.2 98,-132 249.6,-132 249.6,-93.2 98,-93.2"></polygon>
<text text-anchor="start" x="127.5" y="-108.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l : Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="98,-4 98,-93.2 249.6,-93.2 249.6,-4 98,-4"></polygon>
<text text-anchor="start" x="109" y="-69.6" font-family="Arial" font-size="14.00">titulo = null</text>
<text text-anchor="start" x="109" y="-52.8" font-family="Arial" font-size="14.00">a√±o = 0</text>
<text text-anchor="start" x="109" y="-36" font-family="Arial" font-size="14.00">paginas = 0</text>
<text text-anchor="start" x="109" y="-19.2" font-family="Arial" font-size="14.00">paginasLeidas = 0 &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- l&#45;&gt;o -->
<g id="edge1" class="edge">
<title>l-&gt;o</title>
<path fill="none" stroke="black" d="M54.22,-68C61.5,-68 69.85,-68 78.67,-68"></path>
<polygon fill="black" stroke="black" points="78.53,-71.5 88.53,-68 78.53,-64.5 78.53,-71.5"></polygon>
</g>
</g>
</svg>
</p></div>
</div>
<blockquote>
<p>‚ö†Ô∏è <strong>Aviso</strong>: Estar√≠amos dando la oportunidad de <strong>crear objetos libro sin un estado apropiado</strong>. Por tanto, <strong>no es conveniente utilizar constructores por defecto</strong>, a no ser que por alguna raz√≥n espec√≠fica, lo definamos nosotros expl√≠citamente y dispongamos de otras formas de crear nuestro objetos.</p>
</blockquote>
<h4 id="constructor-copia">Constructor copia </h4>
<ul>
<li>
<p>Se trata de una <strong>aproximaci√≥n</strong> inicial al <strong>clonado de objetos mutables</strong>.</p>
</li>
<li>
<p>Es un constructor <strong>optativo</strong>, que copiar√° el estado de una instancia de un objeto de la clase que lo define.</p>
</li>
<li>
<p>No tiene sentido su implementaci√≥n en objetos inmutables.</p>
</li>
<li>
<p>En un principio vamos a implementarlo como un constructor m√°s desde el punto de vista de POO tradicional o lenguajes como <a href="https://docs.microsoft.com/es-es/cpp/cpp/copy-constructors-and-copy-assignment-operators-cpp?view=vs-2019" target="_blank">C++</a>. Pero m√°s adelante, veremos que para realizar copias en C# y en Java usaremos un m√©todo especial llamado <strong><code>Clone()</code></strong></p>
</li>
<li>
<p>Una posible implementaci√≥n del mismo para nuestro ejemplo que podemos lleva a cualquier lenguaje OO puede ser....</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// Entra un objeto libro referencia do por l que querremos copiar.</span>
<span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// No usamos this porque no hay posibilidad de confusi√≥n.</span>
    titulo <span class="token operator">=</span> l<span class="token punctuation">.</span>titulo<span class="token punctuation">;</span>
    a√±o <span class="token operator">=</span> l<span class="token punctuation">.</span>a√±o<span class="token punctuation">;</span>
    paginas <span class="token operator">=</span> l<span class="token punctuation">.</span>paginas<span class="token punctuation">;</span>
    paginasLeidas <span class="token operator">=</span> l<span class="token punctuation">.</span>paginasLeidas<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p>Recordemos del tema 5 que si hici√©semos el siguiente c√≥digo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Libro</span> l1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span><span class="token string">"Code Complete 2"</span><span class="token punctuation">,</span> <span class="token number">2004</span><span class="token punctuation">,</span> <span class="token number">960</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// l2 y l1 son el mismo objeto</span>
l2 <span class="token operator">=</span> l1<span class="token punctuation">;</span>

<span class="token comment">// l3 y l1 son objetos diferentes.</span>
l3 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span>l1<span class="token punctuation">)</span><span class="token punctuation">;</span>

l2<span class="token punctuation">.</span><span class="token function">Lee</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Modifica l2 y por ende l1 dejando le√≠das 10 p√°ginas del libro.</span>
l3<span class="token punctuation">.</span><span class="token function">Lee</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Modifica l3 que es una copia en memoria de l1, no afectando por tanto al estado del objeto l1.</span>
</code></pre></li>
</ul>
<p></p><p align="center" style="zoom:0.6" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="629pt" height="178pt" viewBox="0.00 0.00 628.84 177.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 173.6)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-173.6 624.84,-173.6 624.84,4 -4,4"></polygon>
<!-- l1 -->
<g id="node1" class="node">
<title>l1</title>
<ellipse fill="none" stroke="black" cx="27" cy="-120.8" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-116.6" font-family="Arial" font-size="14.00">l1</text>
</g>
<!-- o1 -->
<g id="node2" class="node">
<title>o1</title>
<polygon fill="none" stroke="black" points="98,-126.8 98,-165.6 284.42,-165.6 284.42,-126.8 98,-126.8"></polygon>
<text text-anchor="start" x="131.69" y="-142" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l1, l2 : Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="98,-4 98,-126.8 284.42,-126.8 284.42,-4 98,-4"></polygon>
<text text-anchor="start" x="109" y="-86.4" font-family="Arial" font-size="14.00">titulo = "Code Complete 2"</text>
<text text-anchor="start" x="109" y="-69.6" font-family="Arial" font-size="14.00">a√±o = 2004</text>
<text text-anchor="start" x="109" y="-52.8" font-family="Arial" font-size="14.00">paginas = 960</text>
<text text-anchor="start" x="109" y="-36" font-family="Arial" font-size="14.00">paginasLeidas = 10</text>
<text text-anchor="start" x="183.43" y="-19.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- l1&#45;&gt;o1 -->
<g id="edge1" class="edge">
<title>l1-&gt;o1</title>
<path fill="none" stroke="black" d="M53.7,-115.1C61.15,-113.44 69.79,-111.52 79.04,-109.47"></path>
<polygon fill="black" stroke="black" points="79.66,-112.92 88.67,-107.34 78.15,-106.09 79.66,-112.92"></polygon>
</g>
<!-- l3 -->
<g id="node4" class="node">
<title>l3</title>
<ellipse fill="none" stroke="black" cx="355.42" cy="-84.8" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="355.42" y="-80.6" font-family="Arial" font-size="14.00">l3</text>
</g>
<!-- o1&#45;&gt;l3 -->
<g id="edge3" class="edge">
<title>o1-&gt;l3</title>
<path fill="none" stroke="none" d="M292.17,-84.8C300.81,-84.8 309.15,-84.8 316.77,-84.8"></path>
<polygon fill="none" stroke="none" points="316.56,-88.3 326.56,-84.8 316.56,-81.3 316.56,-88.3"></polygon>
</g>
<!-- l2 -->
<g id="node3" class="node">
<title>l2</title>
<ellipse fill="none" stroke="black" cx="27" cy="-48.8" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-44.6" font-family="Arial" font-size="14.00">l2</text>
</g>
<!-- l2&#45;&gt;o1 -->
<g id="edge2" class="edge">
<title>l2-&gt;o1</title>
<path fill="none" stroke="black" d="M53.7,-54.5C61.15,-56.16 69.79,-58.08 79.04,-60.13"></path>
<polygon fill="black" stroke="black" points="78.15,-63.51 88.67,-62.26 79.66,-56.68 78.15,-63.51"></polygon>
</g>
<!-- o2 -->
<g id="node5" class="node">
<title>o2</title>
<polygon fill="none" stroke="black" points="426.42,-126.8 426.42,-165.6 612.84,-165.6 612.84,-126.8 426.42,-126.8"></polygon>
<text text-anchor="start" x="469.44" y="-142" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l3 : Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="426.42,-4 426.42,-126.8 612.84,-126.8 612.84,-4 426.42,-4"></polygon>
<text text-anchor="start" x="437.42" y="-86.4" font-family="Arial" font-size="14.00">titulo = "Code Complete 2"</text>
<text text-anchor="start" x="437.42" y="-69.6" font-family="Arial" font-size="14.00">a√±o = 2004</text>
<text text-anchor="start" x="437.42" y="-52.8" font-family="Arial" font-size="14.00">paginas = 960</text>
<text text-anchor="start" x="437.42" y="-36" font-family="Arial" font-size="14.00">paginasLeidas = 25</text>
<text text-anchor="start" x="511.85" y="-19.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- l3&#45;&gt;o2 -->
<g id="edge4" class="edge">
<title>l3-&gt;o2</title>
<path fill="none" stroke="black" d="M382.84,-84.8C390.04,-84.8 398.31,-84.8 407.14,-84.8"></path>
<polygon fill="black" stroke="black" points="407.08,-88.3 417.08,-84.8 407.08,-81.3 407.08,-88.3"></polygon>
</g>
</g>
</svg>
</p><p></p>
<h4 id="destructores">Destructor/es </h4>
<ul>
<li>
<p>Cuando un objeto <strong>deja de ser referenciado</strong> por alg√∫n identificador, al cabo de tiempo es eliminado  de la memoria por el <strong>Recolector de Basura</strong> (Garbage Collector o GC).</p>
</li>
<li>
<p>Esta eliminaci√≥n la har√° llamando a su <strong>destructor por defecto</strong>, el cual nosotros podremos redefinir  de tal manera que deje el estado del objeto a unos valores que no permitan usarlo m√°s.<br>
<strong>Nota</strong>: Si lo redefinimos, no le aplicaremos ning√∫n modificador de acceso (public, private).</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token comment">// &lt;campos&gt;</span>
    <span class="token comment">// &lt;constructor/es&gt;</span>
    <span class="token comment">// &lt;destructor&gt;</span>
    <span class="token operator">~</span><span class="token function">Libro</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Los otros valores son readonly y no podemos modificarlos.</span>
        paginas <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span>MinValue<span class="token punctuation">;</span>
        paginasLeidas <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span>MinValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre><blockquote>
<p>‚úã <strong>Importante:</strong> Este paso de definici√≥n de nuestra clase, nos lo saltaremos en todos los  <strong>lenguajes gestionados</strong>, esto es, que dispongan de un GC para la eliminaci√≥n de objetos. Solo se definir√° en lenguajes no gestionados como C++</p>
</blockquote>
</li>
</ul>
<h3 id="paso-3-definir-los-accesores-y-mutadores-propiedades-en-csharp">Paso 3: Definir los accesores y mutadores (Propiedades en CSharp) </h3>
<blockquote>
<p>üìå <strong>Nota:</strong> Usaremos en principio la forma de hacerlo de <strong>Java</strong>. Aunque m√°s adelante veremos que en C# existe un <em>'<strong>Syntactic Sugar</strong>'</em> para definirlos y usarlos.</p>
<ul>
<li>Para el <strong>accesor</strong>, crearemos un m√©todo con el prefijo <strong><code>Get&lt;idCampo&gt;</code></strong> seguido del nombre del campo en PascalCasing por ser C#.</li>
<li>Para el <strong>mutador</strong>, crearemos un m√©todo con el prefijo <strong><code>Set&lt;idCampo&gt;</code></strong> seguido del nombre del campo en PascalCasing por ser C#.</li>
</ul>
</blockquote>
<h4 id="bulb-tips-de-dise√±o-de-getters-y-setters">üí° Tips de dise√±o de <em>'getters'</em> y <em>'setters'</em> </h4>
<ol>
<li>
<p>No tengo porqu√© definirlos <strong>todos</strong>, solo si los necesito o me los piden.</p>
</li>
<li>
<p>Si el campo es <strong><code>readonly</code></strong> solo podr√° haber <strong>accesor</strong> (getter).</p>
</li>
<li>
<p>Los accesores (getters) llevar√°n el modificador <strong><code>public</code></strong> por defecto.</p>
</li>
<li>
<p>Los mutadores (setters) llevar√°n el modificador <strong><code>private</code></strong> por defecto para asegurar la encapsulaci√≥n y solo ser√°n <strong><code>public</code></strong> si fuese necesario, siempre y cuando nos aseguremos que el objeto queda en buen estado.</p>
</li>
<li>
<p>En lugar de usar directamente los campos dentro de los <strong>m√©todos</strong> y constructores, intentaremos usar los getters y setters definidos.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
  <span class="token comment">// &lt;campos&gt;</span>
  <span class="token comment">// &lt;constructor/es&gt;</span>
  <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token keyword keyword-int">int</span> a√±o<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>titulo <span class="token operator">=</span> titulo<span class="token punctuation">;</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>a√±o <span class="token operator">=</span> a√±o<span class="token punctuation">;</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>paginas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
      <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token comment">// Constructor Copia. EN los lenguajes OO modernos se ha sustituido por </span>
      <span class="token comment">// un m√©todo especial denominado Clone o Copy, seg√∫n en lenguaje. (Lo abordaremos m√°s adelante)</span>
      titulo <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      a√±o <span class="token operator">=</span> l<span class="token punctuation">.</span>GetA√±<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      paginas <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span><span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> <div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>  <span class="token comment">// &lt;accesores/mutadores&gt;</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> titulo<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-int">int</span> GetA√±<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> a√±o<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> paginas<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> paginasLeidas<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      paginasLeidas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>      
<span class="token punctuation">}</span> 
</code></pre></li>
</ol>
<h3 id="paso-4-definir-m√©todos-u-operaciones-de-la-clase">Paso 4: Definir m√©todos u operaciones de la clase </h3>
<ul>
<li>
<p>Desde cualquier m√©todo de inst√°ncia, podremos acceder a los campos y accesores/mutadores de la clase. Ya sea a trav√©s de <strong><code>this</code></strong> o '<em>inferido</em>' si no hay un par√°metro formal con el mismo id.</p>
</li>
<li>
<p>Sin embargo, trataremos de usar los accesores/mutadores en lugar de los campos.<br>
Para nuestro ejemplo tendremos...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
  <span class="token comment">// &lt;campos&gt;</span>
  <span class="token comment">// &lt;constructor/es&gt;</span>
  <span class="token comment">// &lt;accesores/mutadores&gt;</span>

  <span class="token comment">// &lt;m√©todos&gt;</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">Lee</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>            
      <span class="token keyword keyword-int">int</span> le√≠das <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">Clamp</span><span class="token punctuation">(</span>paginas<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> le√≠das<span class="token punctuation">)</span><span class="token punctuation">;</span>            
      <span class="token keyword keyword-return">return</span> le√≠das<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">PorcentajeLeido</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt32</span><span class="token punctuation">(</span><span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100D</span> <span class="token operator">/</span>  <span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"T√≠tulo: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
              <span class="token interpolation-string"><span class="token string">$"A√±o: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">GetA√±<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span> 
              <span class="token interpolation-string"><span class="token string">$"P√°ginas: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre></li>
</ul>
<h3 id="paso-5-crear-un-peque√±o-test-para-nuestra-clase-opcional">Paso 5: Crear un peque√±o test para nuestra clase (Opcional) </h3>
<blockquote>
<p>üìå <strong>Nota:</strong> M√°s adelante veremos c√≥mo crear nuestros test de forma m√°s apropiada.</p>
</blockquote>
<p>En este caso, vamos a hacer un peque√±o programa que cree una instancia de un objeto libro y posteriormente lo lea de 300 en 300 p√°ginas.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// Creo el libro.</span>
<span class="token class-name">Libro</span> libro <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token string">"Code Complete 2"</span><span class="token punctuation">,</span> <span class="token number">2004</span><span class="token punctuation">,</span> <span class="token number">960</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Muestro la descripci√≥n de mi libro</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>libro<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Mientra pueda leer alguna p√°gina (m√°ximo 300)</span>
<span class="token comment">// muestro las p√°ginas le√≠das y el porcentaje de lo que llevo le√≠do del libro.</span>
<span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> MAXIMO_PAGINAS_A_LEER <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
<span class="token keyword keyword-int">int</span> le√≠das<span class="token punctuation">;</span>
<span class="token keyword keyword-while">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>le√≠das <span class="token operator">=</span> libro<span class="token punctuation">.</span><span class="token function">Lee</span><span class="token punctuation">(</span>MAXIMO_PAGINAS_A_LEER<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Le√≠das: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">le√≠das</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">libro<span class="token punctuation">.</span><span class="token function">PorcentajeLeido</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">%"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="resumen-de-directrices-generales-de-definici√≥n-de-clases">Resumen de directrices generales de definici√≥n de clases </h3>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="140px" preserveAspectRatio="none" style="width:900px;height:140px;background:#FFFFFF;" version="1.1" viewBox="0 0 900 140" width="900px" zoomAndPan="magnify"><defs></defs><g><rect fill="#FFFFFF" height="98.5" rx="10" ry="10" style="stroke:#000000;stroke-width:1.2000000000000002;" width="122.4" x="8" y="20"></rect><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="52.8" x="42.8" y="43.8813">PASO 1</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="40" x="49.2" y="58.7813">Definir</text><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="54.4" x="42" y="73.6813">campos</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="53.6" x="42.4" y="88.5813">privados</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="98.4" x="20" y="103.4813">(Encapsulaci√≥n)</text><rect fill="#FFFFFF" height="98.5" rx="10" ry="10" style="stroke:#000000;stroke-width:1.2000000000000002;" width="130.4" x="178.4" y="20"></rect><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="52.8" x="217.2" y="43.8813">PASO 2</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="40" x="223.6" y="58.7813">Definir</text><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="106.4" x="190.4" y="73.6813">constructor/es</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="80.8" x="203.2" y="88.5813">El destructor</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="98.4" x="194.4" y="103.4813">no es necesario</text><rect fill="#FFFFFF" height="98.5" rx="10" ry="10" style="stroke:#000000;stroke-width:1.2000000000000002;" width="189.6" x="356.8" y="20"></rect><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="52.8" x="425.2" y="43.8813">PASO 3</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="40" x="431.6" y="58.7813">Definir</text><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="72.8" x="387.6" y="73.6813">accesores</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="51.2" x="464.4" y="73.6813">p√∫blicos</text><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="76.8" x="384.4" y="88.5813">mutadores</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="53.6" x="465.2" y="88.5813">privados</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="165.6" x="368.8" y="103.4813">solo cuando sea necesario</text><rect fill="#FFFFFF" height="98.5" rx="10" ry="10" style="stroke:#000000;stroke-width:1.2000000000000002;" width="116" x="594.4" y="20"></rect><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="52.8" x="626" y="43.8813">PASO 4</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="40" x="632.4" y="58.7813">Definir</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="17.6" x="610.4" y="73.6813">los</text><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="62.4" x="632" y="73.6813">m√©todos</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="92" x="606.4" y="88.5813">sobre el objeto</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="90.4" x="607.2" y="103.4813">como p√∫blicos</text><rect fill="#FFFFFF" height="98.5" rx="10" ry="10" style="stroke:#000000;stroke-width:1.2000000000000002;" width="132" x="758.4" y="20"></rect><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="52.8" x="798" y="43.8813">PASO 5</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="34.4" x="807.2" y="58.7813">Crear</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="74.4" x="770.4" y="73.6813">un peque√±o</text><text fill="#000000" font-family="Arial" font-size="12.8" font-weight="bold" lengthAdjust="spacing" textLength="29.6" x="848.8" y="73.6813">test</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="88" x="780.4" y="88.5813">para nuestros</text><text fill="#000000" font-family="Arial" font-size="12.8" lengthAdjust="spacing" textLength="59.2" x="794.8" y="103.4813">m√©todos.</text><path d="M710.4,69.25 L718.4,69.25 C730.4,69.25 738.4,69.25 750.4,69.25 L758.4,69.25 " fill="none" style="stroke:#000000;stroke-width:0.8000000000000002;"></path><path d="M546.4,69.25 L554.4,69.25 C566.4,69.25 574.4,69.25 586.4,69.25 L594.4,69.25 " fill="none" style="stroke:#000000;stroke-width:0.8000000000000002;"></path><path d="M308.8,69.25 L316.8,69.25 C328.8,69.25 336.8,69.25 348.8,69.25 L356.8,69.25 " fill="none" style="stroke:#000000;stroke-width:0.8000000000000002;"></path><path d="M130.4,69.25 L138.4,69.25 C150.4,69.25 158.4,69.25 170.4,69.25 L178.4,69.25 " fill="none" style="stroke:#000000;stroke-width:0.8000000000000002;"></path><!--SRC=[NLBDRjf04BxlKymHB9LW2XL2KHLAGge8KbIIdBYCxQcpxNh7tH-gfCe3zLZrrYilrh43L8baMPhvzlkPtJdp0Lsej2qgh9NoEHg2Vc-irAaF3uRUgprshh5qMC5F1R3Gbd8sx20pc7-JpfnjkCQAOEeqcdrZhHy9qdTIMIwePGAii2YqBI4TjUKINQdjeVh8JZyA4ytKwD9MP0FayYFNmX_4xD9njCMiTVznhmC9ygIUrEd9FgzA84bMq_KdI9DaOy_fYxRQRMoIv5ZLx9jcxVGM2_ORsxcmETO-oXnwzyTsLNAa3rxJsVhWOXxOdL0hSs6We4DlOoq3UP2h8OzEiqWTjTw-qi9S3h5hPA3U_SsCpfiqILB58C7sm36bbt4XZsWB1a_uqkDeCdnXOjWBKEr-1IwUf_QSEG8omDbN2honELVytxxLEegD6iRC4OfKj53JzqYxtonma97RIqGdIM9p0Kt6WrDFgJEIbJcirCgW3RVB1Mp9UStorhr1Vp3ifPsR-mXpog2VGZgUo3SQmktD31gugpgNgmLuZYudABIOw2m6uNVL5MuHFaSRT4KJIM2CkhfRJc0TCpc6WU1kgUGUC9e0yhxSBDn4fETlncg1jenO7eWpsQRW7fwhVm00]--></g></svg></p><div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">If you're not failing 90% of the time, then you're probably not working on sufficiently challenging problems.</div>
        <div class="autor">- Alan Kay.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<div class="caso_estudio">
<p>üéì <strong>Caso de estudio:</strong></p>
<p>Junto a la clase Libro anterior, vamos a modelar la clase <strong><code>Escritor</code></strong> suponiendo que un escritor tiene un <strong><code>nombre</code></strong>, un a√±o de <strong><code>nacimiento</code></strong> y un n√∫mero de <strong><code>publicaciones</code></strong>.<br>
Adem√°s del constructor y los accesores y mutadores para sus campos, vamos a definir el m√©todo descripci√≥n que me muestre sus datos y m√©todo <strong><code>Libro Escribe(string titulo)</code></strong> donde el escritor crear√° un libro con el t√≠tulo recibido de entre 400 y 800 p√°ginas.<br>
<strong>Intenta modelarla e implementarla tu mismo, antes de ver la propuesta de soluci√≥n</strong>.</p>
<p>Un posible modelado de la clase, podr√≠a ser el siguiente...</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="248px" preserveAspectRatio="none" style="width:359px;height:248px;" version="1.1" viewBox="0 0 359 248" width="359px" zoomAndPan="magnify"><defs></defs><g><!--class Escritor--><g id="elem_Escritor"><rect codeline="10" fill="#FFFAFA" height="227.2656" id="Escritor" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="338" x="7" y="7"></rect><ellipse cx="145.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M148.7188,28.6406 Q148.1406,28.9375 147.5,29.0781 Q146.8594,29.2344 146.1563,29.2344 Q143.6563,29.2344 142.3281,27.5938 Q141.0156,25.9375 141.0156,22.8125 Q141.0156,19.6875 142.3281,18.0313 Q143.6563,16.375 146.1563,16.375 Q146.8594,16.375 147.5,16.5313 Q148.1563,16.6875 148.7188,16.9844 L148.7188,19.7031 Q148.0938,19.125 147.5,18.8594 Q146.9063,18.5781 146.2813,18.5781 Q144.9375,18.5781 144.25,19.6563 Q143.5625,20.7188 143.5625,22.8125 Q143.5625,24.9063 144.25,25.9844 Q144.9375,27.0469 146.2813,27.0469 Q146.9063,27.0469 147.5,26.7813 Q148.0938,26.5 148.7188,25.9219 L148.7188,28.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="166.25" y="27.8467">Escritor</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="344" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="13" y="55.9951">-nombre : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="13" y="72.292">-nacimiento : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="13" y="88.5889">-publicaciones : int</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="344" y1="95.8906" y2="95.8906"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="326" x="13" y="112.8857">+Escritor(in nombre : string, in nacimiento : int)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="13" y="129.1826">+Escritor(in e : Escritor)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="13" y="145.4795">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="13" y="161.7764">+GetNacimiento() : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="13" y="178.0732">+GetPublicaciones() : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="315" x="13" y="194.3701">-SetPublicaciones(in publicaciones : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221" x="13" y="210.667">+Escribe(in titulo : string) : Libro</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="13" y="226.9639">+Descripci√≥n() : string</text></g><!--SRC=[RO_1JiCm38RlVGeVDy4apjosWT0a19EAn3bDJMSjZIV7PO9fJyKZy68a7Qj2MIvHydt-RJjyKr06eMQZK9EWLM9VX2tvdH7JWdKcXBcgKDKfhYpxaZuHRZ9bBiBx9JiMM3XZjnbQnwTfS16lHhZpzKbxtP1YsV8MCtUPEYrOQfJBOITX55LwtcVE6B-8yI4Yz5eK_Ivm7woGiXI70kAPWUUs4eHR275Bty11qDJFtdqSpuAnr5ACu2YHr__6hgiSsQYnnt2IYXvT3UqcvCUThY7zZSAd5-fIoVbzvW-eJttSP3e4PcX8xN6QPs3hVDW_U0Rb6CVk5vPBHUzCTJvhXKbMqixnC54I7waI_ZNlCAaxIzzVFX_yMFm0]--></g></svg></p><p>La implementaci√≥n propuesta siguiendo los pasos y criterios descritos ser√≠a...<br>
<strong>F√≠jate en la implementaci√≥n y comentarios del m√©todo</strong> <strong><code>Libro Escribe(string titulo)</code></strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Escritor</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> nacimiento<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> publicaciones<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetNacimiento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> nacimiento<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> publicaciones<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> publicaciones<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicaciones <span class="token operator">=</span> publicaciones<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Escritor</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> nacimiento<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>nacimiento <span class="token operator">=</span> nacimiento<span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token comment">// Hemos definido un constructor copia para escritores, aunque aqu√≠ tendr√≠a menos sentido hacerlo. </span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Escritor</span><span class="token punctuation">(</span><span class="token class-name">Escritor</span> e<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        nombre <span class="token operator">=</span> e<span class="token punctuation">.</span>nombre<span class="token punctuation">;</span>
        nacimiento <span class="token operator">=</span> e<span class="token punctuation">.</span>nacimiento<span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>publicaciones<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-string">string</span> Descripci√≥<span class="token function">n</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Nacimiento: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetNacimiento</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Publicaciones: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// A este tipo de objetos que sin ser constructores, devuelven una inst√°ncia de un objeto</span>
    <span class="token comment">// se les denomina 'M√©todos factor√≠a'. </span>
    <span class="token comment">// En cierto modo tienes sentido, ya que un escritor produce libros.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Para establecer el rango de p√°ginas de sus libros, hemos usado un nuevo tipo </span>
        <span class="token comment">// a√±adido en C#8 denominado rango (por ver posibilidades del lenguaje). </span>
        <span class="token comment">// Aunque podr√≠amos haber definido s√≠mplemente 2 enteros.</span>
        <span class="token comment">// Este rango podr√≠a ser incluso un campo que defina una caracter√≠stica de nuestros</span>
        <span class="token comment">// objetos escritor.</span>
        <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400</span><span class="token range operator">..</span><span class="token number">800</span><span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Incremento el n√∫mero de publicaciones del escritor.</span>
        <span class="token comment">// Creo un l√≠bro, con el a√±o actual y un n√∫mero de p√°ginas aleatoria en el rango.</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span>titulo<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Year<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div> <!-- fin caso de estudio -->
<h2 id="definiendo-tipos-y-objetos-valor">Definiendo tipos y objetos '<em>valor</em>' </h2>
<p>Ya hablamos en el <strong>tema 2.1</strong> la diferencia entre tipos valor y tipos referencia y la forma en que se gestionaban en la memoria. Adem√°s, en el <strong>tema 5</strong> vimos que todos los objetos, ya sean creados a trav√©s de nuestras propias clases o a trav√©s de las definidas en la BCL son <strong>tipos referencia</strong>. Pero, ¬øHay alguna forma de definir <strong>tipos valor</strong>?. La respuesta es <strong>S√ç</strong>. Utilizando la palabra reservada <strong><code>struct</code></strong>.</p>
<blockquote>
<p>üìå <strong>Nota:</strong> La palabra reservada <strong><code>struct</code></strong> viene de los antecesores de C# que son C y C++, pero en ellos su <a href="https://docs.microsoft.com/es-es/cpp/cpp/struct-cpp?view=vs-2019">interpretaci√≥n</a> est√° m√°s orientada a la definici√≥n de tipos compuestos heterog√©neos.</p>
</blockquote>
<h3 id="un-poco-de-historia">Un poco de historia </h3>
<p>A principios de la d√©cada del 2000 cuando <a href="https://es.wikipedia.org/wiki/Anders_Hejlsberg">Anders Hejlsberg</a> defini√≥ el lenguaje, siguiendo la estela de Java. En ese momento, todos los tipos deb√≠an ser tratados como objetos en memoria y por tanto los tipos b√°sicos como por ejemplo <code>int</code> tambi√©n eran objetos. Pero, si todas las clases definen tipos referencia. ¬øC√≥mo hacer que estos tipos b√°sicos fueran objetos valor?.</p>
<p>Por ese motivo se incluy√≥ la palabra reservada <code>struct</code> que permit√≠a definir tipos como <code>class</code> pero con ciertas restricciones. Adem√°s, estos tipos ser√≠an valor. Por ejemplo, si nos fijamos <code>int</code> es una alias para el tipo <code>System.Int32</code> y si nos fijamos en su <a href="https://docs.microsoft.com/es-es/dotnet/api/system.int32">definici√≥n</a>, este es un <code>struct</code>.</p>
<p>En dise√±o orientado a objetos a trav√©s de diagramas UML tambi√©n se les conoce como <a href="https://www.uml-diagrams.org/data-type.html">Data Type</a>.</p>
<p>En la POO moderna, la aproximaci√≥n para el uso de estructuras que m√°s consenso produce, es la definici√≥n de <a href="https://martinfowler.com/bliki/ValueObject.html">Value Object</a> que <a href="https://es.wikipedia.org/wiki/Martin_Fowler">Martin Fowler</a> da sobre los mismos. Las caracter√≠sticas que deber√≠an tener los tipos para definirlos a trav√©s <code>struct</code> seg√∫n Martin la describiremos a continuaci√≥n.</p>
<p>Llegados a este punto, podemos tener algo de confusi√≥n y preguntarnos.</p>
<p>¬øEs lo mismo un <strong>value type</strong> que un <strong>value object</strong>?, ¬øSon sin√≥nimos?</p>
<p>La respuesta es <strong>NO</strong>. Podemos resumir lo siguiente...</p>
<div class="caso_estudio">
<p>üì£ <strong>Resumen:</strong></p>
<ul>
<li>
<p>Un <strong>Value Type</strong> (tipo valor <a href="https://en.wikipedia.org/wiki/Value_type_and_reference_type">ver wikipedia</a>) son un tipo de '<em>objetos</em>' cuyas instancias se guardan directamente en el <em><strong>Stack</strong></em> en lugar de <em><strong>Heap</strong></em> y tener solo una referencia en el <em><strong>Stack</strong></em> como vimos en los primeros temas. Por tanto, todos los tipos valor son <strong>struct</strong> como hemos visto con <strong><code>int</code></strong> que es un tipo valor b√°sico.</p>
</li>
<li>
<p>Un <strong>Value Object</strong> (objecto valor <a href="https://en.wikipedia.org/wiki/Value_object">ver wikipedia</a>) ser√°n casos muy puntuales y se representar√°n por una <strong><code>record</code></strong>, <strong><code>class</code></strong> o <strong><code>struct</code></strong> cuyas caracter√≠sticas son muy espec√≠ficas y pueden representarse con el tipo valor <strong><code>struct</code></strong> en C#, aunque no es estrictamente necesario. De hecho <a href="https://learn.microsoft.com/es-es/dotnet/csharp/whats-new/csharp-9#record-types">C# 9</a> introdujo el tipo <strong><code>record</code></strong> para representar los <strong>Value Objects</strong> de forma m√°s concreta mediante tipos referencia en lugar de valor. Para saber m√°s sobre estos √∫ltimos, puedes ver el <a href="https://learn.microsoft.com/es-es/dotnet/csharp/whats-new/tutorials/records#characteristics-of-records">siguiente enlace</a>.</p>
</li>
</ul>
</div> <!-- fin caso de estudio -->
<h3 id="bulb-tips-para-definir-un-value-object-usando-struct-o-tipos-valor">üí° Tips para definir un Value Object usando struct o tipos valor </h3>
<p>Veamos como definir nuestros <strong>Value Objects</strong> con un tipos valor o <strong><code>struct</code></strong> siguiendo las siguientes especificaciones.</p>
<ul>
<li>
<p>Al almacenarse en el <strong>Stack</strong> o Pila, no deber√≠an de superar los <strong>16 bytes</strong> de tama√±o por motivos de eficiencia en la lecturas y copias. Si ocupan m√°s, nuestros programas se pueden ralentizar demasiado y podremos desbordar la pila que recordemos que tiene un tama√±o menor al Heap.</p>
</li>
<li>
<p>Deber√≠an ser <strong>inmutables</strong>, esto es, cualquier operaci√≥n sobre un objeto <strong><code>struct</code></strong> deber√≠a producir un nuevo objeto <strong><code>struct</code></strong>.</p>
</li>
<li>
<p>Sus campos, a su vez, ser√°n tipos inmutables.</p>
</li>
<li>
<p>No deber√≠an tener ning√∫n campo marcado como <strong><code>{id}</code></strong> que haga a los objetos √∫nicos.</p>
</li>
<li>
<p><strong>Los objetos representan entidades completamente intercambiables</strong>. Por ejemplo...</p>
<ul>
<li>Un objeto <strong><code>billete de 5‚Ç¨</code></strong> es intercambiable por otro <strong><code>billete de 5‚Ç¨</code></strong>. Sigo teniendo la misma cosa. El mismo <em>'valor'</em>.</li>
<li>Un objeto naipe con el <strong><code>7 de picas</code></strong> es intercambiable por otro <strong><code>7 de picas</code></strong>. Puedo intercambiarlo por otra carta igual y adem√°s es inmutable porque si cambiara su valor ser√≠a otra carta completamente diferente.</li>
<li>Un objeto IP con el valor <strong><code>192.168.0.1</code></strong> es intercambiable por otro <strong><code>192.168.0.1</code></strong>.</li>
<li>Una objeto coordenada de la consola con los valores <strong><code>X (columna) = 40</code></strong> y <strong><code>Y (fila) = 10</code></strong> es intercambiable con otro objetos con los mismos valores.</li>
<li>Un objeto Fecha <strong><code>21/03/2030</code></strong> es intercambiable por otro objeto fecha id√©ntico. Seguir√≠a teniendo el mismo valor.</li>
</ul>
</li>
<li>
<p>En todos los casos de ejemplo f√≠jate que la composici√≥n son tipos valor simples que no ocupan mucho en memoria.</p>
</li>
</ul>
<blockquote>
<p>üìå <strong>Nota:</strong> Con tantas restricciones <strong>su uso ser√° poco com√∫n</strong>.</p>
</blockquote>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">Certainly not every good program is object-oriented, and not every object-oriented program is good.</div>
        <div class="autor">- Bjarne Stroustrup (C++ creator)</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<h3 id="definir-objetos-valor-a-trav√©s-de-csharp">Definir objetos valor a trav√©s de CSharp </h3>
<div class="flotante" ,="" style="align-items: top;">
<div class="flotante_izq">
<p>Vamos a definir un tipo valor denominado <strong><code>Punto2D</code></strong> que contendr√° 2 campos que ser√°n las coordenadas <strong><code>x</code></strong> e <strong><code>y</code></strong> respectivas al punto.</p>
<p>Si la defini√©ramos en <a href="https://www.uml-diagrams.org/data-type.html">UML</a> usar√≠amos el estereotipo <strong><code>&lt;&lt;dataType&gt;&gt;</code></strong> de una forma similar a esta...</p>
</div>
<div class="flotante_der">
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="101px" preserveAspectRatio="none" style="width:198px;height:101px;background:#FFFFFF;" version="1.1" viewBox="0 0 198 101" width="198px" zoomAndPan="magnify"><defs></defs><g><!--class Punto2D--><g id="elem_Punto2D"><rect codeline="10" fill="#FFFAFA" height="80.8594" id="Punto2D" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="177" x="7" y="7"></rect><ellipse cx="57.25" cy="27.1328" fill="#FF7700" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M56.8438,22.9453 L56.8438,30.9297 L57.5,30.9297 Q58.9375,30.9297 59.5469,30.0234 Q60.1719,29.1016 60.1719,26.9297 Q60.1719,24.7578 59.5469,23.8516 Q58.9375,22.9453 57.5,22.9453 L56.8438,22.9453 Z M54.3906,20.7422 L57.0156,20.7422 Q60.0469,20.7422 61.375,22.1953 Q62.7188,23.6328 62.7188,26.9297 Q62.7188,30.2266 61.375,31.6797 Q60.0469,33.1328 57.0156,33.1328 L54.3906,33.1328 L54.3906,20.7422 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="72" x="75.75" y="23.1387">¬´dataType¬ª</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="81.25" y="38.9639">Punto2D</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="183" y1="47.2656" y2="47.2656"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="13" y="64.2607">+X : double {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="13" y="80.5576">+Y : double {readOnly}</text></g><!--SRC=[ROwn2i9038RtUug0Yw93SH6a5AmYE2bKKCThBxP7hnT9KqJ5TxTQXo9c2U7x-FCxF0i80Tky432MCHDBNgcwjFwYMLUGELtN2n6sQIEuoSWdzeuGz9G5CrsNv8WXTZehUsZNdZh7k5qvK-DDfnqAAvXKL6BFNRu_nSG6-NzO9_n49PwkIXNM85Ge1PbQVIh3hl52qnM4uN0r6QpNiraGZC1eqVlR1QD8FHIqCuOZpC5Gapg41wCsM-zkpoyx_MNF5m00]--></g></svg></p></div>
</div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-struct">struct</span> <span class="token class-name">Punto2D</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> X<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> Y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>En lugar de usar el palabra reservada <strong><code>class</code></strong>, hemos usado <strong><code>struct</code></strong>. Adem√°s, como queremos que sea <strong>inmutable</strong>, los campos los hemos definido <strong><code>readonly</code></strong> y como una vez definidos ya no podremos modificarlos, los hemos definido c√≥mo p√∫blicos para que desde fuera se pueda consultar su valor.</p>
<h4 id="creando-un-objeto-valor-como-un-tipo-valor">Creando un objeto valor como un tipo valor </h4>
<p>La forma m√°s simple, es hacerlo de forma an√°loga a c√≥mo declar√°bamos un entero (recordemos que en el fondo un int es un struct).</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Punto2D</span> p<span class="token punctuation">;</span>
</code></pre><p>Recuerda que nada m√°s declarar <strong><code>Punto2D p;</code></strong>, como sucede cuando declaramos un entero, ya tendremos una instancia valor de nuestro punto con los valores por defecto para <strong><code>double</code></strong> que es <strong><code>0.0d</code></strong> en el <strong>Stack</strong> (Pila) y se eliminar√° de la pila al cerrarse el √°mbito donde se declar√≥ la variable,</p>
<p align="center" style="zoom:0.7" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="821pt" height="149pt" viewBox="0.00 0.00 820.77 149.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 145)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-145 816.77,-145 816.77,4 -4,4"></polygon>
<g id="clust1" class="cluster">
<title>cluster1</title>
<polygon fill="SteelBlue" stroke="black" points="83,-8 83,-133 257.33,-133 257.33,-8 83,-8"></polygon>
<text text-anchor="middle" x="170.16" y="-116.4" font-family="Arial" font-size="14.00" fill="white">STACK</text>
</g>
<!-- stack -->
<g id="node1" class="node">
<title>stack</title>
<text text-anchor="start" x="119" y="-53.8" font-family="Arial" font-size="14.00" fill="white">p</text>
<polygon fill="none" stroke="white" points="146.79,-20.2 146.79,-95.8 241.33,-95.8 241.33,-20.2 146.79,-20.2"></polygon>
<text text-anchor="start" x="167.79" y="-62.2" font-family="Arial" font-size="14.00" fill="white">X = 0.0d</text>
<text text-anchor="start" x="167.79" y="-45.4" font-family="Arial" font-size="14.00" fill="white">Y = 0.0d</text>
</g>
<!-- o -->
<g id="node2" class="node">
<title>o</title>
<text text-anchor="start" x="664.37" y="-53.8" font-family="Arial" font-size="14.00">p</text>
<polygon fill="none" stroke="black" points="681.77,-66.5 681.77,-104.5 804.77,-104.5 804.77,-66.5 681.77,-66.5"></polygon>
<text text-anchor="start" x="692.69" y="-80.9" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Punto2D &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="681.77,-11.5 681.77,-66.5 804.77,-66.5 804.77,-11.5 681.77,-11.5"></polygon>
<text text-anchor="start" x="709.22" y="-42.9" font-family="Arial" font-size="14.00">X = 0.0d</text>
<text text-anchor="start" x="709.22" y="-26.1" font-family="Arial" font-size="14.00">Y = 0.0d &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- stack&#45;&gt;o -->
<g id="edge2" class="edge">
<title>stack-&gt;o</title>
<path fill="none" stroke="Transparent" d="M249.05,-58C286.98,-58 324.33,-58 324.33,-58 324.33,-58 516.11,-58 635.88,-58"></path>
<polygon fill="Transparent" stroke="Transparent" points="635.72,-61.5 645.72,-58 635.72,-54.5 635.72,-61.5"></polygon>
<text text-anchor="middle" x="448.05" y="-95.8" font-family="Arial" font-size="14.00">Para simplificar lo podemos representar</text>
<text text-anchor="middle" x="448.05" y="-79" font-family="Arial" font-size="14.00">de la siguiente forma an√°loga</text>
<text text-anchor="middle" x="448.05" y="-62.2" font-family="Arial" font-size="14.00">a los tipos referencia.</text>
</g>
<!-- Cima\nPila -->
<g id="node3" class="node">
<title>Cima\nPila</title>
<text text-anchor="middle" x="27" y="-100.2" font-family="Arial" font-size="14.00">Cima</text>
<text text-anchor="middle" x="27" y="-83.4" font-family="Arial" font-size="14.00">Pila</text>
</g>
<!-- Cima\nPila&#45;&gt;stack -->
<g id="edge1" class="edge">
<title>Cima\nPila-&gt;stack:nw</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M53.86,-96.22C79.32,-96.43 117.04,-96.75 135.76,-96.9"></path>
<polygon fill="black" stroke="black" points="135.62,-100.4 145.65,-96.99 135.68,-93.4 135.62,-100.4"></polygon>
</g>
</g>
</svg>
</p><p>Pero al hacer el objeto inmutable, ya no podremos modificar su estado. Por esta raz√≥n, lo m√°s apropiado es <strong>definir un constructor</strong> que me permita crear objetos punto.</p>
<blockquote>
<p>üìå <strong>Nota:</strong> A√±adimos adem√°s el m√©todo <strong><code>string ATexto()</code></strong> para poder representar los puntos definidos.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-struct">struct</span> <span class="token class-name">Punto2D</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> X<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> Y<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Punto2D</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> x<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> y<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Y <span class="token operator">=</span> y<span class="token punctuation">;</span>
        X <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span> 
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"(</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">X</span><span class="token format-string"><span class="token punctuation">:</span>G2</span><span class="token punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Y</span><span class="token format-string"><span class="token punctuation">:</span>G2</span><span class="token punctuation">}</span></span><span class="token string">)"</span></span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p>Ahora si hacemos una asignaci√≥n de un punto sobre otro se generar√° una copia en memoria, el objeto <strong><code>Punto2D</code></strong> ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Punto2D</span> p1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">(</span><span class="token number">4d</span><span class="token punctuation">,</span> <span class="token number">4d</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ojo! aunque hagamos un new sigue siendo un tipo valor.</span>
<span class="token class-name">Punto2D</span> p2 <span class="token operator">=</span> p1<span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"p1 = "</span> <span class="token operator">+</span> p1<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"p2 = "</span> <span class="token operator">+</span> p2<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p align="center" style="zoom:0.8" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="392pt" height="109pt" viewBox="0.00 0.00 392.00 109.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 105)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-105 388,-105 388,4 -4,4"></polygon>
<!-- o1 -->
<g id="node1" class="node">
<title>o1</title>
<text text-anchor="start" x="17.71" y="-46.3" font-family="Arial" font-size="14.00">p1</text>
<polygon fill="none" stroke="black" points="43,-59 43,-97 166,-97 166,-59 43,-59"></polygon>
<text text-anchor="start" x="53.92" y="-73.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Punto2D &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="43,-4 43,-59 166,-59 166,-4 43,-4"></polygon>
<text text-anchor="start" x="70.45" y="-35.4" font-family="Arial" font-size="14.00">X = 4.0d</text>
<text text-anchor="start" x="70.45" y="-18.6" font-family="Arial" font-size="14.00">Y = 4.0d &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- o2 -->
<g id="node2" class="node">
<title>o2</title>
<text text-anchor="start" x="227.71" y="-46.3" font-family="Arial" font-size="14.00">p2</text>
<polygon fill="none" stroke="black" points="253,-59 253,-97 376,-97 376,-59 253,-59"></polygon>
<text text-anchor="start" x="263.92" y="-73.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Punto2D &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="253,-4 253,-59 376,-59 376,-4 253,-4"></polygon>
<text text-anchor="start" x="280.45" y="-35.4" font-family="Arial" font-size="14.00">X = 4.0d</text>
<text text-anchor="start" x="280.45" y="-18.6" font-family="Arial" font-size="14.00">Y = 4.0d &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- o1&#45;&gt;o2 -->
<g id="edge1" class="edge">
<title>o1-&gt;o2</title>
<path fill="none" stroke="none" d="M173.8,-50.5C182.03,-50.5 190.42,-50.5 198.75,-50.5"></path>
<polygon fill="none" stroke="none" points="198.55,-54 208.55,-50.5 198.55,-47 198.55,-54"></polygon>
</g>
</g>
</svg>
</p><p>Si <strong><code>Punto2D</code></strong> lo hubi√©semos definido con <strong><code>class</code></strong> tendr√≠amos un <strong>tipo referencia</strong> y lo siguiente en memoria...</p>
<p align="center" style="zoom:0.8" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="273pt" height="114pt" viewBox="0.00 0.00 273.42 113.56" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 109.56)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-109.56 269.42,-109.56 269.42,4 -4,4"></polygon>
<!-- p1 -->
<g id="node1" class="node">
<title>p1</title>
<ellipse fill="none" stroke="gray" cx="21.78" cy="-83.78" rx="21.78" ry="21.78"></ellipse>
<text text-anchor="middle" x="21.78" y="-79.58" font-family="Arial" font-size="14.00">p1</text>
</g>
<!-- o1 -->
<g id="node3" class="node">
<title>o1</title>
<polygon fill="none" stroke="gray" points="87.56,-61.18 87.56,-99.98 257.42,-99.98 257.42,-61.18 87.56,-61.18"></polygon>
<text text-anchor="start" x="98.56" y="-76.38" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p1, p2: Punto2D &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="gray" points="87.56,-5.58 87.56,-61.18 257.42,-61.18 257.42,-5.58 87.56,-5.58"></polygon>
<text text-anchor="start" x="138.44" y="-37.58" font-family="Arial" font-size="14.00">X = 4.0d</text>
<text text-anchor="start" x="138.44" y="-20.78" font-family="Arial" font-size="14.00">Y = 4.0d &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- p1&#45;&gt;o1 -->
<g id="edge1" class="edge">
<title>p1-&gt;o1</title>
<path fill="none" stroke="gray" d="M43.46,-79.47C50.63,-77.97 59.22,-76.18 68.52,-74.24"></path>
<polygon fill="gray" stroke="gray" points="69.16,-77.68 78.24,-72.22 67.74,-70.83 69.16,-77.68"></polygon>
</g>
<!-- p2 -->
<g id="node2" class="node">
<title>p2</title>
<ellipse fill="none" stroke="gray" cx="21.78" cy="-21.78" rx="21.78" ry="21.78"></ellipse>
<text text-anchor="middle" x="21.78" y="-17.58" font-family="Arial" font-size="14.00">p2</text>
</g>
<!-- p2&#45;&gt;o1 -->
<g id="edge2" class="edge">
<title>p2-&gt;o1</title>
<path fill="none" stroke="gray" d="M43.46,-26.09C50.63,-27.58 59.22,-29.38 68.52,-31.31"></path>
<polygon fill="gray" stroke="gray" points="67.74,-34.73 78.24,-33.34 69.16,-27.87 67.74,-34.73"></polygon>
</g>
</g>
</svg>
</p><p>Si planteamos lo mismo pero en t√©rminos de colecciones homog√©neas. Si hacemos ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Punto2D<span class="token punctuation">[</span><span class="token punctuation">]</span></span> triangulo <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// Aqu√≠ los puntos ya estar√≠an creados por ser Punto2D un tipo valor.</span>
triangulo<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">(</span><span class="token number">4D</span><span class="token punctuation">,</span> <span class="token number">4D</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"trangulo[2] = "</span> <span class="token operator">+</span> triangulo<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>Se crear√° un array con los tres objetos valor inicializados por '<em>defecto</em>' y posteriormente hacemos una <strong>copia</strong> del un nuevo objeto valor con coordenadas (4 - 4) en la posici√≥n de √≠ndice 2 en array.</p>
<p></p><p align="center" style="zoom:0.7" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="816pt" height="192pt" viewBox="0.00 0.00 816.07 192.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 188)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-188 812.07,-188 812.07,4 -4,4"></polygon>
<g id="clust1" class="cluster">
<title>cluster1</title>
<polygon fill="none" stroke="black" points="108.07,-8 108.07,-176 800.07,-176 800.07,-8 108.07,-8"></polygon>
<text text-anchor="middle" x="454.07" y="-159.4" font-family="Arial" font-size="14.00">triangulo : Punto2D[3]</text>
</g>
<!-- t1 -->
<g id="node1" class="node">
<title>t1</title>
<ellipse fill="none" stroke="black" cx="40.03" cy="-80" rx="40.03" ry="40.03"></ellipse>
<text text-anchor="middle" x="40.03" y="-75.8" font-family="Arial" font-size="14.00">triangulo</text>
</g>
<!-- ot1 -->
<g id="node2" class="node">
<title>ot1</title>
<text text-anchor="start" x="230.17" y="-124.9" font-family="Arial" font-size="14.00" fill="gray">0</text>
<text text-anchor="start" x="450.17" y="-124.9" font-family="Arial" font-size="14.00" fill="gray">1</text>
<text text-anchor="start" x="670.17" y="-124.9" font-family="Arial" font-size="14.00" fill="blue">2</text>
<polygon fill="none" stroke="black" points="124.07,-20.5 124.07,-119.5 344.07,-119.5 344.07,-20.5 124.07,-20.5"></polygon>
<polygon fill="none" stroke="black" points="127.07,-23.5 127.07,-116.5 218.07,-116.5 218.07,-23.5 127.07,-23.5"></polygon>
<text text-anchor="start" x="137.93" y="-65.8" font-family="Arial" font-size="14.00">triangulo[0]</text>
<polygon fill="none" stroke="black" points="218.07,-78.5 218.07,-116.5 341.07,-116.5 341.07,-78.5 218.07,-78.5"></polygon>
<text text-anchor="start" x="228.99" y="-92.9" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Punto2D &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="218.07,-23.5 218.07,-78.5 341.07,-78.5 341.07,-23.5 218.07,-23.5"></polygon>
<text text-anchor="start" x="245.52" y="-54.9" font-family="Arial" font-size="14.00">X = 0.0d</text>
<text text-anchor="start" x="245.52" y="-38.1" font-family="Arial" font-size="14.00">Y = 0.0d &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="344.07,-20.5 344.07,-119.5 564.07,-119.5 564.07,-20.5 344.07,-20.5"></polygon>
<polygon fill="none" stroke="black" points="347.07,-23.5 347.07,-116.5 438.07,-116.5 438.07,-23.5 347.07,-23.5"></polygon>
<text text-anchor="start" x="357.93" y="-65.8" font-family="Arial" font-size="14.00">triangulo[1]</text>
<polygon fill="none" stroke="black" points="438.07,-78.5 438.07,-116.5 561.07,-116.5 561.07,-78.5 438.07,-78.5"></polygon>
<text text-anchor="start" x="448.99" y="-92.9" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Punto2D &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="438.07,-23.5 438.07,-78.5 561.07,-78.5 561.07,-23.5 438.07,-23.5"></polygon>
<text text-anchor="start" x="465.52" y="-54.9" font-family="Arial" font-size="14.00">X = 0.0d</text>
<text text-anchor="start" x="465.52" y="-38.1" font-family="Arial" font-size="14.00">Y = 0.0d &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="564.07,-20.5 564.07,-119.5 784.07,-119.5 784.07,-20.5 564.07,-20.5"></polygon>
<polygon fill="none" stroke="black" points="567.07,-23.5 567.07,-116.5 658.07,-116.5 658.07,-23.5 567.07,-23.5"></polygon>
<text text-anchor="start" x="577.93" y="-65.8" font-family="Arial" font-size="14.00" fill="blue">triangulo[2]</text>
<polygon fill="none" stroke="black" points="658.07,-76 658.07,-116.5 781.07,-116.5 781.07,-76 658.07,-76"></polygon>
<text text-anchor="start" x="668.99" y="-92.05" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Punto2D &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="658.07,-23.5 658.07,-76 781.07,-76 781.07,-23.5 658.07,-23.5"></polygon>
<text text-anchor="start" x="685.52" y="-52.15" font-family="Arial" font-size="14.00" fill="blue">X = 4.0d</text>
<text text-anchor="start" x="685.52" y="-38.15" font-family="Arial" font-size="14.00" fill="blue">Y = 4.0d</text>
<text text-anchor="start" x="738.06" y="-38.15" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- t1&#45;&gt;ot1 -->
<g id="edge1" class="edge">
<title>t1-&gt;ot1</title>
<path fill="none" stroke="black" d="M80.54,-80C87.83,-80 95.96,-80 104.76,-80"></path>
<polygon fill="black" stroke="black" points="96.55,-83.5 106.55,-80 96.55,-76.5 96.55,-83.5"></polygon>
</g>
</g>
</svg>
</p><p></p>
<blockquote>
<p>‚úã <strong>Importante</strong>: Recordemos del <strong>tema 5</strong>, que si <strong><code>Punto2D</code></strong> fuese un tipo referencia, despu√©s de ejecutar <strong><code>Punto2D[] triangulo = new Punto2D[3];</code></strong> tendr√≠amos un array con tres referencias a objetos <strong><code>Punto2D</code></strong> a <strong>null</strong>.</p>
</blockquote>
<h4 id="definiendo-operaciones-inmutables-en-el-objeto-valor">Definiendo operaciones inmutables en el objeto valor </h4>
<p>Supongamos que queremos definir una operaci√≥n que desplace un punto una distancia y un √°ngulo en el plano.<br>
Puesto que el m√©todo no puede cambiar el estado del punto, devolver√° un nuevo punto donde se habr√° aplicado el desplazamiento.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-struct">struct</span> <span class="token class-name">Punto2D</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Punto2D</span> <span class="token function">Desplaza</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> distancia<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> anguloGrados<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> anguloRadianes <span class="token operator">=</span> anguloGrados <span class="token operator">*</span> Math<span class="token punctuation">.</span>PI <span class="token operator">/</span> <span class="token number">180d</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> fila <span class="token operator">=</span> Y <span class="token operator">+</span> distancia <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Sin</span><span class="token punctuation">(</span>anguloRadianes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> columna <span class="token operator">=</span> X <span class="token operator">+</span> distancia <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Cos</span><span class="token punctuation">(</span>anguloRadianes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Creamos la estructura y devolveremos una COPIA en la pila.</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">(</span>fila<span class="token punctuation">,</span> columna<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="caso_estudio">
<p>üéì <strong>Caso de estudio:</strong></p>
<p>Supongamos que queremos definir un tipo valor para los √°ngulos y as√≠ no tener que especificar las unidades.</p>
<ul>
<li>Internamente guardar√° el valor del √°ngulo en grados (entero) y en radianes (double).</li>
<li>Definir√© un constructor que me los cree a partir de un valor en grados.</li>
<li>Un m√©todo <strong><code>Suma</code></strong> que a partir de un valor en grados lo sume y me devuelva un nuevo valor de √°ngulo.</li>
<li>Finalmente usa el tipo en <strong><code>Punto2D</code></strong> y has un peque√±o programa de prueba.</li>
</ul>
<blockquote>
<p>üìå <strong>Nota:</strong> Intenta realizar la implementaci√≥n antes des ver la siguiente propuesta de soluci√≥n...</p>
</blockquote>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="142px" preserveAspectRatio="none" style="width:253px;height:142px;" version="1.1" viewBox="0 0 253 142" width="253px" zoomAndPan="magnify"><defs></defs><g><!--class Angulo--><g id="elem_Angulo"><rect codeline="9" fill="#FFFAFA" height="121.4531" id="Angulo" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="232" x="7" y="7"></rect><ellipse cx="84.25" cy="27.1328" fill="#FF7700" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M83.8438,22.9453 L83.8438,30.9297 L84.5,30.9297 Q85.9375,30.9297 86.5469,30.0234 Q87.1719,29.1016 87.1719,26.9297 Q87.1719,24.7578 86.5469,23.8516 Q85.9375,22.9453 84.5,22.9453 L83.8438,22.9453 Z M81.3906,20.7422 L84.0156,20.7422 Q87.0469,20.7422 88.375,22.1953 Q89.7188,23.6328 89.7188,26.9297 Q89.7188,30.2266 88.375,31.6797 Q87.0469,33.1328 84.0156,33.1328 L81.3906,33.1328 L81.3906,20.7422 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="73" x="102.75" y="23.1387">¬´DataType¬ª</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="115.25" y="38.9639">Angulo</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="238" y1="47.2656" y2="47.2656"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="13" y="64.2607">+Grados : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220" x="13" y="80.5576">+Radianes : double {readOnly}</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="238" y1="87.8594" y2="87.8594"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="13" y="104.8545">+Angulo(in grados : int)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="13" y="121.1514">+Suma(in grados : int) : Angulo</text></g><!--SRC=[ROz1Qy9G3CVlxrC4Tb6sGs_24A5Lb9qsLc7ds9VLHryJoKiH9txtrTL3qUKImk-NVqYaRmCJq53l3NnGgYm8kzG4Fg1Y2rN4b78p3RlEwAqIBiCFGJPISbKvBYMAGX6nQaReen-nfg9ljKh7Vj2-zi6eRAMXaRkyNYf4FUd_OODm5rMo74VEFTugSkeHiJdtzmlaN7THO3wVh5wUrklPBCkci4B3xUb0YuKxE-Zh6JQANXAyGc23inBwTuwdour-eW_8TELUkbsaHsKuD0aCzIXgUgDbr-83wzkmvIxk5m00]--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-struct">struct</span> <span class="token class-name">Angulo</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> Grados<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> Radianes<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Angulo</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> grados<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> GRADOS_TOTALES <span class="token operator">=</span> <span class="token number">360</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> gr <span class="token operator">=</span> grados <span class="token operator">%</span> GRADOS_TOTALES<span class="token punctuation">;</span>
        gr <span class="token operator">=</span> gr <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">?</span> gr <span class="token operator">+</span> GRADOS_TOTALES <span class="token punctuation">:</span> gr<span class="token punctuation">;</span>
        Grados <span class="token operator">=</span> gr<span class="token punctuation">;</span>
        Radianes <span class="token operator">=</span> Grados <span class="token operator">*</span> Math<span class="token punctuation">.</span>PI <span class="token operator">/</span> <span class="token number">180d</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Angulo</span> <span class="token function">Suma</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> grados<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Angulo</span><span class="token punctuation">(</span>Grados <span class="token operator">+</span> grados<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Punto2D</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> X<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> Y<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Punto2D</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> x<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> y<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Y <span class="token operator">=</span> y<span class="token punctuation">;</span>
        X <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Punto2D</span> <span class="token function">Desplaza</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> distancia<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name">Angulo</span> angulo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> fila <span class="token operator">=</span> Y <span class="token operator">+</span> distancia <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Sin</span><span class="token punctuation">(</span>angulo<span class="token punctuation">.</span>Radianes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> columna <span class="token operator">=</span> X <span class="token operator">+</span> distancia <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Cos</span><span class="token punctuation">(</span>angulo<span class="token punctuation">.</span>Radianes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">(</span>fila<span class="token punctuation">,</span> columna<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"(</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">X</span><span class="token format-string"><span class="token punctuation">:</span>G2</span><span class="token punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Y</span><span class="token format-string"><span class="token punctuation">:</span>G2</span><span class="token punctuation">}</span></span><span class="token string">)"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Angulo</span> a <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Angulo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Punto2D</span> p1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Punto2D</span><span class="token punctuation">(</span><span class="token number">4d</span><span class="token punctuation">,</span> <span class="token number">4d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Punto2D</span> p2 <span class="token operator">=</span> p1<span class="token punctuation">;</span>
        <span class="token class-name">Punto2D</span> p3 <span class="token operator">=</span> p2<span class="token punctuation">.</span><span class="token function">Desplaza</span><span class="token punctuation">(</span><span class="token number">4d</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">Suma</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"a = </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">a<span class="token punctuation">.</span>Grados</span><span class="token punctuation">}</span></span><span class="token string"> grados"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"p1 = "</span> <span class="token operator">+</span> p1<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"p2 = "</span> <span class="token operator">+</span> p2<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"p3 = "</span> <span class="token operator">+</span> p3<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Vamos a definir una clase para modelar un <strong>ISBN</strong></p>
<ul>
<li>
<p>Un ISBN es un c√≥digo normalizado internacional para libros <em>(<strong>International Standard Book Number</strong>)</em>.</p>
</li>
<li>
<p>Los ISBN tuvieron 10 d√≠gitos hasta diciembre de 2006 pero, desde enero de 2007, <strong>tienen siempre 13 d√≠gitos</strong> que se corresponden con los n√∫meros del c√≥digo de barras <strong>EAN13</strong><br>
(<em>c√≥digo de barras de 13 d√≠gitos</em>).</p>
</li>
<li>
<p>Se calculan utilizando una f√≥rmula matem√°tica espec√≠fica e incluyen un d√≠gito de control que valida el c√≥digo.</p>
</li>
<li>
<p>Cada ISBN <strong>se compone de 5 elementos separados entre s√≠</strong> por un espacio o un guion. Tres de los  cinco elementos pueden variar en longitud:</p>
<ol>
<li><strong>Prefijo</strong>: Actualmente s√≥lo pueden ser <strong>978</strong> o <strong>979</strong>. Siempre tiene 3 d√≠gitos de longitud.</li>
<li><strong>Grupo de registro</strong>: Identifica a un determinado pa√≠s, una regi√≥n geogr√°fica o un √°rea ling√º√≠stica que participan en el sistema ISBN. Este elemento <strong>puede tener entre 1 y 5 d√≠gitos</strong> de longitud.</li>
<li><strong>Titular</strong>: Identifica a un determinado editor o a un sello editorial. Puede tener <strong>hasta 7 d√≠gitos</strong> de longitud.</li>
<li><strong>Publicaci√≥n</strong>: Identifica una determinada edici√≥n y formato de un determinado t√≠tulo. Puede  ser de <strong>hasta 6 d√≠gitos</strong> de longitud. Adem√°s, este elemento se rellenar√° con ceros por la izquierda si el ISBN no alcanzase los 13 d√≠gitos.</li>
<li><strong>D√≠gito de control</strong>: Es siempre el √∫ltimo y √∫nico d√≠gito que valida matem√°ticamente al resto  del n√∫mero. Se calcula utilizando <strong>el sistema de m√≥dulo 10 con pesos alternativos de 1 y 3</strong>.</li>
</ol>
<p><strong>Ejemplo:</strong> Para el ISBN <strong>978-1-78528-144</strong> el DC se calcular√°.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>suma  <span class="token operator">=</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">7</span> <span class="token operator">+</span> <span class="token number">8</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">4</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">=</span> 
    <span class="token operator">=</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">21</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">7</span> <span class="token operator">+</span> <span class="token number">24</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">=</span> <span class="token number">110</span>
resto <span class="token operator">=</span> suma <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">=</span> <span class="token number">110</span> <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">=</span> <span class="token number">0</span>
dc <span class="token operator">=</span> resto <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">?</span> <span class="token number">10</span> <span class="token operator">-</span> resto<span class="token punctuation">;</span>
</code></pre></li>
<li>
<p>A la hora de modelar una clase para el ISBN, podr√≠amos definirla como un tipo referencia mediante  class (siempre es buena opci√≥n) o como un tipo valor mediante un struct pues cumple con los requisitos para ello, sobre todo, que una vez establecido no va a cambiar de estado. En nuestro caso, los campos que definir√°n los elementos del ISBN los vamos a definir como cadenas y va a ser un tipo referencia.</p>
<blockquote>
<p>üìå <strong>Nota:</strong> Vamos a obviar definir los accesores o getters para simplificar.</p>
</blockquote>
</li>
<li>
<p>Una aproximaci√≥n preliminar al dise√±o de nuestra clase podr√≠a ser la siguiente:</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="215px" preserveAspectRatio="none" style="width:593px;height:215px;" version="1.1" viewBox="0 0 593 215" width="593px" zoomAndPan="magnify"><defs></defs><g><!--class Isbn13--><g id="elem_Isbn13"><rect codeline="10" fill="#FFFAFA" height="194.6719" id="Isbn13" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="572" x="7" y="7"></rect><ellipse cx="265.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M268.2188,28.6406 Q267.6406,28.9375 267,29.0781 Q266.3594,29.2344 265.6563,29.2344 Q263.1563,29.2344 261.8281,27.5938 Q260.5156,25.9375 260.5156,22.8125 Q260.5156,19.6875 261.8281,18.0313 Q263.1563,16.375 265.6563,16.375 Q266.3594,16.375 267,16.5313 Q267.6563,16.6875 268.2188,16.9844 L268.2188,19.7031 Q267.5938,19.125 267,18.8594 Q266.4063,18.5781 265.7813,18.5781 Q264.4375,18.5781 263.75,19.6563 Q263.0625,20.7188 263.0625,22.8125 Q263.0625,24.9063 263.75,25.9844 Q264.4375,27.0469 265.7813,27.0469 Q266.4063,27.0469 267,26.7813 Q267.5938,26.5 268.2188,25.9219 L268.2188,28.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="285.75" y="27.8467">Isbn13</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="578" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="13" y="55.9951">-prefijo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="259" x="13" y="72.292">-grupoDeRegistro : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="13" y="88.5889">-titular : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218" x="13" y="104.8857">-publicacion : string {readOnly}</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="578" y1="112.1875" y2="112.1875"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="560" x="13" y="129.1826">+Isbn13(in prefijo : int, in grupoDeRegistro : int, in titular : int, on publicacion : int)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="13" y="145.4795">+Isbn13(in isbn13 : string)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="13" y="161.7764">+Isbn13(in isbn : Isbn13)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="13" y="178.0732">+DigitoDeControl() : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="260" x="13" y="194.3701">+ATexto(in separador : string) : string</text></g><!--SRC=[VP5DJyCm38Rl_HKvRW8a43Tk-xZi16AJE6UjbvbcTkMu6Z3jl-Er-oYZMWzfulU9tpT9X9KwPISOrkeA5CWLcR9K8bLU_CRbqQSqKXLSrWgpd6cEF-0UEyX8XBSJZYnk77rUTgGtM_e0O_i5uPgA5ljOey9ymoLqsCd1QSnIWFGtQu6hLdFYROUvbXVYAPa4f5dMdCNDqfAUdhDTvknxS9N02Z_PlRXaXwJWTWA-UANulJyIGUgAf_0E0GsvHIfg7RtS8Afw6J7tkLroBzLWTyUC0wHEF2Izjw4dpacvs3SLi_XhPzNXFmDiPkSm_O39RU4aJp6WMee9asM8Ws7R_gYE5l2bVDYSuF0k1L_kP7YUPVjV]--></g></svg></p>  <div style="page-break-after:always;"></div>
<p>Definiremos <strong>tres</strong> constructores:</p>
<ol>
<li>
<p>Uno que reciba los cuatro elementos que definen el ISBN en forma de enteros sin el DC.</p>
<p><strong><code>Isbn13 isbn = new Isbn13(978, 1, 78528, 14);</code></strong></p>
</li>
<li>
<p>Otro que reciba el ISBN como cadena.</p>
<p><strong><code>Isbn13 isbn = new Isbn13("978-1-78528-144-0");</code></strong><br>
<strong><code>Isbn13 isbn = new Isbn13("978 1 78528 144 0");</code></strong><br>
<strong><code>Isbn13 isbn = new Isbn13("9781785281440");</code></strong></p>
</li>
<li>
<p>Por √∫ltimo un constructor copia.</p>
</li>
</ol>
</li>
</ul>
<p><strong>¬øSer√≠as capaz de implementar la clase propuesta?</strong></p>
<p>Si no se te ocurre nada. Puedes consultar la <strong>propuesta de soluci√≥n comentada</strong> en la siguiente p√°gina y despu√©s volver a intentarlo</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Isbn13</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definimos como constantes privadas y de clase todos aquellos valores que vamos a utilizar para</span>
    <span class="token comment">// comprobaciones de los rangos de valores de los campos y as√≠ no utilizar 'N√∫meros M√°gicos'</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> PREFIJOS <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span> <span class="token number">978</span><span class="token punctuation">,</span> <span class="token number">979</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> MAX_LONGITUD_GRUPO <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> MAX_LONGITUD_TITULAR <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> MAX_LONGITUD_PUBLICACION <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> LONGITUD_ISBN <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>
    <span class="token comment">// Definici√≥n de los campos que guardan los elementos del ISBN.</span>
    <span class="token comment">// Son de solo lectura y string, para preservar ceros por la izquierda y evitar desbordamientos de tipo.</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> prefijo<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> grupoDeRegistro<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> titular<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> publicacion<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Isbn13</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> prefijo<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> grupoDeRegistro<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> titular<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> publicacion<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Comprobamos que el prefijo est√© entre los prefijos v√°lidos,</span>
        <span class="token comment">// en caso contr√°rio generamos un error y finalizamos la creaci√≥n del objeto.</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>prefijo <span class="token operator">=</span> prefijo<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">IndexOf</span><span class="token punctuation">(</span>PREFIJOS<span class="token punctuation">,</span> prefijo<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"El prefijo </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">prefijo</span><span class="token punctuation">}</span></span><span class="token string"> no es v√°lido."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Comprobamos que la longitud de los campos no supere la especificada,</span>
        <span class="token comment">// en caso contr√°rio generamos un error y finalizamos la creaci√≥n del objeto.</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>grupoDeRegistro <span class="token operator">=</span> grupoDeRegistro<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>grupoDeRegistro<span class="token punctuation">.</span>Length <span class="token operator">&gt;</span> MAX_LONGITUD_PUBLICACION<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"El grupo de registro </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">grupoDeRegistro</span><span class="token punctuation">}</span></span><span class="token string"> es demasiado largo."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>titular <span class="token operator">=</span> titular<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>titular<span class="token punctuation">.</span>Length <span class="token operator">&gt;</span> MAX_LONGITUD_PUBLICACION<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"El titular </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">titular</span><span class="token punctuation">}</span></span><span class="token string"> es demasiado largo."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicacion <span class="token operator">=</span> publicacion<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicacion<span class="token punctuation">.</span>Length <span class="token operator">&gt;</span> MAX_LONGITUD_PUBLICACION<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"La publicacion </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">publicacion</span><span class="token punctuation">}</span></span><span class="token string"> es demasiado larga."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Obtenemos la diferencia de longitud con un c√≥digo de 13 d√≠gitos sin contar el d√≠gito de control.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn <span class="token operator">=</span> <span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> prefijo<span class="token punctuation">,</span> grupoDeRegistro<span class="token punctuation">,</span> titular<span class="token punctuation">,</span> publicacion<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> excesoLongitud <span class="token operator">=</span> isbn<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token punctuation">(</span>LONGITUD_ISBN <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Si no llega a 12 rellenamos con ceros por la izquierda. </span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>excesoLongitud <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicacion <span class="token operator">=</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicacion<span class="token punctuation">.</span><span class="token function">PadLeft</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>excesoLongitud<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>publicacion<span class="token punctuation">.</span>Length<span class="token punctuation">,</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Si es m√°s largo de 12 d√≠gitos generamos un error y finalizamos la creaci√≥n del objeto.</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>excesoLongitud <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"El ISBN </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">isbn</span><span class="token punctuation">}</span></span><span class="token string"> esn demasiado largo."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-public">public</span> <span class="token function">Isbn13</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn13<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Separadores posibles ' ', '-' o nada.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> s <span class="token operator">=</span> <span class="token string">"[ -]?"</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo "prefijo", con alternancia de los que haya en el array 978|979</span>
        <span class="token comment">// f√≠jate que el c√≥digo es robusto pues est√° preparado para permitir futuros prefijos.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> erPrefijo <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$"(?&lt;prefijo&gt;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">"|"</span><span class="token punctuation">,</span> PREFIJOS<span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">)"</span></span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo "grupoDeRegistro", un valor entre 1 y MAX_LONGITUD_GRUPO d√≠gitos.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> erGrupoDeRegistro <span class="token operator">=</span> <span class="token string">@"(?&lt;grupoDeRegistro&gt;\d{1,"</span> <span class="token operator">+</span> MAX_LONGITUD_GRUPO <span class="token operator">+</span> <span class="token string">"})"</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo "titular", un valor entre 1 y MAX_LONGITUD_TITULAR d√≠gitos.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> erTitular <span class="token operator">=</span> <span class="token string">@"(?&lt;titular&gt;\d{1,"</span> <span class="token operator">+</span> MAX_LONGITUD_TITULAR <span class="token operator">+</span> <span class="token string">"})"</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo "publicacion", un valor entre 1 y MAX_LONGITUD_PUBLICACION d√≠gitos.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> erPublicacion <span class="token operator">=</span> <span class="token string">@"(?&lt;publicacion&gt;\d{1,"</span> <span class="token operator">+</span> MAX_LONGITUD_PUBLICACION <span class="token operator">+</span> <span class="token string">"})"</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo "dc", que contendr√° el d√≠gito de control.</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> erDC <span class="token operator">=</span> <span class="token string">@"(?&lt;dc&gt;\d)"</span><span class="token punctuation">;</span>

        <span class="token comment">// Intento ver si la entrada se corresponde con la expresi√≥n para comprobar ISBN</span>
        <span class="token comment">// al dividir la expresi√≥n esta queda m√°s legible y es por tanto hay menos posibilidad</span>
        <span class="token comment">// de cometer errores o ampliarla.</span>
        <span class="token class-name">Match</span> m <span class="token operator">=</span> Regex<span class="token punctuation">.</span><span class="token function">Match</span><span class="token punctuation">(</span>isbn13<span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">$"^(</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">erPrefijo</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">erGrupoDeRegistro</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">erTitular</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">erPublicacion</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">erDC</span><span class="token punctuation">}</span></span><span class="token string">)$"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si no hay correspondencia generamos un error y finalizamos la creaci√≥n del objeto.</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>m<span class="token punctuation">.</span>Success<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">isbn13</span><span class="token punctuation">}</span></span><span class="token string"> no es un valor v√°lido para un ISBN"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si hay correspondencia ya podremos extraer el valor de los grupos y rellenar los campos</span>
        <span class="token comment">// que definir√°n el objeto y el dc para comprobarlo.</span>
        prefijo <span class="token operator">=</span> m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">"prefijo"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        grupoDeRegistro <span class="token operator">=</span> m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">"grupoDeRegistro"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        titular <span class="token operator">=</span> m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">"titular"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        publicacion <span class="token operator">=</span> m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">"publicacion"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> dc <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">"dc"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si el ISBN cumple el formato pero m√°s el dc es menor que 13 </span>
        <span class="token comment">// generamos un error y finalizamos la creaci√≥n del objeto.</span>
        <span class="token comment">// Nota: La llamada a this.ATexto("").Length no la podremos hacer si no hemos</span>
        <span class="token comment">// definido el valor de los campos.</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length <span class="token operator">!=</span> LONGITUD_ISBN<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"El d√≠gito de control para </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">isbn13</span><span class="token punctuation">}</span></span><span class="token string"> deber√≠a ser un EAN13"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Calculamos cual deber√≠a ser el dc seg√∫n el valor de los campos y lo comprobamos con el</span>
        <span class="token comment">// introducido. Si no coinciden, generamos un error y finalizamos la creaci√≥n del objeto.</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> dcCorrecto <span class="token operator">=</span> <span class="token function">DigitoDeControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>dc <span class="token operator">!=</span> dcCorrecto<span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"El d√≠gito de control para </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">isbn13</span><span class="token punctuation">}</span></span><span class="token string"> deber√≠a ser </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">dcCorrecto</span><span class="token punctuation">}</span></span><span class="token string"> en lugar de </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">dc</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Constructor copia</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Isbn13</span><span class="token punctuation">(</span><span class="token class-name">Isbn13</span> isbn<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        prefijo <span class="token operator">=</span> isbn<span class="token punctuation">.</span>prefijo<span class="token punctuation">;</span>
        grupoDeRegistro <span class="token operator">=</span> isbn<span class="token punctuation">.</span>grupoDeRegistro<span class="token punctuation">;</span>
        titular <span class="token operator">=</span> isbn<span class="token punctuation">.</span>titular<span class="token punctuation">;</span>
        publicacion <span class="token operator">=</span> isbn<span class="token punctuation">.</span>publicacion<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token comment">// C√°lculo del DC seg√∫n las especificaciones.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">DigitoDeControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn <span class="token operator">=</span> <span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> prefijo<span class="token punctuation">,</span> grupoDeRegistro<span class="token punctuation">,</span> titular<span class="token punctuation">,</span> publicacion<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> suma <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> isbn<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            suma <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>isbn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-double">double</span></span> resto <span class="token operator">=</span> suma <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> resto <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt32</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">-</span> resto<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Devuelvo el ISBN en formato de cadena, con el separador que me indiquen por par√°metro.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> separador<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>separador<span class="token punctuation">,</span> prefijo<span class="token punctuation">,</span> grupoDeRegistro<span class="token punctuation">,</span> titular<span class="token punctuation">,</span> publicacion<span class="token punctuation">,</span> <span class="token function">DigitoDeControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div> <!-- fin caso de estudio -->
<div style="page-break-after:always;"></div>
<h3 id="ejemplo-de-objeto-valor-definido-en-las-bcl-como-tipo-valor">Ejemplo de objeto valor definido en las BCL como tipo valor </h3>
<p>Uno de los objetos valor predefinidos en las BCL y que m√°s vamos usar, es el tipo de dato <strong>fecha</strong>: <a href="https://docs.microsoft.com/en-us/dotnet/api/system.datetime?view=netcore-3.1" target="_blank">System.DateTime</a></p>
<h4 id="formas-de-instanciar-objetos-valor-fecha">Formas de instanciar objetos valor fecha </h4>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">DateTime</span> f1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 19/03/2020 a las 00:00:00</span>
<span class="token class-name">DateTime</span> f2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 19/03/2020 a las 8:30:00</span>
<span class="token class-name">DateTime</span> f3 <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Today<span class="token punctuation">;</span>                        <span class="token comment">// Hoy a las 00:00:00</span>
<span class="token class-name">DateTime</span> f4 <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">;</span>                          <span class="token comment">// Hoy a a la hora actual en mi zona horaria.</span>
<span class="token class-name">DateTime</span> f5 <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>UtcNow<span class="token punctuation">;</span>                       <span class="token comment">// Hoy a a la hora actual en zona UTC.</span>
</code></pre><h4 id="operaciones-m√°s-comunes-con-fechas">Operaciones m√°s comunes con fechas </h4>
<p>Podemos usar todos los operadores de comparaci√≥n <strong><code>==, != , &gt; , &lt;, &gt;= y &lt;=</code></strong></p>
<p>En las operaciones de suma <strong><code>+</code></strong> y resta <strong><code>-</code></strong>, interviene otro tipo de dato valor denominado <a href="https://docs.microsoft.com/en-us/dotnet/api/system.timespan?view=netcore-3.1" target="_blank">TimeSpan</a> que representar√° un periodo de tiempo que podremos representar en las siguiente magnitudes <strong><code>a√±os, meses, d√≠as, horas, minutos, segundos</code></strong> seg√∫n la precisi√≥n que necesitemos.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[4, 8]}" class="language-csharp csharp" data-line="4,8"><code><span class="token class-name">DateTime</span> f1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">TimeSpan</span> periodo <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">TimeSpan</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Periodo de tiempo con precisi√≥n de 25 d√≠as</span>

<span class="token class-name">DateTime</span> f2 <span class="token operator">=</span> f1 <span class="token operator">+</span> periodo<span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// Muestra 13/04/2020</span>

<span class="token comment">// Muestra Del 19/03/2020 al 13/04/2020 hay 25 d√≠as</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Del </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f1<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> al </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f2<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> hay </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token punctuation">(</span>f2 <span class="token operator">-</span> f1<span class="token punctuation">)</span><span class="token punctuation">.</span>Days</span><span class="token punctuation">}</span></span><span class="token string"> d√≠as"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">






<div aria-hidden="true" class="line-highlight" data-range="8" data-start="8">
</div></div></pre><p>Estas operaciones tambi√©n las podremos hacer, a trav√©s de diferentes m√©todos <strong><code>f.AddHours(...)</code></strong>, <strong><code>f.AddDays(...)</code></strong>, etc. y as√≠ evitarnos usar <strong><code>TimeSpan</code></strong></p>
<pre data-role="codeBlock" data-info="csharp {highlight=5}" class="language-csharp csharp" data-line="5"><code><span class="token class-name">DateTime</span> f1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">DateTime</span> f2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Recuerda el m√©todo no cambia el estado de f1, sino que devuelve un objeto valor fecha que copiamos en f3</span>
<span class="token class-name">DateTime</span> f3 <span class="token operator">=</span> f1<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra 19/03/2020 (En Espa√±a)</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">ToLongDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra s√°bado, 1 de agosto de 2020 (En Espa√±a)</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f3<span class="token punctuation">.</span><span class="token function">ToLongDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra lunes, 13 de abril de 2020 (En Espa√±a)</span>
</code><div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5" data-start="5">
</div></div></pre><h4 id="fechas-y-cadenas">Fechas y cadenas </h4>
<p>Una aproximaci√≥n sencilla es usar las propiedades del objeto para dar el formato:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">DateTime</span> f <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f<span class="token punctuation">.</span>Day</span><span class="token format-string"><span class="token punctuation">:</span>D2</span><span class="token punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f<span class="token punctuation">.</span>Month</span><span class="token format-string"><span class="token punctuation">:</span>D2</span><span class="token punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">f<span class="token punctuation">.</span>Year</span><span class="token format-string"><span class="token punctuation">:</span>D4</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra 19-03-2020</span>
</code></pre><p>Pero el lenguaje provee una sintaxis especial para cadenas de fecha y hora personalizadas de DateTime a string y viceversa. Usaremos los siguientes <a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings" target="_blank">formatos definidos por el lenguaje</a>.</p>
<div style="page-break-after:always;"></div>
<p>Aqu√≠ dispones un <strong>cuadro resumen</strong> de los principales formatos descritos en el enlace:</p>
<table>
<thead>
<tr>
<th>Formato</th>
<th>Descripci√≥n</th>
<th>Formato</th>
<th>Descripci√≥n</th>
</tr>
</thead>
<tbody>
<tr>
<td>d</td>
<td>D√≠a del mes con el m√≠nimo de d√≠gitos</td>
<td>/</td>
<td>Separador fecha seg√∫n el pa√≠s</td>
</tr>
<tr>
<td>dd</td>
<td>D√≠a del mes con 2 d√≠gitos</td>
<td>gg</td>
<td>Indicar la era seg√∫n el pa√≠s AC/DC</td>
</tr>
<tr>
<td>ddd</td>
<td>D√≠a de la semana abreviado seg√∫n el pa√≠s</td>
<td>h</td>
<td>Hora de 0 a 12 horas</td>
</tr>
<tr>
<td>dddd</td>
<td>D√≠a de la semana completo seg√∫n el pa√≠s</td>
<td>hh</td>
<td>Hora de 00 a 12 horas</td>
</tr>
<tr>
<td>M</td>
<td>Mes con el m√≠nimo de d√≠gitos</td>
<td>z</td>
<td>Indicador Zona Horaria</td>
</tr>
<tr>
<td>MM</td>
<td>Mes con 2 d√≠gitos</td>
<td>H</td>
<td>Hora de 0 a 23 horas</td>
</tr>
<tr>
<td>MMM</td>
<td>Nombre del mes abreviado seg√∫n el pa√≠s</td>
<td>HH</td>
<td>Hora de 00 a 23 horas</td>
</tr>
<tr>
<td>MMMM</td>
<td>Nombre del mes completo seg√∫n el pa√≠s</td>
<td>mm</td>
<td>Minutos con 2 d√≠gitos</td>
</tr>
<tr>
<td>yyyy</td>
<td>A√±o con 4 d√≠gitos</td>
<td>ss</td>
<td>Segundos con 2 d√≠gitos</td>
</tr>
</tbody>
</table>
<blockquote>
<p>üìå <strong>Nota</strong>: Aquellos caracteres que tienen un significado especial como <strong>d</strong>, <strong>h</strong>, <strong>M</strong>, etc. si queremos que se representen tal cual y no sean sustituidos por un valor de DateTime deberemos escaparlos con <strong><code>\\</code></strong>. Por ejemplo, <strong><code>\\d</code></strong> es el caracter <strong><code>d</code></strong> y no el d√≠a del mes en formato num√©rico.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">DateTime</span> f <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> DateTimeKind<span class="token punctuation">.</span>Utc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Muestra: 19-03-2020</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">"dd-MM-yyyy"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Muestra: jueves 19 de marzo de 2020 a las 19 horas UTC+0</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">@"dddd d \de MMMM \de yyyy a la\s H \hora\s UTCz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre><p>Tendremos tambi√©n la conversi√≥n en sentido inverso si hacemos un Parse. Aunque en este √∫ltimo caso tambi√©n podemos utilizar ER.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Introduce una fecha con formato (dd/MM/yyyy): "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> texto <span class="token operator">=</span> Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span><span class="token function">TryParseExact</span><span class="token punctuation">(</span>texto<span class="token punctuation">,</span> <span class="token string">"dd/MM/yyyy"</span><span class="token punctuation">,</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">,</span>
                                System<span class="token punctuation">.</span>Globalization<span class="token punctuation">.</span>DateTimeStyles<span class="token punctuation">.</span>AllowWhiteSpaces <span class="token operator">|</span>
                                System<span class="token punctuation">.</span>Globalization<span class="token punctuation">.</span>DateTimeStyles<span class="token punctuation">.</span>AdjustToUniversal<span class="token punctuation">,</span>
                                <span class="token keyword keyword-out">out</span> <span class="token class-name">DateTime</span> fecha<span class="token punctuation">)</span><span class="token punctuation">)</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Has introducido </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">fecha<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-else">else</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">texto</span><span class="token punctuation">}</span></span><span class="token string"> es un fecha incorrecta."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="qu√©-pasa-si-solo-queremos-guardar-la-hora-o-la-fecha">¬øQu√© pasa si solo queremos guardar la hora o la fecha? </h4>
<p>Si te ha fijado <strong><code>DateTime</code></strong> me obliga a guardar una fecha asociada si solo quiero guardar una hora. Para solucionar esto, en C#10 disponemos tambi√©n de los tipos valor <strong><code>TimeOnly</code></strong> y <strong><code>DateOnly</code></strong> similares a <strong><code>DateTime</code></strong> pero solo guardaremos u hora o fecha respectivamente.</p>
<div style="page-break-after:always;"></div>
<h2 id="roles-entre-clases">Roles entre clases </h2>
<h3 id="relaciones-todo-parte">Relaciones Todo-Parte </h3>
<ul>
<li>Suelen responder a la pregunta <strong>¬øTiene un ...?</strong></li>
<li>Este tipo de relaciones tambi√©n pueden tener <strong>cardinalidad</strong>.</li>
</ul>
<h4 id="agregaci√≥n-o-referencia">Agregaci√≥n o referencia </h4>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="46px" preserveAspectRatio="none" style="width:303px;height:46px;background:#FFFFFF;" version="1.1" viewBox="0 0 303 46" width="303px" zoomAndPan="magnify"><defs></defs><g><!--class Banco--><g id="elem_Banco"><rect fill="#FFFAFA" height="32" id="Banco" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="76" x="7" y="7.5659"></rect><ellipse cx="22" cy="23.5659" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M24.9688,29.2065 Q24.3906,29.5034 23.75,29.644 Q23.1094,29.8003 22.4063,29.8003 Q19.9063,29.8003 18.5781,28.1597 Q17.2656,26.5034 17.2656,23.3784 Q17.2656,20.2534 18.5781,18.5972 Q19.9063,16.9409 22.4063,16.9409 Q23.1094,16.9409 23.75,17.0972 Q24.4063,17.2534 24.9688,17.5503 L24.9688,20.269 Q24.3438,19.6909 23.75,19.4253 Q23.1563,19.144 22.5313,19.144 Q21.1875,19.144 20.5,20.2222 Q19.8125,21.2847 19.8125,23.3784 Q19.8125,25.4722 20.5,26.5503 Q21.1875,27.6128 22.5313,27.6128 Q23.1563,27.6128 23.75,27.3472 Q24.3438,27.0659 24.9688,26.4878 L24.9688,29.2065 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="36" y="28.4126">Banco</text></g><!--class Cliente--><g id="elem_Cliente"><rect fill="#FFFAFA" height="32" id="Cliente" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="80" x="216" y="7.5659"></rect><ellipse cx="231" cy="23.5659" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M233.9688,29.2065 Q233.3906,29.5034 232.75,29.644 Q232.1094,29.8003 231.4063,29.8003 Q228.9063,29.8003 227.5781,28.1597 Q226.2656,26.5034 226.2656,23.3784 Q226.2656,20.2534 227.5781,18.5972 Q228.9063,16.9409 231.4063,16.9409 Q232.1094,16.9409 232.75,17.0972 Q233.4063,17.2534 233.9688,17.5503 L233.9688,20.269 Q233.3438,19.6909 232.75,19.4253 Q232.1563,19.144 231.5313,19.144 Q230.1875,19.144 229.5,20.2222 Q228.8125,21.2847 228.8125,23.3784 Q228.8125,25.4722 229.5,26.5503 Q230.1875,27.6128 231.5313,27.6128 Q232.1563,27.6128 232.75,27.3472 Q233.3438,27.0659 233.9688,26.4878 L233.9688,29.2065 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="245" y="28.4126">Cliente</text></g><!--reverse link Banco to Cliente--><g id="link_Banco_Cliente"><path codeline="9" d="M95.37,23.5659 C132.7,23.5659 177.87,23.5659 215.83,23.5659 " fill="none" id="Banco-backto-Cliente" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="83.37,23.5659,89.37,27.5659,95.37,23.5659,89.37,19.5659,83.37,23.5659" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="114" y="19.6328">agregaci√≥n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="90.9172" y="36.9806">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="183.8415" y="36.7914">0..n</text></g><!--SRC=[ROqn3i8m34NtdCBAJWKhMzk93Qa3SvgOr6fZ8zS8mRKu0XUZYAL2J5zV_-dz2Sy69g2K1uD4Yj58sCqZyILeA12dCC-rcL9_DJn4uOuU2DiLKglAhPL959efn74r7PSQCZPBP9Khfozs6iYmApBYYcq_JureGlql-m8_gexbvjn02G7BnUvGiFIeisi2Hm6_yo2R3VXjLR5V58Hi27i8MJ67IAydkpS0]--></g></svg></p><ul>
<li>Almacenaremos una <strong>referencia</strong> al objeto '<em>original</em>'.</li>
<li><strong>Es la relaci√≥n todo-parte m√°s com√∫n</strong>.</li>
<li>La agregaci√≥n indica independencia de los objetos, esto significa que si desaparece el contenedor, no desaparece el agregado.</li>
<li>En el siguiente ejemplo diremos que: '<em>1 clase <strong>Banco</strong> tendr√° de 0 a N <strong>Clientes</strong></em>'.<br>
Pero al tratarse de una agregaci√≥n, al desaparecer un objeto banco, no desaparecer√°n con √©l sus clientes.</li>
</ul>
<h5 id="ventajas-de-la-agregaci√≥n-1">Ventajas de la agregaci√≥n üëç </h5>
<ul>
<li>Ahorramos memoria.</li>
<li>Al compartirse la referencia al mismo objeto, mantendremos la integridad referencial.</li>
<li>Mejor manejo de objetos complejos.</li>
<li>Los objetos solo se crean cuando se necesitan.</li>
</ul>
<h5 id="desventajas-de-la-agregaci√≥n--1">Desventajas de la agregaci√≥n üëé </h5>
<ul>
<li>Sobre todo en lenguajes no gestionados como C++. Se puede producir un efecto de <strong>Aliasing</strong>, si destruimos el objeto agregado.</li>
</ul>
<h4 id="composici√≥n-o-subobjetos">Composici√≥n o subobjetos </h4>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="46px" preserveAspectRatio="none" style="width:323px;height:46px;background:#FFFFFF;" version="1.1" viewBox="0 0 323 46" width="323px" zoomAndPan="magnify"><defs></defs><g><!--class Banco--><g id="elem_Banco"><rect fill="#FFFAFA" height="32" id="Banco" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="76" x="7" y="7.5659"></rect><ellipse cx="22" cy="23.5659" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M24.9688,29.2065 Q24.3906,29.5034 23.75,29.644 Q23.1094,29.8003 22.4063,29.8003 Q19.9063,29.8003 18.5781,28.1597 Q17.2656,26.5034 17.2656,23.3784 Q17.2656,20.2534 18.5781,18.5972 Q19.9063,16.9409 22.4063,16.9409 Q23.1094,16.9409 23.75,17.0972 Q24.4063,17.2534 24.9688,17.5503 L24.9688,20.269 Q24.3438,19.6909 23.75,19.4253 Q23.1563,19.144 22.5313,19.144 Q21.1875,19.144 20.5,20.2222 Q19.8125,21.2847 19.8125,23.3784 Q19.8125,25.4722 20.5,26.5503 Q21.1875,27.6128 22.5313,27.6128 Q23.1563,27.6128 23.75,27.3472 Q24.3438,27.0659 24.9688,26.4878 L24.9688,29.2065 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="36" y="28.4126">Banco</text></g><!--class Sucursal--><g id="elem_Sucursal"><rect fill="#FFFAFA" height="32" id="Sucursal" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="91" x="225" y="7.5659"></rect><ellipse cx="240" cy="23.5659" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M242.9688,29.2065 Q242.3906,29.5034 241.75,29.644 Q241.1094,29.8003 240.4063,29.8003 Q237.9063,29.8003 236.5781,28.1597 Q235.2656,26.5034 235.2656,23.3784 Q235.2656,20.2534 236.5781,18.5972 Q237.9063,16.9409 240.4063,16.9409 Q241.1094,16.9409 241.75,17.0972 Q242.4063,17.2534 242.9688,17.5503 L242.9688,20.269 Q242.3438,19.6909 241.75,19.4253 Q241.1563,19.144 240.5313,19.144 Q239.1875,19.144 238.5,20.2222 Q237.8125,21.2847 237.8125,23.3784 Q237.8125,25.4722 238.5,26.5503 Q239.1875,27.6128 240.5313,27.6128 Q241.1563,27.6128 241.75,27.3472 Q242.3438,27.0659 242.9688,26.4878 L242.9688,29.2065 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="254" y="28.4126">Sucursal</text></g><!--reverse link Banco to Sucursal--><g id="link_Banco_Sucursal"><path codeline="10" d="M95.41,23.5659 C134.3,23.5659 183.19,23.5659 224.64,23.5659 " fill="none" id="Banco-backto-Sucursal" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="83.41,23.5659,89.41,27.5659,95.41,23.5659,89.41,19.5659,83.41,23.5659" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="114" y="19.6328">composici√≥n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="90.9643" y="36.9806">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="193.9322" y="36.6495">1..*</text></g><!--SRC=[ROqn3e9044NxFSM4aWIZhHrGsPbGM2_B21DsTyZi4ABNyWXUJ0mDCLO_F__bVOzt1MKGwWU5ZWIT4aUJHegJ5Hl0UPjIgIhKpeeNnx6X9y9nXvGYlDJiMQ3oresxwRfMssErHYyynsx3RWCfDe57tB7rzwbYwL3-opRWHzL4NemPg4F0CEa30eOM9HbJsUWOibC6UL6iUJZa6JIpcoLP3sTm72PEvEZzYkO3]--></g></svg></p><ul>
<li>Almacenaremos un <strong>objeto valor</strong> o una referencia a una <strong>copia</strong> del objeto '<em>original</em>'.</li>
<li>La composici√≥n indica dependencia de los objetos, esto significa que si desaparece el contenedor, desaparece el subobjeto.</li>
<li>En el siguiente ejemplo diremos que: '<em>1 clase <strong>Banco</strong> tendr√° de 1 a N <strong>Sucursales</strong></em>'.<br>
Pero al tratarse de una composici√≥n, al desaparecer un objeto banco,  desaparecer√°n con √©l sus sucursales.</li>
<li>Adem√°s, cualquier <strong>campo</strong> que defina nuestra clase que sea un tipo valor, <strong>value object</strong>, <strong>data type</strong>, etc. ser√° considerado como una composici√≥n.</li>
<li>La relaci√≥n no har√° falta expresarla, pues no puede ser de otra forma que no sea un composici√≥n por la naturaleza valor del objeto fecha. S√≠mplemente indicaremos el tipo de datos en la definici√≥n.</li>
</ul>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="111px" preserveAspectRatio="none" style="width:342px;height:111px;background:#FFFFFF;" version="1.1" viewBox="0 0 342 111" width="342px" zoomAndPan="magnify"><defs></defs><g><!--class Banco--><g id="elem_Banco"><rect codeline="8" fill="#FFFAFA" height="56.2969" id="Banco" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="193" x="7" y="27.43"></rect><ellipse cx="77.25" cy="43.43" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M80.2188,49.0706 Q79.6406,49.3675 79,49.5081 Q78.3594,49.6644 77.6563,49.6644 Q75.1563,49.6644 73.8281,48.0237 Q72.5156,46.3675 72.5156,43.2425 Q72.5156,40.1175 73.8281,38.4612 Q75.1563,36.805 77.6563,36.805 Q78.3594,36.805 79,36.9612 Q79.6563,37.1175 80.2188,37.4144 L80.2188,40.1331 Q79.5938,39.555 79,39.2894 Q78.4063,39.0081 77.7813,39.0081 Q76.4375,39.0081 75.75,40.0862 Q75.0625,41.1487 75.0625,43.2425 Q75.0625,45.3362 75.75,46.4144 Q76.4375,47.4769 77.7813,47.4769 Q78.4063,47.4769 79,47.2112 Q79.5938,46.93 80.2188,46.3519 L80.2188,49.0706 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="97.75" y="48.2767">Banco</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="199" y1="59.43" y2="59.43"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="13" y="76.4251">+FechaFundacion : Fecha</text></g><!--class Fecha--><g id="elem_Fecha"><rect codeline="13" fill="#FFFAFA" height="97.1563" id="Fecha" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="100" x="235.5" y="7"></rect><ellipse cx="250.5" cy="27.1328" fill="#FF7700" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M250.0938,22.9453 L250.0938,30.9297 L250.75,30.9297 Q252.1875,30.9297 252.7969,30.0234 Q253.4219,29.1016 253.4219,26.9297 Q253.4219,24.7578 252.7969,23.8516 Q252.1875,22.9453 250.75,22.9453 L250.0938,22.9453 Z M247.6406,20.7422 L250.2656,20.7422 Q253.2969,20.7422 254.625,22.1953 Q255.9688,23.6328 255.9688,26.9297 Q255.9688,30.2266 254.625,31.6797 Q253.2969,33.1328 250.2656,33.1328 L247.6406,33.1328 L247.6406,20.7422 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="72" x="262.5" y="23.1387">¬´dataType¬ª</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="277.5" y="38.9639">Fecha</text><line style="stroke:#000000;stroke-width:0.5;" x1="236.5" x2="334.5" y1="47.2656" y2="47.2656"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="241.5" y="64.2607">+D√≠a : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="241.5" y="80.5576">+Mes : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="241.5" y="96.8545">+A√±o : int</text></g><!--SRC=[ROx1QW9138RlUOf0BvNsi3T1HDXL5dee5BRGSvmDxh0xaoKp8bfyf1vy1b_CqLt4bkOI_ZzV_YIqrlUavD1q548UezhrDlAR4L_P0sC6uOxagh9RIYUAHKUcVHXz94aRBbBRg6nzFM1VZOrSEMdvWLrUBnMYDUl_OGFm9whoiWDeRCt8hezxTEpMh05kZsD1tWXy0wPwmP9DGsNQ9MF5usmmu0WZVPCudp-lNf_ASZhDiWdM5Ebpt_DYSOzPdNyeBLiVH-ETmo-Tdqyo6aUu0000]--></g></svg></p><h5 id="ventajas-de-la-composici√≥n-1">Ventajas de la composici√≥n üëç </h5>
<ul>
<li>Evitaremos efectos de <strong>Aliasing</strong>.</li>
</ul>
<h5 id="desventajas-de-la-composici√≥n--1">Desventajas de la composici√≥n üëé </h5>
<ul>
<li>Consume mucha memoria y puede tener un coste de proceso alto.</li>
<li>No compartiremos. Por tanto, si necesitamos mantener la integridad referencial, deberemos hacerlo manualmente.</li>
<li>Se pueden crear objetos que puede que no necesitemos.</li>
</ul>
<h4 id="ejemplo-de-agregaci√≥n">Ejemplo de Agregaci√≥n </h4>
<p>Vamos a crear una relaci√≥n entre nuestras clases de ejemplo <strong><code>Escritor</code></strong> y <strong><code>Libro</code></strong> de tal manera que el <strong><code>Libro</code></strong> va a tener informaci√≥n del <strong><code>Escritor</code></strong> a trav√©s de una agregaci√≥n.<br>
Cumple con la m√°xima de que si desaparece el libro no tiene porque desaparecer el escritor.<br>
Una posible forma de expresarlo en UML es la siguiente.</p>
<p></p><p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="177.37px" preserveAspectRatio="none" style="width:600px;height:177px;background:#FFFFFF;" version="1.1" viewBox="0 0 600 177" width="600.6116px" zoomAndPan="magnify"><defs></defs><g><!--class Libro--><g id="elem_Libro"><rect codeline="14" fill="#FFFAFA" height="168.9029" id="Libro" rx="1.5291" ry="1.5291" style="stroke:#000000;stroke-width:0.3058103975535168;" width="348.6239" x="4.2813" y="4.2813"></rect><ellipse cx="165.9021" cy="14.0673" fill="#ADD1B2" rx="6.7278" ry="6.7278" style="stroke:#181818;stroke-width:0.6116207951070336;"></ellipse><path d="M167.7179,17.5172 Q167.3643,17.6988 166.9725,17.7848 Q166.5807,17.8804 166.1506,17.8804 Q164.6216,17.8804 163.8093,16.8769 Q163.0065,15.8639 163.0065,13.9526 Q163.0065,12.0413 163.8093,11.0283 Q164.6216,10.0153 166.1506,10.0153 Q166.5807,10.0153 166.9725,10.1109 Q167.3739,10.2064 167.7179,10.388 L167.7179,12.0508 Q167.3356,11.6972 166.9725,11.5348 Q166.6093,11.3628 166.2271,11.3628 Q165.4052,11.3628 164.9847,12.0222 Q164.5642,12.672 164.5642,13.9526 Q164.5642,15.2332 164.9847,15.8926 Q165.4052,16.5424 166.2271,16.5424 Q166.6093,16.5424 166.9725,16.38 Q167.3356,16.208 167.7179,15.8544 L167.7179,17.5172 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="20.1835" x="178.4404" y="17.0316">Libro</text><line style="stroke:#000000;stroke-width:0.3058103975535168;" x1="4.893" x2="352.2936" y1="23.8532" y2="23.8532"></line><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="106.422" x="7.9511" y="34.2478">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="88.0734" x="7.9511" y="44.2153">-a√±o : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="105.1988" x="7.9511" y="54.1828">-paginas : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="81.3456" x="7.9511" y="64.1503">-paginasLe√≠das : int</text><line style="stroke:#000000;stroke-width:0.3058103975535168;" x1="4.893" x2="352.2936" y1="68.6162" y2="68.6162"></line><text fill="#000000" font-family="sans-serif" font-size="8.5627" font-weight="bold" lengthAdjust="spacing" textLength="341.2844" x="7.9511" y="79.0108">+ Libro(in titulo : string, in a√±o : int, in paginas : int, in autor : Escritor)</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="83.792" x="7.9511" y="88.9783">+GetTitulo() : string</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="63.6086" x="7.9511" y="98.9458">+GetA√±o() : int</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" font-weight="bold" lengthAdjust="spacing" textLength="108.8685" x="7.9511" y="108.9133">+ GetAutor() : Escritor</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="80.1223" x="7.9511" y="118.8808">+GetPaginas() : int</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="107.0336" x="7.9511" y="128.8483">+GetPaginasLeidas() : int</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="169.419" x="7.9511" y="138.8158">-SetPaginasLeidas(in paginas : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="111.315" x="7.9511" y="148.7833">+Lee(int paginas : int) : int</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="99.6942" x="7.9511" y="158.7508">+PorcentajeLe√≠do() : int</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="95.4128" x="7.9511" y="168.7183">+Descripci√≥n() : string</text></g><!--class Escritor--><g id="elem_Escritor"><rect codeline="33" fill="#FFFAFA" height="129.0329" id="Escritor" rx="1.5291" ry="1.5291" style="stroke:#000000;stroke-width:0.3058103975535168;" width="206.7278" x="389.6024" y="24.2202"></rect><ellipse cx="474.4648" cy="34.0061" fill="#ADD1B2" rx="6.7278" ry="6.7278" style="stroke:#181818;stroke-width:0.6116207951070336;"></ellipse><path d="M476.2806,37.456 Q475.927,37.6376 475.5352,37.7236 Q475.1433,37.8192 474.7133,37.8192 Q473.1843,37.8192 472.3719,36.8157 Q471.5692,35.8028 471.5692,33.8914 Q471.5692,31.9801 472.3719,30.9671 Q473.1843,29.9541 474.7133,29.9541 Q475.1433,29.9541 475.5352,30.0497 Q475.9365,30.1453 476.2806,30.3268 L476.2806,31.9897 Q475.8983,31.6361 475.5352,31.4736 Q475.172,31.3016 474.7898,31.3016 Q473.9679,31.3016 473.5474,31.961 Q473.1269,32.6109 473.1269,33.8914 Q473.1269,35.172 473.5474,35.8314 Q473.9679,36.4813 474.7898,36.4813 Q475.172,36.4813 475.5352,36.3188 Q475.8983,36.1468 476.2806,35.7932 L476.2806,37.456 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="31.8043" x="487.0031" y="36.9704">Escritor</text><line style="stroke:#000000;stroke-width:0.3058103975535168;" x1="390.2141" x2="595.7187" y1="43.792" y2="43.792"></line><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="118.6544" x="393.2722" y="54.1866">-nombre : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="118.6544" x="393.2722" y="64.1541">-nacimiento : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="79.5107" x="393.2722" y="74.1216">-publicaciones : int</text><line style="stroke:#000000;stroke-width:0.3058103975535168;" x1="390.2141" x2="595.7187" y1="78.5875" y2="78.5875"></line><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="199.3884" x="393.2722" y="88.9821">+Escritor(in nombre : string, in nacimiento : int)</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="94.1896" x="393.2722" y="98.9496">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="94.1896" x="393.2722" y="108.9171">+GetNacimiento() : int</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="105.1988" x="393.2722" y="118.8846">+GetPublicaciones() : int</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="192.6606" x="393.2722" y="128.8521">-SetPublicaciones(in publicaciones : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="135.1682" x="393.2722" y="138.8196">+Escribe(in titulo : string) : Libro</text><text fill="#000000" font-family="sans-serif" font-size="8.5627" lengthAdjust="spacing" textLength="95.4128" x="393.2722" y="148.7872">+Descripci√≥n() : string</text></g><!--reverse link Libro to Escritor--><g id="link_Libro_Escritor"><path codeline="12" d="M360.5199,88.7339 C372.8379,88.7339 377.6697,88.7339 389.3884,88.7339 " fill="none" id="Libro-backto-Escritor" style="stroke:#000000;stroke-width:0.6116207951070336;"></path><polygon fill="none" points="353.1804,88.7339,356.8502,91.1804,360.5199,88.7339,356.8502,86.2875,353.1804,88.7339" style="stroke:#000000;stroke-width:0.6116207951070336;"></polygon><text fill="#000000" font-family="sans-serif" font-size="7.9511" lengthAdjust="spacing" textLength="4.893" x="357.8829" y="96.2373">1</text><text fill="#000000" font-family="sans-serif" font-size="7.9511" lengthAdjust="spacing" textLength="4.893" x="379.6912" y="96.3239">1</text></g><!--SRC=[XLFBJiCm4BpxArQS-g1IkN3WrXQ4a2geL2JEZhEaIrDlvJXKWFWa3eXFw8zXEwHDtG2vMCvCPdOyJewF5Yo3eMnX8IM3oX9hKIYP8vmFXx2Xr2v4iIIzbaQkGEMoA4RM6afAYpUAzPnU4OODoiWOtamuPmFZNAfb0vgvhSnmx9RCSAdJYlQm88lp5I-nmPrufp6R54sxM4M8fEQQDq9CAJ4C9sSdm8D1MAyAPSYo4I8aWC0GRmBSCm1BjimPBg1mmNG6RmPbUgVpb_SVWjn-UfYqFSRMCYCjYt_WAMu_qfeb0jRhzQivEgJZ4KuThU4QjWT65Q5qaTo-JjVjzO9o7wxHtWV5JdUdkOT6JZW0VfPw5F_UwmMWLcmApYh_Wm-Rm1GfZU01p6Cu3kBfpqpfZzmKiUFFyOYpTvonKQYjVC9mg1mDT8b-zhMYxPTkfd-lkz_TXRf-pQl4u1_rQwbeHSxpzqjG9ZafHsED1oNtTtO-UUGKIep5k_k3lGtqrWflTr-rzD4SfgMF0zZtSJnyr4h8a63BHVN4wcVwx_I_0G00]--></g></svg></p><p></p>
<p>De la relaci√≥n <strong>se debe deducir</strong> que en la clase libro tendremos un campo nuevo que podemos denominar <strong>autor</strong> y que ser√° de solo lectura.</p>
<p>Veamos los cambios que implicar√° esta relaci√≥n en la implementaci√≥n de nuestra clase <strong><code>Libro</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... c√≥digo omitido por brevedad.</span>
    <span class="token comment">// A√±adiremos el campo que establece la relaci√≥n de agregaci√≥n indicada.</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Escritor</span> autor<span class="token punctuation">;</span>

    <span class="token comment">// A√±adiremos un 'getter' para el campo</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Escritor</span> <span class="token function">GetAutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> autor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Recibimos la referencia al escritor en el constructor de libro.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token keyword keyword-int">int</span> a√±o<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">,</span> <span class="token class-name">Escritor</span> autor<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// ... c√≥digo omitido por brevedad.</span>
        <span class="token comment">// Nos quedamos con la referencia y en ning√∫n caso deberemos hacer un copia de escritor. </span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>autor <span class="token operator">=</span> autor<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// ... c√≥digo omitido por brevedad.</span>
        <span class="token comment">// Si tenemos constructor copia o m√©todo de clonado. </span>
        <span class="token comment">// Copiaremos la referencia al escritor y en ning√∫n caso haremos </span>
        <span class="token comment">// copia en profundidad o llamaremos al constructor copia de escritor.. </span>
        autor <span class="token operator">=</span> l<span class="token punctuation">.</span>autor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Podemos a√±adir la informaci√≥n del escritor a la descripci√≥n del libro.</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Libro\n"</span></span> <span class="token operator">+</span>
                <span class="token string">"--------------------------\n"</span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"T√≠tulo: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"A√±o: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">GetA√±<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"P√°ginas: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span><span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Autor --------------------\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">autor<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>
</code></pre><p>En cuanto a la clase <strong><code>Escritor</code></strong> la √∫nica modificaci√≥n la deber√≠amos hacer en el m√©todo <strong><code>Escribe()</code></strong> que ahora debe pasar el escritor al constructor de <strong><code>Libro</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400</span><span class="token range operator">..</span><span class="token number">800</span><span class="token punctuation">;</span>
    <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// F√≠jate que ahora pasamos this que es la referencia impl√≠cita al objeto </span>
    <span class="token comment">// escritor que est√° escribiendo el libro.</span>
    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span>titulo<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Year<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Si implementamos y ejecutamos el siguiente c√≥digo de test...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Escritor</span> e <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Escritor</span><span class="token punctuation">(</span><span class="token string">"Mar√≠a"</span><span class="token punctuation">,</span> <span class="token number">1980</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Libro</span> l1 <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token string">"Programaci√≥n en C#"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Libro</span> l2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span>l1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Console.WriteLine(l1.Descripcion());</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l2<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Libro</span> l3 <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token string">"Programaci√≥n en Java"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l2<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Console.WriteLine(l3.Descripcion());</span>
<span class="token punctuation">}</span>
</code></pre><div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">The most disastrous thing that you can ever learn is your first programming language.</div>
        <div class="autor">- Alan kay.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<p>Al ejecutarlo obtendremos una salida similar a esta...</p>
<div class="code-chunk" data-id="code-chunk-id-0" data-cmd="bash"><div class="input-div"><pre data-role="codeBlock" data-info="bash {code_chunk_offset=0, cmd}" class="language-bash bash"><code>Libro
--------------------------
T√≠tulo: Programaci√≥n en C<span class="token comment">#</span>
A√±o: <span class="token number">2020</span>
P√°ginas: <span class="token number">517</span>
Autor --------------------
Nombre: Mar√≠a
Nacimiento: <span class="token number">1980</span>
Publicaciones: <span class="token number">1</span>

Libro
--------------------------
T√≠tulo: Programaci√≥n en C<span class="token comment">#</span>
A√±o: <span class="token number">2020</span>
P√°ginas: <span class="token number">517</span>
Autor --------------------
Nombre: Mar√≠a
Nacimiento: <span class="token number">1980</span>
Publicaciones: <span class="token number">2</span>
</code></pre><div class="code-chunk-btn-group"><div class="run-btn btn btn-xs btn-primary"><span>‚ñ∂Ô∏é</span></div><div class="run-all-btn btn btn-xs btn-primary">all</div></div><div class="status">running...</div></div><div class="output-div"></div></div><p>Los tres objetos <strong><code>Libro</code></strong> <strong><code>l1</code></strong>, <strong><code>l2</code></strong> y <strong><code>l3</code></strong> referenciar√°n al mismo objeto <strong><code>Escritor</code></strong> <strong><code>e</code></strong>. Es m√°s, si te fijas en la salida, el escritor al ver la primera descripci√≥n en <strong><code>l2</code></strong> solo ha publicado un libro y despu√©s de escribir el segundo libro la descripci√≥n de <strong><code>l2</code></strong> mantiene la integridad referencial indic√°ndonos que ha publicado 2.</p>
<p align="center" style="zoom:0.8" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="677pt" height="456pt" viewBox="0.00 0.00 677.32 455.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 451.6)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-451.6 673.32,-451.6 673.32,4 -4,4"></polygon>
<!-- le -->
<g id="node1" class="node">
<title>le</title>
<ellipse fill="none" stroke="black" cx="189.87" cy="-429.6" rx="18" ry="18"></ellipse>
<text text-anchor="middle" x="189.87" y="-425.4" font-family="Arial" font-size="14.00">e</text>
</g>
<!-- oe -->
<g id="node8" class="node">
<title>oe</title>
<polygon fill="none" stroke="black" points="350.64,-245.4 350.64,-284.2 661.32,-284.2 661.32,-245.4 350.64,-245.4"></polygon>
<text text-anchor="start" x="361.64" y="-260.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e, l1::autor, l2::autor, l3::autor : Escritor &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="350.64,-173 350.64,-245.4 661.32,-245.4 661.32,-173 350.64,-173"></polygon>
<text text-anchor="start" x="449.46" y="-221.8" font-family="Arial" font-size="14.00">nombre = "Mar√≠a"</text>
<text text-anchor="start" x="500.14" y="-205" font-family="Arial" font-size="14.00">...</text>
<text text-anchor="start" x="443.91" y="-188.2" font-family="Arial" font-size="14.00">publicaciones = 2 &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- le&#45;&gt;oe -->
<g id="edge7" class="edge">
<title>le-&gt;oe</title>
<path fill="none" stroke="black" d="M208.26,-428.2C231.73,-425.74 274.33,-419.2 306.64,-402.6 358.53,-375.94 407.89,-332.73 444.38,-296.05"></path>
<polygon fill="black" stroke="black" points="446.86,-298.52 451.37,-288.93 441.87,-293.61 446.86,-298.52"></polygon>
</g>
<!-- l1 -->
<g id="node2" class="node">
<title>l1</title>
<ellipse fill="none" stroke="black" cx="18.55" cy="-333.6" rx="18.55" ry="18.55"></ellipse>
<text text-anchor="middle" x="18.55" y="-329.4" font-family="Arial" font-size="14.00">l1</text>
</g>
<!-- ol1 -->
<g id="node5" class="node">
<title>ol1</title>
<polygon fill="none" stroke="black" points="86.94,-350.4 86.94,-389.2 292.8,-389.2 292.8,-350.4 86.94,-350.4"></polygon>
<text text-anchor="start" x="141.63" y="-365.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l1: Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="86.94,-278 86.94,-350.4 292.8,-350.4 292.8,-278 86.94,-278"></polygon>
<text text-anchor="start" x="97.94" y="-326.8" font-family="Arial" font-size="14.00">titulo = "Programaci√≥n en C#"</text>
<text text-anchor="start" x="270.13" y="-310" font-family="Arial" font-size="14.00">...</text>
<text text-anchor="start" x="249.89" y="-293.2" font-family="Arial" font-size="14.00">autor</text>
</g>
<!-- l1&#45;&gt;ol1 -->
<g id="edge1" class="edge">
<title>l1-&gt;ol1</title>
<path fill="none" stroke="black" d="M37.35,-333.6C45.52,-333.6 55.98,-333.6 67.57,-333.6"></path>
<polygon fill="black" stroke="black" points="67.47,-337.1 77.47,-333.6 67.47,-330.1 67.47,-337.1"></polygon>
</g>
<!-- l2 -->
<g id="node3" class="node">
<title>l2</title>
<ellipse fill="none" stroke="black" cx="18.55" cy="-196.6" rx="18.55" ry="18.55"></ellipse>
<text text-anchor="middle" x="18.55" y="-192.4" font-family="Arial" font-size="14.00">l2</text>
</g>
<!-- ol2 -->
<g id="node6" class="node">
<title>ol2</title>
<polygon fill="none" stroke="black" points="86.94,-213.4 86.94,-252.2 292.8,-252.2 292.8,-213.4 86.94,-213.4"></polygon>
<text text-anchor="start" x="141.63" y="-228.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l2: Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="86.94,-141 86.94,-213.4 292.8,-213.4 292.8,-141 86.94,-141"></polygon>
<text text-anchor="start" x="97.94" y="-189.8" font-family="Arial" font-size="14.00">titulo = "Programaci√≥n en C#"</text>
<text text-anchor="start" x="270.13" y="-173" font-family="Arial" font-size="14.00">...</text>
<text text-anchor="start" x="249.89" y="-156.2" font-family="Arial" font-size="14.00">autor</text>
</g>
<!-- l2&#45;&gt;ol2 -->
<g id="edge2" class="edge">
<title>l2-&gt;ol2</title>
<path fill="none" stroke="black" d="M37.35,-196.6C45.52,-196.6 55.98,-196.6 67.57,-196.6"></path>
<polygon fill="black" stroke="black" points="67.47,-200.1 77.47,-196.6 67.47,-193.1 67.47,-200.1"></polygon>
</g>
<!-- l3 -->
<g id="node4" class="node">
<title>l3</title>
<ellipse fill="none" stroke="black" cx="18.55" cy="-59.6" rx="18.55" ry="18.55"></ellipse>
<text text-anchor="middle" x="18.55" y="-55.4" font-family="Arial" font-size="14.00">l3</text>
</g>
<!-- ol3 -->
<g id="node7" class="node">
<title>ol3</title>
<polygon fill="none" stroke="black" points="81.11,-76.4 81.11,-115.2 298.64,-115.2 298.64,-76.4 81.11,-76.4"></polygon>
<text text-anchor="start" x="141.63" y="-91.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l3: Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="81.11,-4 81.11,-76.4 298.64,-76.4 298.64,-4 81.11,-4"></polygon>
<text text-anchor="start" x="92.11" y="-52.8" font-family="Arial" font-size="14.00">titulo = "Programaci√≥n en Java"</text>
<text text-anchor="start" x="275.97" y="-36" font-family="Arial" font-size="14.00">...</text>
<text text-anchor="start" x="255.73" y="-19.2" font-family="Arial" font-size="14.00">autor</text>
</g>
<!-- l3&#45;&gt;ol3 -->
<g id="edge3" class="edge">
<title>l3-&gt;ol3</title>
<path fill="none" stroke="black" d="M37.35,-59.6C44.19,-59.6 52.62,-59.6 61.98,-59.6"></path>
<polygon fill="black" stroke="black" points="61.83,-63.1 71.83,-59.6 61.83,-56.1 61.83,-63.1"></polygon>
</g>
<!-- ol1&#45;&gt;oe -->
<g id="edge4" class="edge">
<title>ol1:autor-&gt;oe</title>
<path fill="none" stroke="black" d="M282.87,-297.6C303.24,-297.6 324.2,-294.92 344.73,-290.62"></path>
<polygon fill="black" stroke="black" points="345.28,-294.08 354.28,-288.48 343.75,-287.25 345.28,-294.08"></polygon>
</g>
<!-- ol2&#45;&gt;oe -->
<g id="edge5" class="edge">
<title>ol2:autor-&gt;oe</title>
<path fill="none" stroke="black" d="M282.87,-160.6C301.84,-160.6 321.32,-162.89 340.51,-166.64"></path>
<polygon fill="black" stroke="black" points="339.77,-170.06 350.28,-168.69 341.21,-163.21 339.77,-170.06"></polygon>
</g>
<!-- ol3&#45;&gt;oe -->
<g id="edge6" class="edge">
<title>ol3:autor-&gt;oe</title>
<path fill="none" stroke="black" d="M288.87,-23.6C369.58,-23.6 432.2,-99.78 468.79,-159.27"></path>
<polygon fill="black" stroke="black" points="465.72,-160.96 473.88,-167.73 471.72,-157.36 465.72,-160.96"></polygon>
</g>
</g>
</svg>
</p><div style="page-break-after:always;"></div>
<h4 id="ejemplo-de-composici√≥n">Ejemplo de Composici√≥n </h4>
<p>Vamos ampliar nuestro ejemplo con la clase <strong><code>Libro</code></strong> y vamos a crear una relaci√≥n entre <strong><code>Libro</code></strong>  y la clase <strong><code>Isbn3</code></strong> y adem√°s la fecha de publicaci√≥n va a ser un <strong><code>DateTime</code></strong>.<br>
En ambos casos se cumple con la m√°xima de que si desaparece el libro, deber√≠a desaparecer su ISBN (tipo referencia) y su fecha de publicaci√≥n (tipo valor).</p>
<p>Una posible forma de expresarlo en UML es la siguiente.</p>
<p></p><p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="302.4px" preserveAspectRatio="none" style="width:862px;height:302px;background:#FFFFFF;" version="1.1" viewBox="0 0 862 302" width="862.4px" zoomAndPan="magnify"><defs></defs><g><!--cluster System--><g id="cluster_System"><path d="M165.55,4.2 L206.85,4.2 A2.625,2.625 0 0 1 208.6,5.95 L213.5,19.8078 L254.45,19.8078 A1.75,1.75 0 0 1 256.2,21.5578 L256.2,66.15 A1.75,1.75 0 0 1 254.45,67.9 L165.55,67.9 A1.75,1.75 0 0 1 163.8,66.15 L163.8,5.95 A1.75,1.75 0 0 1 165.55,4.2 " fill="#F5F5F5" style="stroke:#000000;stroke-width:1.0499999999999998;"></path><line style="stroke:#000000;stroke-width:1.0499999999999998;" x1="163.8" x2="213.5" y1="19.8078" y2="19.8078"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="40.6" x="166.6" y="14.6966">System</text></g><!--class DateTime--><g id="elem_DateTime"><rect codeline="58" fill="#FFFAFA" height="28.1859" id="DateTime" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.3499999999999999;" width="70" x="175" y="28.609"></rect><ellipse cx="185.5" cy="42.702" fill="#FF7700" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.6999999999999998;"></ellipse><path d="M185.2156,39.7707 L185.2156,45.3598 L185.675,45.3598 Q186.6812,45.3598 187.1078,44.7254 Q187.5453,44.0801 187.5453,42.5598 Q187.5453,41.0395 187.1078,40.4051 Q186.6812,39.7707 185.675,39.7707 L185.2156,39.7707 Z M183.4984,38.2285 L185.3359,38.2285 Q187.4578,38.2285 188.3875,39.2457 Q189.3281,40.252 189.3281,42.5598 Q189.3281,44.8676 188.3875,45.8848 Q187.4578,46.902 185.3359,46.902 L183.4984,46.902 L183.4984,38.2285 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="50.4" x="193.9" y="39.9061">¬´dataType¬ª</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="46.9" x="195.65" y="50.9837">DateTime</text></g><!--class Libro--><g id="elem_Libro"><rect codeline="16" fill="#FFFAFA" height="193.3094" id="Libro" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.3499999999999999;" width="410.2" x="4.9" y="81.151"></rect><ellipse cx="195.475" cy="92.351" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.6999999999999998;"></ellipse><path d="M197.5531,96.2994 Q197.1484,96.5072 196.7,96.6057 Q196.2516,96.7151 195.7594,96.7151 Q194.0094,96.7151 193.0797,95.5666 Q192.1609,94.4072 192.1609,92.2197 Q192.1609,90.0322 193.0797,88.8729 Q194.0094,87.7135 195.7594,87.7135 Q196.2516,87.7135 196.7,87.8229 Q197.1594,87.9322 197.5531,88.1401 L197.5531,90.0432 Q197.1156,89.6385 196.7,89.4526 Q196.2844,89.2557 195.8469,89.2557 Q194.9062,89.2557 194.425,90.0104 Q193.9437,90.7541 193.9437,92.2197 Q193.9437,93.6854 194.425,94.4401 Q194.9062,95.1838 195.8469,95.1838 Q196.2844,95.1838 196.7,94.9979 Q197.1156,94.801 197.5531,94.3963 L197.5531,96.2994 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="23.1" x="209.825" y="95.7437">Libro</text><line style="stroke:#000000;stroke-width:0.3499999999999999;" x1="5.6" x2="414.4" y1="103.551" y2="103.551"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="121.8" x="9.1" y="115.4476">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="168.7" x="9.1" y="126.8554">- fecha : DateTime {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="120.4" x="9.1" y="138.2632">-paginas : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="93.1" x="9.1" y="149.671">-paginasLe√≠das : int</text><line style="stroke:#000000;stroke-width:0.3499999999999999;" x1="5.6" x2="414.4" y1="154.7822" y2="154.7822"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="109.2" x="9.1" y="166.6788">+Libro(in titulo : string,</text><text fill="#000000" font-family="sans-serif" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="107.1" x="121.1" y="166.6788">in fecha : DateTime</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="165.9" x="228.2" y="166.6788">, in paginas : int, in autor : Escritor,</text><text fill="#000000" font-family="sans-serif" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="10.5" x="396.9" y="166.6788">...</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="3.5" x="407.4" y="166.6788">)</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="95.9" x="9.1" y="178.0866">+GetTitulo() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="135.8" x="9.1" y="189.4945">+ GetFecha() : DateTime</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="104.3" x="9.1" y="200.9023">+GetAutor() : Escritor</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="91.7" x="9.1" y="212.3101">+GetPaginas() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="122.5" x="9.1" y="223.7179">+GetPaginasLeidas() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="193.9" x="9.1" y="235.1257">-SetPaginasLeidas(in paginas : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="127.4" x="9.1" y="246.5335">+Lee(int paginas : int) : int</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="114.1" x="9.1" y="257.9413">+PorcentajeLe√≠do() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="109.2" x="9.1" y="269.3491">+Descripci√≥n() : string</text></g><!--class Escritor--><g id="elem_Escritor"><rect codeline="51" fill="#FFFAFA" height="22.4" id="Escritor" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.3499999999999999;" width="58.8" x="627.9" y="114.8"></rect><ellipse cx="638.4" cy="126" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.6999999999999998;"></ellipse><path d="M640.4781,129.9484 Q640.0734,130.1562 639.625,130.2547 Q639.1766,130.3641 638.6844,130.3641 Q636.9344,130.3641 636.0047,129.2156 Q635.0859,128.0562 635.0859,125.8687 Q635.0859,123.6812 636.0047,122.5219 Q636.9344,121.3625 638.6844,121.3625 Q639.1766,121.3625 639.625,121.4719 Q640.0844,121.5812 640.4781,121.7891 L640.4781,123.6922 Q640.0406,123.2875 639.625,123.1016 Q639.2094,122.9047 638.7719,122.9047 Q637.8312,122.9047 637.35,123.6594 Q636.8687,124.4031 636.8687,125.8687 Q636.8687,127.3344 637.35,128.0891 Q637.8312,128.8328 638.7719,128.8328 Q639.2094,128.8328 639.625,128.6469 Q640.0406,128.45 640.4781,128.0453 L640.4781,129.9484 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="36.4" x="648.2" y="129.3927">Escritor</text></g><!--class Isbn13--><g id="elem_Isbn13"><rect codeline="35" fill="#FFFAFA" height="136.2703" id="Isbn13" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.3499999999999999;" width="400.4" x="457.1" y="161.469"></rect><ellipse cx="637.875" cy="172.669" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.6999999999999998;"></ellipse><path d="M639.9531,176.6174 Q639.5484,176.8252 639.1,176.9237 Q638.6516,177.0331 638.1594,177.0331 Q636.4094,177.0331 635.4797,175.8846 Q634.5609,174.7252 634.5609,172.5377 Q634.5609,170.3502 635.4797,169.1909 Q636.4094,168.0315 638.1594,168.0315 Q638.6516,168.0315 639.1,168.1409 Q639.5594,168.2502 639.9531,168.4581 L639.9531,170.3612 Q639.5156,169.9565 639.1,169.7706 Q638.6844,169.5737 638.2469,169.5737 Q637.3062,169.5737 636.825,170.3284 Q636.3437,171.0721 636.3437,172.5377 Q636.3437,174.0034 636.825,174.7581 Q637.3062,175.5018 638.2469,175.5018 Q638.6844,175.5018 639.1,175.3159 Q639.5156,175.119 639.9531,174.7143 L639.9531,176.6174 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="32.9" x="652.225" y="176.0617">Isbn13</text><line style="stroke:#000000;stroke-width:0.3499999999999999;" x1="457.8" x2="856.8" y1="183.869" y2="183.869"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="127.4" x="461.3" y="195.7656">-prefijo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="181.3" x="461.3" y="207.1734">-grupoDeRegistro : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="124.6" x="461.3" y="218.5812">-titular : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="152.6" x="461.3" y="229.989">-publicacion : string {readOnly}</text><line style="stroke:#000000;stroke-width:0.3499999999999999;" x1="457.8" x2="856.8" y1="235.1002" y2="235.1002"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="392" x="461.3" y="246.9968">+Isbn13(in prefijo : int, in grupoDeRegistro : int, in titular : int, on publicacion : int)</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="128.8" x="461.3" y="258.4046">+Isbn13(in isbn13 : string)</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="121.8" x="461.3" y="269.8125">+Isbn13(in isbn : Isbn13)</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="113.4" x="461.3" y="281.2203">+DigitoDeControl() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="182" x="461.3" y="292.6281">+ATexto(in separador : string) : string</text></g><!--reverse link Libro to Escritor--><g id="link_Libro_Escritor"><path codeline="13" d="M423.7445,152.9784 C437.8565,151.3334 443.52,150.682 457.1,149.1 C517.881,142.044 589.085,133.805 627.858,129.325 " fill="none" id="Libro-backto-Escritor" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><polygon fill="none" points="415.401,153.951,419.8969,156.2459,423.7445,152.9784,419.2486,150.6835,415.401,153.951" style="stroke:#000000;stroke-width:0.6999999999999998;"></polygon><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="5.6" x="420.9313" y="161.9049">1</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="5.6" x="616.7164" y="139.2536">1</text></g><!--reverse link Libro to Isbn13--><g id="link_Libro_Isbn13"><path codeline="14" d="M423.7238,202.5487 C437.5768,204.1587 443.177,204.813 457.002,206.416 " fill="none" id="Libro-backto-Isbn13" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><polygon fill="#000000" points="415.38,201.579,419.2287,204.8451,423.7238,202.5487,419.8752,199.2826,415.38,201.579" style="stroke:#000000;stroke-width:0.6999999999999998;"></polygon><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="5.6" x="420.9098" y="210.798">1</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="5.6" x="446.0072" y="214.3876">1</text></g><!--SRC=[VLJBZjem5DtxAwpf1bA267M1L8r60ZACHa8gAaXT6_iIxf3OaUrqIX6Vr5K_ONwiZlCW13fiGdpElUVSXvF0rbAhgCPuPwb03ToYaiJiKMPCivJoX1apiLRZ9hVmmfLSuM-WenPbehLwcwb4QJfD6D-teALxPJ5CtIFMAfUYfFtOeOLLglRGuiuAfQdI0lJjP2MXasebrHiXXhF4cHgE2LdWHYjwTtz7LHZwvvFX6gtIBIYee1UpaVTV2F5LKe-J8w7k5rABDayK_KgDArx6zAY1YMyoEPmy8GX2kWM-OuuHCGjhJA752O8gJSPYbCmu5ahRJTB02tZ_8seMyTZdqayFPTVAm8cxqwvw40nSzAMWFs6vgzwzruqeueV3OH3qAw5di6ilqUit8bMH7fmNIXuxQvr39qLwZpQTRh1bQSQZHMLTO04eEd18LrsuMrL1_wbGr7q2w1NDlUAS5PTASv2MlOBljEeOYg1mdd5y_olRFJZLgr4jIhqRcOOjllv_EK8QwpnJ4No761tb8wOVBjCVCB9yao1dtDtCcwogYDAZRrPZhrw1QpirSfRt9qxYKgvevPK0-d-DcTi41vS7DHnXxBOZWfcIpaFIcS5a3R-iNtS3nOKNwjoJov6G7GgWa6RsG5D8Dw1DDQPc0O-UbvMV7xew60jfDRsIsLpPXuTUDFWqdu_7er6V2cRP-f31uwFdbX7b7Bne4vQ2tIbXRY2i_bWQSle7]--></g></svg></p><p></p>
<p>F√≠jate que con DateTime no hace falta indicar la relaci√≥n porque al ser un tipo valor, forzosamente ya es una composici√≥n. Adem√°s, de esta relaci√≥n tambi√©n <strong>se debe deducir</strong> que en la clase libro tendremos un campo nuevo que podemos denominar <strong>isbn</strong> y que ser√° de solo lectura.</p>
<p>Veamos los cambios que implicar√° esta relaci√≥n en la implementaci√≥n de nuestra clase <strong><code>Libro</code></strong>.</p>
<p>Lo mas l√≥gico es que llegue el <strong>ISBN</strong> al constructor de <strong><code>Libro</code></strong>, puesto que no es <strong>responsabilidad</strong> del libro definirlo, sino m√°s bien de un posible objeto de tipo <strong><code>Editorial</code></strong> de existir el mismo.</p>
<div class="caso_estudio">
<p>‚úã <strong>Muy importante</strong>:</p>
<p>Deberemos asegurarnos que la <strong>referencia</strong> al objeto <strong><code>Isbn13</code></strong> que tenga nuestro objeto <strong><code>Libro</code></strong>, solo la tenga √©l y no est√© referenciado por nadie m√°s, como puede suceder con el <strong><code>Escritor</code></strong> por ser una agregaci√≥n.</p>
<p>De esta manera al ser '<em>Destruido</em>' el libro, el el objeto <strong><code>Isbn13</code></strong> dejar√° de estar referenciado y tambi√©n ser√° destruido por el GC.<br>
üëÅÔ∏è F√≠jate que por esa misma raz√≥n no definimos ning√∫n <strong>accesor publico</strong> del tipo <strong><code>GetISBN() : Isbn13</code></strong>. Si lo hici√©ramos, este deber√≠a devolver una <strong>copia</strong>.<br>
<strong>¬øQu√© sentido tiene que haya un objeto isbn referenciado por alguien, si su libro asociado ya no existe?</strong></p>
<p align="center" style="zoom:0.8" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="385pt" height="272pt" viewBox="0.00 0.00 385.40 271.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 267.8)">
<title>G</title>
<!-- ll -->
<g id="node1" class="node">
<title>ll</title>
<ellipse fill="none" stroke="black" cx="18" cy="-114.8" rx="18" ry="18"></ellipse>
<text text-anchor="middle" x="18" y="-110.6" font-family="Arial" font-size="14.00">l</text>
</g>
<!-- ol -->
<g id="node3" class="node">
<title>ol</title>
<polygon fill="none" stroke="black" points="81,-166.2 81,-205 191.7,-205 191.7,-166.2 81,-166.2"></polygon>
<text text-anchor="start" x="92" y="-181.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l: Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="#ee1289" points="92,-137.2 92,-155.2 180.7,-155.2 180.7,-137.2 92,-137.2"></polygon>
<text text-anchor="start" x="106.01" y="-141.6" font-family="Arial" font-size="14.00">DateTime</text>
<polygon fill="none" stroke="#ee1289" points="92,-89.2 92,-137.2 148.35,-137.2 148.35,-89.2 92,-89.2"></polygon>
<text text-anchor="start" x="103.05" y="-109" font-family="Arial" font-size="14.00" fill="#cd1076">fecha</text>
<text text-anchor="start" x="158.69" y="-124.6" font-family="Arial" font-size="14.00">...</text>
<text text-anchor="start" x="158.69" y="-108.6" font-family="Arial" font-size="14.00">...</text>
<text text-anchor="start" x="158.69" y="-92.6" font-family="Arial" font-size="14.00">...</text>
<polygon fill="none" stroke="#ee1289" points="91,-88.2 91,-156.2 181.7,-156.2 181.7,-88.2 91,-88.2"></polygon>
<text text-anchor="start" x="149.79" y="-55.6" font-family="Arial" font-size="14.00">autor</text>
<text text-anchor="start" x="156.01" y="-38.8" font-family="Arial" font-size="14.00" fill="#cd1076">isbn</text>
<polygon fill="none" stroke="black" points="80,-23.6 80,-206 192.7,-206 192.7,-23.6 80,-23.6"></polygon>
</g>
<!-- ll&#45;&gt;ol -->
<g id="edge1" class="edge">
<title>ll-&gt;ol</title>
<path fill="none" stroke="black" d="M36.42,-114.8C43.36,-114.8 51.85,-114.8 60.92,-114.8"></path>
<polygon fill="black" stroke="black" points="60.69,-118.3 70.69,-114.8 60.69,-111.3 60.69,-118.3"></polygon>
</g>
<!-- le -->
<g id="node2" class="node">
<title>le</title>
<ellipse fill="none" stroke="black" cx="136.35" cy="-245.8" rx="18" ry="18"></ellipse>
<text text-anchor="middle" x="136.35" y="-241.6" font-family="Arial" font-size="14.00">e</text>
</g>
<!-- oa -->
<g id="node4" class="node">
<title>oa</title>
<polygon fill="none" stroke="black" points="244.7,-195.8 244.7,-234.6 369.4,-234.6 369.4,-195.8 244.7,-195.8"></polygon>
<text text-anchor="start" x="255.7" y="-211" font-family="Arial" font-size="14.00">e, autor: Escritor</text>
<polygon fill="none" stroke="black" points="244.7,-157 244.7,-195.8 369.4,-195.8 369.4,-157 244.7,-157"></polygon>
<text text-anchor="start" x="293.43" y="-172.2" font-family="Arial" font-size="14.00">... &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- le&#45;&gt;oa -->
<g id="edge4" class="edge">
<title>le-&gt;oa</title>
<path fill="none" stroke="black" d="M154.14,-240.82C171.21,-235.76 198.93,-227.55 226.05,-219.51"></path>
<polygon fill="black" stroke="black" points="226.75,-222.95 235.34,-216.76 224.76,-216.24 226.75,-222.95"></polygon>
</g>
<!-- ol&#45;&gt;oa -->
<g id="edge2" class="edge">
<title>ol:autor-&gt;oa:w</title>
<path fill="none" stroke="black" d="M182.35,-59.8C243.12,-59.8 181.05,-178.34 225.51,-194.08"></path>
<polygon fill="black" stroke="black" points="224.78,-197.51 235.2,-195.57 225.85,-190.59 224.78,-197.51"></polygon>
</g>
<!-- oi -->
<g id="node5" class="node">
<title>oi</title>
<polygon fill="none" stroke="#cd1076" points="258.3,-42.8 258.3,-81.6 355.8,-81.6 355.8,-42.8 258.3,-42.8"></polygon>
<text text-anchor="start" x="269.3" y="-58" font-family="Arial" font-size="14.00">isbn: Isbn13</text>
<polygon fill="none" stroke="#cd1076" points="258.3,-4 258.3,-42.8 355.8,-42.8 355.8,-4 258.3,-4"></polygon>
<text text-anchor="start" x="293.43" y="-19.2" font-family="Arial" font-size="14.00">... &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- ol&#45;&gt;oi -->
<g id="edge3" class="edge">
<title>ol:isbn-&gt;oi:w</title>
<path fill="none" stroke="#cd1076" d="M182.35,-42.8C207.82,-42.8 216.88,-42.8 237.74,-42.8"></path>
<polygon fill="#cd1076" stroke="#cd1076" points="237.53,-46.3 247.53,-42.8 237.53,-39.3 237.53,-46.3"></polygon>
</g>
</g>
</svg>
</p></div> <!-- fin caso de estudio -->
<p>Sabiendo que nuestro libro debe ser el √∫nico en referenciar el objeto ISBN. Una de las formas de abordarlo es la siguiente (Existen otras que veremos m√°s adelante al ver POO Avanzada):</p>
<p>Pasaremos los datos necesarios para construir un objeto ISBN al constructor de Libro (en nuestro caso una cadena con el isbn) y ser√° este quien lo cree. En el fondo esto es lo que sucede con un tipo valor como <strong><code>DateTime</code></strong> por su '<em>naturaleza</em>'.<br>
De esta manera, adem√°s, el objeto <strong><code>Isbn13</code></strong> que estoy creando desaparecer√° junto con el libro.</p>
<blockquote>
<p>üìå <strong>Nota:</strong> F√≠jate que con el <strong><code>Escritor</code></strong>, no sucede lo mismo.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">DateTime</span> fecha<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name">Isbn13</span> isbn<span class="token punctuation">;</span>
    <span class="token comment">// ... c√≥digo omitido por brevedad</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span><span class="token keyword keyword-in">in</span> <span class="token class-name">DateTime</span> fecha<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">,</span> <span class="token class-name">Escritor</span> autor<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>titulo <span class="token operator">=</span> titulo<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>fecha <span class="token operator">=</span> fecha<span class="token punctuation">;</span> <span class="token comment">// Aqu√≠ estamos haciendo una copia por ser un tipo valor.</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>paginas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>autor <span class="token operator">=</span> autor<span class="token punctuation">;</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>isbn <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Isbn13</span><span class="token punctuation">(</span>isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        titulo <span class="token operator">=</span> l<span class="token punctuation">.</span>titulo<span class="token punctuation">;</span>
        fecha <span class="token operator">=</span> l<span class="token punctuation">.</span>fecha<span class="token punctuation">;</span> <span class="token comment">// Aqu√≠ estamos haciendo una copia por ser un tipo valor.</span>
        paginas <span class="token operator">=</span> l<span class="token punctuation">.</span>paginas<span class="token punctuation">;</span>
        autor <span class="token operator">=</span> l<span class="token punctuation">.</span>autor<span class="token punctuation">;</span>
        <span class="token comment">// En el constructor copia haremos una copia en profundidad. Duplicando el objeto </span>
        <span class="token comment">// referenciado por isbn, para que cada libro tenga el suyo y as√≠ desaparezca con √©l.</span>
        isbn <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Isbn13</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>paginasLeidas<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$"Libro\n"</span></span> <span class="token operator">+</span> <span class="token string">"--------------------------\n"</span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"T√≠tulo: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Fecha: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetFecha</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToShortTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"P√°ginas: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"ISBN: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">isbn<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span> <span class="token operator">+</span>
                <span class="token interpolation-string"><span class="token string">$"Autor --------------------\n"</span></span> <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">autor<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">\n"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Escritor</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... c√≥digo omitido por brevedad</span>
    <span class="token comment">// Tampoco es responsabilidad del escritor crear el ISBN.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400</span><span class="token range operator">..</span><span class="token number">800</span><span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span>titulo<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">,</span> isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Programa</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Escritor</span> e <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Escritor</span><span class="token punctuation">(</span><span class="token string">"Mar√≠a"</span><span class="token punctuation">,</span> <span class="token number">1980</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Nos hemos asegurado que el libro l tenga su propia referencia al objeto isbn.</span>
        <span class="token comment">// Lo que hagamos con el objeto isbn referenciado en el main, ya no importa porque no afecta a l</span>
        <span class="token class-name">Libro</span> l <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token string">"Programaci√≥n en C#"</span><span class="token punctuation">,</span> <span class="token string">"9788420454665"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Es importente insistir en la gesti√≥n de la memoria y por tanto deberemos tener en cuenta que en el bloque <strong><code>Main</code></strong> anterior:</p>
<ol>
<li>
<p>En el <strong>Stack</strong> tendremos dos referencias:</p>
<ul>
<li><strong><code>e</code></strong> que apunta al objeto de tipo <strong><code>Escritor</code></strong> <strong><code>"Mar√≠a"</code></strong></li>
<li><strong><code>l</code></strong> que apunta al objeto de tipo <strong><code>Libro</code></strong> <strong><code>"Programaci√≥n en C#"</code></strong></li>
</ul>
</li>
<li>
<p>En el <strong>Heap</strong> tendremos:</p>
<ul>
<li>El objeto de tipo <strong><code>Escritor</code></strong> referenciado por <strong><code>e</code></strong> en el <strong>Stack</strong> y por el campo <strong><code>autor</code></strong> en el objeto de tipo <strong><code>Libro</code></strong>.</li>
<li>El objeto de tipo <strong><code>Isbn13</code></strong> creado <em>'dentro del libro'</em> y referenciado √∫nicamente por el atrav√©s del campo <strong><code>isbn</code></strong>.</li>
<li>El objeto de tipo <strong><code>Libro</code></strong> que contiene el Tipo Valor <strong><code>DateTime</code></strong> por lo que este formar√° parte del propio objeto y no es una referencia a otro objeto en el Heap. Esto significa que ser√° destruido junto con el libro.</li>
</ul>
</li>
</ol>
<p align="center" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="521pt" height="354pt" viewBox="0.00 0.00 521.41 354.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 350)">
<title>G</title>
<g id="clust1" class="cluster">
<title>cluster1</title>
<polygon fill="SteelBlue" stroke="black" points="82,-91 82,-256 228,-256 228,-91 82,-91"></polygon>
<text text-anchor="middle" x="155" y="-239.4" font-family="Arial" font-size="14.00" fill="white">STACK</text>
</g>
<g id="clust2" class="cluster">
<title>cluster2</title>
<polygon fill="LightSteelBlue" stroke="black" points="322,-8 322,-338 470.12,-338 470.12,-8 322,-8"></polygon>
<text text-anchor="middle" x="396.06" y="-321.4" font-family="Arial" font-size="14.00">HEAP</text>
</g>
<!-- stack -->
<g id="node1" class="node">
<title>stack</title>
<text text-anchor="start" x="119.94" y="-185.8" font-family="Arial" font-size="14.00" fill="white">l</text>
<polygon fill="CornflowerBlue" stroke="none" points="145,-161 145,-219 212,-219 212,-161 145,-161"></polygon>
<polygon fill="none" stroke="white" points="145,-161 145,-219 212,-219 212,-161 145,-161"></polygon>
<text text-anchor="start" x="165.67" y="-185.4" font-family="Arial" font-size="14.00" fill="white">(ref)</text>
<text text-anchor="start" x="117.61" y="-127.8" font-family="Arial" font-size="14.00" fill="white">e</text>
<polygon fill="CornflowerBlue" stroke="none" points="145,-103 145,-161 212,-161 212,-103 145,-103"></polygon>
<polygon fill="none" stroke="white" points="145,-103 145,-161 212,-161 212,-103 145,-103"></polygon>
<text text-anchor="start" x="165.67" y="-127.4" font-family="Arial" font-size="14.00" fill="white">(ref)</text>
</g>
<!-- heap -->
<g id="node2" class="node">
<title>heap</title>
<polygon fill="none" stroke="black" points="338,-262.8 338,-301.6 454.12,-301.6 454.12,-262.8 338,-262.8"></polygon>
<text text-anchor="start" x="349" y="-278" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Escritor &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="338,-224 338,-262.8 454.12,-262.8 454.12,-224 338,-224"></polygon>
<text text-anchor="start" x="366.89" y="-239.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="338,-185.2 338,-224 454.12,-224 454.12,-185.2 338,-185.2"></polygon>
<text text-anchor="start" x="351.71" y="-200.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Isbn13 &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="338,-146.4 338,-185.2 454.12,-185.2 454.12,-146.4 338,-146.4"></polygon>
<text text-anchor="start" x="366.89" y="-161.6" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="338,-20.4 338,-146.4 454.12,-146.4 454.12,-20.4 338,-20.4"></polygon>
<polygon fill="none" stroke="black" points="349,-117.4 349,-135.4 443.12,-135.4 443.12,-117.4 349,-117.4"></polygon>
<text text-anchor="start" x="365.72" y="-121.8" font-family="Arial" font-size="14.00">DateTime</text>
<polygon fill="none" stroke="black" points="349,-63.4 349,-117.4 397.56,-117.4 397.56,-63.4 349,-63.4"></polygon>
<text text-anchor="start" x="356.16" y="-86.2" font-family="Arial" font-size="14.00">fecha</text>
<polygon fill="none" stroke="black" points="397.56,-99.4 397.56,-117.4 443.12,-117.4 443.12,-99.4 397.56,-99.4"></polygon>
<text text-anchor="start" x="412.56" y="-103.8" font-family="Arial" font-size="14.00">dd</text>
<polygon fill="none" stroke="black" points="397.56,-81.4 397.56,-99.4 443.12,-99.4 443.12,-81.4 397.56,-81.4"></polygon>
<text text-anchor="start" x="408.68" y="-85.8" font-family="Arial" font-size="14.00">mm</text>
<polygon fill="none" stroke="black" points="397.56,-63.4 397.56,-81.4 443.12,-81.4 443.12,-63.4 397.56,-63.4"></polygon>
<text text-anchor="start" x="404.77" y="-67.8" font-family="Arial" font-size="14.00">aaaa</text>
<text text-anchor="start" x="381.66" y="-50.8" font-family="Arial" font-size="14.00">autor (ref)</text>
<text text-anchor="start" x="387.89" y="-34.8" font-family="Arial" font-size="14.00">isbn (ref)</text>
</g>
<!-- stack&#45;&gt;heap -->
<g id="edge2" class="edge">
<title>stack:e-&gt;heap:w</title>
<path fill="none" stroke="black" d="M212,-190C212,-190 300.92,-114.53 329.4,-90.35"></path>
<polygon fill="black" stroke="black" points="331.55,-93.12 336.91,-83.98 327.02,-87.78 331.55,-93.12"></polygon>
</g>
<!-- stack&#45;&gt;heap -->
<g id="edge3" class="edge">
<title>stack:e-&gt;heap:w</title>
<path fill="none" stroke="black" d="M212,-132C212,-132 304.26,-241.77 330.92,-273.51"></path>
<polygon fill="black" stroke="black" points="327.97,-275.44 337.09,-280.84 333.33,-270.93 327.97,-275.44"></polygon>
</g>
<!-- stack&#45;&gt;heap -->
<g id="edge6" class="edge">
<title>stack-&gt;heap</title>
<path fill="none" stroke="none" d="M228,-161C256.67,-161 289.61,-161 318.68,-161"></path>
<polygon fill="none" stroke="none" points="310.49,-164.5 320.49,-161 310.49,-157.5 310.49,-164.5"></polygon>
</g>
<!-- heap&#45;&gt;heap -->
<g id="edge4" class="edge">
<title>heap:e-&gt;heap:e</title>
<path fill="none" stroke="black" d="M443.06,-55C479.22,-46 513.41,-46 513.41,-168.5 513.41,-273.77 488.16,-288.58 465.09,-284.95"></path>
<polygon fill="black" stroke="black" points="466.09,-281.59 455.52,-282.39 464.28,-288.35 466.09,-281.59"></polygon>
</g>
<!-- heap&#45;&gt;heap -->
<g id="edge5" class="edge">
<title>heap:e-&gt;heap:e</title>
<path fill="none" stroke="SteelBlue" d="M443.06,-39C479.22,-30 513.41,-30 513.41,-122 513.41,-201.06 488.16,-212.18 465.09,-208.03"></path>
<polygon fill="SteelBlue" stroke="SteelBlue" points="466.09,-204.68 455.52,-205.4 464.24,-211.43 466.09,-204.68"></polygon>
</g>
<!-- Cima\nPila -->
<g id="node3" class="node">
<title>Cima\nPila</title>
<text text-anchor="middle" x="27" y="-223.2" font-family="Arial" font-size="14.00">Cima</text>
<text text-anchor="middle" x="27" y="-206.4" font-family="Arial" font-size="14.00">Pila</text>
</g>
<!-- Cima\nPila&#45;&gt;stack -->
<g id="edge1" class="edge">
<title>Cima\nPila-&gt;stack:nw</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M53.97,-219.22C78.88,-219.43 115.32,-219.75 133.63,-219.9"></path>
<polygon fill="black" stroke="black" points="133.46,-223.4 143.49,-219.99 133.52,-216.4 133.46,-223.4"></polygon>
</g>
</g>
</svg>
</p><p>Si te fijas en el diagrama que representa la disposici√≥n de memoria que hemos comentado. La liberaci√≥n de memoria seguir√° el siguiente proceso...</p>
<ol>
<li>Se desapilar√°n las referencias <strong><code>l</code></strong> y <strong><code>e</code></strong> por lo que:
<ul>
<li>El objeto de tipo <strong><code>Libro</code></strong> ya no estar√° referenciado por nadie y ser√° liberado en la siguiente pasada del <strong>GC</strong>.</li>
<li>El objeto de tipo <strong><code>Escritor</code></strong> a√∫n seguir√° referenciado por el campo <strong><code>autor</code></strong> y no se liberar√°.</li>
</ul>
</li>
<li>Al liberarse El objeto de tipo <strong><code>Libro</code></strong>...
<ul>
<li>El campo <strong><code>fecha</code></strong> se liber√° con √©l al ser de tipo valor.</li>
<li>Los objetos de tipo <strong><code>Isbn13</code></strong> y <strong><code>Escritor</code></strong> dejar√° de estar referenciados y en la '<em>siguiente</em>' pasada del <strong><code>GC</code></strong> se liberar√°n.</li>
</ul>
</li>
</ol>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>