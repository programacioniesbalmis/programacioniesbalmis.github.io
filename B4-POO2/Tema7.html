<!DOCTYPE html><html><head>
      <title>Programaci&#xF3;n 1&#xBA; DAM Tema 7</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
.markdown-preview.markdown-preview .slides > section {
  height: 100%;
  font-size: 90%;
  overflow-y: auto !important;
}

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1 class="mume-header undefined" id="tema-7">Tema 7</h1>

<p><a href="./Tema7.pdf">Descargar estos apuntes</a></p>
<h2 class="mume-header" id="%C3%ADndice">&#xCD;ndice</h2>

<ol>
<li><a href="#%C3%ADndice">&#xCD;ndice</a></li>
<li><a href="#repaso-tema-5">Repaso Tema 5</a></li>
<li><a href="#dise%C3%B1o-orientada-a-objetos-b%C3%A1sico">Dise&#xF1;o Orientada a Objetos B&#xE1;sico</a>
<ol>
<li><a href="#definici%C3%B3n-de-operaci%C3%B3n-o-m%C3%A9todo">Definici&#xF3;n de operaci&#xF3;n o m&#xE9;todo</a>
<ol>
<li><a href="#tipos-de-m%C3%A9todos">Tipos de m&#xE9;todos</a></li>
<li><a href="#enfoque-de-los-m%C3%A9todos-desde-la-teor%C3%ADa-de-poo">Enfoque de los m&#xE9;todos desde la teor&#xED;a de POO</a></li>
</ol>
</li>
<li><a href="#definici%C3%B3n-de-encapsulaci%C3%B3n">Definici&#xF3;n de Encapsulaci&#xF3;n</a></li>
<li><a href="#definici%C3%B3n-de-constructor-y-destructor">Definici&#xF3;n de Constructor Y Destructor</a></li>
</ol>
</li>
<li><a href="#definiendo-nuestra-primera-clase-a-trav%C3%A9s-de-c">Definiendo nuestra primera clase a trav&#xE9;s de &apos;<em>C#</em>&apos;</a>
<ol>
<li><a href="#paso-1-definir-los-campos-atributos-en-poo-cl%C3%A1sica">Paso 1: Definir los campos (atributos en POO cl&#xE1;sica)</a></li>
<li><a href="#paso-2-definir-los-constructores-destructores-de-objetos">Paso 2: Definir los constructores / destructores de objetos</a>
<ol>
<li><a href="#referencia-impl%C3%ADcita-a-hrefhttpsdocsmicrosoftcomes-esdotnetcsharplanguage-referencekeywordsthis-target_blankthisa">Referencia impl&#xED;cita this</a></li>
<li><a href="#constructor-por-defecto">Constructor por defecto</a></li>
<li><a href="#constructor-copia">Constructor copia</a></li>
<li><a href="#destructores">Destructor/es</a></li>
</ol>
</li>
<li><a href="#paso-3-definir-los-accesores-y-mutadores-propiedades-en-c">Paso 3: Definir los accesores y mutadores (Propiedades en C#)</a>
<ol>
<li><a href="#bulb-tips-de-dise%C3%B1o-de-getters-y-setters">&#x1F4A1; Tips de dise&#xF1;o de <em>&apos;getters&apos;</em> y <em>&apos;setters&apos;</em></a></li>
</ol>
</li>
<li><a href="#paso-4-definir-m%C3%A9todos-u-operaciones-de-la-clase">Paso 4: Definir m&#xE9;todos u operaciones de la clase</a></li>
<li><a href="#paso-5-crear-un-peque%C3%B1o-test-para-nuestra-clase-opcional">Paso 5: Crear un peque&#xF1;o test para nuestra clase (Opcional)</a></li>
<li><a href="#resumen-de-directrices-generales-de-definici%C3%B3n-de-clases">Resumen de directrices generales de definici&#xF3;n de clases</a></li>
</ol>
</li>
<li><a href="#definiendo-tipos-y-objetos-valor">Definiendo tipos y objetos &apos;<em>valor</em>&apos;</a>
<ol>
<li><a href="#un-poco-de-hist%C3%B3ria">Un poco de hist&#xF3;ria</a></li>
<li><a href="#bulb-tips-para-definir-un-tipo-usando-struct">&#x1F4A1; Tips para definir un tipo usando struct</a></li>
<li><a href="#definir-objetos-valor-a-trav%C3%A9s-de-c">Definir objetos valor a trav&#xE9;s de &apos;<em>C#</em>&apos;</a>
<ol>
<li><a href="#creando-objetos-valor">Creando objetos valor</a></li>
<li><a href="#definiendo-operaciones-inmutables-en-el-objeto-valor">Definiendo operaciones inmutables en el objeto valor</a></li>
</ol>
</li>
<li><a href="#ejemplo-de-objeto-valor-definido-en-las-bcl">Ejemplo de objeto valor definido en las BCL</a>
<ol>
<li><a href="#formas-de-instanciar-objetos-valor-fecha">Formas de instanciar objetos valor fecha</a></li>
<li><a href="#operaciones-m%C3%A1s-comunes-con-fechas">Operaciones m&#xE1;s comunes con fechas</a></li>
<li><a href="#fechas-y-cadenas">Fechas y cadenas</a></li>
</ol>
</li>
</ol>
</li>
<li><a href="#roles-entre-clases">Roles entre clases</a>
<ol>
<li><a href="#relaciones-todo-parte">Relaciones Todo-Parte</a>
<ol>
<li><a href="#agregaci%C3%B3n-o-referencia">Agregaci&#xF3;n o referencia</a>
<ol>
<li><a href="#ventajas-de-la-agregaci%C3%B3n-1">Ventajas de la agregaci&#xF3;n &#x1F44D;</a></li>
<li><a href="#desventajas-de-la-agregaci%C3%B3n-1">Desventajas de la agregaci&#xF3;n &#x1F44E;</a></li>
</ol>
</li>
<li><a href="#composici%C3%B3n-o-subobjetos">Composici&#xF3;n o subobjetos</a>
<ol>
<li><a href="#ventajas-de-la-composici%C3%B3n-1">Ventajas de la composici&#xF3;n &#x1F44D;</a></li>
<li><a href="#desventajas-de-la-agregaci%C3%B3n-1-1">Desventajas de la agregaci&#xF3;n &#x1F44E;</a></li>
</ol>
</li>
<li><a href="#ejemplo-de-agregaci%C3%B3n">Ejemplo de Agregaci&#xF3;n</a></li>
<li><a href="#ejemplo-de-composici%C3%B3n">Ejemplo de Composici&#xF3;n</a></li>
</ol>
</li>
<li><a href="#relaci%C3%B3n-de-herencia-generalizaci%C3%B3n">Relaci&#xF3;n de Herencia (Generalizaci&#xF3;n)</a>
<ol>
<li><a href="#tipos-de-herencia">Tipos de Herencia</a>
<ol>
<li><a href="#herencia-simple">Herencia Simple</a></li>
<li><a href="#herencia-m%C3%BAltiple">Herencia M&#xFA;ltiple</a></li>
</ol>
</li>
<li><a href="#implementando-la-herencia-en-c">Implementando la herencia en C#</a>
<ol>
<li><a href="#palabra-reservada-a-hrefhttpsdocsmicrosoftcomen-usdotnetcsharplanguage-referencekeywordsbase-target_blankbasea">Palabra reservada base</a></li>
</ol>
</li>
<li><a href="#ocultaci%C3%B3n-e-invalidaci%C3%B3n">Ocultaci&#xF3;n e Invalidaci&#xF3;n</a>
<ol>
<li><a href="#ocultaci%C3%B3n-o-reemplazo-en-c">Ocultaci&#xF3;n o reemplazo en C#</a></li>
<li><a href="#invalidaci%C3%B3n-o-refinamiento-en-c">Invalidaci&#xF3;n o refinamiento en C#</a></li>
</ol>
</li>
<li><a href="#polimorfismo-de-datos-o-inclusi%C3%B3n">Polimorfismo de datos o inclusi&#xF3;n</a></li>
<li><a href="#principio-de-sustituci%C3%B3n-de-a-hrefhttpseswikipediaorgwikibarbara_liskov-target_blankliskova-upcasting">Principio de sustituci&#xF3;n de Liskov (Upcasting)</a></li>
<li><a href="#downcasting">Downcasting</a>
<ol>
<li><a href="#formas-de-realizar-el-downcasting">Formas de realizar el Downcasting</a></li>
</ol>
</li>
<li><a href="#ligadura-din%C3%A1mica">Ligadura Din&#xE1;mica</a>
<ol>
<li><a href="#ejemplo-de-uso-del-enlace-din%C3%A1mico">Ejemplo de uso del Enlace Din&#xE1;mico</a></li>
</ol>
</li>
<li><a href="#utilidad-del-polimorfismo-de-datos-sustituci%C3%B3n-y-el-enlace-din%C3%A1mico">Utilidad del polimorfismo de datos (sustituci&#xF3;n) y el enlace din&#xE1;mico</a></li>
<li><a href="#el-caso-especial-de-la-clase-a-hrefhttpsdocsmicrosoftcomes-esdotnetapisystemobjectviewnetcore-31-target_blankobjecta-en-c">El caso especial de la clase object en C#</a></li>
</ol>
</li>
<li><a href="#abstracci%C3%B3n">Abstracci&#xF3;n</a>
<ol>
<li><a href="#concepto-de-clase-asbtracta">Concepto de clase asbtracta</a></li>
<li><a href="#clases-asbtractas-en-c">Clases asbtractas en C#</a></li>
</ol>
</li>
</ol>
</li>
<li><a href="#gesti%C3%B3n-de-errores-en-poo">Gesti&#xF3;n de errores en POO</a>
<ol>
<li><a href="#programaci%C3%B3n-defensiva">Programaci&#xF3;n defensiva</a></li>
<li><a href="#excepciones">Excepciones</a>
<ol>
<li><a href="#excepciones-en-c">Excepciones en C#</a>
<ol>
<li><a href="#ejemplo-de-generaci%C3%B3n-de-excepciones-en-c">Ejemplo de generaci&#xF3;n de excepciones en C#</a></li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<div style="page-break-after:always;"></div>
<h2 class="mume-header" id="repaso-tema-5">Repaso Tema 5</h2>

<p>Repasemos a trav&#xE9;s del siguiente diagrama las definiciones y conceptos iniciales de POO que vimos en el tema 5.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="329.25px" preserveAspectRatio="none" style="width:1035px;height:329px;" version="1.1" viewBox="0 0 1035 329" width="1035.75px" zoomAndPan="magnify"><defs><filter height="300%" id="fvqr34jyb6z36" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.5"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.0" dy="3.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#D3D3D3" filter="url(#fvqr34jyb6z36)" height="58.7219" rx="9.375" ry="9.375" style="stroke: #000000; stroke-width: 1.125;" width="80.25" x="380.25" y="140.5829"/><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="57.75" x="391.5" y="161.6818">Definiciones</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="36.75" x="402" y="173.7557">B&#xE1;sicas</text><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23.25" x="408.75" y="185.8297">POO</text><rect fill="#F5F5F5" filter="url(#fvqr34jyb6z36)" height="58.7219" rx="9.375" ry="9.375" style="stroke: #000000; stroke-width: 1.125;" width="84" x="505.5" y="140.5829"/><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33.75" x="530.625" y="161.6818">CLASE</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="61.5" x="516.75" y="173.7557">Definici&#xF3;n de</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="32.25" x="531.375" y="185.8297">un tipo</text><rect fill="#FFFFFF" filter="url(#fvqr34jyb6z36)" height="34.574" rx="9.375" ry="9.375" style="stroke: #000000; stroke-width: 1.125;" width="69.75" x="634.5" y="18.75"/><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47.25" x="645.75" y="39.8489">NOMBRE</text><path d="M589.5,169.9438 L597,169.9438 C608.25,169.9438 615.75,36.037 627,36.037 L634.5,36.037 " fill="none" style="stroke: #000000; stroke-width: 0.75;"/><rect fill="#FFFFFF" filter="url(#fvqr34jyb6z36)" height="70.7959" rx="9.375" ry="9.375" style="stroke: #000000; stroke-width: 1.125;" width="221.25" x="634.5" y="75.824"/><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59.25" x="715.5" y="96.9229">ATRIBUTOS</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="48" x="670.5" y="108.9968">Definen el</text><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36" x="721.5" y="108.9968">estado</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="59.25" x="760.5" y="108.9968">de un objeto</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="198.75" x="645.75" y="121.0708">De ahora en adelante los denominaremos</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="127.5" x="657" y="133.1448">con la nomenclatura de C#</text><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="45.75" x="787.5" y="133.1448">CAMPOS</text><rect fill="#F0F8FF" filter="url(#fvqr34jyb6z36)" height="58.7219" rx="9.375" ry="9.375" style="stroke: #000000; stroke-width: 1.125;" width="125.25" x="900.75" y="35.213"/><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="13.5" x="938.25" y="56.3119">De</text><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33.75" x="954.75" y="56.3119">CLASE</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="102.75" x="912" y="68.3859">No necesito un objeto</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="99.75" x="913.5" y="80.4598">para acceder a ellos.</text><path d="M855.75,111.2219 L863.25,111.2219 C874.5,111.2219 882,64.574 893.25,64.574 L900.75,64.574 " fill="none" style="stroke: #000000; stroke-width: 0.75;"/><rect fill="#F0F8FF" filter="url(#fvqr34jyb6z36)" height="70.7959" rx="9.375" ry="9.375" style="stroke: #000000; stroke-width: 1.125;" width="126.75" x="900.75" y="116.4349"/><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="13.5" x="928.5" y="137.5338">De</text><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54.75" x="945" y="137.5338">INSTANCIA</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="75" x="926.625" y="149.6078">Pertenecen a la</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="104.25" x="912" y="161.6818">inst&#xE1;ncia de un objeto</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="102.75" x="912.75" y="173.7557">concreto en memoria.</text><path d="M855.75,111.2219 L863.25,111.2219 C874.5,111.2219 882,151.8329 893.25,151.8329 L900.75,151.8329 " fill="none" style="stroke: #000000; stroke-width: 0.75;"/><path d="M589.5,169.9438 L597,169.9438 C608.25,169.9438 615.75,111.2219 627,111.2219 L634.5,111.2219 " fill="none" style="stroke: #000000; stroke-width: 0.75;"/><rect fill="#FFFFFF" filter="url(#fvqr34jyb6z36)" height="70.7959" rx="9.375" ry="9.375" style="stroke: #000000; stroke-width: 1.125;" width="221.25" x="634.5" y="169.1199"/><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75.75" x="707.25" y="190.2188">OPERACIONES</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="53.25" x="667.875" y="202.2927">Cambian el</text><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36" x="724.125" y="202.2927">estado</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="59.25" x="763.125" y="202.2927">de un objeto</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="198.75" x="645.75" y="214.3667">De ahora en adelante los denominaremos</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="127.5" x="653.25" y="226.4407">con la nomenclatura de C#</text><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53.25" x="783.75" y="226.4407">M&#xC9;TODOS</text><path d="M589.5,169.9438 L597,169.9438 C608.25,169.9438 615.75,204.5178 627,204.5178 L634.5,204.5178 " fill="none" style="stroke: #000000; stroke-width: 0.75;"/><rect fill="#FFFFFF" filter="url(#fvqr34jyb6z36)" height="58.7219" rx="9.375" ry="9.375" style="stroke: #000000; stroke-width: 1.125;" width="134.25" x="634.5" y="262.4158"/><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35.25" x="684" y="283.5146">ROLES</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="53.25" x="645.75" y="295.5886">Definen las</text><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55.5" x="702" y="295.5886">relaciones</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="77.25" x="663" y="307.6626">con otras clases</text><path d="M589.5,169.9438 L597,169.9438 C608.25,169.9438 615.75,291.7767 627,291.7767 L634.5,291.7767 " fill="none" style="stroke: #000000; stroke-width: 0.75;"/><path d="M460.5,169.9438 L468,169.9438 C479.25,169.9438 486.75,169.9438 498,169.9438 L505.5,169.9438 " fill="none" style="stroke: #000000; stroke-width: 0.75;"/><rect fill="#F5F5F5" filter="url(#fvqr34jyb6z36)" height="58.7219" rx="9.375" ry="9.375" style="stroke: #000000; stroke-width: 1.125;" width="111" x="224.25" y="140.5829"/><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="42.75" x="258.375" y="161.6818">OBJETO</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="86.25" x="236.625" y="173.7557">Instancia concreta</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="88.5" x="235.5" y="185.8297">del tipo de la clase</text><rect fill="#FFFFFF" filter="url(#fvqr34jyb6z36)" height="58.7219" rx="9.375" ry="9.375" style="stroke: #000000; stroke-width: 1.125;" width="156.75" x="22.5" y="93.9349"/><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50.25" x="75.75" y="115.0338">MUTABLE</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="50.25" x="56.25" y="127.1078">Cambia su</text><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36" x="109.5" y="127.1078">estado</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="134.25" x="33.75" y="139.1818">a trav&#xE9;s de las operaciones.</text><path d="M224.25,169.9438 L216.75,169.9438 C205.5,169.9438 198,123.2959 186.75,123.2959 L179.25,123.2959 " fill="none" style="stroke: #000000; stroke-width: 0.75;"/><rect fill="#FFFFFF" filter="url(#fvqr34jyb6z36)" height="70.7959" rx="9.375" ry="9.375" style="stroke: #000000; stroke-width: 1.125;" width="171.75" x="7.5" y="175.1569"/><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60.75" x="63" y="196.2557">INMUTABLE</text><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14.25" x="41.25" y="208.3297">No</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="48" x="58.5" y="208.3297">cambia su</text><text fill="#000000" font-family="Arial" font-size="10.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36" x="109.5" y="208.3297">estado</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="149.25" x="18.75" y="220.4037">las operaciones sobre el mismo</text><text fill="#000000" font-family="Arial" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="132" x="27.375" y="232.4777">dan lugar a nuevos objetos.</text><path d="M224.25,169.9438 L216.75,169.9438 C205.5,169.9438 198,210.5548 186.75,210.5548 L179.25,210.5548 " fill="none" style="stroke: #000000; stroke-width: 0.75;"/><path d="M380.25,169.9438 L372.75,169.9438 C361.5,169.9438 354,169.9438 342.75,169.9438 L335.25,169.9438 " fill="none" style="stroke: #000000; stroke-width: 0.75;"/><!--MD5=[549ff0200236e19182fbdb91cb2d7ff1]
@startmindmap
left to right direction
scale 75 width
<style>
mindmapDiagram {
  Linecolor black
  FontName Arial
  FontSize 14
  node {
    Padding 15
    Margin 15
    HorizontalAlignment center
    BackGroundColor white
  }
}
</style>

*[#lightgray] Definiciones\nBásicas\n**POO**

**[#whitesmoke] **CLASE**\nDefinición de\nun tipo
*** **NOMBRE**
*** **ATRIBUTOS**\nDefinen el **estado** de un objeto\nDe ahora en adelante los denominaremos\ncon la nomenclatura de C# **CAMPOS**
****[#aliceblue] De **CLASE**\nNo necesito un objeto\npara acceder a ellos.
****[#aliceblue] De **INSTANCIA**\nPertenecen a la\ninstáncia de un objeto\nconcreto en memoria.
*** **OPERACIONES**\nCambian el **estado** de un objeto\nDe ahora en adelante los denominaremos\ncon la nomenclatura de C# **MÉTODOS**
*** **ROLES**\nDefinen las **relaciones**\ncon otras clases

left side

**[#whitesmoke] **OBJETO**\nInstancia concreta\ndel tipo de la clase
*** **MUTABLE**\nCambia su **estado**\na través de las operaciones.
*** **INMUTABLE**\n**No** cambia su **estado**\nlas operaciones sobre el mismo\ndan lugar a nuevos objetos.
@endmindmap

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><h2 class="mume-header" id="dise%C3%B1o-orientada-a-objetos-b%C3%A1sico">Dise&#xF1;o Orientada a Objetos B&#xE1;sico</h2>

<p>Aunque en el Tema 5 hablamos de las definiciones b&#xE1;sicas, vamos a profundizar un poco m&#xE1;s en algunos conceptos de la programaci&#xF3;n orientado a objetos para poder hacer nuestros <strong>dise&#xF1;os o modelos</strong> de forma correcta.</p>
<h3 class="mume-header" id="definici%C3%B3n-de-operaci%C3%B3n-o-m%C3%A9todo">Definici&#xF3;n de operaci&#xF3;n o m&#xE9;todo</h3>

<ul>
<li>Definen el <strong>Comportamiento</strong> y las <strong>Operaciones</strong> que se pueden realizar con los objetos.</li>
<li>Permiten interactuar y relacionarse a los objetos.</li>
</ul>
<h4 class="mume-header" id="tipos-de-m%C3%A9todos">Tipos de m&#xE9;todos</h4>

<ul>
<li><strong>M&#xE9;todos de instancia o tambi&#xE9;n (de objeto)</strong>
<ul>
<li>Necesito tener un objeto instanciado en memoria para acceder a ellos.</li>
<li>Pueden acceder tanto a atributos de <strong>instancia</strong> como de <strong>clase</strong>.</li>
<li>Pueden modificar el <strong>estado de un objeto</strong> concreto en memoria si este es mutable.</li>
</ul>
</li>
<li><strong>M&#xE9;todos de clase o tambi&#xE9;n est&#xE1;ticos</strong>
<ul>
<li>No necesito tener un objeto instanciado en memoria para acceder a ellos.</li>
<li>Solo pueden acceder a los atributos de clase (static) y no a los de instancia.</li>
</ul>
</li>
<li><strong>M&#xE9;todos de acceso y actualizaci&#xF3;n</strong>
<ul>
<li>Tambi&#xE9;n se les conoce como <strong>Accesores</strong> - <strong>Mutadores</strong> en general, <strong>Propiedades</strong> (C# y Kotlin) o <strong>Setters</strong> - <strong>Getters</strong> (Java).</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="enfoque-de-los-m%C3%A9todos-desde-la-teor%C3%ADa-de-poo">Enfoque de los m&#xE9;todos desde la teor&#xED;a de POO</h4>

<ul>
<li>
<p>En la teor&#xED;a tradicional de la POO, los objetos se comunican entre ellos a trav&#xE9;s de un mecanismo de <strong>paso de mensajes</strong>. (<a href="https://en.wikipedia.org/wiki/Alan_Kay" target="_blank">Alan Kay</a>, <a href="https://en.wikipedia.org/wiki/Bertrand_Meyer" target="_blank">Bertrand Meyer</a>)</p>
</li>
<li>
<p>En el fondo cuando desde un m&#xE9;todo de un objeto de instancia llamamos o invocamos a un m&#xE9;todo de otro objetos, estaremos haciendo este paso de mensajes y por tanto comunicando ambos objetos.</p>
</li>
<li>
<p>Hay m&#xE1;s formas de pasar estos mensajes, pero la m&#xE1;s b&#xE1;sica es esta.</p>
</li>
<li>
<p>Vamos a verlo a trav&#xE9;s de un ejemplo <em>&apos;<strong>simplificado</strong>&apos;</em> de c&#xF3;digo para entender el concepto <em>&apos;<strong>abstracto</strong>&apos;</em> de mensaje y comunicaci&#xF3;n entre objetos:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Persona</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> M&#xE9;<span class="token function">todoDeInstancia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Phone</span> tlf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Phone</span><span class="token punctuation">(</span><span class="token string">&quot;iPhone 12&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Mensaje 1</span>
        <span class="token comment">// Un objeto concreto de Persona (en el ejemplo &apos;Mar&#xED;a&apos;)</span>
        <span class="token comment">// Se comunica con e objetos tlf a trav&#xE9;s de un</span>
        <span class="token comment">// mensaje, esto &#xE9;s llamando a su m&#xE9;todo Enciende()</span>
        <span class="token comment">// Esto cambia el estado del objeto tlf a encendido.</span>
        tlf<span class="token punctuation">.</span><span class="token function">Enciende</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Mensaje 2</span>
        <span class="token comment">// Mar&#xED;a pasa el mensaje a tlf de que llame a un n&#xFA;mero </span>
        <span class="token comment">// cambiando su estado a llamando...</span>
        tlf<span class="token punctuation">.</span><span class="token function">Llama</span><span class="token punctuation">(</span><span class="token number">676345266</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
</ul>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="627pt" height="116pt" viewBox="0.00 0.00 626.71 116.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-112 622.7128,-112 622.7128,4 -4,4"/>
<!-- p -->
<g id="node1" class="node">
<title>p</title>
<polygon fill="none" stroke="#000000" points="8.5,-54 8.5,-92 193.5,-92 193.5,-54 8.5,-54"/>
<text text-anchor="start" x="25.1529" y="-68.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;mar&#xED;a : Persona &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="8.5,-16 8.5,-54 193.5,-54 193.5,-16 8.5,-16"/>
<text text-anchor="start" x="19.2183" y="-30.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Nombre = &quot;Mar&#xED;a&quot; &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- tlf -->
<g id="node2" class="node">
<title>tlf</title>
<polygon fill="none" stroke="#000000" points="408.2128,-54 408.2128,-92 611.2128,-92 611.2128,-54 408.2128,-54"/>
<text text-anchor="start" x="454.8559" y="-68.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;tlf : Phone &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="408.2128,-16 408.2128,-54 611.2128,-54 611.2128,-16 408.2128,-16"/>
<text text-anchor="start" x="418.9592" y="-30.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Modelo = &quot;iPhone 12&quot; &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- p&#45;&gt;tlf -->
<g id="edge1" class="edge">
<title>p-&gt;tlf</title>
<path fill="none" stroke="#000000" d="M201.0059,-36C201.0059,-36 389.4003,-36 389.4003,-36"/>
<polygon fill="#000000" stroke="#000000" points="389.4003,-39.5001 399.4003,-36 389.4002,-32.5001 389.4003,-39.5001"/>
<text text-anchor="start" x="242.0112" y="-77.6" font-family="Arial" font-size="12.00" fill="#000000">Mensaje1: </text>
<text text-anchor="start" x="300.6924" y="-77.6" font-family="Arial" font-weight="bold" font-size="12.00" fill="#000000">Enciende()</text>
</g>
<!-- p&#45;&gt;tlf -->
<g id="edge2" class="edge">
<title>p-&gt;tlf</title>
<path fill="none" stroke="#000000" d="M201.0059,-72C201.0059,-72 389.4003,-72 389.4003,-72"/>
<polygon fill="#000000" stroke="#000000" points="389.4003,-75.5001 399.4003,-72 389.4002,-68.5001 389.4003,-75.5001"/>
<text text-anchor="start" x="219" y="-40.6" font-family="Arial" font-size="12.00" fill="#000000">Mensaje2: </text>
<text text-anchor="start" x="277.6812" y="-40.6" font-family="Arial" font-weight="bold" font-size="12.00" fill="#000000">Llama( </text>
<text text-anchor="start" x="317.6808" y="-40.6" font-family="Arial" font-weight="bold" font-size="12.00" fill="#add8e6">676345266</text>
<text text-anchor="start" x="377.718" y="-40.6" font-family="Arial" font-weight="bold" font-size="12.00" fill="#000000">)</text>
</g>
</g>
</svg>
</p><h3 class="mume-header" id="definici%C3%B3n-de-encapsulaci%C3%B3n">Definici&#xF3;n de Encapsulaci&#xF3;n</h3>

<ul>
<li>En POO, se denomina encapsulaci&#xF3;n al la <strong>ocultaci&#xF3;n del estado</strong>, es decir, de los atributos, de un objeto. De tal manera que, solo se puede cambiar mediante las operaciones definidas para ese objeto o sus accesores - mutadores.</li>
<li>De esta forma el usuario de la clase solo interacciona con los objetos abstray&#xE9;ndose de como est&#xE1;n implementados (<strong>no sabe nada de la implementaci&#xF3;n</strong>).</li>
<li>Se evita que el usuario pueda cambiar su estado de maneras imprevistas e incontroladas.</li>
</ul>
<h3 class="mume-header" id="definici%C3%B3n-de-constructor-y-destructor">Definici&#xF3;n de Constructor Y Destructor</h3>

<p>CONSTRUCTOR</p>
<ul>
<li>M&#xE9;todo o m&#xE9;todos especiales que me servir&#xE1;n para instanciar e inicializar el estado de un objeto en memoria.</li>
<li>Toda clase debe tener al menos un constructor.</li>
</ul>
<p>DESTRUCTOR</p>
<ul>
<li>Un &#xFA;nico m&#xE9;todo especial encargado de eliminar una instancia en memoria de un objeto.</li>
<li>En la gram mayor&#xED;a de lenguajes OO modernos no hace falta definirlos y llamarlos, ya que de esta labor de eliminaci&#xF3;n de instancias de objetos en memoria, se encarga el denominado <em>&apos;<strong>recolector de basura</strong>&apos;</em> (GC), cuando un objeto ya no es referenciado por nadie.</li>
</ul>
<div style="page-break-after:always;"></div>
<h2 class="mume-header" id="definiendo-nuestra-primera-clase-a-trav%C3%A9s-de-c">Definiendo nuestra primera clase a trav&#xE9;s de &apos;<em>C#</em>&apos;</h2>

<p>Supongamos que queremos definir un tipo que represente libros.<br>
Una posible representaci&#xF3;n UML del mismo podr&#xED;a ser:</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="200.7605px" preserveAspectRatio="none" style="width:304px;height:200px;" version="1.1" viewBox="0 0 304 200" width="304.5627px" zoomAndPan="magnify"><defs><filter height="300%" id="fceh0qcc7bdhk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.2813688212927756"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.562737642585551" dy="4.562737642585551" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[a48731e35e4efcfa96e52c126b9a7dad]
class Libro--><rect fill="#FFFAFA" filter="url(#fceh0qcc7bdhk)" height="181.0124" id="Libro" style="stroke: #000000; stroke-width: 1.7110266159695817;" width="284.0304" x="7.9848" y="7.9848"/><ellipse cx="129.1825" cy="26.2357" fill="#ADD1B2" rx="12.5475" ry="12.5475" style="stroke: #000000; stroke-width: 1.1406844106463878;"/><path d="M132.3372,21.5304 Q132.5154,21.2809 132.7293,21.1561 Q132.9432,21.0314 133.1927,21.0314 Q133.6205,21.0314 133.8878,21.3344 Q134.1552,21.6195 134.1552,22.3146 L134.1552,23.9722 Q134.1552,24.6673 133.8878,24.9703 Q133.6205,25.2733 133.1927,25.2733 Q132.8006,25.2733 132.5689,25.0416 Q132.3372,24.8277 132.2125,24.2395 Q132.159,23.8296 131.9451,23.6157 Q131.5708,23.188 130.8757,22.9385 Q130.1806,22.6889 129.4677,22.6889 Q128.5943,22.6889 127.8636,23.0632 Q127.1507,23.4375 126.5803,24.293 Q126.0278,25.1485 126.0278,26.3249 L126.0278,27.5725 Q126.0278,28.9805 127.0437,29.9251 Q128.0596,30.8519 129.8776,30.8519 Q130.947,30.8519 131.6956,30.5668 Q132.1412,30.3885 132.6224,29.8895 Q132.9254,29.5865 133.0858,29.4974 Q133.264,29.4083 133.4957,29.4083 Q133.87,29.4083 134.1552,29.7113 Q134.4582,29.9964 134.4582,30.3885 Q134.4582,30.7807 134.0661,31.2441 Q133.4957,31.9035 132.5867,32.2778 Q131.3569,32.7947 129.8776,32.7947 Q128.1488,32.7947 126.7764,32.0817 Q125.6535,31.5114 124.8693,30.2994 Q124.0851,29.0696 124.0851,27.6081 L124.0851,26.2892 Q124.0851,24.7742 124.7802,23.4731 Q125.4931,22.1542 126.7407,21.4591 Q127.9884,20.7462 129.3964,20.7462 Q130.2341,20.7462 130.9648,20.9423 Q131.7134,21.1205 132.3372,21.5304 Z "/><text fill="#000000" font-family="sans-serif" font-size="13.6882" lengthAdjust="spacingAndGlyphs" textLength="31.9392" x="152.5665" y="31.8367">Libro</text><line style="stroke: #000000; stroke-width: 1.7110266159695817;" x1="9.1255" x2="290.8745" y1="44.4867" y2="44.4867"/><text fill="#000000" font-family="sans-serif" font-size="12.5475" lengthAdjust="spacingAndGlyphs" textLength="133.4601" x="14.8289" y="62.0748">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.5475" lengthAdjust="spacingAndGlyphs" textLength="110.6464" x="14.8289" y="77.8573">-a&#xF1;o : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.5475" lengthAdjust="spacingAndGlyphs" textLength="133.4601" x="14.8289" y="93.6397">-paginas : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.5475" lengthAdjust="spacingAndGlyphs" textLength="107.2243" x="14.8289" y="109.4222">-paginasLe&#xED;das : int</text><line style="stroke: #000000; stroke-width: 1.7110266159695817;" x1="9.1255" x2="290.8745" y1="116.7419" y2="116.7419"/><text fill="#000000" font-family="sans-serif" font-size="12.5475" lengthAdjust="spacingAndGlyphs" textLength="270.3422" x="14.8289" y="134.3301">+Libro(in titulo : string, in a&#xF1;o : int, in paginas : int)</text><text fill="#000000" font-family="sans-serif" font-size="12.5475" lengthAdjust="spacingAndGlyphs" textLength="141.4449" x="14.8289" y="150.1125">+Lee(int paginas : int) : int</text><text fill="#000000" font-family="sans-serif" font-size="12.5475" lengthAdjust="spacingAndGlyphs" textLength="126.616" x="14.8289" y="165.8949">+PorcentajeLe&#xED;do() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.5475" lengthAdjust="spacingAndGlyphs" textLength="122.0532" x="14.8289" y="181.6774">+Descripci&#xF3;n() : string</text><!--MD5=[952dd8dc064a14f2261c32c293e58345]
@startuml

left to right direction
scale 300 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

class Libro
{
    - titulo : string {readOnly}
    - año : int {readOnly}
    - paginas : int {readOnly}
    - paginasLeídas : int

    + Libro(in titulo : string, in año : int, in paginas : int)
    + Lee(int paginas : int) : int
    + PorcentajeLeído() : int
    + Descripción() : string
}

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p>En la mayor&#xED;a de lenguajes OO, para definir nuestra clase, seguiremos una plantilla similar a esta:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token operator">&lt;</span>NombreDeLaClase<span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
  <span class="token operator">&lt;</span>campos<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>constructor<span class="token operator">/</span>es<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>accesores<span class="token operator">/</span>mutadores<span class="token operator">&gt;</span><span class="token punctuation">(</span> o <span class="token operator">&lt;</span>propiedades en C#<span class="token operator">&gt;</span><span class="token punctuation">)</span>
  <span class="token operator">&lt;</span>m&#xE9;todos<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</pre><h3 class="mume-header" id="paso-1-definir-los-campos-atributos-en-poo-cl%C3%A1sica">Paso 1: Definir los campos (atributos en POO cl&#xE1;sica)</h3>

<p>No deben ser accedidos desde fuera de clase. Para ello, antepondremos la cl&#xE1;usula <strong><code>private</code></strong> <strong>siempre</strong>.<br>
F&#xED;jate que hemos marcado dos campos con la <a href="https://www.uml-diagrams.org/property.html" target="_blank">propiedad de atributo de clase</a> <strong><code>{readOnly}</code></strong> esto significa que, <strong>una vez creado el objeto</strong>, ya no se podr&#xE1;n modificar los valores de <strong>t&#xED;tulo</strong>, <strong>a&#xF1;o</strong> y <strong>paginas</strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
  <span class="token comment">// &lt;campos&gt;</span>
  <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">string</span> titulo<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">int</span> a&#xF1;o<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">int</span> paginas<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> paginasLeidas<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h3 class="mume-header" id="paso-2-definir-los-constructores-destructores-de-objetos">Paso 2: Definir los constructores / destructores de objetos</h3>

<p>En C# el m&#xE9;todo constructor tiene el mismo nombre que la clase y no lleva tipo de retorno (Es impl&#xED;cito).</p>
<blockquote>
<p>&#x1F4A1; <strong>Tip:</strong> Si justo despu&#xE9;s del nombre de la clase pulsamos <strong><code>Clrl+.</code></strong> en VSCode.<br>
El VSCode <strong>nos ofrecer&#xE1; crear un constructor</strong> en la refactorizaci&#xF3;n de c&#xF3;digo.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
  <span class="token comment">// &lt;campos&gt;</span>
  <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">string</span> titulo<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">int</span> a&#xF1;o<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">int</span> paginas<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> paginasLeidas<span class="token punctuation">;</span>

  <span class="token comment">// &lt;constructor/es&gt;</span>
  <span class="token keyword">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token keyword">string</span> titulo<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">int</span> a&#xF1;o<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">int</span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>titulo <span class="token operator">=</span> titulo<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>a&#xF1;o <span class="token operator">=</span> a&#xF1;o<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>paginas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
      paginasLeidas <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// Al crear cualquier libro, llevar&#xE9; le&#xED;das 0 p&#xE1;ginas.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</pre><blockquote>
<p>&#x270B; <strong>Importante:</strong> F&#xED;jate que aunque hemos marcado <strong><code>titulo</code></strong> y <strong><code>a&#xF1;o</code></strong> como <strong><code>readonly</code></strong> (solo lectura) los podemos asignar a un valor inicial en el constructor. Esta es la &#xFA;nica vez que los podremos asignar. En el resto de m&#xE9;todos &#xFA;nicamente podremos acceder a su valor.</p>
</blockquote>
<h4 class="mume-header" id="referencia-impl%C3%ADcita-a-hrefhttpsdocsmicrosoftcomes-esdotnetcsharplanguage-referencekeywordsthis-target_blankthisa">Referencia impl&#xED;cita <a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/this" target="_blank">this</a></h4>

<ul>
<li><strong><code>this</code></strong> es una <strong>referencia impl&#xED;cita</strong> a la instancia en memoria del objeto que en ese momento estamos creando o est&#xE1; accediendo a un m&#xE9;todo de la clase.</li>
<li>En este caso nos ayuda a <strong>diferenciar entre los identificadores</strong> de los campos y los par&#xE1;metros de entrada del constructor.<br>
En el constructor el identificador <strong><code>a&#xF1;o</code></strong> es del par&#xE1;metro de entrada del mismo. Pero <strong><code>this.a&#xF1;o</code></strong> es el campo a&#xF1;o del objeto que estamos construyendo en ese momento.</li>
</ul>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="475pt" height="188pt" viewBox="0.00 0.00 474.92 188.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-184 470.9238,-184 470.9238,4 -4,4"/>
<!-- i -->
<g id="node1" class="node">
<title>i</title>
<text text-anchor="start" x="8" y="-157.8" font-family="Arial" font-size="14.00" fill="#000000">Libro l = new Libro(&quot;La Biblia&quot;,-750, ...);</text>
</g>
<!-- o -->
<g id="node4" class="node">
<title>o</title>
<polygon fill="none" stroke="#000000" points="302.9238,-112 302.9238,-150 458.9238,-150 458.9238,-112 302.9238,-112"/>
<text text-anchor="start" x="334.6335" y="-126.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;l : Libro &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="302.9238,-48 302.9238,-112 458.9238,-112 458.9238,-48 302.9238,-48"/>
<text text-anchor="start" x="313.9238" y="-89.4" font-family="Arial" font-size="14.00" fill="#cd1076">this</text>
<text text-anchor="start" x="335.7036" y="-89.4" font-family="Arial" font-size="14.00" fill="#000000">.titulo = &quot;La Biblia&quot;</text>
<text text-anchor="start" x="313.9238" y="-75.4" font-family="Arial" font-size="14.00" fill="#cd1076">this</text>
<text text-anchor="start" x="335.7036" y="-75.4" font-family="Arial" font-size="14.00" fill="#000000">.a&#xF1;o = -750</text>
<text text-anchor="start" x="367.3067" y="-61.4" font-family="Arial" font-size="14.00" fill="#000000">... &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- i&#45;&gt;o -->
<g id="edge1" class="edge">
<title>i-&gt;o</title>
<path fill="none" stroke="transparent" d="M220.566,-143.9735C233.4811,-141.1351 246.5657,-138.1065 258.9238,-135 267.4045,-132.8682 276.1805,-130.5345 284.9576,-128.1125"/>
<polygon fill="transparent" stroke="transparent" points="286.1636,-131.4096 294.852,-125.3464 284.2789,-124.6681 286.1636,-131.4096"/>
</g>
<!-- this -->
<g id="node2" class="node">
<title>this</title>
<ellipse fill="none" stroke="#000000" cx="129.4619" cy="-99" rx="27" ry="27"/>
<text text-anchor="start" x="118.572" y="-94.8" font-family="Arial" font-size="14.00" fill="#cd1076">this</text>
</g>
<!-- this&#45;&gt;o -->
<g id="edge3" class="edge">
<title>this-&gt;o</title>
<path fill="none" stroke="#000000" d="M156.8514,-99C187.4427,-99 238.6837,-99 284.4492,-99"/>
<polygon fill="#000000" stroke="#000000" points="284.7278,-102.5001 294.7278,-99 284.7277,-95.5001 284.7278,-102.5001"/>
</g>
<!-- l -->
<g id="node3" class="node">
<title>l</title>
<ellipse fill="none" stroke="#000000" cx="129.4619" cy="-27" rx="27" ry="27"/>
<text text-anchor="middle" x="129.4619" y="-22.8" font-family="Arial" font-size="14.00" fill="#000000">l</text>
</g>
<!-- l&#45;&gt;o -->
<g id="edge2" class="edge">
<title>l-&gt;o</title>
<path fill="none" stroke="#000000" d="M155.779,-34.1878C181.9611,-41.3694 223.2661,-52.782 258.9238,-63 267.33,-65.4089 276.0546,-67.9339 284.7979,-70.4814"/>
<polygon fill="#000000" stroke="#000000" points="284.0812,-73.9182 294.6614,-73.3623 286.0438,-67.199 284.0812,-73.9182"/>
</g>
</g>
</svg>
</p><h4 class="mume-header" id="constructor-por-defecto">Constructor por defecto</h4>

<ul>
<li>
<p>Si no definimos ning&#xFA;n constructor, <strong>se define uno por defecto</strong> que nos permitir&#xE1; crear inst&#xE1;ncias de libro de la siguiente manera.</p>
</li>
<li>
<p>Sin embargo, si definimos un constructor concreto, <strong>dejar&#xE1; de estar disponible el constructor por defecto</strong>, a no ser que lo definamos expl&#xED;citamente nosotros.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token comment">// El constructor por defecto, no recibe ning&#xFA;n par&#xE1;metro que defina el estado inicial del objeto</span>
<span class="token class-name">Libro</span> l <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Libro</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>Sin embargo esto permitir&#xE1; crear inst&#xE1;ncias del objeto libro a los valores default para los tipos con e se definen los campos.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="265pt" height="143pt" viewBox="0.00 0.00 265.00 143.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 139)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-139 261,-139 261,4 -4,4"/>
<!-- l -->
<g id="node1" class="node">
<title>l</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-67.5" rx="27" ry="27"/>
<text text-anchor="middle" x="27" y="-63.3" font-family="Arial" font-size="14.00" fill="#000000">l</text>
</g>
<!-- o -->
<g id="node2" class="node">
<title>o</title>
<polygon fill="none" stroke="#000000" points="98.5,-92.5 98.5,-130.5 249.5,-130.5 249.5,-92.5 98.5,-92.5"/>
<text text-anchor="start" x="127.7097" y="-106.9" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;l : Libro &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="98.5,-3.5 98.5,-92.5 249.5,-92.5 249.5,-3.5 98.5,-3.5"/>
<text text-anchor="start" x="109.5" y="-68.9" font-family="Arial" font-size="14.00" fill="#000000">titulo = null</text>
<text text-anchor="start" x="109.5" y="-52.1" font-family="Arial" font-size="14.00" fill="#000000">a&#xF1;o = 0</text>
<text text-anchor="start" x="109.5" y="-35.3" font-family="Arial" font-size="14.00" fill="#000000">paginas = 0</text>
<text text-anchor="start" x="109.2213" y="-18.5" font-family="Arial" font-size="14.00" fill="#000000">paginasLeidas = 0 &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- l&#45;&gt;o -->
<g id="edge1" class="edge">
<title>l-&gt;o</title>
<path fill="none" stroke="#000000" d="M54.2122,-67.5C61.8081,-67.5 70.5149,-67.5 79.6899,-67.5"/>
<polygon fill="#000000" stroke="#000000" points="79.7992,-71.0001 89.7991,-67.5 79.7991,-64.0001 79.7992,-71.0001"/>
</g>
</g>
</svg>
</p><blockquote>
<p>&#x270B; Estar&#xED;amos dando la oportunidad de <strong>crear objetos libro sin un estado apropiado</strong>. Por tanto, <strong>no es conveniente utilizar constructores por defecto</strong>, a no ser que por alguna raz&#xF3;n espec&#xED;fica, lo definamos nosotros expl&#xED;citamente y dispongamos de otras formas de crear nuestro objetos.</p>
</blockquote>
</li>
</ul>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="constructor-copia">Constructor copia</h4>

<ul>
<li>
<p>Se trata de una <strong>aproximaci&#xF3;n</strong> inicial al <strong>clonado de objetos mutables</strong>.</p>
</li>
<li>
<p>Es un constructor <strong>optativo</strong>, que copiar&#xE1; el estado de una instancia de un objeto de la clase que lo define.</p>
</li>
<li>
<p>No tiene sentido su implementaci&#xF3;n en objetos inmutables.</p>
</li>
<li>
<p>En un principio vamos a implementarlo como un constructor m&#xE1;s desde el punto de vista de POO tradicional o lenguajes como <a href="https://docs.microsoft.com/es-es/cpp/cpp/copy-constructors-and-copy-assignment-operators-cpp?view=vs-2019" target="_blank">C++</a>. Pero m&#xE1;s adelante, veremos que para realizar copias en C# y en Java usaremos un m&#xE9;todo especial llamado <strong><code>Clone()</code></strong></p>
</li>
<li>
<p>Una posible implementaci&#xF3;n del mismo para nuestro ejemplo que podemos lleva a cualquier lenguaje OO puede ser....</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token comment">// Entra un objeto libro referencia do por l que querremos copiar.</span>
<span class="token keyword">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// No usamos this porque no hay posibilidad de confusi&#xF3;n.</span>
    titulo <span class="token operator">=</span> l<span class="token punctuation">.</span>titulo<span class="token punctuation">;</span>
    a&#xF1;o <span class="token operator">=</span> l<span class="token punctuation">.</span>a&#xF1;o<span class="token punctuation">;</span>
    paginas <span class="token operator">=</span> l<span class="token punctuation">.</span>paginas<span class="token punctuation">;</span>
    paginasLeidas <span class="token operator">=</span> l<span class="token punctuation">.</span>paginasLeidas<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>Recordemos del tema 5 que si hiri&#xE9;remos el siguiente c&#xF3;digo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Libro</span> l1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Libro</span><span class="token punctuation">(</span><span class="token string">&quot;Code Complete 2&quot;</span><span class="token punctuation">,</span> <span class="token number">2004</span><span class="token punctuation">,</span> <span class="token number">960</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// l2 y l1 son el mismo objeto</span>
l2 <span class="token operator">=</span> l1<span class="token punctuation">;</span>

<span class="token comment">// l3 y l1 son objetos diferentes.</span>
l3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Libro</span><span class="token punctuation">(</span>l1<span class="token punctuation">)</span><span class="token punctuation">;</span>

l2<span class="token punctuation">.</span><span class="token function">Lee</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Modifica l2 y por ende l1 dejando le&#xED;das 10 p&#xE1;ginas del libro.</span>
l3<span class="token punctuation">.</span><span class="token function">Lee</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Modifica l3 que es una copia en memoria de l1, no afectando por tanto al estado del objeto l1.</span>
</pre></li>
</ul>
<p align="center" style="zoom:0.85"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="628pt" height="176pt" viewBox="0.00 0.00 628.00 176.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 172)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-172 624,-172 624,4 -4,4"/>
<!-- l1 -->
<g id="node1" class="node">
<title>l1</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-120" rx="27" ry="27"/>
<text text-anchor="middle" x="27" y="-115.8" font-family="Arial" font-size="14.00" fill="#000000">l1</text>
</g>
<!-- o1 -->
<g id="node2" class="node">
<title>o1</title>
<polygon fill="none" stroke="#000000" points="98,-126 98,-164 284,-164 284,-126 98,-126"/>
<text text-anchor="start" x="131.4832" y="-140.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;l1, l2 : Libro &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="98,-4 98,-126 284,-126 284,-4 98,-4"/>
<text text-anchor="start" x="109" y="-85.6" font-family="Arial" font-size="14.00" fill="#000000">titulo = &quot;Code Complete 2&quot;</text>
<text text-anchor="start" x="109" y="-68.8" font-family="Arial" font-size="14.00" fill="#000000">a&#xF1;o = 2004</text>
<text text-anchor="start" x="109" y="-52" font-family="Arial" font-size="14.00" fill="#000000">paginas = 960</text>
<text text-anchor="start" x="109" y="-35.2" font-family="Arial" font-size="14.00" fill="#000000">paginasLeidas = 10</text>
<text text-anchor="start" x="183.2188" y="-18.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- l1&#45;&gt;o1 -->
<g id="edge1" class="edge">
<title>l1-&gt;o1</title>
<path fill="none" stroke="#000000" d="M53.7144,-114.1359C61.4748,-112.4324 70.4717,-110.4574 80.0758,-108.3492"/>
<polygon fill="#000000" stroke="#000000" points="80.8419,-111.7645 89.8589,-106.2017 79.341,-104.9272 80.8419,-111.7645"/>
</g>
<!-- l3 -->
<g id="node4" class="node">
<title>l3</title>
<ellipse fill="none" stroke="#000000" cx="355" cy="-84" rx="27" ry="27"/>
<text text-anchor="middle" x="355" y="-79.8" font-family="Arial" font-size="14.00" fill="#000000">l3</text>
</g>
<!-- o1&#45;&gt;l3 -->
<g id="edge3" class="edge">
<title>o1-&gt;l3</title>
<path fill="none" stroke="transparent" d="M292.0623,-84C301.0352,-84 309.6857,-84 317.551,-84"/>
<polygon fill="transparent" stroke="transparent" points="317.7462,-87.5001 327.7462,-84 317.7461,-80.5001 317.7462,-87.5001"/>
</g>
<!-- l2 -->
<g id="node3" class="node">
<title>l2</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-48" rx="27" ry="27"/>
<text text-anchor="middle" x="27" y="-43.8" font-family="Arial" font-size="14.00" fill="#000000">l2</text>
</g>
<!-- l2&#45;&gt;o1 -->
<g id="edge2" class="edge">
<title>l2-&gt;o1</title>
<path fill="none" stroke="#000000" d="M53.7144,-53.8641C61.4748,-55.5676 70.4717,-57.5426 80.0758,-59.6508"/>
<polygon fill="#000000" stroke="#000000" points="79.341,-63.0728 89.8589,-61.7983 80.8419,-56.2355 79.341,-63.0728"/>
</g>
<!-- o2 -->
<g id="node5" class="node">
<title>o2</title>
<polygon fill="none" stroke="#000000" points="426,-126 426,-164 612,-164 612,-126 426,-126"/>
<text text-anchor="start" x="468.8184" y="-140.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;l3 : Libro &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="426,-4 426,-126 612,-126 612,-4 426,-4"/>
<text text-anchor="start" x="437" y="-85.6" font-family="Arial" font-size="14.00" fill="#000000">titulo = &quot;Code Complete 2&quot;</text>
<text text-anchor="start" x="437" y="-68.8" font-family="Arial" font-size="14.00" fill="#000000">a&#xF1;o = 2004</text>
<text text-anchor="start" x="437" y="-52" font-family="Arial" font-size="14.00" fill="#000000">paginas = 960</text>
<text text-anchor="start" x="437" y="-35.2" font-family="Arial" font-size="14.00" fill="#000000">paginasLeidas = 25</text>
<text text-anchor="start" x="511.2188" y="-18.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- l3&#45;&gt;o2 -->
<g id="edge4" class="edge">
<title>l3-&gt;o2</title>
<path fill="none" stroke="#000000" d="M382.0813,-84C389.631,-84 398.3302,-84 407.608,-84"/>
<polygon fill="#000000" stroke="#000000" points="407.8754,-87.5001 417.8754,-84 407.8754,-80.5001 407.8754,-87.5001"/>
</g>
</g>
</svg>
</p><h4 class="mume-header" id="destructores">Destructor/es</h4>

<ul>
<li>
<p>Cuando un objeto <strong>deja de ser referenciado</strong> por alg&#xFA;n identificador, al cabo de tiempo es eliminado  de la memoria por el <strong>Recolector de Basura</strong> (Garbage Collector o GC).</p>
</li>
<li>
<p>Esta eliminaci&#xF3;n la har&#xE1; llamando a su <strong>destructor por defecto</strong>, el cual nosotros podremos redefinir  de tal manera que deje el estado del objeto a unos valores que no permitan usarlo m&#xE1;s.<br>
<strong>Nota</strong>: Si lo redefinimos, no le aplicaremos ning&#xFA;n modificador de acceso (public, private).</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token comment">// &lt;campos&gt;</span>
    <span class="token comment">// &lt;constructor/es&gt;</span>

    <span class="token comment">// &lt;destructor&gt;</span>
    <span class="token operator">~</span><span class="token function">Libro</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Los otros valores son readonly y no podemos modificarlos.</span>
        paginas <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">.</span>MinValue<span class="token punctuation">;</span>
        paginasLeidas <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">.</span>MinValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</pre><blockquote>
<p>&#x270B; <strong>Importante:</strong> Este paso de definici&#xF3;n de nuestra clase, nos lo saltaremos en todos los  <strong>lenguajes gestionados</strong>, esto es, que dispongan de un GC para la eliminaci&#xF3;n de objetos.<br>
Solo se redefinir&#xE1; en ocasiones en lenguajes no gestionados como C++</p>
</blockquote>
</li>
</ul>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="paso-3-definir-los-accesores-y-mutadores-propiedades-en-c">Paso 3: Definir los accesores y mutadores (Propiedades en C#)</h3>

<blockquote>
<p>&#x270B; <strong>Nota:</strong> Usaremos en principio la forma de hacerlo de <strong>Java</strong>. Aunque m&#xE1;s adelante veremos que en C# existe un <em>&apos;<strong>Syntactic Sugar</strong>&apos;</em> para definirlos y usarlos.</p>
<ul>
<li>Para el <strong>accesor</strong>, crearemos un m&#xE9;todo con el prefijo <strong><code>Get&lt;idCampo&gt;</code></strong> seguido del nombre del campo en PascalCasing por ser C#.</li>
<li>Para el <strong>mutador</strong>, crearemos un m&#xE9;todo con el prefijo <strong><code>Set&lt;idCampo&gt;</code></strong> seguido del nombre del campo en PascalCasing por ser C#.</li>
</ul>
</blockquote>
<h4 class="mume-header" id="bulb-tips-de-dise%C3%B1o-de-getters-y-setters">&#x1F4A1; Tips de dise&#xF1;o de <em>&apos;getters&apos;</em> y <em>&apos;setters&apos;</em></h4>

<ol>
<li>
<p>No tengo porqu&#xE9; definirlos <strong>todos</strong>, solo si los necesito o me los piden.</p>
</li>
<li>
<p>Si el campo es <strong><code>readonly</code></strong> solo podr&#xE1; haber <strong>accesor</strong> (getter).</p>
</li>
<li>
<p>Los accesores (getters) llevar&#xE1;n el modificador <strong><code>public</code></strong> por defecto.</p>
</li>
<li>
<p>Los mutadores (setters) llevar&#xE1;n el modificador <strong><code>private</code></strong> por defecto para asegurar la encapsulaci&#xF3;n y solo ser&#xE1;n <strong><code>public</code></strong> si fuese necesario, siempre y cuando nos aseguremos que el objeto queda en buen estado.</p>
</li>
<li>
<p>En lugar de usar dir&#xE9;ctamente los campos dentro de los <strong>m&#xE9;todos</strong> y constructores, intentaremos usar los getters y setters definidos.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[11, 15-18]}" class="language-csharp" data-line="11,15-18"><span class="token keyword">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
  <span class="token comment">// &lt;campos&gt;</span>

  <span class="token comment">// &lt;constructor/es&gt;</span>
  <span class="token keyword">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token keyword">string</span> titulo<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">int</span> a&#xF1;o<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">int</span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>titulo <span class="token operator">=</span> titulo<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>a&#xF1;o <span class="token operator">=</span> a&#xF1;o<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>paginas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
      <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      titulo <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      a&#xF1;o <span class="token operator">=</span> l<span class="token punctuation">.</span>GetA&#xF1;<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      paginas <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span><span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// &lt;accesores/mutadores&gt;</span>
  <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword">return</span> titulo<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> GetA&#xF1;<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword">return</span> a&#xF1;o<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword">return</span> paginas<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword">return</span> paginasLeidas<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token keyword">int</span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      paginasLeidas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>      
<span class="token punctuation">}</span> 
<div class="line-highlight-wrapper">









<div aria-hidden="true" class="line-highlight" data-range="11" data-start="11">
</div></div><div class="line-highlight-wrapper">













<div aria-hidden="true" class="line-highlight" data-range="15-18" data-start="15" data-end="18">



</div></div></pre></li>
</ol>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="paso-4-definir-m%C3%A9todos-u-operaciones-de-la-clase">Paso 4: Definir m&#xE9;todos u operaciones de la clase</h3>

<ul>
<li>
<p>Desde cualquier m&#xE9;todo de inst&#xE1;ncia, podremos acceder a los campos y accesores/mutadores de la clase. Ya sea a trav&#xE9;s de <strong><code>this</code></strong> o &apos;<em>inferido</em>&apos; si no hay un par&#xE1;metro formal con el mismo id.</p>
</li>
<li>
<p>Sin embargo, trataremos de usar los accesores/mutadores en lugar de los campos.<br>
Para nuestro ejemplo tendremos...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
  <span class="token comment">// &lt;campos&gt;</span>
  <span class="token comment">// &lt;constructor/es&gt;</span>
  <span class="token comment">// &lt;accesores/mutadores&gt;</span>

  <span class="token comment">// &lt;m&#xE9;todos&gt;</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">Lee</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token keyword">int</span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>            
      <span class="token keyword">int</span> le&#xED;das <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">Clamp</span><span class="token punctuation">(</span>paginas<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> le&#xED;das<span class="token punctuation">)</span><span class="token punctuation">;</span>            
      <span class="token keyword">return</span> le&#xED;das<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">PorcentajeLeido</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt32</span><span class="token punctuation">(</span><span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span>D <span class="token operator">/</span>  <span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token keyword">return</span> $<span class="token string">&quot;T&#xED;tulo: {GetTitulo()}\n&quot;</span> <span class="token operator">+</span>
              $<span class="token string">&quot;A&#xF1;o: {GetA&#xF1;o()}\n&quot;</span> <span class="token operator">+</span> 
              $<span class="token string">&quot;P&#xE1;ginas: {GetPaginas()}&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</pre></li>
</ul>
<h3 class="mume-header" id="paso-5-crear-un-peque%C3%B1o-test-para-nuestra-clase-opcional">Paso 5: Crear un peque&#xF1;o test para nuestra clase (Opcional)</h3>

<ul>
<li>
<p><strong>Nota:</strong> M&#xE1;s adelante veremos c&#xF3;mo crear nuestros test e forma m&#xE1;s apropiada.</p>
</li>
<li>
<p>En este caso, vamos a hacer un peque&#xF1;o programa que cree un instancia de un objeto libro y posteriormente lo lea de 300 en 300 p&#xE1;ginas.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Programa</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Creo el libro.</span>
        <span class="token class-name">Libro</span> libro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Libro</span><span class="token punctuation">(</span><span class="token string">&quot;Code Complete 2&quot;</span><span class="token punctuation">,</span> <span class="token number">2004</span><span class="token punctuation">,</span> <span class="token number">960</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Muestro la descripci&#xF3;n de mi libro</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>libro<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Mientra pueda leer alguna p&#xE1;gina (m&#xE1;ximo 300)</span>
        <span class="token comment">// muestro las p&#xE1;ginas le&#xED;das y el porcentaje de lo que llevo le&#xED;do del libro.</span>
        <span class="token keyword">const</span> <span class="token keyword">int</span> MAXIMO_PAGINAS_A_LEER <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> le&#xED;das<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>le&#xED;das <span class="token operator">=</span> libro<span class="token punctuation">.</span><span class="token function">Lee</span><span class="token punctuation">(</span>MAXIMO_PAGINAS_A_LEER<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;Le&#xED;das: {le&#xED;das} {libro.PorcentajeLeido()}%&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
</ul>
<h3 class="mume-header" id="resumen-de-directrices-generales-de-definici%C3%B3n-de-clases">Resumen de directrices generales de definici&#xF3;n de clases</h3>

<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="157px" preserveAspectRatio="none" style="width:1037px;height:157px;" version="1.1" viewBox="0 0 1037 157" width="1037px" zoomAndPan="magnify"><defs><filter height="300%" id="ftz3om6toyzh2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#ftz3om6toyzh2)" height="121.9922" rx="12.5" ry="12.5" style="stroke: #000000; stroke-width: 1.5;" width="142" x="10" y="25"/><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="52" y="55.0078">PASO 1</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="46" x="58" y="73.4063">Definir</text><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="61" x="50.5" y="91.8047">campos</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="60" x="51" y="110.2031">privados</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="112" x="25" y="128.6016">(Encapsulaci&#xF3;n)</text><rect fill="#FFFFFF" filter="url(#ftz3om6toyzh2)" height="121.9922" rx="12.5" ry="12.5" style="stroke: #000000; stroke-width: 1.5;" width="141" x="212" y="25"/><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="253.5" y="55.0078">PASO 2</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="46" x="259.5" y="73.4063">Definir</text><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="227" y="91.8047">constructor/es</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="87" x="239" y="110.2031">El destructor</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="111" x="227" y="128.6016">no es necesario</text><rect fill="#FFFFFF" filter="url(#ftz3om6toyzh2)" height="121.9922" rx="12.5" ry="12.5" style="stroke: #000000; stroke-width: 1.5;" width="217" x="413" y="25"/><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="492.5" y="55.0078">PASO 3</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="46" x="498.5" y="73.4063">Definir</text><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="451" y="91.8047">accesores</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="58" x="534" y="91.8047">p&#xFA;blicos</text><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="448.5" y="110.2031">mutadores</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="60" x="534.5" y="110.2031">privados</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="187" x="428" y="128.6016">solo cuando sea necesario</text><rect fill="#FFFFFF" filter="url(#ftz3om6toyzh2)" height="121.9922" rx="12.5" ry="12.5" style="stroke: #000000; stroke-width: 1.5;" width="133" x="690" y="25"/><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="727.5" y="55.0078">PASO 4</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="46" x="733.5" y="73.4063">Definir</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="20" x="711" y="91.8047">los</text><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="735" y="91.8047">m&#xE9;todos</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="103" x="705" y="110.2031">sobre el objeto</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="101" x="706" y="128.6016">como p&#xFA;blicos</text><rect fill="#FFFFFF" filter="url(#ftz3om6toyzh2)" height="121.9922" rx="12.5" ry="12.5" style="stroke: #000000; stroke-width: 1.5;" width="143" x="883" y="25"/><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="925.5" y="55.0078">PASO 5</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="40" x="934.5" y="73.4063">Crear</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="81" x="898" y="91.8047">un peque&#xF1;o</text><text fill="#000000" font-family="Arial" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="983" y="91.8047">test</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="95" x="907" y="110.2031">para nuestros</text><text fill="#000000" font-family="Arial" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="65" x="922" y="128.6016">m&#xE9;todos.</text><path d="M823,85.9961 L833,85.9961 C848,85.9961 858,85.9961 873,85.9961 L883,85.9961 " fill="none" style="stroke: #000000; stroke-width: 1.0;"/><path d="M630,85.9961 L640,85.9961 C655,85.9961 665,85.9961 680,85.9961 L690,85.9961 " fill="none" style="stroke: #000000; stroke-width: 1.0;"/><path d="M353,85.9961 L363,85.9961 C378,85.9961 388,85.9961 403,85.9961 L413,85.9961 " fill="none" style="stroke: #000000; stroke-width: 1.0;"/><path d="M152,85.9961 L162,85.9961 C177,85.9961 187,85.9961 202,85.9961 L212,85.9961 " fill="none" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[a4b7924f4a54b71765822a59d29bdef7]
@startmindmap
scale 100 width
<style>
mindmapDiagram {
  Linecolor black
  FontName Arial
  FontSize 16
  node {
    Padding 15
    Margin 15
    HorizontalAlignment center
    BackGroundColor white
  }
}
</style>

* **PASO 1**\nDefinir\n**campos**\nprivados\n(Encapsulación)
** **PASO 2**\nDefinir\n**constructor/es**\nEl destructor\nno es necesario
*** **PASO 3**\nDefinir\n**accesores** públicos\n**mutadores** privados\nsolo cuando sea necesario
**** **PASO 4**\nDefinir\nlos **métodos**\nsobre el objeto\ncomo públicos
***** **PASO 5**\nCrear\nun pequeño **test**\npara nuestros\nmétodos.

@endmindmap

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><div style="page-break-after:always;"></div>
<blockquote>
<p><strong>&#x1F393; Caso de estudio</strong></p>
<p>Junto a la clase Libro anterior, vamos a modelar la clase <strong><code>Escritor</code></strong> suponiendo que un escritor tiene un <strong><code>nombre</code></strong>, un a&#xF1;o de <strong><code>nacimiento</code></strong> y un n&#xFA;mero de <strong><code>publicaciones</code></strong>.<br>
Adem&#xE1;s del constructor y los accesores y mutadores para sus campos, vamos a definir el m&#xE9;todo descripci&#xF3;n que me muestre sus datos y m&#xE9;todo <strong><code>Libro Escribe(string titulo)</code></strong> donde el escritor crear&#xE1; un libro con el t&#xED;tulo recibido de entre 400 y 800 p&#xE1;ginas.<br>
<strong>&#x270B; Intenta modelarla e implementarla tu mismo, antes de ver la propuesta de soluci&#xF3;n</strong>.</p>
<p>Un posible modelado de la clase, podr&#xED;a ser el siguiente...</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="307.6613px" preserveAspectRatio="none" style="width:355px;height:307px;" version="1.1" viewBox="0 0 355 307" width="355.6452px" zoomAndPan="magnify"><defs><filter height="300%" id="f1fbq2wffseoj3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.8225806451612905"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.645161290322581" dy="5.645161290322581" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[86711dc2639f7c866c0f156bdfe53786]
class Escritor--><rect fill="#FFFAFA" filter="url(#f1fbq2wffseoj3)" height="282.5337" id="Escritor" style="stroke: #000000; stroke-width: 2.116935483870968;" width="330.2419" x="9.879" y="9.879"/><ellipse cx="139.3649" cy="32.4597" fill="#ADD1B2" rx="15.5242" ry="15.5242" style="stroke: #000000; stroke-width: 1.4112903225806452;"/><path d="M143.268,26.6381 Q143.4885,26.3294 143.7532,26.175 Q144.0178,26.0207 144.3265,26.0207 Q144.8557,26.0207 145.1865,26.3955 Q145.5173,26.7484 145.5173,27.6084 L145.5173,29.6591 Q145.5173,30.5192 145.1865,30.894 Q144.8557,31.2689 144.3265,31.2689 Q143.8414,31.2689 143.5547,30.9822 Q143.268,30.7176 143.1137,29.9899 Q143.0475,29.4827 142.7829,29.2181 Q142.3198,28.6889 141.4598,28.3802 Q140.5998,28.0714 139.7177,28.0714 Q138.6372,28.0714 137.7331,28.5345 Q136.8511,28.9976 136.1454,30.0561 Q135.4618,31.1145 135.4618,32.5699 L135.4618,34.1135 Q135.4618,35.8556 136.7188,37.0243 Q137.9757,38.171 140.2249,38.171 Q141.548,38.171 142.4742,37.8182 Q143.0255,37.5977 143.6208,36.9802 Q143.9957,36.6053 144.1942,36.4951 Q144.4147,36.3848 144.7014,36.3848 Q145.1644,36.3848 145.5173,36.7597 Q145.8921,37.1125 145.8921,37.5977 Q145.8921,38.0828 145.407,38.6561 Q144.7014,39.472 143.5767,39.9351 Q142.0552,40.5746 140.2249,40.5746 Q138.0859,40.5746 136.388,39.6925 Q134.9987,38.9869 134.0285,37.4874 Q133.0582,35.9659 133.0582,34.1576 L133.0582,32.5258 Q133.0582,30.6515 133.9182,29.0417 Q134.8003,27.4099 136.3439,26.5499 Q137.8875,25.6678 139.6295,25.6678 Q140.666,25.6678 141.5701,25.9104 Q142.4962,26.1309 143.268,26.6381 Z "/><text fill="#000000" font-family="sans-serif" font-size="16.9355" lengthAdjust="spacingAndGlyphs" textLength="59.2742" x="168.2964" y="39.3893">Escritor</text><line style="stroke: #000000; stroke-width: 2.116935483870968;" x1="11.2903" x2="338.7097" y1="55.0403" y2="55.0403"/><text fill="#000000" font-family="sans-serif" font-size="15.5242" lengthAdjust="spacingAndGlyphs" textLength="184.879" x="18.3468" y="76.8009">-nombre : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="15.5242" lengthAdjust="spacingAndGlyphs" textLength="183.4677" x="18.3468" y="96.3275">-nacimiento : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="15.5242" lengthAdjust="spacingAndGlyphs" textLength="127.0161" x="18.3468" y="115.854">-publicaciones : int</text><line style="stroke: #000000; stroke-width: 2.116935483870968;" x1="11.2903" x2="338.7097" y1="124.9102" y2="124.9102"/><text fill="#000000" font-family="sans-serif" font-size="15.5242" lengthAdjust="spacingAndGlyphs" textLength="313.3065" x="18.3468" y="146.6708">+Escritor(in nombre : string, in nacimiento : int)</text><text fill="#000000" font-family="sans-serif" font-size="15.5242" lengthAdjust="spacingAndGlyphs" textLength="160.8871" x="18.3468" y="166.1974">+Escritor(in e : Escritor)</text><text fill="#000000" font-family="sans-serif" font-size="15.5242" lengthAdjust="spacingAndGlyphs" textLength="146.7742" x="18.3468" y="185.7239">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="15.5242" lengthAdjust="spacingAndGlyphs" textLength="145.3629" x="18.3468" y="205.2504">+GetNacimiento() : int</text><text fill="#000000" font-family="sans-serif" font-size="15.5242" lengthAdjust="spacingAndGlyphs" textLength="165.121" x="18.3468" y="224.7769">+GetPublicaciones() : int</text><text fill="#000000" font-family="sans-serif" font-size="15.5242" lengthAdjust="spacingAndGlyphs" textLength="310.4839" x="18.3468" y="244.3035">-SetPublicaciones(in publicaciones : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="15.5242" lengthAdjust="spacingAndGlyphs" textLength="214.5161" x="18.3468" y="263.83">+Escribe(in titulo : string) : Libro</text><text fill="#000000" font-family="sans-serif" font-size="15.5242" lengthAdjust="spacingAndGlyphs" textLength="151.0081" x="18.3468" y="283.3565">+Descripci&#xF3;n() : string</text><!--MD5=[fbbcc256a359ba2a44bf87f059e6630b]
@startuml

left to right direction
scale 350 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

class Escritor
{
    - nombre : string {readOnly}
    - nacimiento : int {readOnly}
    - publicaciones : int

    + Escritor(in nombre : string, in nacimiento : int)
    + Escritor(in e : Escritor)
    + GetNombre() : string
    + GetNacimiento() : int
    + GetPublicaciones() : int
    - SetPublicaciones(in publicaciones : int) : void
    + Escribe(in titulo : string) : Libro
    + Descripción() : string
}

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p>La implementaci&#xF3;n propuesta siguiendo los pasos y criterios descritos ser&#xED;a...<br>
&#x270B; <strong>F&#xED;jate en la implementaci&#xF3;n y comentarios del m&#xE9;todo</strong> <strong><code>Libro Escribe(string titulo)</code></strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Escritor</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">string</span> nombre<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">int</span> nacimiento<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> publicaciones<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">GetNacimiento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> nacimiento<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> publicaciones<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token keyword">int</span> publicaciones<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>publicaciones <span class="token operator">=</span> publicaciones<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Escritor</span><span class="token punctuation">(</span><span class="token keyword">string</span> nombre<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">int</span> nacimiento<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>nacimiento <span class="token operator">=</span> nacimiento<span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Hemos definido un constructor copia para escritores, aunque aqu&#xED; tendr&#xED;a menos sentido hacerlo. </span>
    <span class="token keyword">public</span> <span class="token function">Escritor</span><span class="token punctuation">(</span><span class="token class-name">Escritor</span> e<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        nombre <span class="token operator">=</span> e<span class="token punctuation">.</span>nombre<span class="token punctuation">;</span>
        nacimiento <span class="token operator">=</span> e<span class="token punctuation">.</span>nacimiento<span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>publicaciones<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> Descripci&#xF3;<span class="token function">n</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> $<span class="token string">&quot;Nombre: {GetNombre()}\n&quot;</span> <span class="token operator">+</span>
                $<span class="token string">&quot;Nacimiento: {GetNacimiento()}\n&quot;</span> <span class="token operator">+</span>
                $<span class="token string">&quot;Publicaciones: {GetPublicaciones()}&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</pre></blockquote>
<div style="page-break-after:always;"></div>
<blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp">    <span class="token comment">// A este tipo de objetos que sin ser constructores, devuelven una inst&#xE1;ncia de un objeto</span>
    <span class="token comment">// se les denomina &apos;M&#xE9;todos factor&#xED;a&apos;. </span>
    <span class="token comment">// En cierto modo tienes sentido, ya que un escritor produce libros.</span>
    <span class="token keyword">public</span> <span class="token class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token keyword">string</span> titulo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Para establecer el rango de p&#xE1;ginas de sus libros, hemos usado un nuevo tipo </span>
        <span class="token comment">// a&#xF1;adido en C#8 denominado rango (por ver posibilidades del lenguaje). </span>
        <span class="token comment">// Aunque podr&#xED;amos haber definido s&#xED;mplemente 2 enteros.</span>
        <span class="token comment">// Este rango podr&#xED;a ser incluso un campo que defina una caracter&#xED;stica de nuestros</span>
        <span class="token comment">// objetos escritor.</span>
        <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400.</span><span class="token number">.800</span><span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Incremento el n&#xFA;mero de publicaciones del escritor.</span>
        <span class="token comment">// Creo un l&#xED;bro, con el a&#xF1;o actual y un n&#xFA;mero de p&#xE1;ginas aleatoria en el rango.</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Libro</span><span class="token punctuation">(</span>titulo<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Year<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></blockquote>
<hr>
<h2 class="mume-header" id="definiendo-tipos-y-objetos-valor">Definiendo tipos y objetos &apos;<em>valor</em>&apos;</h2>

<p>Ya vimos en el <strong>Tema 5</strong> que todos los objetos, ya sean creados a trav&#xE9;s de nuestras propias clases o a trav&#xE9;s de las definidas en la BCL son <strong>tipos referencia</strong>. Pero, &#xBF;Hay alguna forma de definir <strong>tipos valor</strong>?. La respuesta es <strong>S&#xCD;</strong>. Utilizando la palabra reservada <strong><code>struct</code></strong>.</p>
<blockquote>
<p><strong>Nota:</strong> La palabra reservada <strong><code>struct</code></strong> viene de los antecesores de C# que son C y C++, pero en ellos su <a href="https://docs.microsoft.com/es-es/cpp/cpp/struct-cpp?view=vs-2019" target="_blank">interpretaci&#xF3;n</a> est&#xE1; m&#xE1;s orientada a la definici&#xF3;n de tipos compuestos heterog&#xE9;neos.</p>
</blockquote>
<h3 class="mume-header" id="un-poco-de-hist%C3%B3ria">Un poco de hist&#xF3;ria</h3>

<p>A principios de la d&#xE9;cada del 2000 cuando <a href="https://es.wikipedia.org/wiki/Anders_Hejlsberg" target="_blank">Anders Hejlsberg</a> defini&#xF3; el lenguaje, siguiendo la estela de Java. En ese momento, todos los tipos deb&#xED;an ser tratados como objetos en memoria y por tanto los tipos b&#xE1;sicos como por ejemplo <strong><code>int</code></strong> tambi&#xE9;n eran objetos. Pero, si todas las clases definen tipos referencia. &#xBF;C&#xF3;mo hacer que estos tipos b&#xE1;sicos fueran objetos valor?.</p>
<p>Por ese motivo se incluy&#xF3; la palabra reservada <strong><code>struct</code></strong> que permit&#xED;a definir tipos como <strong><code>class</code></strong> pero con ciertas restricciones. Adem&#xE1;s, estos tipos ser&#xED;an <strong>valor</strong>. Por ejemplo, si nos fijamos <strong><code>int</code></strong> es una alias para el tipo <strong><code>System.Int32</code></strong> y si nos fijamos en su <a href="https://docs.microsoft.com/es-es/dotnet/api/system.int32?view=netcore-3.1" target="_blank">definici&#xF3;n</a>, este es un <strong><code>struct</code></strong>.</p>
<p>En en dise&#xF1;o orientado a objetos a trav&#xE9;s de diagramas UML <strong>tambi&#xE9;n se les conoce como</strong> <a href="https://www.uml-diagrams.org/data-type.html" target="_blank">Data Type</a>.</p>
<p>En la POO moderna, la aproximaci&#xF3;n para el uso de estructuras que m&#xE1;s consenso produce, es la definici&#xF3;n de <a href="https://martinfowler.com/bliki/ValueObject.html" target="_blank">Value Object</a> que <a href="https://es.wikipedia.org/wiki/Martin_Fowler" target="_blank">Martin Fowler</a> da sobre los mismos. Las caracter&#xED;sticas que deber&#xED;an tener los tipos para definirlos a trav&#xE9;s <strong><code>struct</code></strong> seg&#xFA;n Martin la vamos describiremos a continuaci&#xF3;n.</p>
<h3 class="mume-header" id="bulb-tips-para-definir-un-tipo-usando-struct">&#x1F4A1; Tips para definir un tipo usando struct</h3>

<ul>
<li>Deber&#xED;an ser <strong>inmutables</strong>, esto es, cualquier operaci&#xF3;n sobre un objeto struct deber&#xED;a producir un nuevo objeto struct.</li>
<li>Sus campos, a su vez, ser&#xE1;n tipos inmutables.</li>
<li>No deber&#xED;an tener ning&#xFA;n campo marcado como <strong><code>{id}</code></strong> que haga a los objetos &#xFA;nicos.</li>
<li><strong>Los objetos representan entidades completamente intercambiables</strong>. Por ejemplo...
<ul>
<li>Un objeto <strong><code>billete de 5&#x20AC;</code></strong> es intercambiable por otro <strong><code>billete de 5&#x20AC;</code></strong>. Sigo teniendo la misma cosa. El mismo <em>&apos;valor&apos;</em>.</li>
<li>Un objeto naipe con el <strong><code>7 de picas</code></strong> es intercambiable por otro <strong><code>7 de picas</code></strong>.</li>
<li>Un objeto IP con el valor <strong><code>192.168.0.1</code></strong> es intercambiable por otro <strong><code>192.168.0.1</code></strong>.</li>
<li>Una objeto coordenada de la consola con los valores <strong><code>X (columna) = 40</code></strong> y <strong><code>Y (fila) = 10</code></strong> es intercambiable con otro objetos con los mismos valores.</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="definir-objetos-valor-a-trav%C3%A9s-de-c">Definir objetos valor a trav&#xE9;s de &apos;<em>C#</em>&apos;</h3>

<p>Vamos a definir un tipo valor denominado <strong><code>Punto2D</code></strong> que contendr&#xE1; 2 campos que ser&#xE1;n las coordenadas <strong><code>x</code></strong> e <strong><code>y</code></strong> respectivas al punto.</p>
<p>Si la defini&#xE9;ramos en <a href="https://www.uml-diagrams.org/data-type.html" target="_blank">UML</a> usar&#xED;amos el estereotipo <strong><code>&lt;&lt;dataType&gt;&gt;</code></strong> de una forma similar a esta...</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="136.7647px" preserveAspectRatio="none" style="width:205px;height:136px;" version="1.1" viewBox="0 0 205 136" width="205.8824px" zoomAndPan="magnify"><defs><filter height="300%" id="f1uqggz0nuf3ko" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.9411764705882355"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.882352941176471" dy="5.882352941176471" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[4188b287b597d910fa9f45f2dbe415c5]
class Punto2D--><rect fill="#FFFAFA" filter="url(#f1uqggz0nuf3ko)" height="111.5579" id="Punto2D" style="stroke: #000000; stroke-width: 2.2058823529411766;" width="179.4118" x="10.2941" y="10.2941"/><ellipse cx="51.5441" cy="39.8438" fill="#FF7700" rx="16.1765" ry="16.1765" style="stroke: #000000; stroke-width: 1.4705882352941178;"/><path d="M47.9366,44.6921 L47.9366,34.9035 Q47.1324,34.8805 46.7417,34.5358 Q46.3741,34.1912 46.3741,33.6397 Q46.3741,33.0882 46.7647,32.7436 Q47.1553,32.3989 48.0515,32.3989 L53.2904,32.3989 Q54.5083,32.3989 55.6801,32.8585 Q56.852,33.295 57.5643,34.0074 Q58.0928,34.5358 58.6673,35.455 Q59.2417,36.3511 59.5404,37.2702 Q59.8392,38.1664 59.8392,39.4761 L59.8392,40.671 Q59.8392,42.2564 59.2877,43.4972 Q58.7592,44.7151 57.886,45.4963 Q57.0129,46.2546 56.2546,46.6222 Q55.0368,47.1967 53.0836,47.1967 L48.0515,47.1967 Q47.1553,47.1967 46.7647,46.852 Q46.3741,46.5074 46.3741,45.9329 Q46.3741,45.3814 46.7647,45.0368 Q47.1553,44.6921 47.9366,44.6921 Z M50.4412,44.6921 L53.1066,44.6921 Q54.5772,44.6921 55.3355,44.2555 Q56.3235,43.704 56.829,42.8539 Q57.3346,41.9807 57.3346,40.602 L57.3346,39.4072 Q57.3346,38.2353 56.875,37.3392 Q56.1627,35.9375 55.2665,35.432 Q54.3934,34.9035 53.0836,34.9035 L50.4412,34.9035 L50.4412,44.6921 Z "/><text fill="#000000" font-family="sans-serif" font-size="17.6471" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="95.5882" x="73.4559" y="35.9662">&#xAB;dataType&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="17.6471" lengthAdjust="spacingAndGlyphs" textLength="70.5882" x="85.9559" y="58.1629">Punto2D</text><line style="stroke: #000000; stroke-width: 2.2058823529411766;" x1="11.7647" x2="188.2353" y1="69.3934" y2="69.3934"/><text fill="#000000" font-family="sans-serif" font-size="16.1765" lengthAdjust="spacingAndGlyphs" textLength="160.2941" x="19.1176" y="92.0683">+X : double {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="16.1765" lengthAdjust="spacingAndGlyphs" textLength="161.7647" x="19.1176" y="112.4153">+Y : double {readOnly}</text><!--MD5=[55903bd533c63774743e5add93082e93]
@startuml
left to right direction
scale 200 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide methods
class Punto2D <<(D,#FF7700) dataType>>
{
    + X : double {readOnly}
    + Y : double {readOnly}
}
@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">struct</span> Punto2D
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">readonly</span> <span class="token keyword">double</span> X<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">readonly</span> <span class="token keyword">double</span> Y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>En lugar de usar el palabra reservada <strong><code>class</code></strong>, hemos usado <strong><code>struct</code></strong>. Adem&#xE1;s, como que remos que sea <strong>inmutable</strong>, los campos los hemos definido <strong><code>readonly</code></strong> y como una vez definidos ya no podremos modificarlos, los hemos definido c&#xF3;mo p&#xFA;blicos para que desde fuera se pueda consultar su valor.</p>
<h4 class="mume-header" id="creando-objetos-valor">Creando objetos valor</h4>

<p>La forma m&#xE1;s simple, es hacerlo de forma an&#xE1;loga a c&#xF3;mo declar&#xE1;bamos un entero (recordemos que en el fondo un int es un struct).</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Punto2D</span> p<span class="token punctuation">;</span>
</pre><p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="176pt" height="109pt" viewBox="0.00 0.00 176.00 109.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 105)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-105 172,-105 172,4 -4,4"/>
<!-- o -->
<g id="node1" class="node">
<title>o</title>
<polygon fill="none" stroke="#000000" points="8,-3.5 8,-96.5 37,-96.5 37,-3.5 8,-3.5"/>
<text text-anchor="start" x="18.6087" y="-45.8" font-family="Arial" font-size="14.00" fill="#000000">p</text>
<polygon fill="none" stroke="#000000" points="37,-58.5 37,-96.5 160,-96.5 160,-58.5 37,-58.5"/>
<text text-anchor="start" x="47.9243" y="-72.9" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Punto2D &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="37,-3.5 37,-58.5 160,-58.5 160,-3.5 37,-3.5"/>
<text text-anchor="start" x="64.4534" y="-34.9" font-family="Arial" font-size="14.00" fill="#000000">X = 0.0d</text>
<text text-anchor="start" x="64.4534" y="-18.1" font-family="Arial" font-size="14.00" fill="#000000">Y = 0.0d &#xA0;&#xA0;&#xA0;</text>
</g>
</g>
</svg>
</p><p>Nada m&#xE1;s declarar <strong><code>p</code></strong>, como sucede cuando declaramos un estro, ya tendremos una instancia valor de nuestro punto con los valores por defecto para <strong><code>double</code></strong> que es <strong><code>0.0d</code></strong>.</p>
<p>Pero al hacer el objeto inmutable, ya no podremos modificar su estado. Por esta raz&#xF3;n, lo m&#xE1;s apropiado es <strong>definir un constructor</strong> que me permita crear objetos punto.<br>
<strong>Nota:</strong> A&#xF1;adimos adem&#xE1;s el m&#xE9;todo <strong><code>string ATexto()</code></strong> para poder representar los puntos definidos.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">struct</span> Punto2D
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">readonly</span> <span class="token keyword">double</span> X<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">readonly</span> <span class="token keyword">double</span> Y<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Punto2D</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token keyword">double</span> x<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">double</span> y<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Y <span class="token operator">=</span> y<span class="token punctuation">;</span>
        X <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> $<span class="token string">&quot;({X:G2} - {Y:G2})&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<p>Ahora si hacemos una asignaci&#xF3;n de un punto sobre otro, tendremos se generar&#xE1; una copia en memoria el objeto <strong><code>Punto2D</code></strong> ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Punto2D</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Punto2D</span><span class="token punctuation">(</span><span class="token number">4</span>d<span class="token punctuation">,</span> <span class="token number">4</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Punto2D</span> p2 <span class="token operator">=</span> p1<span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;p1 = &quot;</span> <span class="token operator">+</span> p1<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;p2 = &quot;</span> <span class="token operator">+</span> p2<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p align="center" style="zoom:0.85"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="396pt" height="109pt" viewBox="0.00 0.00 396.00 109.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 105)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-105 392,-105 392,4 -4,4"/>
<!-- o1 -->
<g id="node1" class="node">
<title>o1</title>
<polygon fill="none" stroke="#000000" points="8,-3.5 8,-96.5 45,-96.5 45,-3.5 8,-3.5"/>
<text text-anchor="start" x="18.7174" y="-45.8" font-family="Arial" font-size="14.00" fill="#000000">p1</text>
<polygon fill="none" stroke="#000000" points="45,-58.5 45,-96.5 168,-96.5 168,-58.5 45,-58.5"/>
<text text-anchor="start" x="55.9243" y="-72.9" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Punto2D &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="45,-3.5 45,-58.5 168,-58.5 168,-3.5 45,-3.5"/>
<text text-anchor="start" x="72.4534" y="-34.9" font-family="Arial" font-size="14.00" fill="#000000">X = 4.0d</text>
<text text-anchor="start" x="72.4534" y="-18.1" font-family="Arial" font-size="14.00" fill="#000000">Y = 4.0d &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- o2 -->
<g id="node2" class="node">
<title>o2</title>
<polygon fill="none" stroke="#000000" points="220,-3.5 220,-96.5 257,-96.5 257,-3.5 220,-3.5"/>
<text text-anchor="start" x="230.7174" y="-45.8" font-family="Arial" font-size="14.00" fill="#000000">p2</text>
<polygon fill="none" stroke="#000000" points="257,-58.5 257,-96.5 380,-96.5 380,-58.5 257,-58.5"/>
<text text-anchor="start" x="267.9243" y="-72.9" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Punto2D &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="257,-3.5 257,-58.5 380,-58.5 380,-3.5 257,-3.5"/>
<text text-anchor="start" x="284.4534" y="-34.9" font-family="Arial" font-size="14.00" fill="#000000">X = 4.0d</text>
<text text-anchor="start" x="284.4534" y="-18.1" font-family="Arial" font-size="14.00" fill="#000000">Y = 4.0d &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- o1&#45;&gt;o2 -->
<g id="edge1" class="edge">
<title>o1-&gt;o2</title>
<path fill="none" stroke="transparent" d="M176.0653,-50.5C184.5691,-50.5 193.2315,-50.5 201.825,-50.5"/>
<polygon fill="transparent" stroke="transparent" points="201.8676,-54.0001 211.8676,-50.5 201.8676,-47.0001 201.8676,-54.0001"/>
</g>
</g>
</svg>
</p><p>Si <strong><code>Punto2D</code></strong> lo hubi&#xE9;semos definido con <strong><code>class</code></strong> tendr&#xED;amos un <strong>tipo referencia</strong> y lo siguiente en memoria...</p>
<p align="center" style="zoom:0.85"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="273pt" height="114pt" viewBox="0.00 0.00 272.55 113.55" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 109.5462)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-109.5462 268.5462,-109.5462 268.5462,4 -4,4"/>
<!-- p1 -->
<g id="node1" class="node">
<title>p1</title>
<ellipse fill="none" stroke="#c0c0c0" cx="21.7731" cy="-83.7731" rx="21.5485" ry="21.5485"/>
<text text-anchor="middle" x="21.7731" y="-79.5731" font-family="Arial" font-size="14.00" fill="#000000">p1</text>
</g>
<!-- o1 -->
<g id="node3" class="node">
<title>o1</title>
<polygon fill="none" stroke="#c0c0c0" points="88.0462,-60.7731 88.0462,-98.7731 257.0462,-98.7731 257.0462,-60.7731 88.0462,-60.7731"/>
<text text-anchor="start" x="98.6241" y="-75.1731" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;p1, p2: Punto2D &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#c0c0c0" points="88.0462,-5.7731 88.0462,-60.7731 257.0462,-60.7731 257.0462,-5.7731 88.0462,-5.7731"/>
<text text-anchor="start" x="138.4996" y="-37.1731" font-family="Arial" font-size="14.00" fill="#000000">X = 4.0d</text>
<text text-anchor="start" x="138.4996" y="-20.3731" font-family="Arial" font-size="14.00" fill="#000000">Y = 4.0d &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- p1&#45;&gt;o1 -->
<g id="edge1" class="edge">
<title>p1-&gt;o1</title>
<path fill="none" stroke="#c0c0c0" d="M43.3036,-79.3316C50.7902,-77.7871 59.7584,-75.9371 69.4313,-73.9416"/>
<polygon fill="#c0c0c0" stroke="#c0c0c0" points="70.2237,-77.352 79.3103,-71.9037 68.8094,-70.4963 70.2237,-77.352"/>
</g>
<!-- p2 -->
<g id="node2" class="node">
<title>p2</title>
<ellipse fill="none" stroke="#c0c0c0" cx="21.7731" cy="-21.7731" rx="21.5485" ry="21.5485"/>
<text text-anchor="middle" x="21.7731" y="-17.5731" font-family="Arial" font-size="14.00" fill="#000000">p2</text>
</g>
<!-- p2&#45;&gt;o1 -->
<g id="edge2" class="edge">
<title>p2-&gt;o1</title>
<path fill="none" stroke="#c0c0c0" d="M43.3036,-26.2146C50.7902,-27.7591 59.7584,-29.6091 69.4313,-31.6046"/>
<polygon fill="#c0c0c0" stroke="#c0c0c0" points="68.8094,-35.0499 79.3103,-33.6425 70.2237,-28.1942 68.8094,-35.0499"/>
</g>
</g>
</svg>
</p><p>Si planteamos lo mismo pero en t&#xE9;rminos de colecciones homog&#xE9;neas. Si hacemos ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Punto2D</span> triangulo<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Punto2D</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// Aqu&#xED; los puntos ya estar&#xED;an creados por ser Punto2D un tipo valor.</span>

triangulo<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Punto2D</span><span class="token punctuation">(</span><span class="token number">4</span>D<span class="token punctuation">,</span> <span class="token number">4</span>D<span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;trangulo[2] = &quot;</span> <span class="token operator">+</span> triangulo<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>Se crear&#xE1; un array con los tres objetos valor inicializados por &apos;<em>defecto</em>&apos; y posteriormente hacemos una <strong>copia</strong> del un nuevo objeto valor con coordenadas (4 - 4) en la posici&#xF3;n de &#xED;ndice 2 en array.</p>
<p align="center" style="zoom:0.85"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="816pt" height="192pt" viewBox="0.00 0.00 816.24 192.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 188)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-188 812.2437,-188 812.2437,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster1</title>
<polygon fill="none" stroke="#000000" points="108.2437,-8 108.2437,-176 800.2437,-176 800.2437,-8 108.2437,-8"/>
<text text-anchor="middle" x="454.2437" y="-159.4" font-family="Arial" font-size="14.00" fill="#000000">triangulo : Punto2D[3]</text>
</g>
<!-- t1 -->
<g id="node1" class="node">
<title>t1</title>
<ellipse fill="none" stroke="#000000" cx="40.1218" cy="-80" rx="40.2441" ry="40.2441"/>
<text text-anchor="middle" x="40.1218" y="-75.8" font-family="Arial" font-size="14.00" fill="#000000">triangulo</text>
</g>
<!-- ot1 -->
<g id="node2" class="node">
<title>ot1</title>
<text text-anchor="start" x="230.3524" y="-124.4" font-family="Arial" font-size="14.00" fill="#c0c0c0">0</text>
<text text-anchor="start" x="450.3524" y="-124.4" font-family="Arial" font-size="14.00" fill="#c0c0c0">1</text>
<text text-anchor="start" x="670.3524" y="-124.4" font-family="Arial" font-size="14.00" fill="#0000ff">2</text>
<polygon fill="none" stroke="#000000" points="124.2437,-20 124.2437,-119 344.2437,-119 344.2437,-20 124.2437,-20"/>
<polygon fill="none" stroke="#000000" points="127.2437,-23 127.2437,-116 218.2437,-116 218.2437,-23 127.2437,-23"/>
<text text-anchor="start" x="138.1231" y="-65.3" font-family="Arial" font-size="14.00" fill="#000000">triangulo[0]</text>
<polygon fill="none" stroke="#000000" points="218.2437,-78 218.2437,-116 341.2437,-116 341.2437,-78 218.2437,-78"/>
<text text-anchor="start" x="229.168" y="-92.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Punto2D &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="218.2437,-23 218.2437,-78 341.2437,-78 341.2437,-23 218.2437,-23"/>
<text text-anchor="start" x="245.6971" y="-54.4" font-family="Arial" font-size="14.00" fill="#000000">X = 0.0d</text>
<text text-anchor="start" x="245.6971" y="-37.6" font-family="Arial" font-size="14.00" fill="#000000">Y = 0.0d &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="344.2437,-20 344.2437,-119 564.2437,-119 564.2437,-20 344.2437,-20"/>
<polygon fill="none" stroke="#000000" points="347.2437,-23 347.2437,-116 438.2437,-116 438.2437,-23 347.2437,-23"/>
<text text-anchor="start" x="358.1231" y="-65.3" font-family="Arial" font-size="14.00" fill="#000000">triangulo[1]</text>
<polygon fill="none" stroke="#000000" points="438.2437,-78 438.2437,-116 561.2437,-116 561.2437,-78 438.2437,-78"/>
<text text-anchor="start" x="449.168" y="-92.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Punto2D &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="438.2437,-23 438.2437,-78 561.2437,-78 561.2437,-23 438.2437,-23"/>
<text text-anchor="start" x="465.6971" y="-54.4" font-family="Arial" font-size="14.00" fill="#000000">X = 0.0d</text>
<text text-anchor="start" x="465.6971" y="-37.6" font-family="Arial" font-size="14.00" fill="#000000">Y = 0.0d &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="564.2437,-20 564.2437,-119 784.2437,-119 784.2437,-20 564.2437,-20"/>
<polygon fill="none" stroke="#000000" points="567.2437,-23 567.2437,-116 658.2437,-116 658.2437,-23 567.2437,-23"/>
<text text-anchor="start" x="578.1231" y="-65.3" font-family="Arial" font-size="14.00" fill="#0000ff">triangulo[2]</text>
<polygon fill="none" stroke="#000000" points="658.2437,-75 658.2437,-116 781.2437,-116 781.2437,-75 658.2437,-75"/>
<text text-anchor="start" x="669.168" y="-91.3" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Punto2D &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="658.2437,-23 658.2437,-75 781.2437,-75 781.2437,-23 658.2437,-23"/>
<text text-anchor="start" x="685.6971" y="-51.4" font-family="Arial" font-size="14.00" fill="#0000ff">X = 4.0d</text>
<text text-anchor="start" x="685.6971" y="-37.4" font-family="Arial" font-size="14.00" fill="#0000ff">Y = 4.0d</text>
<text text-anchor="start" x="738.2279" y="-37.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- t1&#45;&gt;ot1 -->
<g id="edge1" class="edge">
<title>t1-&gt;ot1</title>
<path fill="none" stroke="#000000" d="M80.5836,-80C88.2062,-80 96.713,-80 105.934,-80"/>
<polygon fill="#000000" stroke="#000000" points="98.2438,-83.5004 108.2437,-80 98.2435,-76.5004 98.2438,-83.5004"/>
</g>
</g>
</svg>
</p><blockquote>
<p>&#x270B; Recordemos del <strong>tema 5</strong>, que si <strong><code>Punto2D</code></strong> fuese un tipo referencia, despu&#xE9;s de ejecutar <strong><code>Punto2D triangulo[] = new Punto2D[3];</code></strong> tendr&#xED;amos un array con tres referencias a objetos <strong><code>Punto2D</code></strong> a <strong>null</strong>.</p>
</blockquote>
<h4 class="mume-header" id="definiendo-operaciones-inmutables-en-el-objeto-valor">Definiendo operaciones inmutables en el objeto valor</h4>

<p>Supongamos que queremos definir una operaci&#xF3;n que desplace un punto una dist&#xE1;ncia y un &#xE1;ngulo en el plano.<br>
Puesto que el m&#xE9;todo, no puede cambiar el estado del punto, devolver&#xE1; un nuevo punto, donde se habr&#xE1; aplicado el desplazamiento.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">struct</span> Punto2D
<span class="token punctuation">{</span>
    <span class="token comment">// C&#xF3;digo omitido para abreviar...</span>
    <span class="token keyword">public</span> <span class="token class-name">Punto2D</span> <span class="token function">Desplaza</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token keyword">double</span> distancia<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">double</span> anguloGrados<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">double</span> anguloRadianes <span class="token operator">=</span> anguloGrados <span class="token operator">*</span> Math<span class="token punctuation">.</span>PI <span class="token operator">/</span> <span class="token number">180</span>d<span class="token punctuation">;</span>
        <span class="token keyword">double</span> fila <span class="token operator">=</span> Y <span class="token operator">+</span> distancia <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Sin</span><span class="token punctuation">(</span>angulo<span class="token punctuation">.</span>Radianes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">double</span> columna <span class="token operator">=</span> X <span class="token operator">+</span> distancia <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Cos</span><span class="token punctuation">(</span>angulo<span class="token punctuation">.</span>Radianes<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Creamos la estructura y devolveremos una COPIA.</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Punto2D</span><span class="token punctuation">(</span>fila<span class="token punctuation">,</span> columna<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<blockquote>
<p><strong>&#x1F393; Caso de estudio</strong></p>
<p>Supongamos que queremos definir un tipo valor para los &#xE1;ngulos y as&#xED; no tener que especificar las unidades.</p>
<ul>
<li>Internamente guardar&#xE1; el valor del &#xE1;ngulo en grados (entero) y en radianes (double).</li>
<li>Definir&#xE9; un constructor que me los cree a partir de un valor en grados.</li>
<li>Un m&#xE9;todo <strong><code>Suma</code></strong> que a partir de un valor en grados lo sume y me devuelva un nuevo valor de &#xE1;ngulo.</li>
<li>Finalmente usa el tipo en <strong><code>Punto2D</code></strong> y has un peque&#xF1;o programa de prueba.</li>
</ul>
<p><strong>Nota:</strong> Intenta realizar la implementaci&#xF3;n antes des ver la siguiente propuesta de soluci&#xF3;n...</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="147.4286px" preserveAspectRatio="none" style="width:204px;height:147px;" version="1.1" viewBox="0 0 204 147" width="204.5714px" zoomAndPan="magnify"><defs><filter height="300%" id="fuhnlyevl1kts" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.2857142857142856"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.571428571428571" dy="4.571428571428571" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[e1f7f799a76b240ff62c27f9c3cea7dc]
class Angulo--><rect fill="#FFFAFA" filter="url(#fuhnlyevl1kts)" height="127.4643" id="Angulo" style="stroke: #000000; stroke-width: 1.7142857142857142;" width="184" x="8" y="8"/><ellipse cx="59.1429" cy="30.9643" fill="#FF7700" rx="12.5714" ry="12.5714" style="stroke: #000000; stroke-width: 1.1428571428571428;"/><path d="M56.3393,34.7321 L56.3393,27.125 Q55.7143,27.1071 55.4107,26.8393 Q55.125,26.5714 55.125,26.1429 Q55.125,25.7143 55.4286,25.4464 Q55.7321,25.1786 56.4286,25.1786 L60.5,25.1786 Q61.4464,25.1786 62.3571,25.5357 Q63.2679,25.875 63.8214,26.4286 Q64.2321,26.8393 64.6786,27.5536 Q65.125,28.25 65.3571,28.9643 Q65.5893,29.6607 65.5893,30.6786 L65.5893,31.6071 Q65.5893,32.8393 65.1607,33.8036 Q64.75,34.75 64.0714,35.3571 Q63.3929,35.9464 62.8036,36.2321 Q61.8571,36.6786 60.3393,36.6786 L56.4286,36.6786 Q55.7321,36.6786 55.4286,36.4107 Q55.125,36.1429 55.125,35.6964 Q55.125,35.2679 55.4286,35 Q55.7321,34.7321 56.3393,34.7321 Z M58.2857,34.7321 L60.3571,34.7321 Q61.5,34.7321 62.0893,34.3929 Q62.8571,33.9643 63.25,33.3036 Q63.6429,32.625 63.6429,31.5536 L63.6429,30.625 Q63.6429,29.7143 63.2857,29.0179 Q62.7321,27.9286 62.0357,27.5357 Q61.3571,27.125 60.3393,27.125 L58.2857,27.125 L58.2857,34.7321 Z "/><text fill="#000000" font-family="sans-serif" font-size="13.7143" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76.5714" x="80.2857" y="27.9509">&#xAB;DataType&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="13.7143" lengthAdjust="spacingAndGlyphs" textLength="43.4286" x="96.8571" y="45.2009">Angulo</text><line style="stroke: #000000; stroke-width: 1.7142857142857142;" x1="9.1429" x2="190.8571" y1="53.9286" y2="53.9286"/><text fill="#000000" font-family="sans-serif" font-size="12.5714" lengthAdjust="spacingAndGlyphs" textLength="133.7143" x="14.8571" y="71.5502">+Grados : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.5714" lengthAdjust="spacingAndGlyphs" textLength="168" x="14.8571" y="87.3627">+Radianes : double {readOnly}</text><line style="stroke: #000000; stroke-width: 1.7142857142857142;" x1="9.1429" x2="190.8571" y1="94.6964" y2="94.6964"/><text fill="#000000" font-family="sans-serif" font-size="12.5714" lengthAdjust="spacingAndGlyphs" textLength="129.1429" x="14.8571" y="112.3181">+Angulo(in grados : int)</text><text fill="#000000" font-family="sans-serif" font-size="12.5714" lengthAdjust="spacingAndGlyphs" textLength="170.2857" x="14.8571" y="128.1306">+Suma(in grados : int) : Angulo</text><!--MD5=[c1201815f813f9c7281ed174ecc38ff4]
@startuml
left to right direction
scale 200 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

class Angulo <<(D,#FF7700) DataType>>
{
    + Grados : int {readOnly}
    + Radianes : double {readOnly}
    + Angulo(in grados : int)
    + Suma(in grados : int) : Angulo
}

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">namespace</span> ObjetosValor <span class="token punctuation">{</span>
    <span class="token keyword">struct</span> Angulo <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token keyword">readonly</span> <span class="token keyword">int</span> Grados<span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token keyword">readonly</span> <span class="token keyword">double</span> Radianes<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">Angulo</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token keyword">int</span> grados<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">const</span> <span class="token keyword">int</span> GRADOS_TOTALES <span class="token operator">=</span> <span class="token number">360</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> gr <span class="token operator">=</span> grados <span class="token operator">%</span> GRADOS_TOTALES<span class="token punctuation">;</span>
            gr <span class="token operator">=</span> gr <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">?</span> gr <span class="token operator">+</span> GRADOS_TOTALES <span class="token punctuation">:</span> gr<span class="token punctuation">;</span>
            Grados <span class="token operator">=</span> gr<span class="token punctuation">;</span>
            Radianes <span class="token operator">=</span> Grados <span class="token operator">*</span> Math<span class="token punctuation">.</span>PI <span class="token operator">/</span> <span class="token number">180</span>d<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token class-name">Angulo</span> <span class="token function">Suma</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token keyword">int</span> grados<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Angulo</span><span class="token punctuation">(</span>Grados <span class="token operator">+</span> grados<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">struct</span> Punto2D <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token keyword">readonly</span> <span class="token keyword">double</span> X<span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token keyword">readonly</span> <span class="token keyword">double</span> Y<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">Punto2D</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token keyword">double</span> x<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">double</span> y<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Y <span class="token operator">=</span> y<span class="token punctuation">;</span>
            X <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token class-name">Punto2D</span> <span class="token function">Desplaza</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token keyword">double</span> distancia<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token class-name">Angulo</span> angulo<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">double</span> fila <span class="token operator">=</span> Y <span class="token operator">+</span> distancia <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Sin</span><span class="token punctuation">(</span>angulo<span class="token punctuation">.</span>Radianes<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">double</span> columna <span class="token operator">=</span> X <span class="token operator">+</span> distancia <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Cos</span><span class="token punctuation">(</span>angulo<span class="token punctuation">.</span>Radianes<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Punto2D</span><span class="token punctuation">(</span>fila<span class="token punctuation">,</span> columna<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> $<span class="token string">&quot;({X:G2} - {Y:G2})&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Principal</span> <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Angulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Angulo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Punto2D</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Punto2D</span><span class="token punctuation">(</span><span class="token number">4</span>d<span class="token punctuation">,</span> <span class="token number">4</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Punto2D</span> p2 <span class="token operator">=</span> p1<span class="token punctuation">;</span>
            <span class="token class-name">Punto2D</span> p3 <span class="token operator">=</span> p2<span class="token punctuation">.</span><span class="token function">Desplaza</span><span class="token punctuation">(</span><span class="token number">4</span>d<span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">Suma</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;a = {a.Grados} grados&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;p1 = &quot;</span> <span class="token operator">+</span> p1<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;p2 = &quot;</span> <span class="token operator">+</span> p2<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;p3 = &quot;</span> <span class="token operator">+</span> p3<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></blockquote>
<div style="page-break-after:always;"></div>
<blockquote>
<p><strong>&#x1F393; Caso de estudio</strong></p>
<p>Vamos a definir una clase para modelar un <strong>ISBN</strong></p>
<ul>
<li>
<p>Un ISBN es un c&#xF3;digo normalizado internacional para libros *(<strong>International Standard Book Number</strong>)&gt; *.</p>
</li>
<li>
<p>Los ISBN tuvieron 10 d&#xED;gitos hasta diciembre de 2006 pero, desde enero de 2007, <strong>tienen siempre 13 &gt; d&#xED;gitos</strong> que se corresponden con los n&#xFA;meros del c&#xF3;digo de barras <strong>EAN13</strong><br>
(<em>c&#xF3;digo de barras de 13 d&#xED;gitos</em>).</p>
</li>
<li>
<p>Se calculan utilizando una f&#xF3;rmula matem&#xE1;tica espec&#xED;fica e incluyen un d&#xED;gito de control que valida &gt; el c&#xF3;digo.</p>
</li>
<li>
<p>Cada ISBN <strong>se compone de 5 elementos separados entre s&#xED;</strong> por un espacio o un guion. Tres de los  cinco elementos pueden variar en longitud:</p>
<ol>
<li>
<p><strong>Prefijo</strong>: Actualmente s&#xF3;lo pueden ser <strong>978</strong> o <strong>979</strong>. Siempre tiene 3 d&#xED;gitos de longitud.</p>
</li>
<li>
<p><strong>Grupo de registro</strong>: Identifica a un determinado pa&#xED;s, una regi&#xF3;n geogr&#xE1;fica o un &#xE1;rea &gt; ling&#xFC;&#xED;stica que participan en el sistema ISBN. Este elemento <strong>puede tener entre 1 y 5 d&#xED;gitos</strong> de longitud.</p>
</li>
<li>
<p><strong>Titular</strong>: Identifica a un determinado editor o a un sello editorial. Puede tener <strong>hasta 7 d&#xED;gitos</strong> de longitud.</p>
</li>
<li>
<p><strong>Publicaci&#xF3;n</strong>: Identifica una determinada edici&#xF3;n y formato de un determinado t&#xED;tulo. Puede  ser de <strong>hasta 6 d&#xED;gitos</strong> de longitud. Adem&#xE1;s, este elemento se rellenar&#xE1; con ceros por la izquierda si el ISBN no alcanzase los 13 d&#xED;gitos.</p>
</li>
<li>
<p><strong>D&#xED;gito de control</strong>: Es siempre el &#xFA;ltimo y &#xFA;nico d&#xED;gito que valida matem&#xE1;ticamente al resto  del n&#xFA;mero. Se calcula utilizando <strong>el sistema de m&#xF3;dulo 10 con pesos alternativos de 1 y 3</strong>.</p>
<p><strong>Ejemplo:</strong> Para el ISBN <strong>978-1-78528-144</strong> el DC se calcular&#xE1;.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp">suma  <span class="token operator">=</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">7</span> <span class="token operator">+</span> <span class="token number">8</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">4</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">=</span> 
      <span class="token operator">=</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">21</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">7</span> <span class="token operator">+</span> <span class="token number">24</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">=</span> <span class="token number">110</span>
resto <span class="token operator">=</span> suma <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">=</span> <span class="token number">110</span> <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">=</span> <span class="token number">0</span>
dc <span class="token operator">=</span> resto <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">?</span> <span class="token number">10</span> <span class="token operator">-</span> resto<span class="token punctuation">;</span>
</pre></li>
</ol>
</li>
<li>
<p>A la hora de modelar una clase para el ISBN, podr&#xED;amos definirla como un tipo referencia mediante &gt; class (siempre es buena opci&#xF3;n) o como un tipo valor mediante un struct pues cumple con los requisitos para ello, sobre todo, que una vez establecido no va a cambiar de estado. En nuestro caso, los campos &gt; que definir&#xE1;n los elementos del ISBN los vamos a definir como cadenas y va a ser un tipo referencia.</p>
</li>
<li>
<p><strong>Nota:</strong> Vamos a obviar definir los accesores o getters para simplificar.</p>
</li>
<li>
<p>Una aproximaci&#xF3;n preliminar al dise&#xF1;o de nuestra clase podr&#xED;a ser la siguiente:</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="232.2738px" preserveAspectRatio="none" style="width:504px;height:232px;" version="1.1" viewBox="0 0 504 232" width="504.89px" zoomAndPan="magnify"><defs><filter height="300%" id="f1x0ptwg4bokrd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.444987775061125"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.88997555012225" dy="4.88997555012225" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[607c379646cef37c27302f4c529b61dc]
class Isbn13--><rect fill="#FFFAFA" filter="url(#f1x0ptwg4bokrd)" height="210.9088" id="Isbn13" style="stroke: #000000; stroke-width: 1.8337408312958436;" width="482.8851" x="8.5575" y="8.5575"/><ellipse cx="221.577" cy="28.1174" fill="#ADD1B2" rx="13.4474" ry="13.4474" style="stroke: #000000; stroke-width: 1.2224938875305624;"/><path d="M224.958,23.0746 Q225.149,22.8072 225.3782,22.6734 Q225.6074,22.5397 225.8748,22.5397 Q226.3333,22.5397 226.6198,22.8645 Q226.9063,23.1701 226.9063,23.915 L226.9063,25.6915 Q226.9063,26.4364 226.6198,26.7612 Q226.3333,27.0859 225.8748,27.0859 Q225.4546,27.0859 225.2063,26.8376 Q224.958,26.6083 224.8243,25.978 Q224.767,25.5387 224.5377,25.3094 Q224.1366,24.851 223.3917,24.5836 Q222.6467,24.3162 221.8826,24.3162 Q220.9467,24.3162 220.1635,24.7173 Q219.3994,25.1184 218.7882,26.0353 Q218.1961,26.9522 218.1961,28.2129 L218.1961,29.55 Q218.1961,31.059 219.2848,32.0714 Q220.3736,33.0646 222.322,33.0646 Q223.4681,33.0646 224.2703,32.759 Q224.7479,32.568 225.2636,32.0332 Q225.5883,31.7084 225.7602,31.6129 Q225.9513,31.5174 226.1996,31.5174 Q226.6007,31.5174 226.9063,31.8421 Q227.2311,32.1478 227.2311,32.568 Q227.2311,32.9882 226.8108,33.4849 Q226.1996,34.1916 225.2254,34.5928 Q223.9074,35.1467 222.322,35.1467 Q220.4691,35.1467 218.9983,34.3826 Q217.7949,33.7714 216.9545,32.4725 Q216.114,31.1545 216.114,29.5882 L216.114,28.1747 Q216.114,26.551 216.859,25.1566 Q217.623,23.7431 218.9601,22.9982 Q220.2972,22.2341 221.8062,22.2341 Q222.704,22.2341 223.4872,22.4442 Q224.2894,22.6352 224.958,23.0746 Z "/><text fill="#000000" font-family="sans-serif" font-size="14.6699" lengthAdjust="spacingAndGlyphs" textLength="46.4548" x="246.6381" y="34.12">Isbn13</text><line style="stroke: #000000; stroke-width: 1.8337408312958436;" x1="9.78" x2="490.22" y1="47.6773" y2="47.6773"/><text fill="#000000" font-family="sans-serif" font-size="13.4474" lengthAdjust="spacingAndGlyphs" textLength="152.8117" x="15.8924" y="66.5268">-prefijo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="13.4474" lengthAdjust="spacingAndGlyphs" textLength="215.1589" x="15.8924" y="83.4412">-grupoDeRegistro : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="13.4474" lengthAdjust="spacingAndGlyphs" textLength="147.9218" x="15.8924" y="100.3555">-titular : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="13.4474" lengthAdjust="spacingAndGlyphs" textLength="182.1516" x="15.8924" y="117.2699">-publicacion : string {readOnly}</text><line style="stroke: #000000; stroke-width: 1.8337408312958436;" x1="9.78" x2="490.22" y1="125.1146" y2="125.1146"/><text fill="#000000" font-family="sans-serif" font-size="13.4474" lengthAdjust="spacingAndGlyphs" textLength="468.2152" x="15.8924" y="143.9642">+Isbn13(in prefijo : int, in grupoDeRegistro : int, in titular : int, on publicacion : int)</text><text fill="#000000" font-family="sans-serif" font-size="13.4474" lengthAdjust="spacingAndGlyphs" textLength="152.8117" x="15.8924" y="160.8785">+Isbn13(in isbn13 : string)</text><text fill="#000000" font-family="sans-serif" font-size="13.4474" lengthAdjust="spacingAndGlyphs" textLength="144.2543" x="15.8924" y="177.7929">+Isbn13(in isbn : Isbn13)</text><text fill="#000000" font-family="sans-serif" font-size="13.4474" lengthAdjust="spacingAndGlyphs" textLength="130.8068" x="15.8924" y="194.7072">+DigitoDeControl() : int</text><text fill="#000000" font-family="sans-serif" font-size="13.4474" lengthAdjust="spacingAndGlyphs" textLength="222.4939" x="15.8924" y="211.6216">+ATexto(in separador : string) : string</text><!--MD5=[7bcfdb4bb0cd6c504c5d1a26491f18e3]
@startuml

left to right direction
scale 500 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

class Isbn13
{
    - prefijo : string {readOnly}
    - grupoDeRegistro : string {readOnly}
    - titular : string {readOnly}
    - publicacion : string {readOnly}

    + Isbn13(in prefijo : int, in grupoDeRegistro : int, in titular : int, on publicacion : int)
    + Isbn13(in isbn13 : string)
    + Isbn13(in isbn : Isbn13)
    + DigitoDeControl() : int
    + ATexto(in separador : string) : string
}
@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p>Definiremos <strong>tres</strong> constructores:</p>
<ul>
<li>
<p>Uno que reciba los cuatro elementos que definen el ISBN en forma de enteros sin el DC.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Isbn13</span> isbn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Isbn13</span><span class="token punctuation">(</span><span class="token string">&quot;978-1-78528-144-0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Isbn13</span> isbn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Isbn13</span><span class="token punctuation">(</span><span class="token string">&quot;978 1 78528 144 0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Isbn13</span> isbn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Isbn13</span><span class="token punctuation">(</span><span class="token string">&quot;9781785281440&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></li>
<li>
<p>Otro que reciba el ISBN como cadena.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Isbn13</span> isbn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Isbn13</span><span class="token punctuation">(</span><span class="token number">978</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">78528</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></li>
<li>
<p>Por &#xFA;ltimo un constructor copia.</p>
</li>
</ul>
</li>
</ul>
<p>&#x270B; <strong>&#xBF;Ser&#xED;as capaz de implementar la clase propuesta?</strong></p>
<p>Si no se te ocurre nada. Puedes consultar la <strong>propuesta de soluci&#xF3;n comentada</strong> en la siguiente p&#xE1;gina y despu&#xE9;s volver a intentarlo</p>
</blockquote>
<div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Isbn13</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definimos como constantes privadas y de clase todos aquellos valores que vamos a utilizar para</span>
    <span class="token comment">// comprobaciones de los rangos de valores de los campos y as&#xED; no utilizar &apos;N&#xFA;meros M&#xE1;gicos&apos;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> PREFIJOS <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token number">978</span><span class="token punctuation">,</span> <span class="token number">979</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">const</span> <span class="token keyword">int</span> MAX_LONGITUD_GRUPO <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">const</span> <span class="token keyword">int</span> MAX_LONGITUD_TITULAR <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">const</span> <span class="token keyword">int</span> MAX_LONGITUD_PUBLICACION <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">const</span> <span class="token keyword">int</span> LONGITUD_ISBN <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>

    <span class="token comment">// Definici&#xF3;n de los campos que guardan los elementos del ISBN.</span>
    <span class="token comment">// Son de solo lectura y string, para preservar ceros por la izquierda y evitar desbordamientos de tipo.</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">string</span> prefijo<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">string</span> grupoDeRegistro<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">string</span> titular<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">string</span> publicacion<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Isbn13</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token keyword">int</span> prefijo<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">int</span> grupoDeRegistro<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">int</span> titular<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">int</span> publicacion<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Comprobamos que el prefijo est&#xE9; entre los prefijos v&#xE1;lidos,</span>
        <span class="token comment">// en caso contr&#xE1;rio generamos un error y finalizamos la creaci&#xF3;n del objeto.</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>prefijo <span class="token operator">=</span> prefijo<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">IndexOf</span><span class="token punctuation">(</span>PREFIJOS<span class="token punctuation">,</span> prefijo<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ArgumentException</span><span class="token punctuation">(</span>$<span class="token string">&quot;El prefijo {prefijo} no es v&#xE1;lido.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Comprobamos que la longitud de los campos no supere la especificada,</span>
        <span class="token comment">// en caso contr&#xE1;rio generamos un error y finalizamos la creaci&#xF3;n del objeto.</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>grupoDeRegistro <span class="token operator">=</span> grupoDeRegistro<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>grupoDeRegistro<span class="token punctuation">.</span>Length <span class="token operator">&gt;</span> MAX_LONGITUD_PUBLICACION<span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ArgumentException</span><span class="token punctuation">(</span>$<span class="token string">&quot;El grupo de registro {grupoDeRegistro} es demasiado largo.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>titular <span class="token operator">=</span> titular<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>titular<span class="token punctuation">.</span>Length <span class="token operator">&gt;</span> MAX_LONGITUD_PUBLICACION<span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ArgumentException</span><span class="token punctuation">(</span>$<span class="token string">&quot;El titular {titular} es demasiado largo.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>publicacion <span class="token operator">=</span> publicacion<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>publicacion<span class="token punctuation">.</span>Length <span class="token operator">&gt;</span> MAX_LONGITUD_PUBLICACION<span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ArgumentException</span><span class="token punctuation">(</span>$<span class="token string">&quot;La publicacion {publicacion} es demasiado larga.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Obtenemos la diferencia de longitud con un c&#xF3;digo de 13 d&#xED;gitos sin contar el d&#xED;gito de control.</span>
        <span class="token keyword">string</span> isbn <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> prefijo<span class="token punctuation">,</span> grupoDeRegistro<span class="token punctuation">,</span> titular<span class="token punctuation">,</span> publicacion<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> excesoLongitud <span class="token operator">=</span> isbn<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token punctuation">(</span>LONGITUD_ISBN <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si no llega a 12 rellenamos con ceros por la izquierda. </span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>excesoLongitud <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>publicacion <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>publicacion<span class="token punctuation">.</span><span class="token function">PadLeft</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>excesoLongitud<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>publicacion<span class="token punctuation">.</span>Length<span class="token punctuation">,</span> <span class="token string">&apos;0&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si es m&#xE1;s largo de 12 d&#xED;gitos generamos un error y finalizamos la creaci&#xF3;n del objeto.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>excesoLongitud <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ArgumentException</span><span class="token punctuation">(</span>$<span class="token string">&quot;El ISBN {isbn} esn demasiado largo.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">Isbn13</span><span class="token punctuation">(</span><span class="token keyword">string</span> isbn13<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Separadores posibles &apos; &apos;, &apos;-&apos; o nada.</span>
        <span class="token keyword">string</span> s <span class="token operator">=</span> <span class="token string">&quot;[ -]?&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo &quot;prefijo&quot;, con alternancia de los que haya en el array 978|979</span>
        <span class="token comment">// f&#xED;jate que el c&#xF3;digo es robusto pues est&#xE1; preparado para permitir futuros prefijos.</span>
        <span class="token keyword">string</span> erPrefijo <span class="token operator">=</span> $<span class="token string">&quot;(?&lt;prefijo&gt;{string.Join(&quot;</span><span class="token operator">|</span><span class="token string">&quot;, PREFIJOS)})&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo &quot;grupoDeRegistro&quot;, un valor entre 1 y MAX_LONGITUD_GRUPO d&#xED;gitos.</span>
        <span class="token keyword">string</span> erGrupoDeRegistro <span class="token operator">=</span> <span class="token string">@&quot;(?&lt;grupoDeRegistro&gt;\d{1,&quot;</span> <span class="token operator">+</span> MAX_LONGITUD_GRUPO <span class="token operator">+</span> <span class="token string">&quot;})&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo &quot;titular&quot;, un valor entre 1 y MAX_LONGITUD_TITULAR d&#xED;gitos.</span>
        <span class="token keyword">string</span> erTitular <span class="token operator">=</span> <span class="token string">@&quot;(?&lt;titular&gt;\d{1,&quot;</span> <span class="token operator">+</span> MAX_LONGITUD_TITULAR <span class="token operator">+</span> <span class="token string">&quot;})&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo &quot;publicacion&quot;, un valor entre 1 y MAX_LONGITUD_PUBLICACION d&#xED;gitos.</span>
        <span class="token keyword">string</span> erPublicacion <span class="token operator">=</span> <span class="token string">@&quot;(?&lt;publicacion&gt;\d{1,&quot;</span> <span class="token operator">+</span> MAX_LONGITUD_PUBLICACION <span class="token operator">+</span> <span class="token string">&quot;})&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// Defino el grupo &quot;dc&quot;, que contendr&#xE1; el d&#xED;gito de control.</span>
        <span class="token keyword">string</span> erDC <span class="token operator">=</span> <span class="token string">@&quot;(?&lt;dc&gt;\d)&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">// Intento ver si la entrada se corresponde con la expresi&#xF3;n para comprobar ISBN</span>
        <span class="token comment">// al dividir la expresi&#xF3;n esta queda m&#xE1;s legible y es por tanto hay menos posibilidad</span>
        <span class="token comment">// de cometer errores o ampliarla.</span>
        <span class="token class-name">Match</span> m <span class="token operator">=</span> Regex<span class="token punctuation">.</span><span class="token function">Match</span><span class="token punctuation">(</span>isbn13<span class="token punctuation">,</span> $<span class="token string">&quot;^({erPrefijo}{s}{erGrupoDeRegistro}{s}{erTitular}{s}{erPublicacion}{s}{erDC})$&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si no hay correspondencia generamos un error y finalizamos la creaci&#xF3;n del objeto.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>m<span class="token punctuation">.</span>Success<span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ArgumentException</span><span class="token punctuation">(</span>$<span class="token string">&quot;{isbn13} no es un valor v&#xE1;lido para un ISBN&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si hay correspondencia ya podremos extraer el valor de los grupos y rellenar los campos</span>
        <span class="token comment">// que definir&#xE1;n el objeto y el dc para comprobarlo.</span>
        prefijo <span class="token operator">=</span> m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;prefijo&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        grupoDeRegistro <span class="token operator">=</span> m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;grupoDeRegistro&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        titular <span class="token operator">=</span> m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;titular&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        publicacion <span class="token operator">=</span> m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;publicacion&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        <span class="token keyword">int</span> dc <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>Groups<span class="token punctuation">[</span><span class="token string">&quot;dc&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Si el ISBN cumple el formato pero m&#xE1;s el dc es menor que 13 </span>
        <span class="token comment">// generamos un error y finalizamos la creaci&#xF3;n del objeto.</span>
        <span class="token comment">// Nota: La llamada a this.ATexto(&quot;&quot;).Length no la podremos hacer si no hemos</span>
        <span class="token comment">// definido el valor de los campos.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length <span class="token operator">!=</span> LONGITUD_ISBN<span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ArgumentException</span><span class="token punctuation">(</span>$<span class="token string">&quot;El d&#xED;gito de control para {isbn13} deber&#xED;a ser un EAN13&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Calculamos cual deber&#xED;a ser el dc seg&#xFA;n el valor de los campos y lo comprobamos con el</span>
        <span class="token comment">// introducido. Si no coinciden, generamos un error y finalizamos la creaci&#xF3;n del objeto.</span>
        <span class="token keyword">int</span> dcCorrecto <span class="token operator">=</span> <span class="token function">DigitoDeControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>dc <span class="token operator">!=</span> dcCorrecto<span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ArgumentException</span><span class="token punctuation">(</span>$<span class="token string">&quot;El d&#xED;gito de control para {isbn13} deber&#xED;a ser {dcCorrecto} en lugar de {dc}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Constructor copia</span>
    <span class="token keyword">public</span> <span class="token function">Isbn13</span><span class="token punctuation">(</span><span class="token class-name">Isbn13</span> isbn<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        prefijo <span class="token operator">=</span> isbn<span class="token punctuation">.</span>prefijo<span class="token punctuation">;</span>
        grupoDeRegistro <span class="token operator">=</span> isbn<span class="token punctuation">.</span>grupoDeRegistro<span class="token punctuation">;</span>
        titular <span class="token operator">=</span> isbn<span class="token punctuation">.</span>titular<span class="token punctuation">;</span>
        publicacion <span class="token operator">=</span> isbn<span class="token punctuation">.</span>publicacion<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// C&#xE1;lculo del DC seg&#xFA;n las especificaciones.</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">DigitoDeControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">string</span> isbn <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> prefijo<span class="token punctuation">,</span> grupoDeRegistro<span class="token punctuation">,</span> titular<span class="token punctuation">,</span> publicacion<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">double</span> suma <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> isbn<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            suma <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>isbn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">double</span> resto <span class="token operator">=</span> suma <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> resto <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt32</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">-</span> resto<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Devuelvo el ISBN en formato de cadena, con el separador que me indiquen por par&#xE1;metro.</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token keyword">string</span> separador<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>separador<span class="token punctuation">,</span> prefijo<span class="token punctuation">,</span> grupoDeRegistro<span class="token punctuation">,</span> titular<span class="token punctuation">,</span> publicacion<span class="token punctuation">,</span> <span class="token function">DigitoDeControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h3 class="mume-header" id="ejemplo-de-objeto-valor-definido-en-las-bcl">Ejemplo de objeto valor definido en las BCL</h3>

<p>Uno de los objetos valor predefinidos en las BCL y que m&#xE1;s vamos usar, es el tipo de dato <strong>fecha</strong>: <a href="https://docs.microsoft.com/en-us/dotnet/api/system.datetime?view=netcore-3.1" target="_blank">System.DateTime</a></p>
<h4 class="mume-header" id="formas-de-instanciar-objetos-valor-fecha">Formas de instanciar objetos valor fecha</h4>

<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">DateTime</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 19/03/2020 a las 00:00:00</span>
<span class="token class-name">DateTime</span> f2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 19/03/2020 a las 8:30:00</span>
<span class="token class-name">DateTime</span> f3 <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Today<span class="token punctuation">;</span>                        <span class="token comment">// Hoy a las 00:00:00</span>
<span class="token class-name">DateTime</span> f4 <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">;</span>                          <span class="token comment">// Hoy a a la hora actual en mi zona horaria.</span>
<span class="token class-name">DateTime</span> f5 <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>UtcNow<span class="token punctuation">;</span>                       <span class="token comment">// Hoy a a la hora actual en zona UTC.</span>
</pre><h4 class="mume-header" id="operaciones-m%C3%A1s-comunes-con-fechas">Operaciones m&#xE1;s comunes con fechas</h4>

<p>Podemos usar todos los operadores de comparaci&#xF3;n <strong><code>==, != , &gt; , &lt;, &gt;= y &lt;=</code></strong></p>
<p>En las operaciones de suma <strong><code>+</code></strong> y resta <strong><code>-</code></strong>, interviene otro tipo de dato valor denominado <a href="https://docs.microsoft.com/en-us/dotnet/api/system.timespan?view=netcore-3.1" target="_blank">TimeSpan</a> que representar&#xE1; un periodo de tiempo que podremos representar en las siguiente magnitudes <strong><code>a&#xF1;os, meses, d&#xED;as, horas, minutos, segundos</code></strong> seg&#xFA;n la precisi&#xF3;n que necesitemos.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[4, 8]}" class="language-csharp" data-line="4,8"><span class="token class-name">DateTime</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">TimeSpan</span> periodo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TimeSpan</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Periodo de tiempo con precisi&#xF3;n de 25 d&#xED;as</span>

<span class="token class-name">DateTime</span> f2 <span class="token operator">=</span> f1 <span class="token operator">+</span> periodo<span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f5<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// Muestra 13/04/2020</span>

<span class="token comment">// Muestra Del 19/03/2020 al 13/04/2020 hay 25 d&#xED;as</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;Del {f1.ToShortDateString()} al {f2.ToShortDateString()} hay {(f2 - f1).Days} d&#xED;as&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">






<div aria-hidden="true" class="line-highlight" data-range="8" data-start="8">
</div></div></pre><p>Estas operaciones tambi&#xE9;n las podremos hacer, a trav&#xE9;s de diferentes m&#xE9;todos <strong><code>f.AddHours(...)</code></strong>, <strong><code>f.AddDays(...)</code></strong>, etc. y as&#xED; evitarnos usar <strong><code>TimeSpan</code></strong></p>
<pre data-role="codeBlock" data-info="csharp {highlight=5}" class="language-csharp" data-line="5"><span class="token class-name">DateTime</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">DateTime</span> f2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Recuerda el m&#xE9;todo no cambia el estado de f1, sino que devuelve un objeto valor fecha que copiamos en f3</span>
<span class="token class-name">DateTime</span> f3 <span class="token operator">=</span> f1<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">ToShortDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra 19/03/2020 (En Espa&#xF1;a)</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">ToLongDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra s&#xE1;bado, 1 de agosto de 2020 (En Espa&#xF1;a)</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f3<span class="token punctuation">.</span><span class="token function">ToLongDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra lunes, 13 de abril de 2020 (En Espa&#xF1;a)</span>
<div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5" data-start="5">
</div></div></pre><h4 class="mume-header" id="fechas-y-cadenas">Fechas y cadenas</h4>

<p>Una aproximaci&#xF3;n sencilla es usar las propiedades del objeto para dar el formato:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">DateTime</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;{f.Day:D2}-{f.Month:D2}-{f.Year:D4}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra 19-03-2020</span>
</pre><p>Pero el lenguaje provee una sintaxis especial para cadenas de fecha y hora personalizadas de DateTime a string y viceversa. Usaremos los siguientes <a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings" target="_blank">formatos definidos por el lenguaje</a>.</p>
<div style="page-break-after:always;"></div>
<p>Aqu&#xED; dispones un <strong>cuadro resumen</strong> de los principales formatos descritos en el enlace:</p>
<table>
<thead>
<tr>
<th>Formato</th>
<th>Descripci&#xF3;n</th>
<th>Formato</th>
<th>Descripci&#xF3;n</th>
</tr>
</thead>
<tbody>
<tr>
<td>d</td>
<td>D&#xED;a del mes con el m&#xED;nimo de d&#xED;gitos</td>
<td>/</td>
<td>Separador fecha seg&#xFA;n el pa&#xED;s</td>
</tr>
<tr>
<td>dd</td>
<td>D&#xED;a del mes con 2 d&#xED;gitos</td>
<td>gg</td>
<td>Indicar la era seg&#xFA;n el pa&#xED;s AC/DC</td>
</tr>
<tr>
<td>ddd</td>
<td>D&#xED;a de la semana abreviado seg&#xFA;n el pa&#xED;s</td>
<td>h</td>
<td>Hora de 0 a 12 horas</td>
</tr>
<tr>
<td>dddd</td>
<td>D&#xED;a de la semana completo seg&#xFA;n el pa&#xED;s</td>
<td>hh</td>
<td>Hora de 00 a 12 horas</td>
</tr>
<tr>
<td>M</td>
<td>Mes con el m&#xED;nimo de d&#xED;gitos</td>
<td>z</td>
<td>Indicador Zona Horaria</td>
</tr>
<tr>
<td>MM</td>
<td>Mes con 2 d&#xED;gitos</td>
<td>H</td>
<td>Hora de 0 a 23 horas</td>
</tr>
<tr>
<td>MMM</td>
<td>Nombre del mes abreviado seg&#xFA;n el pa&#xED;s</td>
<td>HH</td>
<td>Hora de 00 a 23 horas</td>
</tr>
<tr>
<td>MMMM</td>
<td>Nombre del mes completo seg&#xFA;n el pa&#xED;s</td>
<td>mm</td>
<td>Minutos con 2 d&#xED;gitos</td>
</tr>
<tr>
<td>yyyy</td>
<td>A&#xF1;o con 4 d&#xED;gitos</td>
<td>ss</td>
<td>Segundos con 2 d&#xED;gitos</td>
</tr>
</tbody>
</table>
<blockquote>
<p>&#x1F441; <strong>Nota</strong>: Aquellos caracteres que tienen un significado especial como <strong>d</strong>, <strong>h</strong>, <strong>M</strong>, etc. si queremos que se representen tal cual y no sean sustituidos por un valor de DateTime deberemos escaparlos con <strong><code>\\</code></strong>. Por ejemplo, <strong><code>\\d</code></strong> es el caracter <strong><code>d</code></strong> y no el d&#xED;a del mes en formato num&#xE9;rico.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">DateTime</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> DateTimeKind<span class="token punctuation">.</span>Utc<span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">&quot;dd-MM-yyyy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra: 19-03-2020</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">@&quot;dddd d \de MMMM \de yyyy a la\s H \hora\s UTCz&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra: jueves 19 de marzo de 2020 a las 19 horas UTC+0</span>
</pre><p>Tendremos tambi&#xE9;n la conversi&#xF3;n en sentido inverso si hacemos un Parse. Aunque en este &#xFA;ltimo caso tambi&#xE9;n podemos utilizar ER.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Introduce una fecha con formato (dd/MM/yyyy): &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">string</span> texto <span class="token operator">=</span> Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span><span class="token function">TryParseExact</span><span class="token punctuation">(</span>texto<span class="token punctuation">,</span> <span class="token string">&quot;dd/MM/yyyy&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
                                System<span class="token punctuation">.</span>Globalization<span class="token punctuation">.</span>DateTimeStyles<span class="token punctuation">.</span>AllowWhiteSpaces <span class="token operator">|</span>
                                System<span class="token punctuation">.</span>Globalization<span class="token punctuation">.</span>DateTimeStyles<span class="token punctuation">.</span>AdjustToUniversal<span class="token punctuation">,</span>
                                <span class="token keyword">out</span> <span class="token class-name">DateTime</span> fecha<span class="token punctuation">)</span><span class="token punctuation">)</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;Has introducido {fecha.ToShortDateString()}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;{texto} es un fecha incorrecta.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h2 class="mume-header" id="roles-entre-clases">Roles entre clases</h2>

<h3 class="mume-header" id="relaciones-todo-parte">Relaciones Todo-Parte</h3>

<ul>
<li>Suelen responder a la pregunta <strong>&#xBF;Tiene un ...?</strong></li>
<li>Este tipo de relaciones tambi&#xE9;n pueden tener <strong>cardinalidad</strong>.</li>
</ul>
<h4 class="mume-header" id="agregaci%C3%B3n-o-referencia">Agregaci&#xF3;n o referencia</h4>

<ul>
<li>Almacenaremos una <strong>referencia</strong> al objeto &apos;<em>original</em>&apos;.</li>
<li><strong>Es la relaci&#xF3;n todo-parte m&#xE1;s com&#xFA;n</strong>.</li>
<li>La agregaci&#xF3;n indica independencia de los objetos, esto significa que si desaparece el contenedor, no desaparece el agregado.</li>
<li>En el siguiente ejemplo diremos que: &apos;<em>1 clase <strong>Banco</strong> tendr&#xE1; de 0 a N <strong>Clientes</strong></em>&apos;.<br>
Pero al tratarse de una agregaci&#xF3;n, al desaparecer un objeto banco, no desaparecer&#xE1;n con &#xE9;l sus clientes.</li>
</ul>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="75.2613px" preserveAspectRatio="none" style="width:390px;height:75px;" version="1.1" viewBox="0 0 390 75" width="390.2439px" zoomAndPan="magnify"><defs><filter height="300%" id="f1246kkl26iisf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.7874564459930316"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.574912891986063" dy="5.574912891986063" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5ec1166386a94cbb37f572e8da5b9803]
class Banco--><rect fill="#FFFAFA" filter="url(#f1246kkl26iisf)" height="44.5993" id="Banco" style="stroke: #000000; stroke-width: 2.0905923344947737;" width="93.3798" x="8.3624" y="13.9373"/><ellipse cx="29.2683" cy="36.2369" fill="#ADD1B2" rx="15.331" ry="15.331" style="stroke: #000000; stroke-width: 1.3937282229965158;"/><path d="M33.1228,30.4878 Q33.3406,30.1829 33.6019,30.0305 Q33.8632,29.878 34.1681,29.878 Q34.6908,29.878 35.0174,30.2483 Q35.3441,30.5967 35.3441,31.446 L35.3441,33.4713 Q35.3441,34.3206 35.0174,34.6908 Q34.6908,35.061 34.1681,35.061 Q33.689,35.061 33.4059,34.7779 Q33.1228,34.5166 32.9704,33.7979 Q32.9051,33.297 32.6437,33.0357 Q32.1864,32.5131 31.3371,32.2082 Q30.4878,31.9033 29.6167,31.9033 Q28.5497,31.9033 27.6568,32.3606 Q26.7857,32.8179 26.0889,33.8632 Q25.4138,34.9085 25.4138,36.3458 L25.4138,37.8702 Q25.4138,39.5906 26.6551,40.7448 Q27.8963,41.8772 30.1176,41.8772 Q31.4242,41.8772 32.3389,41.5287 Q32.8833,41.311 33.4713,40.7012 Q33.8415,40.331 34.0375,40.2221 Q34.2552,40.1132 34.5383,40.1132 Q34.9956,40.1132 35.3441,40.4834 Q35.7143,40.8319 35.7143,41.311 Q35.7143,41.7901 35.2352,42.3563 Q34.5383,43.162 33.4277,43.6193 Q31.9251,44.2509 30.1176,44.2509 Q28.0052,44.2509 26.3284,43.3798 Q24.9564,42.6829 23.9983,41.2021 Q23.0401,39.6995 23.0401,37.9138 L23.0401,36.3023 Q23.0401,34.4512 23.8894,32.8615 Q24.7605,31.25 26.2848,30.4007 Q27.8092,29.5296 29.5296,29.5296 Q30.5531,29.5296 31.446,29.7692 Q32.3606,29.9869 33.1228,30.4878 Z "/><text fill="#000000" font-family="sans-serif" font-size="16.7247" lengthAdjust="spacingAndGlyphs" textLength="48.7805" x="48.7805" y="43.0804">Banco</text><!--MD5=[20a748d5ee336a9a91751b0a3d4f0beb]
class Cliente--><rect fill="#FFFAFA" filter="url(#f1246kkl26iisf)" height="44.5993" id="Cliente" style="stroke: #000000; stroke-width: 2.0905923344947737;" width="98.9547" x="275.9582" y="13.9373"/><ellipse cx="296.8641" cy="36.2369" fill="#ADD1B2" rx="15.331" ry="15.331" style="stroke: #000000; stroke-width: 1.3937282229965158;"/><path d="M300.7186,30.4878 Q300.9364,30.1829 301.1977,30.0305 Q301.4591,29.878 301.7639,29.878 Q302.2866,29.878 302.6132,30.2483 Q302.9399,30.5967 302.9399,31.446 L302.9399,33.4713 Q302.9399,34.3206 302.6132,34.6908 Q302.2866,35.061 301.7639,35.061 Q301.2848,35.061 301.0017,34.7779 Q300.7186,34.5166 300.5662,33.7979 Q300.5009,33.297 300.2395,33.0357 Q299.7822,32.5131 298.9329,32.2082 Q298.0836,31.9033 297.2125,31.9033 Q296.1455,31.9033 295.2526,32.3606 Q294.3815,32.8179 293.6847,33.8632 Q293.0096,34.9085 293.0096,36.3458 L293.0096,37.8702 Q293.0096,39.5906 294.2509,40.7448 Q295.4922,41.8772 297.7134,41.8772 Q299.02,41.8772 299.9347,41.5287 Q300.4791,41.311 301.0671,40.7012 Q301.4373,40.331 301.6333,40.2221 Q301.851,40.1132 302.1341,40.1132 Q302.5915,40.1132 302.9399,40.4834 Q303.3101,40.8319 303.3101,41.311 Q303.3101,41.7901 302.831,42.3563 Q302.1341,43.162 301.0235,43.6193 Q299.5209,44.2509 297.7134,44.2509 Q295.601,44.2509 293.9242,43.3798 Q292.5523,42.6829 291.5941,41.2021 Q290.6359,39.6995 290.6359,37.9138 L290.6359,36.3023 Q290.6359,34.4512 291.4852,32.8615 Q292.3563,31.25 293.8807,30.4007 Q295.4051,29.5296 297.1254,29.5296 Q298.149,29.5296 299.0418,29.7692 Q299.9564,29.9869 300.7186,30.4878 Z "/><text fill="#000000" font-family="sans-serif" font-size="16.7247" lengthAdjust="spacingAndGlyphs" textLength="54.3554" x="316.3763" y="43.0804">Cliente</text><!--MD5=[c4a076b3d4c0d5626686ca398df8b184]
reverse link Banco to Cliente--><path d="M120.5187,36.2369 C168.2035,36.2369 232.2843,36.2369 275.7087,36.2369 " fill="none" id="Banco&lt;-Cliente" style="stroke: #000000; stroke-width: 1.3937282229965158;"/><polygon fill="#FFFFFF" points="101.84,36.2369,110.2024,41.8118,118.5647,36.2369,110.2024,30.662,101.84,36.2369" style="stroke: #000000; stroke-width: 1.3937282229965158;"/><text fill="#000000" font-family="sans-serif" font-size="18.1185" lengthAdjust="spacingAndGlyphs" textLength="87.8049" x="144.9477" y="31.3521">agregaci&#xF3;n</text><text fill="#000000" font-family="sans-serif" font-size="18.1185" lengthAdjust="spacingAndGlyphs" textLength="9.7561" x="113.1419" y="57.5381">1</text><text fill="#000000" font-family="sans-serif" font-size="18.1185" lengthAdjust="spacingAndGlyphs" textLength="30.662" x="234.2715" y="56.9327">0..n</text><!--MD5=[fccf31f38618bd5a9f626b4eeeaf626f]
@startuml
left to right direction
scale 400 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide methods
hide attributes
Banco "1" o- - "0..n" Cliente : agregación

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><h5 class="mume-header" id="ventajas-de-la-agregaci%C3%B3n-1">Ventajas de la agregaci&#xF3;n &#x1F44D;</h5>

<ul>
<li>Ahorramos memoria.</li>
<li>Al compartirse la referencia al mismo objeto, mantendremos la integridad referencial.</li>
<li>Mejor manejo de objetos complejos.</li>
<li>Los objetos solo se crean cuando se necesitan.</li>
</ul>
<h5 class="mume-header" id="desventajas-de-la-agregaci%C3%B3n-1">Desventajas de la agregaci&#xF3;n &#x1F44E;</h5>

<ul>
<li>Sobre todo en lenguajes no gestionados como C++. Se puede producir un efecto de <strong>Aliasing</strong>, si destruimos el objeto agregado.</li>
</ul>
<h4 class="mume-header" id="composici%C3%B3n-o-subobjetos">Composici&#xF3;n o subobjetos</h4>

<ul>
<li>Almacenaremos un <strong>objeto valor</strong> o una referencia a una <strong>copia</strong> del objeto &apos;<em>original</em>&apos;.</li>
<li>La composici&#xF3;n indica dependencia de los objetos, esto significa que si desaparece el contenedor, desaparece el subobjeto.</li>
<li>En el siguiente ejemplo diremos que: &apos;<em>1 clase <strong>Banco</strong> tendr&#xE1; de 1 a N <strong>Sucursales</strong></em>&apos;.<br>
Pero al tratarse de una composici&#xF3;n, al desaparecer un objeto banco,  desaparecer&#xE1;n con &#xE9;l sus sucursales.</li>
</ul>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="74.7557px" preserveAspectRatio="none" style="width:415px;height:74px;" version="1.1" viewBox="0 0 415 74" width="415.3094px" zoomAndPan="magnify"><defs><filter height="300%" id="f17f80ejomgwjt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.768729641693811"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.537459283387622" dy="5.537459283387622" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5ec1166386a94cbb37f572e8da5b9803]
class Banco--><rect fill="#FFFAFA" filter="url(#f17f80ejomgwjt)" height="44.2997" id="Banco" style="stroke: #000000; stroke-width: 2.076547231270358;" width="92.7524" x="8.3062" y="13.8436"/><ellipse cx="29.0717" cy="35.9935" fill="#ADD1B2" rx="15.228" ry="15.228" style="stroke: #000000; stroke-width: 1.3843648208469055;"/><path d="M32.9003,30.283 Q33.1166,29.9802 33.3762,29.8287 Q33.6357,29.6773 33.9386,29.6773 Q34.4577,29.6773 34.7822,30.045 Q35.1066,30.3911 35.1066,31.2347 L35.1066,33.2464 Q35.1066,34.09 34.7822,34.4577 Q34.4577,34.8254 33.9386,34.8254 Q33.4627,34.8254 33.1815,34.5442 Q32.9003,34.2847 32.7489,33.5708 Q32.684,33.0733 32.4244,32.8138 Q31.9702,32.2946 31.1266,31.9918 Q30.283,31.689 29.4178,31.689 Q28.3578,31.689 27.471,32.1432 Q26.6058,32.5975 25.9136,33.6357 Q25.243,34.674 25.243,36.1016 L25.243,37.6158 Q25.243,39.3246 26.476,40.471 Q27.7089,41.5958 29.9153,41.5958 Q31.2131,41.5958 32.1216,41.2497 Q32.6624,41.0334 33.2464,40.4278 Q33.6141,40.0601 33.8088,39.9519 Q34.0251,39.8438 34.3063,39.8438 Q34.7605,39.8438 35.1066,40.2115 Q35.4743,40.5576 35.4743,41.0334 Q35.4743,41.5093 34.9985,42.0717 Q34.3063,42.872 33.2031,43.3263 Q31.7106,43.9536 29.9153,43.9536 Q27.8171,43.9536 26.1515,43.0884 Q24.7888,42.3962 23.837,40.9253 Q22.8853,39.4328 22.8853,37.659 L22.8853,36.0584 Q22.8853,34.2198 23.7289,32.6407 Q24.5941,31.0401 26.1083,30.1965 Q27.6224,29.3312 29.3312,29.3312 Q30.3479,29.3312 31.2347,29.5692 Q32.1432,29.7855 32.9003,30.283 Z "/><text fill="#000000" font-family="sans-serif" font-size="16.6124" lengthAdjust="spacingAndGlyphs" textLength="48.4528" x="48.4528" y="42.7909">Banco</text><!--MD5=[6eb21cbdc4d58042377df8925372ace8]
class Sucursal--><rect fill="#FFFAFA" filter="url(#f17f80ejomgwjt)" height="44.2997" id="Sucursal" style="stroke: #000000; stroke-width: 2.076547231270358;" width="112.1336" x="287.9479" y="13.8436"/><ellipse cx="308.7134" cy="35.9935" fill="#ADD1B2" rx="15.228" ry="15.228" style="stroke: #000000; stroke-width: 1.3843648208469055;"/><path d="M312.542,30.283 Q312.7583,29.9802 313.0179,29.8287 Q313.2774,29.6773 313.5803,29.6773 Q314.0994,29.6773 314.4239,30.045 Q314.7483,30.3911 314.7483,31.2347 L314.7483,33.2464 Q314.7483,34.09 314.4239,34.4577 Q314.0994,34.8254 313.5803,34.8254 Q313.1044,34.8254 312.8232,34.5442 Q312.542,34.2847 312.3906,33.5708 Q312.3257,33.0733 312.0661,32.8138 Q311.6119,32.2946 310.7683,31.9918 Q309.9247,31.689 309.0594,31.689 Q307.9995,31.689 307.1127,32.1432 Q306.2475,32.5975 305.5553,33.6357 Q304.8847,34.674 304.8847,36.1016 L304.8847,37.6158 Q304.8847,39.3246 306.1177,40.471 Q307.3506,41.5958 309.557,41.5958 Q310.8548,41.5958 311.7633,41.2497 Q312.3041,41.0334 312.8881,40.4278 Q313.2558,40.0601 313.4505,39.9519 Q313.6668,39.8438 313.948,39.8438 Q314.4022,39.8438 314.7483,40.2115 Q315.116,40.5576 315.116,41.0334 Q315.116,41.5093 314.6402,42.0717 Q313.948,42.872 312.8448,43.3263 Q311.3523,43.9536 309.557,43.9536 Q307.4588,43.9536 305.7932,43.0884 Q304.4305,42.3962 303.4787,40.9253 Q302.527,39.4328 302.527,37.659 L302.527,36.0584 Q302.527,34.2198 303.3706,32.6407 Q304.2358,31.0401 305.7499,30.1965 Q307.2641,29.3312 308.9729,29.3312 Q309.9896,29.3312 310.8764,29.5692 Q311.7849,29.7855 312.542,30.283 Z "/><text fill="#000000" font-family="sans-serif" font-size="16.6124" lengthAdjust="spacingAndGlyphs" textLength="67.8339" x="328.0945" y="42.7909">Sucursal</text><!--MD5=[e65e1d76721eab7399496d41b25bb36b]
reverse link Banco to Sucursal--><path d="M119.7476,35.9935 C170.1052,35.9935 239.6779,35.9935 287.6322,35.9935 " fill="none" id="Banco&lt;-Sucursal" style="stroke: #000000; stroke-width: 1.3843648208469055;"/><polygon fill="#000000" points="101.4737,35.9935,109.7799,41.5309,118.086,35.9935,109.7799,30.456,101.4737,35.9935" style="stroke: #000000; stroke-width: 1.3843648208469055;"/><text fill="#000000" font-family="sans-serif" font-size="17.9967" lengthAdjust="spacingAndGlyphs" textLength="101.0586" x="143.9739" y="31.1414">composici&#xF3;n</text><text fill="#000000" font-family="sans-serif" font-size="17.9967" lengthAdjust="spacingAndGlyphs" textLength="9.6906" x="112.1237" y="57.01">1</text><text fill="#000000" font-family="sans-serif" font-size="17.9967" lengthAdjust="spacingAndGlyphs" textLength="27.6873" x="249.1916" y="56.4088">1..*</text><!--MD5=[d795cbb9295f42c1ad4bc30b7185bfef]
@startuml
left to right direction
scale 425 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide methods
hide attributes
Banco "1" *- - "1..*" Sucursal : composición

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><ul>
<li>Adem&#xE1;s, cualquier <strong>campo</strong> que defina nuestra clase que sea un tipo valor, <strong>value object</strong>, <strong>data type</strong>, etc. ser&#xE1; considerado como una composici&#xF3;n.</li>
<li>La relaci&#xF3;n no har&#xE1; falta expresarla, pues no puede ser de otra forma que no sea un composici&#xF3;n por la naturaleza valor del objeto fecha. S&#xED;mplemente indicaremos el tipo de datos en la definici&#xF3;n.</li>
</ul>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="140.1384px" preserveAspectRatio="none" style="width:365px;height:140px;" version="1.1" viewBox="0 0 365 140" width="365.917px" zoomAndPan="magnify"><defs><filter height="300%" id="fd1mct5vgwkay" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.5951557093425603"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.190311418685121" dy="5.190311418685121" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5ec1166386a94cbb37f572e8da5b9803]
class Banco--><rect fill="#FFFAFA" filter="url(#fd1mct5vgwkay)" height="69.8563" id="Banco" style="stroke: #000000; stroke-width: 1.9463667820069204;" width="177.7682" x="7.7855" y="33.737"/><ellipse cx="68.4472" cy="54.4983" fill="#ADD1B2" rx="14.2734" ry="14.2734" style="stroke: #000000; stroke-width: 1.2975778546712802;"/><path d="M72.0358,49.1458 Q72.2386,48.8619 72.4819,48.72 Q72.7252,48.5781 73.009,48.5781 Q73.4956,48.5781 73.7997,48.9227 Q74.1039,49.2471 74.1039,50.0378 L74.1039,51.9234 Q74.1039,52.7141 73.7997,53.0588 Q73.4956,53.4034 73.009,53.4034 Q72.563,53.4034 72.2994,53.1399 Q72.0358,52.8966 71.8939,52.2275 Q71.8331,51.7612 71.5898,51.5179 Q71.164,51.0313 70.3733,50.7475 Q69.5826,50.4636 68.7716,50.4636 Q67.7782,50.4636 66.9469,50.8894 Q66.1359,51.3151 65.4871,52.2883 Q64.8586,53.2615 64.8586,54.5996 L64.8586,56.0189 Q64.8586,57.6206 66.0143,58.6951 Q67.1699,59.7494 69.2379,59.7494 Q70.4544,59.7494 71.306,59.425 Q71.8128,59.2223 72.3602,58.6546 Q72.7049,58.3099 72.8874,58.2085 Q73.0901,58.1072 73.3537,58.1072 Q73.7795,58.1072 74.1039,58.4518 Q74.4485,58.7762 74.4485,59.2223 Q74.4485,59.6683 74.0025,60.1954 Q73.3537,60.9456 72.3197,61.3714 Q70.9207,61.9593 69.2379,61.9593 Q67.2713,61.9593 65.7102,61.1484 Q64.4329,60.4996 63.5408,59.1209 Q62.6487,57.7219 62.6487,56.0594 L62.6487,54.5591 Q62.6487,52.8357 63.4394,51.3557 Q64.2504,49.8554 65.6696,49.0647 Q67.0888,48.2537 68.6905,48.2537 Q69.6434,48.2537 70.4747,48.4767 Q71.3262,48.6794 72.0358,49.1458 Z "/><text fill="#000000" font-family="sans-serif" font-size="15.5709" lengthAdjust="spacingAndGlyphs" textLength="45.4152" x="95.0476" y="60.8696">Banco</text><line style="stroke: #000000; stroke-width: 1.9463667820069204;" x1="9.083" x2="184.2561" y1="75.2595" y2="75.2595"/><text fill="#000000" font-family="sans-serif" font-size="14.2734" lengthAdjust="spacingAndGlyphs" textLength="162.1972" x="15.5709" y="95.2668">+FechaFundacion : Fecha</text><!--MD5=[57ede1e6086d5eb2e952d648682e58ef]
class Fecha--><rect fill="#FFFAFA" filter="url(#fd1mct5vgwkay)" height="116.3867" id="Fecha" style="stroke: #000000; stroke-width: 1.9463667820069204;" width="120.6747" x="230.9689" y="10.3806"/><ellipse cx="250.4325" cy="36.4538" fill="#FF7700" rx="14.2734" ry="14.2734" style="stroke: #000000; stroke-width: 1.2975778546712802;"/><path d="M247.2494,40.7318 L247.2494,32.0948 Q246.5398,32.0745 246.1951,31.7704 Q245.8707,31.4663 245.8707,30.9797 Q245.8707,30.4931 246.2154,30.189 Q246.5601,29.8848 247.3508,29.8848 L251.9734,29.8848 Q253.048,29.8848 254.082,30.2903 Q255.116,30.6756 255.7445,31.3041 Q256.2108,31.7704 256.7177,32.5814 Q257.2245,33.3721 257.4881,34.1831 Q257.7517,34.9738 257.7517,36.1294 L257.7517,37.1837 Q257.7517,38.5827 257.2651,39.6775 Q256.7988,40.7521 256.0283,41.4414 Q255.2579,42.1105 254.5888,42.4349 Q253.5143,42.9417 251.7909,42.9417 L247.3508,42.9417 Q246.5601,42.9417 246.2154,42.6376 Q245.8707,42.3335 245.8707,41.8266 Q245.8707,41.34 246.2154,41.0359 Q246.5601,40.7318 247.2494,40.7318 Z M249.4593,40.7318 L251.8112,40.7318 Q253.1088,40.7318 253.7778,40.3466 Q254.6497,39.86 255.0957,39.1098 Q255.5417,38.3394 255.5417,37.1229 L255.5417,36.0686 Q255.5417,35.0346 255.1362,34.2439 Q254.5077,33.0071 253.717,32.5611 Q252.9466,32.0948 251.7909,32.0948 L249.4593,32.0948 L249.4593,40.7318 Z "/><text fill="#000000" font-family="sans-serif" font-size="15.5709" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="84.3426" x="266.0035" y="33.0325">&#xAB;dataType&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="15.5709" lengthAdjust="spacingAndGlyphs" textLength="44.1176" x="286.1159" y="52.6178">Fecha</text><line style="stroke: #000000; stroke-width: 1.9463667820069204;" x1="232.2664" x2="350.346" y1="62.527" y2="62.527"/><text fill="#000000" font-family="sans-serif" font-size="14.2734" lengthAdjust="spacingAndGlyphs" textLength="53.2007" x="238.7543" y="82.5343">+D&#xED;a : int</text><text fill="#000000" font-family="sans-serif" font-size="14.2734" lengthAdjust="spacingAndGlyphs" textLength="59.6886" x="238.7543" y="100.4875">+Mes : int</text><text fill="#000000" font-family="sans-serif" font-size="14.2734" lengthAdjust="spacingAndGlyphs" textLength="59.6886" x="238.7543" y="118.4407">+A&#xF1;o : int</text><!--MD5=[91b3a783f7ba34537c12edbe7a3cb066]
@startuml
scale 375 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide methods
class Banco
{
    + FechaFundacion : Fecha
}

hide methods
class Fecha <<(D,#FF7700) dataType>>
{
    + Día : int
    + Mes : int
    + Año : int
}

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><h5 class="mume-header" id="ventajas-de-la-composici%C3%B3n-1">Ventajas de la composici&#xF3;n &#x1F44D;</h5>

<ul>
<li>Evitaremos efectos de <strong>Aliasing</strong>.</li>
</ul>
<h5 class="mume-header" id="desventajas-de-la-agregaci%C3%B3n-1-1">Desventajas de la agregaci&#xF3;n &#x1F44E;</h5>

<ul>
<li>Consume mucha memoria.</li>
<li>No compartiremos. Por tanto, si necesitamos mantener la integridad referencial, deberemos hacerlo manualmente.</li>
<li>Se pueden crear objetos que puede que no necesitemos.</li>
</ul>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="ejemplo-de-agregaci%C3%B3n">Ejemplo de Agregaci&#xF3;n</h4>

<p>Vamos a crear una relaci&#xF3;n entre nuestras clases de ejemplo <strong><code>Escritor</code></strong> y <strong><code>Libro</code></strong> de tal manera que el <strong><code>Libro</code></strong> va a tener informaci&#xF3;n del <strong><code>Escritor</code></strong> a trav&#xE9;s de una agregaci&#xF3;n.<br>
Cumple con la m&#xE1;xima de que si desaparece el libro no tiene porque desaparecer el escritor.<br>
Una posible forma de expresarlo en UML es la siguiente.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="220.9632px" preserveAspectRatio="none" style="width:594px;height:220px;" version="1.1" viewBox="0 0 594 220" width="594.051px" zoomAndPan="magnify"><defs><filter height="300%" id="fg7o3m8q04n2g" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.6997167138810199"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.3994334277620397" dy="3.3994334277620397" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[a48731e35e4efcfa96e52c126b9a7dad]
class Libro--><rect fill="#FFFAFA" filter="url(#fg7o3m8q04n2g)" height="205.4134" id="Libro" style="stroke: #000000; stroke-width: 1.274787535410765;" width="329.745" x="5.0992" y="6.7989"/><ellipse cx="154.4618" cy="20.3966" fill="#ADD1B2" rx="9.3484" ry="9.3484" style="stroke: #000000; stroke-width: 0.8498583569405099;"/><path d="M156.8121,16.8909 Q156.9449,16.705 157.1043,16.6121 Q157.2636,16.5191 157.4495,16.5191 Q157.7682,16.5191 157.9674,16.7449 Q158.1666,16.9573 158.1666,17.4752 L158.1666,18.7102 Q158.1666,19.228 157.9674,19.4538 Q157.7682,19.6795 157.4495,19.6795 Q157.1574,19.6795 156.9848,19.5069 Q156.8121,19.3476 156.7192,18.9093 Q156.6794,18.6039 156.52,18.4446 Q156.2411,18.1259 155.7233,17.94 Q155.2054,17.7541 154.6742,17.7541 Q154.0235,17.7541 153.4791,18.0329 Q152.9479,18.3118 152.523,18.9492 Q152.1114,19.5866 152.1114,20.463 L152.1114,21.3925 Q152.1114,22.4416 152.8683,23.1454 Q153.6252,23.8359 154.9796,23.8359 Q155.7764,23.8359 156.3341,23.6234 Q156.6661,23.4906 157.0246,23.1188 Q157.2504,22.8931 157.3699,22.8267 Q157.5027,22.7603 157.6753,22.7603 Q157.9541,22.7603 158.1666,22.986 Q158.3924,23.1985 158.3924,23.4906 Q158.3924,23.7828 158.1002,24.128 Q157.6753,24.6193 156.9981,24.8982 Q156.0818,25.2833 154.9796,25.2833 Q153.6916,25.2833 152.6691,24.7521 Q151.8325,24.3272 151.2482,23.4242 Q150.664,22.508 150.664,21.4191 L150.664,20.4364 Q150.664,19.3077 151.1818,18.3383 Q151.713,17.3557 152.6425,16.8378 Q153.5721,16.3067 154.6211,16.3067 Q155.2452,16.3067 155.7897,16.4527 Q156.3474,16.5855 156.8121,16.8909 Z "/><text fill="#000000" font-family="sans-serif" font-size="10.1983" lengthAdjust="spacingAndGlyphs" textLength="23.796" x="171.8839" y="24.5695">Libro</text><line style="stroke: #000000; stroke-width: 1.274787535410765;" x1="5.949" x2="333.9943" y1="33.9943" y2="33.9943"/><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="99.4334" x="10.1983" y="47.0983">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="82.4363" x="10.1983" y="58.8568">-a&#xF1;o : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="99.4334" x="10.1983" y="70.6154">-paginas : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="79.8867" x="10.1983" y="82.374">-paginasLe&#xED;das : int</text><line style="stroke: #000000; stroke-width: 1.274787535410765;" x1="5.949" x2="333.9943" y1="87.8275" y2="87.8275"/><text fill="#000000" font-family="sans-serif" font-size="9.3484" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="319.5467" x="10.1983" y="100.9315">+ Libro(in titulo : string, in a&#xF1;o : int, in paginas : int, in autor : Escritor)</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="78.187" x="10.1983" y="112.6901">+GetTitulo() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="60.3399" x="10.1983" y="124.4486">+GetA&#xF1;o() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="76.4873" x="10.1983" y="136.2072">+ GetAutor() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="75.6374" x="10.1983" y="147.9658">+GetPaginas() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="102.8329" x="10.1983" y="159.7244">+GetPaginasLeidas() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="166.5722" x="10.1983" y="171.483">-SetPaginasLeidas(in paginas : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="105.3824" x="10.1983" y="183.2416">+Lee(int paginas : int) : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="94.3343" x="10.1983" y="195.0002">+PorcentajeLe&#xED;do() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="90.9348" x="10.1983" y="206.7588">+Descripci&#xF3;n() : string</text><!--MD5=[86711dc2639f7c866c0f156bdfe53786]
class Escritor--><rect fill="#FFFAFA" filter="url(#fg7o3m8q04n2g)" height="158.3791" id="Escritor" style="stroke: #000000; stroke-width: 1.274787535410765;" width="198.8669" x="385.8357" y="30.5949"/><ellipse cx="463.8102" cy="44.1926" fill="#ADD1B2" rx="9.3484" ry="9.3484" style="stroke: #000000; stroke-width: 0.8498583569405099;"/><path d="M466.1606,40.687 Q466.2934,40.5011 466.4527,40.4081 Q466.6121,40.3152 466.798,40.3152 Q467.1167,40.3152 467.3159,40.5409 Q467.515,40.7534 467.515,41.2712 L467.515,42.5062 Q467.515,43.0241 467.3159,43.2498 Q467.1167,43.4756 466.798,43.4756 Q466.5058,43.4756 466.3332,43.3029 Q466.1606,43.1436 466.0676,42.7054 Q466.0278,42.4 465.8684,42.2406 Q465.5896,41.9219 465.0717,41.736 Q464.5538,41.5501 464.0227,41.5501 Q463.372,41.5501 462.8275,41.829 Q462.2964,42.1078 461.8715,42.7452 Q461.4598,43.3826 461.4598,44.259 L461.4598,45.1886 Q461.4598,46.2376 462.2167,46.9414 Q462.9736,47.6319 464.3281,47.6319 Q465.1248,47.6319 465.6825,47.4194 Q466.0145,47.2867 466.3731,46.9148 Q466.5988,46.6891 466.7183,46.6227 Q466.8511,46.5563 467.0237,46.5563 Q467.3026,46.5563 467.515,46.782 Q467.7408,46.9945 467.7408,47.2867 Q467.7408,47.5788 467.4487,47.924 Q467.0237,48.4154 466.3465,48.6942 Q465.4302,49.0793 464.3281,49.0793 Q463.04,49.0793 462.0175,48.5482 Q461.1809,48.1232 460.5967,47.2203 Q460.0124,46.304 460.0124,45.2151 L460.0124,44.2325 Q460.0124,43.1038 460.5303,42.1344 Q461.0614,41.1517 461.991,40.6339 Q462.9205,40.1027 463.9695,40.1027 Q464.5937,40.1027 465.1381,40.2488 Q465.6958,40.3816 466.1606,40.687 Z "/><text fill="#000000" font-family="sans-serif" font-size="10.1983" lengthAdjust="spacingAndGlyphs" textLength="35.6941" x="481.2323" y="48.3656">Escritor</text><line style="stroke: #000000; stroke-width: 1.274787535410765;" x1="386.6856" x2="583.8527" y1="57.7904" y2="57.7904"/><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="111.3314" x="390.9348" y="70.8943">-nombre : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="110.4816" x="390.9348" y="82.6529">-nacimiento : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="76.4873" x="390.9348" y="94.4115">-publicaciones : int</text><line style="stroke: #000000; stroke-width: 1.274787535410765;" x1="386.6856" x2="583.8527" y1="99.865" y2="99.865"/><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="188.6686" x="390.9348" y="112.9689">+Escritor(in nombre : string, in nacimiento : int)</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="88.3853" x="390.9348" y="124.7275">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="87.5354" x="390.9348" y="136.4861">+GetNacimiento() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="99.4334" x="390.9348" y="148.2447">+GetPublicaciones() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="186.9688" x="390.9348" y="160.0033">-SetPublicaciones(in publicaciones : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="129.1785" x="390.9348" y="171.7619">+Escribe(in titulo : string) : Libro</text><text fill="#000000" font-family="sans-serif" font-size="9.3484" lengthAdjust="spacingAndGlyphs" textLength="90.9348" x="390.9348" y="183.5204">+Descripci&#xF3;n() : string</text><!--MD5=[91435e4c2633804ce6612f621abb47ea]
reverse link Libro to Escritor--><path d="M346.3207,109.6317 C359.7935,109.6317 373.0793,109.6317 385.7737,109.6317 " fill="none" id="Libro&lt;-Escritor" style="stroke: #000000; stroke-width: 0.8498583569405099;"/><polygon fill="#FFFFFF" points="334.9683,109.6317,340.0674,113.0312,345.1666,109.6317,340.0674,106.2323,334.9683,109.6317" style="stroke: #000000; stroke-width: 0.8498583569405099;"/><text fill="#000000" font-family="sans-serif" font-size="11.0482" lengthAdjust="spacingAndGlyphs" textLength="5.949" x="341.5296" y="121.377">1</text><text fill="#000000" font-family="sans-serif" font-size="11.0482" lengthAdjust="spacingAndGlyphs" textLength="5.949" x="372.9399" y="121.5572">1</text><!--MD5=[3a072d5b236b2682dfb136f5a7dcc119]
@startuml

left to right direction
scale 600 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

Libro "1" o- - "1" Escritor

class Libro
{
    - titulo : string {readOnly}
    - año : int {readOnly}
    - paginas : int {readOnly}
    - paginasLeídas : int

    **+ Libro(in titulo : string, in año : int, in paginas : int, in autor : Escritor)**
    + GetTitulo() : string
    + GetAño() : int
    **+ GetAutor() : int**
    + GetPaginas() : int
    + GetPaginasLeidas() : int
    - SetPaginasLeidas(in paginas : int) : void
    + Lee(int paginas : int) : int
    + PorcentajeLeído() : int
    + Descripción() : string
}

class Escritor
{
    - nombre : string {readOnly}
    - nacimiento : int {readOnly}
    - publicaciones : int

    + Escritor(in nombre : string, in nacimiento : int)
    + GetNombre() : string
    + GetNacimiento() : int
    + GetPublicaciones() : int
    - SetPublicaciones(in publicaciones : int) : void
    + Escribe(in titulo : string) : Libro
    + Descripción() : string
}

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p>De la relaci&#xF3;n <strong>se debe deducir</strong> que en la clase libro tendremos un campo nuevo que podemos denominar <strong>autor</strong> y que ser&#xE1; de solo lectura.</p>
<p>Veamos los cambios que implicar&#xE1; esta relaci&#xF3;n en la implementaci&#xF3;n de nuestra clase <strong><code>Libro</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[4,7,17,24-26,38]}" class="language-csharp" data-line="4,7,17,24-26,38"><span class="token keyword">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... c&#xF3;digo omitido por brevedad.</span>
    <span class="token comment">// A&#xF1;adiremos el campo que establece la relaci&#xF3;n de agregaci&#xF3;n indicada.</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Escritor</span> autor<span class="token punctuation">;</span>

    <span class="token comment">// A&#xF1;adiremos un &apos;getter&apos; para el campo</span>
    <span class="token keyword">public</span> <span class="token class-name">Escritor</span> <span class="token function">GetAutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> autor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Recibimos la referencia al escritor en el constructor de libro.</span>
    <span class="token keyword">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token keyword">string</span> titulo<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">int</span> a&#xF1;o<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">int</span> paginas<span class="token punctuation">,</span> <span class="token class-name">Escritor</span> autor<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// ... c&#xF3;digo omitido por brevedad.</span>
        <span class="token comment">// Nos quedamos con la referencia y en ning&#xFA;n caso deberemos hacer un copia de escritor. </span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>autor <span class="token operator">=</span> autor<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// ... c&#xF3;digo omitido por brevedad.</span>
        <span class="token comment">// Si tenemos constructor copia o m&#xE9;todo de clonado. </span>
        <span class="token comment">// Copiaremos la referencia al escritor y en ning&#xFA;n caso haremos </span>
        <span class="token comment">// copia en profundidad o llamaremos al constructor copia de escritor.. </span>
        autor <span class="token operator">=</span> l<span class="token punctuation">.</span>autor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Podemos a&#xF1;adir la informaci&#xF3;n del escritor a la descripci&#xF3;n del libro.</span>
        <span class="token keyword">return</span> $<span class="token string">&quot;Libro\n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;--------------------------\n&quot;</span> <span class="token operator">+</span>
                $<span class="token string">&quot;T&#xED;tulo: {GetTitulo()}\n&quot;</span> <span class="token operator">+</span>
                $<span class="token string">&quot;A&#xF1;o: {GetA&#xF1;o()}\n&quot;</span> <span class="token operator">+</span>
                $<span class="token string">&quot;P&#xE1;ginas: {GetPaginas()}\n&quot;</span><span class="token operator">+</span>
                $<span class="token string">&quot;Autor --------------------\n&quot;</span> <span class="token operator">+</span>
                $<span class="token string">&quot;{autor.Descripcion()}\n&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">





<div aria-hidden="true" class="line-highlight" data-range="7" data-start="7">
</div></div><div class="line-highlight-wrapper">















<div aria-hidden="true" class="line-highlight" data-range="17" data-start="17">
</div></div><div class="line-highlight-wrapper">






















<div aria-hidden="true" class="line-highlight" data-range="24-26" data-start="24" data-end="26">


</div></div><div class="line-highlight-wrapper">




































<div aria-hidden="true" class="line-highlight" data-range="38" data-start="38">
</div></div></pre><div style="page-break-after:always;"></div>
<p>En cuanto a la clase <strong><code>Escritor</code></strong> la &#xFA;nica modificaci&#xF3;n la deber&#xED;amos hacer en el m&#xE9;todo <strong><code>Escribe()</code></strong> que ahora debe pasar el escritor al constructor de <strong><code>Libro</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[5-7]}" class="language-csharp" data-line="5-7"><span class="token keyword">public</span> <span class="token class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token keyword">string</span> titulo<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400.</span><span class="token number">.800</span><span class="token punctuation">;</span>
    <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// F&#xED;jate que ahora pasamos this que es la referencia impl&#xED;cita al objeto </span>
    <span class="token comment">// escritor que est&#xE1; escribiendo el libro.</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Libro</span><span class="token punctuation">(</span>titulo<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Year<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5-7" data-start="5" data-end="7">


</div></div></pre><p>Si implementamos y ejecutamos el siguiente c&#xF3;digo de test...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Escritor</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Escritor</span><span class="token punctuation">(</span><span class="token string">&quot;Mar&#xED;a&quot;</span><span class="token punctuation">,</span> <span class="token number">1980</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Libro</span> l1 <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token string">&quot;Programaci&#xF3;n en C#&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Libro</span> l2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Libro</span><span class="token punctuation">(</span>l1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Console.WriteLine(l1.Descripcion());</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l2<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Libro</span> l3 <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token string">&quot;Programaci&#xF3;n en Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l2<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Console.WriteLine(l3.Descripcion());</span>
<span class="token punctuation">}</span>
</pre><p>Al ejecutarlo obtendremos una salida similar a esta...</p>
<div class="code-chunk" data-id="code-chunk-id-0" data-cmd="bash"><div class="input-div"><pre data-role="codeBlock" data-info="bash {code_chunk_offset=0, cmd}" class="language-bash">Libro
--------------------------
T&#xED;tulo: Programaci&#xF3;n en C<span class="token comment">#</span>
A&#xF1;o: 2020
P&#xE1;ginas: 517
Autor --------------------
Nombre: Mar&#xED;a
Nacimiento: 1980
Publicaciones: 1

Libro
--------------------------
T&#xED;tulo: Programaci&#xF3;n en C<span class="token comment">#</span>
A&#xF1;o: 2020
P&#xE1;ginas: 517
Autor --------------------
Nombre: Mar&#xED;a
Nacimiento: 1980
Publicaciones: 2
</pre><div class="btn-group"><div class="run-btn btn"><span>&#x25B6;&#xFE0E;</span></div><div class="run-all-btn btn">all</div></div><div class="status">running...</div></div><div class="output-div"></div></div><p>Los tres objetos <strong><code>Libro</code></strong> <strong><code>l1</code></strong>, <strong><code>l2</code></strong> y <strong><code>l3</code></strong> referenciar&#xE1;n al mismo objeto <strong><code>Escritor</code></strong> <strong><code>e</code></strong>. Es m&#xE1;s, si te fijas en la salida, el escritor al ver la primera descripci&#xF3;n en <strong><code>l2</code></strong> solo ha publicado un libro y despu&#xE9;s de escribir el segundo libro la descripci&#xF3;n de <strong><code>l2</code></strong> mantiene la integridad referencial indic&#xE1;ndonos que ha publicado 2.</p>
<p align="center" style="zoom:0.6"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="681pt" height="446pt" viewBox="0.00 0.00 681.10 446.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 442)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-442 677.0954,-442 677.0954,4 -4,4"/>
<!-- le -->
<g id="node1" class="node">
<title>le</title>
<ellipse fill="none" stroke="#000000" cx="192.0954" cy="-420" rx="18" ry="18"/>
<text text-anchor="middle" x="192.0954" y="-415.8" font-family="Arial" font-size="14.00" fill="#000000">e</text>
</g>
<!-- oe -->
<g id="node8" class="node">
<title>oe</title>
<polygon fill="none" stroke="#000000" points="355.0954,-241 355.0954,-279 665.0954,-279 665.0954,-241 355.0954,-241"/>
<text text-anchor="start" x="365.7799" y="-255.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;e, l1::autor, l2::autor, l3::autor : Escritor &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="355.0954,-169 355.0954,-241 665.0954,-241 665.0954,-169 355.0954,-169"/>
<text text-anchor="start" x="452.8193" y="-217.4" font-family="Arial" font-size="14.00" fill="#000000">nombre = &quot;Mar&#xED;a&quot;</text>
<text text-anchor="start" x="504.2595" y="-200.6" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<text text-anchor="start" x="448.046" y="-183.8" font-family="Arial" font-size="14.00" fill="#000000">publicaciones = 2 &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- le&#45;&gt;oe -->
<g id="edge7" class="edge">
<title>le-&gt;oe</title>
<path fill="none" stroke="#000000" d="M210.3373,-418.5803C234.5022,-416.1077 277.9348,-409.5777 311.0954,-393 362.4066,-367.3484 411.6217,-325.754 448.2719,-290.2502"/>
<polygon fill="#000000" stroke="#000000" points="450.7368,-292.7351 455.4313,-283.2371 445.8384,-287.7345 450.7368,-292.7351"/>
</g>
<!-- l1 -->
<g id="node2" class="node">
<title>l1</title>
<ellipse fill="none" stroke="#000000" cx="18.5477" cy="-326" rx="18.5955" ry="18.5955"/>
<text text-anchor="middle" x="18.5477" y="-321.8" font-family="Arial" font-size="14.00" fill="#000000">l1</text>
</g>
<!-- ol1 -->
<g id="node5" class="node">
<title>ol1</title>
<polygon fill="none" stroke="#000000" points="87.0954,-342 87.0954,-380 297.0954,-380 297.0954,-342 87.0954,-342"/>
<text text-anchor="start" x="143.8591" y="-356.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;l1: Libro &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="87.0954,-272 87.0954,-342 297.0954,-342 297.0954,-272 87.0954,-272"/>
<text text-anchor="start" x="97.8607" y="-318.4" font-family="Arial" font-size="14.00" fill="#000000">titulo = &quot;Programaci&#xF3;n en C#&quot;</text>
<text text-anchor="start" x="274.4236" y="-302.4" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<text text-anchor="start" x="254.1964" y="-286.4" font-family="Arial" font-size="14.00" fill="#000000">autor</text>
</g>
<!-- l1&#45;&gt;ol1 -->
<g id="edge1" class="edge">
<title>l1-&gt;ol1</title>
<path fill="none" stroke="#000000" d="M37.1203,-326C45.745,-326 56.798,-326 69.0237,-326"/>
<polygon fill="#000000" stroke="#000000" points="69.0559,-329.5001 79.0559,-326 69.0558,-322.5001 69.0559,-329.5001"/>
</g>
<!-- l2 -->
<g id="node3" class="node">
<title>l2</title>
<ellipse fill="none" stroke="#000000" cx="18.5477" cy="-192" rx="18.5955" ry="18.5955"/>
<text text-anchor="middle" x="18.5477" y="-187.8" font-family="Arial" font-size="14.00" fill="#000000">l2</text>
</g>
<!-- ol2 -->
<g id="node6" class="node">
<title>ol2</title>
<polygon fill="none" stroke="#000000" points="87.0954,-208 87.0954,-246 297.0954,-246 297.0954,-208 87.0954,-208"/>
<text text-anchor="start" x="143.8591" y="-222.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;l2: Libro &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="87.0954,-138 87.0954,-208 297.0954,-208 297.0954,-138 87.0954,-138"/>
<text text-anchor="start" x="97.8607" y="-184.4" font-family="Arial" font-size="14.00" fill="#000000">titulo = &quot;Programaci&#xF3;n en C#&quot;</text>
<text text-anchor="start" x="274.4236" y="-168.4" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<text text-anchor="start" x="254.1964" y="-152.4" font-family="Arial" font-size="14.00" fill="#000000">autor</text>
</g>
<!-- l2&#45;&gt;ol2 -->
<g id="edge2" class="edge">
<title>l2-&gt;ol2</title>
<path fill="none" stroke="#000000" d="M37.1203,-192C45.745,-192 56.798,-192 69.0237,-192"/>
<polygon fill="#000000" stroke="#000000" points="69.0559,-195.5001 79.0559,-192 69.0558,-188.5001 69.0559,-195.5001"/>
</g>
<!-- l3 -->
<g id="node4" class="node">
<title>l3</title>
<ellipse fill="none" stroke="#000000" cx="18.5477" cy="-58" rx="18.5955" ry="18.5955"/>
<text text-anchor="middle" x="18.5477" y="-53.8" font-family="Arial" font-size="14.00" fill="#000000">l3</text>
</g>
<!-- ol3 -->
<g id="node7" class="node">
<title>ol3</title>
<polygon fill="none" stroke="#000000" points="81.0954,-74 81.0954,-112 303.0954,-112 303.0954,-74 81.0954,-74"/>
<text text-anchor="start" x="143.8591" y="-88.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;l3: Libro &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="81.0954,-4 81.0954,-74 303.0954,-74 303.0954,-4 81.0954,-4"/>
<text text-anchor="start" x="92.0227" y="-50.4" font-family="Arial" font-size="14.00" fill="#000000">titulo = &quot;Programaci&#xF3;n en Java&quot;</text>
<text text-anchor="start" x="280.4236" y="-34.4" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<text text-anchor="start" x="260.1964" y="-18.4" font-family="Arial" font-size="14.00" fill="#000000">autor</text>
</g>
<!-- l3&#45;&gt;ol3 -->
<g id="edge3" class="edge">
<title>l3-&gt;ol3</title>
<path fill="none" stroke="#000000" d="M37.1203,-58C44.2687,-58 53.0853,-58 62.8551,-58"/>
<polygon fill="#000000" stroke="#000000" points="62.9162,-61.5001 72.9162,-58 62.9162,-54.5001 62.9162,-61.5001"/>
</g>
<!-- ol1&#45;&gt;oe -->
<g id="edge4" class="edge">
<title>ol1:autor-&gt;oe</title>
<path fill="none" stroke="#000000" d="M286.0954,-291C305.1066,-291 324.6593,-288.7574 343.9188,-285.0928"/>
<polygon fill="#000000" stroke="#000000" points="344.8572,-288.4737 353.9592,-283.0511 343.4622,-281.614 344.8572,-288.4737"/>
</g>
<!-- ol2&#45;&gt;oe -->
<g id="edge5" class="edge">
<title>ol2:autor-&gt;oe</title>
<path fill="none" stroke="#000000" d="M286.0954,-157C305.1066,-157 324.6593,-159.2426 343.9188,-162.9072"/>
<polygon fill="#000000" stroke="#000000" points="343.4622,-166.386 353.9592,-164.9489 344.8572,-159.5263 343.4622,-166.386"/>
</g>
<!-- ol3&#45;&gt;oe -->
<g id="edge6" class="edge">
<title>ol3:autor-&gt;oe</title>
<path fill="none" stroke="#000000" d="M292.0954,-23C372.5641,-23 436.0414,-97.9382 473.2762,-156.3008"/>
<polygon fill="#000000" stroke="#000000" points="470.309,-158.1571 478.5783,-164.7805 476.2442,-154.446 470.309,-158.1571"/>
</g>
</g>
</svg>
</p><div style="page-break-after:always;"></div>
<h4 class="mume-header" id="ejemplo-de-composici%C3%B3n">Ejemplo de Composici&#xF3;n</h4>

<p>Vamos ampliar nuestro ejemplo con la clase <strong><code>Libro</code></strong> y vamos a crear una relaci&#xF3;n entre <strong><code>Libro</code></strong>  y la clase <strong><code>Isbn3</code></strong> y adem&#xE1;s la fecha de publicaci&#xF3;n va a ser un <strong><code>DateTime</code></strong>.<br>
En ambos casos se cumple con la m&#xE1;xima de que si desaparece el libro, deber&#xED;a desaparecer su ISBN (tipo referencia) y su fecha de publicaci&#xF3;n (tipo valor).</p>
<p>Una posible forma de expresarlo en UML es la siguiente.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="357.2235px" preserveAspectRatio="none" style="width:744px;height:357px;" version="1.1" viewBox="0 0 744 357" width="744.0745px" zoomAndPan="magnify"><defs><filter height="300%" id="fecl3nzqsojho" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.693002257336343"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.386004514672686" dy="3.386004514672686" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[99b31deea5d7419a569cd5090bf83263]
cluster System--><polygon fill="#F5F5F5" filter="url(#fecl3nzqsojho)" points="124.4357,20.7393,171.8397,20.7393,177.7652,40.7246,230.2483,40.7246,230.2483,98.6174,124.4357,98.6174,124.4357,20.7393" style="stroke: #000000; stroke-width: 1.2697516930022572;"/><line style="stroke: #000000; stroke-width: 1.2697516930022572;" x1="124.4357" x2="177.7652" y1="40.7246" y2="40.7246"/><text fill="#000000" font-family="sans-serif" font-size="11.851" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="42.3251" x="127.8217" y="34.7347">System</text><!--MD5=[20ddef7090025b04fb973268620c0974]
class DateTime--><rect fill="#FFFAFA" filter="url(#fecl3nzqsojho)" height="34.0188" id="DateTime" style="stroke: #000000; stroke-width: 1.2697516930022572;" width="78.7246" x="137.9797" y="51.2133"/><ellipse cx="150.6772" cy="68.2227" fill="#FF7700" rx="9.3115" ry="9.3115" style="stroke: #000000; stroke-width: 0.8465011286681715;"/><path d="M148.6006,71.0135 L148.6006,65.379 Q148.1377,65.3658 147.9128,65.1674 Q147.7012,64.969 147.7012,64.6515 Q147.7012,64.3341 147.9261,64.1357 Q148.1509,63.9373 148.6668,63.9373 L151.6824,63.9373 Q152.3834,63.9373 153.058,64.2018 Q153.7325,64.4531 154.1426,64.8631 Q154.4468,65.1674 154.7774,65.6964 Q155.1081,66.2123 155.2801,66.7413 Q155.452,67.2572 155.452,68.0111 L155.452,68.6989 Q155.452,69.6115 155.1346,70.3257 Q154.8303,71.0267 154.3277,71.4764 Q153.8251,71.9129 153.3886,72.1245 Q152.6876,72.4552 151.5634,72.4552 L148.6668,72.4552 Q148.1509,72.4552 147.9261,72.2568 Q147.7012,72.0584 147.7012,71.7277 Q147.7012,71.4103 147.9261,71.2119 Q148.1509,71.0135 148.6006,71.0135 Z M150.0423,71.0135 L151.5766,71.0135 Q152.4231,71.0135 152.8596,70.7622 Q153.4283,70.4448 153.7193,69.9554 Q154.0103,69.4528 154.0103,68.6592 L154.0103,67.9714 Q154.0103,67.2968 153.7458,66.781 Q153.3357,65.9742 152.8199,65.6832 Q152.3173,65.379 151.5634,65.379 L150.0423,65.379 L150.0423,71.0135 Z "/><text fill="#000000" font-family="sans-serif" font-size="10.158" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="55.0226" x="160.8352" y="65.9907">&#xAB;dataType&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="10.158" lengthAdjust="spacingAndGlyphs" textLength="45.7111" x="165.491" y="78.7676">DateTime</text><!--MD5=[a48731e35e4efcfa96e52c126b9a7dad]
class Libro--><rect fill="#FFFAFA" filter="url(#fecl3nzqsojho)" height="204.602" id="Libro" style="stroke: #000000; stroke-width: 1.2697516930022572;" width="344.526" x="5.079" y="114.7009"/><ellipse cx="161.8933" cy="128.2449" fill="#ADD1B2" rx="9.3115" ry="9.3115" style="stroke: #000000; stroke-width: 0.8465011286681715;"/><path d="M164.2344,124.7531 Q164.3667,124.5679 164.5254,124.4753 Q164.6841,124.3828 164.8693,124.3828 Q165.1868,124.3828 165.3852,124.6076 Q165.5836,124.8192 165.5836,125.3351 L165.5836,126.5651 Q165.5836,127.081 165.3852,127.3058 Q165.1868,127.5307 164.8693,127.5307 Q164.5783,127.5307 164.4064,127.3587 Q164.2344,127.2 164.1419,126.7635 Q164.1022,126.4593 163.9435,126.3006 Q163.6657,125.9832 163.1499,125.798 Q162.634,125.6128 162.105,125.6128 Q161.4569,125.6128 160.9146,125.8906 Q160.3855,126.1683 159.9623,126.8032 Q159.5522,127.4381 159.5522,128.3111 L159.5522,129.2369 Q159.5522,130.2818 160.3062,130.9828 Q161.0601,131.6706 162.4092,131.6706 Q163.2028,131.6706 163.7583,131.459 Q164.089,131.3267 164.4461,130.9564 Q164.6709,130.7315 164.79,130.6654 Q164.9222,130.5993 165.0942,130.5993 Q165.3719,130.5993 165.5836,130.8241 Q165.8084,131.0357 165.8084,131.3267 Q165.8084,131.6177 165.5174,131.9616 Q165.0942,132.451 164.4196,132.7287 Q163.507,133.1123 162.4092,133.1123 Q161.1262,133.1123 160.1078,132.5832 Q159.2745,132.16 158.6925,131.2606 Q158.1105,130.3479 158.1105,129.2634 L158.1105,128.2846 Q158.1105,127.1603 158.6264,126.1948 Q159.1554,125.216 160.0813,124.7002 Q161.0072,124.1711 162.0521,124.1711 Q162.6737,124.1711 163.216,124.3166 Q163.7715,124.4489 164.2344,124.7531 Z "/><text fill="#000000" font-family="sans-serif" font-size="10.158" lengthAdjust="spacingAndGlyphs" textLength="23.702" x="179.2466" y="132.4014">Libro</text><line style="stroke: #000000; stroke-width: 1.2697516930022572;" x1="5.9255" x2="348.7585" y1="141.7889" y2="141.7889"/><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="99.0406" x="10.158" y="154.8411">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="133.7472" x="10.158" y="166.5532">- fecha : DateTime {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="99.0406" x="10.158" y="178.2654">-paginas : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="79.5711" x="10.158" y="189.9775">-paginasLe&#xED;das : int</text><line style="stroke: #000000; stroke-width: 1.2697516930022572;" x1="5.9255" x2="348.7585" y1="195.4095" y2="195.4095"/><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="89.7291" x="10.158" y="208.4616">+Libro(in titulo : string,</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="88.0361" x="102.4266" y="208.4616">in fecha : DateTime</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="140.5192" x="190.4628" y="208.4616">, in paginas : int, in autor : Escritor,</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.6185" x="333.5214" y="208.4616">...</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="3.386" x="341.14" y="208.4616">)</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="77.8781" x="10.158" y="220.1738">+GetTitulo() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="109.1986" x="10.158" y="231.8859">+ GetFecha() : DateTime</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="66.0271" x="10.158" y="243.5981">+GetAutor() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="75.3386" x="10.158" y="255.3102">+GetPaginas() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="102.4266" x="10.158" y="267.0223">+GetPaginasLeidas() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="165.9142" x="10.158" y="278.7345">-SetPaginasLeidas(in paginas : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="104.9661" x="10.158" y="290.4466">+Lee(int paginas : int) : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="93.9616" x="10.158" y="302.1587">+PorcentajeLe&#xED;do() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="90.5756" x="10.158" y="313.8709">+Descripci&#xF3;n() : string</text><!--MD5=[86711dc2639f7c866c0f156bdfe53786]
class Escritor--><rect fill="#FFFAFA" filter="url(#fecl3nzqsojho)" height="27.088" id="Escritor" style="stroke: #000000; stroke-width: 1.2697516930022572;" width="62.6411" x="536.2585" y="145.1749"/><ellipse cx="548.956" cy="158.719" fill="#ADD1B2" rx="9.3115" ry="9.3115" style="stroke: #000000; stroke-width: 0.8465011286681715;"/><path d="M551.2971,155.2271 Q551.4294,155.042 551.5881,154.9494 Q551.7468,154.8568 551.932,154.8568 Q552.2494,154.8568 552.4478,155.0817 Q552.6462,155.2933 552.6462,155.8091 L552.6462,157.0392 Q552.6462,157.555 552.4478,157.7799 Q552.2494,158.0047 551.932,158.0047 Q551.641,158.0047 551.469,157.8328 Q551.2971,157.6741 551.2045,157.2376 Q551.1648,156.9334 551.0061,156.7747 Q550.7283,156.4572 550.2125,156.272 Q549.6967,156.0869 549.1676,156.0869 Q548.5195,156.0869 547.9772,156.3646 Q547.4482,156.6424 547.0249,157.2773 Q546.6149,157.9121 546.6149,158.7851 L546.6149,159.711 Q546.6149,160.7559 547.3688,161.4569 Q548.1227,162.1446 549.4718,162.1446 Q550.2654,162.1446 550.8209,161.933 Q551.1516,161.8008 551.5087,161.4304 Q551.7336,161.2056 551.8526,161.1394 Q551.9849,161.0733 552.1568,161.0733 Q552.4346,161.0733 552.6462,161.2981 Q552.871,161.5098 552.871,161.8008 Q552.871,162.0917 552.5801,162.4356 Q552.1568,162.925 551.4823,163.2028 Q550.5696,163.5863 549.4718,163.5863 Q548.1888,163.5863 547.1704,163.0573 Q546.3371,162.634 545.7551,161.7346 Q545.1732,160.822 545.1732,159.7374 L545.1732,158.7586 Q545.1732,157.6344 545.689,156.6688 Q546.2181,155.6901 547.1439,155.1742 Q548.0698,154.6452 549.1147,154.6452 Q549.7364,154.6452 550.2786,154.7907 Q550.8342,154.9229 551.2971,155.2271 Z "/><text fill="#000000" font-family="sans-serif" font-size="10.158" lengthAdjust="spacingAndGlyphs" textLength="35.553" x="560.807" y="162.8754">Escritor</text><!--MD5=[607c379646cef37c27302f4c529b61dc]
class Isbn13--><rect fill="#FFFAFA" filter="url(#fecl3nzqsojho)" height="146.0413" id="Isbn13" style="stroke: #000000; stroke-width: 1.2697516930022572;" width="334.3679" x="400.395" y="202.3138"/><ellipse cx="547.8979" cy="215.8578" fill="#ADD1B2" rx="9.3115" ry="9.3115" style="stroke: #000000; stroke-width: 0.8465011286681715;"/><path d="M550.239,212.366 Q550.3712,212.1808 550.5299,212.0882 Q550.6887,211.9956 550.8738,211.9956 Q551.1913,211.9956 551.3897,212.2205 Q551.5881,212.4321 551.5881,212.9479 L551.5881,214.178 Q551.5881,214.6938 551.3897,214.9187 Q551.1913,215.1436 550.8738,215.1436 Q550.5829,215.1436 550.4109,214.9716 Q550.239,214.8129 550.1464,214.3764 Q550.1067,214.0722 549.948,213.9135 Q549.6702,213.596 549.1544,213.4109 Q548.6385,213.2257 548.1095,213.2257 Q547.4614,213.2257 546.9191,213.5035 Q546.39,213.7812 545.9668,214.4161 Q545.5568,215.051 545.5568,215.9239 L545.5568,216.8498 Q545.5568,217.8947 546.3107,218.5957 Q547.0646,219.2835 548.4137,219.2835 Q549.2073,219.2835 549.7628,219.0718 Q550.0935,218.9396 550.4506,218.5692 Q550.6754,218.3444 550.7945,218.2783 Q550.9267,218.2121 551.0987,218.2121 Q551.3764,218.2121 551.5881,218.437 Q551.8129,218.6486 551.8129,218.9396 Q551.8129,219.2306 551.5219,219.5745 Q551.0987,220.0638 550.4241,220.3416 Q549.5115,220.7252 548.4137,220.7252 Q547.1307,220.7252 546.1123,220.1961 Q545.279,219.7729 544.697,218.8734 Q544.1151,217.9608 544.1151,216.8762 L544.1151,215.8975 Q544.1151,214.7732 544.6309,213.8077 Q545.16,212.8289 546.0858,212.3131 Q547.0117,211.784 548.0566,211.784 Q548.6782,211.784 549.2205,211.9295 Q549.776,212.0618 550.239,212.366 Z "/><text fill="#000000" font-family="sans-serif" font-size="10.158" lengthAdjust="spacingAndGlyphs" textLength="32.167" x="565.2511" y="220.0142">Isbn13</text><line style="stroke: #000000; stroke-width: 1.2697516930022572;" x1="401.2415" x2="733.9165" y1="229.4018" y2="229.4018"/><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="105.8126" x="405.474" y="242.454">-prefijo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="148.9842" x="405.474" y="254.1661">-grupoDeRegistro : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="102.4266" x="405.474" y="265.8782">-titular : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="126.1287" x="405.474" y="277.5904">-publicacion : string {readOnly}</text><line style="stroke: #000000; stroke-width: 1.2697516930022572;" x1="401.2415" x2="733.9165" y1="283.0224" y2="283.0224"/><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="324.2099" x="405.474" y="296.0745">+Isbn13(in prefijo : int, in grupoDeRegistro : int, in titular : int, on publicacion : int)</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="105.8126" x="405.474" y="307.7867">+Isbn13(in isbn13 : string)</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="99.8871" x="405.474" y="319.4988">+Isbn13(in isbn : Isbn13)</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="90.5756" x="405.474" y="331.2109">+DigitoDeControl() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.3115" lengthAdjust="spacingAndGlyphs" textLength="154.0632" x="405.474" y="342.9231">+ATexto(in separador : string) : string</text><!--MD5=[91435e4c2633804ce6612f621abb47ea]
reverse link Libro to Escritor--><path d="M360.9608,189.6518 C428.2822,179.5319 497.4515,169.1335 535.98,163.3417 " fill="none" id="Libro&lt;-Escritor" style="stroke: #000000; stroke-width: 0.8465011286681715;"/><polygon fill="#FFFFFF" points="349.7404,191.3389,355.2664,193.9321,359.7855,189.8286,354.2595,187.2354,349.7404,191.3389" style="stroke: #000000; stroke-width: 0.8465011286681715;"/><text fill="#000000" font-family="sans-serif" font-size="11.0045" lengthAdjust="spacingAndGlyphs" textLength="5.9255" x="356.5905" y="202.0304">1</text><text fill="#000000" font-family="sans-serif" font-size="11.0045" lengthAdjust="spacingAndGlyphs" textLength="5.9255" x="523.4661" y="176.9658">1</text><!--MD5=[a09041bc2d7c6146515adf3623da726b]
reverse link Libro to Isbn13--><path d="M360.7745,244.5753 C373.9368,246.5536 387.1701,248.5429 400.2334,250.5068 " fill="none" id="Libro&lt;-Isbn13" style="stroke: #000000; stroke-width: 0.8465011286681715;"/><polygon fill="#000000" points="349.7404,242.9162,354.2595,247.0197,359.7855,244.4265,355.2664,240.323,349.7404,242.9162" style="stroke: #000000; stroke-width: 0.8465011286681715;"/><text fill="#000000" font-family="sans-serif" font-size="11.0045" lengthAdjust="spacingAndGlyphs" textLength="5.9255" x="356.5905" y="255.6225">1</text><text fill="#000000" font-family="sans-serif" font-size="11.0045" lengthAdjust="spacingAndGlyphs" textLength="5.9255" x="387.6552" y="261.2309">1</text><!--MD5=[9cad0d0deeba43623fe8e0c786b5c5b0]
@startuml

left to right direction
scale 750 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

Libro "1" o- - "1" Escritor
Libro "1" *- - "1" Isbn13

class Libro
{
    - titulo : string {readOnly}
    **- fecha : DateTime {readOnly}**
    - paginas : int {readOnly}
    - paginasLeídas : int

    + Libro(in titulo : string, **in fecha : DateTime**, in paginas : int, in autor : Escritor, **...**)
    + GetTitulo() : string
    **+ GetFecha() : DateTime**
    + GetAutor() : int
    + GetPaginas() : int
    + GetPaginasLeidas() : int
    - SetPaginasLeidas(in paginas : int) : void
    + Lee(int paginas : int) : int
    + PorcentajeLeído() : int
    + Descripción() : string
}

class Isbn13
{
    - prefijo : string {readOnly}
    - grupoDeRegistro : string {readOnly}
    - titular : string {readOnly}
    - publicacion : string {readOnly}

    + Isbn13(in prefijo : int, in grupoDeRegistro : int, in titular : int, on publicacion : int)
    + Isbn13(in isbn13 : string)
    + Isbn13(in isbn : Isbn13)
    + DigitoDeControl() : int
    + ATexto(in separador : string) : string
}


hide Escritor methods
hide Escritor attributes
class Escritor
{
}

package System
{
    hide DateTime methods
    hide DateTime attributes
    class DateTime <<(D,#FF7700) dataType>>
    {
    }
}
@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p>F&#xED;jate que con DateTime no hace falta indicar la relaci&#xF3;n porque al ser un tipo valor, forzosamente ya es una composici&#xF3;n. Adem&#xE1;s, de esta relaci&#xF3;n tambi&#xE9;n <strong>se debe deducir</strong> que en la clase libro tendremos un campo nuevo que podemos denominar <strong>isbn</strong> y que ser&#xE1; de solo lectura.</p>
<p>Veamos los cambios que implicar&#xE1; esta relaci&#xF3;n en la implementaci&#xF3;n de nuestra clase <strong><code>Libro</code></strong>.</p>
<p>Lo mas l&#xF3;gico es que llegue el <strong>ISBN</strong> al constructor de <strong><code>Libro</code></strong>, puesto que no es <strong>responsabilidad</strong> del libro definirlo, sino m&#xE1;s bien de un posible objeto de tipo <strong><code>Editorial</code></strong> de existir el mismo.</p>
<blockquote>
<p>&#x270B; <strong>Importante:</strong> Deberemos asegurarnos que la <strong>referencia</strong> al objeto <strong><code>Isbn13</code></strong> que tenga nuestro objeto <strong><code>Libro</code></strong>, solo la tenga &#xE9;l y no est&#xE9; referenciado por nadie m&#xE1;s, como puede suceder con el <strong><code>Escritor</code></strong> por ser una agregaci&#xF3;n.<br>
De esta manera al ser &apos;<em>Destruido</em>&apos; el libro, el el objeto <strong><code>Isbn13</code></strong> dejar&#xE1; de estar referenciado y tambi&#xE9;n ser&#xE1; destruido por el GC.<br>
&#x1F441; F&#xED;jate que por esa misma raz&#xF3;n no definimos ning&#xFA;n <strong>accesor publico</strong> del tipo <strong><code>GetISBN() : Isbn13</code></strong>. Si lo hici&#xE9;ramos, este deber&#xED;a devolver una <strong>copia</strong>.<br>
<strong>&#xBF;Qu&#xE9; sentido tiene que haya un objeto isbn referenciado por alguien, si su libro asociado ya no existe?</strong></p>
<p align="center" style="zoom:1"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="384pt" height="269pt" viewBox="0.00 0.00 384.00 269.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 265)">
<title>G</title>
<!-- ll -->
<g id="node1" class="node">
<title>ll</title>
<ellipse fill="none" stroke="#000000" cx="18" cy="-113" rx="18" ry="18"/>
<text text-anchor="middle" x="18" y="-108.8" font-family="Arial" font-size="14.00" fill="#000000">l</text>
</g>
<!-- ol -->
<g id="node3" class="node">
<title>ol</title>
<polygon fill="none" stroke="#000000" points="81,-164 81,-202 191,-202 191,-164 81,-164"/>
<text text-anchor="start" x="91.655" y="-178.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;l: Libro &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#ee1289" points="92,-135 92,-153 180,-153 180,-135 92,-135"/>
<text text-anchor="start" x="105.6676" y="-139.4" font-family="Arial" font-size="14.00" fill="#000000">DateTime</text>
<polygon fill="none" stroke="#ee1289" points="92,-87 92,-135 148,-135 148,-87 92,-87"/>
<text text-anchor="start" x="102.8808" y="-106.8" font-family="Arial" font-size="14.00" fill="#cd1076">fecha</text>
<text text-anchor="start" x="158.1641" y="-122.4" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<text text-anchor="start" x="158.1641" y="-106.4" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<text text-anchor="start" x="158.1641" y="-90.4" font-family="Arial" font-size="14.00" fill="#000000">...</text>
<polygon fill="none" stroke="#ee1289" points="91,-86 91,-154 181,-154 181,-86 91,-86"/>
<text text-anchor="start" x="149.101" y="-53.4" font-family="Arial" font-size="14.00" fill="#000000">autor</text>
<text text-anchor="start" x="155.3282" y="-37.4" font-family="Arial" font-size="14.00" fill="#cd1076">isbn</text>
<polygon fill="none" stroke="#000000" points="80,-23 80,-203 192,-203 192,-23 80,-23"/>
</g>
<!-- ll&#45;&gt;ol -->
<g id="edge1" class="edge">
<title>ll-&gt;ol</title>
<path fill="none" stroke="#000000" d="M36.1789,-113C43.472,-113 52.3974,-113 61.8817,-113"/>
<polygon fill="#000000" stroke="#000000" points="61.9227,-116.5001 71.9227,-113 61.9226,-109.5001 61.9227,-116.5001"/>
</g>
<!-- le -->
<g id="node2" class="node">
<title>le</title>
<ellipse fill="none" stroke="#000000" cx="136" cy="-243" rx="18" ry="18"/>
<text text-anchor="middle" x="136" y="-238.8" font-family="Arial" font-size="14.00" fill="#000000">e</text>
</g>
<!-- oa -->
<g id="node4" class="node">
<title>oa</title>
<polygon fill="none" stroke="#000000" points="244,-193 244,-231 368,-231 368,-193 244,-193"/>
<text text-anchor="start" x="254.6592" y="-207.4" font-family="Arial" font-size="14.00" fill="#000000">e, autor: Escritor</text>
<polygon fill="none" stroke="#000000" points="244,-155 244,-193 368,-193 368,-155 244,-155"/>
<text text-anchor="start" x="292.3829" y="-169.4" font-family="Arial" font-size="14.00" fill="#000000">... &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- le&#45;&gt;oa -->
<g id="edge4" class="edge">
<title>le-&gt;oa</title>
<path fill="none" stroke="#000000" d="M153.5527,-237.8374C171.0065,-232.704 199.0495,-224.456 226.3531,-216.4256"/>
<polygon fill="#000000" stroke="#000000" points="227.3552,-219.7791 235.9613,-213.5996 225.38,-213.0636 227.3552,-219.7791"/>
</g>
<!-- ol&#45;&gt;oa -->
<g id="edge2" class="edge">
<title>ol:autor-&gt;oa:w</title>
<path fill="none" stroke="#000000" d="M181,-58C241.9922,-58 179.4726,-177.6432 225.9908,-191.6639"/>
<polygon fill="#000000" stroke="#000000" points="225.6248,-195.146 236,-193 226.5511,-188.2075 225.6248,-195.146"/>
</g>
<!-- oi -->
<g id="node5" class="node">
<title>oi</title>
<polygon fill="none" stroke="#cd1076" points="258,-42 258,-80 355,-80 355,-42 258,-42"/>
<text text-anchor="start" x="268.763" y="-56.4" font-family="Arial" font-size="14.00" fill="#000000">isbn: Isbn13</text>
<polygon fill="none" stroke="#cd1076" points="258,-4 258,-42 355,-42 355,-4 258,-4"/>
<text text-anchor="start" x="292.8829" y="-18.4" font-family="Arial" font-size="14.00" fill="#000000">... &#xA0;&#xA0;&#xA0;</text>
</g>
<!-- ol&#45;&gt;oi -->
<g id="edge3" class="edge">
<title>ol:isbn-&gt;oi:w</title>
<path fill="none" stroke="#cd1076" d="M181,-42C207.5625,-42 216.6155,-42 238.9375,-42"/>
<polygon fill="#cd1076" stroke="#cd1076" points="239,-45.5001 249,-42 239,-38.5001 239,-45.5001"/>
</g>
</g>
</svg>
</p></blockquote>
<div style="page-break-after:always;"></div>
<p>Sabiendo que tenemos que recibir el ISBN como par&#xE1;metro, la forma <strong>m&#xE1;s com&#xFA;n</strong> (<em>existen otras</em>) de abordarlo es la siguiente:</p>
<blockquote>
<p>Si el objeto compuesto que recibimos como par&#xE1;metros es un tipo referencia, independientemente de si es mutable o no, nos quedemos con <strong>una copia del mismo</strong>.<br>
En el fondo esto es lo que sucede con un tipo valor como <strong><code>DateTime</code></strong> por su &apos;<em>naturaleza</em>&apos;.</p>
</blockquote>
<p>De esta manera el objeto <strong><code>Isbn13</code></strong> que estoy copiando desaparecer&#xE1; junto con el libro.<br>
&#x1F441; <strong>Nota:</strong> F&#xED;jate que con el <strong><code>Escritor</code></strong>, no sucede lo mismo.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[8, 11, 14, 20 25, 34 54]}" class="language-csharp" data-line="8,11,14,20,25,34,54"><span class="token keyword">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">DateTime</span> fecha<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Isbn13</span> isbn<span class="token punctuation">;</span>
    <span class="token comment">// ... c&#xF3;digo omitido por brevedad</span>
    <span class="token keyword">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span>
        <span class="token keyword">string</span> titulo<span class="token punctuation">,</span><span class="token keyword">in</span> <span class="token class-name">DateTime</span> fecha<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">int</span> paginas<span class="token punctuation">,</span> <span class="token class-name">Escritor</span> autor<span class="token punctuation">,</span>
        <span class="token class-name">Isbn13</span> isbn<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>titulo <span class="token operator">=</span> titulo<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fecha <span class="token operator">=</span> fecha<span class="token punctuation">;</span> <span class="token comment">// Aqu&#xED; estamos haciendo una copia por ser un tipo valor.</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>paginas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>autor <span class="token operator">=</span> autor<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isbn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Isbn13</span><span class="token punctuation">(</span>isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        titulo <span class="token operator">=</span> l<span class="token punctuation">.</span>titulo<span class="token punctuation">;</span>
        fecha <span class="token operator">=</span> l<span class="token punctuation">.</span>fecha<span class="token punctuation">;</span> <span class="token comment">// Aqu&#xED; estamos haciendo una copia por ser un tipo valor.</span>
        paginas <span class="token operator">=</span> l<span class="token punctuation">.</span>paginas<span class="token punctuation">;</span>
        autor <span class="token operator">=</span> l<span class="token punctuation">.</span>autor<span class="token punctuation">;</span>
        <span class="token comment">// Lo mismo sucede con el constructor copia donde haremos una copia en profundidad.</span>
        <span class="token comment">// duplicando el objeto referenciado por isbn, para que cada libro tenga el suyo y as&#xED; desaparezca con &#xE9;l.</span>
        isbn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Isbn13</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>paginasLeidas<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
    <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> $<span class="token string">&quot;Libro\n&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;--------------------------\n&quot;</span> <span class="token operator">+</span>
                $<span class="token string">&quot;T&#xED;tulo: {GetTitulo()}\n&quot;</span> <span class="token operator">+</span>
                $<span class="token string">&quot;Fecha: {GetFecha().ToShortTimeString()}\n&quot;</span> <span class="token operator">+</span>
                $<span class="token string">&quot;P&#xE1;ginas: {GetPaginas()}\n&quot;</span> <span class="token operator">+</span>
                $<span class="token string">&quot;ISBN: {isbn.ATexto(&quot;</span><span class="token operator">-</span><span class="token string">&quot;)}\n&quot;</span> <span class="token operator">+</span>
                $<span class="token string">&quot;Autor --------------------\n&quot;</span> <span class="token operator">+</span> $<span class="token string">&quot;{autor.Descripcion()}\n&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Escritor</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... c&#xF3;digo omitido por brevedad</span>
    <span class="token comment">// Tampoco es responsabilidad del escritor crear el ISBN.</span>
    <span class="token keyword">public</span> <span class="token class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token keyword">string</span> titulo<span class="token punctuation">,</span> <span class="token class-name">Isbn13</span> isbn<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400.</span><span class="token number">.800</span><span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Libro</span><span class="token punctuation">(</span>titulo<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Programa</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Escritor</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Escritor</span><span class="token punctuation">(</span><span class="token string">&quot;Mar&#xED;a&quot;</span><span class="token punctuation">,</span> <span class="token number">1980</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Isbn13</span> isbn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Isbn13</span><span class="token punctuation">(</span><span class="token string">&quot;9788420454665&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Nos hemos asegurado que el libro l tenga su propia referencia al objeto isbn.</span>
        <span class="token comment">// Lo que hagamos con el objeto isbn referenciado en el main, ya no importa porque no afecta a l</span>
        <span class="token class-name">Libro</span> l <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token string">&quot;Programaci&#xF3;n en C#&quot;</span><span class="token punctuation">,</span> isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span><span class="token function">Descripcion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">






<div aria-hidden="true" class="line-highlight" data-range="8" data-start="8">
</div></div><div class="line-highlight-wrapper">









<div aria-hidden="true" class="line-highlight" data-range="11" data-start="11">
</div></div><div class="line-highlight-wrapper">












<div aria-hidden="true" class="line-highlight" data-range="14" data-start="14">
</div></div><div class="line-highlight-wrapper">


















<div aria-hidden="true" class="line-highlight" data-range="20" data-start="20">
</div></div><div class="line-highlight-wrapper">























<div aria-hidden="true" class="line-highlight" data-range="25" data-start="25">
</div></div><div class="line-highlight-wrapper">
































<div aria-hidden="true" class="line-highlight" data-range="34" data-start="34">
</div></div><div class="line-highlight-wrapper">




















































<div aria-hidden="true" class="line-highlight" data-range="54" data-start="54">
</div></div></pre><div style="page-break-after:always;"></div>
<h3 class="mume-header" id="relaci%C3%B3n-de-herencia-generalizaci%C3%B3n">Relaci&#xF3;n de Herencia (Generalizaci&#xF3;n)</h3>

<ul>
<li>
<p>Una de las caracter&#xED;sticas principales de la POO. Formalmente podemos definirla como....</p>
<ul>
<li>Un tipo de relaci&#xF3;n entre clases, en la cual una clase denominada <strong>subclase</strong> (o tambi&#xE9;n <em>clase <strong>hija</strong></em>), comparte la estructura y/o comportamiento definidos en una o m&#xE1;s clases, llamadas <strong>superclases</strong> (o tambi&#xE9;n <em>clase <strong>padre</strong></em>, <em>clase <strong>base</strong></em>).</li>
<li>En otras palabras, una subclase a&#xF1;ade sus propios atributos y m&#xE9;todos a los de la superclase, por lo que generalmente es mayor que esta y representar&#xE1; a un grupo <strong>menor</strong> de objetos.</li>
</ul>
</li>
<li>
<p>De una forma menos formal podemos resaltar que...</p>
<ul>
<li>La subclase es un <strong>concreci&#xF3;n</strong> de la superclase que representar&#xE1; una <strong>generalizaci&#xF3;n</strong>.</li>
<li>Representar&#xE1; el tipo de relaci&#xF3;n &apos;<strong>Es un/a</strong>&apos;. Ej. &apos;<em>Un coche <strong>es un</strong> veh&#xED;culo.</em>&apos;</li>
<li>La <strong>herencia</strong> nos servir&#xE1; para reutilizar c&#xF3;digo y por tanto no repetir funcionalidades.</li>
</ul>
</li>
<li>
<p>Representaremos el rol a trav&#xE9;s de una flecha de punta hueca de la subclase a la superclase y se podr&#xE1;n producir relaciones <strong>transitivas</strong>.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="77.2727px" preserveAspectRatio="none" style="width:389px;height:77px;" version="1.1" viewBox="0 0 389 77" width="389.3939px" zoomAndPan="magnify"><defs><filter height="300%" id="f51tp2qd831ah" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="3.0303030303030303"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="6.0606060606060606" dy="6.0606060606060606" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[a46ee5ce0ceb0380cf446a08a056dce4]
class A--><rect fill="#FFFAFA" filter="url(#f51tp2qd831ah)" height="48.4848" id="A" style="stroke: #000000; stroke-width: 2.2727272727272725;" width="59.0909" x="9.0909" y="12.1212"/><ellipse cx="31.8182" cy="36.3636" fill="#ADD1B2" rx="16.6667" ry="16.6667" style="stroke: #000000; stroke-width: 1.5151515151515151;"/><path d="M36.0085,30.1136 Q36.2453,29.7822 36.5294,29.6165 Q36.8134,29.4508 37.1449,29.4508 Q37.7131,29.4508 38.0682,29.8532 Q38.4233,30.232 38.4233,31.1553 L38.4233,33.357 Q38.4233,34.2803 38.0682,34.6828 Q37.7131,35.0852 37.1449,35.0852 Q36.6241,35.0852 36.3163,34.7775 Q36.0085,34.4934 35.8428,33.7121 Q35.7718,33.1676 35.4877,32.8835 Q34.9905,32.3153 34.0672,31.9839 Q33.1439,31.6525 32.197,31.6525 Q31.0369,31.6525 30.0663,32.1496 Q29.1193,32.6468 28.3617,33.7831 Q27.6278,34.9195 27.6278,36.482 L27.6278,38.1392 Q27.6278,40.0095 28.9773,41.2642 Q30.3267,42.4953 32.7415,42.4953 Q34.1619,42.4953 35.1563,42.1165 Q35.7481,41.8797 36.3873,41.2169 Q36.7898,40.8144 37.0028,40.696 Q37.2396,40.5777 37.5473,40.5777 Q38.0445,40.5777 38.4233,40.9801 Q38.8258,41.3589 38.8258,41.8797 Q38.8258,42.4006 38.3049,43.0161 Q37.5473,43.892 36.34,44.3892 Q34.7064,45.0758 32.7415,45.0758 Q30.4451,45.0758 28.6222,44.1288 Q27.1307,43.3712 26.089,41.7614 Q25.0473,40.1278 25.0473,38.1866 L25.0473,36.4347 Q25.0473,34.4223 25.9706,32.6941 Q26.9176,30.9422 28.5748,30.0189 Q30.232,29.072 32.1023,29.072 Q33.215,29.072 34.1856,29.3324 Q35.1799,29.5691 36.0085,30.1136 Z "/><text fill="#000000" font-family="sans-serif" font-size="18.1818" lengthAdjust="spacingAndGlyphs" textLength="10.6061" x="53.0303" y="43.8033">A</text><!--MD5=[69c451c751c414e37549b782190fef46]
class B--><rect fill="#FFFAFA" filter="url(#f51tp2qd831ah)" height="48.4848" id="B" style="stroke: #000000; stroke-width: 2.2727272727272725;" width="60.6061" x="159.0909" y="12.1212"/><ellipse cx="181.8182" cy="36.3636" fill="#ADD1B2" rx="16.6667" ry="16.6667" style="stroke: #000000; stroke-width: 1.5151515151515151;"/><path d="M186.0085,30.1136 Q186.2453,29.7822 186.5294,29.6165 Q186.8134,29.4508 187.1449,29.4508 Q187.7131,29.4508 188.0682,29.8532 Q188.4233,30.232 188.4233,31.1553 L188.4233,33.357 Q188.4233,34.2803 188.0682,34.6828 Q187.7131,35.0852 187.1449,35.0852 Q186.6241,35.0852 186.3163,34.7775 Q186.0085,34.4934 185.8428,33.7121 Q185.7718,33.1676 185.4877,32.8835 Q184.9905,32.3153 184.0672,31.9839 Q183.1439,31.6525 182.197,31.6525 Q181.0369,31.6525 180.0663,32.1496 Q179.1193,32.6468 178.3617,33.7831 Q177.6278,34.9195 177.6278,36.482 L177.6278,38.1392 Q177.6278,40.0095 178.9773,41.2642 Q180.3267,42.4953 182.7415,42.4953 Q184.1619,42.4953 185.1563,42.1165 Q185.7481,41.8797 186.3873,41.2169 Q186.7898,40.8144 187.0028,40.696 Q187.2396,40.5777 187.5473,40.5777 Q188.0445,40.5777 188.4233,40.9801 Q188.8258,41.3589 188.8258,41.8797 Q188.8258,42.4006 188.3049,43.0161 Q187.5473,43.892 186.34,44.3892 Q184.7064,45.0758 182.7415,45.0758 Q180.4451,45.0758 178.6222,44.1288 Q177.1307,43.3712 176.089,41.7614 Q175.0473,40.1278 175.0473,38.1866 L175.0473,36.4347 Q175.0473,34.4223 175.9706,32.6941 Q176.9176,30.9422 178.5748,30.0189 Q180.232,29.072 182.1023,29.072 Q183.215,29.072 184.1856,29.3324 Q185.1799,29.5691 186.0085,30.1136 Z "/><text fill="#000000" font-family="sans-serif" font-size="18.1818" lengthAdjust="spacingAndGlyphs" textLength="12.1212" x="203.0303" y="43.8033">B</text><!--MD5=[378b18254a1b2429f435e93f5e5cc50c]
class C--><rect fill="#FFFAFA" filter="url(#f51tp2qd831ah)" height="48.4848" id="C" style="stroke: #000000; stroke-width: 2.2727272727272725;" width="62.1212" x="310.6061" y="12.1212"/><ellipse cx="333.3333" cy="36.3636" fill="#ADD1B2" rx="16.6667" ry="16.6667" style="stroke: #000000; stroke-width: 1.5151515151515151;"/><path d="M337.5237,30.1136 Q337.7604,29.7822 338.0445,29.6165 Q338.3286,29.4508 338.66,29.4508 Q339.2282,29.4508 339.5833,29.8532 Q339.9384,30.232 339.9384,31.1553 L339.9384,33.357 Q339.9384,34.2803 339.5833,34.6828 Q339.2282,35.0852 338.66,35.0852 Q338.1392,35.0852 337.8314,34.7775 Q337.5237,34.4934 337.358,33.7121 Q337.2869,33.1676 337.0028,32.8835 Q336.5057,32.3153 335.5824,31.9839 Q334.6591,31.6525 333.7121,31.6525 Q332.5521,31.6525 331.5814,32.1496 Q330.6345,32.6468 329.8769,33.7831 Q329.143,34.9195 329.143,36.482 L329.143,38.1392 Q329.143,40.0095 330.4924,41.2642 Q331.8419,42.4953 334.2566,42.4953 Q335.6771,42.4953 336.6714,42.1165 Q337.2633,41.8797 337.9025,41.2169 Q338.3049,40.8144 338.518,40.696 Q338.7547,40.5777 339.0625,40.5777 Q339.5597,40.5777 339.9384,40.9801 Q340.3409,41.3589 340.3409,41.8797 Q340.3409,42.4006 339.8201,43.0161 Q339.0625,43.892 337.8551,44.3892 Q336.2216,45.0758 334.2566,45.0758 Q331.9602,45.0758 330.1373,44.1288 Q328.6458,43.3712 327.6042,41.7614 Q326.5625,40.1278 326.5625,38.1866 L326.5625,36.4347 Q326.5625,34.4223 327.4858,32.6941 Q328.4328,30.9422 330.09,30.0189 Q331.7472,29.072 333.6174,29.072 Q334.7301,29.072 335.7008,29.3324 Q336.6951,29.5691 337.5237,30.1136 Z "/><text fill="#000000" font-family="sans-serif" font-size="18.1818" lengthAdjust="spacingAndGlyphs" textLength="13.6364" x="354.5455" y="43.8033">C</text><!--MD5=[81500ff05264bba268bb228b65a49ed8]
reverse link A to B--><path d="M99.528,36.3636 C120.0109,36.3636 142.0409,36.3636 158.9789,36.3636 " fill="none" id="A&lt;-B" style="stroke: #000000; stroke-width: 1.5151515151515151;"/><polygon fill="none" points="98.9379,46.9695,68.6348,36.3636,98.9377,25.7574,98.9379,46.9695" style="stroke: #000000; stroke-width: 1.5151515151515151;"/><!--MD5=[86a7f2f40e8d9a69bf1262f888265aa3]
reverse link B to C--><path d="M251.1394,36.3636 C271.4667,36.3636 293.2742,36.3636 310.2167,36.3636 " fill="none" id="B&lt;-C" style="stroke: #000000; stroke-width: 1.5151515151515151;"/><polygon fill="none" points="250.697,46.9695,220.3939,36.3636,250.697,25.7574,250.697,46.9695" style="stroke: #000000; stroke-width: 1.5151515151515151;"/><!--MD5=[b1a3303b6aee05333b5e4015dbff9199]
@startuml

left to right direction
scale 400 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide attributes
hide methods

A ^- -B
B ^- -C

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><ul>
<li><strong>B</strong> hereda de <strong>A</strong></li>
<li><strong>B</strong> es una concreci&#xF3;n <strong>A</strong></li>
<li><strong>A</strong> es una generalizaci&#xF3;n <strong>B</strong></li>
<li><strong>A</strong> es la superclase y <strong>B</strong> la subclase</li>
<li><strong>C</strong> hereda de <strong>B</strong> y <strong>A</strong></li>
<li><strong>B</strong> y <strong>C</strong> son subclases de <strong>A</strong></li>
</ul>
</li>
</ul>
<h4 class="mume-header" id="tipos-de-herencia">Tipos de Herencia</h4>

<h5 class="mume-header" id="herencia-simple">Herencia Simple</h5>

<ul>
<li>
<p>Cuando la subclase hereda de <strong>una sola</strong> superclase.</p>
</li>
<li>
<p>Ser&#xE1; la que nosotros vamos a usar.</p>
</li>
<li>
<p>Por <strong>ejemplo</strong>, supongamos Tenemos la superclase <strong><code>Articulo</code></strong> con un <strong><code>precio</code></strong> y un <strong><code>nombre</code></strong>.<br>
Una subclase de <strong><code>Articulo</code></strong> denominada <strong><code>ArticuloRebajado</code></strong> que adem&#xE1;s a&#xF1;ade al articulo un campo con el porcentaje de rebaja denominado <strong><code>porcentajeRebaja</code></strong>.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="109.5541px" preserveAspectRatio="none" style="width:391px;height:109px;" version="1.1" viewBox="0 0 391 109" width="391.0828px" zoomAndPan="magnify"><defs><filter height="300%" id="fd87cgc42rec0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.5477707006369426"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.095541401273885" dy="5.095541401273885" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[60dbf6945f26d51d7ef11e92d44c812f]
class Articulo--><rect fill="#FFFAFA" filter="url(#fd87cgc42rec0)" height="86.2062" id="Articulo" style="stroke: #000000; stroke-width: 1.910828025477707;" width="114.6497" x="7.6433" y="10.1911"/><ellipse cx="37.0701" cy="30.5732" fill="#ADD1B2" rx="14.0127" ry="14.0127" style="stroke: #000000; stroke-width: 1.2738853503184713;"/><path d="M40.5932,25.3185 Q40.7922,25.0398 41.0311,24.9005 Q41.2699,24.7611 41.5486,24.7611 Q42.0263,24.7611 42.3248,25.0995 Q42.6234,25.418 42.6234,26.1943 L42.6234,28.0454 Q42.6234,28.8217 42.3248,29.16 Q42.0263,29.4984 41.5486,29.4984 Q41.1107,29.4984 40.8519,29.2396 Q40.5932,29.0008 40.4538,28.3439 Q40.3941,27.8861 40.1553,27.6473 Q39.7373,27.1696 38.961,26.8909 Q38.1847,26.6123 37.3885,26.6123 Q36.4132,26.6123 35.5971,27.0303 Q34.801,27.4482 34.164,28.4037 Q33.547,29.3591 33.547,30.6728 L33.547,32.0661 Q33.547,33.6385 34.6815,34.6935 Q35.8161,35.7285 37.8463,35.7285 Q39.0406,35.7285 39.8766,35.41 Q40.3742,35.211 40.9116,34.6537 Q41.25,34.3153 41.4291,34.2158 Q41.6282,34.1162 41.8869,34.1162 Q42.3049,34.1162 42.6234,34.4546 Q42.9618,34.7731 42.9618,35.211 Q42.9618,35.6489 42.5239,36.1664 Q41.8869,36.9029 40.8718,37.3209 Q39.4984,37.8981 37.8463,37.8981 Q35.9156,37.8981 34.383,37.1019 Q33.129,36.465 32.2532,35.1115 Q31.3774,33.7381 31.3774,32.1059 L31.3774,30.633 Q31.3774,28.9411 32.1537,27.4881 Q32.9498,26.0151 34.3432,25.2389 Q35.7365,24.4427 37.3089,24.4427 Q38.2444,24.4427 39.0605,24.6616 Q39.8965,24.8607 40.5932,25.3185 Z "/><text fill="#000000" font-family="sans-serif" font-size="15.2866" lengthAdjust="spacingAndGlyphs" textLength="50.9554" x="57.1975" y="36.8282">Articulo</text><line style="stroke: #000000; stroke-width: 1.910828025477707;" x1="8.9172" x2="121.0191" y1="50.9554" y2="50.9554"/><text fill="#000000" font-family="sans-serif" font-size="14.0127" lengthAdjust="spacingAndGlyphs" textLength="98.0892" x="15.2866" y="70.5974">#precio : double</text><text fill="#000000" font-family="sans-serif" font-size="14.0127" lengthAdjust="spacingAndGlyphs" textLength="99.3631" x="15.2866" y="88.2228">#nombre : string</text><!--MD5=[2f7aa29e6ed06458ec3a8577fe477f93]
class ArticuloRebajado--><rect fill="#FFFAFA" filter="url(#fd87cgc42rec0)" height="68.5808" id="ArticuloRebajado" style="stroke: #000000; stroke-width: 1.910828025477707;" width="178.3439" x="198.7261" y="19.1083"/><ellipse cx="225.8599" cy="39.4904" fill="#ADD1B2" rx="14.0127" ry="14.0127" style="stroke: #000000; stroke-width: 1.2738853503184713;"/><path d="M229.383,34.2357 Q229.582,33.957 229.8209,33.8177 Q230.0597,33.6783 230.3384,33.6783 Q230.8161,33.6783 231.1146,34.0167 Q231.4132,34.3352 231.4132,35.1115 L231.4132,36.9626 Q231.4132,37.7389 231.1146,38.0772 Q230.8161,38.4156 230.3384,38.4156 Q229.9005,38.4156 229.6417,38.1568 Q229.383,37.918 229.2436,37.2611 Q229.1839,36.8033 228.9451,36.5645 Q228.5271,36.0868 227.7508,35.8081 Q226.9745,35.5295 226.1783,35.5295 Q225.203,35.5295 224.3869,35.9475 Q223.5908,36.3654 222.9538,37.3209 Q222.3368,38.2763 222.3368,39.59 L222.3368,40.9833 Q222.3368,42.5557 223.4713,43.6107 Q224.6059,44.6457 226.6361,44.6457 Q227.8304,44.6457 228.6664,44.3272 Q229.164,44.1282 229.7014,43.5709 Q230.0398,43.2325 230.2189,43.133 Q230.418,43.0334 230.6768,43.0334 Q231.0947,43.0334 231.4132,43.3718 Q231.7516,43.6903 231.7516,44.1282 Q231.7516,44.5661 231.3137,45.0836 Q230.6768,45.8201 229.6616,46.2381 Q228.2882,46.8153 226.6361,46.8153 Q224.7054,46.8153 223.1728,46.0191 Q221.9188,45.3822 221.043,44.0287 Q220.1672,42.6553 220.1672,41.0231 L220.1672,39.5502 Q220.1672,37.8583 220.9435,36.4053 Q221.7396,34.9323 223.133,34.1561 Q224.5263,33.3599 226.0987,33.3599 Q227.0342,33.3599 227.8503,33.5788 Q228.6863,33.7779 229.383,34.2357 Z "/><text fill="#000000" font-family="sans-serif" font-size="15.2866" lengthAdjust="spacingAndGlyphs" textLength="119.7452" x="245.4777" y="45.7454">ArticuloRebajado</text><line style="stroke: #000000; stroke-width: 1.910828025477707;" x1="200" x2="375.7962" y1="59.8726" y2="59.8726"/><text fill="#000000" font-family="sans-serif" font-size="14.0127" lengthAdjust="spacingAndGlyphs" textLength="163.0573" x="206.3694" y="79.5146">-porcentajeRebaja : ushort</text><!--MD5=[4c5e07181522a81d7ce4ca381a4c3897]
reverse link Articulo to ArticuloRebajado--><path d="M148.0713,53.5032 C164.4854,53.5032 181.8,53.5032 198.4178,53.5032 " fill="none" id="Articulo&lt;-ArticuloRebajado" style="stroke: #000000; stroke-width: 1.2738853503184713;"/><polygon fill="none" points="147.9019,62.4203,122.4239,53.5032,147.9019,44.5859,147.9019,62.4203" style="stroke: #000000; stroke-width: 1.2738853503184713;"/><!--MD5=[3657842dbd98762b28e6ffa99b3e94fd]
@startuml

scale 400 width
left to right direction
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide methods

class Articulo
{
    # precio : double
    # nombre : string
}

class ArticuloRebajado
{
    - porcentajeRebaja : ushort
}

Articulo ^- - ArticuloRebajado

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><blockquote>
<p>&#x1F441; La instancia de un objeto en memoria de <strong><code>ArticuloRebajado</code></strong> adem&#xE1;s de tener un campo <strong><code>porcentajeRebaja</code></strong>, tendr&#xE1; los campos <strong><code>precio</code></strong> y <strong><code>nombre</code></strong> por ser tambi&#xE9;n un <strong><code>Articulo</code></strong> y todos ellos definir&#xE1;n su estado.</p>
</blockquote>
</li>
</ul>
<h5 class="mume-header" id="herencia-m%C3%BAltiple">Herencia M&#xFA;ltiple</h5>

<ul>
<li>
<p>Se dar&#xE1; cuando una subclase hereda caracter&#xED;sticas de varias superclases.</p>
</li>
<li>
<p><strong>Tiene m&#xE1;s desventajas que ventajas. Por eso C# y Java NO la permiten.</strong> Aunque otros lenguajes como Python o C++ s&#xED;.</p>
</li>
<li>
<p>Entre las <strong>desventajas</strong> que hace que C# no la permita podemos destacar:</p>
<ul>
<li>
<p><strong>Menor velocidad</strong> de ejecuci&#xF3;n.</p>
</li>
<li>
<p><strong>Herencia repetida (Transitividad)</strong>.</p>
<p>En el ejemplo <strong><code>ProfesorUniversitario</code></strong> hereda <strong>2 veces</strong> o a trav&#xE9;s de dos clases diferentes los atributos de <strong><code>Persona</code></strong>.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="247.8903px" preserveAspectRatio="none" style="width:242px;height:247px;" version="1.1" viewBox="0 0 242 247" width="242.616px" zoomAndPan="magnify"><defs><filter height="300%" id="f1t68w2qv1y3x5" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.109704641350211"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.219409282700422" dy="4.219409282700422" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[8f63dadf5c643e74a34e53c8f0a15d23]
class Persona--><rect fill="#FFFAFA" filter="url(#f1t68w2qv1y3x5)" height="33.7553" id="Persona" style="stroke: #000000; stroke-width: 1.5822784810126582;" width="83.3333" x="71.73" y="8.4388"/><ellipse cx="87.5527" cy="25.3165" fill="#ADD1B2" rx="11.6034" ry="11.6034" style="stroke: #000000; stroke-width: 1.0548523206751055;"/><path d="M90.4701,20.9652 Q90.6349,20.7344 90.8327,20.6191 Q91.0305,20.5037 91.2612,20.5037 Q91.6568,20.5037 91.904,20.7839 Q92.1512,21.0476 92.1512,21.6904 L92.1512,23.2232 Q92.1512,23.866 91.904,24.1462 Q91.6568,24.4264 91.2612,24.4264 Q90.8986,24.4264 90.6843,24.2122 Q90.4701,24.0144 90.3547,23.4705 Q90.3052,23.0914 90.1075,22.8936 Q89.7613,22.498 89.1185,22.2673 Q88.4757,22.0365 87.8165,22.0365 Q87.0088,22.0365 86.3331,22.3826 Q85.6738,22.7288 85.1464,23.5199 Q84.6354,24.311 84.6354,25.3989 L84.6354,26.5526 Q84.6354,27.8547 85.5749,28.7282 Q86.5144,29.5853 88.1955,29.5853 Q89.1845,29.5853 89.8767,29.3216 Q90.2888,29.1568 90.7338,28.6953 Q91.014,28.4151 91.1623,28.3327 Q91.3271,28.2503 91.5414,28.2503 Q91.8875,28.2503 92.1512,28.5305 Q92.4314,28.7942 92.4314,29.1568 Q92.4314,29.5194 92.0688,29.9479 Q91.5414,30.5578 90.7008,30.9039 Q89.5636,31.3819 88.1955,31.3819 Q86.5968,31.3819 85.3277,30.7226 Q84.2893,30.1951 83.5641,29.0744 Q82.8389,27.9371 82.8389,26.5856 L82.8389,25.3659 Q82.8389,23.9649 83.4817,22.7617 Q84.141,21.5421 85.2947,20.8993 Q86.4484,20.24 87.7505,20.24 Q88.5252,20.24 89.2009,20.4213 Q89.8932,20.5861 90.4701,20.9652 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.6582" lengthAdjust="spacingAndGlyphs" textLength="49.5781" x="102.3207" y="30.4959">Persona</text><!--MD5=[dd3b13c530c963ada90a48d1c3f4bdb3]
class Profesor--><rect fill="#FFFAFA" filter="url(#f1t68w2qv1y3x5)" height="33.7553" id="Profesor" style="stroke: #000000; stroke-width: 1.5822784810126582;" width="83.3333" x="6.3291" y="105.4852"/><ellipse cx="22.1519" cy="122.3629" fill="#ADD1B2" rx="11.6034" ry="11.6034" style="stroke: #000000; stroke-width: 1.0548523206751055;"/><path d="M25.0692,118.0116 Q25.234,117.7809 25.4318,117.6655 Q25.6296,117.5501 25.8604,117.5501 Q26.2559,117.5501 26.5032,117.8303 Q26.7504,118.094 26.7504,118.7368 L26.7504,120.2696 Q26.7504,120.9124 26.5032,121.1926 Q26.2559,121.4728 25.8604,121.4728 Q25.4978,121.4728 25.2835,121.2586 Q25.0692,121.0608 24.9539,120.5169 Q24.9044,120.1378 24.7066,119.94 Q24.3605,119.5444 23.7177,119.3137 Q23.0749,119.0829 22.4156,119.0829 Q21.608,119.0829 20.9322,119.4291 Q20.2729,119.7752 19.7455,120.5663 Q19.2346,121.3575 19.2346,122.4453 L19.2346,123.599 Q19.2346,124.9011 20.1741,125.7747 Q21.1135,126.6317 22.7947,126.6317 Q23.7836,126.6317 24.4759,126.368 Q24.8879,126.2032 25.3329,125.7417 Q25.6131,125.4615 25.7615,125.3791 Q25.9263,125.2967 26.1406,125.2967 Q26.4867,125.2967 26.7504,125.5769 Q27.0306,125.8406 27.0306,126.2032 Q27.0306,126.5658 26.668,126.9943 Q26.1406,127.6042 25.3,127.9503 Q24.1627,128.4283 22.7947,128.4283 Q21.1959,128.4283 19.9268,127.769 Q18.8884,127.2416 18.1632,126.1208 Q17.438,124.9835 17.438,123.632 L17.438,122.4123 Q17.438,121.0113 18.0808,119.8081 Q18.7401,118.5885 19.8939,117.9457 Q21.0476,117.2864 22.3497,117.2864 Q23.1243,117.2864 23.8001,117.4677 Q24.4924,117.6325 25.0692,118.0116 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.6582" lengthAdjust="spacingAndGlyphs" textLength="49.5781" x="36.9198" y="127.5424">Profesor</text><!--MD5=[c0995101a1341b36be05106ad95848ec]
class Investigador--><rect fill="#FFFAFA" filter="url(#f1t68w2qv1y3x5)" height="33.7553" id="Investigador" style="stroke: #000000; stroke-width: 1.5822784810126582;" width="104.4304" x="126.5823" y="105.4852"/><ellipse cx="142.4051" cy="122.3629" fill="#ADD1B2" rx="11.6034" ry="11.6034" style="stroke: #000000; stroke-width: 1.0548523206751055;"/><path d="M145.3224,118.0116 Q145.4872,117.7809 145.685,117.6655 Q145.8828,117.5501 146.1135,117.5501 Q146.5091,117.5501 146.7563,117.8303 Q147.0036,118.094 147.0036,118.7368 L147.0036,120.2696 Q147.0036,120.9124 146.7563,121.1926 Q146.5091,121.4728 146.1135,121.4728 Q145.7509,121.4728 145.5367,121.2586 Q145.3224,121.0608 145.207,120.5169 Q145.1576,120.1378 144.9598,119.94 Q144.6137,119.5444 143.9709,119.3137 Q143.3281,119.0829 142.6688,119.0829 Q141.8612,119.0829 141.1854,119.4291 Q140.5261,119.7752 139.9987,120.5663 Q139.4877,121.3575 139.4877,122.4453 L139.4877,123.599 Q139.4877,124.9011 140.4272,125.7747 Q141.3667,126.6317 143.0479,126.6317 Q144.0368,126.6317 144.729,126.368 Q145.1411,126.2032 145.5861,125.7417 Q145.8663,125.4615 146.0146,125.3791 Q146.1795,125.2967 146.3937,125.2967 Q146.7398,125.2967 147.0036,125.5769 Q147.2838,125.8406 147.2838,126.2032 Q147.2838,126.5658 146.9211,126.9943 Q146.3937,127.6042 145.5531,127.9503 Q144.4159,128.4283 143.0479,128.4283 Q141.4491,128.4283 140.18,127.769 Q139.1416,127.2416 138.4164,126.1208 Q137.6912,124.9835 137.6912,123.632 L137.6912,122.4123 Q137.6912,121.0113 138.334,119.8081 Q138.9933,118.5885 140.147,117.9457 Q141.3008,117.2864 142.6028,117.2864 Q143.3775,117.2864 144.0533,117.4677 Q144.7455,117.6325 145.3224,118.0116 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.6582" lengthAdjust="spacingAndGlyphs" textLength="70.6751" x="157.173" y="127.5424">Investigador</text><!--MD5=[9e56b4e032529983900028f486242195]
class ProfesorUniversitario--><rect fill="#FFFAFA" filter="url(#f1t68w2qv1y3x5)" height="33.7553" id="ProfesorUniversitario" style="stroke: #000000; stroke-width: 1.5822784810126582;" width="156.1181" x="35.3376" y="202.5316"/><ellipse cx="51.1603" cy="219.4093" fill="#ADD1B2" rx="11.6034" ry="11.6034" style="stroke: #000000; stroke-width: 1.0548523206751055;"/><path d="M54.0777,215.058 Q54.2425,214.8273 54.4403,214.7119 Q54.6381,214.5965 54.8688,214.5965 Q55.2644,214.5965 55.5116,214.8767 Q55.7588,215.1404 55.7588,215.7832 L55.7588,217.3161 Q55.7588,217.9589 55.5116,218.2391 Q55.2644,218.5193 54.8688,218.5193 Q54.5062,218.5193 54.2919,218.305 Q54.0777,218.1072 53.9623,217.5633 Q53.9128,217.1842 53.7151,216.9864 Q53.3689,216.5908 52.7261,216.3601 Q52.0833,216.1294 51.4241,216.1294 Q50.6164,216.1294 49.9407,216.4755 Q49.2814,216.8216 48.754,217.6127 Q48.243,218.4039 48.243,219.4917 L48.243,220.6454 Q48.243,221.9475 49.1825,222.8211 Q50.122,223.6781 51.8031,223.6781 Q52.7921,223.6781 53.4843,223.4144 Q53.8964,223.2496 54.3414,222.7881 Q54.6216,222.5079 54.7699,222.4255 Q54.9347,222.3431 55.149,222.3431 Q55.4951,222.3431 55.7588,222.6233 Q56.039,222.887 56.039,223.2496 Q56.039,223.6122 55.6764,224.0407 Q55.149,224.6506 54.3084,224.9967 Q53.1711,225.4747 51.8031,225.4747 Q50.2044,225.4747 48.9353,224.8154 Q47.8969,224.288 47.1717,223.1672 Q46.4465,222.0299 46.4465,220.6784 L46.4465,219.4587 Q46.4465,218.0578 47.0893,216.8546 Q47.7485,215.6349 48.9023,214.9921 Q50.056,214.3328 51.3581,214.3328 Q52.1328,214.3328 52.8085,214.5141 Q53.5008,214.6789 54.0777,215.058 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.6582" lengthAdjust="spacingAndGlyphs" textLength="122.3629" x="65.9283" y="224.5888">ProfesorUniversitario</text><!--MD5=[9e09bab47cb2ac82a022484be85e74c3]
reverse link Persona to Profesor--><path d="M90.0132,60.3154 C79.4131,75.7025 67.388,93.1582 58.9263,105.4409 " fill="none" id="Persona&lt;-Profesor" style="stroke: #000000; stroke-width: 1.0548523206751055;"/><polygon fill="none" points="84.253,55.6603,102.3022,42.4757,96.4146,64.039,84.253,55.6603" style="stroke: #000000; stroke-width: 1.0548523206751055;"/><!--MD5=[07413cd62d39b3e5468e3513f2d4ccb4]
reverse link Persona to Investigador--><path d="M136.7806,60.3154 C147.3797,75.7025 159.4051,93.1582 167.8671,105.4409 " fill="none" id="Persona&lt;-Investigador" style="stroke: #000000; stroke-width: 1.0548523206751055;"/><polygon fill="none" points="130.3787,64.039,124.4905,42.4757,142.5401,55.6603,130.3787,64.039" style="stroke: #000000; stroke-width: 1.0548523206751055;"/><!--MD5=[fbc6095696164ee45af6b7012ed6a2b0]
reverse link Profesor to ProfesorUniversitario--><path d="M71.3792,157.3614 C81.9793,172.7486 94.0044,190.2045 102.4661,202.4876 " fill="none" id="Profesor&lt;-ProfesorUniversitario" style="stroke: #000000; stroke-width: 1.0548523206751055;"/><polygon fill="none" points="64.9778,161.085,59.0902,139.5225,77.1395,152.7071,64.9778,161.085" style="stroke: #000000; stroke-width: 1.0548523206751055;"/><!--MD5=[3246e8526eb2b1f398539f9feafbc5ef]
reverse link Investigador to ProfesorUniversitario--><path d="M155.4135,157.3614 C144.8143,172.7486 132.789,190.2045 124.327,202.4876 " fill="none" id="Investigador&lt;-ProfesorUniversitario" style="stroke: #000000; stroke-width: 1.0548523206751055;"/><polygon fill="none" points="149.654,152.7071,167.7036,139.5225,161.8154,161.085,149.654,152.7071" style="stroke: #000000; stroke-width: 1.0548523206751055;"/><!--MD5=[18412edf50c4d991a4fcfff27b6438f1]
@startuml

scale 250 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide attributes
hide methods

Persona ^- - Profesor
Persona ^- - Investigador
Profesor ^- - ProfesorUniversitario
Investigador ^- - ProfesorUniversitario
@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p></li>
<li>
<p><strong>Dise&#xF1;os m&#xE1;s complejos</strong> y m&#xE1;s dif&#xED;ciles de aprender y utilizar por el programador.<br>
<strong>Nota:</strong> Siempre podremos <strong>redise&#xF1;ar</strong> utilizando  herencia simple.</p>
</li>
<li>
<p><strong>Colisiones de Nombres</strong></p>
<p>En el ejemplo la subclase <strong><code>Multimedia</code></strong> hereda campos <strong>con el mismo nombre</strong> de las clases base <strong><code>Sonido</code></strong> y <strong><code>Gr&#xE1;ficos</code></strong>.<br>
Cuando hagamos referencia al campo <strong><code>escala</code></strong> en <strong><code>Multimedia</code></strong>.</p>
<blockquote>
<p>&#xBF;C&#xF3;mo podemos saber si estamos haciendo referencia a la escala de <strong><code>Sonido</code></strong> o la 3de <strong><code>Gr&#xE1;ficos</code></strong>?</p>
</blockquote>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="174.5125px" preserveAspectRatio="none" style="width:343px;height:174px;" version="1.1" viewBox="0 0 343 174" width="343.1755px" zoomAndPan="magnify"><defs><filter height="300%" id="fj6s1c7fu0w3i" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.9498607242339834"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.8997214484679668" dy="3.8997214484679668" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[156146288f1ff037660669ac633042b0]
class Multimedia--><rect fill="#FFFAFA" filter="url(#fj6s1c7fu0w3i)" height="31.1978" id="Multimedia" style="stroke: #000000; stroke-width: 1.4623955431754876;" width="89.6936" x="123.8162" y="132.5905"/><ellipse cx="138.4401" cy="148.1894" fill="#ADD1B2" rx="10.7242" ry="10.7242" style="stroke: #000000; stroke-width: 0.9749303621169917;"/><path d="M141.1364,144.1678 Q141.2887,143.9546 141.4715,143.8479 Q141.6543,143.7413 141.8676,143.7413 Q142.2332,143.7413 142.4617,144.0003 Q142.6902,144.244 142.6902,144.8381 L142.6902,146.2548 Q142.6902,146.8489 142.4617,147.1079 Q142.2332,147.3668 141.8676,147.3668 Q141.5325,147.3668 141.3344,147.1688 Q141.1364,146.986 141.0298,146.4833 Q140.9841,146.1329 140.8013,145.9501 Q140.4814,145.5845 139.8873,145.3713 Q139.2932,145.158 138.6838,145.158 Q137.9374,145.158 137.3128,145.4779 Q136.7035,145.7978 136.2161,146.529 Q135.7438,147.2602 135.7438,148.2656 L135.7438,149.3319 Q135.7438,150.5353 136.6121,151.3427 Q137.4804,152.1348 139.0342,152.1348 Q139.9482,152.1348 140.588,151.8911 Q140.9688,151.7388 141.3801,151.3122 Q141.6391,151.0533 141.7762,150.9771 Q141.9285,150.9009 142.1266,150.9009 Q142.4465,150.9009 142.6902,151.1599 Q142.9492,151.4036 142.9492,151.7388 Q142.9492,152.0739 142.614,152.47 Q142.1266,153.0336 141.3497,153.3535 Q140.2986,153.7953 139.0342,153.7953 Q137.5566,153.7953 136.3836,153.1859 Q135.4239,152.6985 134.7537,151.6626 Q134.0834,150.6115 134.0834,149.3624 L134.0834,148.2351 Q134.0834,146.9403 134.6775,145.8283 Q135.2868,144.701 136.3532,144.1069 Q137.4195,143.4976 138.6229,143.4976 Q139.3389,143.4976 139.9634,143.6651 Q140.6032,143.8175 141.1364,144.1678 Z "/><text fill="#000000" font-family="sans-serif" font-size="11.6992" lengthAdjust="spacingAndGlyphs" textLength="58.4958" x="152.0891" y="152.9765">Multimedia</text><!--MD5=[e817a77413eaa25dee9fa31a858ede1a]
class Sonido--><rect fill="#FFFAFA" filter="url(#fj6s1c7fu0w3i)" height="65.9754" id="Sonido" style="stroke: #000000; stroke-width: 1.4623955431754876;" width="146.2396" x="5.8496" y="7.7994"/><ellipse cx="55.8148" cy="23.3983" fill="#ADD1B2" rx="10.7242" ry="10.7242" style="stroke: #000000; stroke-width: 0.9749303621169917;"/><path d="M58.5111,19.3767 Q58.6634,19.1635 58.8462,19.0568 Q59.029,18.9502 59.2423,18.9502 Q59.6079,18.9502 59.8364,19.2092 Q60.0649,19.4529 60.0649,20.047 L60.0649,21.4637 Q60.0649,22.0578 59.8364,22.3168 Q59.6079,22.5757 59.2423,22.5757 Q58.9071,22.5757 58.7091,22.3777 Q58.5111,22.1949 58.4044,21.6922 Q58.3587,21.3418 58.1759,21.159 Q57.856,20.7934 57.2619,20.5802 Q56.6678,20.3669 56.0585,20.3669 Q55.3121,20.3669 54.6875,20.6868 Q54.0782,21.0067 53.5907,21.7379 Q53.1185,22.4691 53.1185,23.4745 L53.1185,24.5408 Q53.1185,25.7443 53.9868,26.5516 Q54.8551,27.3438 56.4089,27.3438 Q57.3229,27.3438 57.9627,27.1 Q58.3435,26.9477 58.7548,26.5212 Q59.0138,26.2622 59.1509,26.186 Q59.3032,26.1099 59.5012,26.1099 Q59.8211,26.1099 60.0649,26.3688 Q60.3238,26.6126 60.3238,26.9477 Q60.3238,27.2828 59.9887,27.6789 Q59.5012,28.2425 58.7243,28.5624 Q57.6732,29.0042 56.4089,29.0042 Q54.9312,29.0042 53.7583,28.3948 Q52.7986,27.9074 52.1283,26.8715 Q51.458,25.8204 51.458,24.5713 L51.458,23.444 Q51.458,22.1492 52.0521,21.0372 Q52.6615,19.9099 53.7278,19.3158 Q54.7941,18.7065 55.9976,18.7065 Q56.7135,18.7065 57.3381,18.874 Q57.9779,19.0264 58.5111,19.3767 Z "/><text fill="#000000" font-family="sans-serif" font-size="11.6992" lengthAdjust="spacingAndGlyphs" textLength="38.0223" x="75.8008" y="28.1854">Sonido</text><line style="stroke: #000000; stroke-width: 1.4623955431754876;" x1="6.8245" x2="151.1142" y1="38.9972" y2="38.9972"/><text fill="#000000" font-family="sans-serif" font-size="10.7242" lengthAdjust="spacingAndGlyphs" textLength="96.5181" x="11.6992" y="54.0296">#escala : TipoEscala</text><text fill="#000000" font-family="sans-serif" font-size="10.7242" lengthAdjust="spacingAndGlyphs" textLength="134.5404" x="11.6992" y="67.5187">#resoluci&#xF3;n : TipoResoluci&#xF3;n</text><!--MD5=[8dc872fdd060c2eea3e27720778c30f9]
class Gráficos--><rect fill="#FFFAFA" filter="url(#fj6s1c7fu0w3i)" height="65.9754" id="Gr&#xE1;ficos" style="stroke: #000000; stroke-width: 1.4623955431754876;" width="146.2396" x="186.2117" y="7.7994"/><ellipse cx="232.7646" cy="23.3983" fill="#ADD1B2" rx="10.7242" ry="10.7242" style="stroke: #000000; stroke-width: 0.9749303621169917;"/><path d="M235.4609,19.3767 Q235.6132,19.1635 235.796,19.0568 Q235.9788,18.9502 236.1921,18.9502 Q236.5577,18.9502 236.7862,19.2092 Q237.0147,19.4529 237.0147,20.047 L237.0147,21.4637 Q237.0147,22.0578 236.7862,22.3168 Q236.5577,22.5757 236.1921,22.5757 Q235.857,22.5757 235.6589,22.3777 Q235.4609,22.1949 235.3543,21.6922 Q235.3086,21.3418 235.1258,21.159 Q234.8059,20.7934 234.2118,20.5802 Q233.6177,20.3669 233.0084,20.3669 Q232.2619,20.3669 231.6374,20.6868 Q231.028,21.0067 230.5406,21.7379 Q230.0683,22.4691 230.0683,23.4745 L230.0683,24.5408 Q230.0683,25.7443 230.9366,26.5516 Q231.8049,27.3438 233.3587,27.3438 Q234.2727,27.3438 234.9125,27.1 Q235.2933,26.9477 235.7046,26.5212 Q235.9636,26.2622 236.1007,26.186 Q236.253,26.1099 236.4511,26.1099 Q236.771,26.1099 237.0147,26.3688 Q237.2737,26.6126 237.2737,26.9477 Q237.2737,27.2828 236.9385,27.6789 Q236.4511,28.2425 235.6742,28.5624 Q234.6231,29.0042 233.3587,29.0042 Q231.8811,29.0042 230.7081,28.3948 Q229.7484,27.9074 229.0782,26.8715 Q228.4079,25.8204 228.4079,24.5713 L228.4079,23.444 Q228.4079,22.1492 229.002,21.0372 Q229.6113,19.9099 230.6777,19.3158 Q231.744,18.7065 232.9474,18.7065 Q233.6634,18.7065 234.288,18.874 Q234.9278,19.0264 235.4609,19.3767 Z "/><text fill="#000000" font-family="sans-serif" font-size="11.6992" lengthAdjust="spacingAndGlyphs" textLength="44.8468" x="252.7507" y="28.1854">Gr&#xE1;ficos</text><line style="stroke: #000000; stroke-width: 1.4623955431754876;" x1="187.1866" x2="331.4763" y1="38.9972" y2="38.9972"/><text fill="#000000" font-family="sans-serif" font-size="10.7242" lengthAdjust="spacingAndGlyphs" textLength="96.5181" x="192.0613" y="54.0296">#escala : TipoEscala</text><text fill="#000000" font-family="sans-serif" font-size="10.7242" lengthAdjust="spacingAndGlyphs" textLength="134.5404" x="192.0613" y="67.5187">#resoluci&#xF3;n : TipoResoluci&#xF3;n</text><!--MD5=[915b0c2c613d979994c85bc7528515f0]
reverse link Sonido to Multimedia--><path d="M119.4787,89.4759 C132.6851,104.9792 146.3975,121.0772 155.9781,132.3241 " fill="none" id="Sonido&lt;-Multimedia" style="stroke: #000000; stroke-width: 0.9749303621169917;"/><polygon fill="none" points="114.061,93.6411,106.6125,74.3724,124.4518,84.7901,114.061,93.6411" style="stroke: #000000; stroke-width: 0.9749303621169917;"/><!--MD5=[7d24a4def200213b660e4c766576ffef]
reverse link Gráficos to Multimedia--><path d="M218.3825,89.4759 C205.0318,104.9792 191.1702,121.0772 181.4852,132.3241 " fill="none" id="Gr&#xE1;ficos&lt;-Multimedia" style="stroke: #000000; stroke-width: 0.9749303621169917;"/><polygon fill="none" points="213.4932,84.6946,231.388,74.3724,223.8362,93.601,213.4932,84.6946" style="stroke: #000000; stroke-width: 0.9749303621169917;"/><!--MD5=[f0aef5caddc429c50849fe3f744df2bd]
@startuml

scale 350 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide Multimedia attributes
hide methods

class Sonido
{
    # escala : TipoEscala
    # resolución : TipoResolución
}

class Gráficos
{
    # escala : TipoEscala
    # resolución : TipoResolución
}

Sonido ^- - Multimedia
Gráficos ^- - Multimedia

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p></li>
</ul>
</li>
</ul>
<h4 class="mume-header" id="implementando-la-herencia-en-c">Implementando la herencia en C#</h4>

<p>Separaremos el nombre de la subclase y la superclase por el car&#xE1;cter <strong><code>&apos;:&apos;</code></strong> como en C++</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token operator">&lt;</span>NombreSubClase<span class="token operator">&gt;</span> <span class="token punctuation">:</span> <span class="token operator">&lt;</span>NombreSuperClase<span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definiremos  solo las concreciones de la subclase respecto  la superclase</span>
<span class="token punctuation">}</span>
</pre><p>Partamos del ejemplo que hemos visto en la herencia simple, expresado en el siguiente diagrama de clases UML...</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="345.6081px" preserveAspectRatio="none" style="width:442px;height:345px;" version="1.1" viewBox="0 0 442 345" width="442.9054px" zoomAndPan="magnify"><defs><filter height="300%" id="fo1w3n1sbopdw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.027027027027027"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.054054054054054" dy="4.054054054054054" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[60dbf6945f26d51d7ef11e92d44c812f]
class Articulo--><rect fill="#FFFAFA" filter="url(#fo1w3n1sbopdw)" height="132.7861" id="Articulo" style="stroke: #000000; stroke-width: 1.5202702702702704;" width="237.1622" x="100.3378" y="8.1081"/><ellipse cx="194.3412" cy="24.3243" fill="#ADD1B2" rx="11.1486" ry="11.1486" style="stroke: #000000; stroke-width: 1.0135135135135136;"/><path d="M197.1442,20.1436 Q197.3026,19.9219 197.4926,19.811 Q197.6826,19.7002 197.9043,19.7002 Q198.2844,19.7002 198.522,19.9694 Q198.7595,20.2228 198.7595,20.8404 L198.7595,22.3131 Q198.7595,22.9307 198.522,23.2 Q198.2844,23.4692 197.9043,23.4692 Q197.556,23.4692 197.3501,23.2633 Q197.1442,23.0733 197.0334,22.5507 Q196.9859,22.1864 196.7958,21.9964 Q196.4633,21.6163 195.8457,21.3946 Q195.228,21.1729 194.5946,21.1729 Q193.8186,21.1729 193.1693,21.5055 Q192.5359,21.838 192.0291,22.5982 Q191.5382,23.3583 191.5382,24.4035 L191.5382,25.512 Q191.5382,26.7631 192.4409,27.6024 Q193.3435,28.4259 194.9588,28.4259 Q195.909,28.4259 196.5741,28.1725 Q196.97,28.0141 197.3976,27.5707 Q197.6668,27.3015 197.8093,27.2223 Q197.9677,27.1432 198.1736,27.1432 Q198.5061,27.1432 198.7595,27.4124 Q199.0287,27.6658 199.0287,28.0141 Q199.0287,28.3625 198.6803,28.7743 Q198.1736,29.3602 197.3659,29.6928 Q196.2732,30.152 194.9588,30.152 Q193.4227,30.152 192.2033,29.5186 Q191.2057,29.0118 190.5089,27.935 Q189.8121,26.8423 189.8121,25.5437 L189.8121,24.3718 Q189.8121,23.0258 190.4297,21.8697 Q191.0631,20.6978 192.1717,20.0802 Q193.2802,19.4468 194.5313,19.4468 Q195.2755,19.4468 195.9248,19.621 Q196.5899,19.7793 197.1442,20.1436 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.1622" lengthAdjust="spacingAndGlyphs" textLength="40.5405" x="215.1182" y="29.3008">Articulo</text><line style="stroke: #000000; stroke-width: 1.5202702702702704;" x1="101.3514" x2="336.4865" y1="40.5405" y2="40.5405"/><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="76.0135" x="106.4189" y="56.1678">-precio : double</text><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="77.027" x="106.4189" y="70.1908">-nombre : string</text><line style="stroke: #000000; stroke-width: 1.5202702702702704;" x1="101.3514" x2="336.4865" y1="76.6945" y2="76.6945"/><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="225" x="106.4189" y="92.3218">+Articulo(in nombre : string, in precio : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="105.4054" x="106.4189" y="106.3447">#GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="103.3784" x="106.4189" y="120.3676">#GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="86.1486" x="106.4189" y="134.3905">+ATexto() : string</text><!--MD5=[2f7aa29e6ed06458ec3a8577fe477f93]
class ArticuloRebajado--><rect fill="#FFFAFA" filter="url(#fo1w3n1sbopdw)" height="132.7861" id="ArticuloRebajado" style="stroke: #000000; stroke-width: 1.5202702702702704;" width="425.6757" x="6.0811" y="201.6892"/><ellipse cx="166.9764" cy="217.9054" fill="#ADD1B2" rx="11.1486" ry="11.1486" style="stroke: #000000; stroke-width: 1.0135135135135136;"/><path d="M169.7793,213.7247 Q169.9377,213.503 170.1277,213.3921 Q170.3178,213.2813 170.5395,213.2813 Q170.9196,213.2813 171.1571,213.5505 Q171.3946,213.8038 171.3946,214.4215 L171.3946,215.8942 Q171.3946,216.5118 171.1571,216.781 Q170.9196,217.0503 170.5395,217.0503 Q170.1911,217.0503 169.9852,216.8444 Q169.7793,216.6543 169.6685,216.1318 Q169.621,215.7675 169.431,215.5775 Q169.0984,215.1974 168.4808,214.9757 Q167.8632,214.754 167.2297,214.754 Q166.4538,214.754 165.8045,215.0866 Q165.171,215.4191 164.6643,216.1793 Q164.1734,216.9394 164.1734,217.9846 L164.1734,219.0931 Q164.1734,220.3442 165.076,221.1835 Q165.9787,222.007 167.594,222.007 Q168.5441,222.007 169.2092,221.7536 Q169.6052,221.5952 170.0327,221.1518 Q170.3019,220.8826 170.4445,220.8034 Q170.6028,220.7242 170.8087,220.7242 Q171.1413,220.7242 171.3946,220.9935 Q171.6639,221.2468 171.6639,221.5952 Q171.6639,221.9436 171.3155,222.3554 Q170.8087,222.9413 170.0011,223.2739 Q168.9084,223.7331 167.594,223.7331 Q166.0579,223.7331 164.8385,223.0997 Q163.8408,222.5929 163.144,221.516 Q162.4472,220.4234 162.4472,219.1248 L162.4472,217.9529 Q162.4472,216.6068 163.0648,215.4508 Q163.6983,214.2789 164.8068,213.6613 Q165.9153,213.0279 167.1664,213.0279 Q167.9107,213.0279 168.56,213.2021 Q169.2251,213.3604 169.7793,213.7247 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.1622" lengthAdjust="spacingAndGlyphs" textLength="95.2703" x="187.7534" y="222.8819">ArticuloRebajado</text><line style="stroke: #000000; stroke-width: 1.5202702702702704;" x1="7.0946" x2="430.7432" y1="234.1216" y2="234.1216"/><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="129.7297" x="12.1622" y="249.7489">-porcentajeRebaja : ushort</text><line style="stroke: #000000; stroke-width: 1.5202702702702704;" x1="7.0946" x2="430.7432" y1="256.2526" y2="256.2526"/><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="413.5135" x="12.1622" y="271.8799">+ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)</text><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="155.0676" x="12.1622" y="285.9029">-GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="123.6486" x="12.1622" y="299.9258">-GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="148.9865" x="12.1622" y="313.9487">+GetPrecioRebajado() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="131.7568" x="12.1622" y="327.9716">+ATextoRebajado() : string</text><!--MD5=[4c5e07181522a81d7ce4ca381a4c3897]
reverse link Articulo to ArticuloRebajado--><path d="M218.9189,161.6422 C218.9189,175.0774 218.9189,188.7689 218.9189,201.6446 " fill="none" id="Articulo&lt;-ArticuloRebajado" style="stroke: #000000; stroke-width: 1.0135135135135136;"/><polygon fill="none" points="211.8243,161.1628,218.9189,140.8926,226.0135,161.1628,211.8243,161.1628" style="stroke: #000000; stroke-width: 1.0135135135135136;"/><!--MD5=[93fbf9555a965b746bc62d9e81d9c2cc]
@startuml

scale 450 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

class Articulo
{
    - precio : double
    - nombre : string

    + Articulo(in nombre : string, in precio : double)
    # GetNombre() : string
    # GetPrecio() : double
    + ATexto() : string
}

class ArticuloRebajado
{
    - porcentajeRebaja : ushort

    + ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)
    - GetPorcentajeRebaja() : ushort
    - GetDescuento() : double
    + GetPrecioRebajado() : double
    + ATextoRebajado() : string
}

Articulo ^- - ArticuloRebajado

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><blockquote>
<p>&#x270B; F&#xED;jate que en el diagrama de clases, aparece el s&#xED;mbolo <strong><code>#</code></strong>.</p>
<ul>
<li>Es un modificador que <strong>solo tiene sentido aplicarlo a una superclase</strong>.</li>
<li>Se representar&#xE1; por la palabra reservada <strong><code>protected</code></strong>, y significar&#xE1; que el <strong>campo</strong> o el <strong>m&#xE9;todo</strong> al que modifica, no puede ser accedido desde fuera de la clase como en el caso de private, pero si desde las <strong>subclases</strong> de la misma.</li>
</ul>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Articulo</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> precio<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">string</span> nombre<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Articulo</span><span class="token punctuation">(</span><span class="token keyword">string</span> nombre<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">double</span> precio<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>precio <span class="token operator">=</span> precio<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> $<span class="token string">&quot;Nombre: {nombre}\n Precio: {precio:F2}&#x20AC;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">protected</span> <span class="token keyword">string</span> <span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">protected</span> <span class="token keyword">double</span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> precio<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="csharp {highlight=[1,7]}" class="language-csharp" data-line="1,7"><span class="token keyword">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">ushort</span> porcentajeRebaja<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">ArticuloRebajado</span><span class="token punctuation">(</span>
                <span class="token keyword">string</span> nombre<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">double</span> precio<span class="token punctuation">,</span>
                <span class="token keyword">in</span> <span class="token keyword">ushort</span> porcentajeRebaja<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> precio<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>porcentajeRebaja <span class="token operator">=</span> porcentajeRebaja<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">ushort</span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> porcentajeRebaja<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span>d<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">GetPrecioRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">ATextoRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> $<span class="token string">&quot;Nombre: {GetNombre()}\nRebaja: {GetPorcentajeRebaja()}%\n&quot;</span> <span class="token operator">+</span>
               $<span class="token string">&quot;Antes: {GetPrecio():F2}&#x20AC;\nAhora: {GetPrecioRebajado():F2}&#x20AC;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">EjemploHerencia</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Ralph Lauren&quot;</span><span class="token punctuation">,</span> <span class="token number">75</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Fred Perry&quot;</span><span class="token punctuation">,</span> <span class="token number">70</span>d<span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">.</span><span class="token function">ATextoRebajado</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper"><div aria-hidden="true" class="line-highlight" data-range="1" data-start="1">
</div></div><div class="line-highlight-wrapper">





<div aria-hidden="true" class="line-highlight" data-range="7" data-start="7">
</div></div></pre><p align="center" style="zoom:0.85"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="890pt" height="224pt" viewBox="0.00 0.00 890.00 224.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 220)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-220 886,-220 886,4 -4,4"/>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-85" rx="27" ry="27"/>
<text text-anchor="middle" x="27" y="-80.8" font-family="Arial" font-size="14.00" fill="#000000">a</text>
</g>
<!-- oa -->
<g id="node4" class="node">
<title>oa</title>
<polygon fill="none" stroke="#000000" points="99,-97 99,-125 329,-125 329,-97 99,-97"/>
<text text-anchor="start" x="165.3773" y="-106.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;a : Articulo &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="103.8032" y="-79.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;nombre = &quot;Polo Ralph Lauren&quot; &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="104" y="-53.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;precio = 75.00 &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="98,-44 98,-126 330,-126 330,-44 98,-44"/>
</g>
<!-- a&#45;&gt;oa -->
<g id="edge1" class="edge">
<title>a-&gt;oa</title>
<path fill="none" stroke="#000000" d="M54.1914,-85C61.6304,-85 70.2231,-85 79.4856,-85"/>
<polygon fill="#000000" stroke="#000000" points="79.7763,-88.5001 89.7763,-85 79.7763,-81.5001 79.7763,-88.5001"/>
</g>
<!-- ar -->
<g id="node2" class="node">
<title>ar</title>
<ellipse fill="none" stroke="#000000" cx="401" cy="-85" rx="27" ry="27"/>
<text text-anchor="middle" x="401" y="-80.8" font-family="Arial" font-size="14.00" fill="#000000">ar</text>
</g>
<!-- oar -->
<g id="node5" class="node">
<title>oar</title>
<polygon fill="none" stroke="#000000" points="473,-163 473,-211 873,-211 873,-163 473,-163"/>
<text text-anchor="start" x="605.7097" y="-182.4" font-family="Arial" font-size="14.00" fill="#000000">ar : ArticuloRebajado </text>
<polygon fill="none" stroke="#ee1289" points="489,-119 489,-147 857,-147 857,-119 489,-119"/>
<text text-anchor="start" x="535.2827" y="-129.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="581.9699" y="-129.4" font-family="Arial" font-size="14.00" fill="#ee1289"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;base : Articulo &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="764.0301" y="-129.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="493.9491" y="-102.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="540.6363" y="-102.4" font-family="Arial" font-size="14.00" fill="#ee1289"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;nombre = &quot;Polo Fred Perry&quot; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="805.3637" y="-102.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="494" y="-76.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="540.6872" y="-76.4" font-family="Arial" font-size="14.00" fill="#ee1289"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;precio = 70.00 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="723.1534" y="-76.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#ee1289" points="488,-66 488,-148 858,-148 858,-66 488,-66"/>
<text text-anchor="start" x="488" y="-23.4" font-family="Arial" font-size="14.00" fill="#000000">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#000000" points="472,-4 472,-212 874,-212 874,-4 472,-4"/>
</g>
<!-- ar&#45;&gt;oar -->
<g id="edge3" class="edge">
<title>ar-&gt;oar</title>
<path fill="none" stroke="#000000" d="M428.0748,-87.2894C435.4549,-87.9135 444.0699,-88.6419 453.57,-89.4453"/>
<polygon fill="#000000" stroke="#000000" points="453.5165,-92.9531 463.7759,-90.3083 454.1064,-85.978 453.5165,-92.9531"/>
</g>
<!-- base -->
<g id="node3" class="node">
<title>base</title>
<ellipse fill="none" stroke="#ee1289" cx="401" cy="-157" rx="27" ry="27"/>
<text text-anchor="middle" x="401" y="-152.8" font-family="Arial" font-size="14.00" fill="#ee1289">base</text>
</g>
<!-- base&#45;&gt;oar -->
<g id="edge4" class="edge">
<title>base-&gt;oar:base</title>
<path fill="none" stroke="#ee1289" d="M425.9251,-146.4034C440.6379,-140.9536 460.0265,-135.1123 478.9024,-133.459"/>
<polygon fill="#ee1289" stroke="#ee1289" points="479.1693,-136.9506 489,-133 478.8514,-129.9578 479.1693,-136.9506"/>
</g>
<!-- oa&#45;&gt;ar -->
<g id="edge2" class="edge">
<title>oa-&gt;ar</title>
<path fill="none" stroke="transparent" d="M338.2115,-85C347.3016,-85 355.9561,-85 363.7746,-85"/>
<polygon fill="transparent" stroke="transparent" points="363.8805,-88.5001 373.8804,-85 363.8804,-81.5001 363.8805,-88.5001"/>
</g>
</g>
</svg>
</p><h5 class="mume-header" id="palabra-reservada-a-hrefhttpsdocsmicrosoftcomen-usdotnetcsharplanguage-referencekeywordsbase-target_blankbasea">Palabra reservada <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/base" target="_blank">base</a></h5>

<ul>
<li>Si nos fijamos <strong>(<em>l&#xED;nea 7</em>)</strong> el constructor de <strong><code>ArticuloRebajado</code></strong> solo se encarga de inicializar y crear los atributos espec&#xED;ficos de la subclase, para crear los de la clase, llamaremos al constructor que deseemos de la clase base o superclase, utilizando la palabra reservada <strong><code>:base(&lt;par&#xE1;metrosBase&gt;)</code></strong> a continuaci&#xF3;n de la declaraci&#xF3;n del constructor de la subclase.</li>
<li>Si hay un <strong>constructor por defecto</strong> en la superclase <strong>no har&#xED;a falta poner nada</strong>, puesto que autom&#xE1;ticamente seria llamado al llamar al de la subclase.</li>
<li>Al igual que <strong><code>this</code></strong> era una referencia impl&#xED;cita al objeto de la propia clase, en las subclases tenemos la palabra reservada <strong><code>base</code></strong> que tambi&#xE9;n es una referencia impl&#xED;cita a un objeto de la superclase, para la subclase actual.
<blockquote>
<p><strong>Nota:</strong> Me servir&#xE1; en los casos en los que en la subclase y en la superclase tengamos un <strong>m&#xE9;todo con el mismo nombre</strong>.</p>
</blockquote>
</li>
</ul>
<h4 class="mume-header" id="ocultaci%C3%B3n-e-invalidaci%C3%B3n">Ocultaci&#xF3;n e Invalidaci&#xF3;n</h4>

<p>Si te has fijado, en <strong><code>Articulo</code></strong> el getter de <strong><code>precio</code></strong> lo hemos llamado <strong><code>double GetPrecio()</code></strong> y en <strong><code>ArticuloRebajado</code></strong> le hemos llamado <strong><code>double GetPrecioRebajado()</code></strong>. Esto lo hemos hecho para no producir colisiones de signaturas (<em>recuerda que la subclase puede acceder a los m&#xE9;todos de la superclase</em>).<br>
Sin embargo, en el fondo es una <strong>redund&#xE1;ncia</strong>, porque si a un objeto <strong><code>ArticuloRebajado articuloRebajado;</code></strong> le aplico un m&#xE9;todo llamado <strong><code>articuloRebajado.GetPrecio();</code></strong> ya se que estoy obteniendo el precio rebajado.</p>
<p>Si le ponemos el mismo nombre, <strong>tendr&#xED;amos m&#xE9;todos con signaturas id&#xE9;nticas en la superclase y la subclase</strong> y posiblemente recibamos alg&#xFA;n tipo de aviso del compilador. Pero ...</p>
<ul>
<li><strong>&#xBF;Se puede hacer esto?</strong></li>
<li><strong>&#xBF;C&#xF3;mo resolvemos la ambig&#xFC;edad que se produce?</strong></li>
</ul>
<blockquote>
<p>&#x270B; En la <strong>POO tradicional</strong> hay <strong>dos estrategias</strong> posibles:</p>
<ul>
<li><strong>Reemplazo</strong>: Se sustituye completamente la implementaci&#xF3;n del m&#xE9;todo heredado manteniendo la signatura.<br>
Com&#xFA;nmente se le conoce como <strong>Ocultaci&#xF3;n</strong> (<em>hiding</em>)</li>
<li><strong>Refinamiento</strong>: Se a&#xF1;ade nueva funcionalidad al comportamiento heredado.<br>
Com&#xFA;nmente se le conoce como <strong>Invalidaci&#xF3;n</strong> (<em>overriding</em>)</li>
</ul>
</blockquote>
<div style="page-break-after:always;"></div>
<h5 class="mume-header" id="ocultaci%C3%B3n-o-reemplazo-en-c">Ocultaci&#xF3;n o reemplazo en C#</h5>

<ul>
<li>
<p>Ser&#xE1; la <strong>estrategia</strong> que aplica <strong>por defecto de C#</strong>, aunque como hemos comentado, el compilador <a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/compiler-messages/cs0108" target="_blank">nos avisar&#xE1;</a> por si nos hemos &apos;<em>despistado</em>&apos; y realmente quer&#xED;amos hacer otra cosa. Por ejemplo, VSCode generar&#xE1; el siguiente mensaje.</p>
<blockquote>
<p><em>&apos;ArticuloRebajado.GetPrecio()&apos; oculta el miembro heredado &apos;Articulo.GetPrecio()&apos;. Use la palabra clave new si su intenci&#xF3;n era ocultarlo. CS0108</em></p>
</blockquote>
</li>
<li>
<p>Puesto que con el <strong>reemplazo</strong> lo que buscamos es definir una nueva funcionalidad para una operaci&#xF3;n heredada, antepondremos la palabra reservada <strong><code>new</code></strong> a la operaci&#xF3;n o m&#xE9;todo de la clase hija o subclase con la misma signatura que queremos ocultar en la clase base o superclase.</p>
</li>
<li>
<p>Supongamos la misma relaci&#xF3;n de herencia anterior donde ahora queremos hacer una ocultaci&#xF3;n de los m&#xE9;todos <strong><code>GetPrecio</code></strong> y <strong><code>ATexto</code></strong>.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="163.076px" preserveAspectRatio="none" style="width:479px;height:163px;" version="1.1" viewBox="0 0 479 163" width="479.3779px" zoomAndPan="magnify"><defs><filter height="300%" id="f1vsndo1abj5qf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.1889400921658986"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.377880184331797" dy="4.377880184331797" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[2f7aa29e6ed06458ec3a8577fe477f93]
class ArticuloRebajado--><rect fill="#FFFAFA" filter="url(#f1vsndo1abj5qf)" height="143.3927" id="ArticuloRebajado" style="stroke: #000000; stroke-width: 1.641705069124424;" width="459.6774" x="7.6613" y="7.6613"/><ellipse cx="181.4084" cy="25.1728" fill="#ADD1B2" rx="12.0392" ry="12.0392" style="stroke: #000000; stroke-width: 1.0944700460829493;"/><path d="M184.4353,20.6581 Q184.6063,20.4187 184.8115,20.299 Q185.0167,20.1793 185.2562,20.1793 Q185.6666,20.1793 185.9231,20.47 Q186.1796,20.7436 186.1796,21.4106 L186.1796,23.001 Q186.1796,23.6679 185.9231,23.9586 Q185.6666,24.2494 185.2562,24.2494 Q184.8799,24.2494 184.6576,24.027 Q184.4353,23.8218 184.3156,23.2575 Q184.2643,22.8642 184.0591,22.659 Q183.7,22.2485 183.033,22.0091 Q182.3661,21.7697 181.682,21.7697 Q180.8441,21.7697 180.1429,22.1288 Q179.4589,22.4879 178.9117,23.3088 Q178.3815,24.1296 178.3815,25.2583 L178.3815,26.4554 Q178.3815,27.8064 179.3563,28.7127 Q180.331,29.602 182.0754,29.602 Q183.1014,29.602 183.8197,29.3284 Q184.2472,29.1574 184.7089,28.6785 Q184.9996,28.3878 185.1535,28.3023 Q185.3246,28.2168 185.5469,28.2168 Q185.906,28.2168 186.1796,28.5075 Q186.4703,28.7811 186.4703,29.1574 Q186.4703,29.5336 186.0941,29.9782 Q185.5469,30.611 184.6747,30.9701 Q183.4947,31.466 182.0754,31.466 Q180.4165,31.466 179.0998,30.782 Q178.0224,30.2347 177.2699,29.0719 Q176.5175,27.8919 176.5175,26.4896 L176.5175,25.2241 Q176.5175,23.7705 177.1844,22.5221 Q177.8685,21.2567 179.0656,20.5897 Q180.2626,19.9057 181.6136,19.9057 Q182.4174,19.9057 183.1185,20.0938 Q183.8368,20.2648 184.4353,20.6581 Z "/><text fill="#000000" font-family="sans-serif" font-size="13.1336" lengthAdjust="spacingAndGlyphs" textLength="102.8802" x="203.845" y="30.5468">ArticuloRebajado</text><line style="stroke: #000000; stroke-width: 1.641705069124424;" x1="8.7558" x2="466.2442" y1="42.6843" y2="42.6843"/><text fill="#000000" font-family="sans-serif" font-size="12.0392" lengthAdjust="spacingAndGlyphs" textLength="140.0922" x="14.2281" y="59.5599">-porcentajeRebaja : ushort</text><line style="stroke: #000000; stroke-width: 1.641705069124424;" x1="8.7558" x2="466.2442" y1="66.5831" y2="66.5831"/><text fill="#000000" font-family="sans-serif" font-size="12.0392" lengthAdjust="spacingAndGlyphs" textLength="446.5438" x="14.2281" y="83.4587">+ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)</text><text fill="#000000" font-family="sans-serif" font-size="12.0392" lengthAdjust="spacingAndGlyphs" textLength="167.4539" x="14.2281" y="98.6017">-GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="12.0392" lengthAdjust="spacingAndGlyphs" textLength="133.5253" x="14.2281" y="113.7447">-GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.0392" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129.1475" x="14.2281" y="128.8877">+ GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="12.0392" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107.2581" x="14.2281" y="144.0308">+ ATexto() : string</text><!--MD5=[f55234c3d60dba52c1ecca4ab8e4837d]
@startuml

scale 475 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

class ArticuloRebajado
{
    - porcentajeRebaja : ushort

    + ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)
    - GetPorcentajeRebaja() : ushort
    - GetDescuento() : double
    **+ GetPrecio() : double**
    **+ ATexto() : string**
}

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p>La implementaci&#xF3;n en C# quedar&#xED;a como sigue...</p>
<blockquote>
<p>&#x270B; <strong>Importante</strong> <strong>(<em>l&#xED;nea 17</em>)</strong>:</p>
<ul>
<li><strong><code>base.GetPrecio();</code></strong> me devuelve el precio del original del art&#xED;culo (sin descuento).</li>
<li><strong><code>this.GetPrecio();</code></strong> o <strong><code>GetPrecio();</code></strong> me devuelve el precio rebajado (con descuento).</li>
</ul>
</blockquote>
<pre data-role="codeBlock" data-info="csharp {highlight=[8,14,17]}" class="language-csharp" data-line="8,14,17"><span class="token keyword">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... c&#xF3;digo omitido para abreviar.</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span>d<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">new</span> <span class="token keyword">double</span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// A&#xF1;ado el modificador new para confirmar que quiero hacer una ocultaci&#xF3;n.</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Aqu&#xED; si en lugar de llamar a base.GetPrecio(), llamase a GetPrecio() tendr&#xED;a una llamada</span>
        <span class="token comment">// recursiva y se producir&#xED;a una &apos;Stack Overflow&apos;.</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">new</span> <span class="token keyword">string</span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// A&#xF1;ado el modificador new para confirmar que quiero hacer una ocultaci&#xF3;n.</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> $<span class="token string">&quot;Nombre: {GetNombre()}\nRebaja: {GetPorcentajeRebaja()}%\n&quot;</span> <span class="token operator">+</span>
               $<span class="token string">&quot;Antes: {base.GetPrecio():F2}&#x20AC;\nAhora: {this.GetPrecio():F2}&#x20AC;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">






<div aria-hidden="true" class="line-highlight" data-range="8" data-start="8">
</div></div><div class="line-highlight-wrapper">












<div aria-hidden="true" class="line-highlight" data-range="14" data-start="14">
</div></div><div class="line-highlight-wrapper">















<div aria-hidden="true" class="line-highlight" data-range="17" data-start="17">
</div></div></pre></li>
</ul>
<div style="page-break-after:always;"></div>
<h5 class="mume-header" id="invalidaci%C3%B3n-o-refinamiento-en-c">Invalidaci&#xF3;n o refinamiento en C#</h5>

<ul>
<li>
<p>Ser&#xE1; la opci&#xF3;n que tomaremos en el 99% de los casos, pues es m&#xE1;s flexible que la ocultaci&#xF3;n y me permitir&#xE1; realizar los <strong>enlaces din&#xE1;micos</strong> que veremos mas adelante.</p>
</li>
<li>
<p>Haremos lo que hac&#xED;a la clase padre, m&#xE1;s nueva funcionalidad.</p>
</li>
<li>
<p>Llamaremos o marcaremos como m&#xE9;todos <em>&apos;<strong>virtuales</strong>&apos;</em> a los m&#xE9;todos &apos;<em>invalidables</em>&apos; en la superclase que sean <strong>p&#xFA;blicos</strong> o <strong>protegidos</strong>.</p>
</li>
<li>
<p>Para ello utilizaremos la palabra reservada <strong><code>virtual</code></strong> precediendo a la declaraci&#xF3;n del m&#xE9;todo invalidable y la palabra <strong><code>override</code></strong> precediendo la declaraci&#xF3;n de un m&#xE9;todo que invalida a uno invalidable o virtual en la superclase.<br>
&#x1F441; A diferencia con la ocultaci&#xF3;n, ambos <strong>m&#xE9;todos deber&#xE1;n tener la misma accesibilidad</strong>.</p>
<blockquote>
<p><strong>Nota:</strong> Para representar lo que queremos hacer. En <strong>&apos;nuestros&apos;</strong> diagramas de clases UML...</p>
<ul>
<li>Pondremos el modificador <strong><code>{virtual}</code></strong> al nombre del m&#xE9;todo invalidable. Tambi&#xE9;n, marcaremos en <strong>&apos;<em>cursiva</em>&apos;</strong> aquellos m&#xE9;todos virtuales o virtuales puros (que trataremos m&#xE1;s adelante) ya que aunque dej&#xF3; de usarse a partir de la versi&#xF3;n 2.5 de UML, sigue siendo una notaci&#xF3;n &#xE1;mpliamente usada .</li>
<li>Aquellos m&#xE9;todos que <strong>invaliden</strong> un m&#xE9;todo en su superclase los marcaremos con en caracter <em><code>^</code></em> precediendo al nombre del m&#xE9;todo, para tenerlo claro.</li>
<li>Si no ponemos nada, supondremos por convenio que estamos haciendo una ocultaci&#xF3;n.</li>
</ul>
</blockquote>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="345.6081px" preserveAspectRatio="none" style="width:442px;height:345px;" version="1.1" viewBox="0 0 442 345" width="442.9054px" zoomAndPan="magnify"><defs><filter height="300%" id="f1brc8iwzyhtdc" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.027027027027027"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.054054054054054" dy="4.054054054054054" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[60dbf6945f26d51d7ef11e92d44c812f]
class Articulo--><rect fill="#FFFAFA" filter="url(#f1brc8iwzyhtdc)" height="132.7861" id="Articulo" style="stroke: #000000; stroke-width: 1.5202702702702704;" width="237.1622" x="100.3378" y="8.1081"/><ellipse cx="194.3412" cy="24.3243" fill="#ADD1B2" rx="11.1486" ry="11.1486" style="stroke: #000000; stroke-width: 1.0135135135135136;"/><path d="M197.1442,20.1436 Q197.3026,19.9219 197.4926,19.811 Q197.6826,19.7002 197.9043,19.7002 Q198.2844,19.7002 198.522,19.9694 Q198.7595,20.2228 198.7595,20.8404 L198.7595,22.3131 Q198.7595,22.9307 198.522,23.2 Q198.2844,23.4692 197.9043,23.4692 Q197.556,23.4692 197.3501,23.2633 Q197.1442,23.0733 197.0334,22.5507 Q196.9859,22.1864 196.7958,21.9964 Q196.4633,21.6163 195.8457,21.3946 Q195.228,21.1729 194.5946,21.1729 Q193.8186,21.1729 193.1693,21.5055 Q192.5359,21.838 192.0291,22.5982 Q191.5382,23.3583 191.5382,24.4035 L191.5382,25.512 Q191.5382,26.7631 192.4409,27.6024 Q193.3435,28.4259 194.9588,28.4259 Q195.909,28.4259 196.5741,28.1725 Q196.97,28.0141 197.3976,27.5707 Q197.6668,27.3015 197.8093,27.2223 Q197.9677,27.1432 198.1736,27.1432 Q198.5061,27.1432 198.7595,27.4124 Q199.0287,27.6658 199.0287,28.0141 Q199.0287,28.3625 198.6803,28.7743 Q198.1736,29.3602 197.3659,29.6928 Q196.2732,30.152 194.9588,30.152 Q193.4227,30.152 192.2033,29.5186 Q191.2057,29.0118 190.5089,27.935 Q189.8121,26.8423 189.8121,25.5437 L189.8121,24.3718 Q189.8121,23.0258 190.4297,21.8697 Q191.0631,20.6978 192.1717,20.0802 Q193.2802,19.4468 194.5313,19.4468 Q195.2755,19.4468 195.9248,19.621 Q196.5899,19.7793 197.1442,20.1436 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.1622" lengthAdjust="spacingAndGlyphs" textLength="40.5405" x="215.1182" y="29.3008">Articulo</text><line style="stroke: #000000; stroke-width: 1.5202702702702704;" x1="101.3514" x2="336.4865" y1="40.5405" y2="40.5405"/><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="76.0135" x="106.4189" y="56.1678">-precio : double</text><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="77.027" x="106.4189" y="70.1908">-nombre : string</text><line style="stroke: #000000; stroke-width: 1.5202702702702704;" x1="101.3514" x2="336.4865" y1="76.6945" y2="76.6945"/><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="225" x="106.4189" y="92.3218">+Articulo(in nombre : string, in precio : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="105.4054" x="106.4189" y="106.3447">#GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="11.1486" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="167.2297" x="106.4189" y="120.3676">+GetPrecio() : double {virtual}</text><text fill="#000000" font-family="sans-serif" font-size="11.1486" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142.9054" x="106.4189" y="134.3905">+ATexto() : string {virtual}</text><!--MD5=[2f7aa29e6ed06458ec3a8577fe477f93]
class ArticuloRebajado--><rect fill="#FFFAFA" filter="url(#f1brc8iwzyhtdc)" height="132.7861" id="ArticuloRebajado" style="stroke: #000000; stroke-width: 1.5202702702702704;" width="425.6757" x="6.0811" y="201.6892"/><ellipse cx="166.9764" cy="217.9054" fill="#ADD1B2" rx="11.1486" ry="11.1486" style="stroke: #000000; stroke-width: 1.0135135135135136;"/><path d="M169.7793,213.7247 Q169.9377,213.503 170.1277,213.3921 Q170.3178,213.2813 170.5395,213.2813 Q170.9196,213.2813 171.1571,213.5505 Q171.3946,213.8038 171.3946,214.4215 L171.3946,215.8942 Q171.3946,216.5118 171.1571,216.781 Q170.9196,217.0503 170.5395,217.0503 Q170.1911,217.0503 169.9852,216.8444 Q169.7793,216.6543 169.6685,216.1318 Q169.621,215.7675 169.431,215.5775 Q169.0984,215.1974 168.4808,214.9757 Q167.8632,214.754 167.2297,214.754 Q166.4538,214.754 165.8045,215.0866 Q165.171,215.4191 164.6643,216.1793 Q164.1734,216.9394 164.1734,217.9846 L164.1734,219.0931 Q164.1734,220.3442 165.076,221.1835 Q165.9787,222.007 167.594,222.007 Q168.5441,222.007 169.2092,221.7536 Q169.6052,221.5952 170.0327,221.1518 Q170.3019,220.8826 170.4445,220.8034 Q170.6028,220.7242 170.8087,220.7242 Q171.1413,220.7242 171.3946,220.9935 Q171.6639,221.2468 171.6639,221.5952 Q171.6639,221.9436 171.3155,222.3554 Q170.8087,222.9413 170.0011,223.2739 Q168.9084,223.7331 167.594,223.7331 Q166.0579,223.7331 164.8385,223.0997 Q163.8408,222.5929 163.144,221.516 Q162.4472,220.4234 162.4472,219.1248 L162.4472,217.9529 Q162.4472,216.6068 163.0648,215.4508 Q163.6983,214.2789 164.8068,213.6613 Q165.9153,213.0279 167.1664,213.0279 Q167.9107,213.0279 168.56,213.2021 Q169.2251,213.3604 169.7793,213.7247 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.1622" lengthAdjust="spacingAndGlyphs" textLength="95.2703" x="187.7534" y="222.8819">ArticuloRebajado</text><line style="stroke: #000000; stroke-width: 1.5202702702702704;" x1="7.0946" x2="430.7432" y1="234.1216" y2="234.1216"/><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="129.7297" x="12.1622" y="249.7489">-porcentajeRebaja : ushort</text><line style="stroke: #000000; stroke-width: 1.5202702702702704;" x1="7.0946" x2="430.7432" y1="256.2526" y2="256.2526"/><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="413.5135" x="12.1622" y="271.8799">+ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)</text><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="155.0676" x="12.1622" y="285.9029">-GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="11.1486" lengthAdjust="spacingAndGlyphs" textLength="123.6486" x="12.1622" y="299.9258">-GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.1486" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122.6351" x="12.1622" y="313.9487">^+GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.1486" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102.3649" x="12.1622" y="327.9716">^+ATexto() : string</text><!--MD5=[4c5e07181522a81d7ce4ca381a4c3897]
reverse link Articulo to ArticuloRebajado--><path d="M218.9189,161.6422 C218.9189,175.0774 218.9189,188.7689 218.9189,201.6446 " fill="none" id="Articulo&lt;-ArticuloRebajado" style="stroke: #000000; stroke-width: 1.0135135135135136;"/><polygon fill="none" points="211.8243,161.1628,218.9189,140.8926,226.0135,161.1628,211.8243,161.1628" style="stroke: #000000; stroke-width: 1.0135135135135136;"/><!--MD5=[8a28d79945b88d1d497de4e27d4a1081]
@startuml

scale 450 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

class Articulo
{
    - precio : double
    - nombre : string

    + Articulo(in nombre : string, in precio : double)
    # GetNombre() : string
    **{abstract} +GetPrecio() : double {virtual}**
    **{abstract} +ATexto() : string {virtual}**
}

class ArticuloRebajado
{
    - porcentajeRebaja : ushort

    + ArticuloRebajado(in nombre : string, in precio : double, in porcentajeRebaja : ushort)
    - GetPorcentajeRebaja() : ushort
    - GetDescuento() : double
    **^+GetPrecio() : double**
    **^+ATexto() : string**
}

Articulo ^- - ArticuloRebajado

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p>La implementaci&#xF3;n en C# quedar&#xED;a como sigue...</p>
<ol>
<li>
<p>Modifico los m&#xE9;todos c&#xF3;mo invalidables con <strong><code>virtual</code></strong> en <strong><code>Articulo</code></strong> y los hagos public como va a ser en las subclases.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[4,7]}" class="language-csharp" data-line="4,7"><span class="token keyword">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... c&#xF3;digo omitido para abreviar.</span>
    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token keyword">double</span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> precio<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token keyword">string</span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> $<span class="token string">&quot;Nombre: {nombre} Precio: {precio:F2}&#x20AC;&quot;</span> <span class="token operator">+</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>        
<div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">





<div aria-hidden="true" class="line-highlight" data-range="7" data-start="7">
</div></div></pre></li>
<li>
<p>Invalido el m&#xE9;todo con la misma signatura en la subclase con el modificador <strong><code>override</code></strong></p>
<blockquote>
<p>&#x1F4A1; <strong>Tips:</strong><br>
1 - Si escribo <strong><code>public override</code></strong><em><code>Ctrl + &lt;espacio&gt;</code></em> el &apos;<em>intellisense</em>&apos; me ofrecer&#xE1; permitir&#xE1; escoger entre los m&#xE9;todos invalidables.<br>
2 - Si refactorizamos sobre el nombre de la clase con <em><code>Ctrl + .</code></em> una de ellas ser&#xE1; &apos;<em>Generar invalidaciones...</em>&apos;</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... c&#xF3;digo omitido para abreviar.</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">double</span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// A&#xF1;ado el modificador override para confirmar que quiero hacer una invalidaci&#xF3;n.</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// A&#xF1;ado el modificador override para confirmar que quiero hacer una invalidaci&#xF3;n.</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> $<span class="token string">&quot;Nombre: {GetNombre()}\nRebaja: {GetPorcentajeRebaja()}%\n&quot;</span> <span class="token operator">+</span>
               $<span class="token string">&quot;Antes: {base.GetPrecio():F2}&#x20AC;\nAhora: {GetPrecio():F2}&#x20AC;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
</ol>
</li>
</ul>
<div style="page-break-after:always;"></div>
<ul>
<li>
<p>Lo normal es que en el momento que modifiquemos alg&#xFA;n m&#xE9;todo en la jerarqu&#xED;a con <strong><code>virtual</code></strong> (invalidable), los m&#xE9;todos con la misma signatura en las subclases se modificar&#xE1;n con <strong><code>override</code></strong>.</p>
</li>
<li>
<p>Sin embargo, podemos hacer dise&#xF1;os m&#xE1;s complejos como el del ejemplo siguiente donde volvemos a ocultar como sucede en la clase <strong><code>E</code></strong>. <strong>Deberemos evitar dise&#xF1;os complejos</strong>.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="74.6114px" preserveAspectRatio="none" style="width:792px;height:74px;" version="1.1" viewBox="0 0 792 74" width="792.7461px" zoomAndPan="magnify"><defs><filter height="300%" id="f1d14dfgls4um2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0725388601036268"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.1450777202072535" dy="4.1450777202072535" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[a46ee5ce0ceb0380cf446a08a056dce4]
class A--><rect fill="#FFFAFA" filter="url(#f1d14dfgls4um2)" height="55.7885" id="A" style="stroke: #000000; stroke-width: 1.55440414507772;" width="93.2642" x="6.2176" y="8.2902"/><ellipse cx="45.544" cy="24.8705" fill="#ADD1B2" rx="11.399" ry="11.399" style="stroke: #000000; stroke-width: 1.0362694300518134;"/><path d="M48.41,20.5959 Q48.5719,20.3692 48.7662,20.2558 Q48.9605,20.1425 49.1872,20.1425 Q49.5758,20.1425 49.8187,20.4177 Q50.0615,20.6768 50.0615,21.3083 L50.0615,22.8141 Q50.0615,23.4456 49.8187,23.7209 Q49.5758,23.9961 49.1872,23.9961 Q48.831,23.9961 48.6205,23.7856 Q48.41,23.5913 48.2966,23.057 Q48.2481,22.6846 48.0538,22.4903 Q47.7137,22.1017 47.0823,21.875 Q46.4508,21.6483 45.8031,21.6483 Q45.0097,21.6483 44.3459,21.9883 Q43.6982,22.3284 43.1801,23.1056 Q42.6781,23.8828 42.6781,24.9514 L42.6781,26.0848 Q42.6781,27.364 43.601,28.2222 Q44.524,29.0641 46.1755,29.0641 Q47.147,29.0641 47.8271,28.8051 Q48.2319,28.6431 48.669,28.1898 Q48.9443,27.9145 49.09,27.8335 Q49.2519,27.7526 49.4624,27.7526 Q49.8025,27.7526 50.0615,28.0278 Q50.3368,28.2869 50.3368,28.6431 Q50.3368,28.9994 49.9806,29.4203 Q49.4624,30.0194 48.6367,30.3595 Q47.5194,30.829 46.1755,30.829 Q44.6049,30.829 43.3582,30.1813 Q42.3381,29.6632 41.6256,28.5622 Q40.9132,27.4449 40.9132,26.1172 L40.9132,24.919 Q40.9132,23.5427 41.5447,22.3608 Q42.1924,21.1626 43.3258,20.5311 Q44.4592,19.8834 45.7383,19.8834 Q46.4994,19.8834 47.1632,20.0615 Q47.8433,20.2234 48.41,20.5959 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.4352" lengthAdjust="spacingAndGlyphs" textLength="7.2539" x="65.3368" y="29.9587">A</text><line style="stroke: #000000; stroke-width: 1.55440414507772;" x1="7.2539" x2="98.4456" y1="41.4508" y2="41.4508"/><text fill="#000000" font-family="sans-serif" font-size="11.399" lengthAdjust="spacingAndGlyphs" textLength="80.829" x="12.4352" y="57.429">+Metodo() : void</text><!--MD5=[69c451c751c414e37549b782190fef46]
class B--><rect fill="#FFFAFA" filter="url(#f1d14dfgls4um2)" height="55.7885" id="B" style="stroke: #000000; stroke-width: 1.55440414507772;" width="136.7876" x="161.658" y="8.2902"/><ellipse cx="221.5026" cy="24.8705" fill="#ADD1B2" rx="11.399" ry="11.399" style="stroke: #000000; stroke-width: 1.0362694300518134;"/><path d="M224.3685,20.5959 Q224.5304,20.3692 224.7247,20.2558 Q224.919,20.1425 225.1457,20.1425 Q225.5343,20.1425 225.7772,20.4177 Q226.0201,20.6768 226.0201,21.3083 L226.0201,22.8141 Q226.0201,23.4456 225.7772,23.7209 Q225.5343,23.9961 225.1457,23.9961 Q224.7895,23.9961 224.579,23.7856 Q224.3685,23.5913 224.2552,23.057 Q224.2066,22.6846 224.0123,22.4903 Q223.6723,22.1017 223.0408,21.875 Q222.4093,21.6483 221.7617,21.6483 Q220.9683,21.6483 220.3044,21.9883 Q219.6567,22.3284 219.1386,23.1056 Q218.6367,23.8828 218.6367,24.9514 L218.6367,26.0848 Q218.6367,27.364 219.5596,28.2222 Q220.4825,29.0641 222.1341,29.0641 Q223.1056,29.0641 223.7856,28.8051 Q224.1904,28.6431 224.6276,28.1898 Q224.9028,27.9145 225.0486,27.8335 Q225.2105,27.7526 225.421,27.7526 Q225.761,27.7526 226.0201,28.0278 Q226.2953,28.2869 226.2953,28.6431 Q226.2953,28.9994 225.9391,29.4203 Q225.421,30.0194 224.5952,30.3595 Q223.478,30.829 222.1341,30.829 Q220.5635,30.829 219.3167,30.1813 Q218.2966,29.6632 217.5842,28.5622 Q216.8718,27.4449 216.8718,26.1172 L216.8718,24.919 Q216.8718,23.5427 217.5032,22.3608 Q218.1509,21.1626 219.2843,20.5311 Q220.4177,19.8834 221.6969,19.8834 Q222.4579,19.8834 223.1218,20.0615 Q223.8018,20.2234 224.3685,20.5959 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.4352" lengthAdjust="spacingAndGlyphs" textLength="8.2902" x="242.7461" y="29.9587">B</text><line style="stroke: #000000; stroke-width: 1.55440414507772;" x1="162.6943" x2="297.4093" y1="41.4508" y2="41.4508"/><text fill="#000000" font-family="sans-serif" font-size="11.399" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="124.3523" x="167.8756" y="57.429">+Metodo() : void {virtual}</text><!--MD5=[378b18254a1b2429f435e93f5e5cc50c]
class C--><rect fill="#FFFAFA" filter="url(#f1d14dfgls4um2)" height="55.7885" id="C" style="stroke: #000000; stroke-width: 1.55440414507772;" width="101.5544" x="360.6218" y="8.2902"/><ellipse cx="402.7461" cy="24.8705" fill="#ADD1B2" rx="11.399" ry="11.399" style="stroke: #000000; stroke-width: 1.0362694300518134;"/><path d="M405.612,20.5959 Q405.774,20.3692 405.9683,20.2558 Q406.1626,20.1425 406.3892,20.1425 Q406.7778,20.1425 407.0207,20.4177 Q407.2636,20.6768 407.2636,21.3083 L407.2636,22.8141 Q407.2636,23.4456 407.0207,23.7209 Q406.7778,23.9961 406.3892,23.9961 Q406.033,23.9961 405.8225,23.7856 Q405.612,23.5913 405.4987,23.057 Q405.4501,22.6846 405.2558,22.4903 Q404.9158,22.1017 404.2843,21.875 Q403.6528,21.6483 403.0052,21.6483 Q402.2118,21.6483 401.5479,21.9883 Q400.9003,22.3284 400.3821,23.1056 Q399.8802,23.8828 399.8802,24.9514 L399.8802,26.0848 Q399.8802,27.364 400.8031,28.2222 Q401.726,29.0641 403.3776,29.0641 Q404.3491,29.0641 405.0291,28.8051 Q405.4339,28.6431 405.8711,28.1898 Q406.1464,27.9145 406.2921,27.8335 Q406.454,27.7526 406.6645,27.7526 Q407.0045,27.7526 407.2636,28.0278 Q407.5389,28.2869 407.5389,28.6431 Q407.5389,28.9994 407.1826,29.4203 Q406.6645,30.0194 405.8387,30.3595 Q404.7215,30.829 403.3776,30.829 Q401.807,30.829 400.5602,30.1813 Q399.5402,29.6632 398.8277,28.5622 Q398.1153,27.4449 398.1153,26.1172 L398.1153,24.919 Q398.1153,23.5427 398.7468,22.3608 Q399.3944,21.1626 400.5278,20.5311 Q401.6613,19.8834 402.9404,19.8834 Q403.7014,19.8834 404.3653,20.0615 Q405.0453,20.2234 405.612,20.5959 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.4352" lengthAdjust="spacingAndGlyphs" textLength="9.3264" x="423.1606" y="29.9587">C</text><line style="stroke: #000000; stroke-width: 1.55440414507772;" x1="361.658" x2="461.1399" y1="41.4508" y2="41.4508"/><text fill="#000000" font-family="sans-serif" font-size="11.399" lengthAdjust="spacingAndGlyphs" textLength="89.1192" x="366.8394" y="57.429">^+ Metodo() : void</text><!--MD5=[69b356fec5e4f53d7535011b6fc9d60b]
class D--><rect fill="#FFFAFA" filter="url(#f1d14dfgls4um2)" height="55.7885" id="D" style="stroke: #000000; stroke-width: 1.55440414507772;" width="101.5544" x="524.3523" y="8.2902"/><ellipse cx="566.4767" cy="24.8705" fill="#ADD1B2" rx="11.399" ry="11.399" style="stroke: #000000; stroke-width: 1.0362694300518134;"/><path d="M569.3426,20.5959 Q569.5045,20.3692 569.6988,20.2558 Q569.8931,20.1425 570.1198,20.1425 Q570.5084,20.1425 570.7513,20.4177 Q570.9942,20.6768 570.9942,21.3083 L570.9942,22.8141 Q570.9942,23.4456 570.7513,23.7209 Q570.5084,23.9961 570.1198,23.9961 Q569.7636,23.9961 569.5531,23.7856 Q569.3426,23.5913 569.2293,23.057 Q569.1807,22.6846 568.9864,22.4903 Q568.6464,22.1017 568.0149,21.875 Q567.3834,21.6483 566.7358,21.6483 Q565.9424,21.6483 565.2785,21.9883 Q564.6308,22.3284 564.1127,23.1056 Q563.6108,23.8828 563.6108,24.9514 L563.6108,26.0848 Q563.6108,27.364 564.5337,28.2222 Q565.4566,29.0641 567.1082,29.0641 Q568.0797,29.0641 568.7597,28.8051 Q569.1645,28.6431 569.6017,28.1898 Q569.8769,27.9145 570.0227,27.8335 Q570.1846,27.7526 570.3951,27.7526 Q570.7351,27.7526 570.9942,28.0278 Q571.2694,28.2869 571.2694,28.6431 Q571.2694,28.9994 570.9132,29.4203 Q570.3951,30.0194 569.5693,30.3595 Q568.4521,30.829 567.1082,30.829 Q565.5376,30.829 564.2908,30.1813 Q563.2707,29.6632 562.5583,28.5622 Q561.8459,27.4449 561.8459,26.1172 L561.8459,24.919 Q561.8459,23.5427 562.4773,22.3608 Q563.125,21.1626 564.2584,20.5311 Q565.3918,19.8834 566.671,19.8834 Q567.432,19.8834 568.0959,20.0615 Q568.7759,20.2234 569.3426,20.5959 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.4352" lengthAdjust="spacingAndGlyphs" textLength="9.3264" x="586.8912" y="29.9587">D</text><line style="stroke: #000000; stroke-width: 1.55440414507772;" x1="525.3886" x2="624.8705" y1="41.4508" y2="41.4508"/><text fill="#000000" font-family="sans-serif" font-size="11.399" lengthAdjust="spacingAndGlyphs" textLength="89.1192" x="530.5699" y="57.429">^+ Metodo() : void</text><!--MD5=[54d0f7ca6f9898010b87b67e67e7a5e0]
class E--><rect fill="#FFFAFA" filter="url(#f1d14dfgls4um2)" height="55.7885" id="E" style="stroke: #000000; stroke-width: 1.55440414507772;" width="93.2642" x="688.0829" y="8.2902"/><ellipse cx="726.943" cy="24.8705" fill="#ADD1B2" rx="11.399" ry="11.399" style="stroke: #000000; stroke-width: 1.0362694300518134;"/><path d="M729.8089,20.5959 Q729.9709,20.3692 730.1652,20.2558 Q730.3595,20.1425 730.5861,20.1425 Q730.9747,20.1425 731.2176,20.4177 Q731.4605,20.6768 731.4605,21.3083 L731.4605,22.8141 Q731.4605,23.4456 731.2176,23.7209 Q730.9747,23.9961 730.5861,23.9961 Q730.2299,23.9961 730.0194,23.7856 Q729.8089,23.5913 729.6956,23.057 Q729.647,22.6846 729.4527,22.4903 Q729.1127,22.1017 728.4812,21.875 Q727.8497,21.6483 727.2021,21.6483 Q726.4087,21.6483 725.7448,21.9883 Q725.0972,22.3284 724.579,23.1056 Q724.0771,23.8828 724.0771,24.9514 L724.0771,26.0848 Q724.0771,27.364 725,28.2222 Q725.9229,29.0641 727.5745,29.0641 Q728.546,29.0641 729.226,28.8051 Q729.6308,28.6431 730.068,28.1898 Q730.3433,27.9145 730.489,27.8335 Q730.6509,27.7526 730.8614,27.7526 Q731.2014,27.7526 731.4605,28.0278 Q731.7358,28.2869 731.7358,28.6431 Q731.7358,28.9994 731.3795,29.4203 Q730.8614,30.0194 730.0356,30.3595 Q728.9184,30.829 727.5745,30.829 Q726.0039,30.829 724.7571,30.1813 Q723.737,29.6632 723.0246,28.5622 Q722.3122,27.4449 722.3122,26.1172 L722.3122,24.919 Q722.3122,23.5427 722.9437,22.3608 Q723.5913,21.1626 724.7247,20.5311 Q725.8582,19.8834 727.1373,19.8834 Q727.8983,19.8834 728.5622,20.0615 Q729.2422,20.2234 729.8089,20.5959 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.4352" lengthAdjust="spacingAndGlyphs" textLength="8.2902" x="746.6321" y="29.9587">E</text><line style="stroke: #000000; stroke-width: 1.55440414507772;" x1="689.1192" x2="780.3109" y1="41.4508" y2="41.4508"/><text fill="#000000" font-family="sans-serif" font-size="11.399" lengthAdjust="spacingAndGlyphs" textLength="80.829" x="694.3005" y="57.429">+Metodo() : void</text><!--MD5=[81500ff05264bba268bb228b65a49ed8]
reverse link A to B--><path d="M120.8062,36.2694 C134.1596,36.2694 148.1927,36.2694 161.5637,36.2694 " fill="none" id="A&lt;-B" style="stroke: #000000; stroke-width: 1.0362694300518134;"/><polygon fill="none" points="120.6249,43.5232,99.8993,36.2694,120.6249,29.0154,120.6249,43.5232" style="stroke: #000000; stroke-width: 1.0362694300518134;"/><!--MD5=[86a7f2f40e8d9a69bf1262f888265aa3]
reverse link B to C--><path d="M319.8207,36.2694 C333.7596,36.2694 347.7275,36.2694 360.3762,36.2694 " fill="none" id="B&lt;-C" style="stroke: #000000; stroke-width: 1.0362694300518134;"/><polygon fill="none" points="319.5896,43.5232,298.8642,36.2694,319.5896,29.0154,319.5896,43.5232" style="stroke: #000000; stroke-width: 1.0362694300518134;"/><!--MD5=[aef4253f22c35495e0572246d48c1675]
reverse link C to D--><path d="M483.3285,36.2694 C497.0912,36.2694 511.2435,36.2694 524.1575,36.2694 " fill="none" id="C&lt;-D" style="stroke: #000000; stroke-width: 1.0362694300518134;"/><polygon fill="none" points="482.9824,43.5232,462.257,36.2694,482.9824,29.0154,482.9824,43.5232" style="stroke: #000000; stroke-width: 1.0362694300518134;"/><!--MD5=[04555dd0e3763fd2d9c38de9d9cbd0d7]
reverse link D to E--><path d="M647.2114,36.2694 C661.0321,36.2694 675.172,36.2694 687.9078,36.2694 " fill="none" id="D&lt;-E" style="stroke: #000000; stroke-width: 1.0362694300518134;"/><polygon fill="none" points="646.7295,43.5232,626.0041,36.2694,646.7295,29.0154,646.7295,43.5232" style="stroke: #000000; stroke-width: 1.0362694300518134;"/><!--MD5=[cae0d8b5bc2f7206f205e11aec13173e]
@startuml

left to right direction
scale 800 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide attributes
class A
{
    + Metodo() : void
}
class B
{
    {abstract} + Metodo() : void {virtual}
}
class C
{
    ^+ Metodo() : void
}
class D
{
    ^+ Metodo() : void
}
class E
{
    + Metodo() : void
}

A ^- -B
B ^- -C
C ^- -D
D ^- -E

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">A</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">:</span> <span class="token class-name">A</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Oculta el de A y lo marco como virtual o invalidable.</span>
    <span class="token keyword">public</span> <span class="token keyword">new</span> <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">:</span> <span class="token class-name">B</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">void</span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Invalido Metodo() en B</span>
    <span class="token punctuation">{</span> 
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Llamada a la implementaci&#xF3;n de B </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">D</span> <span class="token punctuation">:</span> <span class="token class-name">C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">void</span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// Invalido Metodo() en B y C</span>
    <span class="token punctuation">{</span> 
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Llamada a la implementaci&#xF3;n de C</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">E</span> <span class="token punctuation">:</span> <span class="token class-name">D</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">new</span> <span class="token keyword">void</span> <span class="token function">Metodo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// Corto la secuencia de invalidaciones ocultando el m&#xE9;todo.</span>
    <span class="token punctuation">{</span> 
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
</ul>
<div style="page-break-after:always;"></div>
<blockquote>
<p><strong>&#x1F393; Caso de estudio</strong></p>
<p>Vamos a definir otra concreci&#xF3;n m&#xE1;s de la clase <strong><code>Articulo</code></strong>. En este caso, va a representar art&#xED;culos reacondicionados, de los que vamos a a&#xF1;adir una <strong>fecha de reacondicionamiento</strong>, la <strong>empresa</strong> que lo realiza y una <strong>descripci&#xF3;n</strong> del trabajo realizado.</p>
<ul>
<li>Solo vamos a invalidar el m&#xE9;todo <strong><code>string ATexto()</code></strong>.</li>
<li>Inst&#xE1;ncia un objeto de la nueva clase.</li>
</ul>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="206.1972px" preserveAspectRatio="none" style="width:390px;height:206px;" version="1.1" viewBox="0 0 390 206" width="390.9859px" zoomAndPan="magnify"><defs><filter height="300%" id="f1p1tcdrayfkon" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.2535211267605635"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.507042253521127" dy="4.507042253521127" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[6a1e8c298c85852c3878b8bc4320a243]
class ArticuloReacondicionado--><rect fill="#FFDEAD" filter="url(#f1p1tcdrayfkon)" height="36.0563" id="ArticuloReacondicionado" style="stroke: #000000; stroke-width: 1.6901408450704225;" width="190.4225" x="6.7606" y="157.7465"/><ellipse cx="23.662" cy="175.7746" fill="#ADD1B2" rx="12.3944" ry="12.3944" style="stroke: #000000; stroke-width: 1.1267605633802817;"/><path d="M26.7782,171.1268 Q26.9542,170.8803 27.1655,170.757 Q27.3768,170.6338 27.6232,170.6338 Q28.0458,170.6338 28.3099,170.9331 Q28.5739,171.2148 28.5739,171.9014 L28.5739,173.5387 Q28.5739,174.2254 28.3099,174.5246 Q28.0458,174.8239 27.6232,174.8239 Q27.2359,174.8239 27.007,174.5951 Q26.7782,174.3838 26.6549,173.8028 Q26.6021,173.3979 26.3908,173.1866 Q26.0211,172.7641 25.3345,172.5176 Q24.6479,172.2711 23.9437,172.2711 Q23.081,172.2711 22.3592,172.6408 Q21.6549,173.0106 21.0915,173.8556 Q20.5458,174.7007 20.5458,175.8627 L20.5458,177.0951 Q20.5458,178.4859 21.5493,179.419 Q22.5528,180.3345 24.3486,180.3345 Q25.4049,180.3345 26.1444,180.0528 Q26.5845,179.8768 27.0599,179.3838 Q27.3592,179.0845 27.5176,178.9965 Q27.6937,178.9085 27.9225,178.9085 Q28.2923,178.9085 28.5739,179.2077 Q28.8732,179.4894 28.8732,179.8768 Q28.8732,180.2641 28.4859,180.7218 Q27.9225,181.3732 27.0246,181.743 Q25.8099,182.2535 24.3486,182.2535 Q22.6408,182.2535 21.2852,181.5493 Q20.1761,180.9859 19.4014,179.7887 Q18.6268,178.5739 18.6268,177.1303 L18.6268,175.8275 Q18.6268,174.331 19.3134,173.0458 Q20.0176,171.743 21.25,171.0563 Q22.4824,170.3521 23.8732,170.3521 Q24.7007,170.3521 25.4225,170.5458 Q26.162,170.7218 26.7782,171.1268 Z "/><text fill="#000000" font-family="sans-serif" font-size="13.5211" lengthAdjust="spacingAndGlyphs" textLength="154.3662" x="39.4366" y="181.3072">ArticuloReacondicionado</text><!--MD5=[60dbf6945f26d51d7ef11e92d44c812f]
class Articulo--><rect fill="#FFFAFA" filter="url(#f1p1tcdrayfkon)" height="36.0563" id="Articulo" style="stroke: #000000; stroke-width: 1.6901408450704225;" width="81.1268" x="163.9437" y="31.5493"/><ellipse cx="180.8451" cy="49.5775" fill="#ADD1B2" rx="12.3944" ry="12.3944" style="stroke: #000000; stroke-width: 1.1267605633802817;"/><path d="M183.9613,44.9296 Q184.1373,44.6831 184.3486,44.5599 Q184.5599,44.4366 184.8063,44.4366 Q185.2289,44.4366 185.493,44.7359 Q185.757,45.0176 185.757,45.7042 L185.757,47.3415 Q185.757,48.0282 185.493,48.3275 Q185.2289,48.6268 184.8063,48.6268 Q184.419,48.6268 184.1901,48.3979 Q183.9613,48.1866 183.838,47.6056 Q183.7852,47.2007 183.5739,46.9894 Q183.2042,46.5669 182.5176,46.3204 Q181.831,46.0739 181.1268,46.0739 Q180.2641,46.0739 179.5423,46.4437 Q178.838,46.8134 178.2746,47.6585 Q177.7289,48.5035 177.7289,49.6655 L177.7289,50.8979 Q177.7289,52.2887 178.7324,53.2218 Q179.7359,54.1373 181.5317,54.1373 Q182.588,54.1373 183.3275,53.8556 Q183.7676,53.6796 184.243,53.1866 Q184.5423,52.8873 184.7007,52.7993 Q184.8768,52.7113 185.1056,52.7113 Q185.4754,52.7113 185.757,53.0106 Q186.0563,53.2923 186.0563,53.6796 Q186.0563,54.0669 185.669,54.5246 Q185.1056,55.1761 184.2077,55.5458 Q182.993,56.0563 181.5317,56.0563 Q179.8239,56.0563 178.4683,55.3521 Q177.3592,54.7887 176.5845,53.5915 Q175.8099,52.3768 175.8099,50.9331 L175.8099,49.6303 Q175.8099,48.1338 176.4965,46.8486 Q177.2007,45.5458 178.4331,44.8592 Q179.6655,44.1549 181.0563,44.1549 Q181.8838,44.1549 182.6056,44.3486 Q183.3451,44.5246 183.9613,44.9296 Z "/><text fill="#000000" font-family="sans-serif" font-size="13.5211" lengthAdjust="spacingAndGlyphs" textLength="45.0704" x="196.6197" y="55.11">Articulo</text><polygon fill="none" points="204.507,67.6056,212.3944,90.1408,196.6197,90.1408" style="stroke: #000000; stroke-width: 1.1267605633802817;"/><line style="stroke: #000000; stroke-width: 1.1267605633802817;" x1="204.507" x2="204.507" y1="90.1408" y2="91.2676"/><!--MD5=[2f7aa29e6ed06458ec3a8577fe477f93]
class ArticuloRebajado--><rect fill="#FFFAFA" filter="url(#f1p1tcdrayfkon)" height="36.0563" id="ArticuloRebajado" style="stroke: #000000; stroke-width: 1.6901408450704225;" width="141.9718" x="237.1831" y="157.7465"/><ellipse cx="254.0845" cy="175.7746" fill="#ADD1B2" rx="12.3944" ry="12.3944" style="stroke: #000000; stroke-width: 1.1267605633802817;"/><path d="M257.2007,171.1268 Q257.3768,170.8803 257.588,170.757 Q257.7993,170.6338 258.0458,170.6338 Q258.4683,170.6338 258.7324,170.9331 Q258.9965,171.2148 258.9965,171.9014 L258.9965,173.5387 Q258.9965,174.2254 258.7324,174.5246 Q258.4683,174.8239 258.0458,174.8239 Q257.6585,174.8239 257.4296,174.5951 Q257.2007,174.3838 257.0775,173.8028 Q257.0246,173.3979 256.8134,173.1866 Q256.4437,172.7641 255.757,172.5176 Q255.0704,172.2711 254.3662,172.2711 Q253.5035,172.2711 252.7817,172.6408 Q252.0775,173.0106 251.5141,173.8556 Q250.9683,174.7007 250.9683,175.8627 L250.9683,177.0951 Q250.9683,178.4859 251.9718,179.419 Q252.9754,180.3345 254.7711,180.3345 Q255.8275,180.3345 256.5669,180.0528 Q257.007,179.8768 257.4824,179.3838 Q257.7817,179.0845 257.9401,178.9965 Q258.1162,178.9085 258.3451,178.9085 Q258.7148,178.9085 258.9965,179.2077 Q259.2958,179.4894 259.2958,179.8768 Q259.2958,180.2641 258.9085,180.7218 Q258.3451,181.3732 257.4472,181.743 Q256.2324,182.2535 254.7711,182.2535 Q253.0634,182.2535 251.7077,181.5493 Q250.5986,180.9859 249.8239,179.7887 Q249.0493,178.5739 249.0493,177.1303 L249.0493,175.8275 Q249.0493,174.331 249.7359,173.0458 Q250.4401,171.743 251.6725,171.0563 Q252.9049,170.3521 254.2958,170.3521 Q255.1232,170.3521 255.8451,170.5458 Q256.5845,170.7218 257.2007,171.1268 Z "/><text fill="#000000" font-family="sans-serif" font-size="13.5211" lengthAdjust="spacingAndGlyphs" textLength="105.9155" x="269.8592" y="181.3072">ArticuloRebajado</text><!--MD5=[4c5e07181522a81d7ce4ca381a4c3897]
reverse link Articulo to ArticuloRebajado--><path d="M204.507,91.2676 C204.507,91.2676 256.3268,132.9488 286.6907,157.3715 " fill="none" id="Articulo&lt;-ArticuloRebajado" style="stroke: #000000; stroke-width: 1.1267605633802817;"/><!--MD5=[5ead35dfedb79aa276df792dc2cba33a]
reverse link Articulo to ArticuloReacondicionado--><path d="M204.507,91.2676 C204.507,91.2676 153.2507,132.9488 123.2169,157.3715 " fill="none" id="Articulo&lt;-ArticuloReacondicionado" style="stroke: #000000; stroke-width: 1.1267605633802817;"/><!--MD5=[ce254ad3f1c32407c6cc7578de72047e]
@startuml

scale 400 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow
skinparam groupInheritance 2

hide attributes
hide Methods

class ArticuloReacondicionado #navajowhite

Articulo ^- - ArticuloRebajado
Articulo ^- - ArticuloReacondicionado

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p><strong>Nota:</strong> Antes de ver la la propuesta de implementaci&#xF3;n, intenta pensar c&#xF3;mo ser&#xED;a la misma.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=21}" class="language-csharp" data-line="21"><span class="token keyword">class</span> <span class="token class-name">ArticuloReacondicionado</span> <span class="token punctuation">:</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Una vez reacondicionado, los datos no van a cambiar.</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">DateTime</span> fechaReacondicionamiento<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">string</span> empresa<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">string</span> descripcion<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">ArticuloReacondicionado</span><span class="token punctuation">(</span>
                                <span class="token keyword">string</span> nombre<span class="token punctuation">,</span>
                                <span class="token keyword">double</span> precio<span class="token punctuation">,</span>
                                <span class="token class-name">DateTime</span> fechaReacondicionamiento<span class="token punctuation">,</span>
                                <span class="token keyword">string</span> empresa<span class="token punctuation">,</span>
                                <span class="token keyword">string</span> descripcion<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> precio<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fechaReacondicionamiento <span class="token operator">=</span> fechaReacondicionamiento<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>empresa <span class="token operator">=</span> empresa<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>descripcion <span class="token operator">=</span> descripcion<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">GetEmpresa</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> empresa<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Aprovechamos para no repetir el c&#xF3;digo que muestra los datos que son de art&#xED;culo llamando a  base.ATexto()</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
                $<span class="token string">&quot;\nFecha reacondicionamiento: {fechaReacondicionamiento.ToShortDateString()}\n&quot;</span> <span class="token operator">+</span>
                $<span class="token string">&quot;Empresa: {GetEmpresa()}\n&quot;</span> <span class="token operator">+</span>
                $<span class="token string">&quot;Descripci&#xF3;n: {descripcion}&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">EjemploHerencia</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">ArticuloReacondicionado</span> ac <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span>
                                <span class="token string">&quot;Fuente TFX&quot;</span><span class="token punctuation">,</span> <span class="token number">50</span>d<span class="token punctuation">,</span>
                                DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">&quot;Balmis S.A&quot;</span><span class="token punctuation">,</span>
                                <span class="token string">&quot;Se cambia condensador electrol&#xED;tico&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ac<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">



















<div aria-hidden="true" class="line-highlight" data-range="21" data-start="21">
</div></div></pre></blockquote>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="polimorfismo-de-datos-o-inclusi%C3%B3n">Polimorfismo de datos o inclusi&#xF3;n</h4>

<ul>
<li>Es la capacidad de un identificador de hacer referencia a instancias de distintas clases durante su ejecuci&#xF3;n.</li>
<li>Se logra a trav&#xE9;s del <strong>principio de sustituci&#xF3;n</strong>.</li>
</ul>
<h4 class="mume-header" id="principio-de-sustituci%C3%B3n-de-a-hrefhttpseswikipediaorgwikibarbara_liskov-target_blankliskova-upcasting">Principio de sustituci&#xF3;n de <a href="https://es.wikipedia.org/wiki/Barbara_Liskov" target="_blank">Liskov</a> (Upcasting)</h4>

<ul>
<li>
<p>Podemos decir que es, cuando un identificador que hemos declarado del tipo la superclase, referencia a un objeto de la subclase.</p>
</li>
<li>
<p>Tambi&#xE9;n se le conoce como <strong>upcasting</strong></p>
</li>
<li>
<p>La <strong>conversi&#xF3;n</strong> o <em>&apos;cast&apos;</em> se hace de forma <strong>impl&#xED;cita</strong>.</p>
</li>
<li>
<p>Creamos un objeto de la subclase y lo asignamos a la superclase.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Fred Perry&quot;</span><span class="token punctuation">,</span> <span class="token number">70</span>d<span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Articulo</span> a <span class="token operator">=</span> ar<span class="token punctuation">;</span>

<span class="token comment">// Tambi&#xE9;n podemos hacerlo directamente.</span>
<span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Fred Perry&quot;</span><span class="token punctuation">,</span> <span class="token number">70</span>d<span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></li>
</ul>
<p align="center" style="zoom:0.8"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="396pt" height="272pt" viewBox="0.00 0.00 396.00 272.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 268)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-268 392,-268 392,4 -4,4"/>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-181" rx="27" ry="27"/>
<text text-anchor="middle" x="27" y="-176.8" font-family="Arial" font-size="14.00" fill="#000000">a</text>
</g>
<!-- oar -->
<g id="node2" class="node">
<title>oar</title>
<polygon fill="none" stroke="#a8a8a8" points="99,-211 99,-259 379,-259 379,-211 99,-211"/>
<text text-anchor="start" x="183.7672" y="-230.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">ArticuloRebajado </text>
<polygon fill="none" stroke="#000000" points="115,-167 115,-195 363,-195 363,-167 115,-167"/>
<text text-anchor="start" x="190.3773" y="-176.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;a : Articulo &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="120" y="-149.4" font-family="Arial" font-size="14.00" fill="#000000">nombre = &quot;Polo Fred Perry&quot; &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="120" y="-123.4" font-family="Arial" font-size="14.00" fill="#000000">precio = 70.00 &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="114,-114 114,-196 364,-196 364,-114 114,-114"/>
<text text-anchor="start" x="114" y="-71.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#a8a8a8" points="99,-5 99,-53 379,-53 379,-5 99,-5"/>
<text text-anchor="start" x="114.7157" y="-25.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="130.2781" y="-25.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">+GetPorcentajeRebaja() : ushort &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="347.7219" y="-25.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#a8a8a8" points="98,-4 98,-260 380,-260 380,-4 98,-4"/>
</g>
<!-- a&#45;&gt;oar -->
<g id="edge1" class="edge">
<title>a-&gt;oar:a</title>
<path fill="none" stroke="#000000" d="M54.3509,-181C68.872,-181 87.2977,-181 104.8222,-181"/>
<polygon fill="#000000" stroke="#000000" points="105,-184.5001 115,-181 105,-177.5001 105,-184.5001"/>
</g>
</g>
</svg>
</p><blockquote>
<p>&#x270B; <strong>Importante:</strong> Aunque creamos un objeto <strong><code>ArticuloRebajado</code></strong> <strong>completo</strong> en memoria. A trav&#xE9;s de <strong><code>a</code></strong> solo podremos acceder a la parte de <strong><code>Articulo</code></strong> que hay dentro del <strong><code>ArticuloRebajado</code></strong>.<br>
Por ejemplo, si tuvieramos una accesor p&#xFA;blico en <strong><code>ArticuloRebajado</code></strong> denominado <strong><code>ushort GetPorcentajeRebaja()</code></strong>, no podr&#xED;amos hacer <strong><code>a.GetPorcentajeRebaja()</code></strong>.</p>
</blockquote>
<h4 class="mume-header" id="downcasting">Downcasting</h4>

<ul>
<li>Se tratar&#xE1; de la <strong>operaci&#xF3;n contr&#xE1;ria a la sustituci&#xF3;n</strong> o upcasting.</li>
<li>Solo podremos hacerla si realmente la referencia que tenemos es del tipo al que queremos hacer el downcasting, en caso contr&#xE1;rio obtendremos un <strong>error en tiempo de ejecuci&#xF3;n</strong>.</li>
</ul>
<p align="center" style="zoom:0.6"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="910pt" height="224pt" viewBox="0.00 0.00 910.10 224.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 220)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-220 906.1044,-220 906.1044,4 -4,4"/>
<!-- a1 -->
<g id="node1" class="node">
<title>a1</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-133" rx="27" ry="27"/>
<text text-anchor="middle" x="27" y="-128.8" font-family="Arial" font-size="14.00" fill="#000000">a</text>
</g>
<!-- oar1 -->
<g id="node5" class="node">
<title>oar1</title>
<polygon fill="none" stroke="#a8a8a8" points="99,-163 99,-211 327,-211 327,-163 99,-163"/>
<text text-anchor="start" x="157.7672" y="-182.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">ArticuloRebajado </text>
<polygon fill="none" stroke="#000000" points="115,-119 115,-147 311,-147 311,-119 115,-119"/>
<text text-anchor="start" x="164.3773" y="-128.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;a : Articulo &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="119.5423" y="-101.4" font-family="Arial" font-size="14.00" fill="#000000">nombre = &quot;Polo Fred Perry&quot; &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="120" y="-75.4" font-family="Arial" font-size="14.00" fill="#000000">precio = 70.00 &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="114,-66 114,-148 312,-148 312,-66 114,-66"/>
<text text-anchor="start" x="114" y="-23.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#a8a8a8" points="98,-4 98,-212 328,-212 328,-4 98,-4"/>
</g>
<!-- a1&#45;&gt;oar1 -->
<g id="edge1" class="edge">
<title>a1-&gt;oar1:a</title>
<path fill="none" stroke="#000000" d="M54.3509,-133C68.872,-133 87.2977,-133 104.8222,-133"/>
<polygon fill="#000000" stroke="#000000" points="105,-136.5001 115,-133 105,-129.5001 105,-136.5001"/>
</g>
<!-- a2 -->
<g id="node2" class="node">
<title>a2</title>
<ellipse fill="none" stroke="#a8a8a8" cx="561.1044" cy="-163" rx="27" ry="27"/>
<text text-anchor="middle" x="561.1044" y="-158.8" font-family="Arial" font-size="14.00" fill="#a8a8a8">a</text>
</g>
<!-- oar2 -->
<g id="node6" class="node">
<title>oar2</title>
<polygon fill="none" stroke="#000000" points="633.1044,-163 633.1044,-211 893.1044,-211 893.1044,-163 633.1044,-163"/>
<text text-anchor="start" x="707.8716" y="-182.4" font-family="Arial" font-size="14.00" fill="#000000">ArticuloRebajado </text>
<polygon fill="none" stroke="#a8a8a8" points="649.1044,-119 649.1044,-147 877.1044,-147 877.1044,-119 649.1044,-119"/>
<text text-anchor="start" x="698.9193" y="-129.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="714.4817" y="-129.4" font-family="Arial" font-size="14.00" fill="#a8a8a8"> &#xA0;&#xA0;&#xA0;a : Articulo &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="811.7271" y="-129.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="654.0843" y="-102.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="669.6467" y="-102.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">nombre = &quot;Polo Fred Perry&quot; &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="856.5621" y="-102.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="654.1044" y="-76.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="669.6668" y="-76.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">precio = 70.00 &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="774.321" y="-76.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#a8a8a8" points="648.1044,-66 648.1044,-148 878.1044,-148 878.1044,-66 648.1044,-66"/>
<text text-anchor="start" x="648.1044" y="-23.4" font-family="Arial" font-size="14.00" fill="#000000">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#000000" points="632.1044,-4 632.1044,-212 894.1044,-212 894.1044,-4 632.1044,-4"/>
</g>
<!-- a2&#45;&gt;oar2 -->
<g id="edge4" class="edge">
<title>a2-&gt;oar2:a</title>
<path fill="none" stroke="#a8a8a8" d="M585.0156,-150.1032C599.7403,-143.1791 619.4747,-135.6451 638.9633,-133.561"/>
<polygon fill="#a8a8a8" stroke="#a8a8a8" points="639.313,-137.0471 649.1044,-133 638.9263,-130.0578 639.313,-137.0471"/>
</g>
<!-- code -->
<g id="node3" class="node">
<title>code</title>
<text text-anchor="middle" x="435.0522" y="-103.8" font-family="Arial" font-size="14.00" fill="#000000">= downcasting =&gt;</text>
</g>
<!-- code&#45;&gt;oar2 -->
<g id="edge3" class="edge">
<title>code-&gt;oar2</title>
<path fill="none" stroke="transparent" d="M498.304,-108C531.329,-108 573.2527,-108 613.9458,-108"/>
<polygon fill="transparent" stroke="transparent" points="613.9808,-111.5001 623.9807,-108 613.9807,-104.5001 613.9808,-111.5001"/>
</g>
<!-- ar -->
<g id="node4" class="node">
<title>ar</title>
<ellipse fill="none" stroke="#000000" cx="561.1044" cy="-53" rx="27" ry="27"/>
<text text-anchor="middle" x="561.1044" y="-48.8" font-family="Arial" font-size="14.00" fill="#000000">ar</text>
</g>
<!-- ar&#45;&gt;oar2 -->
<g id="edge5" class="edge">
<title>ar-&gt;oar2</title>
<path fill="none" stroke="#000000" d="M587.5124,-60.1903C595.2924,-62.3086 604.4067,-64.7902 614.3189,-67.4891"/>
<polygon fill="#000000" stroke="#000000" points="613.4811,-70.8883 624.0493,-70.1385 615.3201,-64.1342 613.4811,-70.8883"/>
</g>
<!-- oar1&#45;&gt;code -->
<g id="edge2" class="edge">
<title>oar1-&gt;code</title>
<path fill="none" stroke="transparent" d="M336.0402,-108C344.6941,-108 353.2495,-108 361.4928,-108"/>
<polygon fill="transparent" stroke="transparent" points="361.7512,-111.5001 371.7512,-108 361.7511,-104.5001 361.7512,-111.5001"/>
</g>
</g>
</svg>
</p><h5 class="mume-header" id="formas-de-realizar-el-downcasting">Formas de realizar el Downcasting</h5>

<ol>
<li>
<p>Mediante <strong>cast expl&#xED;cito</strong>:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Fred Perry&quot;</span><span class="token punctuation">,</span> <span class="token number">70</span>d<span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a<span class="token punctuation">;</span> <span class="token comment">// realmente a es un ArticuloRebajado</span>
</pre><p>Sin embargo el siguiente c&#xF3;digo <strong>producir&#xED;a un error al ejecutar</strong> &#x1F480;</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Ralph Lauren&quot;</span><span class="token punctuation">,</span> <span class="token number">75f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a<span class="token punctuation">;</span>
</pre></li>
</ol>
<div style="page-break-after:always;"></div>
<ol start="2">
<li>
<p>Mediante el operador <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/is" target="_blank">is</a></strong></p>
<p>Nos sirve para preguntarle a un objeto si es de un determinado tipo y saber as&#xED; con seguridad si podemos hacer el downcasting.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=3}" class="language-csharp" data-line="3"><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Ralph Lauren&quot;</span><span class="token punctuation">,</span> <span class="token number">75f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">is</span> ArticuloRebajado<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a<span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">

<div aria-hidden="true" class="line-highlight" data-range="3" data-start="3">
</div></div></pre></li>
<li>
<p>Mediante el operador <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/operators/type-testing-and-cast#as-operator" target="_blank">as</a></strong></p>
<p>NRealiza directamente el downcasting y si no puede asigna <strong>null</strong>.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=2}" class="language-csharp" data-line="2"><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Ralph Lauren&quot;</span><span class="token punctuation">,</span> <span class="token number">75f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> a <span class="token keyword">as</span> ArticuloRebajado<span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ar<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Equivaldr&#xED;a ha hacer...</span>
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> a <span class="token keyword">is</span> ArticuloRebajado <span class="token punctuation">?</span> <span class="token punctuation">(</span>ArticuloRebajado<span class="token punctuation">)</span>a <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<div class="line-highlight-wrapper">
<div aria-hidden="true" class="line-highlight" data-range="2" data-start="2">
</div></div></pre></li>
<li>
<p>Apoy&#xE1;ndonos en el operador de uso combinado null <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/operators/null-coalescing-operator" target="_blank">??</a></strong> que vimos en el tema 2</p>
<p>Se podr&#xED;a usar en el downcasting de la siguiente forma:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">&quot;Samsung s10&quot;</span><span class="token punctuation">,</span> <span class="token number">300</span>d<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">&quot;FOXCOM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cambio de bater&#xED;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      
<span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=</span> a <span class="token keyword">as</span> ArticuloRebajado 
                      <span class="token operator">??</span> 
                      <span class="token keyword">new</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">(</span> a<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
                           
</pre></li>
<li>
<p>Usando la <strong>instrucci&#xF3;n</strong> <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/switch#type-pattern">switch</a></strong> con <strong>patrones de tipo</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">&quot;Samsung s11&quot;</span><span class="token punctuation">,</span> <span class="token number">300</span>d<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">&quot;FOXCOM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cambio de bater&#xED;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">switch</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token keyword">null</span><span class="token punctuation">:</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token class-name">ArticuloRebajado</span> _<span class="token punctuation">:</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Es rebajado&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token class-name">ArticuloReacondicionado</span> ac when ac<span class="token punctuation">.</span><span class="token function">GetEmpresa</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;FOXCOM&quot;</span><span class="token punctuation">:</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Es reacondicionado de FOXCOM&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token class-name">ArticuloReacondicionado</span> ac<span class="token punctuation">:</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ac<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;No es un tipo de objeto contemplado&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>Usando la <strong>expresi&#xF3;n switch</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">&quot;Samsung s11&quot;</span><span class="token punctuation">,</span> <span class="token number">300</span>d<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">&quot;FOXCOM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cambio de bater&#xED;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token keyword">switch</span>
<span class="token punctuation">{</span>
    <span class="token class-name">ArticuloRebajado</span> ar <span class="token operator">=&gt;</span> ar<span class="token punctuation">,</span>
    _ <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></li>
</ol>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="ligadura-din%C3%A1mica">Ligadura Din&#xE1;mica</h4>

<p>Tambi&#xE9;n se le conoce como <strong>enlace din&#xE1;mico</strong>.<br>
Una de las principales &apos;<em>ventajas</em>&apos; de la <strong>invalidaci&#xF3;n</strong>, es que al hacer una <strong>sustituci&#xF3;n</strong> como la que hemos visto del tipo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Polo Fred Perry&quot;</span><span class="token punctuation">,</span> <span class="token number">70</span>d<span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p><strong><code>Console.WriteLine(a.GetPrecio());</code></strong> mostrar&#xE1; <strong>59,5</strong> y no <strong>70</strong>. Pero,... &#xBF;C&#xF3;mo puede suceder esto si <strong><code>a</code></strong> esta referenciando a la parte de <strong><code>Articulo</code></strong> que hay en el objeto <strong><code>ArticuloRebajado</code></strong> instanciado y <strong><code>GetPrecio()</code></strong> de <strong><code>Articulo</code></strong> me devuelve el precio sin el descuento?</p>
<p>Si nos fijamos en la figura siguiente, lo que realmente sucede es que al hacer <strong><code>a.GetPrecio()</code></strong> y ver que <strong><code>GetPrecio()</code></strong> est&#xE1; marcado como invalidable o <strong>virtual</strong>. Buscar&#xE1; posibles invalidaciones de ese m&#xE9;todo en el objeto realmente instanciado (<strong><code>ArticuloRebajado</code></strong>) y si existen lo que har&#xE1; es llamar a la invalidaci&#xF3;n.<br>
A este enlace entre el m&#xE9;todo virtual y su invalidaci&#xF3;n, lo denominaremos <strong>ligadura din&#xE1;mica</strong> y se denomina &apos;<em>din&#xE1;mica</em>&apos; puesto que <strong>se decide en tiempo de ejecuci&#xF3;n</strong>, dependiendo del objeto que realmente tengamos instanciado y est&#xE9; referenciado por la sustituci&#xF3;n.</p>
<p align="center" style="zoom:0.70"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="453pt" height="300pt" viewBox="0.00 0.00 453.12 300.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 296)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-296 449.1178,-296 449.1178,4 -4,4"/>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="#000000" cx="51.5589" cy="-209" rx="27" ry="27"/>
<text text-anchor="middle" x="51.5589" y="-204.8" font-family="Arial" font-size="14.00" fill="#000000">a</text>
</g>
<!-- oar -->
<g id="node3" class="node">
<title>oar</title>
<polygon fill="none" stroke="#a8a8a8" points="148.1178,-239 148.1178,-287 436.1178,-287 436.1178,-239 148.1178,-239"/>
<text text-anchor="start" x="238.8303" y="-258.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">ArticuloRebajado</text>
<polygon fill="none" stroke="#000000" points="164.1178,-195 164.1178,-223 420.1178,-223 420.1178,-195 164.1178,-195"/>
<text text-anchor="start" x="243.4951" y="-204.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;a : Articulo &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="169.1178" y="-177.4" font-family="Arial" font-size="14.00" fill="#000000">nombre = &quot;Polo Fred Perry&quot; &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="169.1178" y="-151.4" font-family="Arial" font-size="14.00" fill="#000000">precio = 70.00 &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="164.1178,-115 164.1178,-143 420.1178,-143 420.1178,-115 164.1178,-115"/>
<text text-anchor="start" x="170.1178" y="-125.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="185.6802" y="-125.4" font-family="Arial" font-size="14.00" fill="#ee1289"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="201.2426" y="-125.4" font-family="Arial" font-style="italic" font-size="14.00" fill="#ee1289">GetPrecio() : double &#x2192; 70 &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="377.0686" y="-125.4" font-family="Arial" font-size="14.00" fill="#ee1289"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="392.631" y="-125.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#000000" points="163.1178,-114 163.1178,-224 421.1178,-224 421.1178,-114 163.1178,-114"/>
<text text-anchor="start" x="163.1178" y="-71.4" font-family="Arial" font-size="14.00" fill="#a8a8a8">porcentajeRebaja = 15</text>
<polygon fill="none" stroke="#a8a8a8" points="148.1178,-5 148.1178,-53 436.1178,-53 436.1178,-5 148.1178,-5"/>
<text text-anchor="start" x="163.9611" y="-25.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="179.5235" y="-25.4" font-family="Arial" font-size="14.00" fill="#ee1289"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="195.0859" y="-25.4" font-family="Arial" font-weight="bold" font-size="14.00" fill="#ee1289">^GetPrecio() : double &#x2192; 59,5 &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="389.1497" y="-25.4" font-family="Arial" font-size="14.00" fill="#ee1289"> &#xA0;&#xA0;&#xA0;</text>
<text text-anchor="start" x="404.7121" y="-25.4" font-family="Arial" font-size="14.00" fill="#000000"> &#xA0;&#xA0;&#xA0;</text>
<polygon fill="none" stroke="#a8a8a8" points="147.1178,-4 147.1178,-288 437.1178,-288 437.1178,-4 147.1178,-4"/>
</g>
<!-- a&#45;&gt;oar -->
<g id="edge1" class="edge">
<title>a-&gt;oar:a</title>
<path fill="none" stroke="#000000" d="M78.8527,-209C99.0653,-209 127.5798,-209 154.081,-209"/>
<polygon fill="#000000" stroke="#000000" points="154.1178,-212.5001 164.1178,-209 154.1178,-205.5001 154.1178,-212.5001"/>
</g>
<!-- ma -->
<g id="node2" class="node">
<title>ma</title>
<text text-anchor="middle" x="51.5589" y="-138.8" font-family="Arial" font-size="14.00" fill="#ee1289">a.GetPrecio();</text>
</g>
<!-- ma&#45;&gt;oar -->
<g id="edge2" class="edge">
<title>ma:e-&gt;oar:nw</title>
<path fill="none" stroke="#ee1289" d="M103.1178,-143C126.2046,-143 140.3048,-156.9016 155.8201,-149.1906"/>
<polygon fill="#ee1289" stroke="#ee1289" points="158.1956,-151.7851 164.1178,-143 154.0097,-146.1745 158.1956,-151.7851"/>
</g>
<!-- oar&#45;&gt;oar -->
<g id="edge3" class="edge">
<title>oar:virtual-&gt;oar:override</title>
<path fill="none" stroke="#ee1289" d="M163.9791,-132.6194C89.105,-129.4857 19.1178,-115.5869 19.1178,-79 19.1178,-46.7868 73.3722,-32.1616 137.4477,-26.9864"/>
<polygon fill="#ee1289" stroke="#ee1289" points="138.088,-30.4492 147.8089,-26.2357 137.5821,-23.4675 138.088,-30.4492"/>
</g>
</g>
</svg>
</p><h5 class="mume-header" id="ejemplo-de-uso-del-enlace-din%C3%A1mico">Ejemplo de uso del Enlace Din&#xE1;mico</h5>

<p>Veamos un ejemplo m&#xE1;s elaborado a trav&#xE9;s de otro ejemplo en e que vamos a ampliar nuestra jerarqu&#xED;a de art&#xED;culos.</p>
<p>Supungamos que nos piden hacer una concreci&#xF3;n m&#xE1;s de art&#xED;culos para aquellos que est&#xE1;n en exposici&#xF3;n. Nos comentan que <strong>los art&#xED;culos en exposici&#xF3;n siempre tienen alg&#xFA;n tipo de rebaja</strong>. Por lo tanto podemos decir que <strong>un art&#xED;culo en exposici&#xF3;n - <em>es un</em> - art&#xED;culo rebajado</strong>.<br>
Adem&#xE1;s, se nos especifica que el porcentaje de rebaja coincidir&#xE1; con los d&#xED;as que el art&#xED;culo est&#xE9; en exposici&#xF3;n siendo un m&#xED;nimo de un 1% y un m&#xE1;ximo de 75% de su valor. De esta manera si un art&#xED;culo lleva 20 d&#xED;as en exposici&#xF3;n su descuento ser&#xE1; del 20% pero si lleva 100 d&#xED;as su descuento ser&#xE1; del 75%.<br>
De lo expuesto, al crear un art&#xED;culo en exposici&#xF3;n, nos interesar&#xE1; saber la fecha en que se inici&#xF3; la misma.</p>
<p>Una posible modelaci&#xF3;n del diagrama de clases para implementaci&#xF3;n UML siguiendo nuestro convenio de nomenclatura ser&#xED;a...</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="404.2179px" preserveAspectRatio="none" style="width:492px;height:404px;" version="1.1" viewBox="0 0 492 404" width="492.9701px" zoomAndPan="magnify"><defs><filter height="300%" id="f1k6u0p7rnomw1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.757469244288225"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.51493848857645" dy="3.51493848857645" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[6a1e8c298c85852c3878b8bc4320a243]
class ArticuloReacondicionado--><rect fill="#FFFAFA" filter="url(#f1k6u0p7rnomw1)" height="28.1195" id="ArticuloReacondicionado" style="stroke: #000000; stroke-width: 1.3181019332161688;" width="148.5062" x="5.2724" y="177.065"/><ellipse cx="18.4534" cy="191.1248" fill="#ADD1B2" rx="9.6661" ry="9.6661" style="stroke: #000000; stroke-width: 0.8787346221441125;"/><path d="M20.8837,187.5 Q21.021,187.3078 21.1857,187.2117 Q21.3505,187.1156 21.5427,187.1156 Q21.8723,187.1156 22.0782,187.349 Q22.2842,187.5687 22.2842,188.1041 L22.2842,189.381 Q22.2842,189.9165 22.0782,190.1499 Q21.8723,190.3833 21.5427,190.3833 Q21.2407,190.3833 21.0622,190.2049 Q20.8837,190.0401 20.7876,189.587 Q20.7464,189.2712 20.5816,189.1064 Q20.2933,188.7769 19.7578,188.5847 Q19.2223,188.3925 18.6731,188.3925 Q18.0003,188.3925 17.4374,188.6808 Q16.8882,188.9691 16.4488,189.6282 Q16.0232,190.2872 16.0232,191.1934 L16.0232,192.1545 Q16.0232,193.2392 16.8058,193.9669 Q17.5884,194.6809 18.9889,194.6809 Q19.8127,194.6809 20.3894,194.4612 Q20.7326,194.3239 21.1034,193.9395 Q21.3368,193.7061 21.4603,193.6374 Q21.5976,193.5688 21.7761,193.5688 Q22.0645,193.5688 22.2842,193.8022 Q22.5176,194.0219 22.5176,194.3239 Q22.5176,194.626 22.2155,194.983 Q21.7761,195.491 21.0759,195.7793 Q20.1285,196.1775 18.9889,196.1775 Q17.6571,196.1775 16.5998,195.6283 Q15.7348,195.1889 15.1307,194.2553 Q14.5266,193.3079 14.5266,192.182 L14.5266,191.166 Q14.5266,189.9989 15.0621,188.9966 Q15.6113,187.9806 16.5724,187.4451 Q17.5335,186.8959 18.6182,186.8959 Q19.2635,186.8959 19.8264,187.0469 Q20.4031,187.1842 20.8837,187.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="10.5448" lengthAdjust="spacingAndGlyphs" textLength="120.3866" x="30.7557" y="195.4395">ArticuloReacondicionado</text><!--MD5=[60dbf6945f26d51d7ef11e92d44c812f]
class Articulo--><rect fill="#FFFAFA" filter="url(#f1k6u0p7rnomw1)" height="83.7819" id="Articulo" style="stroke: #000000; stroke-width: 1.3181019332161688;" width="155.536" x="106.3269" y="7.0299"/><ellipse cx="162.7856" cy="21.0896" fill="#ADD1B2" rx="9.6661" ry="9.6661" style="stroke: #000000; stroke-width: 0.8787346221441125;"/><path d="M165.2158,17.4649 Q165.3531,17.2726 165.5179,17.1765 Q165.6827,17.0804 165.8749,17.0804 Q166.2044,17.0804 166.4104,17.3138 Q166.6163,17.5335 166.6163,18.069 L166.6163,19.3459 Q166.6163,19.8814 166.4104,20.1148 Q166.2044,20.3482 165.8749,20.3482 Q165.5728,20.3482 165.3943,20.1697 Q165.2158,20.0049 165.1197,19.5518 Q165.0785,19.2361 164.9138,19.0713 Q164.6254,18.7418 164.09,18.5495 Q163.5545,18.3573 163.0053,18.3573 Q162.3325,18.3573 161.7696,18.6457 Q161.2203,18.934 160.781,19.593 Q160.3553,20.2521 160.3553,21.1583 L160.3553,22.1194 Q160.3553,23.2041 161.138,23.9318 Q161.9206,24.6458 163.3211,24.6458 Q164.1449,24.6458 164.7216,24.4261 Q165.0648,24.2888 165.4355,23.9043 Q165.6689,23.6709 165.7925,23.6023 Q165.9298,23.5336 166.1083,23.5336 Q166.3966,23.5336 166.6163,23.767 Q166.8497,23.9867 166.8497,24.2888 Q166.8497,24.5908 166.5477,24.9478 Q166.1083,25.4558 165.4081,25.7442 Q164.4607,26.1424 163.3211,26.1424 Q161.9892,26.1424 160.932,25.5931 Q160.067,25.1538 159.4629,24.2201 Q158.8587,23.2727 158.8587,22.1469 L158.8587,21.1308 Q158.8587,19.9638 159.3942,18.9614 Q159.9434,17.9454 160.9045,17.4099 Q161.8657,16.8607 162.9504,16.8607 Q163.5957,16.8607 164.1586,17.0118 Q164.7353,17.1491 165.2158,17.4649 Z "/><text fill="#000000" font-family="sans-serif" font-size="10.5448" lengthAdjust="spacingAndGlyphs" textLength="35.1494" x="180.7996" y="25.4044">Articulo</text><line style="stroke: #000000; stroke-width: 1.3181019332161688;" x1="107.2056" x2="260.9842" y1="35.1494" y2="35.1494"/><text fill="#000000" font-family="sans-serif" font-size="9.6661" lengthAdjust="spacingAndGlyphs" textLength="52.7241" x="111.5993" y="48.6985">+Articulo(...)</text><text fill="#000000" font-family="sans-serif" font-size="9.6661" lengthAdjust="spacingAndGlyphs" textLength="91.3884" x="111.5993" y="60.8567">#GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="9.6661" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144.9912" x="111.5993" y="73.0148">+GetPrecio() : double {virtual}</text><text fill="#000000" font-family="sans-serif" font-size="9.6661" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="123.9016" x="111.5993" y="85.1729">+ATexto() : string {virtual}</text><!--MD5=[2f7aa29e6ed06458ec3a8577fe477f93]
class ArticuloRebajado--><rect fill="#FFFAFA" filter="url(#f1k6u0p7rnomw1)" height="95.94" id="ArticuloRebajado" style="stroke: #000000; stroke-width: 1.3181019332161688;" width="208.2601" x="184.5343" y="143.2337"/><ellipse cx="243.6292" cy="157.2935" fill="#ADD1B2" rx="9.6661" ry="9.6661" style="stroke: #000000; stroke-width: 0.8787346221441125;"/><path d="M246.0594,153.6687 Q246.1967,153.4765 246.3615,153.3804 Q246.5263,153.2843 246.7185,153.2843 Q247.048,153.2843 247.254,153.5177 Q247.4599,153.7374 247.4599,154.2728 L247.4599,155.5498 Q247.4599,156.0852 247.254,156.3187 Q247.048,156.5521 246.7185,156.5521 Q246.4164,156.5521 246.2379,156.3736 Q246.0594,156.2088 245.9633,155.7557 Q245.9221,155.4399 245.7574,155.2752 Q245.469,154.9456 244.9335,154.7534 Q244.3981,154.5612 243.8489,154.5612 Q243.1761,154.5612 242.6131,154.8495 Q242.0639,155.1379 241.6246,155.7969 Q241.1989,156.456 241.1989,157.3621 L241.1989,158.3233 Q241.1989,159.408 241.9815,160.1357 Q242.7642,160.8496 244.1647,160.8496 Q244.9885,160.8496 245.5651,160.6299 Q245.9084,160.4926 246.2791,160.1082 Q246.5125,159.8748 246.6361,159.8061 Q246.7734,159.7375 246.9519,159.7375 Q247.2402,159.7375 247.4599,159.9709 Q247.6933,160.1906 247.6933,160.4926 Q247.6933,160.7947 247.3913,161.1517 Q246.9519,161.6597 246.2516,161.948 Q245.3043,162.3462 244.1647,162.3462 Q242.8328,162.3462 241.7756,161.797 Q240.9106,161.3576 240.3065,160.424 Q239.7023,159.4766 239.7023,158.3507 L239.7023,157.3347 Q239.7023,156.1676 240.2378,155.1653 Q240.787,154.1493 241.7481,153.6138 Q242.7092,153.0646 243.7939,153.0646 Q244.4393,153.0646 245.0022,153.2156 Q245.5789,153.3529 246.0594,153.6687 Z "/><text fill="#000000" font-family="sans-serif" font-size="10.5448" lengthAdjust="spacingAndGlyphs" textLength="82.6011" x="261.6432" y="161.6082">ArticuloRebajado</text><line style="stroke: #000000; stroke-width: 1.3181019332161688;" x1="185.413" x2="391.9156" y1="171.3533" y2="171.3533"/><text fill="#000000" font-family="sans-serif" font-size="9.6661" lengthAdjust="spacingAndGlyphs" textLength="92.2671" x="189.8067" y="184.9024">+ArticuloRebajado(...)</text><text fill="#000000" font-family="sans-serif" font-size="9.6661" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="197.7153" x="189.8067" y="197.0605">#GetPorcentajeRebaja() : ushort {virtual}</text><text fill="#000000" font-family="sans-serif" font-size="9.6661" lengthAdjust="spacingAndGlyphs" textLength="107.2056" x="189.8067" y="209.2186">-GetDescuento() : double</text><text fill="#000000" font-family="sans-serif" font-size="9.6661" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="106.3269" x="189.8067" y="221.3768">^+GetPrecio() : double</text><text fill="#000000" font-family="sans-serif" font-size="9.6661" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="88.7522" x="189.8067" y="233.5349">^+ATexto() : string</text><!--MD5=[3059a5bdb040e06d11e05e5c7f6462d7]
class ArticuloEnExposicion--><rect fill="#FFFAFA" filter="url(#f1k6u0p7rnomw1)" height="102.9698" id="ArticuloEnExposicion" style="stroke: #000000; stroke-width: 1.3181019332161688;" width="390.1582" x="93.5852" y="291.7399"/><ellipse cx="234.4025" cy="305.7996" fill="#ADD1B2" rx="9.6661" ry="9.6661" style="stroke: #000000; stroke-width: 0.8787346221441125;"/><path d="M236.8327,302.1749 Q236.97,301.9826 237.1348,301.8865 Q237.2995,301.7904 237.4918,301.7904 Q237.8213,301.7904 238.0272,302.0238 Q238.2332,302.2435 238.2332,302.779 L238.2332,304.0559 Q238.2332,304.5914 238.0272,304.8248 Q237.8213,305.0582 237.4918,305.0582 Q237.1897,305.0582 237.0112,304.8797 Q236.8327,304.715 236.7366,304.2619 Q236.6954,303.9461 236.5306,303.7813 Q236.2423,303.4518 235.7068,303.2596 Q235.1714,303.0673 234.6221,303.0673 Q233.9494,303.0673 233.3864,303.3557 Q232.8372,303.644 232.3978,304.3031 Q231.9722,304.9621 231.9722,305.8683 L231.9722,306.8294 Q231.9722,307.9141 232.7548,308.6418 Q233.5375,309.3558 234.9379,309.3558 Q235.7618,309.3558 236.3384,309.1361 Q236.6817,308.9988 237.0524,308.6143 Q237.2858,308.3809 237.4094,308.3123 Q237.5467,308.2436 237.7252,308.2436 Q238.0135,308.2436 238.2332,308.477 Q238.4666,308.6967 238.4666,308.9988 Q238.4666,309.3009 238.1645,309.6578 Q237.7252,310.1659 237.0249,310.4542 Q236.0775,310.8524 234.9379,310.8524 Q233.6061,310.8524 232.5489,310.3032 Q231.6839,309.8638 231.0797,308.9301 Q230.4756,307.9828 230.4756,306.8569 L230.4756,305.8408 Q230.4756,304.6738 231.0111,303.6715 Q231.5603,302.6554 232.5214,302.1199 Q233.4825,301.5707 234.5672,301.5707 Q235.2125,301.5707 235.7755,301.7218 Q236.3522,301.8591 236.8327,302.1749 Z "/><text fill="#000000" font-family="sans-serif" font-size="10.5448" lengthAdjust="spacingAndGlyphs" textLength="101.0545" x="252.4165" y="310.1144">ArticuloEnExposicion</text><line style="stroke: #000000; stroke-width: 1.3181019332161688;" x1="94.464" x2="482.8647" y1="319.8594" y2="319.8594"/><text fill="#000000" font-family="sans-serif" font-size="9.6661" lengthAdjust="spacingAndGlyphs" textLength="165.2021" x="98.8576" y="333.4086">-inicioExposicion : DateTime {readOnly}</text><line style="stroke: #000000; stroke-width: 1.3181019332161688;" x1="94.464" x2="482.8647" y1="339.0474" y2="339.0474"/><text fill="#000000" font-family="sans-serif" font-size="9.6661" lengthAdjust="spacingAndGlyphs" textLength="379.6134" x="98.8576" y="352.5966">+ArticuloEnExposicion(in nombre : string, in precio : double, in inicioExposicion : DateTime)</text><text fill="#000000" font-family="sans-serif" font-size="9.6661" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="158.1722" x="98.8576" y="364.7547">^#GetPorcentajeRebaja() : ushort</text><text fill="#000000" font-family="sans-serif" font-size="9.6661" lengthAdjust="spacingAndGlyphs" textLength="119.5079" x="98.8576" y="376.9128">+GetDiasEnExposicion() : int</text><text fill="#000000" font-family="sans-serif" font-size="9.6661" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="88.7522" x="98.8576" y="389.0709">^+ATexto() : string</text><!--MD5=[4c5e07181522a81d7ce4ca381a4c3897]
reverse link Articulo to ArticuloRebajado--><path d="M225.3295,105.0905 C234.7109,117.7039 244.5905,130.9868 253.6828,143.2118 " fill="none" id="Articulo&lt;-ArticuloRebajado" style="stroke: #000000; stroke-width: 0.8787346221441125;"/><polygon fill="none" points="220.1749,108.4657,214.6221,90.6933,230.0457,101.1239,220.1749,108.4657" style="stroke: #000000; stroke-width: 0.8787346221441125;"/><!--MD5=[dcfe97591e768dc4c3876e4be3e91787]
reverse link ArticuloRebajado to ArticuloEnExposicion--><path d="M288.6643,256.9543 C288.6643,268.5712 288.6643,280.5185 288.6643,291.6582 " fill="none" id="ArticuloRebajado&lt;-ArticuloEnExposicion" style="stroke: #000000; stroke-width: 0.8787346221441125;"/><polygon fill="none" points="282.5132,256.71,288.6643,239.1353,294.8155,256.71,282.5132,256.71" style="stroke: #000000; stroke-width: 0.8787346221441125;"/><!--MD5=[5ead35dfedb79aa276df792dc2cba33a]
reverse link Articulo to ArticuloReacondicionado--><path d="M143.0228,104.8717 C123.5044,131.1151 101.7979,160.3005 89.4899,176.8489 " fill="none" id="Articulo&lt;-ArticuloReacondicionado" style="stroke: #000000; stroke-width: 0.8787346221441125;"/><polygon fill="none" points="138.1441,101.1239,153.5677,90.6933,148.0149,108.4657,138.1441,101.1239" style="stroke: #000000; stroke-width: 0.8787346221441125;"/><!--MD5=[46216c30e52d95392b7a4d36401deb12]
@startuml

scale 500 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide ArticuloReacondicionado attributes
hide ArticuloReacondicionado Methods
hide Articulo attributes
hide ArticuloRebajado attributes

class Articulo
{
    + Articulo(...)
    # GetNombre() : string
    **{abstract} +GetPrecio() : double {virtual}**
    **{abstract} +ATexto() : string {virtual}**
}

class ArticuloRebajado
{
    +ArticuloRebajado(...)
    **{abstract} #GetPorcentajeRebaja() : ushort {virtual}**
    -GetDescuento() : double
    **^+GetPrecio() : double**
    **^+ATexto() : string**
}

class ArticuloEnExposicion
{
    - inicioExposicion : DateTime {readOnly}

    +ArticuloEnExposicion(in nombre : string, in precio : double, in inicioExposicion : DateTime)
    **^#GetPorcentajeRebaja() : ushort**
    +GetDiasEnExposicion() : int
    **^+ATexto() : string**
}

Articulo ^- - ArticuloRebajado
ArticuloRebajado ^- - ArticuloEnExposicion
Articulo ^- - ArticuloReacondicionado

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><div style="page-break-after:always;"></div>
<p>Vamos a realizar una propuesta de implementaci&#xF3;n, comentada, de la especificaci&#xF3;n anterior.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[7,25,30]}" class="language-csharp" data-line="7,25,30"><span class="token keyword">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... &lt;C&#xF3;digo omitido para abreviar&gt;</span>

    <span class="token comment">// Modificamos la accesibilidad a protected porque a los m&#xE9;todos privados no se les </span>
    <span class="token comment">// puede aplicar el modificador virtual.</span>
    <span class="token keyword">protected</span> <span class="token keyword">virtual</span> <span class="token keyword">ushort</span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> porcentajeRebaja<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span>d<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">double</span> <span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetDescuento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">ArticuloEnExposicion</span> <span class="token punctuation">:</span> <span class="token class-name">ArticuloRebajado</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">DateTime</span> inicioExposicion<span class="token punctuation">;</span>

    <span class="token comment">// En un principio el descuento es 0 y lo calculeramos din&#xE1;micamente.</span>
    <span class="token keyword">public</span> <span class="token function">ArticuloEnExposicion</span><span class="token punctuation">(</span><span class="token keyword">string</span> nombre<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">double</span> precio<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token class-name">DateTime</span> inicioExposicion<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> precio<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>inicioExposicion <span class="token operator">=</span> inicioExposicion<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Invalidamo el porcentaje para calcularlo en funci&#xF3;n de los d&#xED;as en exposici&#xF3;n.</span>
    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">ushort</span> <span class="token function">GetPorcentajeRebaja</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Convert<span class="token punctuation">.</span><span class="token function">ToUInt16</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Clamp</span><span class="token punctuation">(</span><span class="token function">GetDiasEnExposicion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Los d&#xED;as en esposici&#xF3;n se calculan en el momento actual, desde el incio de la exposici&#xF3;n.</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">GetDiasEnExposicion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span>Now <span class="token operator">-</span> inicioExposicion<span class="token punctuation">)</span><span class="token punctuation">.</span>Days<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Invalidamo el m&#xE9;todo ATexto() de Articulo y ArticuloRebajado para que a&#xF1;ada la nueva informaci&#xF3;n.</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
                $<span class="token string">&quot;\nEn exposici&#xF3;n desde: {inicioExposicion.ToShortDateString()} total {GetDiasEnExposicion()} d&#xED;as&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">





<div aria-hidden="true" class="line-highlight" data-range="7" data-start="7">
</div></div><div class="line-highlight-wrapper">























<div aria-hidden="true" class="line-highlight" data-range="25" data-start="25">
</div></div><div class="line-highlight-wrapper">




























<div aria-hidden="true" class="line-highlight" data-range="30" data-start="30">
</div></div></pre><p>Si ahora en el programa principal ejecutamos el siguiente c&#xF3;digo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token comment">// Creamos un ArticuloEnExposicion con fecha de inic&#xED;cio hace 10 d&#xED;as.</span>
<span class="token comment">// Hacemos una sustituci&#xF3;n hacia el tipo m&#xE1;s gen&#xE9;rico Articulo</span>
<span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token class-name">ArticuloEnExposicion</span><span class="token punctuation">(</span><span class="token string">&quot;TV Samsung OLED 50&apos;&apos;&quot;</span><span class="token punctuation">,</span> <span class="token number">999</span>d<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>Moatrar&#xE1; el siguiente c&#xF3;digo...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash">Nombre: TV Samsung OLED 50<span class="token string">&apos;&apos;</span>
Rebaja: 10%
Antes: 999,00&#x20AC;
Ahora: 899,10&#x20AC;
En exposici&#xF3;n desde: <span class="token operator">&lt;</span>fecha actual - 10 d&#xED;as<span class="token operator">&gt;</span> total 10 d&#xED;as
</pre><blockquote>
<p>&#x270B; <strong>Reflexi&#xF3;n:</strong> Si lo meditamos, se et&#xE1;n realizando <strong>dos enlaces o ligarduras din&#xE1;micas</strong> &apos;<mark>&#x2192;</mark>&apos; ...</p>
<ol>
<li><em><code>a.ATexto()</code></em> <mark>&#x2192;</mark> <code>^AritucloRebajado.Atexto()</code> <mark>&#x2192;</mark> <strong><code>^ArticuloEnExposicion.Atexto()</code></strong></li>
<li>Al ejecutar <code>^ArticuloEnExposicion.Atexto()</code> se llamar&#xE1; a <code>base.ATexto()</code> el cual llamar&#xE1; a <code>^AritucloRebajado.GetPrecio()</code> este al no estar invalidado llama a <code>AritucloRebajado.GetDescuento()</code> que a su vez llama a <em><code>AritucloRebajado.GetPorcentajeRebaja()</code></em> <mark>&#x2192;</mark> <strong><code>^ArticuloEnExposicion.GetPorcentajeRebaja()</code></strong> produciedose el segundo enlace.</li>
</ol>
</blockquote>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="utilidad-del-polimorfismo-de-datos-sustituci%C3%B3n-y-el-enlace-din%C3%A1mico">Utilidad del polimorfismo de datos (sustituci&#xF3;n) y el enlace din&#xE1;mico</h4>

<ul>
<li>En ocasiones el software cambia y se a&#xF1;aden nuevas especificaciones, como pudieran ser nuevos tipos de art&#xED;culos en la jerarqu&#xED;a.</li>
<li>Con el polimorfismo de datos, podremos adaptarnos a futuros cambios (Nuevas formas de un objeto), <strong>sin realizar cambios</strong> traum&#xE1;ticos y costosos en nuestros objetos ni en nuestra implementaci&#xF3;n.</li>
</ul>
<p>Veamos esto a trav&#xE9;s de un <strong>ejemplo simplificado</strong>:</p>
<ul>
<li>
<p>Supongamos que queremos modelar una clase <strong><code>TicketCompra</code></strong> que contenga al menos un art&#xED;culo y que me permita a&#xF1;adir art&#xED;culos al mismo.</p>
</li>
<li>
<p>Adem&#xE1;s, vamos a a&#xF1;adir un m&#xE9;todo para mostrar el ticket y otro para calcular el total del mismo.</p>
</li>
<li>
<p>Un posible dise&#xF1;o simplificado para expresar esto podr&#xED;a ser ...</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="171.7172px" preserveAspectRatio="none" style="width:491px;height:171px;" version="1.1" viewBox="0 0 491 171" width="491.1616px" zoomAndPan="magnify"><defs><filter height="300%" id="f1lmf844ks0s1i" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.525252525252525"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.05050505050505" dy="5.05050505050505" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[60dbf6945f26d51d7ef11e92d44c812f]
class Articulo--><rect fill="#FFFAFA" filter="url(#f1lmf844ks0s1i)" height="40.404" id="Articulo" style="stroke: #000000; stroke-width: 1.8939393939393938;" width="90.9091" x="386.3636" y="63.7626"/><ellipse cx="405.303" cy="83.9646" fill="#ADD1B2" rx="13.8889" ry="13.8889" style="stroke: #000000; stroke-width: 1.2626262626262625;"/><path d="M408.795,78.7563 Q408.9923,78.4801 409.229,78.342 Q409.4658,78.2039 409.742,78.2039 Q410.2154,78.2039 410.5114,78.5393 Q410.8073,78.855 410.8073,79.6244 L410.8073,81.4591 Q410.8073,82.2285 410.5114,82.5639 Q410.2154,82.8993 409.742,82.8993 Q409.3079,82.8993 409.0515,82.6428 Q408.795,82.4061 408.6569,81.7551 Q408.5977,81.3013 408.361,81.0646 Q407.9467,80.5911 407.1772,80.3149 Q406.4078,80.0387 405.6187,80.0387 Q404.652,80.0387 403.8431,80.453 Q403.054,80.8673 402.4227,81.8142 Q401.8111,82.7612 401.8111,84.0633 L401.8111,85.4443 Q401.8111,87.0028 402.9356,88.0485 Q404.0601,89.0743 406.0724,89.0743 Q407.2562,89.0743 408.0848,88.7587 Q408.578,88.5614 409.1106,88.009 Q409.446,87.6736 409.6236,87.575 Q409.8209,87.4763 410.0773,87.4763 Q410.4916,87.4763 410.8073,87.8117 Q411.1427,88.1274 411.1427,88.5614 Q411.1427,88.9954 410.7086,89.5084 Q410.0773,90.2383 409.0712,90.6526 Q407.7099,91.2247 406.0724,91.2247 Q404.1588,91.2247 402.6397,90.4356 Q401.3968,89.8043 400.5287,88.4628 Q399.6607,87.1015 399.6607,85.4837 L399.6607,84.0238 Q399.6607,82.3469 400.4301,80.9067 Q401.2192,79.4468 402.6002,78.6774 Q403.9812,77.8883 405.5398,77.8883 Q406.467,77.8883 407.2759,78.1053 Q408.1045,78.3026 408.795,78.7563 Z "/><text fill="#000000" font-family="sans-serif" font-size="15.1515" lengthAdjust="spacingAndGlyphs" textLength="50.5051" x="422.9798" y="90.1643">Articulo</text><!--MD5=[1ad5f374424b1448c89e4f5afd36d1f3]
class TicketCompra--><rect fill="#FFFAFA" filter="url(#f1lmf844ks0s1i)" height="147.9542" id="TicketCompra" style="stroke: #000000; stroke-width: 1.8939393939393938;" width="238.6364" x="7.5758" y="10.101"/><ellipse cx="72.9167" cy="30.303" fill="#ADD1B2" rx="13.8889" ry="13.8889" style="stroke: #000000; stroke-width: 1.2626262626262625;"/><path d="M76.4086,25.0947 Q76.6059,24.8185 76.8426,24.6804 Q77.0794,24.5423 77.3556,24.5423 Q77.8291,24.5423 78.125,24.8777 Q78.4209,25.1933 78.4209,25.9628 L78.4209,27.7975 Q78.4209,28.5669 78.125,28.9023 Q77.8291,29.2377 77.3556,29.2377 Q76.9216,29.2377 76.6651,28.9812 Q76.4086,28.7445 76.2705,28.0934 Q76.2113,27.6397 75.9746,27.4029 Q75.5603,26.9295 74.7909,26.6533 Q74.0215,26.3771 73.2323,26.3771 Q72.2656,26.3771 71.4568,26.7914 Q70.6676,27.2057 70.0363,28.1526 Q69.4247,29.0996 69.4247,30.4017 L69.4247,31.7827 Q69.4247,33.3412 70.5492,34.3868 Q71.6738,35.4127 73.6861,35.4127 Q74.8698,35.4127 75.6984,35.0971 Q76.1916,34.8998 76.7243,34.3474 Q77.0597,34.012 77.2372,33.9134 Q77.4345,33.8147 77.691,33.8147 Q78.1053,33.8147 78.4209,34.1501 Q78.7563,34.4658 78.7563,34.8998 Q78.7563,35.3338 78.3223,35.8467 Q77.691,36.5767 76.6848,36.991 Q75.3235,37.5631 73.6861,37.5631 Q71.7724,37.5631 70.2533,36.774 Q69.0104,36.1427 68.1424,34.8011 Q67.2743,33.4399 67.2743,31.8221 L67.2743,30.3622 Q67.2743,28.6853 68.0437,27.2451 Q68.8329,25.7852 70.2139,25.0158 Q71.5949,24.2266 73.1534,24.2266 Q74.0807,24.2266 74.8895,24.4437 Q75.7181,24.6409 76.4086,25.0947 Z "/><text fill="#000000" font-family="sans-serif" font-size="15.1515" lengthAdjust="spacingAndGlyphs" textLength="97.2222" x="98.8005" y="36.5027">TicketCompra</text><line style="stroke: #000000; stroke-width: 1.8939393939393938;" x1="8.8384" x2="244.9495" y1="50.5051" y2="50.5051"/><text fill="#000000" font-family="sans-serif" font-size="13.8889" lengthAdjust="spacingAndGlyphs" textLength="142.6768" x="15.1515" y="69.9734">-articulos : Articulo[1..*]</text><line style="stroke: #000000; stroke-width: 1.8939393939393938;" x1="8.8384" x2="244.9495" y1="78.0757" y2="78.0757"/><text fill="#000000" font-family="sans-serif" font-size="13.8889" lengthAdjust="spacingAndGlyphs" textLength="179.2929" x="15.1515" y="97.544">+TicketCompra(in a : Articulo)</text><text fill="#000000" font-family="sans-serif" font-size="13.8889" lengthAdjust="spacingAndGlyphs" textLength="119.9495" x="15.1515" y="115.0137">+GetTotal() : double</text><text fill="#000000" font-family="sans-serif" font-size="13.8889" lengthAdjust="spacingAndGlyphs" textLength="223.4848" x="15.1515" y="132.4833">+A&#xF1;ade(in a : Articulo):TicketCompra</text><text fill="#000000" font-family="sans-serif" font-size="13.8889" lengthAdjust="spacingAndGlyphs" textLength="107.3232" x="15.1515" y="149.9529">+ATexto() : string</text><!--MD5=[e2343c3f47b914dca043e7e6f9208e48]
reverse link TicketCompra to Articulo--><path d="M263.1907,83.9646 C307.3952,83.9646 353.4659,83.9646 386.0518,83.9646 " fill="none" id="TicketCompra&lt;-Articulo" style="stroke: #000000; stroke-width: 1.2626262626262625;"/><polygon fill="#FFFFFF" points="246.3712,83.9646,253.947,89.0152,261.5227,83.9646,253.947,78.9141,246.3712,83.9646" style="stroke: #000000; stroke-width: 1.2626262626262625;"/><text fill="#000000" font-family="sans-serif" font-size="16.4141" lengthAdjust="spacingAndGlyphs" textLength="61.8687" x="285.3535" y="79.5393">contiene</text><text fill="#000000" font-family="sans-serif" font-size="16.4141" lengthAdjust="spacingAndGlyphs" textLength="25.2525" x="351.128" y="102.7137">1..*</text><!--MD5=[e7b0d5d2ca8e7a3e4c84d6583028c186]
@startuml
left to right direction
scale 500 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide Articulo methods
hide Articulo attributes

class TicketCompra
{
    -articulos : Articulo[1..*]

    +TicketCompra(in a : Articulo)
    +GetTotal() : double
    +Añade(in a : Articulo):TicketCompra
    +ATexto() : string
}

TicketCompra o- - "1..*" Articulo : contiene

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p></li>
<li>
<p>Una posible implementaci&#xF3;n de la clase <strong><code>TicketCompra</code></strong> podr&#xED;a ser:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">TicketCompra</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> Articulo<span class="token punctuation">[</span><span class="token punctuation">]</span> articulos<span class="token punctuation">;</span>

    <span class="token comment">// Me aseguro de que un ticket al menos tenga un art&#xED;culo.</span>
    <span class="token keyword">public</span> <span class="token function">TicketCompra</span><span class="token punctuation">(</span><span class="token class-name">Articulo</span> a<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        articulos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Articulo</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> a <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">GetTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">double</span> total <span class="token operator">=</span> <span class="token number">0</span>d<span class="token punctuation">;</span>
        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Articulo</span> a <span class="token keyword">in</span> articulos<span class="token punctuation">)</span>
            total <span class="token operator">+=</span> a<span class="token punctuation">.</span><span class="token function">GetPrecio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> total<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Fluent interface pattern para a&#xF1;adir art&#xED;culoa a mi ticket</span>
    <span class="token keyword">public</span> <span class="token class-name">TicketCompra</span> A&#xF1;<span class="token function">ade</span><span class="token punctuation">(</span><span class="token class-name">Articulo</span> a<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Array<span class="token punctuation">.</span><span class="token function">Resize</span><span class="token punctuation">(</span><span class="token keyword">ref</span> articulos<span class="token punctuation">,</span> articulos<span class="token punctuation">.</span>Length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        articulos<span class="token punctuation">[</span>articulos<span class="token punctuation">.</span>Length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> ticket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Articulo</span> a <span class="token keyword">in</span> articulos<span class="token punctuation">)</span>
            ticket<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>$<span class="token string">&quot;{a.GetNombre(),-22} {a.GetPrecio(),10:F2}&#x20AC;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ticket<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>$<span class="token string">&quot;{&quot;</span>Toral<span class="token punctuation">:</span><span class="token string">&quot;,22} {GetTotal(),10:F2}&#x20AC;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> ticket<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>Si implementamos el siguiente programa principal de test...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">TicketCompra</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TicketCompra</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Airpods Apple&quot;</span><span class="token punctuation">,</span> <span class="token number">100</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t<span class="token punctuation">.</span>A&#xF1;<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArticuloEnExposicion</span><span class="token punctuation">(</span><span class="token string">&quot;TV Samsung OLED 50&apos;&apos;&quot;</span><span class="token punctuation">,</span> <span class="token number">999</span>d<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
     <span class="token punctuation">.</span>A&#xF1;<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Honor Band 4&quot;</span><span class="token punctuation">,</span> <span class="token number">35</span>d<span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
     <span class="token punctuation">.</span>A&#xF1;<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">&quot;Samsung s10&quot;</span><span class="token punctuation">,</span> <span class="token number">300</span>d<span class="token punctuation">,</span>  DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;TechnoBalmis&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cambio de  bater&#xED;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></li>
</ul>
<div style="page-break-after:always;"></div>
<ul>
<li>
<p>Obtendemos una salida del tipo...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash">Airpods Apple              100,00&#x20AC;
TV Samsung OLED 50<span class="token string">&apos;&apos;</span>       899,10&#x20AC;
Honor Band 4                29,75&#x20AC;
Samsung s10                300,00&#x20AC;
                Toral:    1328,85&#x20AC;
</pre><p>Si nos fijamos aunque el ticket solo maneje art&#xED;culos gen&#xE9;ricos, ha sabido calcular correctamente a trav&#xE9;s del enlace din&#xE1;mico el precio de cada uno de los art&#xED;culos y el total.</p>
</li>
<li>
<p>Si ahora a&#xF1;adi&#xE9;semos otro tipo de art&#xED;culo como por ejemplo <strong>art&#xED;culos defectuosos</strong>, que funcionan bien y no han sido reacondicionados, pero tienen alg&#xFA;n defecto menor, como una rozadura, pixel muerto, etc. y por tanto se les aplica una rebaja, pero tambi&#xE9;n nos interesa guardar informaci&#xF3;n del defecto.</p>
</li>
<li>
<p>A la hora de modelizar podemos decir que <strong>un art&#xED;culo defectuoso - <em>es un</em> - art&#xED;culo rebajado</strong> y modelizarlo de la siguiente manera.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="206.0523px" preserveAspectRatio="none" style="width:693px;height:206px;" version="1.1" viewBox="0 0 693 206" width="693.26px" zoomAndPan="magnify"><defs><filter height="300%" id="f7bktmy70e16k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.9257221458046767"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.8514442916093534" dy="3.8514442916093534" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[2f7aa29e6ed06458ec3a8577fe477f93]
class ArticuloRebajado--><rect fill="#FFFAFA" filter="url(#f7bktmy70e16k)" height="30.8116" id="ArticuloRebajado" style="stroke: #000000; stroke-width: 1.4442916093535074;" width="121.3205" x="193.0536" y="7.7029"/><ellipse cx="207.4966" cy="23.1087" fill="#ADD1B2" rx="10.5915" ry="10.5915" style="stroke: #000000; stroke-width: 0.9628610729023384;"/><path d="M210.1595,19.1369 Q210.3099,18.9262 210.4905,18.8209 Q210.671,18.7156 210.8816,18.7156 Q211.2427,18.7156 211.4684,18.9714 Q211.694,19.2121 211.694,19.7988 L211.694,21.198 Q211.694,21.7847 211.4684,22.0405 Q211.2427,22.2963 210.8816,22.2963 Q210.5506,22.2963 210.3551,22.1007 Q210.1595,21.9201 210.0542,21.4237 Q210.009,21.0776 209.8285,20.8971 Q209.5126,20.536 208.9258,20.3254 Q208.3391,20.1148 207.7373,20.1148 Q207.0001,20.1148 206.3833,20.4307 Q205.7815,20.7466 205.3,21.4688 Q204.8336,22.1909 204.8336,23.1839 L204.8336,24.237 Q204.8336,25.4256 205.6912,26.2229 Q206.5487,27.0052 208.0833,27.0052 Q208.986,27.0052 209.6179,26.7645 Q209.994,26.6141 210.4002,26.1928 Q210.6559,25.9371 210.7914,25.8618 Q210.9418,25.7866 211.1374,25.7866 Q211.4533,25.7866 211.694,26.0424 Q211.9498,26.2831 211.9498,26.6141 Q211.9498,26.9451 211.6188,27.3362 Q211.1374,27.8929 210.3701,28.2088 Q209.332,28.6451 208.0833,28.6451 Q206.624,28.6451 205.4655,28.0433 Q204.5177,27.5619 203.8557,26.5389 Q203.1938,25.5008 203.1938,24.2671 L203.1938,23.1538 Q203.1938,21.875 203.7805,20.7767 Q204.3823,19.6634 205.4354,19.0767 Q206.4886,18.4749 207.6771,18.4749 Q208.3842,18.4749 209.001,18.6404 Q209.6329,18.7908 210.1595,19.1369 Z "/><text fill="#000000" font-family="sans-serif" font-size="11.5543" lengthAdjust="spacingAndGlyphs" textLength="90.5089" x="220.9766" y="27.8365">ArticuloRebajado</text><!--MD5=[3059a5bdb040e06d11e05e5c7f6462d7]
class ArticuloEnExposicion--><rect fill="#FFFAFA" filter="url(#f7bktmy70e16k)" height="30.8116" id="ArticuloEnExposicion" style="stroke: #000000; stroke-width: 1.4442916093535074;" width="141.5406" x="5.7772" y="130.4677"/><ellipse cx="20.2201" cy="145.8735" fill="#ADD1B2" rx="10.5915" ry="10.5915" style="stroke: #000000; stroke-width: 0.9628610729023384;"/><path d="M22.883,141.9017 Q23.0334,141.691 23.214,141.5857 Q23.3945,141.4804 23.6051,141.4804 Q23.9662,141.4804 24.1919,141.7362 Q24.4176,141.9769 24.4176,142.5636 L24.4176,143.9628 Q24.4176,144.5495 24.1919,144.8053 Q23.9662,145.061 23.6051,145.061 Q23.2742,145.061 23.0786,144.8655 Q22.883,144.6849 22.7777,144.1884 Q22.7325,143.8424 22.552,143.6619 Q22.2361,143.3008 21.6493,143.0902 Q21.0626,142.8796 20.4608,142.8796 Q19.7236,142.8796 19.1068,143.1955 Q18.505,143.5114 18.0236,144.2336 Q17.5572,144.9557 17.5572,145.9487 L17.5572,147.0018 Q17.5572,148.1903 18.4147,148.9877 Q19.2723,149.77 20.8068,149.77 Q21.7095,149.77 22.3414,149.5293 Q22.7175,149.3789 23.1237,148.9576 Q23.3795,148.7019 23.5149,148.6266 Q23.6653,148.5514 23.8609,148.5514 Q24.1768,148.5514 24.4176,148.8072 Q24.6733,149.0479 24.6733,149.3789 Q24.6733,149.7099 24.3423,150.101 Q23.8609,150.6577 23.0936,150.9736 Q22.0555,151.4099 20.8068,151.4099 Q19.3475,151.4099 18.189,150.8081 Q17.2412,150.3267 16.5793,149.3036 Q15.9173,148.2656 15.9173,147.0319 L15.9173,145.9186 Q15.9173,144.6398 16.504,143.5415 Q17.1058,142.4282 18.159,141.8415 Q19.2121,141.2397 20.4006,141.2397 Q21.1077,141.2397 21.7246,141.4052 Q22.3564,141.5556 22.883,141.9017 Z "/><text fill="#000000" font-family="sans-serif" font-size="11.5543" lengthAdjust="spacingAndGlyphs" textLength="110.729" x="33.7001" y="150.6013">ArticuloEnExposicion</text><!--MD5=[0c9e59459fe9af4d2b65d63643252534]
class ArticuloDefectuoso--><rect fill="#FFDEAD" filter="url(#f7bktmy70e16k)" height="99.5057" id="ArticuloDefectuoso" style="stroke: #000000; stroke-width: 1.4442916093535074;" width="501.6506" x="181.0179" y="96.2861"/><ellipse cx="378.1637" cy="111.6919" fill="#ADD1B2" rx="10.5915" ry="10.5915" style="stroke: #000000; stroke-width: 0.9628610729023384;"/><path d="M380.8266,107.7201 Q380.977,107.5095 381.1576,107.4041 Q381.3381,107.2988 381.5487,107.2988 Q381.9098,107.2988 382.1355,107.5546 Q382.3612,107.7953 382.3612,108.382 L382.3612,109.7812 Q382.3612,110.368 382.1355,110.6237 Q381.9098,110.8795 381.5487,110.8795 Q381.2178,110.8795 381.0222,110.6839 Q380.8266,110.5034 380.7213,110.0069 Q380.6762,109.6608 380.4956,109.4803 Q380.1797,109.1192 379.5929,108.9086 Q379.0062,108.698 378.4044,108.698 Q377.6672,108.698 377.0504,109.0139 Q376.4486,109.3299 375.9672,110.052 Q375.5008,110.7742 375.5008,111.7671 L375.5008,112.8202 Q375.5008,114.0088 376.3583,114.8061 Q377.2159,115.5885 378.7504,115.5885 Q379.6531,115.5885 380.285,115.3477 Q380.6611,115.1973 381.0673,114.776 Q381.3231,114.5203 381.4585,114.4451 Q381.6089,114.3698 381.8045,114.3698 Q382.1204,114.3698 382.3612,114.6256 Q382.6169,114.8663 382.6169,115.1973 Q382.6169,115.5283 382.2859,115.9194 Q381.8045,116.4761 381.0372,116.792 Q379.9991,117.2283 378.7504,117.2283 Q377.2911,117.2283 376.1327,116.6265 Q375.1848,116.1451 374.5229,115.1221 Q373.8609,114.084 373.8609,112.8503 L373.8609,111.737 Q373.8609,110.4582 374.4476,109.36 Q375.0494,108.2466 376.1026,107.6599 Q377.1557,107.0581 378.3442,107.0581 Q379.0513,107.0581 379.6682,107.2236 Q380.3,107.3741 380.8266,107.7201 Z "/><text fill="#000000" font-family="sans-serif" font-size="11.5543" lengthAdjust="spacingAndGlyphs" textLength="99.1747" x="397.9023" y="116.4197">ArticuloDefectuoso</text><line style="stroke: #000000; stroke-width: 1.4442916093535074;" x1="181.9807" x2="681.7056" y1="127.0977" y2="127.0977"/><text fill="#000000" font-family="sans-serif" font-size="10.5915" lengthAdjust="spacingAndGlyphs" textLength="127.0977" x="186.795" y="141.944">-defecto : string {readOnly}</text><line style="stroke: #000000; stroke-width: 1.4442916093535074;" x1="181.9807" x2="681.7056" y1="148.1226" y2="148.1226"/><text fill="#000000" font-family="sans-serif" font-size="10.5915" lengthAdjust="spacingAndGlyphs" textLength="490.0963" x="186.795" y="162.9689">+ArticuloDefectuoso(in nombre : string, in precio : double, in porcentajeRebaja : ushort, in defecto : string)</text><text fill="#000000" font-family="sans-serif" font-size="10.5915" lengthAdjust="spacingAndGlyphs" textLength="101.1004" x="186.795" y="176.291">+GetDefecto() : string</text><text fill="#000000" font-family="sans-serif" font-size="10.5915" lengthAdjust="spacingAndGlyphs" textLength="81.8432" x="186.795" y="189.6131">+ATexto() : string</text><!--MD5=[dcfe97591e768dc4c3876e4be3e91787]
reverse link ArticuloRebajado to ArticuloEnExposicion--><path d="M216.249,49.6249 C180.3083,74.1393 127.2979,110.2953 97.9936,130.2829 " fill="none" id="ArticuloRebajado&lt;-ArticuloEnExposicion" style="stroke: #000000; stroke-width: 0.9628610729023384;"/><polygon fill="none" points="212.6363,43.9305,232.3432,38.6473,220.2323,55.067,212.6363,43.9305" style="stroke: #000000; stroke-width: 0.9628610729023384;"/><!--MD5=[ef03ca039eb75650c6a8eaf22a0c64fc]
reverse link ArticuloRebajado to ArticuloDefectuoso--><path d="M291.1769,49.4862 C311.0946,62.9971 336.2677,80.0744 359.7952,96.0348 " fill="none" id="ArticuloRebajado&lt;-ArticuloDefectuoso" style="stroke: #000000; stroke-width: 0.9628610729023384;"/><polygon fill="none" points="287.3534,55.0362,275.2001,38.6473,294.9205,43.8805,287.3534,55.0362" style="stroke: #000000; stroke-width: 0.9628610729023384;"/><!--MD5=[9b3d9bd6854a13534a8d79955aa5293d]
@startuml
scale 700 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide ArticuloRebajado methods
hide ArticuloRebajado attributes

hide ArticuloEnExposicion methods
hide ArticuloEnExposicion attributes

class ArticuloDefectuoso #navajowhite
{
    -defecto : string {readOnly}

    +ArticuloDefectuoso(in nombre : string, in precio : double, in porcentajeRebaja : ushort, in defecto : string)
    +GetDefecto() : string
    +ATexto() : string
}

ArticuloRebajado ^- - ArticuloEnExposicion
ArticuloRebajado ^- - ArticuloDefectuoso

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p></li>
<li>
<p>Donde una posible implementaci&#xF3;n podr&#xED;a ser ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">ArticuloDefectuoso</span> <span class="token punctuation">:</span> <span class="token class-name">ArticuloRebajado</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">string</span> defecto<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">ArticuloDefectuoso</span><span class="token punctuation">(</span><span class="token keyword">string</span> nombre<span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token keyword">double</span> precio<span class="token punctuation">,</span> 
                                <span class="token keyword">in</span> <span class="token keyword">ushort</span> porcentajeRebaja<span class="token punctuation">,</span> <span class="token keyword">string</span> defecto<span class="token punctuation">)</span> 
                                <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> precio<span class="token punctuation">,</span> porcentajeRebaja<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>defecto <span class="token operator">=</span> defecto<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">GetDefecto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> defecto<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
            $<span class="token string">&quot;\nDefecto: {defecto}&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>&#x270B; <strong>Si ahora a&#xF1;adimos un nuevo art&#xED;culo de este tipo a nuestro ticket.</strong></p>
<pre data-role="codeBlock" data-info="csharp {highlight=7}" class="language-csharp" data-line="7"><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">TicketCompra</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TicketCompra</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Airpods Apple&quot;</span><span class="token punctuation">,</span> <span class="token number">100</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t<span class="token punctuation">.</span>A&#xF1;<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArticuloEnExposicion</span><span class="token punctuation">(</span><span class="token string">&quot;TV Samsung OLED 50&apos;&apos;&quot;</span><span class="token punctuation">,</span> <span class="token number">999</span>d<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>A&#xF1;<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Honor Band 4&quot;</span><span class="token punctuation">,</span> <span class="token number">35</span>d<span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>A&#xF1;<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">&quot;Samsung s10&quot;</span><span class="token punctuation">,</span> <span class="token number">300</span>d<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">AddDays</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;TechnoBalmis&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cambio de bater&#xED;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>A&#xF1;<span class="token function">ade</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArticuloDefectuoso</span><span class="token punctuation">(</span><span class="token string">&quot;Woffer Bang &amp; Olufsen&quot;</span><span class="token punctuation">,</span> <span class="token number">300</span>d<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;Peque&#xF1;o picado en caja.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">





<div aria-hidden="true" class="line-highlight" data-range="7" data-start="7">
</div></div></pre><blockquote>
<p><strong>No tendremos que modificar nuestra clase <code>TicketCompra</code></strong> y esto ser&#xE1; gracias al <strong>polimorfismo de datos</strong>.</p>
</blockquote>
</li>
</ul>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="el-caso-especial-de-la-clase-a-hrefhttpsdocsmicrosoftcomes-esdotnetapisystemobjectviewnetcore-31-target_blankobjecta-en-c">El caso especial de la clase <a href="https://docs.microsoft.com/es-es/dotnet/api/system.object?view=netcore-3.1" target="_blank">object</a> en C#</h4>

<ul>
<li>
<p>La Clase <strong><code>Object</code></strong> definida en <strong><code>System</code></strong>, es una clase especial de la cual heredan de forma <strong>impl&#xED;cita</strong> todos los objetos, tanto valor como refrencia, creados en C#.</p>
</li>
<li>
<p>Por tanto, podemos decir que un objeto de <strong>la clase <code>object</code> puede sustituir a cualquier objeto</strong> definido por nosotros o en las BCL.</p>
</li>
<li>
<p>Historicamente, en los principios de C#, esta clase se utilizaba para tratar objetos de forma gen&#xE9;rica como en colecciones, antes de que el lenguaje implementara la genericidad a trav&#xE9;s de gen&#xE9;ricos o clases parametrizadas, cuyo uso es m&#xE1;s recomendable.</p>
</li>
<li>
<p>Podemos encontrar esta clase en otros lenguajes como Java.</p>
</li>
<li>
<p><strong>Define una serie de m&#xE9;todos invalidables o virtuales que podremos redefinir</strong> en cualquiera de las clases que nosotros creemos. Entre ellos podemos destacar:</p>
<ol>
<li>
<p><strong>public virtual string <a href="https://docs.microsoft.com/es-es/dotnet/api/system.object.tostring?view=netcore-3.1" target="_blank">ToString</a>()</strong></p>
<p>Este m&#xE9;todo, es llamado <strong>autom&#xE1;ticamente</strong> cada vez que un objeto se intenta formatear c&#xF3;mo cadena y equivaldr&#xED;a en cierta manera al m&#xE9;todo <strong><code>string ATexto()</code></strong> que hemos definido en nuestra jerarqu&#xED;a de art&#xED;culos.</p>
<p>En el fondo, aunque no se especifique, <strong><code>Articulo</code></strong> hereda impl&#xED;citamente de <strong><code>Object</code></strong> y por tanto las clases <strong><code>Articulo</code></strong>, <strong><code>ArticuloRebajado</code></strong>, <strong><code>ArticuloReacondicionado</code></strong>, etc. heredan el m&#xE9;todo <strong><code>ToString()</code></strong> y adem&#xE1;s pueden invalidarlo.</p>
<p>De hecho si no lo invalidamos y hacemos el siguiente codigo...</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[10-12]}" class="language-csharp" data-line="10-12"><span class="token keyword">namespace</span> EjemploErencia
<span class="token punctuation">{</span>
    <span class="token keyword">class</span> <span class="token class-name">Articulo</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

    <span class="token keyword">class</span> <span class="token class-name">Principal</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Falda&quot;</span><span class="token punctuation">,</span> <span class="token number">30f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// Mostrar&#xE1; &quot;EjemploErencia.Articulo&quot; que es el NCC de la clase y </span>
            <span class="token comment">// es lo que hace la implementaci&#xF3;n de ToString en la clase Object si no la invalidamos.</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">








<div aria-hidden="true" class="line-highlight" data-range="10-12" data-start="10" data-end="12">


</div></div></pre><p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="212.1604px" preserveAspectRatio="none" style="width:792px;height:212px;" version="1.1" viewBox="0 0 792 212" width="792.7555px" zoomAndPan="magnify"><defs><filter height="300%" id="f1nprocin4hr9t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.069857697283312"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.139715394566624" dy="4.139715394566624" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[aa7f586532e18719e6cefa70fc650583]
class Object--><rect fill="#FFDEAD" filter="url(#f1nprocin4hr9t)" height="55.7164" id="Object" style="stroke: #000000; stroke-width: 1.5523932729624839;" width="151.0996" x="6.2096" y="100.3881"/><ellipse cx="59.2497" cy="116.947" fill="#ADD1B2" rx="11.3842" ry="11.3842" style="stroke: #000000; stroke-width: 1.034928848641656;"/><path d="M62.1119,112.6779 Q62.2736,112.4515 62.4677,112.3383 Q62.6617,112.2251 62.8881,112.2251 Q63.2762,112.2251 63.5188,112.5 Q63.7613,112.7587 63.7613,113.3894 L63.7613,114.8933 Q63.7613,115.5239 63.5188,115.7988 Q63.2762,116.0737 62.8881,116.0737 Q62.5323,116.0737 62.3221,115.8635 Q62.1119,115.6695 61.9987,115.1358 Q61.9502,114.7639 61.7561,114.5699 Q61.4166,114.1818 60.7859,113.9554 Q60.1552,113.729 59.5084,113.729 Q58.716,113.729 58.053,114.0686 Q57.4062,114.4082 56.8887,115.1843 Q56.3875,115.9605 56.3875,117.0278 L56.3875,118.1598 Q56.3875,119.4373 57.3092,120.2943 Q58.2309,121.1352 59.8803,121.1352 Q60.8506,121.1352 61.5298,120.8765 Q61.934,120.7147 62.3706,120.262 Q62.6455,119.9871 62.7911,119.9062 Q62.9528,119.8254 63.163,119.8254 Q63.5026,119.8254 63.7613,120.1003 Q64.0362,120.359 64.0362,120.7147 Q64.0362,121.0705 63.6805,121.4909 Q63.163,122.0893 62.3383,122.4288 Q61.2225,122.8978 59.8803,122.8978 Q58.3118,122.8978 57.0666,122.251 Q56.0479,121.7335 55.3364,120.6339 Q54.6248,119.5181 54.6248,118.1921 L54.6248,116.9955 Q54.6248,115.621 55.2555,114.4405 Q55.9023,113.2439 57.0343,112.6132 Q58.1662,111.9664 59.4437,111.9664 Q60.2038,111.9664 60.8668,112.1442 Q61.5459,112.306 62.1119,112.6779 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.4191" lengthAdjust="spacingAndGlyphs" textLength="36.2225" x="80.4657" y="122.0286">Object</text><line style="stroke: #000000; stroke-width: 1.5523932729624839;" x1="7.2445" x2="156.2743" y1="133.5058" y2="133.5058"/><text fill="#000000" font-family="sans-serif" font-size="11.3842" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="138.6805" x="12.4191" y="149.4633">+ToString() : string {virtual}</text><!--MD5=[60dbf6945f26d51d7ef11e92d44c812f]
class Articulo--><rect fill="#FFFAFA" filter="url(#f1nprocin4hr9t)" height="55.7164" id="Articulo" style="stroke: #000000; stroke-width: 1.5523932729624839;" width="110.7374" x="219.4049" y="100.3881"/><ellipse cx="251.229" cy="116.947" fill="#ADD1B2" rx="11.3842" ry="11.3842" style="stroke: #000000; stroke-width: 1.034928848641656;"/><path d="M254.0912,112.6779 Q254.2529,112.4515 254.447,112.3383 Q254.641,112.2251 254.8674,112.2251 Q255.2555,112.2251 255.4981,112.5 Q255.7406,112.7587 255.7406,113.3894 L255.7406,114.8933 Q255.7406,115.5239 255.4981,115.7988 Q255.2555,116.0737 254.8674,116.0737 Q254.5116,116.0737 254.3014,115.8635 Q254.0912,115.6695 253.978,115.1358 Q253.9295,114.7639 253.7354,114.5699 Q253.3959,114.1818 252.7652,113.9554 Q252.1345,113.729 251.4877,113.729 Q250.6953,113.729 250.0323,114.0686 Q249.3855,114.4082 248.868,115.1843 Q248.3668,115.9605 248.3668,117.0278 L248.3668,118.1598 Q248.3668,119.4373 249.2885,120.2943 Q250.2102,121.1352 251.8596,121.1352 Q252.8299,121.1352 253.5091,120.8765 Q253.9133,120.7147 254.3499,120.262 Q254.6248,119.9871 254.7704,119.9062 Q254.9321,119.8254 255.1423,119.8254 Q255.4819,119.8254 255.7406,120.1003 Q256.0155,120.359 256.0155,120.7147 Q256.0155,121.0705 255.6598,121.4909 Q255.1423,122.0893 254.3176,122.4288 Q253.2018,122.8978 251.8596,122.8978 Q250.2911,122.8978 249.0459,122.251 Q248.0272,121.7335 247.3157,120.6339 Q246.6041,119.5181 246.6041,118.1921 L246.6041,116.9955 Q246.6041,115.621 247.2348,114.4405 Q247.8816,113.2439 249.0136,112.6132 Q250.1455,111.9664 251.423,111.9664 Q252.1831,111.9664 252.8461,112.1442 Q253.5252,112.306 254.0912,112.6779 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.4191" lengthAdjust="spacingAndGlyphs" textLength="41.3972" x="269.3402" y="122.0286">Articulo</text><line style="stroke: #000000; stroke-width: 1.5523932729624839;" x1="220.4398" x2="329.1074" y1="133.5058" y2="133.5058"/><text fill="#000000" font-family="sans-serif" font-size="11.3842" lengthAdjust="spacingAndGlyphs" textLength="98.3182" x="225.6145" y="149.4633">^+ToString() : string</text><!--MD5=[2f7aa29e6ed06458ec3a8577fe477f93]
class ArticuloRebajado--><rect fill="#FFFAFA" filter="url(#f1nprocin4hr9t)" height="55.7164" id="ArticuloRebajado" style="stroke: #000000; stroke-width: 1.5523932729624839;" width="130.401" x="414.489" y="53.8163"/><ellipse cx="430.0129" cy="70.3752" fill="#ADD1B2" rx="11.3842" ry="11.3842" style="stroke: #000000; stroke-width: 1.034928848641656;"/><path d="M432.8752,66.1061 Q433.0369,65.8797 433.2309,65.7665 Q433.425,65.6533 433.6514,65.6533 Q434.0395,65.6533 434.282,65.9282 Q434.5246,66.1869 434.5246,66.8176 L434.5246,68.3215 Q434.5246,68.9521 434.282,69.227 Q434.0395,69.5019 433.6514,69.5019 Q433.2956,69.5019 433.0854,69.2917 Q432.8752,69.0977 432.762,68.564 Q432.7135,68.1921 432.5194,67.9981 Q432.1798,67.61 431.5492,67.3836 Q430.9185,67.1572 430.2717,67.1572 Q429.4793,67.1572 428.8163,67.4968 Q428.1695,67.8364 427.652,68.6125 Q427.1507,69.3887 427.1507,70.456 L427.1507,71.588 Q427.1507,72.8655 428.0724,73.7225 Q428.9942,74.5634 430.6436,74.5634 Q431.6138,74.5634 432.293,74.3047 Q432.6973,74.1429 433.1339,73.6902 Q433.4088,73.4153 433.5543,73.3344 Q433.716,73.2536 433.9263,73.2536 Q434.2658,73.2536 434.5246,73.5285 Q434.7995,73.7872 434.7995,74.1429 Q434.7995,74.4987 434.4437,74.9191 Q433.9263,75.5175 433.1016,75.8571 Q431.9858,76.326 430.6436,76.326 Q429.075,76.326 427.8299,75.6792 Q426.8111,75.1617 426.0996,74.0621 Q425.3881,72.9463 425.3881,71.6203 L425.3881,70.4237 Q425.3881,69.0492 426.0188,67.8687 Q426.6656,66.6721 427.7975,66.0414 Q428.9295,65.3946 430.207,65.3946 Q430.967,65.3946 431.63,65.5724 Q432.3092,65.7342 432.8752,66.1061 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.4191" lengthAdjust="spacingAndGlyphs" textLength="97.2833" x="444.5019" y="75.4568">ArticuloRebajado</text><line style="stroke: #000000; stroke-width: 1.5523932729624839;" x1="415.5239" x2="543.8551" y1="86.934" y2="86.934"/><text fill="#000000" font-family="sans-serif" font-size="11.3842" lengthAdjust="spacingAndGlyphs" textLength="98.3182" x="420.6986" y="102.8915">^+ToString() : string</text><!--MD5=[6a1e8c298c85852c3878b8bc4320a243]
class ArticuloReacondicionado--><rect fill="#FFFAFA" filter="url(#f1nprocin4hr9t)" height="55.7164" id="ArticuloReacondicionado" style="stroke: #000000; stroke-width: 1.5523932729624839;" width="174.903" x="392.238" y="145.925"/><ellipse cx="407.762" cy="162.4838" fill="#ADD1B2" rx="11.3842" ry="11.3842" style="stroke: #000000; stroke-width: 1.034928848641656;"/><path d="M410.6242,158.2147 Q410.7859,157.9884 410.9799,157.8752 Q411.174,157.762 411.4004,157.762 Q411.7885,157.762 412.031,158.0369 Q412.2736,158.2956 412.2736,158.9263 L412.2736,160.4301 Q412.2736,161.0608 412.031,161.3357 Q411.7885,161.6106 411.4004,161.6106 Q411.0446,161.6106 410.8344,161.4004 Q410.6242,161.2063 410.511,160.6727 Q410.4625,160.3008 410.2684,160.1067 Q409.9288,159.7186 409.2982,159.4922 Q408.6675,159.2658 408.0207,159.2658 Q407.2283,159.2658 406.5653,159.6054 Q405.9185,159.945 405.401,160.7212 Q404.8997,161.4974 404.8997,162.5647 L404.8997,163.6966 Q404.8997,164.9741 405.8215,165.8312 Q406.7432,166.6721 408.3926,166.6721 Q409.3629,166.6721 410.042,166.4133 Q410.4463,166.2516 410.8829,165.7988 Q411.1578,165.5239 411.3034,165.4431 Q411.4651,165.3622 411.6753,165.3622 Q412.0149,165.3622 412.2736,165.6371 Q412.5485,165.8959 412.5485,166.2516 Q412.5485,166.6074 412.1928,167.0278 Q411.6753,167.6261 410.8506,167.9657 Q409.7348,168.4347 408.3926,168.4347 Q406.8241,168.4347 405.5789,167.7878 Q404.5602,167.2704 403.8486,166.1708 Q403.1371,165.055 403.1371,163.729 L403.1371,162.5323 Q403.1371,161.1578 403.7678,159.9774 Q404.4146,158.7807 405.5466,158.1501 Q406.6785,157.5032 407.956,157.5032 Q408.716,157.5032 409.379,157.6811 Q410.0582,157.8428 410.6242,158.2147 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.4191" lengthAdjust="spacingAndGlyphs" textLength="141.7853" x="422.251" y="167.5655">ArticuloReacondicionado</text><line style="stroke: #000000; stroke-width: 1.5523932729624839;" x1="393.273" x2="566.1061" y1="179.0427" y2="179.0427"/><text fill="#000000" font-family="sans-serif" font-size="11.3842" lengthAdjust="spacingAndGlyphs" textLength="98.3182" x="398.4476" y="195.0002">^+ToString() : string</text><!--MD5=[3059a5bdb040e06d11e05e5c7f6462d7]
class ArticuloEnExposicion--><rect fill="#FFFAFA" filter="url(#f1nprocin4hr9t)" height="55.7164" id="ArticuloEnExposicion" style="stroke: #000000; stroke-width: 1.5523932729624839;" width="152.1345" x="629.2367" y="8.2794"/><ellipse cx="644.7607" cy="24.8383" fill="#ADD1B2" rx="11.3842" ry="11.3842" style="stroke: #000000; stroke-width: 1.034928848641656;"/><path d="M647.6229,20.5692 Q647.7846,20.3428 647.9787,20.2296 Q648.1727,20.1164 648.3991,20.1164 Q648.7872,20.1164 649.0298,20.3913 Q649.2723,20.6501 649.2723,21.2807 L649.2723,22.7846 Q649.2723,23.4153 649.0298,23.6902 Q648.7872,23.9651 648.3991,23.9651 Q648.0433,23.9651 647.8331,23.7549 Q647.6229,23.5608 647.5097,23.0272 Q647.4612,22.6552 647.2671,22.4612 Q646.9276,22.0731 646.2969,21.8467 Q645.6662,21.6203 645.0194,21.6203 Q644.227,21.6203 643.564,21.9599 Q642.9172,22.2995 642.3997,23.0757 Q641.8984,23.8519 641.8984,24.9191 L641.8984,26.0511 Q641.8984,27.3286 642.8202,28.1856 Q643.7419,29.0265 645.3913,29.0265 Q646.3616,29.0265 647.0408,28.7678 Q647.445,28.6061 647.8816,28.1533 Q648.1565,27.8784 648.3021,27.7975 Q648.4638,27.7167 648.674,27.7167 Q649.0136,27.7167 649.2723,27.9916 Q649.5472,28.2503 649.5472,28.6061 Q649.5472,28.9618 649.1915,29.3823 Q648.674,29.9806 647.8493,30.3202 Q646.7335,30.7891 645.3913,30.7891 Q643.8228,30.7891 642.5776,30.1423 Q641.5589,29.6248 640.8473,28.5252 Q640.1358,27.4094 640.1358,26.0834 L640.1358,24.8868 Q640.1358,23.5123 640.7665,22.3318 Q641.4133,21.1352 642.5453,20.5045 Q643.6772,19.8577 644.9547,19.8577 Q645.7147,19.8577 646.3777,20.0356 Q647.0569,20.1973 647.6229,20.5692 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.4191" lengthAdjust="spacingAndGlyphs" textLength="119.0168" x="659.2497" y="29.92">ArticuloEnExposicion</text><line style="stroke: #000000; stroke-width: 1.5523932729624839;" x1="630.2717" x2="780.3364" y1="41.3972" y2="41.3972"/><text fill="#000000" font-family="sans-serif" font-size="11.3842" lengthAdjust="spacingAndGlyphs" textLength="98.3182" x="635.4463" y="57.3547">^+ToString() : string</text><!--MD5=[0c9e59459fe9af4d2b65d63643252534]
class ArticuloDefectuoso--><rect fill="#FFFAFA" filter="url(#f1nprocin4hr9t)" height="55.7164" id="ArticuloDefectuoso" style="stroke: #000000; stroke-width: 1.5523932729624839;" width="139.7154" x="635.4463" y="100.3881"/><ellipse cx="650.9702" cy="116.947" fill="#ADD1B2" rx="11.3842" ry="11.3842" style="stroke: #000000; stroke-width: 1.034928848641656;"/><path d="M653.8325,112.6779 Q653.9942,112.4515 654.1882,112.3383 Q654.3823,112.2251 654.6087,112.2251 Q654.9968,112.2251 655.2393,112.5 Q655.4819,112.7587 655.4819,113.3894 L655.4819,114.8933 Q655.4819,115.5239 655.2393,115.7988 Q654.9968,116.0737 654.6087,116.0737 Q654.2529,116.0737 654.0427,115.8635 Q653.8325,115.6695 653.7193,115.1358 Q653.6708,114.7639 653.4767,114.5699 Q653.1371,114.1818 652.5065,113.9554 Q651.8758,113.729 651.229,113.729 Q650.4366,113.729 649.7736,114.0686 Q649.1268,114.4082 648.6093,115.1843 Q648.108,115.9605 648.108,117.0278 L648.108,118.1598 Q648.108,119.4373 649.0298,120.2943 Q649.9515,121.1352 651.6009,121.1352 Q652.5712,121.1352 653.2503,120.8765 Q653.6546,120.7147 654.0912,120.262 Q654.3661,119.9871 654.5116,119.9062 Q654.6734,119.8254 654.8836,119.8254 Q655.2232,119.8254 655.4819,120.1003 Q655.7568,120.359 655.7568,120.7147 Q655.7568,121.0705 655.401,121.4909 Q654.8836,122.0893 654.0589,122.4288 Q652.9431,122.8978 651.6009,122.8978 Q650.0323,122.8978 648.7872,122.251 Q647.7684,121.7335 647.0569,120.6339 Q646.3454,119.5181 646.3454,118.1921 L646.3454,116.9955 Q646.3454,115.621 646.9761,114.4405 Q647.6229,113.2439 648.7549,112.6132 Q649.8868,111.9664 651.1643,111.9664 Q651.9243,111.9664 652.5873,112.1442 Q653.2665,112.306 653.8325,112.6779 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.4191" lengthAdjust="spacingAndGlyphs" textLength="106.5977" x="665.4592" y="122.0286">ArticuloDefectuoso</text><line style="stroke: #000000; stroke-width: 1.5523932729624839;" x1="636.4812" x2="774.1268" y1="133.5058" y2="133.5058"/><text fill="#000000" font-family="sans-serif" font-size="11.3842" lengthAdjust="spacingAndGlyphs" textLength="98.3182" x="641.6559" y="149.4633">^+ToString() : string</text><!--MD5=[f4f8dcd04afdd92d00ae17e0652634b4]
reverse link Object to Articulo--><path d="M178.5107,128.3312 C192.4947,128.3312 206.4714,128.3312 219.2404,128.3312 " fill="none" id="Object&lt;-Articulo" style="stroke: #000000; stroke-width: 1.034928848641656;"/><polygon fill="none" points="178.1371,135.5756,157.4386,128.3312,178.1371,121.0866,178.1371,135.5756" style="stroke: #000000; stroke-width: 1.034928848641656;"/><!--MD5=[4c5e07181522a81d7ce4ca381a4c3897]
reverse link Articulo to ArticuloRebajado--><path d="M350.4611,111.1914 C371.4515,106.3724 394.0885,101.175 414.4145,96.5082 " fill="none" id="Articulo&lt;-ArticuloRebajado" style="stroke: #000000; stroke-width: 1.034928848641656;"/><polygon fill="none" points="351.9627,118.2797,330.1671,115.8508,348.7203,104.1582,351.9627,118.2797" style="stroke: #000000; stroke-width: 1.034928848641656;"/><!--MD5=[5ead35dfedb79aa276df792dc2cba33a]
reverse link Articulo to ArticuloReacondicionado--><path d="M350.6277,145.1273 C364.0962,148.1509 378.2386,151.3256 392.0093,154.417 " fill="none" id="Articulo&lt;-ArticuloReacondicionado" style="stroke: #000000; stroke-width: 1.034928848641656;"/><polygon fill="none" points="348.7762,152.1367,330.1671,140.5342,351.9503,137.9995,348.7762,152.1367" style="stroke: #000000; stroke-width: 1.034928848641656;"/><!--MD5=[dcfe97591e768dc4c3876e4be3e91787]
reverse link ArticuloRebajado to ArticuloEnExposicion--><path d="M565.4023,64.5102 C586.2872,60.2556 608.5144,55.7278 628.9221,51.5705 " fill="none" id="ArticuloRebajado&lt;-ArticuloEnExposicion" style="stroke: #000000; stroke-width: 1.034928848641656;"/><polygon fill="none" points="566.8109,71.616,545.0825,68.6489,563.9193,57.4189,566.8109,71.616" style="stroke: #000000; stroke-width: 1.034928848641656;"/><!--MD5=[ef03ca039eb75650c6a8eaf22a0c64fc]
reverse link ArticuloRebajado to ArticuloDefectuoso--><path d="M565.6404,99.4502 C588.651,104.2441 613.2771,109.3744 635.2931,113.9611 " fill="none" id="ArticuloRebajado&lt;-ArticuloDefectuoso" style="stroke: #000000; stroke-width: 1.034928848641656;"/><polygon fill="none" points="563.8686,106.4812,545.0825,95.1669,566.8243,92.297,563.8686,106.4812" style="stroke: #000000; stroke-width: 1.034928848641656;"/><!--MD5=[cf0b7a32061f43f62881202721871c63]
@startuml
left to right direction
scale 800 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide attributes

class Object #navajowhite
{
    {abstract}+ToString() : string {virtual}
}
class Articulo
{
    ^+ToString() : string
}
class ArticuloRebajado
{
    ^+ToString() : string
}
class ArticuloReacondicionado
{
    ^+ToString() : string
}
class ArticuloEnExposicion
{
    ^+ToString() : string
}
class ArticuloDefectuoso
{
    ^+ToString() : string
}
Object ^- - Articulo
Articulo ^- - ArticuloRebajado
Articulo ^- - ArticuloReacondicionado
ArticuloRebajado ^- - ArticuloEnExposicion
ArticuloRebajado ^- - ArticuloDefectuoso
@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p>Por tanto podr&#xED;amos haber hecho...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Invalido el ToString de Object</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> $<span class="token string">&quot;Nombre: {nombre}\nPrecio: {precio:F2}&#x20AC;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">ArticuloReacondicionado</span> <span class="token punctuation">:</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Invalido el ToString de Articulo</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span> <span class="token operator">+</span>
            $<span class="token string">&quot;\nFecha reacondicionamiento: {fechaReacondicionamiento.ToShortDateString()}\n&quot;</span> <span class="token operator">+</span>
            $<span class="token string">&quot;Empresa: {GetEmpresa()}\n&quot;</span> <span class="token operator">+</span>
            $<span class="token string">&quot;Descripci&#xF3;n: {descripcion}&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Falda&quot;</span><span class="token punctuation">,</span> <span class="token number">30f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// Mostrar&#xE1; sin necesidad de hacer a.ToString().</span>
        <span class="token comment">// Nombre: Falda</span>
        <span class="token comment">// Precio: 30.00&#x20AC;  </span>

        <span class="token class-name">Articulo</span> arc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArticuloReacondicionado</span><span class="token punctuation">(</span><span class="token string">&quot;Samsung s10&quot;</span><span class="token punctuation">,</span> <span class="token number">300</span>d<span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span> <span class="token string">&quot;FOXCOM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cambio de bater&#xED;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;Datos -------------\n{arc}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// Mostrar&#xE1; sin necesidad de hacer arc.ToString().</span>
        <span class="token comment">// Datos -------------</span>
        <span class="token comment">// Nombre: Samsung s10</span>
        <span class="token comment">// Precio: 300.00&#x20AC;</span>
        <span class="token comment">// Fecha reacondicionamiento: &lt;dd/mm/aaaa actual&gt;</span>
        <span class="token comment">// Empresa: FOXCOM</span>
        <span class="token comment">// Descripci&#xF3;n: Cambio de bater&#xED;a                      </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p><strong>public virtual bool <a href="https://docs.microsoft.com/es-es/dotnet/api/system.object.equals?view=netcore-3.1#System_Object_Equals_System_Object_" target="_blank">Equals</a>(object obj)</strong></p>
<p>Se usa para comparar el objeto sobre el que se aplica con cualquier otro que se le pase como par&#xE1;metro en <strong>profundidad</strong>. Devuelve true si ambos objetos son iguales y false en caso contrario.</p>
<p>Veamos un ejemplo en el cual lo invalidaremos en las clases <strong><code>Articulo</code></strong> y <strong><code>ArticuloRebajado</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp {}" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">bool</span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword">object</span> obj<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">bool</span> iguales <span class="token operator">=</span> obj <span class="token keyword">is</span> <span class="token class-name">Articulo</span> a                        <span class="token comment">// Si la entrada es un art&#xED;culo y es distinto de null</span>
                    <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>nombre<span class="token punctuation">.</span><span class="token function">CompareTo</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span>          <span class="token comment">// y el nombre de los art&#xED;culos son iguales.</span>
                    <span class="token operator">&amp;&amp;</span> Math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>precio <span class="token operator">-</span> precio<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1</span>e<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">;</span>      <span class="token comment">// y los precios son iguales con una precisi&#xF3;n de 0.00001</span>
        <span class="token keyword">return</span> iguales<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">ArticuloRebajado</span> <span class="token punctuation">:</span> <span class="token class-name">Articulo</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">bool</span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword">object</span> obj<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">bool</span> iguales <span class="token operator">=</span> obj <span class="token keyword">is</span> <span class="token class-name">ArticuloRebajado</span> a                <span class="token comment">// Si la entrada es un art&#xED;culo rebajado</span>
                    <span class="token operator">&amp;&amp;</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Articulo<span class="token punctuation">)</span>obj<span class="token punctuation">)</span>               <span class="token comment">// y sus partes de art&#xED;culo son iguales</span>
                    <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>porcentajeRebaja <span class="token operator">==</span> porcentajeRebaja<span class="token punctuation">;</span>  <span class="token comment">// y tienen el mismo porcentaje de rebaja.</span>
        <span class="token keyword">return</span> iguales<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Articulo</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Honor Band 5&quot;</span><span class="token punctuation">,</span> <span class="token number">35</span>d<span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Aunque a sea de tipo Articulo, se hace un enlace din&#xE1;mico al Equals de </span>
        <span class="token comment">// ArticuloRebajado al invalidar el de art&#xED;culo y realemnte serlo.</span>
        <span class="token comment">// Por lo cual en todos los casos se llama al Equals de ArticuloRebajado que a su vez</span>
        <span class="token comment">// llama al de art&#xED;culo.</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Honor Band 4&quot;</span><span class="token punctuation">,</span> <span class="token number">30</span>d<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// False</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Honor Band 5&quot;</span><span class="token punctuation">,</span> <span class="token number">35</span>d<span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// True</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArticuloRebajado</span><span class="token punctuation">(</span><span class="token string">&quot;Honor Band 5&quot;</span><span class="token punctuation">,</span> <span class="token number">35</span>d<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// False</span>

        <span class="token comment">// En este caso el downcasting obj as ArticuloRebajado se evaluar&#xE1; a null.</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Articulo</span><span class="token punctuation">(</span><span class="token string">&quot;Honor Band 5&quot;</span><span class="token punctuation">,</span> <span class="token number">35</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// False</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
</ol>
<p>El resto de funciones invalidables de object las puedes consultar en la documentaci&#xF3;n oficial y ya se explicar&#xE1; m&#xE1;s adelante en caso de necesitarse.</p>
</li>
</ul>
<div style="page-break-after:always;"></div>
<blockquote>
<p><strong>&#x1F393; Caso de estudio</strong></p>
<p>Veamos un ejemplo simplificado de dise&#xF1;o &apos;<em>similar</em>&apos; al seguido con los art&#xED;culos.<br>
En este ejemplo vamos a suponer que el propietario de una campa de aparcamiento veh&#xED;culos a largo plazo. Decide instalar un sistema automatizado de entrada y salida de veh&#xED;culos.<br>
Para ello, decide poner un sistema de c&#xE1;maras y una IA que trata de identificar informaci&#xF3;n de los vehiculos que entran y salen.<br>
El sistema es capaz de identificar de un <strong>veh&#xED;culo</strong> al pasar la siguiente informaci&#xF3;n com&#xFA;n:</p>
<ul>
<li>
<p><strong>Matr&#xED;cula</strong> que crear&#xE1; con formato &apos;<strong><code>DDDD LLL</code></strong>&apos; donde <strong><code>D</code></strong> ser&#xE1; un d&#xED;gito de 0 a 9 y <strong><code>L</code></strong> una letra may&#xFA;scula excluidas las vocales.</p>
</li>
<li>
<p><strong>Color</strong> que ser&#xE1; un conjunto de valores con las tonalidades b&#xE1;sicas. Devolviendo la IA la predominante en el veh&#xED;culo. Estas podr&#xE1;n ser uno de los siguiente valores <strong><code>Blanco</code></strong>, <strong><code>Morado</code></strong>, <strong><code>Cian</code></strong>, <strong><code>Azul</code></strong>, <strong><code>Rojo</code></strong>, <strong><code>Verde</code></strong>, <strong><code>Negro</code></strong>, <strong><code>Naranja</code></strong> y <strong><code>Gris</code></strong>.</p>
</li>
<li>
<p><strong>Marca</strong> que ser&#xE1; un conjunto de valores de logos que la IA es capaz de identificar en las im&#xE1;genes como <strong><code>DESCONOCIDA</code></strong>, <strong><code>BMW</code></strong>, <strong><code>SEAT</code></strong>, <strong><code>AUDI</code></strong>, <strong><code>RENAULT</code></strong>, <strong><code>MAN</code></strong>, <strong><code>DAF</code></strong>, <strong><code>CITROEN</code></strong>, <strong><code>TOYOTA</code></strong>, <strong><code>SUZUKI</code></strong>, <strong><code>YAMAHA</code></strong>, <strong><code>MERCEDES</code></strong>, <strong><code>PEGASO</code></strong>.</p>
</li>
<li>
<p><strong>N&#xFA;mero de ocupantes</strong> que la IA cree que hay en el interior del veh&#xED;culo.</p>
</li>
</ul>
<p>Adem&#xE1;s, de todo esto la IA de momento sabe clasificar los <strong>veh&#xED;culos</strong> en est&#xE1;s epecificaciones <strong><code>Coche</code></strong>, <strong><code>Moto</code></strong> y <strong><code>Cami&#xF3;n</code></strong>. Cada especificaci&#xF3;n, a su vez debe estar categorizada a trav&#xE9;s de un conjunto de valores y en alg&#xFA;n caso a&#xF1;adiremos informaci&#xF3;n extra.</p>
<ul>
<li>
<p><strong>Coche:</strong> Podr&#xE1; tomar uno de los valores del siguiente conjunto de datos <strong><code>SinIdentificar</code></strong>, <strong><code>Berlina</code></strong>, <strong><code>Coupe</code></strong>, <strong><code>Sedan</code></strong>, <strong><code>Cabrio</code></strong>, <strong><code>TodoTerreno</code></strong>, <strong><code>MonoVolumen</code></strong> y <strong><code>Crossover</code></strong>.</p>
</li>
<li>
<p><strong>Moto:</strong> Podr&#xE1; tomar uno de los valores del siguiente conjunto de datos <strong><code>SinIdentificar</code></strong>, <strong><code>Scooter</code></strong>, <strong><code>Motocross</code></strong>, <strong><code>Naked</code></strong>, <strong><code>Trail</code></strong> y <strong><code>Supermotard</code></strong></p>
</li>
<li>
<p><strong>Cami&#xF3;n:</strong> Podr&#xE1; tomar uno de los valores del siguiente conjunto de datos <strong><code>SinIdentificar</code></strong>, <strong><code>Articulado</code></strong>, <strong><code>Frigor&#xED;fico</code></strong>, <strong><code>Cisterna</code></strong> y  <strong><code>Trailer</code></strong>. Pero adem&#xE1;s en los camiones es capaz de a&#xF1;adir el n&#xFA;mero de <strong>ejes</strong> y <strong>carga m&#xE1;xima</strong> en kilos.</p>
</li>
</ul>
<p>Nuestra IA, que ser&#xE1; el programa principal, pasar&#xE1; un objeto <strong><code>Veh&#xED;culo</code></strong>, con la informaci&#xF3;n que ha podido recolectar, a un objeto <strong><code>CampaVehiculos</code></strong> que tendr&#xE1; una <strong>capacidad de plazas determinada</strong> (para nuestro caso de estudio <strong>5 veh&#xED;culos</strong> independientemente de su tama&#xF1;o para simplificar). Est&#xE1;s plazas se numerar&#xE1;n de la <strong>1</strong> a la <strong>5</strong>.</p>
<p>La clase <strong><code>CampaVehiculos</code></strong> tendr&#xE1; pues las siguientes <strong>opraciones b&#xE1;sicas</strong>:</p>
<ul>
<li>
<p><strong>Privadas</strong></p>
<ul>
<li><strong><code>int Busca(Vehiculo v)</code></strong>: Me retornar&#xE1; el <strong>&#xED;ndice</strong> en un array de veh&#xED;culos que ocupa el veh&#xED;culo <strong><code>v</code></strong> o <strong>-1</strong> si no lo encuentra.</li>
<li><strong><code>int BuscaPlazaVacia()</code></strong>: Me retornar&#xE1; el <strong>primer &#xED;ndice vaci&#xF3;</strong> en un array de veh&#xED;culos o <strong>-1</strong> si no lo encuentra ning&#xFA;no vac&#xED;o.</li>
</ul>
</li>
<li>
<p><strong>P&#xFA;blicas</strong></p>
<ul>
<li>
<p><strong><code>int GetPlazasOcupadas()</code></strong>: Me retornar&#xE1; el n&#xFA;mero de plazas ocupadas en la campa.</p>
</li>
<li>
<p><strong><code>bool Entra(Vehiculo v, out int plaza, out string aviso)</code></strong>: Si la campa no est&#xE1; llena y si la matr&#xED;cula del veh&#xED;culo no se encuentra ya registrada, aparcar&#xE1; el veh&#xED;culo en la promera plaza disponible retornando <strong><code>true</code></strong> y en <strong><code>plaza</code></strong> donde lo ha aparcado (1 a Numero Plazas).<br>
En caso de no poder entrar el veh&#xED;culo por las causas ya mencionadas retornaremos <strong><code>false</code></strong> y en <strong><code>aviso</code></strong> uno de los siguientes mensajes:</p>
<ol>
<li>&apos;<em><code>Ya se encuentra en el aparcamiento el veh&#xED;culo DDDD LL</code></em>&apos;</li>
<li>&apos;<em><code>Aparcamiento lleno</code></em>&apos;</li>
</ol>
</li>
<li>
<p><strong><code>bool Sale(Vehiculo v, out int plaza, out string aviso)</code></strong>: Si la campa no est&#xE1; vac&#xED;a y si la matr&#xED;cula del veh&#xED;culo se encuentra registrada, sacar&#xE1; el veh&#xED;culo en la plaza donde se encuentra retornando <strong><code>true</code></strong> y en <strong><code>plaza</code></strong> donde se encontraba aparcado.<br>
En caso de sacar el veh&#xED;culo por las causas ya mencionadas retornaremos <strong><code>false</code></strong> y en <strong><code>aviso</code></strong> uno de los siguientes mensajes:</p>
<ol>
<li>&apos;<em><code>No se registr&#xF3; la entrada del veh&#xED;culo DDDD LL</code></em>&apos;</li>
<li>&apos;<em><code>Aparcamiento vac&#xED;o</code></em>&apos;</li>
</ol>
</li>
<li>
<p><strong><code>string ToString()</code></strong> imvalidado para que nuestre las plazas y los datos que se recibierosn de la IA de cada veh&#xED;culo.</p>
</li>
</ul>
</li>
</ul>
<p><strong>&#x270B; Intenta realizar primero por tu cuenta la implementaci&#xF3;n de la especificaci&#xF3;n anterior. Posteriormente comparala con la propueta comentada de soluci&#xF3;n que encontrar&#xE1;s m&#xE1;s adelante.<br>
Adem&#xE1;s, en las siguiente p&#xE1;ginas puedes encontrar un programa principal de prueba y la salida que debe producir.<br>
&#x1F4A1; F&#xED;jate bien en la definici&#xF3;n de clases del programa principal, pues puede ayudarte a resolver dudas sobre c&#xF3;mo implementar la especificaci&#xF3;n anterior.</strong></p>
</blockquote>
<div style="page-break-after:always;"></div>
<p>Propuesta de programa de prueba:</p>
<ul>
<li>&#x1F4A1; <strong>Tip:</strong> Para este programa de test, vamos a utilizar el m&#xE9;todo <strong>public Type <a href="https://docs.microsoft.com/es-es/dotnet/api/system.object.gettype?view=netcore-3.1" target="_blank">GetType</a>();</strong>  que poseen todos los objetos por heredar de <strong><code>object</code></strong> y que como vemos devuelve un objeto de tipo <strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.type?view=netcore-3.1" target="_blank">Type</a></strong> perteneciente al <a href="https://docs.microsoft.com/es-es/dotnet/api/system.reflection?view=netcore-3.1" target="_blank">API de reflexi&#xF3;n</a> de .NET<br>
F&#xED;jate en la <strong>(<em>l&#xED;nea 5</em>)</strong> como usamos este m&#xE9;todo en <strong><code>v.GetType().Name</code></strong> aunque <strong><code>v</code></strong> es de tipo <strong><code>Vehiculo</code></strong>, <strong><code>Name</code></strong> me devolver&#xE1; el nombre de la especificaci&#xF3;n que realmente se &apos;<em>esconda</em>&apos; en el mismo.<br>
<strong>Nota:</strong> Si quieres saber un poco m&#xE1;s sobre el concepto de reflexi&#xF3;n puedes consultar (<a href="https://es.wikipedia.org/wiki/Reflexi%C3%B3n_(inform%C3%A1tica)" target="_blank">este enlace</a>).</li>
</ul>
<pre data-role="codeBlock" data-info="csharp {highlight=5}" class="language-csharp" data-line="5"><span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Entra</span><span class="token punctuation">(</span><span class="token class-name">CampaVehiculos</span> campa<span class="token punctuation">,</span> <span class="token class-name">Vehiculo</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">string</span> t1 <span class="token operator">=</span> $<span class="token string">&quot;Entrando {v.GetType().Name} {v.GetCategoria()} {v.GetMatricula()}&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">string</span> t2 <span class="token operator">=</span> campa<span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token keyword">int</span> plaza<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token keyword">string</span> aviso<span class="token punctuation">)</span> <span class="token punctuation">?</span> $<span class="token string">&quot;Aparcado en la plaza {plaza}&quot;</span> <span class="token punctuation">:</span> $<span class="token string">&quot;{aviso}&quot;</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;{t1,-42}-&gt; {t2}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Sale</span><span class="token punctuation">(</span><span class="token class-name">CampaVehiculos</span> campa<span class="token punctuation">,</span> <span class="token class-name">Vehiculo</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">string</span> t1 <span class="token operator">=</span> $<span class="token string">&quot;Saliendo {v.GetType().Name} {v.GetCategoria()} {v.GetMatricula()}&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">string</span> t2 <span class="token operator">=</span> campa<span class="token punctuation">.</span><span class="token function">Sale</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token keyword">int</span> plaza<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token keyword">string</span> aviso<span class="token punctuation">)</span> <span class="token punctuation">?</span> $<span class="token string">&quot;Deja libre la plaza {plaza}&quot;</span> <span class="token punctuation">:</span> $<span class="token string">&quot;{aviso}&quot;</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;{t1,-42}-&gt; {t2}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">CampaVehiculos</span> campa <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CampaVehiculos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Coche</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;1020 DRG&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>SEAT<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> Coche<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Coupe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Camion</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;8798 JWR&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Blanco<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DAF<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">,</span> Camion<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Frigor&#xED;fico<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Coche</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;7643 LRF&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>BMW<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> Coche<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>TodoTerreno<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Coche</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;1020 DRG&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>SEAT<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> Coche<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Coupe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Vehiculo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;0000 DGP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Negro<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DESCONOCIDA<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Moto</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;1111 GRF&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>YAMAHA<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> Moto<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Naked<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Coche</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;1020 DRG&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>SEAT<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> Coche<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Coupe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Sale</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Camion</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;8798 JWR&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Blanco<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DAF<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">,</span> Camion<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Frigor&#xED;fico<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Sale</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Camion</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;8798 JWR&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Blanco<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DAF<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">,</span> Camion<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Frigor&#xED;fico<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Sale</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Moto</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;1111 GRF&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>YAMAHA<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> Moto<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Naked<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Moto</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;1111 GRF&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>YAMAHA<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> Moto<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>Naked<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Entra</span><span class="token punctuation">(</span>campa<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Camion</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Matricula</span><span class="token punctuation">(</span><span class="token string">&quot;8798 JWR&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Blanco<span class="token punctuation">,</span> Vehiculo<span class="token punctuation">.</span>Marca<span class="token punctuation">.</span>DAF<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">,</span> Camion<span class="token punctuation">.</span>Categoria<span class="token punctuation">.</span>SinIdentificar<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>campa<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5" data-start="5">
</div></div></pre><div style="page-break-after:always;"></div>
<p>Salida del programa de prueba anterior ...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash">Entrando Coche Coupe 1020 DRG             -<span class="token operator">&gt;</span> Aparcado en la plaza 1
Entrando Camion Frigor&#xED;fico 8798 JWR      -<span class="token operator">&gt;</span> Aparcado en la plaza 2
Entrando Coche TodoTerreno 7643 LRF       -<span class="token operator">&gt;</span> Aparcado en la plaza 3
Entrando Coche Coupe 1020 DRG             -<span class="token operator">&gt;</span> Ya se encuentra en el aparcamiento el veh&#xED;culo 1020 DRG
Entrando Vehiculo SinIdentificar 0000 DGP -<span class="token operator">&gt;</span> Aparcado en la plaza 4
Entrando Moto Naked 1111 GRF              -<span class="token operator">&gt;</span> Aparcado en la plaza 5
Entrando Coche Coupe 1020 DRG             -<span class="token operator">&gt;</span> Aparcamiento lleno
Saliendo Camion Frigor&#xED;fico 8798 JWR      -<span class="token operator">&gt;</span> Deja libre la plaza 2
Saliendo Camion Frigor&#xED;fico 8798 JWR      -<span class="token operator">&gt;</span> No se registr&#xF3; la entrada del veh&#xED;culo 8798 JWR
Saliendo Moto Naked 1111 GRF              -<span class="token operator">&gt;</span> Deja libre la plaza 5
Entrando Moto Naked 1111 GRF              -<span class="token operator">&gt;</span> Aparcado en la plaza 2
Entrando Camion SinIdentificar 8798 JWR   -<span class="token operator">&gt;</span> Aparcado en la plaza 5

Veh&#xED;culos en el aparcamiento<span class="token punctuation">..</span>.

Plaza 1:
Matricula: 1020 DRG
Color: Azul
Marca: SEAT
Ocupantes: 3
Categoria: Coupe

Plaza 2:
Matricula: 1111 GRF
Color: Rojo
Marca: YAMAHA
Ocupantes: 2
Categoria: Naked

Plaza 3:
Matricula: 7643 LRF
Color: Rojo
Marca: BMW
Ocupantes: 4
Categoria: TodoTerreno

Plaza 4:
Matricula: 0000 DGP
Color: Negro
Marca: DESCONOCIDA
Ocupntes: 2
Categoria: SinIdentificar

Plaza 5:
Matricula: 8798 JWR
Color: Blanco
Marca: DAF
Ocupantes: 1
Categoria: SinIdentificar
N&#xFA;mero de ejes: 2
Carga M&#xE1;xima: 6000 Kg
</pre><div style="page-break-after:always;"></div>
<p>Propuesta de soluci&#xF3;n del caso de estudi anterior</p>
<ol>
<li>
<p>Lo primero ser&#xED;a definir un <strong>tipo para guardar matr&#xED;culas v&#xE1;lidas</strong>. B&#xE1;sicamente contendr&#xE1; un string, pero nos aseguraremos que lo que contiene es una matr&#xED;culo.</p>
<p><strong>Podr&#xED;amos definirlo como clase</strong>, pero tambi&#xE9;n cumple los requisitos para ser un tipo valor, puesto que un string es un tipo referencia <strong>inmutable</strong>. As&#xED; pues, por repasar conceptos, vamos a definirlo como un tipo valor <strong>struct</strong>.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="147.2603px" preserveAspectRatio="none" style="width:254px;height:147px;" version="1.1" viewBox="0 0 254 147" width="254.5662px" zoomAndPan="magnify"><defs><filter height="300%" id="fuzo4epj8bi0c" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.2831050228310503"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.566210045662101" dy="4.566210045662101" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ba2b4c83d307e647b8c7e3d62f712e68]
class Matricula--><rect fill="#FFFAFA" filter="url(#fuzo4epj8bi0c)" height="127.3188" id="Matricula" style="stroke: #000000; stroke-width: 1.7123287671232879;" width="234.0183" x="7.9909" y="7.9909"/><ellipse cx="85.3311" cy="30.9289" fill="#FF7700" rx="12.5571" ry="12.5571" style="stroke: #000000; stroke-width: 1.1415525114155252;"/><path d="M82.5307,34.6925 L82.5307,27.094 Q81.9064,27.0762 81.6032,26.8086 Q81.3178,26.5411 81.3178,26.113 Q81.3178,25.6849 81.621,25.4174 Q81.9242,25.1498 82.6199,25.1498 L86.6866,25.1498 Q87.632,25.1498 88.5417,25.5066 Q89.4513,25.8455 90.0043,26.3984 Q90.4145,26.8086 90.8604,27.5221 Q91.3064,28.2178 91.5382,28.9312 Q91.7701,29.6269 91.7701,30.6436 L91.7701,31.5711 Q91.7701,32.8018 91.342,33.765 Q90.9318,34.7103 90.254,35.3168 Q89.5762,35.9054 88.9876,36.1908 Q88.0422,36.6367 86.5261,36.6367 L82.6199,36.6367 Q81.9242,36.6367 81.621,36.3691 Q81.3178,36.1016 81.3178,35.6557 Q81.3178,35.2276 81.621,34.96 Q81.9242,34.6925 82.5307,34.6925 Z M84.4749,34.6925 L86.5439,34.6925 Q87.6855,34.6925 88.2741,34.3536 Q89.0411,33.9255 89.4335,33.2656 Q89.8259,32.5878 89.8259,31.5176 L89.8259,30.59 Q89.8259,29.6804 89.4692,28.9847 Q88.9162,27.8967 88.2206,27.5043 Q87.5428,27.094 86.5261,27.094 L84.4749,27.094 L84.4749,34.6925 Z "/><text fill="#000000" font-family="sans-serif" font-size="13.6986" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="74.2009" x="106.4498" y="27.919">&#xAB;dataType&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="13.6986" lengthAdjust="spacingAndGlyphs" textLength="55.9361" x="115.5822" y="45.1493">Matricula</text><line style="stroke: #000000; stroke-width: 1.7123287671232879;" x1="9.1324" x2="240.8676" y1="53.867" y2="53.867"/><text fill="#000000" font-family="sans-serif" font-size="12.5571" lengthAdjust="spacingAndGlyphs" textLength="157.5342" x="14.8402" y="71.4685">-matricula : string {readOnly}</text><line style="stroke: #000000; stroke-width: 1.7123287671232879;" x1="9.1324" x2="240.8676" y1="78.7939" y2="78.7939"/><text fill="#000000" font-family="sans-serif" font-size="12.5571" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="220.3196" x="14.8402" y="96.3954">+EsValida(in matricula : string) : boolean</text><text fill="#000000" font-family="sans-serif" font-size="12.5571" lengthAdjust="spacingAndGlyphs" textLength="167.8082" x="14.8402" y="112.1899">+Matricula(in matricula : string)</text><text fill="#000000" font-family="sans-serif" font-size="12.5571" lengthAdjust="spacingAndGlyphs" textLength="108.4475" x="14.8402" y="127.9843">^+ToString() : string</text><!--MD5=[e0dc47036d4331e98e7cba5ef75b78fe]
@startuml
scale 250 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

class Matricula <<(D,#FF7700) dataType>>
{
    -matricula : string {readOnly}
    {static} +EsValida(in matricula : string) : boolean
    +Matricula(in matricula : string)
    ^+ToString() : string
}

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">struct</span> Matricula
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">string</span> matricula<span class="token punctuation">;</span>

    <span class="token comment">// De momento lo dejamos privado, pues podemos obtener la matr&#xED;cula a trav&#xE9;s del ToString()</span>
    <span class="token keyword">private</span> <span class="token keyword">string</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> matricula<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Dejamos la comprobaci&#xF3;n de matr&#xED;cula como un m&#xE9;todo de clase publica de utilidad.</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">bool</span> <span class="token function">EsValida</span><span class="token punctuation">(</span><span class="token keyword">string</span> matricula<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// [^a-z\W\s\dAEIOU] Cualquier letra que no sea: Min&#xFA;scula, Caracter no alfanumerico, Espacios o Vocales en may&#xFA;scula.</span>
        <span class="token comment">// Lo cual deja solo las may&#xFA;culas que no sean vocales.</span>
        <span class="token keyword">return</span> Regex<span class="token punctuation">.</span><span class="token function">IsMatch</span><span class="token punctuation">(</span>matricula<span class="token punctuation">,</span> <span class="token string">@&quot;^[0-9]{4} [^a-z\W\s\dAEIOU]{3}$&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Matricula</span><span class="token punctuation">(</span><span class="token keyword">string</span> matricula<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Solo pertmitimos crear matr&#xED;culas v&#xE1;lidas.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">EsValida</span><span class="token punctuation">(</span>matricula<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ArgumentException</span><span class="token punctuation">(</span>$<span class="token string">&quot;La matr&#xED;cula {matricula} no es correcta.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>matricula <span class="token operator">=</span> matricula<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Las estructuras como las clases, tambi&#xE9;n heredan de Object y por tanto pueden </span>
    <span class="token comment">// invalidar ToString.</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>En segundo lugar definiremos la clase <strong><code>Veh&#xED;culo</code></strong>. F&#xED;jate que al usar el tipo valor Matr&#xED;cula existe una <strong>composici&#xF3;n impl&#xED;cita</strong>.<br>
Adem&#xE1;s, hemos definido de forma <strong>anidada</strong> dos tispos enumerados publicos dentro de Veh&#xED;culo. De ta&#xF1; manera que ara hacer referencia a ellos desde fuera de la clase usaremos la notaci&#xF3;n <strong><code>Vehiculo.Color</code></strong> y <strong><code>Vahiculo.Marca</code></strong> de esta manera no tendremos redundancia en los nombre y no habr&#xE1; conflicto de nombres con otros tipos <strong><code>Color</code></strong>.<br>
Esta relaci&#xF3;n de <strong>anidaci&#xF3;n</strong> el un diagrama de clases UML la podrmos expresar de la siguiente manera:</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="72.3214px" preserveAspectRatio="none" style="width:442px;height:72px;" version="1.1" viewBox="0 0 442 72" width="442.9688px" zoomAndPan="magnify"><defs><filter height="300%" id="f1335n66pppqxf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0089285714285716"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.017857142857143" dy="4.017857142857143" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[18eee71c88ab61f27581b8cbdd3ef5ee]
class Color--><rect fill="#FFFAFA" filter="url(#f1335n66pppqxf)" height="40.3669" id="Color" style="stroke: #000000; stroke-width: 1.5066964285714288;" width="112.5" x="6.0268" y="15.067"/><ellipse cx="21.0938" cy="35.2504" fill="#EB937F" rx="11.0491" ry="11.0491" style="stroke: #000000; stroke-width: 1.0044642857142858;"/><path d="M19.948,36.0509 L19.948,38.562 L24.2955,38.562 L24.2955,37.636 Q24.2955,37.0239 24.5309,36.7571 Q24.782,36.4903 25.1587,36.4903 Q25.5354,36.4903 25.7708,36.7571 Q26.0062,37.0239 26.0062,37.636 L26.0062,40.2727 L17.9705,40.2727 Q17.3427,40.2727 17.0759,40.0373 Q16.8248,39.8019 16.8248,39.4095 Q16.8248,39.0329 17.0916,38.7974 Q17.3584,38.562 17.9705,38.562 L18.2373,38.562 L18.2373,31.876 L17.9705,31.876 Q17.3427,31.876 17.0759,31.6406 Q16.8248,31.4052 16.8248,31.0128 Q16.8248,30.6362 17.0759,30.4007 Q17.3427,30.1653 17.9705,30.1653 L25.6295,30.1653 L25.6295,32.7706 Q25.6295,33.3827 25.3941,33.6496 Q25.1744,33.9007 24.782,33.9007 Q24.4053,33.9007 24.1699,33.6496 Q23.9345,33.3827 23.9345,32.7706 L23.9345,31.876 L19.948,31.876 L19.948,34.3401 L21.439,34.3401 Q21.439,33.6809 21.5646,33.4926 Q21.8314,33.0845 22.3022,33.0845 Q22.6789,33.0845 22.9143,33.3514 Q23.1498,33.6025 23.1498,34.2146 L23.1498,36.1921 Q23.1498,36.7414 23.0242,36.9298 Q22.7574,37.3221 22.3022,37.3221 Q21.8314,37.3221 21.5646,36.9141 Q21.439,36.7257 21.439,36.0509 L19.948,36.0509 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.0536" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="84.375" x="33.1473" y="32.6019">&#xAB;enumeration&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="12.0536" lengthAdjust="spacingAndGlyphs" textLength="30.1339" x="60.2679" y="47.7631">Color</text><!--MD5=[c697cdd6c102d1ef4f6082caf1dabcae]
class Marca--><rect fill="#FFFAFA" filter="url(#f1335n66pppqxf)" height="40.3669" id="Marca" style="stroke: #000000; stroke-width: 1.5066964285714288;" width="112.5" x="319.4196" y="15.067"/><ellipse cx="334.4866" cy="35.2504" fill="#EB937F" rx="11.0491" ry="11.0491" style="stroke: #000000; stroke-width: 1.0044642857142858;"/><path d="M333.3409,36.0509 L333.3409,38.562 L337.6883,38.562 L337.6883,37.636 Q337.6883,37.0239 337.9238,36.7571 Q338.1749,36.4903 338.5515,36.4903 Q338.9282,36.4903 339.1636,36.7571 Q339.3991,37.0239 339.3991,37.636 L339.3991,40.2727 L331.3634,40.2727 Q330.7356,40.2727 330.4688,40.0373 Q330.2176,39.8019 330.2176,39.4095 Q330.2176,39.0329 330.4844,38.7974 Q330.7513,38.562 331.3634,38.562 L331.6302,38.562 L331.6302,31.876 L331.3634,31.876 Q330.7356,31.876 330.4688,31.6406 Q330.2176,31.4052 330.2176,31.0128 Q330.2176,30.6362 330.4688,30.4007 Q330.7356,30.1653 331.3634,30.1653 L339.0224,30.1653 L339.0224,32.7706 Q339.0224,33.3827 338.787,33.6496 Q338.5672,33.9007 338.1749,33.9007 Q337.7982,33.9007 337.5628,33.6496 Q337.3274,33.3827 337.3274,32.7706 L337.3274,31.876 L333.3409,31.876 L333.3409,34.3401 L334.8319,34.3401 Q334.8319,33.6809 334.9574,33.4926 Q335.2243,33.0845 335.6951,33.0845 Q336.0718,33.0845 336.3072,33.3514 Q336.5426,33.6025 336.5426,34.2146 L336.5426,36.1921 Q336.5426,36.7414 336.4171,36.9298 Q336.1503,37.3221 335.6951,37.3221 Q335.2243,37.3221 334.9574,36.9141 Q334.8319,36.7257 334.8319,36.0509 L333.3409,36.0509 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.0536" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="84.375" x="346.5402" y="32.6019">&#xAB;enumeration&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="12.0536" lengthAdjust="spacingAndGlyphs" textLength="33.1473" x="372.154" y="47.7631">Marca</text><!--MD5=[1d6438b19b75334de94d74596f8416e5]
class Vehiculo--><rect fill="#FFFAFA" filter="url(#f1335n66pppqxf)" height="54.0763" id="Vehiculo" style="stroke: #000000; stroke-width: 1.5066964285714288;" width="130.5804" x="153.683" y="8.0357"/><ellipse cx="191.8025" cy="24.1071" fill="#ADD1B2" rx="11.0491" ry="11.0491" style="stroke: #000000; stroke-width: 1.0044642857142858;"/><path d="M194.5804,19.9637 Q194.7374,19.744 194.9257,19.6341 Q195.114,19.5243 195.3338,19.5243 Q195.7104,19.5243 195.9459,19.7911 Q196.1813,20.0422 196.1813,20.6543 L196.1813,22.1139 Q196.1813,22.726 195.9459,22.9928 Q195.7104,23.2596 195.3338,23.2596 Q194.9885,23.2596 194.7845,23.0556 Q194.5804,22.8673 194.4706,22.3493 Q194.4235,21.9884 194.2351,21.8 Q193.9056,21.4233 193.2935,21.2036 Q192.6814,20.9839 192.0536,20.9839 Q191.2845,20.9839 190.641,21.3135 Q190.0133,21.6431 189.511,22.3964 Q189.0245,23.1498 189.0245,24.1856 L189.0245,25.2842 Q189.0245,26.5241 189.9191,27.356 Q190.8137,28.1721 192.4146,28.1721 Q193.3562,28.1721 194.0154,27.921 Q194.4078,27.764 194.8315,27.3246 Q195.0984,27.0578 195.2396,26.9793 Q195.3966,26.9008 195.6006,26.9008 Q195.9302,26.9008 196.1813,27.1676 Q196.4481,27.4187 196.4481,27.764 Q196.4481,28.1093 196.1028,28.5174 Q195.6006,29.0981 194.8002,29.4277 Q193.7172,29.8828 192.4146,29.8828 Q190.8922,29.8828 189.6837,29.255 Q188.6949,28.7528 188.0043,27.6855 Q187.3138,26.6026 187.3138,25.3156 L187.3138,24.1542 Q187.3138,22.8202 187.9259,21.6745 Q188.5536,20.513 189.6523,19.9009 Q190.7509,19.2732 191.9908,19.2732 Q192.7284,19.2732 193.3719,19.4458 Q194.0311,19.6027 194.5804,19.9637 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.0536" lengthAdjust="spacingAndGlyphs" textLength="47.2098" x="210.9877" y="29.0392">Vehiculo</text><line style="stroke: #000000; stroke-width: 1.5066964285714288;" x1="154.6875" x2="283.2589" y1="40.1786" y2="40.1786"/><text fill="#000000" font-family="sans-serif" font-size="11.0491" lengthAdjust="spacingAndGlyphs" textLength="118.5268" x="159.7098" y="55.6664">-matricula : Matricula {id}</text><!--MD5=[29aefc7eb786748b8effedf729eb18d7]
link Color to Vehiculo--><path d="M118.5901,35.1563 C125.1331,35.1563 131.6762,35.1563 138.2203,35.1563 " fill="none" id="Color-&gt;Vehiculo" style="stroke: #000000; stroke-width: 1.0044642857142858;"/><ellipse cx="145.4525" cy="35.1563" fill="#FFFFFF" rx="8.0357" ry="8.0357" style="stroke: #000000; stroke-width: 1.0044642857142858;"/><line style="stroke: #000000; stroke-width: 1.0044642857142858;" x1="137.4167" x2="153.4882" y1="35.1563" y2="35.1563"/><line style="stroke: #000000; stroke-width: 1.0044642857142858;" x1="145.4525" x2="145.4525" y1="27.1205" y2="43.192"/><!--MD5=[2de6376aee23b4d8f8b32c5f40e26100]
reverse link Vehiculo to Marca--><path d="M299.7422,35.1563 C306.2883,35.1563 312.8344,35.1563 319.3805,35.1563 " fill="none" id="Vehiculo&lt;-Marca" style="stroke: #000000; stroke-width: 1.0044642857142858;"/><ellipse cx="292.503" cy="35.1563" fill="#FFFFFF" rx="8.0357" ry="8.0357" style="stroke: #000000; stroke-width: 1.0044642857142858;"/><line style="stroke: #000000; stroke-width: 1.0044642857142858;" x1="300.5387" x2="284.4673" y1="35.1563" y2="35.1563"/><line style="stroke: #000000; stroke-width: 1.0044642857142858;" x1="292.503" x2="292.503" y1="43.192" y2="27.1205"/><!--MD5=[e096bbf66cca028ee26a0a622814180c]
@startuml
scale 450 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide members
hide attributes

enum Color <<enumeration>>
enum Marca <<enumeration>>

show Vehiculo attributes
class Vehiculo
{
    - matricula : Matricula {id}
}

Color -+ Vehiculo
Vehiculo +- Marca

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definimos los tipos enumerados de la especificaci&#xF3;n</span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> Color <span class="token punctuation">{</span> Blanco<span class="token punctuation">,</span> Morado<span class="token punctuation">,</span> Cian<span class="token punctuation">,</span> Azul<span class="token punctuation">,</span> Rojo<span class="token punctuation">,</span> Verde<span class="token punctuation">,</span> Negro<span class="token punctuation">,</span> Naranja<span class="token punctuation">,</span> Gris <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> Marca <span class="token punctuation">{</span> DESCONOCIDA<span class="token punctuation">,</span> BMW<span class="token punctuation">,</span> SEAT<span class="token punctuation">,</span> AUDI<span class="token punctuation">,</span> RENAULT<span class="token punctuation">,</span> MAN<span class="token punctuation">,</span> DAF<span class="token punctuation">,</span> CITROEN<span class="token punctuation">,</span> TOYOTA<span class="token punctuation">,</span> SUZUKI<span class="token punctuation">,</span> YAMAHA<span class="token punctuation">,</span> MERCEDES<span class="token punctuation">,</span> PEGASO <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// Las caracter&#xED;sticas comunes a todos los veh&#xED;culos, registrables por la IA</span>
    <span class="token comment">// Ser&#xE1;n de solo lectura y por tanto solo definiremos accesores.</span>
    <span class="token comment">// Adem&#xE1;s, una vez creados los objectos veh&#xED;culos ya no podr&#xE1;n cambiar de estado (Ser&#xE1;n inmutables.).</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Matricula</span> matricula<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Color</span> color<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">ushort</span> ocupantes<span class="token punctuation">;</span>
</pre> <div style="page-break-after:always;"></div>
<p>F&#xED;jate en el los comentarios de la implementaci&#xF3;n de <strong><code>object GetCategoria()</code></strong></p>
<pre data-role="codeBlock" data-info="csharp {highlight=[17, 39]}" class="language-csharp" data-line="17,39">    <span class="token keyword">public</span> <span class="token class-name">Matricula</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> matricula<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Color</span> <span class="token function">GetColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Marca</span> <span class="token function">GetMarca</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> marca<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">ushort</span> <span class="token function">GetOcupantes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ocupantes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Los objetos veh&#xED;culos creados como tal no tienen categor&#xED;a, y por tanto al pregunt&#xE1;rsela</span>
    <span class="token comment">// retornaremos SinIdentificar y daremos la posibilidad de invalidarla en futuras especificaciones.</span>
    <span class="token comment">// Adem&#xE1;s, fijate que la categor&#xED;a se devolver&#xE1; en su forma de object con lo que, independientemente</span>
    <span class="token comment">// del tipo con el que la codifiquemos, de ella &#xFA;nicamente podremos saber la cadena que </span>
    <span class="token comment">// la representa llamando a ToString() (Ver l&#xED;nea 39).</span>
    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token keyword">object</span> <span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;SinIdentificar&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token class-name">Matricula</span> matricula<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">,</span> <span class="token keyword">ushort</span> ocupantes<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>matricula <span class="token operator">=</span> matricula<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>marca <span class="token operator">=</span> marca<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ocupantes <span class="token operator">=</span> ocupantes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> $<span class="token string">&quot;Matricula: {GetMatricula()}\n&quot;</span>
               <span class="token operator">+</span> $<span class="token string">&quot;Color: {GetColor()}\n&quot;</span>
               <span class="token operator">+</span> $<span class="token string">&quot;Marca: {GetMarca()}\n&quot;</span>
               <span class="token operator">+</span> $<span class="token string">&quot;Ocupantes: {GetOcupantes()}\n&quot;</span>
               <span class="token operator">+</span> $<span class="token string">&quot;Categoria: {GetCategoria()}&quot;</span><span class="token punctuation">;</span>
              <span class="token comment">// Aqu&#xED;, aunque llamemos a GetCategoria() no mostrar&#xE1; siempre SinIdentificar puesto</span>
              <span class="token comment">// que si hay una subclase que invalide el m&#xE9;todo, har&#xE1; un enlace din&#xE1;mico a la </span>
              <span class="token comment">// implementaci&#xF3;n del mismo haga esa subclase.</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">bool</span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword">object</span> obj<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Invalidaci&#xF3;n de Equals de onject, para comparar dos objectos vehiculo por matricula.</span>
        <span class="token keyword">return</span> obj <span class="token keyword">is</span> <span class="token class-name">Vehiculo</span> v <span class="token operator">&amp;&amp;</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">CompareTo</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">int</span> <span class="token function">GetHashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// En ocasiones la invalidaci&#xF3;n de Equals implica la invalidaci&#xF3;n de GetHashCode</span>
        <span class="token comment">// El valos de hash de un vehiculo ser&#xE1; el hash de la cadena de su matr&#xED;cula.</span>
        <span class="token keyword">return</span> <span class="token function">GetMatricula</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetHashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">















<div aria-hidden="true" class="line-highlight" data-range="17" data-start="17">
</div></div><div class="line-highlight-wrapper">





































<div aria-hidden="true" class="line-highlight" data-range="39" data-start="39">
</div></div></pre></li>
</ol>
<div style="page-break-after:always;"></div>
<ol>
<li>
<p>Vamos a realizar las <strong>tres especificaciones de <code>Vehiculo</code></strong> y usaremos <strong>herencia</strong> para ello. Adem&#xE1;s, como comentamos en <strong><code>Vehiculo</code></strong>, definiremos un <strong>tipo enum anidado</strong> <strong><code>Categoria</code></strong> para cada una de las subclasificaciones de veh&#xED;culos.</p>
<p>Es f&#xE1;cil deducir las clasificaciones y los par&#xE1;metros necesarios para definirlas, viendo el programa de ejemplo propuesto en el enunciado y est&#xE1;s ser&#xE1;n <strong><code>Coche</code></strong>, <strong><code>Moto</code></strong> y <strong><code>Camion</code></strong></p>
<p>En todas la implementaciones invalidaremos el m&#xE9;todo <strong><code>object GetCategoria()</code></strong>, que al devolver diferentes tipos enumerados seg&#xFA;n la clasificaci&#xF3;n lo haremos haciendo una sustitici&#xF3;n hacia <strong><code>object</code></strong>.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="254.3023px" preserveAspectRatio="none" style="width:442px;height:254px;" version="1.1" viewBox="0 0 442 254" width="442.6744px" zoomAndPan="magnify"><defs><filter height="300%" id="f11529bqm6tq60" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0930232558139537"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.186046511627907" dy="4.186046511627907" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[1d6438b19b75334de94d74596f8416e5]
class Vehiculo--><rect fill="#FFFAFA" filter="url(#f11529bqm6tq60)" height="33.4884" id="Vehiculo" style="stroke: #000000; stroke-width: 1.5697674418604652;" width="82.6744" x="177.3837" y="8.3721"/><ellipse cx="193.0814" cy="25.1163" fill="#ADD1B2" rx="11.5116" ry="11.5116" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><path d="M195.9757,20.7994 Q196.1392,20.5705 196.3354,20.456 Q196.5316,20.3416 196.7605,20.3416 Q197.153,20.3416 197.3983,20.6195 Q197.6435,20.8812 197.6435,21.5189 L197.6435,23.0396 Q197.6435,23.6773 197.3983,23.9553 Q197.153,24.2333 196.7605,24.2333 Q196.4008,24.2333 196.1882,24.0207 Q195.9757,23.8245 195.8612,23.2849 Q195.8121,22.9088 195.6159,22.7126 Q195.2725,22.3201 194.6348,22.0912 Q193.9971,21.8623 193.343,21.8623 Q192.5418,21.8623 191.8714,22.2057 Q191.2173,22.5491 190.694,23.3339 Q190.1871,24.1188 190.1871,25.198 L190.1871,26.3427 Q190.1871,27.6344 191.1192,28.5011 Q192.0512,29.3514 193.7191,29.3514 Q194.7002,29.3514 195.387,29.0898 Q195.7958,28.9262 196.2373,28.4684 Q196.5153,28.1904 196.6624,28.1086 Q196.8259,28.0269 197.0385,28.0269 Q197.3819,28.0269 197.6435,28.3049 Q197.9215,28.5665 197.9215,28.9262 Q197.9215,29.286 197.5618,29.7111 Q197.0385,30.3161 196.2046,30.6595 Q195.0763,31.1337 193.7191,31.1337 Q192.133,31.1337 190.8739,30.4797 Q189.8438,29.9564 189.1243,28.8445 Q188.4048,27.7162 188.4048,26.3754 L188.4048,25.1653 Q188.4048,23.7754 189.0425,22.5818 Q189.6966,21.3717 190.8412,20.734 Q191.9858,20.0799 193.2776,20.0799 Q194.0461,20.0799 194.7166,20.2598 Q195.4033,20.4233 195.9757,20.7994 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.5581" lengthAdjust="spacingAndGlyphs" textLength="49.186" x="207.7326" y="30.2548">Vehiculo</text><!--MD5=[9e62edc53476c64bb488036abd7b0275]
class Coche--><rect fill="#FFFAFA" filter="url(#f11529bqm6tq60)" height="33.4884" id="Coche" style="stroke: #000000; stroke-width: 1.5697674418604652;" width="71.1628" x="54.4186" y="104.6512"/><ellipse cx="70.1163" cy="121.3953" fill="#ADD1B2" rx="11.5116" ry="11.5116" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><path d="M73.0105,117.0785 Q73.1741,116.8496 73.3703,116.7351 Q73.5665,116.6206 73.7954,116.6206 Q74.1879,116.6206 74.4331,116.8986 Q74.6784,117.1602 74.6784,117.798 L74.6784,119.3187 Q74.6784,119.9564 74.4331,120.2344 Q74.1879,120.5124 73.7954,120.5124 Q73.4357,120.5124 73.2231,120.2998 Q73.0105,120.1036 72.8961,119.564 Q72.847,119.1879 72.6508,118.9916 Q72.3074,118.5992 71.6697,118.3703 Q71.032,118.1414 70.3779,118.1414 Q69.5767,118.1414 68.9063,118.4847 Q68.2522,118.8281 67.7289,119.613 Q67.222,120.3979 67.222,121.4771 L67.222,122.6217 Q67.222,123.9135 68.1541,124.7802 Q69.0861,125.6305 70.754,125.6305 Q71.7351,125.6305 72.4219,125.3688 Q72.8307,125.2053 73.2722,124.7475 Q73.5501,124.4695 73.6973,124.3877 Q73.8608,124.306 74.0734,124.306 Q74.4168,124.306 74.6784,124.5839 Q74.9564,124.8456 74.9564,125.2053 Q74.9564,125.565 74.5967,125.9902 Q74.0734,126.5952 73.2395,126.9386 Q72.1112,127.4128 70.754,127.4128 Q69.1679,127.4128 67.9088,126.7587 Q66.8786,126.2355 66.1592,125.1235 Q65.4397,123.9953 65.4397,122.6544 L65.4397,121.4444 Q65.4397,120.0545 66.0774,118.8608 Q66.7315,117.6508 67.8761,117.0131 Q69.0207,116.359 70.3125,116.359 Q71.081,116.359 71.7515,116.5389 Q72.4382,116.7024 73.0105,117.0785 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.5581" lengthAdjust="spacingAndGlyphs" textLength="37.6744" x="84.7674" y="126.5339">Coche</text><!--MD5=[2b79b7536f4e96f5c913208b633bce6d]
class Moto--><rect fill="#FFFAFA" filter="url(#f11529bqm6tq60)" height="33.4884" id="Moto" style="stroke: #000000; stroke-width: 1.5697674418604652;" width="60.6977" x="188.3721" y="104.6512"/><ellipse cx="204.0698" cy="121.3953" fill="#ADD1B2" rx="11.5116" ry="11.5116" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><path d="M206.964,117.0785 Q207.1275,116.8496 207.3238,116.7351 Q207.52,116.6206 207.7489,116.6206 Q208.1414,116.6206 208.3866,116.8986 Q208.6319,117.1602 208.6319,117.798 L208.6319,119.3187 Q208.6319,119.9564 208.3866,120.2344 Q208.1414,120.5124 207.7489,120.5124 Q207.3892,120.5124 207.1766,120.2998 Q206.964,120.1036 206.8496,119.564 Q206.8005,119.1879 206.6043,118.9916 Q206.2609,118.5992 205.6232,118.3703 Q204.9855,118.1414 204.3314,118.1414 Q203.5302,118.1414 202.8597,118.4847 Q202.2057,118.8281 201.6824,119.613 Q201.1755,120.3979 201.1755,121.4771 L201.1755,122.6217 Q201.1755,123.9135 202.1076,124.7802 Q203.0396,125.6305 204.7075,125.6305 Q205.6886,125.6305 206.3754,125.3688 Q206.7842,125.2053 207.2257,124.7475 Q207.5036,124.4695 207.6508,124.3877 Q207.8143,124.306 208.0269,124.306 Q208.3703,124.306 208.6319,124.5839 Q208.9099,124.8456 208.9099,125.2053 Q208.9099,125.565 208.5501,125.9902 Q208.0269,126.5952 207.193,126.9386 Q206.0647,127.4128 204.7075,127.4128 Q203.1214,127.4128 201.8623,126.7587 Q200.8321,126.2355 200.1126,125.1235 Q199.3932,123.9953 199.3932,122.6544 L199.3932,121.4444 Q199.3932,120.0545 200.0309,118.8608 Q200.685,117.6508 201.8296,117.0131 Q202.9742,116.359 204.266,116.359 Q205.0345,116.359 205.7049,116.5389 Q206.3917,116.7024 206.964,117.0785 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.5581" lengthAdjust="spacingAndGlyphs" textLength="27.2093" x="218.7209" y="126.5339">Moto</text><!--MD5=[3d5715e8ca76bbaa71360b4a707d5f4c]
class Camion--><rect fill="#FFFAFA" filter="url(#f11529bqm6tq60)" height="33.4884" id="Camion" style="stroke: #000000; stroke-width: 1.5697674418604652;" width="79.5349" x="308.7209" y="104.6512"/><ellipse cx="324.4186" cy="121.3953" fill="#ADD1B2" rx="11.5116" ry="11.5116" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><path d="M327.3129,117.0785 Q327.4764,116.8496 327.6726,116.7351 Q327.8688,116.6206 328.0977,116.6206 Q328.4902,116.6206 328.7355,116.8986 Q328.9807,117.1602 328.9807,117.798 L328.9807,119.3187 Q328.9807,119.9564 328.7355,120.2344 Q328.4902,120.5124 328.0977,120.5124 Q327.738,120.5124 327.5254,120.2998 Q327.3129,120.1036 327.1984,119.564 Q327.1493,119.1879 326.9531,118.9916 Q326.6097,118.5992 325.972,118.3703 Q325.3343,118.1414 324.6802,118.1414 Q323.879,118.1414 323.2086,118.4847 Q322.5545,118.8281 322.0313,119.613 Q321.5243,120.3979 321.5243,121.4771 L321.5243,122.6217 Q321.5243,123.9135 322.4564,124.7802 Q323.3884,125.6305 325.0563,125.6305 Q326.0374,125.6305 326.7242,125.3688 Q327.133,125.2053 327.5745,124.7475 Q327.8525,124.4695 327.9996,124.3877 Q328.1632,124.306 328.3757,124.306 Q328.7191,124.306 328.9807,124.5839 Q329.2587,124.8456 329.2587,125.2053 Q329.2587,125.565 328.899,125.9902 Q328.3757,126.5952 327.5418,126.9386 Q326.4135,127.4128 325.0563,127.4128 Q323.4702,127.4128 322.2111,126.7587 Q321.181,126.2355 320.4615,125.1235 Q319.742,123.9953 319.742,122.6544 L319.742,121.4444 Q319.742,120.0545 320.3797,118.8608 Q321.0338,117.6508 322.1784,117.0131 Q323.323,116.359 324.6148,116.359 Q325.3834,116.359 326.0538,116.5389 Q326.7406,116.7024 327.3129,117.0785 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.5581" lengthAdjust="spacingAndGlyphs" textLength="46.0465" x="339.0698" y="126.5339">Camion</text><!--MD5=[42db767e8e8c82816bb91459a30c7c3a]
class CCoche--><rect fill="#FFFAFA" filter="url(#f11529bqm6tq60)" height="42.0567" id="CCoche" style="stroke: #000000; stroke-width: 1.5697674418604652;" width="117.2093" x="6.2791" y="200.9302"/><ellipse cx="21.9767" cy="221.9586" fill="#EB937F" rx="11.5116" ry="11.5116" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><path d="M20.7831,222.7925 L20.7831,225.4088 L25.3125,225.4088 L25.3125,224.444 Q25.3125,223.8063 25.5578,223.5283 Q25.8194,223.2504 26.2118,223.2504 Q26.6043,223.2504 26.8496,223.5283 Q27.0948,223.8063 27.0948,224.444 L27.0948,227.1911 L18.7227,227.1911 Q18.0687,227.1911 17.7907,226.9459 Q17.5291,226.7006 17.5291,226.2918 Q17.5291,225.8993 17.807,225.6541 Q18.085,225.4088 18.7227,225.4088 L19.0007,225.4088 L19.0007,218.443 L18.7227,218.443 Q18.0687,218.443 17.7907,218.1977 Q17.5291,217.9524 17.5291,217.5436 Q17.5291,217.1512 17.7907,216.9059 Q18.0687,216.6606 18.7227,216.6606 L26.7024,216.6606 L26.7024,219.375 Q26.7024,220.0127 26.4571,220.2907 Q26.2282,220.5523 25.8194,220.5523 Q25.427,220.5523 25.1817,220.2907 Q24.9364,220.0127 24.9364,219.375 L24.9364,218.443 L20.7831,218.443 L20.7831,221.0102 L22.3365,221.0102 Q22.3365,220.3234 22.4673,220.1272 Q22.7453,219.702 23.2358,219.702 Q23.6283,219.702 23.8735,219.98 Q24.1188,220.2416 24.1188,220.8794 L24.1188,222.9397 Q24.1188,223.512 23.988,223.7082 Q23.71,224.117 23.2358,224.117 Q22.7453,224.117 22.4673,223.6919 Q22.3365,223.4956 22.3365,222.7925 L20.7831,222.7925 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.5581" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87.907" x="34.5349" y="219.1992">&#xAB;enumeration&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="12.5581" lengthAdjust="spacingAndGlyphs" textLength="56.5116" x="50.2326" y="234.995">Categoria</text><!--MD5=[a2909de2033681619c3ee4d82cc95de5]
class CMoto--><rect fill="#FFFAFA" filter="url(#f11529bqm6tq60)" height="42.0567" id="CMoto" style="stroke: #000000; stroke-width: 1.5697674418604652;" width="117.2093" x="160.1163" y="200.9302"/><ellipse cx="175.814" cy="221.9586" fill="#EB937F" rx="11.5116" ry="11.5116" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><path d="M174.6203,222.7925 L174.6203,225.4088 L179.1497,225.4088 L179.1497,224.444 Q179.1497,223.8063 179.395,223.5283 Q179.6566,223.2504 180.0491,223.2504 Q180.4415,223.2504 180.6868,223.5283 Q180.932,223.8063 180.932,224.444 L180.932,227.1911 L172.56,227.1911 Q171.9059,227.1911 171.6279,226.9459 Q171.3663,226.7006 171.3663,226.2918 Q171.3663,225.8993 171.6443,225.6541 Q171.9222,225.4088 172.56,225.4088 L172.8379,225.4088 L172.8379,218.443 L172.56,218.443 Q171.9059,218.443 171.6279,218.1977 Q171.3663,217.9524 171.3663,217.5436 Q171.3663,217.1512 171.6279,216.9059 Q171.9059,216.6606 172.56,216.6606 L180.5396,216.6606 L180.5396,219.375 Q180.5396,220.0127 180.2943,220.2907 Q180.0654,220.5523 179.6566,220.5523 Q179.2642,220.5523 179.0189,220.2907 Q178.7736,220.0127 178.7736,219.375 L178.7736,218.443 L174.6203,218.443 L174.6203,221.0102 L176.1737,221.0102 Q176.1737,220.3234 176.3045,220.1272 Q176.5825,219.702 177.073,219.702 Q177.4655,219.702 177.7108,219.98 Q177.956,220.2416 177.956,220.8794 L177.956,222.9397 Q177.956,223.512 177.8252,223.7082 Q177.5472,224.117 177.073,224.117 Q176.5825,224.117 176.3045,223.6919 Q176.1737,223.4956 176.1737,222.7925 L174.6203,222.7925 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.5581" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87.907" x="188.3721" y="219.1992">&#xAB;enumeration&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="12.5581" lengthAdjust="spacingAndGlyphs" textLength="56.5116" x="204.0698" y="234.995">Categoria</text><!--MD5=[a35e2299b4b185891aa25a74d31e6344]
class CCamion--><rect fill="#FFFAFA" filter="url(#f11529bqm6tq60)" height="42.0567" id="CCamion" style="stroke: #000000; stroke-width: 1.5697674418604652;" width="117.2093" x="313.9535" y="200.9302"/><ellipse cx="329.6512" cy="221.9586" fill="#EB937F" rx="11.5116" ry="11.5116" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><path d="M328.4575,222.7925 L328.4575,225.4088 L332.9869,225.4088 L332.9869,224.444 Q332.9869,223.8063 333.2322,223.5283 Q333.4938,223.2504 333.8863,223.2504 Q334.2787,223.2504 334.524,223.5283 Q334.7693,223.8063 334.7693,224.444 L334.7693,227.1911 L326.3972,227.1911 Q325.7431,227.1911 325.4651,226.9459 Q325.2035,226.7006 325.2035,226.2918 Q325.2035,225.8993 325.4815,225.6541 Q325.7594,225.4088 326.3972,225.4088 L326.6751,225.4088 L326.6751,218.443 L326.3972,218.443 Q325.7431,218.443 325.4651,218.1977 Q325.2035,217.9524 325.2035,217.5436 Q325.2035,217.1512 325.4651,216.9059 Q325.7431,216.6606 326.3972,216.6606 L334.3768,216.6606 L334.3768,219.375 Q334.3768,220.0127 334.1315,220.2907 Q333.9026,220.5523 333.4938,220.5523 Q333.1014,220.5523 332.8561,220.2907 Q332.6108,220.0127 332.6108,219.375 L332.6108,218.443 L328.4575,218.443 L328.4575,221.0102 L330.0109,221.0102 Q330.0109,220.3234 330.1417,220.1272 Q330.4197,219.702 330.9102,219.702 Q331.3027,219.702 331.548,219.98 Q331.7932,220.2416 331.7932,220.8794 L331.7932,222.9397 Q331.7932,223.512 331.6624,223.7082 Q331.3844,224.117 330.9102,224.117 Q330.4197,224.117 330.1417,223.6919 Q330.0109,223.4956 330.0109,222.7925 L328.4575,222.7925 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.5581" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87.907" x="342.2093" y="219.1992">&#xAB;enumeration&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="12.5581" lengthAdjust="spacingAndGlyphs" textLength="56.5116" x="357.907" y="234.995">Categoria</text><!--MD5=[c27f9def16ac3f9a7e2a4e6489f83475]
reverse link Vehiculo to Coche--><path d="M180.1706,54.3705 C157.7386,70.784 130.2938,90.8655 111.6157,104.5329 " fill="none" id="Vehiculo&lt;-Coche" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><polygon fill="none" points="175.9584,48.375,197.1764,41.9274,184.6109,60.1985,175.9584,48.375" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><!--MD5=[a2222a7c2eb37bcc58db55aaeb96f0f7]
reverse link Coche to CCoche--><path d="M82.0646,153.5222 C78.1351,168.9128 73.5037,187.0522 70.0403,200.6174 " fill="none" id="Coche&lt;-CCoche" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><ellipse cx="83.8935" cy="146.3589" fill="#FFFFFF" rx="8.3721" ry="8.3721" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><line style="stroke: #000000; stroke-width: 1.0465116279069768;" x1="81.8223" x2="85.9647" y1="154.4707" y2="138.247"/><line style="stroke: #000000; stroke-width: 1.0465116279069768;" x1="75.7816" x2="92.0053" y1="144.2877" y2="148.43"/><!--MD5=[0881991697586410200a261a3c8efb5b]
reverse link Vehiculo to Moto--><path d="M218.7209,63.4343 C218.7209,77.7663 218.7209,93.3698 218.7209,104.6072 " fill="none" id="Vehiculo&lt;-Moto" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><polygon fill="none" points="211.3953,63.0701,218.7209,42.1399,226.0465,63.0701,211.3953,63.0701" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><!--MD5=[2b9ab2ce91b1cb214672175fa966dbec]
reverse link Moto to CMoto--><path d="M218.7209,154.0143 C218.7209,169.2983 218.7209,187.1965 218.7209,200.6174 " fill="none" id="Moto&lt;-CMoto" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><ellipse cx="218.721" cy="146.6191" fill="#FFFFFF" rx="8.3721" ry="8.3721" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><line style="stroke: #000000; stroke-width: 1.0465116279069768;" x1="218.7211" x2="218.7209" y1="154.9912" y2="138.247"/><line style="stroke: #000000; stroke-width: 1.0465116279069768;" x1="210.3489" x2="227.0931" y1="146.6192" y2="146.619"/><!--MD5=[502656c0fa51d076f56c9a61e2fecab8]
reverse link Vehiculo to Camion--><path d="M257.5852,54.3705 C280.1993,70.784 307.867,90.8655 326.6969,104.5329 " fill="none" id="Vehiculo&lt;-Camion" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><polygon fill="none" points="253.0769,60.1503,240.4413,41.9274,261.6834,48.2934,253.0769,60.1503" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><!--MD5=[2a8480d69d3992221c4ec03d9eb53df2]
reverse link Camion to CCamion--><path d="M356.0934,153.5222 C359.8587,168.9128 364.297,187.0522 367.6165,200.6174 " fill="none" id="Camion&lt;-CCamion" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><ellipse cx="354.3451" cy="146.3792" fill="#FFFFFF" rx="8.3721" ry="8.3721" style="stroke: #000000; stroke-width: 1.0465116279069768;"/><line style="stroke: #000000; stroke-width: 1.0465116279069768;" x1="356.335" x2="352.3552" y1="154.5114" y2="138.247"/><line style="stroke: #000000; stroke-width: 1.0465116279069768;" x1="346.2129" x2="362.4773" y1="148.3691" y2="144.3893"/><!--MD5=[2c5c14a87f7217717285503c996ab771]
@startuml
scale 450 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide members
hide attributes

class Vehiculo
class Coche
class Moto
class Camion
enum "Categoria" as CCoche <<enumeration>>
enum "Categoria" as CMoto <<enumeration>>
enum "Categoria" as CCamion <<enumeration>>

Vehiculo ^- - Coche
Coche +- - CCoche
Vehiculo ^- - Moto
Moto +- - CMoto
Vehiculo ^- - Camion
Camion +- - CCamion

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Coche</span> <span class="token punctuation">:</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> Categoria <span class="token punctuation">{</span> SinIdentificar<span class="token punctuation">,</span> Berlina<span class="token punctuation">,</span> Coupe<span class="token punctuation">,</span> Sedan<span class="token punctuation">,</span> Cabrio<span class="token punctuation">,</span> TodoTerreno<span class="token punctuation">,</span> MonoVolumen<span class="token punctuation">,</span> Crossover <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">object</span> <span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Coche</span><span class="token punctuation">(</span><span class="token class-name">Matricula</span> matricula<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">,</span> <span class="token keyword">ushort</span> ocupantes<span class="token punctuation">,</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">)</span>
           <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>matricula<span class="token punctuation">,</span> color<span class="token punctuation">,</span> marca<span class="token punctuation">,</span> ocupantes<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>categoria <span class="token operator">=</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Moto</span> <span class="token punctuation">:</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> Categoria <span class="token punctuation">{</span> SinIdentificar<span class="token punctuation">,</span> Scooter<span class="token punctuation">,</span> Motocross<span class="token punctuation">,</span> Naked<span class="token punctuation">,</span> Trail<span class="token punctuation">,</span> Supermotard <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">object</span> <span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Moto</span><span class="token punctuation">(</span><span class="token class-name">Matricula</span> matricula<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">,</span> <span class="token keyword">ushort</span> ocupantes<span class="token punctuation">,</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">)</span>
           <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>matricula<span class="token punctuation">,</span> color<span class="token punctuation">,</span> marca<span class="token punctuation">,</span> ocupantes<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>categoria <span class="token operator">=</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre> <div style="page-break-after:always;"></div>
<p>Adem&#xE1;s en la especificaci&#xF3;n de cami&#xF3;n, a&#xF1;adiremos los atributos adicionales que puede identificar nuestra IA seg&#xFA;n las especificaciones.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Camion</span> <span class="token punctuation">:</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> Categoria <span class="token punctuation">{</span> SinIdentificar<span class="token punctuation">,</span> Articulado<span class="token punctuation">,</span> Frigor&#xED;fico<span class="token punctuation">,</span> Cisterna<span class="token punctuation">,</span> Trailer <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">ushort</span> ejes<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">ushort</span> cargaMaximaKg<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Camion</span><span class="token punctuation">(</span><span class="token class-name">Matricula</span> matricula<span class="token punctuation">,</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token class-name">Marca</span> marca<span class="token punctuation">,</span> <span class="token keyword">ushort</span> ocupantes<span class="token punctuation">,</span> <span class="token keyword">ushort</span> ejes<span class="token punctuation">,</span> <span class="token keyword">ushort</span> cargaMaximaKg<span class="token punctuation">,</span> <span class="token class-name">Categoria</span> categoria<span class="token punctuation">)</span>
        <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>matricula<span class="token punctuation">,</span> color<span class="token punctuation">,</span> marca<span class="token punctuation">,</span> ocupantes<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ejes <span class="token operator">=</span> ejes<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cargaMaximaKg <span class="token operator">=</span> cargaMaximaKg<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>categoria <span class="token operator">=</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">ushort</span> <span class="token function">GetEjes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ejes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">ushort</span> <span class="token function">GetCargaMaximaKg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> cargaMaximaKg<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">object</span> <span class="token function">GetCategoria</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> categoria<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// En este caso el ToString s&#xED; deberemos invalidarlo, pues deber&#xE1; mostrar informaci&#xF3;n adicional.</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> $<span class="token string">&quot;{base.ToString()}\n&quot;</span>
               <span class="token operator">+</span> $<span class="token string">&quot;N&#xFA;mero de ejes: {GetEjes()}\n&quot;</span>
               <span class="token operator">+</span> $<span class="token string">&quot;Carga M&#xE1;xima: {GetCargaMaximaKg()} Kg&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</pre></li>
<li>
<p>Por &#xFA;ltimo vamos a modelar una clase para nuestra campa de veh&#xED;culos. Una posible modelizaci&#xF3;n para las especificaciones del enunciado y donde se ha seguido la signatura propuesta para las operaciones del objeto campa en el programa de ejemplo, podr&#xED;a ser la siguente...</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="224.1551px" preserveAspectRatio="none" style="width:542px;height:224px;" version="1.1" viewBox="0 0 542 224" width="542.3459px" zoomAndPan="magnify"><defs><filter height="300%" id="f6reegmy3jw7t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.1868787276341948"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.3737574552683895" dy="4.3737574552683895" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[1d6438b19b75334de94d74596f8416e5]
class Vehiculo--><rect fill="#FFFAFA" filter="url(#f6reegmy3jw7t)" height="34.9901" id="Vehiculo" style="stroke: #000000; stroke-width: 1.640159045725646;" width="86.3817" x="443.9364" y="92.9423"/><ellipse cx="460.338" cy="110.4374" fill="#ADD1B2" rx="12.0278" ry="12.0278" style="stroke: #000000; stroke-width: 1.0934393638170974;"/><path d="M463.362,105.9269 Q463.5329,105.6877 463.7379,105.5682 Q463.9429,105.4486 464.1821,105.4486 Q464.5921,105.4486 464.8484,105.739 Q465.1047,106.0124 465.1047,106.6787 L465.1047,108.2676 Q465.1047,108.9339 464.8484,109.2243 Q464.5921,109.5148 464.1821,109.5148 Q463.8062,109.5148 463.5841,109.2927 Q463.362,109.0877 463.2424,108.5239 Q463.1912,108.1309 462.9861,107.9259 Q462.6274,107.5158 461.961,107.2767 Q461.2947,107.0375 460.6113,107.0375 Q459.7742,107.0375 459.0737,107.3962 Q458.3903,107.755 457.8436,108.5751 Q457.3139,109.3952 457.3139,110.5228 L457.3139,111.7188 Q457.3139,113.0685 458.2878,113.974 Q459.2616,114.8624 461.0043,114.8624 Q462.0294,114.8624 462.747,114.589 Q463.1741,114.4182 463.6354,113.9398 Q463.9258,113.6494 464.0796,113.5639 Q464.2504,113.4785 464.4725,113.4785 Q464.8313,113.4785 465.1047,113.7689 Q465.3951,114.0423 465.3951,114.4182 Q465.3951,114.794 465.0193,115.2383 Q464.4725,115.8704 463.6012,116.2292 Q462.4223,116.7247 461.0043,116.7247 Q459.347,116.7247 458.0315,116.0413 Q456.9551,115.4945 456.2034,114.3328 Q455.4517,113.1539 455.4517,111.7529 L455.4517,110.4886 Q455.4517,109.0364 456.118,107.7892 Q456.8014,106.5249 457.9973,105.8586 Q459.1933,105.1752 460.543,105.1752 Q461.346,105.1752 462.0465,105.3631 Q462.764,105.534 463.362,105.9269 Z "/><text fill="#000000" font-family="sans-serif" font-size="13.1213" lengthAdjust="spacingAndGlyphs" textLength="51.3917" x="475.6461" y="115.8063">Vehiculo</text><!--MD5=[18656988134bac11598ac17fe8b0ddca]
class CampaVehiculos--><rect fill="#FFFAFA" filter="url(#f6reegmy3jw7t)" height="203.7727" id="CampaVehiculos" style="stroke: #000000; stroke-width: 1.640159045725646;" width="371.7694" x="6.5606" y="8.7475"/><ellipse cx="135.8598" cy="26.2425" fill="#ADD1B2" rx="12.0278" ry="12.0278" style="stroke: #000000; stroke-width: 1.0934393638170974;"/><path d="M138.8839,21.7321 Q139.0547,21.4929 139.2598,21.3733 Q139.4648,21.2537 139.704,21.2537 Q140.114,21.2537 140.3703,21.5442 Q140.6266,21.8175 140.6266,22.4838 L140.6266,24.0728 Q140.6266,24.7391 140.3703,25.0295 Q140.114,25.32 139.704,25.32 Q139.3281,25.32 139.106,25.0979 Q138.8839,24.8928 138.7643,24.329 Q138.713,23.9361 138.508,23.7311 Q138.1492,23.321 137.4829,23.0818 Q136.8166,22.8426 136.1332,22.8426 Q135.296,22.8426 134.5956,23.2014 Q133.9122,23.5602 133.3654,24.3803 Q132.8358,25.2004 132.8358,26.328 L132.8358,27.5239 Q132.8358,28.8736 133.8096,29.7791 Q134.7835,30.6676 136.5262,30.6676 Q137.5513,30.6676 138.2688,30.3942 Q138.6959,30.2233 139.1572,29.745 Q139.4477,29.4545 139.6015,29.3691 Q139.7723,29.2837 139.9944,29.2837 Q140.3532,29.2837 140.6266,29.5741 Q140.917,29.8475 140.917,30.2233 Q140.917,30.5992 140.5411,31.0434 Q139.9944,31.6756 139.1231,32.0344 Q137.9442,32.5298 136.5262,32.5298 Q134.8689,32.5298 133.5534,31.8464 Q132.477,31.2997 131.7253,30.1379 Q130.9735,28.9591 130.9735,27.5581 L130.9735,26.2938 Q130.9735,24.8416 131.6398,23.5944 Q132.3232,22.3301 133.5192,21.6638 Q134.7151,20.9804 136.0649,20.9804 Q136.8679,20.9804 137.5683,21.1683 Q138.2859,21.3392 138.8839,21.7321 Z "/><text fill="#000000" font-family="sans-serif" font-size="13.1213" lengthAdjust="spacingAndGlyphs" textLength="103.8767" x="158.2753" y="31.6115">CampaVehiculos</text><line style="stroke: #000000; stroke-width: 1.640159045725646;" x1="7.6541" x2="377.2366" y1="43.7376" y2="43.7376"/><text fill="#000000" font-family="sans-serif" font-size="12.0278" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="173.8569" x="13.1213" y="60.5973">+CAPACIDAD : int = 5 {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.0278" lengthAdjust="spacingAndGlyphs" textLength="227.4354" x="13.1213" y="75.726">-plazas : Vehiculo[CAPACIDAD] {readOnly}</text><line style="stroke: #000000; stroke-width: 1.640159045725646;" x1="7.6541" x2="377.2366" y1="82.7426" y2="82.7426"/><text fill="#000000" font-family="sans-serif" font-size="12.0278" lengthAdjust="spacingAndGlyphs" textLength="103.8767" x="13.1213" y="99.6023">+CampaVehiculos()</text><text fill="#000000" font-family="sans-serif" font-size="12.0278" lengthAdjust="spacingAndGlyphs" textLength="194.6322" x="13.1213" y="114.731">-GetPlazas() : Vehiculo[CAPACIDAD]</text><text fill="#000000" font-family="sans-serif" font-size="12.0278" lengthAdjust="spacingAndGlyphs" textLength="148.7078" x="13.1213" y="129.8598">/+GetPlazasOcupadas() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.0278" lengthAdjust="spacingAndGlyphs" textLength="143.2406" x="13.1213" y="144.9886">-Busca(in v : Vehiculo) : int</text><text fill="#000000" font-family="sans-serif" font-size="12.0278" lengthAdjust="spacingAndGlyphs" textLength="127.9324" x="13.1213" y="160.1173">-BuscaPlazaVacia() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.0278" lengthAdjust="spacingAndGlyphs" textLength="358.6481" x="13.1213" y="175.2461">+Entra(in v : Vehiculo, out plaza : int, out problema : string) : boolean</text><text fill="#000000" font-family="sans-serif" font-size="12.0278" lengthAdjust="spacingAndGlyphs" textLength="354.2744" x="13.1213" y="190.3748">+Sale(in v : Vehiculo, out plaza : int, out problema : string) : boolean</text><text fill="#000000" font-family="sans-serif" font-size="12.0278" lengthAdjust="spacingAndGlyphs" textLength="103.8767" x="13.1213" y="205.5036">^+ToString() : string</text><!--MD5=[723b90ff1633580b852d49b542523bc7]
reverse link CampaVehiculos to Vehiculo--><path d="M392.7044,110.4374 C411.6099,110.4374 429.1509,110.4374 443.8041,110.4374 " fill="none" id="CampaVehiculos&lt;-Vehiculo" style="stroke: #000000; stroke-width: 1.0934393638170974;"/><polygon fill="#FFFFFF" points="378.365,110.4374,384.9256,114.8111,391.4863,110.4374,384.9256,106.0636,378.365,110.4374" style="stroke: #000000; stroke-width: 1.0934393638170974;"/><text fill="#000000" font-family="sans-serif" font-size="14.2147" lengthAdjust="spacingAndGlyphs" textLength="24.0557" x="411.2728" y="126.5624">0..5</text><!--MD5=[8cf2b016e2d7ced8e3f15d812859243d]
@startuml
scale 550 width
left to right direction
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow
   
hide Vehiculo members
hide Vehiculo attributes

class CampaVehiculos
{
    {static} +CAPACIDAD : int = 5 {readOnly}
    -plazas : Vehiculo[CAPACIDAD] {readOnly}
    +CampaVehiculos()
    -GetPlazas() : Vehiculo[CAPACIDAD]
    /+GetPlazasOcupadas() : int
    -Busca(in v : Vehiculo) : int
    -BuscaPlazaVacia() : int 
    +Entra(in v : Vehiculo, out plaza : int, out problema : string) : boolean
    +Sale(in v : Vehiculo, out plaza : int, out problema : string) : boolean
    ^+ToString() : string
}

CampaVehiculos o- - "0..5" Vehiculo

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p>Veamos la implementaci&#xF3;n comentada ....</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">CampaVehiculos</span>
<span class="token punctuation">{</span>
    <span class="token comment">// campo de clase y de solo lectura con un valor literal en C# se define con un const</span>
    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token keyword">int</span> CAPACIDAD <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token comment">// El array aunque sea del tipo Vehiculo, realmente va a representar las 5 plazas</span>
    <span class="token comment">// disponibles en la campa. Si hay un null significar&#xE1; que la plaza est&#xE1; vac&#xED;a y </span>
    <span class="token comment">// si hay un objeto Vehiculo la plaza estar&#xE1; ocupada.</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> Vehiculo<span class="token punctuation">[</span><span class="token punctuation">]</span> plazas<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">CampaVehiculos</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        plazas <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vehiculo</span><span class="token punctuation">[</span><span class="token class-name">CAPACIDAD</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> Vehiculo<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> plazas<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</pre> <div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp">    <span class="token comment">// Es un accesor calculado que me indica el n&#xFA;mero de plazas que contienen un veh&#xED;culo.</span>
    <span class="token comment">// Nota: Por eso lo hemos marcado con la / delante del nombre del m&#xE9;todo en el diagrama UML.</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">GetPlazasOcupadas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">int</span> ocupadas <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v <span class="token keyword">in</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> ocupadas<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> ocupadas<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Implementaci&#xF3;n de la especificaci&#xF3;n del Busca</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">Busca</span><span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> i<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Implementaci&#xF3;n de la especificaci&#xF3;n del BuscaPlazaVacia</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">BuscaPlazaVacia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> i<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Operaci&#xF3;n de entrada de un veh&#xED;culo en un ojeto campa.</span>
    <span class="token comment">// Devolver&#xE1; un booleano indic&#xE1;ndome si el veh&#xED;culo ha podido entrar o no</span>
    <span class="token comment">// y dos valores subordinados al mismo:</span>
    <span class="token comment">// - Si retorna true en plaza nos indicar&#xE1; la plaza de 1 a 5 donde a entrado.</span>
    <span class="token comment">// - Si retorna false en problema nos indicar&#xE1; el problema por el que no ha podido entrar.</span>
    <span class="token keyword">public</span> <span class="token keyword">bool</span> <span class="token function">Entra</span><span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token keyword">int</span> plaza<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token keyword">string</span> problema<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Compruebo que haya espacio en la campa.</span>
        <span class="token keyword">bool</span> entra <span class="token operator">=</span> <span class="token function">GetPlazasOcupadas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> CAPACIDAD<span class="token punctuation">;</span>
        plaza <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        problema <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>entra<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Si hay espacio compruebo que el veh&#xED;culo no est&#xE9; ya registrado.</span>
            <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">Busca</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
            entra <span class="token operator">=</span> i <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>entra<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token comment">// Si no est&#xE1; registrado busco la primera plaza vac&#xED;a para aparcarlo</span>
                plaza <span class="token operator">=</span> <span class="token function">BuscaPlazaVacia</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>plaza <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
                problema <span class="token operator">=</span> $<span class="token string">&quot;Ya se encuentra en el aparcamiento el veh&#xED;culo {v.GetMatricula()}&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
            problema <span class="token operator">=</span> <span class="token string">&quot;Aparcamiento lleno&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> entra<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</pre> <div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp">    <span class="token comment">// Operaci&#xF3;n an&#xE1;loga y contr&#xE1;ria a la de Entra.</span>
    <span class="token keyword">public</span> <span class="token keyword">bool</span> <span class="token function">Sale</span><span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token keyword">int</span> plaza<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token keyword">string</span> problema<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Compruebo que al menos haya un veh&#xED;culo aparcado.</span>
        <span class="token keyword">bool</span> sale <span class="token operator">=</span> <span class="token function">GetPlazasOcupadas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
        problema <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        plaza <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>sale<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Compruebo que el veh&#xED;culo que deseamos que salga estaba registrado como aparcado.</span>
            <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">Busca</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
            sale <span class="token operator">=</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>sale<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token comment">// Dejo su plaza vac&#xED;a asign&#xE1;ndole null.</span>
                plaza <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
                problema <span class="token operator">=</span> $<span class="token string">&quot;No se registr&#xF3; la entrada del veh&#xED;culo {v.GetMatricula()}&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
            problema <span class="token operator">=</span> <span class="token string">&quot;Aparcamiento vac&#xED;o&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> sale<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> texto <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">&quot;\nVeh&#xED;culos en el aparcamiento...\n\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name">Vehiculo</span> v <span class="token operator">=</span> <span class="token function">GetPlazas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">// Es importante tener en cuenta que en el array puede haber plazas sin veh&#xED;culo (a null)</span>
            texto<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>$<span class="token string">&quot;Plaza {i + 1}:\n{(v != null ? GetPlazas()[i].ToString() : &quot;</span>Vac&#xED;a<span class="token string">&quot;)}\n\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> texto<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
</ol>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="abstracci%C3%B3n">Abstracci&#xF3;n</h3>

<h4 class="mume-header" id="concepto-de-clase-asbtracta">Concepto de clase asbtracta</h4>

<ul>
<li>En la mayor&#xED;a de los casos, al buscar el polimorfismo con la herencia se nos dar&#xE1;n <strong>superclases que no tienen sentido como objetos</strong>.</li>
<li>A este tipo de clases se les denominar&#xE1; <strong>Clases Abstractas</strong> y de las mismas <strong>no podremos definir objetos</strong>, y s&#xED; objetos para sus subclases.</li>
</ul>
<p align="center" style="zoom:0.85"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="398pt" height="260pt" viewBox="0.00 0.00 397.50 260.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 256)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-256 393.5,-256 393.5,4 -4,4"/>
<!-- f -->
<g id="node1" class="node">
<title>f</title>
<polygon fill="none" stroke="#000000" stroke-dasharray="5,2" points="196.6606,-144.148 200.0773,-144.4436 203.4587,-144.886 206.791,-145.474 210.0606,-146.206 213.2545,-147.0799 216.36,-148.0934 219.3651,-149.2437 222.2583,-150.5276 225.0289,-151.9416 227.667,-153.4819 230.1633,-155.1442 232.5095,-156.924 234.6982,-158.8164 236.7228,-160.8161 238.578,-162.9178 240.259,-165.1156 241.7622,-167.4036 243.0851,-169.7754 244.2259,-172.2246 245.1838,-174.7444 245.9592,-177.328 246.5529,-179.9683 246.9671,-182.6579 247.2043,-185.3896 247.2681,-188.1559 247.1628,-190.9492 246.893,-193.7618 246.4642,-196.586 245.8824,-199.414 245.154,-202.2382 244.2856,-205.0508 243.2844,-207.8441 242.1575,-210.6104 240.9126,-213.3421 239.5571,-216.0317 238.0986,-218.672 236.5447,-221.2556 234.9028,-223.7754 233.1802,-226.2246 231.3841,-228.5964 229.5213,-230.8844 227.5984,-233.0822 225.6216,-235.1839 223.5969,-237.1836 221.5299,-239.076 219.4256,-240.8558 217.2889,-242.5181 215.1241,-244.0584 212.9353,-245.4724 210.726,-246.7563 208.4995,-247.9066 206.2587,-248.9201 204.0062,-249.794 201.7442,-250.526 199.4749,-251.114 197.2002,-251.5564 194.9216,-251.852 192.6408,-252 190.3592,-252 188.0784,-251.852 185.7998,-251.5564 183.5251,-251.114 181.2558,-250.526 178.9938,-249.794 176.7413,-248.9201 174.5005,-247.9066 172.274,-246.7563 170.0647,-245.4724 167.8759,-244.0584 165.7111,-242.5181 163.5744,-240.8558 161.4701,-239.076 159.4031,-237.1836 157.3784,-235.1839 155.4016,-233.0822 153.4787,-230.8844 151.6159,-228.5964 149.8198,-226.2246 148.0972,-223.7754 146.4553,-221.2556 144.9014,-218.672 143.4429,-216.0317 142.0874,-213.3421 140.8425,-210.6104 139.7156,-207.8441 138.7144,-205.0508 137.846,-202.2382 137.1176,-199.414 136.5358,-196.586 136.107,-193.7618 135.8372,-190.9492 135.7319,-188.1559 135.7957,-185.3896 136.0329,-182.6579 136.4471,-179.9683 137.0408,-177.328 137.8162,-174.7444 138.7741,-172.2246 139.9149,-169.7754 141.2378,-167.4036 142.741,-165.1156 144.422,-162.9178 146.2772,-160.8161 148.3018,-158.8164 150.4905,-156.924 152.8367,-155.1442 155.333,-153.4819 157.9711,-151.9416 160.7417,-150.5276 163.6349,-149.2437 166.64,-148.0934 169.7455,-147.0799 172.9394,-146.206 176.209,-145.474 179.5413,-144.886 182.9227,-144.4436 186.3394,-144.148 189.7774,-144 193.2226,-144 196.6606,-144.148"/>
<text text-anchor="middle" x="191.5" y="-210.6" font-family="Arial" font-size="14.00" fill="#000000">Figura</text>
<text text-anchor="middle" x="191.5" y="-193.8" font-family="Arial" font-size="14.00" fill="#000000">Geom&#xE9;trica</text>
<text text-anchor="middle" x="191.5" y="-177" font-family="Arial" font-size="14.00" fill="#000000">???</text>
</g>
<!-- cu -->
<g id="node2" class="node">
<title>cu</title>
<polygon fill="#8b1a1a" stroke="#000000" points="101,-104.5 0,-104.5 0,-3.5 101,-3.5 101,-104.5"/>
<text text-anchor="middle" x="50.5" y="-49.8" font-family="Arial" font-size="14.00" fill="#ffffff">Cuadrado</text>
</g>
<!-- f&#45;&#45;cu -->
<g id="edge1" class="edge">
<title>f--cu</title>
<path fill="none" stroke="#000000" d="M150.717,-156.3492C134.9383,-140.2349 116.7288,-121.6379 100.1958,-104.7532"/>
</g>
<!-- ti -->
<g id="node3" class="node">
<title>ti</title>
<polygon fill="#000080" stroke="#000000" points="191.5,-104.5 119.5,-54 191.5,-3.5 263.5,-54 191.5,-104.5"/>
<text text-anchor="middle" x="191.5" y="-49.8" font-family="Arial" font-size="14.00" fill="#ffffff">Rombo</text>
</g>
<!-- f&#45;&#45;ti -->
<g id="edge2" class="edge">
<title>f--ti</title>
<path fill="none" stroke="#000000" d="M191.5,-143.97C191.5,-131.0415 191.5,-117.2871 191.5,-104.5238"/>
</g>
<!-- ci -->
<g id="node4" class="node">
<title>ci</title>
<ellipse fill="#006400" stroke="#000000" cx="335.5" cy="-54" rx="54" ry="54"/>
<text text-anchor="middle" x="335.5" y="-49.8" font-family="Arial" font-size="14.00" fill="#ffffff">C&#xED;rculo</text>
</g>
<!-- f&#45;&#45;ci -->
<g id="edge3" class="edge">
<title>f--ci</title>
<path fill="none" stroke="#000000" d="M232.7646,-156.7354C253.0432,-136.4568 277.3262,-112.1738 297.1913,-92.3087"/>
</g>
</g>
</svg>
</p><p>&#x270B; En la POO tradicional diremos que:</p>
<ul>
<li>C&#xF3;mo hemos comentado, no podremos <strong>instanciar objetos</strong> de una clase abstracta, pues no tiene sentido la existencia de dicha abstracci&#xF3;n sin una especificaci&#xF3;n.</li>
<li>Deber&#xED;an, pero no es necesario, tener <strong>al menos un campo</strong> (atributo) com&#xFA;n a todas las subclases.</li>
<li>Deber&#xED;an, pero no es necesario, tener <strong>al menos un m&#xE9;todo abstracto o virtual puro</strong>.
<ul>
<li>Un <strong>m&#xE9;todo abstracto</strong> o virtual puro no definir&#xE1; o tendr&#xE1; un &apos;<em>cuerpo de m&#xE9;todo</em>&apos; y por tanto dejaremos su implementaci&#xF3;n en manos de las subclases o especificaciones.</li>
<li>Este m&#xE9;todo abstracto deber&#xE1; ser redefinido <strong>obligatoriamente</strong> en la subclases.</li>
</ul>
</li>
<li>A las clases abstractas con <strong>todos sus m&#xE9;todos abstractos</strong> se les denomina <em>&apos;<strong>clases abstractas puras</strong>&apos;</em>.</li>
</ul>
<p>Un posible modelo de clases para representar la jerarqu&#xED;a de figuras representada en el diagrama anterior podr&#xED;a ser el siguiente:</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="487.156px" preserveAspectRatio="none" style="width:892px;height:487px;" version="1.1" viewBox="0 0 892 487" width="892.7752px" zoomAndPan="magnify"><defs><filter height="300%" id="f1872m0ifem6f4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0642201834862384"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.128440366972477" dy="4.128440366972477" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[d3f3dbaf12f0f49c0b0b8bc4de8860e2]
class Cuadrado--><rect fill="#FFFAFA" filter="url(#f1872m0ifem6f4)" height="149.5028" id="Cuadrado" style="stroke: #000000; stroke-width: 1.5481651376146788;" width="247.7064" x="6.1927" y="297.7638"/><ellipse cx="97.2764" cy="314.2775" fill="#ADD1B2" rx="11.3532" ry="11.3532" style="stroke: #000000; stroke-width: 1.0321100917431192;"/><path d="M100.1308,310.0201 Q100.2921,309.7943 100.4856,309.6814 Q100.6791,309.5685 100.9049,309.5685 Q101.2919,309.5685 101.5338,309.8427 Q101.7757,310.1007 101.7757,310.7296 L101.7757,312.2294 Q101.7757,312.8584 101.5338,313.1325 Q101.2919,313.4067 100.9049,313.4067 Q100.5501,313.4067 100.3405,313.197 Q100.1308,313.0035 100.0179,312.4713 Q99.9695,312.1004 99.776,311.9069 Q99.4374,311.5199 98.8084,311.2941 Q98.1795,311.0683 97.5344,311.0683 Q96.7442,311.0683 96.083,311.407 Q95.4379,311.7456 94.9219,312.5197 Q94.4219,313.2938 94.4219,314.3582 L94.4219,315.487 Q94.4219,316.761 95.3412,317.6158 Q96.2604,318.4543 97.9053,318.4543 Q98.8729,318.4543 99.5502,318.1963 Q99.9534,318.035 100.3888,317.5835 Q100.663,317.3093 100.8081,317.2287 Q100.9694,317.1481 101.179,317.1481 Q101.5177,317.1481 101.7757,317.4222 Q102.0499,317.6803 102.0499,318.035 Q102.0499,318.3898 101.6951,318.8091 Q101.179,319.4058 100.3566,319.7445 Q99.2438,320.2122 97.9053,320.2122 Q96.341,320.2122 95.0993,319.5671 Q94.0833,319.051 93.3737,317.9544 Q92.6641,316.8417 92.6641,315.5193 L92.6641,314.3259 Q92.6641,312.9551 93.2931,311.7779 Q93.9381,310.5845 95.067,309.9556 Q96.1959,309.3105 97.4699,309.3105 Q98.2279,309.3105 98.889,309.4879 Q99.5664,309.6492 100.1308,310.0201 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.3853" lengthAdjust="spacingAndGlyphs" textLength="56.7661" x="118.4346" y="319.3453">Cuadrado</text><line style="stroke: #000000; stroke-width: 1.5481651376146788;" x1="7.2248" x2="252.867" y1="330.7913" y2="330.7913"/><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="87.7294" x="12.3853" y="346.7053">-lado_cm : double</text><line style="stroke: #000000; stroke-width: 1.5481651376146788;" x1="7.2248" x2="252.867" y1="353.3284" y2="353.3284"/><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="180.6193" x="12.3853" y="369.2424">+SetLado(in lado_cm : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="97.0183" x="12.3853" y="383.5226">-GetLado() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="235.3211" x="12.3853" y="397.8028">+Cuadrado(in color : Color, in lado_cm : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="86.6972" x="12.3853" y="412.0831">^+Area() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="108.3716" x="12.3853" y="426.3633">^+Perimetro() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="98.0505" x="12.3853" y="440.6435">^+ToString() : string</text><!--MD5=[9d2b52a1e7927df2b86d813b5ca29c38]
class Rombo--><rect fill="#FFFAFA" filter="url(#f1872m0ifem6f4)" height="206.6236" id="Rombo" style="stroke: #000000; stroke-width: 1.5481651376146788;" width="317.8899" x="290.0229" y="269.3807"/><ellipse cx="423.4232" cy="285.8945" fill="#ADD1B2" rx="11.3532" ry="11.3532" style="stroke: #000000; stroke-width: 1.0321100917431192;"/><path d="M426.2776,281.637 Q426.4389,281.4113 426.6324,281.2984 Q426.8259,281.1855 427.0517,281.1855 Q427.4387,281.1855 427.6806,281.4596 Q427.9225,281.7177 427.9225,282.3466 L427.9225,283.8464 Q427.9225,284.4753 427.6806,284.7495 Q427.4387,285.0237 427.0517,285.0237 Q426.6969,285.0237 426.4872,284.814 Q426.2776,284.6205 426.1647,284.0883 Q426.1163,283.7174 425.9228,283.5239 Q425.5841,283.1368 424.9552,282.9111 Q424.3263,282.6853 423.6812,282.6853 Q422.891,282.6853 422.2298,283.0239 Q421.5847,283.3626 421.0687,284.1367 Q420.5687,284.9108 420.5687,285.9751 L420.5687,287.104 Q420.5687,288.378 421.488,289.2327 Q422.4072,290.0713 424.0521,290.0713 Q425.0197,290.0713 425.697,289.8133 Q426.1002,289.652 426.5356,289.2005 Q426.8098,288.9263 426.9549,288.8457 Q427.1162,288.7651 427.3258,288.7651 Q427.6645,288.7651 427.9225,289.0392 Q428.1967,289.2972 428.1967,289.652 Q428.1967,290.0068 427.8419,290.4261 Q427.3258,291.0228 426.5034,291.3615 Q425.3906,291.8291 424.0521,291.8291 Q422.4878,291.8291 421.2461,291.1841 Q420.2301,290.668 419.5205,289.5714 Q418.8109,288.4586 418.8109,287.1363 L418.8109,285.9429 Q418.8109,284.5721 419.4399,283.3949 Q420.0849,282.2015 421.2138,281.5725 Q422.3427,280.9275 423.6167,280.9275 Q424.3746,280.9275 425.0358,281.1049 Q425.7132,281.2661 426.2776,281.637 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.3853" lengthAdjust="spacingAndGlyphs" textLength="42.3165" x="444.5814" y="290.9623">Rombo</text><line style="stroke: #000000; stroke-width: 1.5481651376146788;" x1="291.055" x2="606.8807" y1="302.4083" y2="302.4083"/><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="114.5642" x="296.2156" y="318.3223">-diagonal1_cm : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="114.5642" x="296.2156" y="332.6025">-diagonal2_cm : double</text><line style="stroke: #000000; stroke-width: 1.5481651376146788;" x1="291.055" x2="606.8807" y1="339.2256" y2="339.2256"/><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="189.9083" x="296.2156" y="355.1396">+SetDiagonal1(in d_cm : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="120.7569" x="296.2156" y="369.4198">-GetDiagonal1() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="189.9083" x="296.2156" y="383.7">+SetDiagonal2(in d_cm : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="120.7569" x="296.2156" y="397.9802">-GetDiagonal2() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="100.1147" x="296.2156" y="412.2605">/-GetLado() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="305.5046" x="296.2156" y="426.5407">+Rombo(in color : Color, in d1_cm : double, in d2_cm : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="86.6972" x="296.2156" y="440.8209">^+Area() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="108.3716" x="296.2156" y="455.1011">^+Perimetro() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="98.0505" x="296.2156" y="469.3813">^+ToString() : string</text><!--MD5=[49eac08f47363c88012fade2f4810c45]
class Circulo--><rect fill="#FFFAFA" filter="url(#f1872m0ifem6f4)" height="149.5028" id="Circulo" style="stroke: #000000; stroke-width: 1.5481651376146788;" width="237.3853" x="644.0367" y="297.7638"/><ellipse cx="738.2167" cy="314.2775" fill="#ADD1B2" rx="11.3532" ry="11.3532" style="stroke: #000000; stroke-width: 1.0321100917431192;"/><path d="M741.0712,310.0201 Q741.2324,309.7943 741.426,309.6814 Q741.6195,309.5685 741.8453,309.5685 Q742.2323,309.5685 742.4742,309.8427 Q742.7161,310.1007 742.7161,310.7296 L742.7161,312.2294 Q742.7161,312.8584 742.4742,313.1325 Q742.2323,313.4067 741.8453,313.4067 Q741.4905,313.4067 741.2808,313.197 Q741.0712,313.0035 740.9583,312.4713 Q740.9099,312.1004 740.7164,311.9069 Q740.3777,311.5199 739.7488,311.2941 Q739.1198,311.0683 738.4748,311.0683 Q737.6846,311.0683 737.0234,311.407 Q736.3783,311.7456 735.8622,312.5197 Q735.3623,313.2938 735.3623,314.3582 L735.3623,315.487 Q735.3623,316.761 736.2815,317.6158 Q737.2008,318.4543 738.8457,318.4543 Q739.8133,318.4543 740.4906,318.1963 Q740.8938,318.035 741.3292,317.5835 Q741.6034,317.3093 741.7485,317.2287 Q741.9098,317.1481 742.1194,317.1481 Q742.4581,317.1481 742.7161,317.4222 Q742.9903,317.6803 742.9903,318.035 Q742.9903,318.3898 742.6355,318.8091 Q742.1194,319.4058 741.2969,319.7445 Q740.1842,320.2122 738.8457,320.2122 Q737.2814,320.2122 736.0396,319.5671 Q735.0237,319.051 734.3141,317.9544 Q733.6045,316.8417 733.6045,315.5193 L733.6045,314.3259 Q733.6045,312.9551 734.2334,311.7779 Q734.8785,310.5845 736.0074,309.9556 Q737.1363,309.3105 738.4103,309.3105 Q739.1682,309.3105 739.8294,309.4879 Q740.5067,309.6492 741.0712,310.0201 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.3853" lengthAdjust="spacingAndGlyphs" textLength="40.2523" x="759.375" y="319.3453">Circulo</text><line style="stroke: #000000; stroke-width: 1.5481651376146788;" x1="645.0688" x2="880.3899" y1="330.7913" y2="330.7913"/><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="91.8578" x="650.2294" y="346.7053">-radio_cm : double</text><line style="stroke: #000000; stroke-width: 1.5481651376146788;" x1="645.0688" x2="880.3899" y1="353.3284" y2="353.3284"/><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="187.844" x="650.2294" y="369.2424">+SetRadio(in radio_cm : double) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="100.1147" x="650.2294" y="383.5226">-GetRadio() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="225" x="650.2294" y="397.8028">+Circulo(in color : Color, in radio_cm : double)</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="86.6972" x="650.2294" y="412.0831">^+Area() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="108.3716" x="650.2294" y="426.3633">^+Perimetro() : double</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="98.0505" x="650.2294" y="440.6435">^+ToString() : string</text><!--MD5=[18eee71c88ab61f27581b8cbdd3ef5ee]
class Color--><rect fill="#FFFAFA" filter="url(#f1872m0ifem6f4)" height="121.1359" id="Color" style="stroke: #000000; stroke-width: 1.5481651376146788;" width="115.5963" x="593.4633" y="47.4771"/><ellipse cx="608.945" cy="68.216" fill="#EB937F" rx="11.3532" ry="11.3532" style="stroke: #000000; stroke-width: 1.0321100917431192;"/><path d="M607.7677,69.0385 L607.7677,71.6188 L612.2348,71.6188 L612.2348,70.6673 Q612.2348,70.0383 612.4767,69.7642 Q612.7347,69.49 613.1218,69.49 Q613.5088,69.49 613.7507,69.7642 Q613.9926,70.0383 613.9926,70.6673 L613.9926,73.3766 L605.7357,73.3766 Q605.0907,73.3766 604.8165,73.1347 Q604.5585,72.8928 604.5585,72.4896 Q604.5585,72.1026 604.8326,71.8607 Q605.1068,71.6188 605.7357,71.6188 L606.0099,71.6188 L606.0099,64.7488 L605.7357,64.7488 Q605.0907,64.7488 604.8165,64.5069 Q604.5585,64.265 604.5585,63.8618 Q604.5585,63.4748 604.8165,63.2329 Q605.0907,62.991 605.7357,62.991 L613.6056,62.991 L613.6056,65.668 Q613.6056,66.2969 613.3637,66.5711 Q613.1379,66.8291 612.7347,66.8291 Q612.3477,66.8291 612.1058,66.5711 Q611.8639,66.2969 611.8639,65.668 L611.8639,64.7488 L607.7677,64.7488 L607.7677,67.2807 L609.2997,67.2807 Q609.2997,66.6034 609.4288,66.4098 Q609.7029,65.9905 610.1867,65.9905 Q610.5738,65.9905 610.8157,66.2647 Q611.0576,66.5227 611.0576,67.1517 L611.0576,69.1836 Q611.0576,69.7481 610.9285,69.9416 Q610.6544,70.3448 610.1867,70.3448 Q609.7029,70.3448 609.4288,69.9255 Q609.2997,69.7319 609.2997,69.0385 L607.7677,69.0385 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.3853" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="86.6972" x="621.3303" y="65.4946">&#xAB;enumeration&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="12.3853" lengthAdjust="spacingAndGlyphs" textLength="30.9633" x="649.1972" y="81.0731">Color</text><line style="stroke: #000000; stroke-width: 1.5481651376146788;" x1="594.4954" x2="708.0275" y1="88.955" y2="88.955"/><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="24.7706" x="599.656" y="104.869">Rojo,</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="25.8028" x="599.656" y="119.1492">Azul,</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="34.0596" x="599.656" y="133.4295">Verde,</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="41.2844" x="599.656" y="147.7097">Naranja,</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="9.289" x="599.656" y="161.9899">...</text><!--MD5=[b464a5c68dc7f267ec24dd4bada03c72]
class FG--><rect fill="#FFFAFA" filter="url(#f1872m0ifem6f4)" height="157.9532" id="FG" style="stroke: #000000; stroke-width: 1.5481651376146788;" width="174.4266" x="361.7546" y="28.8991"/><ellipse cx="417.7466" cy="49.638" fill="#A9DCDF" rx="11.3532" ry="11.3532" style="stroke: #000000; stroke-width: 1.0321100917431192;"/><path d="M420.0043,51.4604 L415.7307,51.4604 L415.2953,52.5247 L415.7307,52.5247 Q416.3597,52.5247 416.6338,52.7666 Q416.908,53.0085 416.908,53.4117 Q416.908,53.7987 416.6338,54.0406 Q416.3597,54.2825 415.7307,54.2825 L413.3601,54.2825 Q412.7311,54.2825 412.4731,54.0406 Q412.199,53.7987 412.199,53.3956 Q412.199,53.0085 412.4892,52.7666 Q412.7634,52.5086 413.4085,52.5247 L416.1661,45.6547 L415.0211,45.6547 Q414.3922,45.6547 414.118,45.4128 Q413.8439,45.1709 413.8439,44.7678 Q413.8439,44.3807 414.118,44.1388 Q414.3922,43.8969 415.0211,43.8969 L418.8109,43.8969 L422.3104,52.5247 Q422.9232,52.5247 423.1168,52.6699 Q423.5199,52.944 423.5199,53.4117 Q423.5199,53.7987 423.2458,54.0406 Q422.9877,54.2825 422.3588,54.2825 L419.9882,54.2825 Q419.3592,54.2825 419.0851,54.0406 Q418.8109,53.7987 418.8109,53.3956 Q418.8109,53.0085 419.0851,52.7666 Q419.3592,52.5247 419.9882,52.5247 L420.4236,52.5247 L420.0043,51.4604 Z M419.2625,49.7026 L417.8594,46.2192 L416.4403,49.7026 L419.2625,49.7026 Z "/><text fill="#000000" font-family="sans-serif" font-size="12.3853" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="36.1239" x="447.6778" y="46.9167">Figura</text><text fill="#000000" font-family="sans-serif" font-size="12.3853" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53.6697" x="438.9048" y="62.4951">{abstract}</text><line style="stroke: #000000; stroke-width: 1.5481651376146788;" x1="362.7867" x2="535.1491" y1="70.377" y2="70.377"/><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="63.9908" x="367.9472" y="86.2911">-color : Color</text><line style="stroke: #000000; stroke-width: 1.5481651376146788;" x1="362.7867" x2="535.1491" y1="92.9141" y2="92.9141"/><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="90.8257" x="367.9472" y="108.8281">-GetColor() : Color</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="154.8165" x="367.9472" y="123.1084">+SetColor(in color: Color) : void</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="113.5321" x="367.9472" y="137.3886">#Figura(in color: Color)</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="136.2385" x="367.9472" y="151.6688">+Area() : double {abstract}</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="162.0413" x="367.9472" y="165.949">+Perimetro() : double {abstract}</text><text fill="#000000" font-family="sans-serif" font-size="11.3532" lengthAdjust="spacingAndGlyphs" textLength="98.0505" x="367.9472" y="180.2292">^+ToString() : string</text><polygon fill="none" points="448.9679,186.8522,456.1927,207.4944,441.7431,207.4944" style="stroke: #000000; stroke-width: 1.0321100917431192;"/><line style="stroke: #000000; stroke-width: 1.0321100917431192;" x1="448.9679" x2="448.9679" y1="207.4944" y2="209.0023"/><line style="stroke: #000000; stroke-width: 1.0321100917431192;" x1="536.1812" x2="572.5228" y1="107.8614" y2="107.8555"/><!--MD5=[d76d41d9713c50efbc09db0ee5380026]
reverse link FG to Cuadrado--><path d="M448.9679,209.0023 C448.9679,209.0023 345.4875,231.1338 271.445,269.3807 C255.568,277.5819 239.4991,287.4303 224.1702,297.7307 " fill="none" id="FG&lt;-Cuadrado" style="stroke: #000000; stroke-width: 1.0321100917431192;"/><!--MD5=[46e0154213e2af4a04bc6b1de17af620]
reverse link FG to Rombo--><path d="M448.9679,209.0023 C448.9679,209.0023 448.9679,236.6102 448.9679,269.0711 " fill="none" id="FG&lt;-Rombo" style="stroke: #000000; stroke-width: 1.0321100917431192;"/><!--MD5=[e9423c9aa5de5e212ab3aec8df30d856]
reverse link FG to Circulo--><path d="M448.9679,209.0023 C448.9679,209.0023 552.7899,230.4784 626.4908,269.3807 C641.9178,277.5231 657.4696,287.3405 672.2701,297.6265 " fill="none" id="FG&lt;-Circulo" style="stroke: #000000; stroke-width: 1.0321100917431192;"/><!--MD5=[281e94107fd30146c048da468fdab0e7]
reverse link FG to Color--><path d="M572.5228,107.8555 C579.4648,107.8555 586.4068,107.8555 593.3498,107.8555 " fill="none" id="FG&lt;-Color" style="stroke: #000000; stroke-width: 1.0321100917431192;"/><ellipse cx="565.0885" cy="107.8555" fill="#FFFFFF" rx="8.2569" ry="8.2569" style="stroke: #000000; stroke-width: 1.0321100917431192;"/><line style="stroke: #000000; stroke-width: 1.0321100917431192;" x1="573.3454" x2="556.8317" y1="107.8555" y2="107.8555"/><line style="stroke: #000000; stroke-width: 1.0321100917431192;" x1="565.0885" x2="565.0885" y1="116.1124" y2="99.5986"/><!--MD5=[185c46bb691b1d88ad95d41906ffa41d]
@startuml

!define ABSTRACT &#123;abstract&#125;

scale 900 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow
skinparam groupInheritance 3

class Cuadrado
{
    -lado_cm : double

    +SetLado(in lado_cm : double) : void
    -GetLado() : double
    +Cuadrado(in color : Color, in lado_cm : double)
    ^+Area() : double
    ^+Perimetro() : double
    ^+ToString() : string
}
class Rombo
{
    -diagonal1_cm : double
    -diagonal2_cm : double

    +SetDiagonal1(in d_cm : double) : void
    -GetDiagonal1() : double
    +SetDiagonal2(in d_cm : double) : void
    -GetDiagonal2() : double
    /-GetLado() : double
    +Rombo(in color : Color, in d1_cm : double, in d2_cm : double)
    ^+Area() : double
    ^+Perimetro() : double
    ^+ToString() : string
}
class Circulo
{
    -radio_cm : double

    +SetRadio(in radio_cm : double) : void
    -GetRadio() : double
    +Circulo(in color : Color, in radio_cm : double)
    ^+Area() : double
    ^+Perimetro() : double
    ^+ToString() : string
}

hide Color methods
enum Color <<enumeration>>
{
    Rojo,
    Azul,
    Verde,
    Naranja,
    ...
}

abstract class FG as "Figura\n{abstract}"
{
    -color : Color

    -GetColor() : Color
    +SetColor(in color: Color) : void
    #Figura(in color: Color)
    {abstract} +Area() : double ABSTRACT
    {abstract} +Perimetro() : double ABSTRACT
    ^+ToString() : string
}

FG ^- - Cuadrado
FG ^- - Rombo
FG ^- - Circulo
FG +- Color

@enduml

@startuml


scale 900 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow
skinparam groupInheritance 3

class Cuadrado
{
    -lado_cm : double

    +SetLado(in lado_cm : double) : void
    -GetLado() : double
    +Cuadrado(in color : Color, in lado_cm : double)
    ^+Area() : double
    ^+Perimetro() : double
    ^+ToString() : string
}
class Rombo
{
    -diagonal1_cm : double
    -diagonal2_cm : double

    +SetDiagonal1(in d_cm : double) : void
    -GetDiagonal1() : double
    +SetDiagonal2(in d_cm : double) : void
    -GetDiagonal2() : double
    /-GetLado() : double
    +Rombo(in color : Color, in d1_cm : double, in d2_cm : double)
    ^+Area() : double
    ^+Perimetro() : double
    ^+ToString() : string
}
class Circulo
{
    -radio_cm : double

    +SetRadio(in radio_cm : double) : void
    -GetRadio() : double
    +Circulo(in color : Color, in radio_cm : double)
    ^+Area() : double
    ^+Perimetro() : double
    ^+ToString() : string
}

hide Color methods
enum Color <<enumeration>>
{
    Rojo,
    Azul,
    Verde,
    Naranja,
    ...
}

abstract class FG as "Figura\n{abstract}"
{
    -color : Color

    -GetColor() : Color
    +SetColor(in color: Color) : void
    #Figura(in color: Color)
    {abstract} +Area() : double &#123;abstract&#125;
    {abstract} +Perimetro() : double &#123;abstract&#125;
    ^+ToString() : string
}

FG ^- - Cuadrado
FG ^- - Rombo
FG ^- - Circulo
FG +- Color

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><blockquote>
<p><strong>Nota:</strong> F&#xED;jate que en el diagra ma UML hemos indicado que la clase es abstracta, adem&#xE1;s de usando el modificador <strong><code>{abstract}</code></strong>, hemos puesto en <em>cursiva</em> el nombre y en los m&#xE9;todos virtuales puros o abstractos adem&#xE1;s de la cursiva hemos pusto el modificador <strong><code>{abstract}</code></strong>. Aunque, la cursiva ya no es necesaria a partir de la versi&#xF3;n 2.5 de UML a&#xFA;n sigue siendo &#xE1;mpliamente usada.</p>
</blockquote>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="clases-asbtractas-en-c">Clases asbtractas en C#</h4>

<p>La sint&#xE1;xis ser&#xE1; muy similar a la de la herencia, pero ampliacando las condiciones que hemos descrito con anterioridad.</p>
<p>Vamos a ver la sintaxis a trav&#xE9;s de la implementaci&#xF3;n de nuestro ejemplo con figuras.</p>
<ol>
<li>
<p>En primer lugar vamos a implementar la clase abstracta <strong><code>Figura</code></strong>.</p>
<ul>
<li><strong>(<em>l&#xED;nea 1</em>)</strong>: Definimos la clase anteponiendo el modificador <strong><code>abstract</code></strong></li>
<li><strong>(<em>l&#xED;nea 4</em>)</strong>: Podemos a&#xF1;adir como con en la herencia un campo com&#xFA;n a todas las especificaciones que en este caso es el <strong><code>color</code></strong>.</li>
<li><strong>(<em>l&#xED;neas 19 y 20</em>)</strong>: Aquellos m&#xE9;todos que no podemos implementar hasta que no sepamos la especificaci&#xF3;n, les anteponemos el modificador <strong><code>abstract</code></strong> y los dejaremos sin implementar.</li>
<li><strong>(<em>l&#xED;nea 14</em>)</strong>: Los constructores que definamos puedes ser <strong><code>protected</code></strong> pues solo tiene sentido usarlos desde las subclases.<br>
Nunca podr&#xE9; hacer un <strong><code>Figura f = new Figura(Figura.Rojo);</code></strong></li>
<li><strong>(<em>l&#xED;nea 24</em>)</strong>: Los datos disponibles en <strong><code>Figura</code></strong>, ser&#xE1;n responsabilidad de la clase, para as&#xED; no repetir c&#xF3;digo en las especificaciones y mantener al m&#xE1;ximo la encapsulaci&#xF3;n (Ej. <strong><code>GetColor()</code></strong> es privado poque es <strong><code>Figura</code></strong> quien se encarga de componer el dato).
<blockquote>
<p>&#x270B; <strong>Importante:</strong> Pero, &#xBF;C&#xF3;mo puede ser que desde aqu&#xED; se llama a <strong><code>Area()</code></strong> o <strong><code>Perimetro()</code></strong> si no est&#xE1;n implementados?<br>
Son m&#xE9;todos de <strong><code>Figura</code></strong> y por tanto accesibles desde ella. Adem&#xE1;s, estoy seguro de que cuando se inst&#xE1;ncie un objeto, ser&#xE1; una especificaci&#xF3;n y por tanto se producir&#xE1; un enlace din&#xE1;mico a un m&#xE9;todo de la especificaci&#xF3;n donde estaremos obligados a implementarlo (invalidar).</p>
</blockquote>
</li>
</ul>
<pre data-role="codeBlock" data-info="csharp {highlight=[1,4,8,12,13,16]}" class="language-csharp" data-line="1,4,8,12,13,16"><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Figura</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> Color <span class="token punctuation">{</span> Rojo<span class="token punctuation">,</span> Azul<span class="token punctuation">,</span> Verde<span class="token punctuation">,</span> Naranja <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token class-name">Color</span> color<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Color</span> <span class="token function">GetColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> color<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">SetColor</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span> <span class="token punctuation">}</span>        
    <span class="token keyword">protected</span> <span class="token function">Figura</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetColor</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> $<span class="token string">&quot;Color: {GetColor()}\nArea: {Area():F2} cm2\nPer&#xED;metro: {Perimetro()} cm&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper"><div aria-hidden="true" class="line-highlight" data-range="1" data-start="1">
</div></div><div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">






<div aria-hidden="true" class="line-highlight" data-range="8" data-start="8">
</div></div><div class="line-highlight-wrapper">










<div aria-hidden="true" class="line-highlight" data-range="12" data-start="12">
</div></div><div class="line-highlight-wrapper">











<div aria-hidden="true" class="line-highlight" data-range="13" data-start="13">
</div></div><div class="line-highlight-wrapper">














<div aria-hidden="true" class="line-highlight" data-range="16" data-start="16">
</div></div></pre></li>
<li>
<p>Implementaci&#xF3;n de las especificaciones (subclases)</p>
<ul>
<li><strong>(<em>l&#xED;neas 11 y 15</em>)</strong>: Estaremos <strong>obligados</strong> a invalidar los m&#xE9;todos <strong>abstractos</strong> o virtuales puros.</li>
<li><strong>(<em>l&#xED;nea 21</em>)</strong>: Le pedimos a figura la informaci&#xF3;n com&#xFA;n aunque en relidad para ello llame a los m&#xE9;todos que he implementado aqu&#xED;.</li>
</ul>
<pre data-role="codeBlock" data-info="csharp {highlight=[11, 15, 21]}" class="language-csharp" data-line="11,15,21"><span class="token keyword">class</span> <span class="token class-name">Circulo</span> <span class="token punctuation">:</span> <span class="token class-name">Figura</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> radio_cm<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">SetRadio</span><span class="token punctuation">(</span><span class="token keyword">double</span> radio_cm<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>radio_cm <span class="token operator">=</span> radio_cm<span class="token punctuation">;</span>  <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> <span class="token function">GetRadio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> radio_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Circulo</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token keyword">double</span> radio_cm<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetRadio</span><span class="token punctuation">(</span>radio_cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">double</span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span><span class="token function">GetRadio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">double</span> <span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Math<span class="token punctuation">.</span>PI <span class="token operator">*</span> <span class="token function">GetRadio</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> $<span class="token string">&quot;C&#xED;rculo\nRadio: {GetRadio()} cm\n{base.ToString()}&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">









<div aria-hidden="true" class="line-highlight" data-range="11" data-start="11">
</div></div><div class="line-highlight-wrapper">













<div aria-hidden="true" class="line-highlight" data-range="15" data-start="15">
</div></div><div class="line-highlight-wrapper">



















<div aria-hidden="true" class="line-highlight" data-range="21" data-start="21">
</div></div></pre> <div style="page-break-after:always;"></div>
<p>El resto de implementaciones ser&#xE1;n an&#xE1;logas a <strong><code>Circulo</code></strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Cuadrado</span> <span class="token punctuation">:</span> <span class="token class-name">Figura</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> lado_cm<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">SetLado</span><span class="token punctuation">(</span><span class="token keyword">double</span> lado_cm<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lado_cm <span class="token operator">=</span> lado_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> lado_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Cuadrado</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token keyword">double</span> lado_cm<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetLado</span><span class="token punctuation">(</span>lado_cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">double</span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">double</span> <span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span>d<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> $<span class="token string">&quot;Cuadrado\nLado: {GetLado()} cm\n{base.ToString()}&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Rombo</span> <span class="token punctuation">:</span> <span class="token class-name">Figura</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> diagonal1_cm<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> diagonal2_cm<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">SetDiagonal1</span><span class="token punctuation">(</span><span class="token keyword">double</span> d_cm<span class="token punctuation">)</span> <span class="token punctuation">{</span> diagonal1_cm <span class="token operator">=</span> d_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> <span class="token function">GetDiagonal1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> diagonal1_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">SetDiagonal2</span><span class="token punctuation">(</span><span class="token keyword">double</span> d_cm<span class="token punctuation">)</span> <span class="token punctuation">{</span> diagonal2_cm <span class="token operator">=</span> d_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> <span class="token function">GetDiagonal2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> diagonal2_cm<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Accesor Calculado</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span><span class="token function">GetDiagonal1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span>d<span class="token punctuation">,</span> <span class="token number">2</span>d<span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span><span class="token function">GetDiagonal2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span>d<span class="token punctuation">,</span> <span class="token number">2</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Rombo</span><span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token class-name">Color</span> color<span class="token punctuation">,</span> <span class="token keyword">double</span> d1_cm<span class="token punctuation">,</span> <span class="token keyword">double</span> d2_cm<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDiagonal1</span><span class="token punctuation">(</span>d1_cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetDiagonal2</span><span class="token punctuation">(</span>d2_cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">double</span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">GetDiagonal1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">GetDiagonal2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>d<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">double</span> <span class="token function">Perimetro</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">GetLado</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span>d<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> $<span class="token string">&quot;Rombo\nDiagonal1: {GetDiagonal1()} cm\nDiagonal2: {GetDiagonal2()} cm\nLado: {GetLado()} cm\n{base.ToString()}&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>El polimorfismo de datos lo vamos a poder realizar igual que en el caso de <strong><code>Ariticulo</code></strong> pero no vamos a poder crear ning&#xFA;n art&#xED;culo directamente.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Figura<span class="token punctuation">[</span><span class="token punctuation">]</span> figuras <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Figura</span><span class="token punctuation">[</span><span class="token punctuation">]</span> 
    <span class="token punctuation">{</span> 
        <span class="token keyword">new</span> <span class="token class-name">Cuadrado</span><span class="token punctuation">(</span>Figura<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Rojo<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
        <span class="token keyword">new</span> <span class="token class-name">Rombo</span><span class="token punctuation">(</span>Figura<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Azul<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
        <span class="token keyword">new</span> <span class="token class-name">Circulo</span><span class="token punctuation">(</span>Figura<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Verde<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Figura</span> f <span class="token keyword">in</span> figuras<span class="token punctuation">)</span> 
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></li>
</ol>
<div style="page-break-after:always;"></div>
<blockquote>
<p><strong>&#x1F393; Caso de estudio</strong></p>
<p>Supongamos el siguiente modelo simplificados, en el cual, un <strong>Sic&#xF3;logo</strong> crea un gabinete o <strong>consulta</strong> psicol&#xF3;gioca, donde cada d&#xED;a atiende a los <strong>pacientes</strong> que le llegan.<br>
Los pacientes <strong>ir&#xE1;n entrado a la consulta</strong> y en un pomento dado el sicologo les <strong>pasar&#xE1; consulta</strong> por orden de llegada.<br>
Los pacientes tendr&#xE1;n un <strong>nombre</strong> y <strong>de momento</strong> nuestro sic&#xF3;logo solo sabe atender a dos tipos de pacientes:</p>
<ol>
<li>Pacientes <strong>alegres</strong></li>
<li>Pacientes <strong>tristes</strong></li>
</ol>
<p>En el moneto en que el sicologo <strong>atiende a un paciente</strong> se producir&#xE1; un di&#xE1;logo con el mismo que empezar&#xE1; igual para todos los pacientes:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash">- Sic&#xF3;logo: Buenos d&#xED;as<span class="token operator">!</span>. &#xBF;C&#xF3;mo se llama?
- Paciente: Soy <span class="token operator">&lt;</span>Nombre<span class="token operator">&gt;</span>
- Sic&#xF3;logo: D&#xED;game <span class="token operator">&lt;</span>Nombre<span class="token operator">&gt;</span><span class="token operator">!</span><span class="token punctuation">..</span> &#xBF;Qu&#xE9; siente?
</pre><p>Pero dependiendo del tipo del paciente obtendremos un tipo de <strong>respuesta</strong> diferente...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash">Para el alegre - Paciente:  Pues<span class="token punctuation">..</span>. ahora estoy alegre.
Para el triste - Paciente:  Pues<span class="token punctuation">..</span>. ahora estoy triste.
</pre><p>El sic&#xF3;logo realizar&#xE1; un <strong>diagn&#xF3;stico</strong> diferente dependiendo del tipo de paciente.</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash">Para el alegre - Sic&#xF3;logo: <span class="token operator">&lt;</span>Nombre<span class="token operator">&gt;</span> le veo estupendamente. Enhorabuena<span class="token operator">!</span><span class="token operator">!</span> no necesita m&#xE1;s terapia.
Para el triste - Sic&#xF3;logo: <span class="token operator">&lt;</span>Nombre<span class="token operator">&gt;</span> tome fluoxetina 20mg y vuelva en un mes.
</pre><p>Tras realizar el diagnostico el sic&#xF3;logo dira ...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash">- Sic&#xF3;logo: Que pase el siguiente <span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span>
</pre><p>Atendiendo a otro paciente si hay a&#xFA;n pendientes en consulta.</p>
<p><strong>&#x270B; Piensa en un posible modelado o dise&#xF1;o de clases para representar las especificaciones anteriores.</strong><br>
Si no se te ocurre ning&#xFA;no, aqu&#xED; tienes una propuesta de imeplmentaci&#xF3;n.</p>
<p align="center"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="556.2358px" preserveAspectRatio="none" style="width:541px;height:556px;" version="1.1" viewBox="0 0 541 556" width="541.2698px" zoomAndPan="magnify"><defs><filter height="300%" id="fetsv0li2g4at" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.494331065759637"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.988662131519274" dy="4.988662131519274" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[9d15dff094c6f4d755a9b17a6c0d6b00]
class PacienteFeliz--><rect fill="#FFFAFA" filter="url(#fetsv0li2g4at)" height="84.398" id="PacienteFeliz" style="stroke: #000000; stroke-width: 1.870748299319728;" width="214.5125" x="33.0499" y="458.9569"/><ellipse cx="89.4841" cy="478.9116" fill="#ADD1B2" rx="13.7188" ry="13.7188" style="stroke: #000000; stroke-width: 1.2471655328798186;"/><path d="M92.9333,473.767 Q93.1282,473.4942 93.362,473.3578 Q93.5959,473.2214 93.8687,473.2214 Q94.3364,473.2214 94.6287,473.5527 Q94.921,473.8644 94.921,474.6244 L94.921,476.4367 Q94.921,477.1967 94.6287,477.528 Q94.3364,477.8593 93.8687,477.8593 Q93.44,477.8593 93.1866,477.6059 Q92.9333,477.3721 92.7969,476.729 Q92.7384,476.2808 92.5046,476.047 Q92.0954,475.5793 91.3354,475.3065 Q90.5754,475.0337 89.7959,475.0337 Q88.8411,475.0337 88.0421,475.4429 Q87.2626,475.8521 86.639,476.7875 Q86.0349,477.7229 86.0349,479.009 L86.0349,480.3731 Q86.0349,481.9126 87.1457,482.9454 Q88.2564,483.9587 90.2441,483.9587 Q91.4133,483.9587 92.2318,483.6469 Q92.719,483.452 93.2451,482.9064 Q93.5764,482.5751 93.7518,482.4777 Q93.9466,482.3802 94.2,482.3802 Q94.6092,482.3802 94.921,482.7115 Q95.2523,483.0233 95.2523,483.452 Q95.2523,483.8807 94.8236,484.3874 Q94.2,485.1084 93.2061,485.5176 Q91.8615,486.0828 90.2441,486.0828 Q88.3539,486.0828 86.8534,485.3033 Q85.6257,484.6797 84.7683,483.3546 Q83.9109,482.01 83.9109,480.4121 L83.9109,478.97 Q83.9109,477.3136 84.6708,475.8911 Q85.4503,474.4491 86.8144,473.6891 Q88.1785,472.9096 89.718,472.9096 Q90.6339,472.9096 91.4328,473.1239 Q92.2513,473.3188 92.9333,473.767 Z "/><text fill="#000000" font-family="sans-serif" font-size="14.966" lengthAdjust="spacingAndGlyphs" textLength="91.0431" x="115.051" y="485.0353">PacienteFeliz</text><line style="stroke: #000000; stroke-width: 1.870748299319728;" x1="34.2971" x2="246.3152" y1="498.8662" y2="498.8662"/><text fill="#000000" font-family="sans-serif" font-size="13.7188" lengthAdjust="spacingAndGlyphs" textLength="199.5465" x="40.5329" y="518.0962">+PacienteFeliz(in nombre : string)</text><text fill="#000000" font-family="sans-serif" font-size="13.7188" lengthAdjust="spacingAndGlyphs" textLength="154.6485" x="40.5329" y="535.3519">^+GetRespuesta() : string</text><!--MD5=[c81d06c1dd2a171e36384f4a4e653380]
class PacienteTriste--><rect fill="#FFFAFA" filter="url(#fetsv0li2g4at)" height="84.398" id="PacienteTriste" style="stroke: #000000; stroke-width: 1.870748299319728;" width="220.7483" x="291.8367" y="458.9569"/><ellipse cx="347.6474" cy="478.9116" fill="#ADD1B2" rx="13.7188" ry="13.7188" style="stroke: #000000; stroke-width: 1.2471655328798186;"/><path d="M351.0966,473.767 Q351.2915,473.4942 351.5253,473.3578 Q351.7591,473.2214 352.032,473.2214 Q352.4996,473.2214 352.792,473.5527 Q353.0843,473.8644 353.0843,474.6244 L353.0843,476.4367 Q353.0843,477.1967 352.792,477.528 Q352.4996,477.8593 352.032,477.8593 Q351.6032,477.8593 351.3499,477.6059 Q351.0966,477.3721 350.9602,476.729 Q350.9017,476.2808 350.6679,476.047 Q350.2586,475.5793 349.4987,475.3065 Q348.7387,475.0337 347.9592,475.0337 Q347.0043,475.0337 346.2054,475.4429 Q345.4259,475.8521 344.8023,476.7875 Q344.1982,477.7229 344.1982,479.009 L344.1982,480.3731 Q344.1982,481.9126 345.309,482.9454 Q346.4197,483.9587 348.4074,483.9587 Q349.5766,483.9587 350.3951,483.6469 Q350.8822,483.452 351.4084,482.9064 Q351.7397,482.5751 351.915,482.4777 Q352.1099,482.3802 352.3632,482.3802 Q352.7725,482.3802 353.0843,482.7115 Q353.4155,483.0233 353.4155,483.452 Q353.4155,483.8807 352.9868,484.3874 Q352.3632,485.1084 351.3694,485.5176 Q350.0248,486.0828 348.4074,486.0828 Q346.5171,486.0828 345.0167,485.3033 Q343.789,484.6797 342.9315,483.3546 Q342.0741,482.01 342.0741,480.4121 L342.0741,478.97 Q342.0741,477.3136 342.8341,475.8911 Q343.6136,474.4491 344.9777,473.6891 Q346.3418,472.9096 347.8812,472.9096 Q348.7971,472.9096 349.5961,473.1239 Q350.4145,473.3188 351.0966,473.767 Z "/><text fill="#000000" font-family="sans-serif" font-size="14.966" lengthAdjust="spacingAndGlyphs" textLength="98.5261" x="373.2143" y="485.0353">PacienteTriste</text><line style="stroke: #000000; stroke-width: 1.870748299319728;" x1="293.0839" x2="511.3379" y1="498.8662" y2="498.8662"/><text fill="#000000" font-family="sans-serif" font-size="13.7188" lengthAdjust="spacingAndGlyphs" textLength="205.7823" x="299.3197" y="518.0962">+PacienteTriste(in nombre : string)</text><text fill="#000000" font-family="sans-serif" font-size="13.7188" lengthAdjust="spacingAndGlyphs" textLength="154.6485" x="299.3197" y="535.3519">^+GetRespuesta() : string</text><!--MD5=[3b33aac52bf85bcbfceea1b1d7f3c296]
class P--><rect fill="#FFFAFA" filter="url(#fetsv0li2g4at)" height="139.0979" id="P" style="stroke: #000000; stroke-width: 1.870748299319728;" width="231.9728" x="155.2721" y="243.1973"/><ellipse cx="233.5317" cy="268.2575" fill="#A9DCDF" rx="13.7188" ry="13.7188" style="stroke: #000000; stroke-width: 1.2471655328798186;"/><path d="M236.2599,270.4595 L231.0959,270.4595 L230.5697,271.7457 L231.0959,271.7457 Q231.8559,271.7457 232.1871,272.038 Q232.5184,272.3303 232.5184,272.8175 Q232.5184,273.2851 232.1871,273.5775 Q231.8559,273.8698 231.0959,273.8698 L228.2313,273.8698 Q227.4713,273.8698 227.1595,273.5775 Q226.8282,273.2851 226.8282,272.798 Q226.8282,272.3303 227.179,272.038 Q227.5103,271.7262 228.2898,271.7457 L231.622,263.4442 L230.2384,263.4442 Q229.4785,263.4442 229.1472,263.1519 Q228.8159,262.8596 228.8159,262.3724 Q228.8159,261.9048 229.1472,261.6125 Q229.4785,261.3202 230.2384,261.3202 L234.8179,261.3202 L239.0466,271.7457 Q239.7871,271.7457 240.0209,271.9211 Q240.5081,272.2523 240.5081,272.8175 Q240.5081,273.2851 240.1768,273.5775 Q239.865,273.8698 239.105,273.8698 L236.2404,273.8698 Q235.4804,273.8698 235.1492,273.5775 Q234.8179,273.2851 234.8179,272.798 Q234.8179,272.3303 235.1492,272.038 Q235.4804,271.7457 236.2404,271.7457 L236.7666,271.7457 L236.2599,270.4595 Z M235.3635,268.3355 L233.6682,264.1263 L231.9533,268.3355 L235.3635,268.3355 Z "/><text fill="#000000" font-family="sans-serif" font-size="14.966" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59.8639" x="261.593" y="264.9691">Paciente</text><text fill="#000000" font-family="sans-serif" font-size="14.966" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="64.8526" x="259.0986" y="283.7935">{abstract}</text><line style="stroke: #000000; stroke-width: 1.870748299319728;" x1="156.5193" x2="385.9977" y1="293.3177" y2="293.3177"/><text fill="#000000" font-family="sans-serif" font-size="13.7188" lengthAdjust="spacingAndGlyphs" textLength="163.3787" x="162.7551" y="312.5477">-nombre : string {readOnly}</text><line style="stroke: #000000; stroke-width: 1.870748299319728;" x1="156.5193" x2="385.9977" y1="320.5508" y2="320.5508"/><text fill="#000000" font-family="sans-serif" font-size="13.7188" lengthAdjust="spacingAndGlyphs" textLength="129.7052" x="162.7551" y="339.7807">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="13.7188" lengthAdjust="spacingAndGlyphs" textLength="172.1088" x="162.7551" y="357.0365">#Paciente(in nombre : string)</text><text fill="#000000" font-family="sans-serif" font-size="13.7188" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="217.0068" x="162.7551" y="374.2922">+GetRespuesta() : string {abstract}</text><!--MD5=[aa5bbbe51933d9af291db0ed1115076d]
class Consulta--><rect fill="#FFFAFA" filter="url(#fetsv0li2g4at)" height="101.6537" id="Consulta" style="stroke: #000000; stroke-width: 1.870748299319728;" width="210.771" x="316.78" y="26.8141"/><ellipse cx="385.6859" cy="46.7687" fill="#ADD1B2" rx="13.7188" ry="13.7188" style="stroke: #000000; stroke-width: 1.2471655328798186;"/><path d="M389.1351,41.6241 Q389.33,41.3513 389.5638,41.2149 Q389.7977,41.0785 390.0705,41.0785 Q390.5382,41.0785 390.8305,41.4098 Q391.1228,41.7216 391.1228,42.4816 L391.1228,44.2939 Q391.1228,45.0539 390.8305,45.3851 Q390.5382,45.7164 390.0705,45.7164 Q389.6418,45.7164 389.3885,45.4631 Q389.1351,45.2292 388.9987,44.5862 Q388.9403,44.138 388.7064,43.9041 Q388.2972,43.4364 387.5372,43.1636 Q386.7772,42.8908 385.9977,42.8908 Q385.0429,42.8908 384.2439,43.3 Q383.4644,43.7093 382.8408,44.6446 Q382.2367,45.58 382.2367,46.8661 L382.2367,48.2302 Q382.2367,49.7697 383.3475,50.8025 Q384.4583,51.8158 386.4459,51.8158 Q387.6152,51.8158 388.4336,51.504 Q388.9208,51.3092 389.4469,50.7635 Q389.7782,50.4323 389.9536,50.3348 Q390.1485,50.2374 390.4018,50.2374 Q390.811,50.2374 391.1228,50.5687 Q391.4541,50.8805 391.4541,51.3092 Q391.4541,51.7379 391.0254,52.2445 Q390.4018,52.9656 389.408,53.3748 Q388.0634,53.9399 386.4459,53.9399 Q384.5557,53.9399 383.0552,53.1604 Q381.8275,52.5368 380.9701,51.2117 Q380.1127,49.8671 380.1127,48.2692 L380.1127,46.8272 Q380.1127,45.1708 380.8727,43.7482 Q381.6521,42.3062 383.0162,41.5462 Q384.3803,40.7667 385.9198,40.7667 Q386.8357,40.7667 387.6346,40.9811 Q388.4531,41.1759 389.1351,41.6241 Z "/><text fill="#000000" font-family="sans-serif" font-size="14.966" lengthAdjust="spacingAndGlyphs" textLength="62.3583" x="411.2528" y="52.8925">Consulta</text><line style="stroke: #000000; stroke-width: 1.870748299319728;" x1="318.0272" x2="526.3039" y1="66.7234" y2="66.7234"/><text fill="#000000" font-family="sans-serif" font-size="13.7188" lengthAdjust="spacingAndGlyphs" textLength="106.0091" x="324.263" y="85.9533">+Consulta() : void</text><text fill="#000000" font-family="sans-serif" font-size="13.7188" lengthAdjust="spacingAndGlyphs" textLength="195.805" x="324.263" y="103.209">+Entra(in p : Paciente) : Consulta</text><text fill="#000000" font-family="sans-serif" font-size="13.7188" lengthAdjust="spacingAndGlyphs" textLength="134.6939" x="324.263" y="120.4647">+Siguiente() : Paciente</text><!--MD5=[08ab07a6d07f975842ef4ddbebc3f045]
class Sicologo--><rect fill="#FFFAFA" filter="url(#fetsv0li2g4at)" height="136.1651" id="Sicologo" style="stroke: #000000; stroke-width: 1.870748299319728;" width="228.2313" x="7.483" y="9.9773"/><ellipse cx="86.3662" cy="29.932" fill="#ADD1B2" rx="13.7188" ry="13.7188" style="stroke: #000000; stroke-width: 1.2471655328798186;"/><path d="M89.8154,24.7874 Q90.0103,24.5146 90.2441,24.3782 Q90.478,24.2418 90.7508,24.2418 Q91.2185,24.2418 91.5108,24.5731 Q91.8031,24.8848 91.8031,25.6448 L91.8031,27.4571 Q91.8031,28.2171 91.5108,28.5484 Q91.2185,28.8797 90.7508,28.8797 Q90.3221,28.8797 90.0687,28.6263 Q89.8154,28.3925 89.679,27.7494 Q89.6205,27.3012 89.3867,27.0674 Q88.9775,26.5997 88.2175,26.3269 Q87.4575,26.0541 86.678,26.0541 Q85.7231,26.0541 84.9242,26.4633 Q84.1447,26.8725 83.5211,27.8079 Q82.917,28.7433 82.917,30.0294 L82.917,31.3935 Q82.917,32.933 84.0278,33.9658 Q85.1385,34.9791 87.1262,34.9791 Q88.2954,34.9791 89.1139,34.6673 Q89.601,34.4724 90.1272,33.9268 Q90.4585,33.5955 90.6339,33.4981 Q90.8287,33.4007 91.0821,33.4007 Q91.4913,33.4007 91.8031,33.7319 Q92.1344,34.0437 92.1344,34.4724 Q92.1344,34.9011 91.7056,35.4078 Q91.0821,36.1288 90.0882,36.5381 Q88.7436,37.1032 87.1262,37.1032 Q85.236,37.1032 83.7355,36.3237 Q82.5078,35.7001 81.6504,34.375 Q80.7929,33.0304 80.7929,31.4325 L80.7929,29.9904 Q80.7929,28.334 81.5529,26.9115 Q82.3324,25.4695 83.6965,24.7095 Q85.0606,23.93 86.6001,23.93 Q87.5159,23.93 88.3149,24.1443 Q89.1334,24.3392 89.8154,24.7874 Z "/><text fill="#000000" font-family="sans-serif" font-size="14.966" lengthAdjust="spacingAndGlyphs" textLength="59.8639" x="111.9331" y="36.0558">Sicologo</text><line style="stroke: #000000; stroke-width: 1.870748299319728;" x1="8.7302" x2="234.4671" y1="49.8866" y2="49.8866"/><text fill="#000000" font-family="sans-serif" font-size="13.7188" lengthAdjust="spacingAndGlyphs" textLength="104.7619" x="14.966" y="69.1166">+Sicologo() : void</text><text fill="#000000" font-family="sans-serif" font-size="13.7188" lengthAdjust="spacingAndGlyphs" textLength="154.6485" x="14.966" y="86.3723">+GetConsulta() : Consulta</text><text fill="#000000" font-family="sans-serif" font-size="13.7188" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="213.2653" x="14.966" y="103.628">-Diagnostico(in p : Paciente) : string</text><text fill="#000000" font-family="sans-serif" font-size="13.7188" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="180.839" x="14.966" y="120.8837">-Atiende(in p : Paciente) : void</text><text fill="#000000" font-family="sans-serif" font-size="13.7188" lengthAdjust="spacingAndGlyphs" textLength="135.941" x="14.966" y="138.1394">+PasaConsulta() : void</text><!--MD5=[896b393e06bfd77d1981b9b22265aa64]
reverse link P to PacienteFeliz--><path d="M208.3078,403.6152 C194.7349,422.876 181.0173,442.3424 169.4923,458.6973 " fill="none" id="P&lt;-PacienteFeliz" style="stroke: #000000; stroke-width: 1.2471655328798186;"/><polygon fill="none" points="201.3636,398.3135,222.8685,382.9534,215.6362,408.3719,201.3636,398.3135" style="stroke: #000000; stroke-width: 1.2471655328798186;"/><!--MD5=[12d0549121195b8371386dd94ac0645b]
reverse link P to PacienteTriste--><path d="M334.2092,403.6152 C347.7821,422.876 361.4997,442.3424 373.0247,458.6973 " fill="none" id="P&lt;-PacienteTriste" style="stroke: #000000; stroke-width: 1.2471655328798186;"/><polygon fill="none" points="326.8808,408.3719,319.6485,382.9534,341.1534,398.3135,326.8808,408.3719" style="stroke: #000000; stroke-width: 1.2471655328798186;"/><!--MD5=[347653005821914bcce513fc0080b1b4]
link Sicologo to P--><path d="M164.6857,146.1591 C183.0577,174.7129 204.5638,208.137 223.426,237.4528 " fill="none" id="Sicologo-&gt;P" style="stroke: #000000; stroke-width: 1.2471655328798186; stroke-dasharray: 7.0,7.0;"/><polygon fill="#000000" points="226.9168,242.8768,225.0374,230.7382,223.5421,237.633,216.6473,236.1377,226.9168,242.8768" style="stroke: #000000; stroke-width: 1.2471655328798186;"/><text fill="#000000" font-family="sans-serif" font-size="16.2132" lengthAdjust="spacingAndGlyphs" textLength="43.6508" x="202.6644" y="201.4111">&#xAB;use&#xBB;</text><!--MD5=[4eb6ffff5f7365558ca611c9f34de2d4]
link Sicologo to Consulta--><path d="M251.0532,77.9478 C251.0532,77.9478 284.4024,77.9478 300.1591,77.9478 " fill="none" id="Sicologo-Consulta" style="stroke: #000000; stroke-width: 1.2471655328798186;"/><polygon fill="#000000" points="316.3934,77.9478,305.1689,72.9592,310.1576,77.9478,305.1689,82.9365,316.3934,77.9478" style="stroke: #000000; stroke-width: 1.2471655328798186;"/><line style="stroke: #000000; stroke-width: 1.2471655328798186;" x1="310.1576" x2="300.1803" y1="77.9478" y2="77.9478"/><polygon fill="#000000" points="236.0872,77.9478,243.5702,82.9365,251.0532,77.9478,243.5702,72.9592,236.0872,77.9478" style="stroke: #000000; stroke-width: 1.2471655328798186;"/><text fill="#000000" font-family="sans-serif" font-size="16.2132" lengthAdjust="spacingAndGlyphs" textLength="34.9206" x="258.7868" y="69.8352">tiene</text><text fill="#000000" font-family="sans-serif" font-size="16.2132" lengthAdjust="spacingAndGlyphs" textLength="8.7302" x="245.5583" y="74.0373">1</text><text fill="#000000" font-family="sans-serif" font-size="16.2132" lengthAdjust="spacingAndGlyphs" textLength="8.7302" x="298.1984" y="74.0116">1</text><!--MD5=[451511ba67b3391b2c3a560883cdb53d]
link Consulta to P--><path d="M381.6458,141.6478 C381.6458,141.6478 343.1938,200.9159 324.7594,229.3288 " fill="none" id="Consulta-P" style="stroke: #000000; stroke-width: 1.2471655328798186;"/><polygon fill="#000000" points="315.8858,243.0065,326.1797,236.3049,319.2796,237.775,317.8094,230.8749,315.8858,243.0065" style="stroke: #000000; stroke-width: 1.2471655328798186;"/><line style="stroke: #000000; stroke-width: 1.2471655328798186;" x1="319.2796" x2="324.7101" y1="237.775" y2="229.4055"/><polygon fill="#FFFFFF" points="389.7916,129.0929,381.5337,132.6551,381.6458,141.6478,389.9037,138.0856,389.7916,129.0929" style="stroke: #000000; stroke-width: 1.2471655328798186;"/><text fill="#000000" font-family="sans-serif" font-size="16.2132" lengthAdjust="spacingAndGlyphs" textLength="76.0771" x="353.5714" y="201.4111">es visitada</text><text fill="#000000" font-family="sans-serif" font-size="16.2132" lengthAdjust="spacingAndGlyphs" textLength="8.7302" x="375.4358" y="155.3634">1</text><text fill="#000000" font-family="sans-serif" font-size="16.2132" lengthAdjust="spacingAndGlyphs" textLength="24.9433" x="295.0625" y="229.6968">0..*</text><!--MD5=[cb3e4f65c629d3c060a415a8e9d00424]
@startuml

!define ABSTRACT &#123;abstract&#125;

scale 550 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide PacienteFeliz attributes
class PacienteFeliz
{
    +PacienteFeliz(in nombre : string)
    ^+GetRespuesta() : string
}

hide PacienteTriste attributes
class PacienteTriste
{
    +PacienteTriste(in nombre : string)
    ^+GetRespuesta() : string
}

abstract class P as "Paciente\n{abstract}"
{
    -nombre : string {readOnly}

    +GetNombre() : string
    #Paciente(in nombre : string)
    {abstract} +GetRespuesta() : string ABSTRACT
}

hide Consulta attributes
class Consulta
{
    +Consulta() : void
    +Entra(in p : Paciente) : Consulta
    +Siguiente() : Paciente    
}

hide Sicologo attributes
class Sicologo
{
    +Sicologo() : void
    +GetConsulta() : Consulta
    -Diagnostico(in p : Paciente) : string {static}
    -Atiende(in p : Paciente) : void {static}
    +PasaConsulta() : void
}

P ^- - PacienteFeliz
P ^- - PacienteTriste
Sicologo .> P : <<use>>
Sicologo "1" *-> "1" Consulta : tiene
Consulta "1" o- -> "0..*" P : es visitada

@enduml

@startuml


scale 550 width
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide PacienteFeliz attributes
class PacienteFeliz
{
    +PacienteFeliz(in nombre : string)
    ^+GetRespuesta() : string
}

hide PacienteTriste attributes
class PacienteTriste
{
    +PacienteTriste(in nombre : string)
    ^+GetRespuesta() : string
}

abstract class P as "Paciente\n{abstract}"
{
    -nombre : string {readOnly}

    +GetNombre() : string
    #Paciente(in nombre : string)
    {abstract} +GetRespuesta() : string &#123;abstract&#125;
}

hide Consulta attributes
class Consulta
{
    +Consulta() : void
    +Entra(in p : Paciente) : Consulta
    +Siguiente() : Paciente    
}

hide Sicologo attributes
class Sicologo
{
    +Sicologo() : void
    +GetConsulta() : Consulta
    -Diagnostico(in p : Paciente) : string {static}
    -Atiende(in p : Paciente) : void {static}
    +PasaConsulta() : void
}

P ^- - PacienteFeliz
P ^- - PacienteTriste
Sicologo .> P : <<use>>
Sicologo "1" *-> "1" Consulta : tiene
Consulta "1" o- -> "0..*" P : es visitada

@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg></p><p><strong>&#x270B; Antes de ver la implementaci&#xF3;n comentada de esta prupuesta, intenta realizarla t&#xFA; y as&#xED; posteriormente puedes ver la propuesta de soluci&#xF3;n para lo que no has sabido resolver.</strong></p>
</blockquote>
<div style="page-break-after:always;"></div>
<p>Propuesta de soluci&#xF3;n al caso de estudio:</p>
<ol>
<li>
<p>Crearemos la clase abstracta <strong><code>Paciente</code></strong>. Ser&#xE1; abstracta porque los pacientes del sic&#xF3;logo reponden de forma diferente dependiendo de su especificaci&#xF3;n.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Paciente</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token keyword">string</span> nombre<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">string</span> <span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">protected</span> <span class="token function">Paciente</span><span class="token punctuation">(</span><span class="token keyword">string</span> nombre<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">string</span> <span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>Definiremos las especificaciones de <strong><code>Paciente</code></strong> para que respondan seg&#xFA;n su estado de &#xE1;nimo.</p>
<pre data-role="codeBlock" data-info="csharp {highlight=[4, 12]}" class="language-csharp" data-line="4,12"><span class="token keyword">class</span> <span class="token class-name">PacienteAlegre</span> <span class="token punctuation">:</span> <span class="token class-name">Paciente</span>
<span class="token punctuation">{</span>
    <span class="token comment">// F&#xED;jate que los constructores no tienen cuerpo y lo &#xFA;nico que hacen es pasar el nombre al constructor protected de Paciente.</span>
    <span class="token keyword">public</span> <span class="token function">PacienteAlegre</span><span class="token punctuation">(</span><span class="token keyword">string</span> nombre<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Pues... ahora estoy alegre.&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">PacienteTriste</span> <span class="token punctuation">:</span> <span class="token class-name">Paciente</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">PacienteTriste</span><span class="token punctuation">(</span><span class="token keyword">string</span> nombre<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Pues... ahora estoy triste.&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>    
<div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">










<div aria-hidden="true" class="line-highlight" data-range="12" data-start="12">
</div></div></pre></li>
<li>
<p>Definiremos la clase <strong><code>Consulta</code></strong> (&#x270B; <em>Lee atentamente los <strong>comentarios</strong></em>).</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Consulta</span>
<span class="token punctuation">{</span>        
    <span class="token keyword">private</span> Paciente<span class="token punctuation">[</span><span class="token punctuation">]</span> pacientes<span class="token punctuation">;</span>           <span class="token comment">// Array de pacientes que representa la agregaci&#xF3;n 0..* con la clase Paciente.</span>
    <span class="token keyword">public</span> <span class="token function">Consulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> pacientes <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// En un principio la consulta estar&#xE1; vac&#xED;a.</span>
    <span class="token comment">// Patr&#xF3;n de interfaz &apos;fluido&apos; para que los pacientes entren por orden en la consulta.</span>
    <span class="token keyword">public</span> <span class="token class-name">Consulta</span> <span class="token function">Entra</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Redimensiono o creo el array y a&#xF1;ado al paciente en la &#xFA;ltima posici&#xF3;n.</span>
        Array<span class="token punctuation">.</span><span class="token function">Resize</span><span class="token punctuation">(</span><span class="token keyword">ref</span> pacientes<span class="token punctuation">,</span> pacientes <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> pacientes<span class="token punctuation">.</span>Length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pacientes<span class="token punctuation">[</span>pacientes<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Retornar&#xE1; el siguiente paciente en la cola de la consulta o null si ya no quedan pacientes.</span>
    <span class="token comment">// Nota: M&#xE1;s adelante veremos colecciones que nos permitir&#xE1;n gestionar esto de forma m&#xE1;s simple.</span>
    <span class="token keyword">public</span> <span class="token class-name">Paciente</span> <span class="token function">Siguiente</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>           
        <span class="token class-name">Paciente</span> p <span class="token operator">=</span> pacientes<span class="token punctuation">?</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Asigno null o el paciente en el &#xED;ndice 0 (&apos;primero&apos;)</span>
        <span class="token comment">// Si hay m&#xE1;s de 2 pacientes, eliminar&#xE9; el primer elemento del array dej&#xE1;ndolo con un elemento menos.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>pacientes <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> pacientes<span class="token punctuation">.</span>Length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Creo un array auxiliar copia con un elemento menos que el de pacientes.</span>
            Paciente<span class="token punctuation">[</span><span class="token punctuation">]</span> copia <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Paciente</span><span class="token punctuation">[</span>pacientes<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">// En este array copio desde el &#xED;ndice 1 del de pacientes en la posici&#xF3;n 0 de la copia.</span>
            <span class="token comment">// Nota: Ver en la documentaci&#xF3;n de C# esta funci&#xF3;n.</span>
            Array<span class="token punctuation">.</span><span class="token function">Copy</span><span class="token punctuation">(</span>pacientes<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> copia<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> pacientes<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                
            pacientes <span class="token operator">=</span> copia<span class="token punctuation">;</span> <span class="token comment">// Pacientes pasa a ser ahora la copia donde he quitado el primer elemento.</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
            pacientes <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> p<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
</ol>
<div style="page-break-after:always;"></div>
<ol start="4">
<li>
<p>Definiremos la clase <strong><code>Sicologo</code></strong> (&#x270B; <em>Lee atentamente los <strong>comentarios</strong></em>).<br>
<strong>Nota:</strong> Tiene un dependencia de uso con <strong><code>Paciente</code></strong> en el UML, ya que necesita conocer la clase. (En este caso hemos decidido representarla)</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Sicologo</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Consulta</span> consulta<span class="token punctuation">;</span> <span class="token comment">// Representa la composici&#xF3;n con consuta &apos;Un Sicologo tiene una Consulta&apos;</span>
    <span class="token comment">// La consulta la crea el sic&#xF3;logo y por tanto desaparece con &#xE9;l.</span>
    <span class="token comment">// Es mejor pr&#xE1;ctica recibirla como par&#xE1;metro y hacer una copia como indicamos, pero lo hemos hecho as&#xED; por simplificar.</span>
    <span class="token keyword">public</span> <span class="token function">Sicologo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> consulta <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Consulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token comment">// La consulta debe ser accesible por los pacientes.        </span>
    <span class="token keyword">public</span> <span class="token class-name">Consulta</span> <span class="token function">GetConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> consulta<span class="token punctuation">;</span> <span class="token punctuation">}</span> 
    <span class="token comment">// A partir de la especificaci&#xF3;n de paciente, damos un diagn&#xF3;stico. Si es un paciente no conocido damos una respuesta ambigua.</span>
    <span class="token comment">// El m&#xE9;todo lo hemos hecho de clase pues no necesitamos acceder a los datos de la inst&#xE1;ncia.</span>
    <span class="token comment">// adem&#xE1;s nos permitir&#xE1; a un sic&#xF3;logo diagnosticar pacientes sin tener consulta si la hicieramos p&#xFA;blica.</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">string</span> <span class="token function">Diagnostico</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> p <span class="token keyword">switch</span>
        <span class="token punctuation">{</span>
            <span class="token class-name">PacienteAlegre</span> _ <span class="token operator">=&gt;</span> $<span class="token string">&quot;{p.GetNombre()} le veo estupendamente. Enhorabuena!! no necesita m&#xE1;s terapia.&quot;</span><span class="token punctuation">,</span>
            <span class="token class-name">PacienteTriste</span> _ <span class="token operator">=&gt;</span> $<span class="token string">&quot;{p.GetNombre()} tome fluoxetina 20mg y vuelva en un mes.&quot;</span><span class="token punctuation">,</span>
            _ <span class="token operator">=&gt;</span> $<span class="token string">&quot;{p.GetNombre()} d&#xE9;jeme que estudie un poco m&#xE1;s su caso y vuelva la semana que viene.&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Atender al paciente es quien establece el di&#xE1;logo.</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Atiende</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;- Sic&#xF3;logo: Buenos d&#xED;as!. &#xBF;C&#xF3;mo se llama?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;- Paciente: Soy {p.GetNombre()}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;- Sic&#xF3;logo: D&#xED;game {p.GetNombre()}!.. &#xBF;Qu&#xE9; siente?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;- Paciente: {p.GetRespuesta()}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuilder</span> accion <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">&quot;- Sic&#xF3;logo: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        accion<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token function">Diagnostico</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>$<span class="token string">&quot;\n- Sic&#xF3;logo: Que pase el siguiente !!!\n\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>accion<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// PasaConsulta atiende a los pacientes mientras exista alguno en la cola de la consulta.</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">PasaConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Paciente</span> p<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p <span class="token operator">=</span> consulta<span class="token punctuation">.</span><span class="token function">Siguiente</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
            <span class="token function">Atiende</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>Vamos a crear un sencillo programa de test</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token class-name">Sicologo</span> sicologo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sicologo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sicologo<span class="token punctuation">.</span><span class="token function">GetConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PacienteAlegre</span><span class="token punctuation">(</span><span class="token string">&quot;Xusa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PacienteAlegre</span><span class="token punctuation">(</span><span class="token string">&quot;Juanjo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Entra</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PacienteTriste</span><span class="token punctuation">(</span><span class="token string">&quot;Carmen&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sicologo<span class="token punctuation">.</span><span class="token function">PasaConsulta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>C&#xF3;mo suced&#xED;a en otros casos podemos crear una nueva especificaci&#xF3;n de <strong><code>Pciente</code></strong> por ejemplo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">PacienteSociopata</span> <span class="token punctuation">:</span> <span class="token class-name">Paciente</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">PacienteSociopata</span><span class="token punctuation">(</span><span class="token keyword">string</span> nombre<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">GetRespuesta</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">&quot;Vas a morir .. muuhaaahahahaha !!&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>El <strong>consultorio seguir&#xED;a funcionando</strong>. Pero, esta vez el <strong><code>Sic&#xF3;logo</code></strong> deber&#xED;a actualizarse para saber tratar a este tipo de pacientes. (<em>L&#xED;nea 5</em>)</p>
<pre data-role="codeBlock" data-info="csharp {highlight=5}" class="language-csharp" data-line="5"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">string</span> <span class="token function">Diagnostico</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> p <span class="token keyword">switch</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token class-name">PacienteSociopata</span> _ <span class="token operator">=&gt;</span> $<span class="token string">&quot;Lo siento!. Debo aplicarte una decarga de 10000V justo ahora.&quot;</span><span class="token punctuation">,</span>
        _ <span class="token operator">=&gt;</span> $<span class="token string">&quot;{p.GetNombre()} d&#xE9;jeme que estudie un poco m&#xE1;s su caso y vuelva la semana que viene.&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5" data-start="5">
</div></div></pre><blockquote>
<p><strong>&#x26A1;&#xFE0F; Retos:</strong> &#xBF;Se te ocurre c&#xF3;mo crear diferentes tipos de sic&#xF3;logos que diagnostiquen de forma diferente o alguna forma de hacer que sepamos que tenemos que actualizar al sic&#xF3;logo di hau nuevos pacientes?</p>
</blockquote>
</li>
</ol>
<div style="page-break-after:always;"></div>
<h2 class="mume-header" id="gesti%C3%B3n-de-errores-en-poo">Gesti&#xF3;n de errores en POO</h2>

<h3 class="mume-header" id="programaci%C3%B3n-defensiva">Programaci&#xF3;n defensiva</h3>

<ul>
<li>En este tema vamos a explicar el</li>
</ul>
<p><a href="https://es.wikipedia.org/wiki/Steve_McConnell" target="_blank">Steve McConell</a><br>
<a href="https://es.wikipedia.org/wiki/Steve_McConnell">Steve McConell</a></p>
<h3 class="mume-header" id="excepciones">Excepciones</h3>

<ul>
<li>
<p><strong>Definici&#xF3;n</strong>: Es la forma en que los lenguajes orientados a objetos realizan el control de errores.</p>
</li>
<li>
<p><strong>Frente al control de errores en la programaci&#xF3;n estructurada tradicional nos ofrecen:</strong></p>
<ul>
<li><strong>Claridad</strong>, ya que <strong>evitamos l&#xF3;gica adicional</strong> del caso de error.</li>
<li>Evitar que un m&#xE9;todo devuelva un error como par&#xE1;metro a trav&#xE9;s de la pila de llamadas como suced&#xED;a en la programaci&#xF3;n estructurada.</li>
<li><strong>Tratamiento asegurado</strong> de errores.</li>
</ul>
</li>
</ul>
<h4 class="mume-header" id="excepciones-en-c">Excepciones en C#</h4>

<ul>
<li>Todas derivan de la clase <strong><code>System.Exception</code></strong></li>
<li>Existen algunas ya muchas <strong><a href="https://docs.microsoft.com/es-es/dotnet/standard/exceptions/?redirectedfrom=MSDN#common-exceptions" target="_blank">predefinidas</a></strong>.</li>
<li>Podemos definir <strong>excepciones propias</strong> mediante el mecanismo de herencia.</li>
</ul>
<h5 class="mume-header" id="ejemplo-de-generaci%C3%B3n-de-excepciones-en-c">Ejemplo de generaci&#xF3;n de excepciones en C#</h5>

<p>Utilizaremos la instrucci&#xF3;n <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/throw" target="_blank">throw</a></strong> &#x2192; *<em><code>throw new &lt;TipoExcepci&#xF3;n&gt;;</code></em></p>
<p>Veamos un ejemplo en el que vamos a usar la excepci&#xF3;n ya predefinida <strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.argumentnullexception?view=netcore-3.1" target="_blank">ArgumentNullException</a></strong> que me servir&#xE1; para detectar aquellos tipos referencia que sean <strong><code>null</code></strong> antes de usarlos.</p>
<p>Por ejemplo, en el constructor copia que creamos para la clase <strong><code>Articulo</code></strong> podemos comprobar que el objeto <strong><code>articulo</code></strong> a copiar no sea <strong><code>null</code></strong></p>
<pre data-role="codeBlock" data-info="csharp {highlight=4}" class="language-csharp" data-line="4"><span class="token keyword">class</span> <span class="token class-name">Sicologo</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Atiende</span><span class="token punctuation">(</span><span class="token class-name">Paciente</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;- Sic&#xF3;logo: Buenos d&#xED;as!. &#xBF;C&#xF3;mo se llama?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;- Paciente: Soy {p.GetNombre()}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;- Sic&#xF3;logo: D&#xED;game {p.GetNombre()}!.. &#xBF;Qu&#xE9; siente?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">&quot;- Paciente: {p.GetRespuesta()}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuilder</span> accion <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">&quot;- Sic&#xF3;logo: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        accion<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span><span class="token function">Diagnostico</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>$<span class="token string">&quot;\n- Sic&#xF3;logo: Que pase el siguiente !!!\n\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>accion<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div></pre>
      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>