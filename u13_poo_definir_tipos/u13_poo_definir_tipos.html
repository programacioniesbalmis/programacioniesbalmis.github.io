<!DOCTYPE html><html><head>
      <title>Programación 1º DAM Unidad 13</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.css">
      
      
      
      
      
      <style>
      @import url(https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css);
code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}@font-face{font-family:"Material Icons";font-style:normal;font-weight:400;src:local("Material Icons"),local("MaterialIcons-Regular"),url("data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAfIAAsAAAAADDAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFZW7kosY21hcAAAAYAAAADTAAACjtP6ytBnbHlmAAACVAAAAxgAAAQ4zRtvlGhlYWQAAAVsAAAALwAAADYRwZsnaGhlYQAABZwAAAAcAAAAJAeKAzxobXR4AAAFuAAAABIAAAA8OGQAAGxvY2EAAAXMAAAAIAAAACAG5AfwbWF4cAAABewAAAAfAAAAIAEfAERuYW1lAAAGDAAAAVcAAAKFkAhoC3Bvc3QAAAdkAAAAYgAAAK2vz7wkeJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2BkPsQ4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDgwVLy4xKzzX4chhrmK4QpQmBEkBwAZygyweJzFkr0NwjAQhZ+TEP6CRUfHBEwRUWaQTICyQbpMwRCskA5RUIONxG0RnnNpKAIV4qzPku/8c353ACYAYrIjCWCuMAh2ptf0/hiL3p/gyPUWa3osqlt0L1zu9r71z8dGrJRykFoauXQd932Lj5vhG+MjxGeYI8MKETObMpslf5EyP8tg+vHun5r539PvlvXzaVhRFVQDTPEWKVQR90KhnnC5Ek67vUKN4VuFasM/ldARj43CCkCsEjpJSoVVgRyU0GVSK6wUpFFCx8lFgX0BiXpRPQB4nE2TTWjcRhTH3xttpDhxN7uxPlp3u/FK7moRPixafRijNosxSw/LUsIwNcaEHPZggo/FmEKMCKWU4kNOOftQSlhE8alnH0Ix9BqWnHooPRrTQ0+mnu2bXTu2pPdGM9LM/6c3fwECTM4gBBMYQNqxzLrZAjqYSlqu2TAHZQA0/DQJH6FtzqGDnvbt4Ggwvzw/nL8EfH8kW0fsuRqhgWXZnY7M1picaUL7Du5BHeDzMIl83dAt016wH1qmvtSMo5R6YRJHTR//FXsff/nj/tc/5K9P5d+nP22+fFK5u7v3K39SW3y+OtDKO3L85vD09PD9z5X17a2N1g4tqk01RlqX7gyoEmnsWQtVr4rtZMmukEaFBZxzefkCn11cyKMLZgshRwgTYNoLNXCBz2ja7HvZG7hDpPSNfoo5vs0knK/9hb+rNpu+8kHPgk/Ao4kK3tWtTpSEtvkA9c+wE6UaUdwieNkaHg55tBEtRiEPw1s0+FtrtTcc9two2lhMknV7PZF/cs6+uUFTmpTGbEx7sQCPSLOttHS3GRltqp7SNzVSKzl6aWnZT/CX5k6/v9N3Hh8fHBwffJVjhrC6OgH5dkIt/tPsq+d/PD5Qz7G7efzq1THFjdZVPe/N6ulQ3JnDWSE5junsFsVIiFwL/htf1S5gJ3BfOcUxfHKLnzqpFpyfZ9cX+/5WB6a+Y0pHpzkNrYNVDwMsikK+y7WuLCRg/oFHkA8VT3rDg5ZnU6ktzzINymV0m74Xd5pfIGXyFeVEQSShkzqG7TBBa2OxVRKitLXv7h3uuftXnXq7lz2tZ/WnWa9dx9dCjDhHzmuVQATlmljr9dZErUydSo2Hbi/b1vXtrOeGCk2/8s3ZlO8+ueJT8BVlw5pGw2oYccdSiHHqx0RlabHqdNR9jAETl6PreJcPBnnfpTLnOQ8C3OV8AmQGzouV1iZdeb5SSIoVc8W8/kcDtksUH5FrU6/aqBqNWcMEzxG4DAQ14qRQhi9mWU0rzepKezbjfgCwQKxVYq5ajRgpRqy45CqwkJydcEkbTkvRz8P5/2ZpDTN4nGNgZGBgAOKb6v+/xvPbfGXgZmEAgeuB2kkI+v8bFgbmKiCXg4EJJAoAPyAKhQB4nGNgZGBg1vmvwxDDwgACQJKRARXwAwAzZQHQeJxjYQCCFAYGFgbSMQAcWACdAAAAAAAAAAwALgBgAIQAmADSAQgBIgE8AVABoAHeAfwCHHicY2BkYGDgZ7BgYGMAASYg5gJCBob/YD4DAA/hAWQAeJxlkbtuwkAURMc88gApQomUJoq0TdIQzEOpUDokKCNR0BuzBiO/tF6QSJcPyHflE9Klyyekz2CuG8cr7547M3d9JQO4xjccnJ57vid2cMHqxDWc40G4Tv1JuEF+Fm6ijRfhM+oz4Ra6eBVu4wZvvMFpXLIa40PYQQefwjVc4Uu4Tv1HuEH+FW7i1mkKn6Hj3Am3sHC6wm08Ou8tpSZGe1av1PKggjSxPd8zJtSGTuinyVGa6/Uu8kxZludCmzxMEzV0B6U004k25W35fj2yNlCBSWM1paujKFWZSbfat+7G2mzc7weiu34aczzFNYGBhgfLfcV6iQP3ACkSaj349AxXSN9IT0j16JepOb01doiKbNWt1ovippz6sVYYwsXgX2rGVFIkq7Pl2PNrI6qW6eOshj0xaSq9mpNEZIWs8LZUfOouNkVXxp/d5woqebeYIf4D2J1ywQB4nG3LOw6AIBAE0B384B+PAkgEa+QwNnYmHt+EpXSal5lkSBBnoP8oCFSo0aCFRIceA0ZMmLFAYSW88rmvtMUjG3RiQ9HvpfusM6zWNmtc5H/iPewha50tOt5PS/QBx2IeSwAA") format("woff")}.admonition{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);position:relative;margin:1.5625em 0;padding:0 1.2rem;border-left:.4rem solid rgba(68,138,255,.8);border-radius:.2rem;background-color:rgba(255,255,255,.05);overflow:auto}.admonition>p{margin-top:.8rem}.admonition>.admonition-title{margin:0 -1.2rem;padding:.8rem 1.2rem .8rem 3.6rem;border-bottom:1px solid rgba(68,138,255,.2);background-color:rgba(68,138,255,.1);font-weight:700}.admonition>.admonition-title:before{position:absolute;left:1.2rem;font-size:1.5rem;color:rgba(68,138,255,.8);content:"\E3C9"}.admonition>.admonition-title:before{font-family:Material Icons;font-style:normal;font-variant:normal;font-weight:400;line-height:2rem;text-transform:none;white-space:nowrap;speak:none;word-wrap:normal;direction:ltr}.admonition.abstract,.admonition.summary,.admonition.tldr{border-left-color:rgba(0,176,255,.8)}.admonition.abstract>.admonition-title,.admonition.summary>.admonition-title,.admonition.tldr>.admonition-title{background-color:rgba(0,176,255,.1);border-bottom-color:rgba(0,176,255,.2)}.admonition.abstract>.admonition-title:before,.admonition.summary>.admonition-title:before,.admonition.tldr>.admonition-title:before{color:#00b0ff;content:"\E8D2"}.admonition.hint,.admonition.tip{border-left-color:rgba(0,191,165,.8)}.admonition.hint>.admonition-title,.admonition.tip>.admonition-title{background-color:rgba(0,191,165,.1);border-bottom-color:rgba(0,191,165,.2)}.admonition.hint>.admonition-title:before,.admonition.tip>.admonition-title:before{color:#00bfa5;content:"\E80E"}.admonition.info,.admonition.todo{border-left-color:rgba(0,184,212,.8)}.admonition.info>.admonition-title,.admonition.todo>.admonition-title{background-color:rgba(0,184,212,.1);border-bottom-color:rgba(0,184,212,.2)}.admonition.info>.admonition-title:before,.admonition.todo>.admonition-title:before{color:#00b8d4;content:"\E88E"}.admonition.check,.admonition.done,.admonition.success{border-left-color:rgba(0,200,83,.8)}.admonition.check>.admonition-title,.admonition.done>.admonition-title,.admonition.success>.admonition-title{background-color:rgba(0,200,83,.1);border-bottom-color:rgba(0,200,83,.2)}.admonition.check>.admonition-title:before,.admonition.done>.admonition-title:before,.admonition.success>.admonition-title:before{color:#00c853;content:"\E876"}.admonition.faq,.admonition.help,.admonition.question{border-left-color:rgba(100,221,23,.8)}.admonition.faq>.admonition-title,.admonition.help>.admonition-title,.admonition.question>.admonition-title{background-color:rgba(100,221,23,.1);border-bottom-color:rgba(100,221,23,.2)}.admonition.faq>.admonition-title:before,.admonition.help>.admonition-title:before,.admonition.question>.admonition-title:before{color:#64dd17;content:"\E887"}.admonition.attention,.admonition.caution,.admonition.warning{border-left-color:rgba(255,145,0,.8)}.admonition.attention>.admonition-title,.admonition.caution>.admonition-title,.admonition.warning>.admonition-title{background-color:rgba(255,145,0,.1);border-bottom-color:rgba(255,145,0,.2)}.admonition.attention>.admonition-title:before{color:#ff9100;content:"\E417"}.admonition.caution>.admonition-title:before,.admonition.warning>.admonition-title:before{color:#ff9100;content:"\E002"}.admonition.fail,.admonition.failure,.admonition.missing{border-left-color:rgba(255,82,82,.8)}.admonition.fail>.admonition-title,.admonition.failure>.admonition-title,.admonition.missing>.admonition-title{background-color:rgba(255,82,82,.1);border-bottom-color:rgba(255,82,82,.2)}.admonition.fail>.admonition-title:before,.admonition.failure>.admonition-title:before,.admonition.missing>.admonition-title:before{color:#ff5252;content:"\E14C"}.admonition.bug,.admonition.danger,.admonition.error{border-left-color:rgba(255,23,68,.8)}.admonition.bug>.admonition-title,.admonition.danger>.admonition-title,.admonition.error>.admonition-title{background-color:rgba(255,23,68,.1);border-bottom-color:rgba(255,23,68,.2)}.admonition.danger>.admonition-title:before{color:#ff1744;content:"\E3E7"}.admonition.error>.admonition-title:before{color:#ff1744;content:"\E14C"}.admonition.bug>.admonition-title:before{color:#ff1744;content:"\E868"}.admonition.example,.admonition.snippet{border-left-color:rgba(0,184,212,.8)}.admonition.example>.admonition-title,.admonition.snippet>.admonition-title{background-color:rgba(0,184,212,.1);border-bottom-color:rgba(0,184,212,.2)}.admonition.example>.admonition-title:before,.admonition.snippet>.admonition-title:before{color:#00b8d4;content:"\E242"}.admonition.cite,.admonition.quote{border-left-color:rgba(158,158,158,.8)}.admonition.cite>.admonition-title,.admonition.quote>.admonition-title{background-color:rgba(158,158,158,.1);border-bottom-color:rgba(158,158,158,.2)}.admonition.cite>.admonition-title:before,.admonition.quote>.admonition-title:before{color:#9e9e9e;content:"\E244"}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v28/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
@page a4landscape {
  size: A4 landscape;
  margin: 1cm;
}
@page a4portrait {
  size: A4 portrait;
  margin: 1cm 1cm 2.5cm 1cm;
}
.markdown-preview.markdown-preview .landscape {
  page: a4landscape;
}
.markdown-preview.markdown-preview .portrait {
  page: a4portrait;
}
.markdown-preview.markdown-preview .box_bg_lightgray {
  background-color: #f5f5f5;
  border: 2px solid #969696;
  padding: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .box_bg_lightgreen {
  background-color: #f5faf5;
  border: 2px solid #969b96;
  padding-left: 15px;
  padding-right: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .salida_consola {
  background-color: #000000;
  color: aquamarine;
  border: 3px solid slategrey;
  padding-top: 15px;
  padding-bottom: 15px;
  padding-left: 10px;
  padding-right: 10px;
  margin-top: 10px;
  margin-bottom: 10px;
  border-radius: 5px;
  box-shadow: 3px 3px 6px 0 slategrey;
  font-family: "Lucida Console", Courier, monospace;
  font-size: 0.8rem;
}
.markdown-preview.markdown-preview .contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.markdown-preview.markdown-preview .fondo {
  background: url(https://balmisdigigs.github.io/digitalizacion.github.io/imagenes/fondos/quote.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.markdown-preview.markdown-preview .cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.markdown-preview.markdown-preview .abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.markdown-preview.markdown-preview .cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.markdown-preview.markdown-preview .autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
.markdown-preview.markdown-preview .flotante {
  display: flex;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    justify-content: center;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    justify-content: space-between;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: row;
  }
}
.markdown-preview.markdown-preview .flotante_izq {
  margin-right: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: auto;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: auto;
  }
}
.markdown-preview.markdown-preview .galeria_imagenes {
  display: flex;
  justify-content: space-evenly;
  align-items: center;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .galeria_imagenes {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .galeria_imagenes {
    flex-direction: row;
  }
}
.markdown-preview.markdown-preview .code-block-wrapper {
  position: relative;
  margin: 16px 0;
}
.markdown-preview.markdown-preview .copy-button {
  position: absolute;
  top: 8px;
  right: 8px;
  padding: 6px 12px;
  background-color: #2196F3;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  font-family: Arial, sans-serif;
  opacity: 0;
  transition: opacity 0.3s, background-color 0.2s;
  z-index: 10;
}
.markdown-preview.markdown-preview .code-block-wrapper:hover .copy-button {
  opacity: 1;
}
.markdown-preview.markdown-preview .copy-button:hover {
  background-color: #1976D2;
}
.markdown-preview.markdown-preview .copy-button:active {
  background-color: #0D47A1;
}
.markdown-preview.markdown-preview .copy-button.copied {
  background-color: #4CAF50;
}
.markdown-preview.markdown-preview .copy-button.copied::after {
  content: ' ✓';
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">

    // Configure Mermaid to load icon packs from Iconify

    const configureMermaidIconPacks = () => {
        window["mermaid"].registerIconPacks([
            {
                name: "logos",
                loader: () =>
                    fetch("https://unpkg.com/@iconify-json/logos@1/icons.json").then(
                        (res) => res.json()
                    ),
            },
        ]);
    };

    if (document.readyState !== 'loading') {
        configureMermaidIconPacks();
    } else {
        document.addEventListener("DOMContentLoaded", () => {
            configureMermaidIconPacks();
        });
    }

    // Copy to clipboard functionality for code blocks

    document.addEventListener('DOMContentLoaded', function () {
        initCopyButtons();
    });

    function initCopyButtons() {
        const codeBlocks = document.querySelectorAll('pre[data-role="codeBlock"]');

        codeBlocks.forEach(function (codeBlock) {
            const wrapper = document.createElement('div');
            wrapper.className = 'code-block-wrapper';
            codeBlock.parentNode.insertBefore(wrapper, codeBlock);
            wrapper.appendChild(codeBlock);

            const copyButton = document.createElement('button');
            copyButton.className = 'copy-button';
            copyButton.textContent = 'Copy';
            copyButton.setAttribute('aria-label', 'Copy code to clipboard');

            copyButton.addEventListener('click', function () {
                copyCodeToClipboard(codeBlock, copyButton);
            });

            wrapper.appendChild(copyButton);
        });
    }

    function copyCodeToClipboard(codeBlock, button) {
        const codeText = extractCodeText(codeBlock);
        if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(codeText)
                .then(function () {
                    showCopySuccess(button);
                })
                .catch(function (err) {
                    console.error('Failed to copy text: ', err);
                    fallbackCopyToClipboard(codeText, button);
                });
        } else {
            fallbackCopyToClipboard(codeText, button);
        }
    }

    function extractCodeText(codeBlock) {
        const clone = codeBlock.cloneNode(true);
        const text = clone.textContent || clone.innerText;
        return text.trim();
    }

    function fallbackCopyToClipboard(text, button) {
        const textarea = document.createElement('textarea');
        textarea.value = text;
        textarea.style.position = 'fixed';
        textarea.style.top = '0';
        textarea.style.left = '0';
        textarea.style.opacity = '0';

        document.body.appendChild(textarea);
        textarea.focus();
        textarea.select();

        try {
            const successful = document.execCommand('copy');
            if (successful) {
                showCopySuccess(button);
            } else {
                console.error('Fallback copy failed');
            }
        } catch (err) {
            console.error('Fallback copy error: ', err);
        }

        document.body.removeChild(textarea);
    }

    function showCopySuccess(button) {
        const originalText = button.textContent;

        button.textContent = 'Copied';
        button.classList.add('copied');

        setTimeout(function () {
            button.textContent = originalText;
            button.classList.remove('copied');
        }, 2000);
    }
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="unidad-13">Unidad 13 </h1>
<p>Descargar estos apunte en <a href="./u13_poo_definir_tipos.pdf">pdf</a> o <a href="./u13_poo_definir_tipos.html">html</a></p>
<h2 id="índice">Índice </h2>

<div class="md-toc">
<div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">
          <a href="#índice" class="md-toc-link">
            <p>Índice</p>

          </a></div><details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#definiendo-tipos-de-datos-en-poo" class="md-toc-link"><p>Definiendo tipos de datos en POO</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#introducción" class="md-toc-link">
            <p>Introducción</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#definiendo-nuestra-primera-clase-a-través-de-csharp" class="md-toc-link"><p>Definiendo nuestra primera clase a través de CSharp</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#paso-1-definir-los-campos-atributos-en-poo-clásica" class="md-toc-link">
            <p>Paso 1: Definir los campos (atributos en POO clásica)</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#paso-2-definir-los-constructores--destructores-de-objetos" class="md-toc-link"><p>Paso 2: Definir los constructores / destructores de objetos</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#referencia-implícita-this" class="md-toc-link">
            <p>Referencia implícita this</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#constructor-por-defecto" class="md-toc-link">
            <p>Constructor por defecto</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#constructor-copia" class="md-toc-link">
            <p>Constructor copia</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#destructores" class="md-toc-link">
            <p>Destructor/es</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#paso-3-definir-los-accesores-y-mutadores" class="md-toc-link"><p>Paso 3: Definir los accesores y mutadores</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#método-accesor-o-getter" class="md-toc-link">
            <p>Método accesor o getter</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#método-mutador-o-setter" class="md-toc-link">
            <p>Método mutador o setter</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#tips-de-diseño-de-getters-y-setters" class="md-toc-link">
            <p>Tips de diseño de <em>'getters'</em> y <em>'setters'</em></p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#paso-4-definir-métodos-u-operaciones-de-la-clase" class="md-toc-link">
            <p>Paso 4: Definir métodos u operaciones de la clase</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#paso-5-crear-un-pequeño-test-para-nuestra-clase-opcional" class="md-toc-link">
            <p>Paso 5: Crear un pequeño test para nuestra clase (Opcional)</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#resumen-de-directrices-generales-de-definición-de-clases" class="md-toc-link">
            <p>Resumen de directrices generales de definición de clases</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#sustituyendo-los-métodos-accesores-y-mutadores-por-propiedades" class="md-toc-link"><p>Sustituyendo los métodos accesores y mutadores por propiedades</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#usando-las-propiedades-definidas" class="md-toc-link">
            <p>Usando las propiedades definidas</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#sentido-del-uso-de-propiedades" class="md-toc-link">
            <p>Sentido del uso de propiedades</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#propiedades-calculadas" class="md-toc-link">
            <p>Propiedades calculadas</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#simplificando-la-definición-de-propiedades" class="md-toc-link"><p>Simplificando la definición de propiedades</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#propiedades-con-cuerpo-de-expresión" class="md-toc-link">
            <p>Propiedades con cuerpo de expresión</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#propiedades-autoimplementadas-o-automáticas" class="md-toc-link">
            <p>Propiedades '<em>autoimplementadas</em>' o '<em>automáticas</em>'</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#aplicando-las-simplificaciones-a-nuestras-clases-de-ejemplo" class="md-toc-link"><p>Aplicando las simplificaciones a nuestras clases de ejemplo</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#refactorizando-con-vscode" class="md-toc-link">
            <p>Refactorizando con VSCode</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    
        </div>
      </details>
    <details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#definiendo-value-objects-objetos-valor" class="md-toc-link"><p>Definiendo Value Objects (Objetos Valor)</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#tips-para-definir-un-value-object" class="md-toc-link">
            <p>Tips para definir un Value Object</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#value-object-como-tipo-referecia-reference-type-en-csharp" class="md-toc-link"><p>Value Object como tipo referecia (Reference Type) en CSharp</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#representación-en-uml-de-un-value-object-como-tipo-referencia" class="md-toc-link">
            <p>Representación en UML de un Value Object como tipo referencia</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#definir-un-value-object-por-referencia-simplificada" class="md-toc-link">
            <p>Definir un Value Object por referencia SIMPLIFICADA</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#instanciar-un-value-object-definido-por-referencia" class="md-toc-link">
            <p>Instanciar un Value Object definido por referencia</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#comparar-dos-value-objects-definido-por-referencia" class="md-toc-link">
            <p>Comparar dos Value Objects definido por referencia</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#copiar-un-value-objects-definido-por-referencia" class="md-toc-link">
            <p>Copiar un Value Objects definido por referencia</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#visualizar-un-value-object-definido-por-referencia" class="md-toc-link">
            <p>Visualizar un Value Object definido por referencia</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#definir-un-value-object-por-referencia-extendida" class="md-toc-link">
            <p>Definir un Value Object por referencia EXTENDIDA</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    <details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#anexo-i---value-object-como-tipo-valor-value-type-en-csharp" class="md-toc-link"><p>Anexo I - Value Object como tipo valor (Value Type) en CSharp</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#un-poco-de-historia-y-representación-en-uml" class="md-toc-link">
            <p>Un poco de historia y representación en UML</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#definir-un-value-object-por-valor-simplificada" class="md-toc-link">
            <p>Definir un Value Object por valor SIMPLIFICADA</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#uso-de-un-value-object-definido-por-valor" class="md-toc-link">
            <p>Uso de un Value Object definido por valor</p>

          </a></div>
        </div>
      </details>
    
</div>
<div style="page-break-after:always;"></div>
<h2 id="definiendo-tipos-de-datos-en-poo">Definiendo tipos de datos en POO </h2>
<h3 id="introducción">Introducción </h3>
<p>Repasemos a través del siguiente diagrama las definiciones y conceptos iniciales de POO que vimos en la <strong>unidad 10</strong></p>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="MINDMAP" height="607px" preserveAspectRatio="none" style="width:683px;height:607px;background:#FFFFFF;" version="1.1" viewBox="0 0 683 607" width="683px" zoomAndPan="magnify"><defs><filter height="300%" id="ff852oef1ckp1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><rect fill="#4682B4" filter="url(#ff852oef1ckp1)" height="72.8281" rx="12.5" ry="12.5" style="stroke:#F0FFFF;stroke-width:1.5;" width="103.2412" x="289.3726" y="213.6563"></rect><text fill="#F0FFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="83.2412" x="299.3726" y="238.1895">Definiciones</text><text fill="#F0FFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="52.9307" x="314.5278" y="255.7988">Básicas</text><text fill="#F0FFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="31.1172" x="325.4346" y="273.4082">POO</text><rect fill="#F0F8FF" height="61.7344" rx="12.5" ry="12.5" style="stroke:#87CEEB;stroke-width:2;" width="125" x="278.4932" y="311.4844"></rect><text fill="#4682B4" font-family="sans-serif" font-size="10" font-weight="bold" lengthAdjust="spacing" textLength="33.8916" x="290.4932" y="333.8652">CLASE</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="43.9111" x="290.4932" y="346.4434">Definición</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="2.7783" x="334.4043" y="346.4434">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="11.123" x="337.1826" y="346.4434">de</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="11.123" x="290.4932" y="359.0215">un</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="2.7783" x="301.6162" y="359.0215">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="16.123" x="304.3945" y="359.0215">tipo</text><rect fill="#F0FFFF" height="31.3203" rx="12.5" ry="12.5" style="stroke:#87CEEB;stroke-width:1.5;" width="100" x="22" y="402.2188"></rect><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="39.999" x="32" y="421.5615">NOMBRE</text><path d="M340.9932,373.2188 L340.9932,376.2188 C340.9932,383.2188 72,392.2188 72,399.2188 L72,402.2188" fill="none" style="stroke:#4682B4;stroke-width:1.5;stroke-dasharray:3,3;"></path><rect fill="#F0FFFF" height="99.2422" rx="12.5" ry="12.5" style="stroke:#87CEEB;stroke-width:1.5;" width="117.0576" x="146" y="402.2188"></rect><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="52.4971" x="156" y="421.5615">ATRIBUTOS</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="31.021" x="156" y="432.8818">Definen</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="187.021" y="432.8818">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="7.0049" x="189.5215" y="432.8818">el</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="196.5264" y="432.8818">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="29.0083" x="199.0269" y="432.8818">estado</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="228.0352" y="432.8818">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="10.0107" x="230.5356" y="432.8818">de</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="240.5464" y="432.8818">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="10.0107" x="243.0469" y="432.8818">un</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="24.5215" x="156" y="444.2021">objeto</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="11.5049" x="156" y="455.5225">De</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="167.5049" y="455.5225">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="23.0186" x="170.0054" y="455.5225">ahora</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="193.0239" y="455.5225">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="10.0107" x="195.5244" y="455.5225">en</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="205.5352" y="455.5225">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="34.5322" x="208.0356" y="455.5225">adelante</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="11.5049" x="156" y="466.8428">los</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="167.5049" y="466.8428">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="64.5337" x="170.0054" y="466.8428">denominaremos</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="14.5107" x="156" y="478.1631">con</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="170.5107" y="478.1631">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="7.0049" x="173.0112" y="478.1631">la</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="180.0161" y="478.1631">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="54.5317" x="182.5166" y="478.1631">nomenclatura</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="237.0483" y="478.1631">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="10.0107" x="239.5488" y="478.1631">de</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="11.5049" x="156" y="489.4834">C#</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="167.5049" y="489.4834">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="39.5024" x="170.0054" y="489.4834">CAMPOS</text><rect fill="#FFFFFF" height="53.9609" rx="12.5" ry="12.5" style="stroke:#87CEEB;stroke-width:1.5;" width="107.0601" x="85.2161" y="530.4609"></rect><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="11.5049" x="95.2161" y="549.8037">De</text><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="30.5024" x="109.2214" y="549.8037">CLASE</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="87.0601" x="95.2161" y="561.124">No necesito un objeto</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="83.5488" x="95.2161" y="572.4443">para acceder a ellos.</text><path d="M204.5288,501.4609 L204.5288,504.4609 C204.5288,511.4609 138.7461,520.4609 138.7461,527.4609 L138.7461,530.4609" fill="none" style="stroke:#4682B4;stroke-width:1.5;stroke-dasharray:3,3;"></path><rect fill="#FFFFFF" height="65.2813" rx="12.5" ry="12.5" style="stroke:#87CEEB;stroke-width:1.5;" width="107.5654" x="216.2761" y="530.4609"></rect><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="11.5049" x="226.2761" y="549.8037">De</text><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="48.999" x="240.2815" y="549.8037">INSTANCIA</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="63.0439" x="226.2761" y="561.124">Pertenecen a la</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="87.5654" x="226.2761" y="572.4443">instáncia de un objeto</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="87.0381" x="226.2761" y="583.7646">concreto en memoria.</text><path d="M204.5288,501.4609 L204.5288,504.4609 C204.5288,511.4609 270.0588,520.4609 270.0588,527.4609 L270.0588,530.4609" fill="none" style="stroke:#4682B4;stroke-width:1.5;stroke-dasharray:3,3;"></path><path d="M340.9932,373.2188 L340.9932,376.2188 C340.9932,383.2188 204.5288,392.2188 204.5288,399.2188 L204.5288,402.2188" fill="none" style="stroke:#4682B4;stroke-width:1.5;stroke-dasharray:3,3;"></path><rect fill="#F0FFFF" height="99.2422" rx="12.5" ry="12.5" style="stroke:#87CEEB;stroke-width:1.5;" width="113.5596" x="410.3745" y="402.2188"></rect><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="66.5112" x="420.3745" y="421.5615">OPERACIONES</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="36.0176" x="420.3745" y="432.8818">Cambian</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="456.3921" y="432.8818">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="7.0049" x="458.8926" y="432.8818">el</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="465.8975" y="432.8818">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="29.0083" x="468.3979" y="432.8818">estado</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="497.4063" y="432.8818">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="10.0107" x="499.9067" y="432.8818">de</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="10.0107" x="420.3745" y="444.2021">un</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="430.3853" y="444.2021">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="24.5215" x="432.8857" y="444.2021">objeto</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="11.5049" x="420.3745" y="455.5225">De</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="431.8794" y="455.5225">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="23.0186" x="434.3799" y="455.5225">ahora</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="457.3984" y="455.5225">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="10.0107" x="459.8989" y="455.5225">en</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="469.9097" y="455.5225">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="34.5322" x="472.4102" y="455.5225">adelante</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="11.5049" x="420.3745" y="466.8428">los</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="431.8794" y="466.8428">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="64.5337" x="434.3799" y="466.8428">denominaremos</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="14.5107" x="420.3745" y="478.1631">con</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="434.8853" y="478.1631">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="7.0049" x="437.3857" y="478.1631">la</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="444.3906" y="478.1631">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="54.5317" x="446.8911" y="478.1631">nomenclatura</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="501.4229" y="478.1631">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="10.0107" x="503.9233" y="478.1631">de</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="11.5049" x="420.3745" y="489.4834">C#</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="431.8794" y="489.4834">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="45.501" x="434.3799" y="489.4834">MÉTODOS</text><rect fill="#FFFFFF" height="53.9609" rx="12.5" ry="12.5" style="stroke:#87CEEB;stroke-width:1.5;" width="107.0601" x="347.8416" y="530.4609"></rect><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="11.5049" x="357.8416" y="549.8037">De</text><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="30.5024" x="371.8469" y="549.8037">CLASE</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="87.0601" x="357.8416" y="561.124">No necesito un objeto</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="83.5488" x="357.8416" y="572.4443">para acceder a ellos.</text><path d="M467.1543,501.4609 L467.1543,504.4609 C467.1543,511.4609 401.3716,520.4609 401.3716,527.4609 L401.3716,530.4609" fill="none" style="stroke:#4682B4;stroke-width:1.5;stroke-dasharray:3,3;"></path><rect fill="#FFFFFF" height="65.2813" rx="12.5" ry="12.5" style="stroke:#87CEEB;stroke-width:1.5;" width="107.5654" x="478.9016" y="530.4609"></rect><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="11.5049" x="488.9016" y="549.8037">De</text><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="48.999" x="502.907" y="549.8037">INSTANCIA</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="63.0439" x="488.9016" y="561.124">Pertenecen a la</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="87.5654" x="488.9016" y="572.4443">instáncia de un objeto</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="87.0381" x="488.9016" y="583.7646">concreto en memoria.</text><path d="M467.1543,501.4609 L467.1543,504.4609 C467.1543,511.4609 532.6843,520.4609 532.6843,527.4609 L532.6843,530.4609" fill="none" style="stroke:#4682B4;stroke-width:1.5;stroke-dasharray:3,3;"></path><path d="M340.9932,373.2188 L340.9932,376.2188 C340.9932,383.2188 467.1543,392.2188 467.1543,399.2188 L467.1543,402.2188" fill="none" style="stroke:#4682B4;stroke-width:1.5;stroke-dasharray:3,3;"></path><rect fill="#F0FFFF" height="53.9609" rx="12.5" ry="12.5" style="stroke:#87CEEB;stroke-width:1.5;" width="112.0522" x="547.9341" y="402.2188"></rect><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="31.0034" x="557.9341" y="421.5615">ROLES</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="31.021" x="557.9341" y="432.8818">Definen</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="588.9551" y="432.8818">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="11.5049" x="591.4556" y="432.8818">las</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="602.9604" y="432.8818">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="44.5254" x="605.4609" y="432.8818">relaciones</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="14.5107" x="557.9341" y="444.2021">con</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="572.4448" y="444.2021">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="20.0083" x="574.9453" y="444.2021">otras</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="594.9536" y="444.2021">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="25.5103" x="597.4541" y="444.2021">clases</text><path d="M340.9932,373.2188 L340.9932,376.2188 C340.9932,383.2188 603.9602,392.2188 603.9602,399.2188 L603.9602,402.2188" fill="none" style="stroke:#4682B4;stroke-width:1.5;stroke-dasharray:3,3;"></path><path d="M340.9932,286.4844 L340.9932,289.4844 C340.9932,296.4844 340.9932,301.4844 340.9932,308.4844 L340.9932,311.4844" fill="none" style="stroke:#4682B4;stroke-width:1.5;stroke-dasharray:3,3;"></path><rect fill="#F0F8FF" height="61.7344" rx="12.5" ry="12.5" style="stroke:#87CEEB;stroke-width:2;" width="125" x="278.4932" y="126.9219"></rect><text fill="#4682B4" font-family="sans-serif" font-size="10" font-weight="bold" lengthAdjust="spacing" textLength="41.1182" x="290.4932" y="149.3027">OBJETO</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="40.0244" x="290.4932" y="161.8809">Instancia</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="2.7783" x="330.5176" y="161.8809">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="38.3545" x="333.2959" y="161.8809">concreta</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="13.3447" x="290.4932" y="174.459">del</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="2.7783" x="303.8379" y="174.459">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="16.123" x="306.6162" y="174.459">tipo</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="2.7783" x="322.7393" y="174.459">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="11.123" x="325.5176" y="174.459">de</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="2.7783" x="336.6406" y="174.459">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="7.7832" x="339.4189" y="174.459">la</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="2.7783" x="347.2021" y="174.459">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="23.3447" x="349.9805" y="174.459">clase</text><rect fill="#F0FFFF" height="65.2813" rx="12.5" ry="12.5" style="stroke:#87CEEB;stroke-width:1.5;" width="100" x="220.2139" y="32.6406"></rect><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="43.9937" x="230.2139" y="51.9834">MUTABLE</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="31.0122" x="230.2139" y="63.3037">Cambia</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="261.2261" y="63.3037">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="9.5054" x="263.7266" y="63.3037">su</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="273.2319" y="63.3037">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="29.0083" x="275.7324" y="63.3037">estado</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="5.0054" x="230.2139" y="74.624">a</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="235.2192" y="74.624">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="24.5083" x="237.7197" y="74.624">través</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="262.228" y="74.624">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="10.0107" x="264.7285" y="74.624">de</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="274.7393" y="74.624">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="11.5049" x="277.2397" y="74.624">las</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="51.5347" x="230.2139" y="85.9443">operaciones.</text><path d="M340.9932,126.9219 L340.9932,123.9219 C340.9932,116.9219 270.2139,107.9219 270.2139,100.9219 L270.2139,97.9219" fill="none" style="stroke:#4682B4;stroke-width:1.5;stroke-dasharray:3,3;"></path><rect fill="#F0FFFF" height="87.9219" rx="12.5" ry="12.5" style="stroke:#87CEEB;stroke-width:1.5;" width="117.5586" x="344.2139" y="10"></rect><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="52.9937" x="354.2139" y="29.3428">INMUTABLE</text><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="11.9971" x="354.2139" y="40.6631">No</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="366.2109" y="40.6631">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="29.0127" x="368.7114" y="40.6631">cambia</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="397.7241" y="40.6631">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="9.5054" x="400.2246" y="40.6631">su</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="409.73" y="40.6631">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" font-weight="bold" lengthAdjust="spacing" textLength="29.0083" x="412.2305" y="40.6631">estado</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="11.5049" x="354.2139" y="51.9834">las</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="365.7188" y="51.9834">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="49.0342" x="368.2192" y="51.9834">operaciones</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="417.2534" y="51.9834">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="22.5132" x="419.7539" y="51.9834">sobre</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="442.2671" y="51.9834">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="7.0049" x="444.7676" y="51.9834">el</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="26.499" x="354.2139" y="63.3037">mismo</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="15.0161" x="354.2139" y="74.624">dan</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="369.23" y="74.624">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="20.0127" x="371.7305" y="74.624">lugar</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="391.7432" y="74.624">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="5.0054" x="394.2437" y="74.624">a</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="2.5005" x="399.249" y="74.624">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="29.0215" x="401.7495" y="74.624">nuevos</text><text fill="#4682B4" font-family="sans-serif" font-size="9" lengthAdjust="spacing" textLength="31.522" x="354.2139" y="85.9443">objetos.</text><path d="M340.9932,126.9219 L340.9932,123.9219 C340.9932,116.9219 402.9932,107.9219 402.9932,100.9219 L402.9932,97.9219" fill="none" style="stroke:#4682B4;stroke-width:1.5;stroke-dasharray:3,3;"></path><path d="M340.9932,213.6563 L340.9932,210.6563 C340.9932,203.6563 340.9932,198.6563 340.9932,191.6563 L340.9932,188.6563" fill="none" style="stroke:#4682B4;stroke-width:1.5;stroke-dasharray:3,3;"></path><!--SRC=[pLRDZk964BxxAKhAPSRI4dw6Q1UjeZMCDs64CSAUpOLBOLUWCtOtwcwpExEQ1yXZx37dF08lbcfWmBCmqYPAfFY0xAglgxwlghgRTyQYjgMGUOahpxDg1LR1N5chIiY5fimA9JsJOK7GQZGzxwsnzmNzwEtNN0jSQ2pXimVyz79QsUL5ytB_xPwVbHOFIbeiWa8iP4dIGiO_f0-GaP0qK8NI43nKcWxsFcPt2wqgcU-yYIKg-aLrHBpdmETMEdiY7fZprNER8y_wYlnWJfQOguz2Bg2pjJtMbRJgIYQOvmxNQXzC4Ug5a7NBKKjoT_-Cg_EaIv7TIJ86sbpCbtHoeJ9wGUTf3IBy9Cgg_4NaTWcTRlVe4FBeQBMxPwhJF9NShal-E_fEL9nqv9iKj9hD5nJK70S5Rqu5TFuj0Qb6iqBDi_fDAivocgjFXMltvtyU0hLM7si1d83T77TUcArMetjExhDqZzwZz_Rx_MRsVBYcNxdO6UzsCZFPttmn8aD-y_r97Fi-Gtpm_S4eI4BVdyad-EPF2JdDP2N1YfLYb8EDuwW_PTp-CqYdm_vj6YU7bII12lOGdp-vOb1Em27K_3Uooc40bqeZC0vpAf2F2oYKOPXKVF9mKqh5v38beK1W6yciG5ln4euq-CvH3QA9o-WuE7brzcC5aZ8oWW-xMbfkDW9c6UMaWPCNdB9HMpyS9sam7Wm35sD2sfABmXIPn4mAQUpcYym4VgM6MMQQtvoQaebhWOrzPU99E0q6mtWSRcipm78kyB-lJRJvFOsl__VLcSQZyDdC56ZOh5dqRb2Tp-bKbhSgi4f3PdUB6P7JVcRZ_asOnWuwP0wufR1FohouWjl9TQouNDiO-_JHRHhqH-6nCM2gMbzc4e7phZT_cDrY0sf5Ua_jISDmN0l3EyCrD3iRxQi0ODHSank5KfYI2vNpO1JL0btnPKLhRlckXfpBUqTy7JzTunCt5BVH2DQa3GVZ0w7TR7SRLnS9MhZXuhTVGwlJQxxfjRim29CKdF_Ik_XfCkAybSw8RtzZjPXNxW_0fNU3QuHf9QqegGVkwoADBY49dumGohNGQdk_UpSVeXs8Rt-Rh9JTWd-uUjKN5XBIp0i-H1wt5Ql2yj9CkPkr1xVf-rUllH7AHOKBJiJj7F21RFLz3yBaBm00]--></g></svg></p><p></p>
<div style="page-break-after:always;"></div>
<h2 id="definiendo-nuestra-primera-clase-a-través-de-csharp">Definiendo nuestra primera clase a través de CSharp </h2>
<div class="admonition info">
<p class="admonition-title">Información</p>
<p>Para definir una clase en C# seguiremos las <strong><a href="https://learn.microsoft.com/es-es/dotnet/csharp/fundamentals/coding-style/identifier-names">convenciones de nomenclatura de identificadores de Microsoft para C#</a></strong>. Es muy <strong>importante conocerlas y seguirlas</strong>, pues todos los programadores del lenguaje la siguen y hace más fácil la lectura del código.<br>
<strong>Cada lenguaje tiene sus propias convenciones</strong> y es imprescindible seguirlas si trabajamos en proyectos colaborativos. Es más, debemos adaptarnos a las convenciones de los proyectos en los que trabajemos, pues no siempre serán las mismas dependiendo de la empresa o del equipo de desarrollo. <strong>Por lo que si has tomado vicios, manías o TOCs, es mejor que los abandones a partir de ahora y seas escrupuloso con las convenciones siguientes</strong>.</p>
</div>
<p>Supongamos que queremos definir un tipo que represente libros.<br>
Una posible representación UML del mismo podría ser:</p>
<div class="row">
<div class="col-sm-5 my-auto">
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="188.1px" preserveAspectRatio="none" style="width:307px;height:188px;background:#FFFFFF;" version="1.1" viewBox="0 0 307 188" width="307.8px" zoomAndPan="magnify"><defs></defs><g><!--class Libro--><g class="entity" data-entity="Libro" data-source-line="11" data-uid="ent0002" id="entity_Libro"><rect fill="#FFFAFA" height="169.9875" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="289.1997" x="6.3" y="6.3"></rect><ellipse cx="133.066" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M135.555,16.9875 Q135.6957,16.7906 135.8644,16.6922 Q136.0332,16.5938 136.23,16.5938 Q136.5675,16.5938 136.7785,16.8328 Q136.9894,17.0578 136.9894,17.6063 L136.9894,18.9141 Q136.9894,19.4625 136.7785,19.7016 Q136.5675,19.9406 136.23,19.9406 Q135.9207,19.9406 135.7378,19.7578 Q135.555,19.5891 135.4566,19.125 Q135.4144,18.8016 135.2457,18.6328 Q134.9503,18.2953 134.4019,18.0984 Q133.8535,17.9016 133.291,17.9016 Q132.6019,17.9016 132.0253,18.1969 Q131.4628,18.4922 131.0128,19.1672 Q130.5769,19.8422 130.5769,20.7703 L130.5769,21.7547 Q130.5769,22.8656 131.3785,23.6109 Q132.18,24.3422 133.6144,24.3422 Q134.4582,24.3422 135.0488,24.1172 Q135.4003,23.9766 135.78,23.5828 Q136.0191,23.3438 136.1457,23.2734 Q136.2863,23.2031 136.4691,23.2031 Q136.7644,23.2031 136.9894,23.4422 Q137.2285,23.6672 137.2285,23.9766 Q137.2285,24.2859 136.9191,24.6516 Q136.4691,25.1719 135.7519,25.4672 Q134.7816,25.875 133.6144,25.875 Q132.2503,25.875 131.1675,25.3125 Q130.2816,24.8625 129.6628,23.9063 Q129.0441,22.9359 129.0441,21.7828 L129.0441,20.7422 Q129.0441,19.5469 129.5925,18.5203 Q130.155,17.4797 131.1394,16.9313 Q132.1238,16.3688 133.2347,16.3688 Q133.8957,16.3688 134.4722,16.5234 Q135.0628,16.6641 135.555,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="28.0178" x="151.516" y="25.8557">Libro</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="294.5997" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="135.167" x="11.7" y="51.7799">-titulo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="112.0711" x="11.7" y="67.6283">-año : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="135.1854" x="11.7" y="83.4768">-paginas : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="109.2718" x="11.7" y="99.3252">-paginasLeidas : int</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="294.5997" y1="105.6938" y2="105.6938"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="278.3997" x="11.7" y="122.3736">+Libro(in titulo : string, in año : int, in paginas : int)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="141.8361" x="11.7" y="138.2221">+Lee(in paginas : int) : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="130.6266" x="11.7" y="154.0705">+PorcentajeLeido() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="96.9794" x="11.7" y="169.9189">+ATexto() : string</text></g><!--SRC=[XOvDJiCm44RtFiKiW_WHMzWbNI5LebAGMBlEa0vnFTLueW9L3yKPk1XEt4ffYuGtrinxck_p-AQW34BjIg4XGQV4mKHdFSBztOCniQEmiMBNuBoDiLGLMlQAJuv3JL_9cYYb26zdx5cWyjPr4xH8essnIbyht8ScQwyhKgpNtE74dGr95Kk3ylUnB9oTgWDlZHbRmfoMmcPd8BrRKDBUCpn2JEL32pj1spm7_xa_2FRdUy0Kz99jR4l1nd_m7AavIcP4rxb4GU4y_oP9ayXnF4cvEXv0B2xO8ICR2nQ7GUqx3WMuEANb2tveNkPaipU_]--></g></svg></p><p></p>
</div>
<div class="col-sm-7 my-auto">
<p>Para dibujar los <strong><a href="https://www.uml-diagrams.org/class-diagrams-overview.html">diagramas de clases de UML</a></strong> hemos seguido las convenciones de nombres y tipos de C#. Nos servirán de forma esquemática para sabes que queremos definir a partir del estándar de UML.</p>
</div>
</div>
<p>En la mayoría de lenguajes OO, para definir nuestra clase, seguiremos una plantilla similar a esta:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token operator">&lt;</span>NombreDeLaClase<span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token operator">&lt;</span>campos<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>constructor<span class="token operator">/</span>es<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>accesores<span class="token operator">/</span>mutadores<span class="token operator">&gt;</span><span class="token punctuation">(</span> o <span class="token operator">&lt;</span>propiedades en C#<span class="token operator">&gt;</span><span class="token punctuation">)</span>
    <span class="token operator">&lt;</span>métodos<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<div class="admonition danger">
<p class="admonition-title">Lee esto antes de seguir ✋</p>
<p>Es importante que pierdas un tiempo siguiendo los pasos descritos en el tema. Entendiendo el por qué de cada concepto para entender la posteriores refactorizaciones donde a través de simplificaciones añadidas en la sintaxis de los lenguajes Orientados a Objetos modernos quedan algunos conceptos ocultos o implícitos para que el código sea más legible y fácil de mantener.</p>
</div>
<h3 id="paso-1-definir-los-campos-atributos-en-poo-clásica">Paso 1: Definir los campos (atributos en POO clásica) </h3>
<p>Estos, no deben ser nunca accedidos desde fuera de clase. Para ello, antepondremos la cláusula <strong><code>private</code></strong> <strong>siempre</strong>. Con esto nos aseguraremos seguir el principio de <strong><a href="https://es.wikipedia.org/wiki/Encapsulamiento_(inform%C3%A1tica)">encapsulación</a></strong> del que hablamos en la unidad 10.<br>
Fíjate que hemos marcado dos campos con la <strong><a href="https://www.uml-diagrams.org/property.html">propiedad de atributo de clase</a></strong> <strong><code>{readOnly}</code></strong> esto significa que, <strong>una vez creado el objeto</strong>, ya no se podrán modificar los valores de <strong>título</strong>, <strong>año</strong> y <strong>paginas</strong>.</p>
<p>Además, el <strong>convenio de C#</strong> es que los campos privados se escriben con <strong><code>_</code></strong> al principio del nombre del campo y el resto del nombre en <strong><code>camelCase</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token comment">// &lt;campos&gt;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> _titulo<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token keyword keyword-int">int</span> _año<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> _paginas<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> _paginasLeidas<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="paso-2-definir-los-constructores--destructores-de-objetos">Paso 2: Definir los constructores / destructores de objetos </h3>
<p>En C# el método constructor tiene el mismo nombre que la clase y no lleva tipo de retorno (Es implícito).</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Si justo después del nombre de la clase pulsamos <strong><code>Clrl+.</code></strong> en VSCode. VSCode <strong>nos ofrecerá crear un constructor</strong> en la refactorización de código.</p>
</div>
<div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
  <span class="token comment">// &lt;campos&gt;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> _titulo<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token keyword keyword-int">int</span> _año<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> _paginas<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> _paginasLeidas<span class="token punctuation">;</span>

  <span class="token comment">// &lt;constructor/es&gt;</span>
  <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> año<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      _titulo <span class="token operator">=</span> titulo<span class="token punctuation">;</span>
      _año <span class="token operator">=</span> año<span class="token punctuation">;</span>
      _paginas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
      _paginasLeidas <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// Al crear cualquier libro, llevaré leidas 0 páginas.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre><p>Fíjate que aunque hemos marcado <strong><code>_titulo</code></strong> y <strong><code>_año</code></strong> como <strong><code>readonly</code></strong> (solo lectura) <strong>los podemos asignar a un valor inicial en el constructor</strong>. Esta es la única vez que los podremos asignar. En el resto de métodos únicamente podremos acceder a su valor.</p>
<h4 id="referencia-implícita-this">Referencia implícita this </h4>
<ul>
<li>
<p><strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/this">this</a></strong> es una <strong>referencia implícita</strong> a la instancia en memoria del objeto que en ese momento estamos creando o está accediendo a un método de la clase.</p>
</li>
<li>
<p>Nos puede ayudar en algunos lenguajes a <strong>diferenciar entre los identificadores</strong> de los campos y los parámetros de entrada del constructor si tuviesen el mismo identificador o nomrbe.<br>
Imaginemos que el campo <strong><code>_año</code></strong> lo llamamos <strong><code>año</code></strong> sin la barra baja. El parámetro de entrada <strong><code>año</code></strong> en el constructor se confundiría con el campo que también es accesible. Pero si usamos <strong><code>this.año = año</code></strong> ya no hay confusión, pues <strong><code>this.año</code></strong> se refiere al campo de la clase y <strong><code>año</code></strong> al parámetro de entrada del constructor.</p>
</li>
</ul>
<p></p><p align="center" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 12.2.0 (20241103.1931)
 -->
<!-- Title: G Pages: 1 -->
<svg width="425pt" height="175pt" viewBox="0.00 0.00 425.00 175.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.9 0.9) rotate(0) translate(-1.71 187.22)">
<title>G</title>
<polygon fill="white" stroke="none" points="1.71,7.22 1.71,-187.22 473.93,-187.22 473.93,7.22 1.71,7.22"></polygon>
<!-- i -->
<g id="node1" class="node">
<title>i</title>
<text text-anchor="start" x="8" y="-157.8" font-family="Arial" font-size="14.00">Libro l = new Libro("La Biblia",-750, ...);</text>
</g>
<!-- o -->
<g id="node4" class="node">
<title>o</title>
<polygon fill="none" stroke="black" points="303,-111.6 303,-150.4 467.64,-150.4 467.64,-111.6 303,-111.6"></polygon>
<text text-anchor="start" x="339.03" y="-126.8" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l : Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="303,-47.6 303,-111.6 467.64,-111.6 467.64,-47.6 303,-47.6"></polygon>
<text text-anchor="start" x="314" y="-89" font-family="Arial" font-size="14.00" fill="#cd1076">this</text>
<text text-anchor="start" x="335.79" y="-89" font-family="Arial" font-size="14.00">._titulo = "La Biblia"</text>
<text text-anchor="start" x="314" y="-75" font-family="Arial" font-size="14.00" fill="#cd1076">this</text>
<text text-anchor="start" x="335.79" y="-75" font-family="Arial" font-size="14.00">._año = -750</text>
<text text-anchor="start" x="371.71" y="-61" font-family="Arial" font-size="14.00">... &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- i&#45;&gt;o -->
<g id="edge1" class="edge">
<title>i-&gt;o</title>
<path fill="none" stroke="none" d="M220.21,-144.02C233.26,-141.15 246.5,-138.1 259,-135 267.27,-132.95 275.81,-130.72 284.37,-128.42"></path>
<polygon fill="none" stroke="none" points="285.01,-131.87 293.74,-125.86 283.17,-125.12 285.01,-131.87"></polygon>
</g>
<!-- this -->
<g id="node2" class="node">
<title>this</title>
<ellipse fill="none" stroke="black" cx="129.5" cy="-99" rx="27" ry="27"></ellipse>
<text text-anchor="start" x="118.61" y="-94.8" font-family="Arial" font-size="14.00" fill="#cd1076">this</text>
</g>
<!-- this&#45;&gt;o -->
<g id="edge3" class="edge">
<title>this-&gt;o</title>
<path fill="none" stroke="black" d="M156.71,-99C186.72,-99 237.71,-99 283.83,-99"></path>
<polygon fill="black" stroke="black" points="283.61,-102.5 293.61,-99 283.61,-95.5 283.61,-102.5"></polygon>
</g>
<!-- l -->
<g id="node3" class="node">
<title>l</title>
<ellipse fill="none" stroke="black" cx="129.5" cy="-27" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="129.5" y="-22.8" font-family="Arial" font-size="14.00">l</text>
</g>
<!-- l&#45;&gt;o -->
<g id="edge2" class="edge">
<title>l-&gt;o</title>
<path fill="none" stroke="black" d="M155.63,-33.99C181.55,-41.21 223.12,-52.82 259,-63 267.2,-65.32 275.69,-67.74 284.21,-70.18"></path>
<polygon fill="black" stroke="black" points="282.97,-73.46 293.55,-72.85 284.9,-66.73 282.97,-73.46"></polygon>
</g>
</g>
</svg>
</p><p></p>
<div style="page-break-after:always;"></div>
<h4 id="constructor-por-defecto">Constructor por defecto </h4>
<p>Si no definimos ningún constructor, <strong>se define uno por defecto</strong> que nos permitirá crear instáncias de libro de la siguiente manera.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// El constructor por defecto, no recibe ningún parámetro que defina el estado inicial del objeto</span>
<span class="token class-name">Libro</span> l <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="row">
<div class="col-sm-6 my-auto">
<p>Sin embargo, si definimos un constructor concreto, <strong>dejará de estar disponible el constructor por defecto</strong>, a no ser que lo definamos explícitamente nosotros.</p>
<p>Pero cuidado, si lo hacemos, esto permitirá crear instancias del objeto libro a los valores default como muestra el objeto instanciado en el diagrama.</p>
</div>
<div class="col-sm-6 my-auto">
<p></p><p align="center" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 12.2.0 (20241103.1931)
 -->
<!-- Title: G Pages: 1 -->
<svg width="250pt" height="150pt" viewBox="0.00 0.00 250.00 150.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.9 0.9) rotate(0) translate(6.2 151.33)">
<title>G</title>
<polygon fill="white" stroke="none" points="-6.2,15.33 -6.2,-151.33 271.58,-151.33 271.58,15.33 -6.2,15.33"></polygon>
<!-- l -->
<g id="node1" class="node">
<title>l</title>
<ellipse fill="none" stroke="black" cx="27" cy="-68" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-63.8" font-family="Arial" font-size="14.00">l</text>
</g>
<!-- o -->
<g id="node2" class="node">
<title>o</title>
<polygon fill="none" stroke="black" points="98,-93.2 98,-132 257.38,-132 257.38,-93.2 98,-93.2"></polygon>
<text text-anchor="start" x="131.4" y="-108.4" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l : Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="98,-4 98,-93.2 257.38,-93.2 257.38,-4 98,-4"></polygon>
<text text-anchor="start" x="109" y="-69.6" font-family="Arial" font-size="14.00">_titulo = null</text>
<text text-anchor="start" x="109" y="-52.8" font-family="Arial" font-size="14.00">_año = 0</text>
<text text-anchor="start" x="109" y="-36" font-family="Arial" font-size="14.00">_paginas = 0</text>
<text text-anchor="start" x="109" y="-19.2" font-family="Arial" font-size="14.00">_paginasLeidas = 0 &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- l&#45;&gt;o -->
<g id="edge1" class="edge">
<title>l-&gt;o</title>
<path fill="none" stroke="black" d="M54.24,-68C61.51,-68 69.85,-68 78.7,-68"></path>
<polygon fill="black" stroke="black" points="78.61,-71.5 88.61,-68 78.61,-64.5 78.61,-71.5"></polygon>
</g>
</g>
</svg>
</p><p></p>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Aviso</p>
<p>Estaríamos dando la oportunidad de <strong>crear objetos libro sin un estado apropiado</strong>. Por tanto, <strong>no es conveniente utilizar constructores por defecto</strong>, a no ser que por alguna razón específica, lo definamos nosotros explícitamente y dispongamos de otras formas de crear nuestro objetos.</p>
</div>
<h4 id="constructor-copia">Constructor copia </h4>
<p>Se trata de una <strong>aproximación</strong> inicial al <strong>clonado de objetos mutables</strong>. Es un constructor <strong>optativo</strong>, que copiará el estado de una instancia de un objeto de la clase que lo define.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>En un principio vamos a implementarlo como un constructor más desde el <strong>punto de vista de conceptual</strong>, o como lo hace <strong><a href="https://docs.microsoft.com/es-es/cpp/cpp/copy-constructors-and-copy-assignment-operators-cpp">C++</a></strong>. Pero esta, <strong>no es la forma correcta de implementarlo en C#</strong> y por eso, más adelante, veremos que para realizar copias en <strong>C#</strong> usaremos un método especial llamado <strong><code>Clone()</code></strong> que se se llamará también <strong><code>clone()</code></strong> o <strong><code>copy()</code></strong> dependiendo del lenguaje OO que estemos usando.</p>
</div>
<p>Una posible implementación del mismo para nuestro ejemplo que podemos lleva a cualquier lenguaje OO puede ser....</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// Entra un objeto libro referencia do por l que querremos copiar.</span>
<span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// No usamos this porque no hay posibilidad de confusión.</span>
    _titulo <span class="token operator">=</span> l<span class="token punctuation">.</span>_titulo<span class="token punctuation">;</span>
    _año <span class="token operator">=</span> l<span class="token punctuation">.</span>_año<span class="token punctuation">;</span>
    _paginas <span class="token operator">=</span> l<span class="token punctuation">.</span>_paginas<span class="token punctuation">;</span>
    _paginasLeidas <span class="token operator">=</span> l<span class="token punctuation">.</span>_paginasLeidas<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Recordemos del tema 5 que si hiciésemos el siguiente código...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Libro</span> l1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token string">"Code Complete 2"</span><span class="token punctuation">,</span> <span class="token number">2004</span><span class="token punctuation">,</span> <span class="token number">960</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// l2 y l1 son el mismo objeto</span>
l2 <span class="token operator">=</span> l1<span class="token punctuation">;</span>

<span class="token comment">// l3 y l1 son objetos diferentes.</span>
l3 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span>l1<span class="token punctuation">)</span><span class="token punctuation">;</span>

l2<span class="token punctuation">.</span><span class="token function">Lee</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Modifica l2 y por ende l1 dejando leidas 10 páginas del libro.</span>
l3<span class="token punctuation">.</span><span class="token function">Lee</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Modifica l3 que es una copia en memoria de l1, no afectando por tanto al estado del objeto l1.</span>
</code></pre><p></p><p align="center" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 12.2.0 (20241103.1931)
 -->
<!-- Title: G Pages: 1 -->
<svg width="400pt" height="150pt" viewBox="0.00 0.00 400.00 150.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.6 0.6) rotate(0) translate(15.13 209.8)">
<title>G</title>
<!-- l1 -->
<g id="node1" class="node">
<title>l1</title>
<ellipse fill="none" stroke="black" cx="27" cy="-120.8" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-116.6" font-family="Arial" font-size="14.00">l1</text>
</g>
<!-- o1 -->
<g id="node2" class="node">
<title>o1</title>
<polygon fill="none" stroke="black" points="98,-126.8 98,-165.6 292.2,-165.6 292.2,-126.8 98,-126.8"></polygon>
<text text-anchor="start" x="135.58" y="-142" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l1, l2 : Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="98,-4 98,-126.8 292.2,-126.8 292.2,-4 98,-4"></polygon>
<text text-anchor="start" x="109" y="-86.4" font-family="Arial" font-size="14.00">_titulo = "Code Complete 2"</text>
<text text-anchor="start" x="109" y="-69.6" font-family="Arial" font-size="14.00">_año = 2004</text>
<text text-anchor="start" x="109" y="-52.8" font-family="Arial" font-size="14.00">_paginas = 960</text>
<text text-anchor="start" x="109" y="-36" font-family="Arial" font-size="14.00">_paginasLeidas = 10</text>
<text text-anchor="start" x="187.32" y="-19.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- l1&#45;&gt;o1 -->
<g id="edge1" class="edge">
<title>l1-&gt;o1</title>
<path fill="none" stroke="black" d="M53.59,-115.25C61.05,-113.64 69.71,-111.76 79.02,-109.74"></path>
<polygon fill="black" stroke="black" points="79.68,-113.18 88.71,-107.64 78.2,-106.34 79.68,-113.18"></polygon>
</g>
<!-- l3 -->
<g id="node4" class="node">
<title>l3</title>
<ellipse fill="none" stroke="black" cx="363.2" cy="-84.8" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="363.2" y="-80.6" font-family="Arial" font-size="14.00">l3</text>
</g>
<!-- o1&#45;&gt;l3 -->
<g id="edge3" class="edge">
<title>o1-&gt;l3</title>
<path fill="none" stroke="none" d="M299.88,-84.8C308.57,-84.8 316.94,-84.8 324.57,-84.8"></path>
<polygon fill="none" stroke="none" points="324.38,-88.3 334.38,-84.8 324.38,-81.3 324.38,-88.3"></polygon>
</g>
<!-- l2 -->
<g id="node3" class="node">
<title>l2</title>
<ellipse fill="none" stroke="black" cx="27" cy="-48.8" rx="27" ry="27"></ellipse>
<text text-anchor="middle" x="27" y="-44.6" font-family="Arial" font-size="14.00">l2</text>
</g>
<!-- l2&#45;&gt;o1 -->
<g id="edge2" class="edge">
<title>l2-&gt;o1</title>
<path fill="none" stroke="black" d="M53.59,-54.35C61.05,-55.96 69.71,-57.84 79.02,-59.86"></path>
<polygon fill="black" stroke="black" points="78.2,-63.26 88.71,-61.96 79.68,-56.42 78.2,-63.26"></polygon>
</g>
<!-- o2 -->
<g id="node5" class="node">
<title>o2</title>
<polygon fill="none" stroke="black" points="434.2,-126.8 434.2,-165.6 628.41,-165.6 628.41,-126.8 434.2,-126.8"></polygon>
<text text-anchor="start" x="481.12" y="-142" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l3 : Libro &nbsp;&nbsp;&nbsp;</text>
<polygon fill="none" stroke="black" points="434.2,-4 434.2,-126.8 628.41,-126.8 628.41,-4 434.2,-4"></polygon>
<text text-anchor="start" x="445.2" y="-86.4" font-family="Arial" font-size="14.00">_titulo = "Code Complete 2"</text>
<text text-anchor="start" x="445.2" y="-69.6" font-family="Arial" font-size="14.00">_año = 2004</text>
<text text-anchor="start" x="445.2" y="-52.8" font-family="Arial" font-size="14.00">_paginas = 960</text>
<text text-anchor="start" x="445.2" y="-36" font-family="Arial" font-size="14.00">_paginasLeidas = 25</text>
<text text-anchor="start" x="523.53" y="-19.2" font-family="Arial" font-size="14.00"> &nbsp;&nbsp;&nbsp;</text>
</g>
<!-- l3&#45;&gt;o2 -->
<g id="edge4" class="edge">
<title>l3-&gt;o2</title>
<path fill="none" stroke="black" d="M390.52,-84.8C397.81,-84.8 406.21,-84.8 415.2,-84.8"></path>
<polygon fill="black" stroke="black" points="414.91,-88.3 424.91,-84.8 414.91,-81.3 414.91,-88.3"></polygon>
</g>
</g>
</svg>
</p><p></p>
<div style="page-break-after:always;"></div>
<h4 id="destructores">Destructor/es </h4>
<p>Cuando un objeto <strong>deja de ser referenciado</strong> por algún identificador, al cabo de tiempo es eliminado  de la memoria por el <strong>Recolector de Basura</strong> (Garbage Collector o GC). Esta eliminación la hará llamando a su <strong>destructor por defecto</strong>, el cual nosotros podremos redefinir de tal manera que deje el estado del objeto a unos valores que no permitan usarlo más.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Este paso de definición de nuestra clase, <strong>nos lo saltaremos en todos los lenguajes gestionados</strong>, esto es, que dispongan de un GC para la eliminación de objetos. Solo se definirá en lenguajes no gestionados como <strong><a href="https://learn.microsoft.com/es-es/cpp/cpp/destructors-cpp">C++</a></strong>.</p>
</div>
<p>Si lo tuviésemos que redefinir, <strong>no le aplicaremos ningún modificador de acceso (public, private)</strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token comment">// &lt;campos&gt;</span>
    <span class="token comment">// &lt;constructor/es&gt;</span>
    <span class="token comment">// &lt;destructor&gt;</span>
    <span class="token operator">~</span><span class="token function">Libro</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Los otros valores son readonly y no podemos modificarlos.</span>
        _paginas <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span>MinValue<span class="token punctuation">;</span>
        _paginasLeidas <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span>MinValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre><div style="page-break-after:always;"></div>
<h3 id="paso-3-definir-los-accesores-y-mutadores">Paso 3: Definir los accesores y mutadores </h3>
<p>Usaremos, <strong>para entender el concepto</strong>, la <strong>forma de hacerlo a través de métodos específicos de acceso y modificación</strong> de forma <strong>similar</strong> a como hacen algunos lenguajes orientados a objetos como <strong>Java</strong>, <strong>JavaScript</strong>, <strong>Go</strong>, <strong>Rust</strong>, <strong>PHP</strong> o <strong>C++</strong>.</p>
<h4 id="método-accesor-o-getter">Método accesor o getter </h4>
<p>Para definir un <strong>accesor</strong>, crearemos un método con el prefijo <strong><code>Get&lt;idCampo&gt;</code></strong> seguido del nombre del campo eliminando la barra baja y escribiendo el resto del nombre en <strong>PascalCasing</strong> (la primera letra de cada palabra en mayúscula). Por ejemplo, para el campo <strong><code>_titulo</code></strong> el método sería <strong><code>string GetTitulo()</code></strong>.</p>
<h4 id="método-mutador-o-setter">Método mutador o setter </h4>
<p>Para definir el <strong>mutador</strong>, crearemos un método con el prefijo <strong><code>Set&lt;idCampo&gt;</code></strong> seguido del nombre del campo eliminando la barra baja y escribiendo el resto del nombre en <strong>PascalCasing</strong>. Por ejemplo, para el campo <strong><code>_titulo</code></strong> el método sería <strong><code>void SetTitulo(string titulo)</code></strong>.</p>
<h4 id="tips-de-diseño-de-getters-y-setters">Tips de diseño de <em>'getters'</em> y <em>'setters'</em> </h4>
<ol>
<li>No tengo porqué definirlos <strong>todos</strong>, solo si los necesito o me los piden.</li>
<li>Si el campo es <strong><code>readonly</code></strong> solo podrá haber <strong>accesor</strong> (getter).</li>
<li>Los accesores (getters) llevarán el modificador <strong><code>public</code></strong> por defecto.</li>
<li>Los mutadores (setters) llevarán el modificador <strong><code>private</code></strong> por defecto para asegurar la <strong>encapsulación</strong> y solo serán <strong><code>public</code></strong> si fuese necesario, siempre y cuando nos aseguremos que el objeto queda en buen estado.</li>
<li>En lugar de usar directamente los campos dentro de los <strong>métodos</strong> y constructores, <strong>intentaremos usar los getters y setters definidos</strong>.</li>
</ol>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">If you're not failing 90% of the time, then you're probably not working on sufficiently challenging problems.</div>
        <div class="autor">- Alan Kay.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<p>Nuestra clase <strong><code>Libro</code></strong> quedaría de la siguiente manera:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token comment">// &lt;campos&gt;</span>
    <span class="token comment">// &lt;constructor/es&gt;</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> año<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _titulo <span class="token operator">=</span> titulo<span class="token punctuation">;</span>
        _año <span class="token operator">=</span> año<span class="token punctuation">;</span>
        _paginas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
        <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token class-name">Libro</span> l<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Constructor Copia. EN los lenguajes OO modernos se ha sustituido por </span>
        <span class="token comment">// un método especial denominado Clone o Copy, según en lenguaje. (Lo abordaremos más adelante)</span>
        _titulo <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _año <span class="token operator">=</span> l<span class="token punctuation">.</span>GetAñ<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _paginas <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span><span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// &lt;accesores/mutadores&gt;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> _titulo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-int">int</span> GetAñ<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> _año<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> _paginas<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> _paginasLeidas<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _paginasLeidas <span class="token operator">=</span> paginas<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>      
<span class="token punctuation">}</span> 
</code></pre><div style="page-break-after:always;"></div>
<h3 id="paso-4-definir-métodos-u-operaciones-de-la-clase">Paso 4: Definir métodos u operaciones de la clase </h3>
<p>Desde cualquier método de instáncia, podremos acceder a los campos y accesores/mutadores de la clase. Ya sea a través de <strong><code>this</code></strong> o '<em>inferido</em>' si no hay un parámetro formal con el mismo id. Sin embargo, <strong>trataremos de usar los accesores/mutadores en lugar de los campos</strong>.<br>
Para nuestro ejemplo tendremos...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span>
<span class="token punctuation">{</span>
    <span class="token comment">// &lt;campos&gt;</span>
    <span class="token comment">// &lt;constructor/es&gt;</span>
    <span class="token comment">// &lt;accesores/mutadores&gt;</span>

    <span class="token comment">// &lt;métodos&gt;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">Lee</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> paginas<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>            
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> leidas <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">Clamp</span><span class="token punctuation">(</span>paginas<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPaginasLeidas</span><span class="token punctuation">(</span><span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> leidas<span class="token punctuation">)</span><span class="token punctuation">;</span>            
        <span class="token keyword keyword-return">return</span> leidas<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">PorcentajeLeido</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt32</span><span class="token punctuation">(</span><span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100D</span> <span class="token operator">/</span>  <span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
        Título<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token function">GetTitulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        Año<span class="token punctuation">:</span> <span class="token punctuation">{</span>GetAñ<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        Páginas<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token string">""</span>"<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<h3 id="paso-5-crear-un-pequeño-test-para-nuestra-clase-opcional">Paso 5: Crear un pequeño test para nuestra clase (Opcional) </h3>
<p>En este caso, vamos a hacer un pequeño programa que cree una instancia de un objeto libro y posteriormente lo lea de 300 en 300 páginas.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// Creo el libro.</span>
<span class="token class-name">Libro</span> libro <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token string">"Code Complete 2"</span><span class="token punctuation">,</span> <span class="token number">2004</span><span class="token punctuation">,</span> <span class="token number">960</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Muestro la descripción de mi libro</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>libro<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Mientra pueda leer alguna página (máximo 300)</span>
<span class="token comment">// muestro las páginas leidas y el porcentaje de lo que llevo leído del libro.</span>
<span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> MAXIMO_PAGINAS_A_LEER <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword keyword-int">int</span></span> leidas<span class="token punctuation">;</span>
<span class="token keyword keyword-while">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>leidas <span class="token operator">=</span> libro<span class="token punctuation">.</span><span class="token function">Lee</span><span class="token punctuation">(</span>MAXIMO_PAGINAS_A_LEER<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"leidas: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">leidas</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">libro<span class="token punctuation">.</span><span class="token function">PorcentajeLeido</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">%"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="resumen-de-directrices-generales-de-definición-de-clases">Resumen de directrices generales de definición de clases </h3>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="MINDMAP" height="121.1px" preserveAspectRatio="none" style="width:736px;height:121px;background:#FFFFFF;" version="1.1" viewBox="0 0 736 121" width="736.4px" zoomAndPan="magnify"><defs></defs><g><rect fill="#FFFFFF" height="85.3945" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.05;" width="101.3086" x="7" y="17.5"></rect><text fill="#000000" font-family="Arial" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="41.0812" x="37.1137" y="38.5055">PASO 1</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="32.3641" x="41.4723" y="51.3844">Definir</text><text fill="#000000" font-family="Arial" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="42.3281" x="36.4902" y="64.2633">campos</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="42.3336" x="36.4875" y="77.1422">privados</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="80.3086" x="17.5" y="90.0211">(Encapsulación)</text><rect fill="#FFFFFF" height="85.3945" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.05;" width="100.0727" x="150.3086" y="17.5"></rect><text fill="#000000" font-family="Arial" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="41.0812" x="179.8043" y="38.5055">PASO 2</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="32.3641" x="184.1629" y="51.3844">Definir</text><text fill="#000000" font-family="Arial" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="77.7984" x="161.4457" y="64.2633">constructor/es</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="62.8687" x="168.9105" y="77.1422">El destructor</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="79.0727" x="160.8086" y="90.0211">no es necesario</text><rect fill="#FFFFFF" height="85.3945" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.05;" width="154.2461" x="292.3812" y="17.5"></rect><text fill="#000000" font-family="Arial" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="41.0812" x="348.9637" y="38.5055">PASO 3</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="32.3641" x="353.3223" y="51.3844">Definir</text><text fill="#000000" font-family="Arial" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="54.8023" x="320.0012" y="64.2633">accesores</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="41.0922" x="377.9152" y="64.2633">públicos</text><text fill="#000000" font-family="Arial" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="57.2578" x="318.1527" y="77.1422">mutadores</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="42.3336" x="378.5223" y="77.1422">privados</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="133.2461" x="302.8812" y="90.0211">solo cuando sea necesario</text><rect fill="#FFFFFF" height="85.3945" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.05;" width="94.4727" x="488.6273" y="17.5"></rect><text fill="#000000" font-family="Arial" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="41.0812" x="515.323" y="38.5055">PASO 4</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="32.3641" x="519.6816" y="51.3844">Definir</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="14.3172" x="503.8141" y="64.2633">los</text><text fill="#000000" font-family="Arial" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="46.6703" x="521.243" y="64.2633">métodos</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="73.4727" x="499.1273" y="77.1422">sobre el objeto</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="71.5914" x="500.068" y="90.0211">como públicos</text><rect fill="#FFFFFF" height="85.3945" rx="8.75" ry="8.75" style="stroke:#000000;stroke-width:1.05;" width="103.2008" x="625.1" y="17.5"></rect><text fill="#000000" font-family="Arial" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="41.0812" x="656.1598" y="38.5055">PASO 5</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="28.0055" x="662.6977" y="51.3844">Crear</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="59.1719" x="635.6" y="64.2633">un pequeño</text><text fill="#000000" font-family="Arial" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="19.9172" x="697.8836" y="64.2633">test</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="68.4852" x="642.4578" y="77.1422">para nuestros</text><text fill="#000000" font-family="Arial" font-size="11.2" lengthAdjust="spacing" textLength="46.0687" x="653.666" y="90.0211">métodos.</text><path d="M583.1,60.1973 L590.1,60.1973 C600.6,60.1973 607.6,60.1973 618.1,60.1973 L625.1,60.1973" fill="none" style="stroke:#000000;stroke-width:0.7;"></path><path d="M446.6273,60.1973 L453.6273,60.1973 C464.1273,60.1973 471.1273,60.1973 481.6273,60.1973 L488.6273,60.1973" fill="none" style="stroke:#000000;stroke-width:0.7;"></path><path d="M250.3812,60.1973 L257.3812,60.1973 C267.8812,60.1973 274.8812,60.1973 285.3812,60.1973 L292.3812,60.1973" fill="none" style="stroke:#000000;stroke-width:0.7;"></path><path d="M108.3086,60.1973 L115.3086,60.1973 C125.8086,60.1973 132.8086,60.1973 143.3086,60.1973 L150.3086,60.1973" fill="none" style="stroke:#000000;stroke-width:0.7;"></path><!--SRC=[NLBDJXj13BxFK_YOh4GW8Q4qGXKX12gKj54NEENYpBhfjBFZxVoaWee7wh7ghTUyMBrBaWekAzdVV3_s-Zn4zB4qhYYnKYfej0H7dJTAdONuOEcTscAN1bSUI_Yf0AR6aMRB7fOMzJVfNB6B7x0a67c3Tjl8pID1zqGgnmKrJ80v5eLnA-WEcdA6VcNShdhFtZmA4-t8cfKhoKNGyY7Vm1TYTkqvkMBSkF_uOY89ygIUrDdXDg_A8Clce_mZTBDiuIxfit76BroMQImh3dMpycQD1OU5QqsSnYeacSDi_hYsolRqtciwkn1zqf7z8JKo4mi5xNeBvnWeWAo60dh38hNNEdwbXLeUiQzbeDhyNLgZwpHPLgOemRR0FcMGSK4dT0L387pfiJVflp2n70GeDxyY5yzJ1rvw0hB0owyKUU4qb_pVlj7QYmrgnjWJYbHoKD7tH9lVB72KaPibefSagLv0dN7dr57gdEHaTYSrj-ZYtMmAQ_B1iFphJk-eD-ZqMpb6k17jtYbqZuT7RuUz0Omd-ItKU5krhkTJ29oy9YYCk9XbYYBGLZUuHlYKN3Gb3Q6kMhUpDkIJNHCcRcqyDmUaRkvdpu_al69USMmUd_GFBao4dBpaWlkPaiLXib6eckiB7SBTxTN1gPgYMoLSYH45DPRZY_vX29Fy7m00]--></g></svg></p><p></p>
<div style="page-break-after:always;"></div>
<div class="box_bg_lightgray">
<p><strong>Ejemplo:</strong></p>
<div class="row">
<div class="col-sm-6 my-auto">
<p>Junto a la clase Libro anterior, vamos a modelar la clase <strong><code>Escritor</code></strong> suponiendo que un escritor tiene un <strong><code>nombre</code></strong>, un año de <strong><code>nacimiento</code></strong> y un número de <strong><code>publicaciones</code></strong>.<br>
Además del constructor y los accesores y mutadores para sus campos, vamos a definir el método descripción que me muestre sus datos y método <strong><code>Libro Escribe(string titulo)</code></strong> donde el escritor creará un libro con el título recibido de entre 400 y 800 páginas.<br>
<strong>Intenta modelarla e implementarla tu mismo, antes de ver la propuesta de solución</strong>.</p>
<p>Podría seguir el diagrama de clases UML adjunto.</p>
</div>
<div class="col-sm-6 my-auto">
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="245px" preserveAspectRatio="none" style="width:322px;height:245px;" version="1.1" viewBox="0 0 322 245" width="322px" zoomAndPan="magnify"><defs></defs><g><!--class Escritor--><g class="entity" data-entity="Escritor" data-source-line="12" data-uid="ent0002" id="entity_Escritor"><rect fill="#FFFAFA" height="224.0938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="301.8301" x="7" y="7"></rect><ellipse cx="129.9409" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M132.7065,18.875 Q132.8628,18.6563 133.0503,18.5469 Q133.2378,18.4375 133.4565,18.4375 Q133.8315,18.4375 134.0659,18.7031 Q134.3003,18.9531 134.3003,19.5625 L134.3003,21.0156 Q134.3003,21.625 134.0659,21.8906 Q133.8315,22.1563 133.4565,22.1563 Q133.1128,22.1563 132.9097,21.9531 Q132.7065,21.7656 132.5972,21.25 Q132.5503,20.8906 132.3628,20.7031 Q132.0347,20.3281 131.4253,20.1094 Q130.8159,19.8906 130.1909,19.8906 Q129.4253,19.8906 128.7847,20.2188 Q128.1597,20.5469 127.6597,21.2969 Q127.1753,22.0469 127.1753,23.0781 L127.1753,24.1719 Q127.1753,25.4063 128.0659,26.2344 Q128.9565,27.0469 130.5503,27.0469 Q131.4878,27.0469 132.144,26.7969 Q132.5347,26.6406 132.9565,26.2031 Q133.2222,25.9375 133.3628,25.8594 Q133.519,25.7813 133.7222,25.7813 Q134.0503,25.7813 134.3003,26.0469 Q134.5659,26.2969 134.5659,26.6406 Q134.5659,26.9844 134.2222,27.3906 Q133.7222,27.9688 132.9253,28.2969 Q131.8472,28.75 130.5503,28.75 Q129.0347,28.75 127.8315,28.125 Q126.8472,27.625 126.1597,26.5625 Q125.4722,25.4844 125.4722,24.2031 L125.4722,23.0469 Q125.4722,21.7188 126.0815,20.5781 Q126.7065,19.4219 127.8003,18.8125 Q128.894,18.1875 130.1284,18.1875 Q130.8628,18.1875 131.5034,18.3594 Q132.1597,18.5156 132.7065,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4482" x="150.4409" y="28.7285">Escritor</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="307.8301" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.082" x="13" y="57.5332">-nombre : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.8682" x="13" y="75.1426">-nacimiento : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.9512" x="13" y="92.752">-publicaciones : int</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="307.8301" y1="99.8281" y2="99.8281"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289.8301" x="13" y="118.3613">+Escritor(in nombre : string, in nacimiento : int)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.7617" x="13" y="135.9707">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.5479" x="13" y="153.5801">+GetNacimiento() : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152.9063" x="13" y="171.1895">+GetPublicaciones() : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="284.8125" x="13" y="188.7988">-SetPublicaciones(in publicaciones : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197.2441" x="13" y="206.4082">+Escribe(in titulo : string) : Libro</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.7549" x="13" y="224.0176">+ATexto() : string</text></g><!--SRC=[RO_1JiCm38RlUGeVcM0INBbj4q9822Pr4kSqDPsrD9uSbm7JtfsqArKeooLAli_sRu_l2ieWL6yLAX9qIXnCTDOZt1aJTnJsLcm3pjiO5wf2PQluv3WKz8rmcoaB4JwisBF0qbktoz0wFMsDotJLmcsepjhRbXIBXdUOkQjkqfAbGhdSx2nCMXM13vapnHkn8IQ4GOtfTu67w8IKnHmDf3E7m4qf2FSGqvQXXgEWhLw3_phz2jPHGwa59uc2_ZVsRUd99Oq3nhDaUdGzZhkYC9rq0ztVfFbig7j4VUdrgzbOaA6ngiVTl96jyp1_y1oAAKu9BeJlYZwOgdo74ZjPILlFOw9EVAPIU30N6_mSCWsHJ-O7]--></g></svg></p><p></p>
</div>
</div>
<p>La implementación propuesta siguiendo los pasos y criterios descritos sería la siguiente (<strong>trata de implementarla antes de ver la solución</strong>):</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Escritor</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> _nombre<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> _nacimiento<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> _publicaciones<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> _nombre<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetNacimiento</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> _nacimiento<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> _publicaciones<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> publicaciones<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _publicaciones <span class="token operator">=</span> publicaciones<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-public">public</span> <span class="token function">Escritor</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> nacimiento<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        _nacimiento <span class="token operator">=</span> nacimiento<span class="token punctuation">;</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// No hace falta definir el constructor copia pues no vamos a usarlo.</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
        Nombre<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token function">GetNombre</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        Nacimiento<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token function">GetNacimiento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        Publicaciones<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token string">""</span>"<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Para establecer el rango de páginas de sus libros, hemos usado un nuevo tipo </span>
        <span class="token comment">// añadido en C#8 denominado rango (por ver posibilidades del lenguaje). </span>
        <span class="token comment">// Aunque podríamos haber definido símplemente 2 enteros.</span>
        <span class="token comment">// Este rango podría ser incluso un campo que defina una característica de nuestros</span>
        <span class="token comment">// objetos escritor.</span>
        <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400</span><span class="token range operator">..</span><span class="token number">800</span><span class="token punctuation">;</span>
        <span class="token comment">// Incremento el número de publicaciones del escritor.</span>
        <span class="token function">SetPublicaciones</span><span class="token punctuation">(</span><span class="token function">GetPublicaciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// Creo un líbro, con el año actual y un número de páginas aleatoria en el rango.</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">titulo</span><span class="token punctuation">:</span> titulo<span class="token punctuation">,</span> 
            año<span class="token punctuation">:</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Year<span class="token punctuation">,</span> 
            <span class="token named-parameter punctuation">paginas</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div> <!-- fin caso de estudio -->
<p>Fíjate en el método ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Escritor</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Libro</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><p>Es un método del objeto <strong><code>Escritor</code></strong> que crea un objeto de una clase diferente <strong><code>Libro</code></strong>. Realmente está construyendo una instancia de un objeto <strong><code>Libro</code></strong>. A este tipo de métodos se les denomina <strong><code>método factoría simple</code></strong> porque crea '<em>construye</em>' como una fábrica un objeto de un tipo diferente al del objeto que lo invoca.</p>
<div style="page-break-after:always;"></div>
<h3 id="sustituyendo-los-métodos-accesores-y-mutadores-por-propiedades">Sustituyendo los métodos accesores y mutadores por propiedades </h3>
<p>Aunque implementar <strong>métodos accesores y mutadores</strong> es una forma válida de implementar la encapsulación en cualquier lenguaje. Algunos lenguajes, como <strong>C#</strong>, <strong>Python</strong> o <strong>Swift</strong> nos ofrecen otra forma de hacerlo a través del concepto de <strong>propiedad</strong>. Estas son una forma de definir un campo con un getter y un setter asociados, pero con una sintaxis más limpia y fácil de usar. A este tipo de simplificaciones del código se les denomina <strong><a href="https://es.wikipedia.org/wiki/Az%C3%BAcar_sint%C3%A1ctico">Syntactic Sugar</a></strong>, que en español se traduce como <strong>azúcar sintáctico</strong>.</p>
<div class="row d-flex justify-content-evenly">
<div class="col-sm-6 border rounded mb-3 shadow-sm">
<p><strong>Pasaremos de este esquema...</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Clase</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token operator">&lt;</span>Tipo<span class="token operator">&gt;</span> _idCampo<span class="token punctuation">;</span>

    <span class="token keyword keyword-private">private</span> <span class="token operator">&lt;</span>Tipo<span class="token operator">&gt;</span> <span class="token generic-method"><span class="token function">Get</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IdCampo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span> 
        <span class="token keyword keyword-return">return</span> _idCampo<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token generic-method"><span class="token function">Set</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>idCampo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Tipo<span class="token operator">&gt;</span> idCampo<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span> 
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>_idCampo  <span class="token operator">=</span> idCampo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-5 border rounded mb-3 shadow-sm">
<p><strong>a esta otra sintaxis.</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Clase</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token operator">&lt;</span>Tipo<span class="token operator">&gt;</span> _idCampo<span class="token punctuation">;</span>
    <span class="token operator">&lt;</span>Tipo<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>IdCampo<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-set">set</span> 
        <span class="token punctuation">{</span>
            _idCampo <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-get">get</span> 
        <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> _idCampo<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
</div>
<p>En la nueva sintaxis, aparece una nueva palabra reservada <strong><code>value</code></strong> que hace referencia al valor que se le asigna a la propiedad. Es como el parámetro de entrada del setter, pero sin necesidad de definirlo explícitamente y tomará el tipo del campo asociado a la propiedad.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>La sintaxis anterior tiene adaptaciones conforme ha ido evolucionando en lenguaje, para <strong>simplificar al máximo su uso</strong>, según casos de uso. Más adelante, una vez tratemos el concepto de propiedad, abordaremos dichas simplificaciones.</p>
</div>
<p>Veamos cómo aplicar y usar la nueva sintaxis a traves de la clase <strong><code>Escritor</code></strong> que acabamos de implementar en el ejemplo.</p>
<p>A través de ella vamos a ver la forma de usar propiedades y cómo llevar el concepto a las versiones más modernas del lenguaje.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Escritor</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> _nombre<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> _nacimiento<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> _publicaciones<span class="token punctuation">;</span>
</code></pre><p>Fíjate que hemos implementado las propiedades solo con el <strong><code>get</code></strong> porque los campos asociados son <strong><code>readonly</code></strong> y el id de la propiedad es el mismo que el del campo asociado pero sin la barra baja y en <strong>PascalCasing</strong> por ejemplo de <strong><code>_nombre</code></strong> a <strong><code>Nombre</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-get">get</span>
        <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> _nombre<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Nacimiento 
    <span class="token punctuation">{</span>                   
        <span class="token keyword keyword-get">get</span>
        <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> _nacimiento<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><p>Para el campo <strong><code>_publicaciones</code></strong> que no es <strong><code>readonly</code></strong> definimos tanto el <strong><code>get</code></strong> como el <strong><code>set</code></strong>. Fíjate que, <strong>por defecto y si no nos especifican lo contrario</strong>, hemos puesto el <strong><code>set</code></strong> como <strong><code>private</code></strong> para que solo pueda ser modificado desde dentro de la clase y así asegurar la <strong>encapsulación</strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Publicaciones
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-get">get</span>
        <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> _publicaciones<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span>
        <span class="token punctuation">{</span>                       
            _publicaciones <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<h4 id="usando-las-propiedades-definidas">Usando las propiedades definidas </h4>
<p>Para nosotros sintácticamente <strong>será como si estuviéramos accediendo directamente al campo</strong>, pero con el nombre en <strong>PascalCasing</strong>. Sin embargo, <strong>se estará ejecutando el código definido en el cuerpo de la propiedad</strong>, como sucedía al definir los métodos.</p>
<p>Posiblemente ya te hayas dado cuenta pero normalmente, los IDEs o editores como el <strong>VSCode</strong> nos ofrecerá ayuda ofreciéndonos los miembros de un objetos accesibles en el contexto. Por ejemplo, si dentro de un método de instancias escribimos <strong><code>this.p</code></strong> el ide nos mostrará los siguente...</p>
<p><img src="assets/imagenes/autocompletar_propiedad.png" alt="nombre" style="display:block;margin:0 auto;width:70%;max-width:800px;"></p>
<p>Fíjate que la propiedad (<strong><code>Publicación</code></strong>) tiene un icono asociado de una <strong>llave inglesa</strong> y por el contrario el campo tiene asociado un icono con una <strong>caja azul</strong> y además nos indicará que se trata de una campo. Por ejemplo, si completamos el código de la clase <strong><code>Escritor</code></strong> usando la propiedades definidas. Tendremos el siguiente código...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Escritor</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido por abreviar</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Escritor</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name">DateTime</span> nacimiento<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        _nacimiento <span class="token operator">=</span> nacimiento<span class="token punctuation">;</span>
        Publicaciones <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// Se estará ejecutando el el set la propiedad Publicaciones</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>   <span class="token comment">// Usamos las propiedades definidas en lugar de los campos.</span>
        <span class="token keyword keyword-return">return</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                Nombre<span class="token punctuation">:</span> <span class="token punctuation">{</span>Nombre<span class="token punctuation">}</span>
                Nacimiento<span class="token punctuation">:</span> <span class="token punctuation">{</span>Nacimiento<span class="token punctuation">}</span>
                Publicaciones<span class="token punctuation">:</span> <span class="token punctuation">{</span>Publicaciones<span class="token punctuation">}</span>
                <span class="token string">""</span>"<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400</span><span class="token range operator">..</span><span class="token number">800</span><span class="token punctuation">;</span>
        <span class="token comment">// Cambiamos SetPublicaciones(GetPublicaciones() + 1); por...</span>
        Publicaciones<span class="token operator">++</span><span class="token punctuation">;</span> 
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token named-parameter punctuation">titulo</span><span class="token punctuation">:</span> titulo<span class="token punctuation">,</span> año<span class="token punctuation">:</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Year<span class="token punctuation">,</span> 
            <span class="token named-parameter punctuation">paginas</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="sentido-del-uso-de-propiedades">Sentido del uso de propiedades </h3>
<div class="row">
<div class="col-sm-8 my-auto">
<p>En la unidad 10 y a lo largo de esta unidad hemos hablado del concepto de <strong>encapsulación</strong> y que se conseguía haciendo los campos <strong>privados</strong> (<strong><code>private</code></strong>) y definiendo métodos accesores y mutadores o <strong>propiedades</strong>. Pero, vamos recapitular y más allá de cómo se definen vamos a tratar de preguntarnos por su sentido.</p>
<p>Antes de nada vamos a recapitular los los <strong>Objetivos</strong> de la encapsulación:</p>
</div>
<div class="col-sm-4 my-auto">
<p><img src="assets/imagenes/encapsulaci%C3%B3n.png" alt="alt text"></p>
</div>
</div>
<ol>
<li>Evitar que un cliente de mis clases puedan dejar objetos instanciados de las mismas en un estado inadecuado.</li>
<li><strong>Ocultar detalles de la implementación</strong> de una clase.</li>
<li><strong>Disminuir el acoplamiento</strong>, esto es, realizar cambios o actualizaciones en la clases sin preocuparnos cómo están siendo usadas.</li>
</ol>
<p>Pero... <strong>¿Realmente qué ganamos con hacer <code>SetPublicaciones(0);</code> o <code>Publicaciones = 0;</code> en lugar de <code>_publicaciones = 0;</code> dentro de la propia clase?</strong>.</p>
<p>Es una pregunta legítima, pues si examinamos el código de</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>Publicaciones <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
</code></pre><p>realmente está ejecutando</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Publicaciones
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido por abreviar</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span>
    <span class="token punctuation">{</span>                       
        _publicaciones <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>que es cómo hacer <strong><code>_publicaciones = 0;</code></strong>. Entonces, <strong>¿por qué no usar directamente el campo?</strong>.</p>
<p>Realmente el ejecutar un bloque de instrucciones que asigna el valor de una campo a otro, cobra sentido para mantener la <strong>encapsulación</strong>. Imagina que <strong>por error asignamos un valor negativo</strong> a <strong><code>_publicaciones</code></strong> por que estamos haciendo un <strong><code>_publicaciones--;</code></strong> inadecuado. Si lo hacemos directamente, <strong>el objeto quedará en un estado inadecuado</strong>, pues un <strong><code>Escritor</code></strong> <strong>no puede tener publicaciones negativas</strong>. Sin embargo, si usamos la propiedad <strong><code>Publicaciones</code></strong> y definimos su <strong><code>set</code></strong> de la siguiente manera:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Publicaciones
<span class="token punctuation">{</span>
    <span class="token comment">// ... código omitido por abreviar</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span>
    <span class="token punctuation">{</span>                       
        Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span><span class="token keyword keyword-value">value</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"El número de publicaciones no puede ser negativo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _publicaciones <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>De esta manera, al poder ejecutar un bloque de instrucciones previo a la asignación o acceso, podemos hacer <strong>transformaciones</strong>, <strong>comprobaciones</strong> y lanzar errores si el valor que se le asigna no es válido. Incluso en un momento dado podríamos dejar el <strong><code>set</code> público</strong> y permitir que el cliente del objeto pueda asignar un valor a la propiedad.</p>
<p>Pero, <strong>¿Hacer dejar <strong><code>set</code></strong> publico tiene sentido?</strong>...</p>
<p>Permitiría que un cliente del objeto <strong><code>Escritor</code></strong> estableciese que ese escritor ha escrito un libro sin llamar al método <strong><code>Escribe(string titulo)</code></strong>. Con lo que el estado del objeto <strong><code>Escritor</code></strong> podría ser inadecuado también por tener más publicaciones de las que realmente ha escrito. Por tanto, <strong>no es conveniente dejar el set público en este caso</strong>.</p>
<p>Ante la duda, ya comentamos que por defecto los <strong><code>set</code></strong> deberían ser privados. Esto también es debido a que si lo dejamos público sin sentido, puede que un montón de clases clientes de un objeto <strong><code>Escritor</code></strong> empiecen a establecer el número de publicaciones. Esto <strong>también crea acoplamiento</strong> pues si de repente cambiamos de idea y lo queremos hacer privado, quizá su acceso esté ya en un montón de clases clientes que no podremos modificar. Por tanto, <strong>si no tenemos claro que el set de una propiedad debe ser público, mejor lo dejamos privado</strong>.</p>
<p>Este tipo de reflexiones son las que deberemos hacernos al definir las propiedades, evitando hacer las definiciones de forma mecánica y sin pensar.</p>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">Encapsulation ensures that the internal representation of an object is not directly accessible from outside, promoting loose coupling and making the system more robust to changes.</div>
        <div class="autor">- Martin Fowler.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<h3 id="propiedades-calculadas">Propiedades calculadas </h3>
<div class="row">
<div class="col-sm-6 my-auto">
<p>Son Getters o propiedades que <strong>no tienen un campo asociado</strong>, sino que calculan su valor a partir de otros campos o propiedades del objeto. Por ejemplo, en la clase <strong><code>Escritor</code></strong> podríamos definir una propiedad <strong><code>Edad</code></strong> que calcule la edad del escritor a partir de su año de nacimiento y el año actual.</p>
<p>En el diagrama de clases UML, la propiedad <strong><code>Edad</code></strong> se representaría con un método Getter sin campo asociado donde el nombre va precedido del caracter <strong><code>/</code></strong>.</p>
</div>
<div class="col-sm-6 my-auto">
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="262px" preserveAspectRatio="none" style="width:322px;height:262px;" version="1.1" viewBox="0 0 322 262" width="322px" zoomAndPan="magnify"><defs></defs><g><!--class Escritor--><g class="entity" data-entity="Escritor" data-source-line="12" data-uid="ent0002" id="entity_Escritor"><rect fill="#FFFAFA" height="241.7031" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="301.8301" x="7" y="7"></rect><ellipse cx="129.9409" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M132.7065,18.875 Q132.8628,18.6563 133.0503,18.5469 Q133.2378,18.4375 133.4565,18.4375 Q133.8315,18.4375 134.0659,18.7031 Q134.3003,18.9531 134.3003,19.5625 L134.3003,21.0156 Q134.3003,21.625 134.0659,21.8906 Q133.8315,22.1563 133.4565,22.1563 Q133.1128,22.1563 132.9097,21.9531 Q132.7065,21.7656 132.5972,21.25 Q132.5503,20.8906 132.3628,20.7031 Q132.0347,20.3281 131.4253,20.1094 Q130.8159,19.8906 130.1909,19.8906 Q129.4253,19.8906 128.7847,20.2188 Q128.1597,20.5469 127.6597,21.2969 Q127.1753,22.0469 127.1753,23.0781 L127.1753,24.1719 Q127.1753,25.4063 128.0659,26.2344 Q128.9565,27.0469 130.5503,27.0469 Q131.4878,27.0469 132.144,26.7969 Q132.5347,26.6406 132.9565,26.2031 Q133.2222,25.9375 133.3628,25.8594 Q133.519,25.7813 133.7222,25.7813 Q134.0503,25.7813 134.3003,26.0469 Q134.5659,26.2969 134.5659,26.6406 Q134.5659,26.9844 134.2222,27.3906 Q133.7222,27.9688 132.9253,28.2969 Q131.8472,28.75 130.5503,28.75 Q129.0347,28.75 127.8315,28.125 Q126.8472,27.625 126.1597,26.5625 Q125.4722,25.4844 125.4722,24.2031 L125.4722,23.0469 Q125.4722,21.7188 126.0815,20.5781 Q126.7065,19.4219 127.8003,18.8125 Q128.894,18.1875 130.1284,18.1875 Q130.8628,18.1875 131.5034,18.3594 Q132.1597,18.5156 132.7065,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4482" x="150.4409" y="28.7285">Escritor</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="307.8301" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.082" x="13" y="57.5332">-nombre : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.8682" x="13" y="75.1426">-nacimiento : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.9512" x="13" y="92.752">-publicaciones : int</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="307.8301" y1="99.8281" y2="99.8281"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289.8301" x="13" y="118.3613">+Escritor(in nombre : string, in nacimiento : int)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.7617" x="13" y="135.9707">+GetNombre() : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.5479" x="13" y="153.5801">+GetNacimiento() : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152.9063" x="13" y="171.1895">+GetPublicaciones() : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="284.8125" x="13" y="188.7988">-SetPublicaciones(in publicaciones : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="112.3896" x="13" y="206.4082">+ /GetEdad() : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197.2441" x="13" y="224.0176">+Escribe(in titulo : string) : Libro</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.7549" x="13" y="241.627">+ATexto() : string</text></g><!--SRC=[RO_1JiCm44Jl_eezqfGAk79hgmeX8QYKIfmTUqbNTRpLsg50rN_7ITCeXFfYsVDcTjRXHuJ885Hk8rWID97Ogs2qGtXGAkp8xxNe2epJ8SnZ52hgYC-6VKu_2FS3P2x2XoKx5bWuRNO3QPsUkiH5kahXsjipzhwbY7d5EnomosRIWiMYN0yx0wEetFDXm8pbZMWVaeG-AjNk0gjWX2ABEYf8PmQUgq8G7Y6aBNq9Hq5jtxpxFbq0RQYY5C498X__4_kwS6GInXx36LAjDEt7tP0VJxg5vcyKFkbyJnXVM_ncqXi6KkzgvMPUhws7PVx8CyZ7ScfmfNnZ-cIohIlBfd2NSbTMsqjSbWtNAx39YHHhnttPXdoXGhWZvnlywkfssvpKBm00]--></g></svg></p><p></p>
</div>
</div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Escritor</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Edad
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-get">get</span>
        <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Year <span class="token operator">-</span> Nacimiento<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="simplificando-la-definición-de-propiedades">Simplificando la definición de propiedades </h3>
<h4 id="propiedades-con-cuerpo-de-expresión">Propiedades con cuerpo de expresión </h4>
<p>En la unidad 7 ya se mencionaron de pasada. Una forma de simplificar la definición de propiedades es usar <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members">miembros con cuerpo de expresión</a></strong>. Para srecordar podemos simplificar diciendo que <strong>son aplicables en aquellos métodos que estén formados por una única expresión o instrucción en forma de expresión</strong> independientemente de si se evalúan algo o a void.</p>
<div style="page-break-after:always;"></div>
<p>En ellos, eliminaremos el cuerpo del método (<strong>el bloque de llaves</strong>) y dejaremos la expresión precedida del operador <strong><code>=&gt;</code></strong> y quitando <strong><code>return</code></strong> si hubiera. Por ejemplo ...</p>
<div class="row d-flex justify-content-evenly">
<div class="col-sm-6 my-auto border rounded mb-3 shadow-sm">
<p><strong>Pasaremos de este esquema...</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span>  <span class="token function">Suma</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> a<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> b<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-5 border rounded mb-3 shadow-sm">
<p><strong>a este otr otro...</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">Suma</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> a<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
</code></pre></div>
</div>
<p>Veamos cómo sería la sintaxis <strong><a href="https://learn.microsoft.com/es-es/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members#properties">si el miembro es una propiedad</a></strong>. Para ello, vamos a partir de una clase que tiene dos campos y sus respectivas propiedades de acceso que no usan <em>'cuerpo de expresión'</em>.</p>
<div class="row d-flex justify-content-evenly">
<div class="col-sm-6 my-auto border rounded mb-3 shadow-sm">
<p><strong>Pasaremos de este esquema...</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> _campo1<span class="token punctuation">;</span>
<span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> _campo2<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Campo1
<span class="token punctuation">{</span>
    <span class="token keyword keyword-get">get</span> 
    <span class="token punctuation">{</span> 
        <span class="token keyword keyword-return">return</span> _campo1<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Campo2
<span class="token punctuation">{</span>
    <span class="token keyword keyword-get">get</span> 
    <span class="token punctuation">{</span> 
        <span class="token keyword keyword-return">return</span> _campo2<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span> 
    <span class="token punctuation">{</span> 
        _campo2 <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-5 sborder rounded mb-3 shadow-sm">
<p><strong>a esta otra sintaxis más reducida...</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> _campo1<span class="token punctuation">;</span>
<span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> _campo2<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Campo1 <span class="token operator">=&gt;</span> _campo1<span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Campo2
<span class="token punctuation">{</span>
    <span class="token keyword keyword-get">get</span> <span class="token operator">=&gt;</span> _campo2<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span> <span class="token operator">=&gt;</span> _campo2 <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Fíjate que la sintaxis es más simple aún si usamos cuerpos de expresión para la propiedad de un campo de <strong>solo lectura</strong> porque no hace falta ni poner el <strong><code>get</code></strong>.</p>
</div>
</div>
<div style="page-break-after:always;"></div>
<h4 id="propiedades-autoimplementadas-o-automáticas">Propiedades '<em>autoimplementadas</em>' o '<em>automáticas</em>' </h4>
<p>Algunos lenguajes como C# usan el concepto de <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/programming-guide/classes-and-structs/auto-implemented-properties">propiedades autoimplementadas</a></strong> que hacen que la declaración de propiedad sea más concisa <strong>cuando no se requiere ninguna lógica adicional</strong> en los descriptores de acceso de la propiedad o estemos creando así <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/programming-guide/classes-and-structs/how-to-implement-a-lightweight-class-with-auto-implemented-properties">clases '<em>ligeras</em>'</a></strong>.</p>
<p>Al declarar una <strong>propiedad autoimplementada</strong>, el compilador <strong>crea por nosotros un campo de respaldo privado y anónimo</strong> al que solamente puede obtenerse acceso a través de los descriptores de acceso <strong><code>get</code></strong> y <strong><code>set</code></strong> de la propiedad.</p>
<p>Veamos a través de un ejemplo de definición de una clase <strong><code>Persona</code></strong> simple, cómo este '<em>syntactic sugar</em>' hace que la definición de nuestra clase sea más concisa. Supongamos pues el siguiente código ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Persona</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> _dni<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> _nombre<span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Dni
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-get">get</span> 
        <span class="token punctuation">{</span> 
            <span class="token keyword keyword-return">return</span> _dni<span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-get">get</span> 
        <span class="token punctuation">{</span> 
            <span class="token keyword keyword-return">return</span> _nombre<span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span> 
        <span class="token punctuation">{</span> 
            _nombre <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>el código anterior con las propiedades <strong>automáticas</strong> pasaría <strong>de 25 a 5 líneas</strong> y tendría la <strong>misma funcionalidad</strong>...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Persona</span>
<span class="token punctuation">{</span>                               
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Dni <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Fíjate que <strong>ya no definimos los campos privados, estará implícito al definir la propiedad</strong>. Además, <strong>para las propiedades de solo lectura autoimplementadas</strong> eliminaremos el modificador <strong><code>set</code></strong>. Esto nos permite <strong>establecer el valor de la propiedad solo en el constructor</strong>, lo que es útil para mantener la inmutabilidad.</p>
<p>Esta sintaxis será la más concisa, <strong>si no vamos ha realizar comprobaciones o transformaciones</strong> en los setter y getters.</p>
<div style="page-break-after:always;"></div>
<h4 id="aplicando-las-simplificaciones-a-nuestras-clases-de-ejemplo">Aplicando las simplificaciones a nuestras clases de ejemplo </h4>
<p>¿Cómo quedaría la clase <strong><code>Escritor</code></strong> aplicando estas simplificaciones?</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Escritor</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> _publicaciones<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Nacimiento <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>   
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Edad <span class="token operator">=&gt;</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Year <span class="token operator">-</span> Nacimiento<span class="token punctuation">;</span> <span class="token comment">// Propiedad calculada</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Publicaciones
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-get">get</span> <span class="token operator">=&gt;</span> _publicaciones<span class="token punctuation">;</span>
        <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span>
        <span class="token punctuation">{</span>
            Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span><span class="token keyword keyword-value">value</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"El número de publicaciones no puede ser negativo."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _publicaciones <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Escritor</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> nacimiento<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>            <span class="token comment">// Las propiedades autoimplementadas </span>
        Nacimiento <span class="token operator">=</span> nacimiento<span class="token punctuation">;</span>    <span class="token comment">// en el constructor será el único sitio donde se</span>
        Publicaciones <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>          <span class="token comment">// puedan asignar.</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                    Nombre<span class="token punctuation">:</span> <span class="token punctuation">{</span>Nombre<span class="token punctuation">}</span>
                    Nacimiento<span class="token punctuation">:</span> <span class="token punctuation">{</span>Nacimiento<span class="token punctuation">}</span>
                    Publicaciones<span class="token punctuation">:</span> <span class="token punctuation">{</span>Publicaciones<span class="token punctuation">}</span>
                    <span class="token string">""</span>"<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Libro</span> <span class="token function">Escribe</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> titulo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Range</span> r <span class="token operator">=</span> <span class="token number">400</span><span class="token range operator">..</span><span class="token number">800</span><span class="token punctuation">;</span>
        Publicaciones<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">titulo</span><span class="token punctuation">:</span> titulo<span class="token punctuation">,</span> 
            año<span class="token punctuation">:</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span>Year<span class="token punctuation">,</span> 
            <span class="token named-parameter punctuation">paginas</span><span class="token punctuation">:</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Start<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> r<span class="token punctuation">.</span>End<span class="token punctuation">.</span>Value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<h5 id="refactorizando-con-vscode">Refactorizando con VSCode </h5>
<p>¿Cómo quedaría la clase <strong><code>Libro</code></strong> que implementamos al principio de la unidad utilizando propiedades simplificadas y cuerpos de expresión?</p>
<p>Para hacer este proceso vamos a aplicar la refactorización contextual de código con <strong><code>Ctrl+.</code></strong> que nos ofrece <strong>VSCode</strong>. Para ello, puedes partir de la implmentación de este enlace (<strong><a href="assets/ejemplos/1_Libro_sin_propiedades_ejemplo.cs">Libro.cs</a></strong>)</p>
<p><strong>1. Convertir un único Getter de un campo de solo lectura en una propiedad:</strong></p>
<div class="row">
<div class="col-sm-5 my-auto">
<p>Nos situamos en el método <strong><code>GetTitulo()</code></strong> y pulsamos <strong><code>Ctrl+.</code></strong>. Seleccionamos la opción <strong><code>Reemplazar 'GetTitulo' por la propiedad</code></strong> y nos sustituirá el método por una propiedad con el cuerpo de expresión en todo el código del proyecto.</p>
</div>
<div class="col-sm-6 my-auto">
<p><img src="assets/imagenes/GetterAPropiedad.png" alt="GetterAPropiedad"></p>
</div>
</div>
<p><strong>2. Convertir una propiedad normal en automática (desaparece el campo sociado):</strong></p>
<div class="row">
<div class="col-sm-5 my-auto">
<p>Nos situamos sobre el identificador de la propiedad que en la imagen de ejemplo es <strong><code>Titulo</code></strong> y pulsamos <strong><code>Ctrl+.</code></strong>. Seleccionamos la opción <strong><code>Usar propiedad automática</code></strong> y nos sustituirá la propiedad por una propiedad automática, eliminando el campo asociado <strong><code>_titulo</code></strong>.</p>
</div>
<div class="col-sm-6 my-auto">
<p><img src="assets/imagenes/APropiedadAutomatica.png" alt="GetterAPropiedad"></p>
</div>
</div>
<p>Podemos repetir los puntos <strong>1</strong> y <strong>2</strong> con <strong><code>Año</code></strong> y <strong><code>Paginas</code></strong>.</p>
<p><strong>3. Convertir un Getter y Setter en una propiedad:</strong></p>
<div class="row">
<div class="col-sm-5 my-auto">
<p>Igual que en el punto <strong>1</strong>, nos situamos en el método <strong><code>GetPaginasLeidas()</code></strong> y pulsamos <strong><code>Ctrl+.</code></strong>. Pero seleccionamos la opción <strong><code>Reemplazar 'GetPaginasLeidas' y 'SetPaginasLeidas' por la propiedad</code></strong> para que reemplace ambos métodos.</p>
</div>
<div class="col-sm-6 my-auto">
<p><img src="assets/imagenes/GetterSetterAPropiedad.png" alt="GetterAPropiedad"></p>
</div>
</div>
<p>Pero ahora cómo vamos a añadir control de cambios en el setter no definiremos una propiedad automática, sino que pasaremos de ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> PaginasLeidas <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span> <span class="token operator">=&gt;</span> _paginasLeidas<span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span> <span class="token operator">=&gt;</span> _paginasLeidas <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre><p>a comprobar que no leamos páginas negativas o más páginas de las que tiene el libro. Por tanto, definiremos la propiedad de la siguiente manera:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> PaginasLeidas
<span class="token punctuation">{</span>
    <span class="token keyword keyword-get">get</span> <span class="token operator">=&gt;</span> _paginasLeidas<span class="token punctuation">;</span>
    <span class="token keyword keyword-set">set</span>
    <span class="token punctuation">{</span>
        Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">condition</span><span class="token punctuation">:</span> <span class="token keyword keyword-value">value</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">message</span><span class="token punctuation">:</span> <span class="token string">"Páginas leídas negativas."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">condition</span><span class="token punctuation">:</span> <span class="token keyword keyword-value">value</span> <span class="token operator">&lt;=</span> Paginas<span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">message</span><span class="token punctuation">:</span> <span class="token string">"Páginas leídas mayor que el total de páginas."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _paginasLeidas <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>4. Convertir un métodos candidatos a propiedad calculada:</strong></p>
<p>Por ejemplo el método de de la clase <strong><code>Libro</code></strong>:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">PorcentajeLeido</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt32</span><span class="token punctuation">(</span><span class="token function">GetPaginasLeidas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100D</span> <span class="token operator">/</span>  <span class="token function">GetPaginas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>vemos que al ser una única expresión y no recibir ningún tipo de parámetro es candidato a convertirse en una propiedad calculada. Para ello, nos situamos en el método y pulsamos <strong><code>Ctrl+.</code></strong>. Seleccionamos la opción <strong><code>Reemplazar 'PorcentajeLeido' por la propiedad</code></strong> y nos sustituirá el método por una propiedad con el cuerpo de expresión siguiente...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> PorcentajeLeido <span class="token operator">=&gt;</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt32</span><span class="token punctuation">(</span>PaginasLeidas <span class="token operator">*</span> <span class="token number">100D</span> <span class="token operator">/</span> Paginas<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>En el siguiente enlace (<strong><a href="assets/ejemplos/2_Libro_con_propiedades_ejemplo.cs">Libro.cs</a></strong>) puedes descargar la clase libro donde hemos aplicado las refactorizaciones anteriores.</p>
<div style="page-break-after:always;"></div>
<div class="box_bg_lightgray">
<p>🚀 <strong>Ampliación opcional:</strong></p>
<p>¿Serías capaz de reconoces los elementos de de nuestra definición de <strong><code>Libro</code></strong> en C# en otros lenguajes cómo <strong>Python</strong> o <strong>Kotlin</strong>?</p>
<p><strong>Python:</strong></p>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Libro</span><span class="token punctuation">:</span>
    <span class="token keyword keyword-def">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> titulo<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> anyo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> paginas<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_titulo <span class="token operator">=</span> titulo
        self<span class="token punctuation">.</span>_anyo <span class="token operator">=</span> anyo
        self<span class="token punctuation">.</span>_paginas <span class="token operator">=</span> paginas
        self<span class="token punctuation">.</span>_paginas_leidas <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword keyword-def">def</span> <span class="token function">titulo</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">:</span>
        <span class="token keyword keyword-return">return</span> self<span class="token punctuation">.</span>_titulo
    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword keyword-def">def</span> <span class="token function">anyo</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token keyword keyword-return">return</span> self<span class="token punctuation">.</span>_anyo
    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword keyword-def">def</span> <span class="token function">paginas</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token keyword keyword-return">return</span> self<span class="token punctuation">.</span>_paginas
    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword keyword-def">def</span> <span class="token function">paginas_leidas</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token keyword keyword-return">return</span> self<span class="token punctuation">.</span>_paginas_leidas
    <span class="token decorator annotation punctuation">@paginas_leidas<span class="token punctuation">.</span>setter</span>
    <span class="token keyword keyword-def">def</span> <span class="token function">paginas_leidas</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword keyword-assert">assert</span> value <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"El número de páginas leídas no puede ser negativo."</span>
        <span class="token keyword keyword-assert">assert</span> value <span class="token operator">&lt;=</span> self<span class="token punctuation">.</span>paginas<span class="token punctuation">,</span> <span class="token string">"El número de páginas leídas no puede ser mayor que las del libro."</span>
        self<span class="token punctuation">.</span>_paginas_leidas <span class="token operator">=</span> value
    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword keyword-def">def</span> <span class="token function">porcentaje_leido</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token keyword keyword-if">if</span> self<span class="token punctuation">.</span>paginas <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword keyword-return">return</span> <span class="token number">100</span>
        <span class="token keyword keyword-return">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>paginas_leidas <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">/</span> self<span class="token punctuation">.</span>paginas<span class="token punctuation">)</span>
    <span class="token keyword keyword-def">def</span> <span class="token function">lee</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> paginas<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        leidas <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">min</span><span class="token punctuation">(</span>paginas<span class="token punctuation">,</span> self<span class="token punctuation">.</span>paginas <span class="token operator">-</span> self<span class="token punctuation">.</span>paginas_leidas<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>paginas_leidas <span class="token operator">+=</span> leidas
        <span class="token keyword keyword-return">return</span> leidas
    <span class="token keyword keyword-def">def</span> <span class="token function">a_texto</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">:</span>
        <span class="token keyword keyword-return">return</span> <span class="token string-interpolation"><span class="token string">f"""
Título: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>titulo<span class="token punctuation">}</span></span><span class="token string">
Año: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>anyo<span class="token punctuation">}</span></span><span class="token string">
Páginas: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>paginas<span class="token punctuation">}</span></span><span class="token string">
Páginas leídas: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>paginas_leidas<span class="token punctuation">}</span></span><span class="token string">
"""</span></span>
</code></pre><pre data-role="codeBlock" data-info="python" class="language-python python"><code><span class="token keyword keyword-def">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    libro <span class="token operator">=</span> Libro<span class="token punctuation">(</span><span class="token string">"Code Complete 2"</span><span class="token punctuation">,</span> <span class="token number">2004</span><span class="token punctuation">,</span> <span class="token number">960</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-print">print</span><span class="token punctuation">(</span>libro<span class="token punctuation">)</span>
    MAXIMO_PAGINAS_A_LEER <span class="token operator">=</span> <span class="token number">300</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span>leidas <span class="token operator">:=</span> libro<span class="token punctuation">.</span>lee<span class="token punctuation">(</span>MAXIMO_PAGINAS_A_LEER<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword keyword-print">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"leidas: </span><span class="token interpolation"><span class="token punctuation">{</span>leidas<span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span>libro<span class="token punctuation">.</span>porcentaje_leido<span class="token punctuation">}</span></span><span class="token string">%"</span></span><span class="token punctuation">)</span>

<span class="token keyword keyword-if">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><p><strong>Kotlin:</strong></p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token keyword keyword-import">import</span> kotlin<span class="token punctuation">.</span>math<span class="token punctuation">.</span>min

<span class="token keyword keyword-class">class</span> <span class="token function">Libro</span><span class="token punctuation">(</span>
    <span class="token keyword keyword-val">val</span> titulo<span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token keyword keyword-val">val</span> anyo<span class="token operator">:</span> Int<span class="token punctuation">,</span>
    <span class="token keyword keyword-val">val</span> paginas<span class="token operator">:</span> Int
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> paginasLeidas<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword keyword-set">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">require</span><span class="token punctuation">(</span>value <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token string-literal singleline"><span class="token string">"El número de páginas leídas no puede ser negativo."</span></span> <span class="token punctuation">}</span>
            <span class="token function">require</span><span class="token punctuation">(</span>value <span class="token operator">&lt;=</span> paginas<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token string-literal singleline"><span class="token string">"El número de páginas leídas no puede ser mayor que las del libro."</span></span> <span class="token punctuation">}</span>
            field <span class="token operator">=</span> value
        <span class="token punctuation">}</span>

    <span class="token keyword keyword-val">val</span> porcentajeLeido<span class="token operator">:</span> Int
        <span class="token keyword keyword-get">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>paginas <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword keyword-return">return</span> <span class="token number">100</span>
            <span class="token keyword keyword-return">return</span> <span class="token punctuation">(</span>paginasLeidas <span class="token operator">*</span> <span class="token number">100.0</span> <span class="token operator">/</span> paginas<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

    <span class="token keyword keyword-fun">fun</span> <span class="token function">lee</span><span class="token punctuation">(</span>paginasALeer<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span>
        <span class="token keyword keyword-val">val</span> leidas <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>paginasALeer<span class="token punctuation">,</span> paginas <span class="token operator">-</span> paginasLeidas<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">coerceAtLeast</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        paginasLeidas <span class="token operator">+=</span> leidas
        <span class="token keyword keyword-return">return</span> leidas
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-fun">fun</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token string-literal multiline"><span class="token string">"""
        Título: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">titulo</span></span><span class="token string">
        Año: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">anyo</span></span><span class="token string">
        Páginas: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">paginas</span></span><span class="token string">
        Páginas leídas: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">paginasLeidas</span></span><span class="token string">
        """</span></span><span class="token punctuation">.</span><span class="token function">trimIndent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> libro <span class="token operator">=</span> <span class="token function">Libro</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Code Complete 2"</span></span><span class="token punctuation">,</span> <span class="token number">2004</span><span class="token punctuation">,</span> <span class="token number">960</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span>libro<span class="token punctuation">)</span>

    <span class="token keyword keyword-val">val</span> maximoPaginasALeer <span class="token operator">=</span> <span class="token number">300</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-val">val</span> leidas <span class="token operator">=</span> libro<span class="token punctuation">.</span><span class="token function">lee</span><span class="token punctuation">(</span>maximoPaginasALeer<span class="token punctuation">)</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>leidas <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword keyword-break">break</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"leidas: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">leidas</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">libro<span class="token punctuation">.</span>porcentajeLeido</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">%"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="box_bg_lightgray">
<p><strong>Ejemplo</strong>:</p>
<p>Vamos a definir una clase en C# para simular el comportamiento de un motor de gasolina, encapsulando sus propiedades y funcionalidades principales. Para ello, crearemos la clase <strong><code>MotorGasolina</code></strong> que cumplirá con las siguientes especificaciones:</p>
<ol>
<li>
<p><strong>Campos y Propiedades:</strong></p>
<ul>
<li><strong><code>Cilindrada</code></strong> (<strong>entero</strong>): Representa la cilindrada del motor en centímetros cúbicos (cc). Debe ser una <strong>propiedad pública de solo lectura</strong>, inicializada únicamente a través del constructor.</li>
<li><strong><code>Cilindros</code></strong> (<strong>entero</strong>): Indica el <strong>número de cilindros del motor</strong>. También debe ser una <strong>propiedad pública de solo lectura</strong>, establecida en el constructor.</li>
<li><strong><code>Revoluciones</code></strong> (<strong>entero</strong>): Almacena las revoluciones por minuto (RPM) actuales del motor. Con las condiciones siguientes:
<ul>
<li>No puede tener un valor negativo.</li>
<li>No puede superar un máximo calculado como <strong><code>Cilindrada * Cilindros * 10</code></strong>.</li>
</ul>
</li>
<li><strong><code>Encendido</code></strong> (booleano): Indica si el motor está encendido o apagado. Generaremos un error si se intenta cambiar el estado del motor a uno que ya tiene.</li>
<li><strong><code>Consumo</code></strong> (<strong>double</strong>): Una propiedad que calcula el consumo de combustible en "<em>L/100km</em>" basándose en la siguiente fórmula:<br>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>C</mi><mi>o</mi><mi>n</mi><mi>s</mi><mi>u</mi><mi>m</mi><mi>o</mi><mo>=</mo><mo stretchy="false">(</mo><mi>R</mi><mi>e</mi><mi>v</mi><mi>o</mi><mi>l</mi><mi>u</mi><mi>c</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>e</mi><mi>s</mi><mi mathvariant="normal">/</mi><mn>500.0</mn><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mi>C</mi><mi>i</mi><mi>l</mi><mi>i</mi><mi>n</mi><mi>d</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>a</mi><mi mathvariant="normal">/</mi><mn>1000.0</mn><mo stretchy="false">)</mo><mo>∗</mo><mi>C</mi><mi>i</mi><mi>l</mi><mi>i</mi><mi>n</mi><mi>d</mi><mi>r</mi><mi>o</mi><mi>s</mi><mo>∗</mo><mn>0.2</mn></mrow><annotation encoding="application/x-tex">Consumo = (Revoluciones / 500.0) * (Cilindrada / 1000.0) * Cilindros * 0.2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">c</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal">es</span><span class="mord">/500.0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">in</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">a</span><span class="mord mathnormal">d</span><span class="mord mathnormal">a</span><span class="mord">/1000.0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">in</span><span class="mord mathnormal">d</span><span class="mord mathnormal">ros</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.2</span></span></span></span></span></li>
<li><strong><code>Estado</code></strong> (<strong>string</strong>): Una propiedad que devuelve una cadena de texto multilínea con el estado actual del motor, incluyendo cilindrada, cilindros, revoluciones, estado de encendido y consumo (formateado a dos decimales).</li>
</ul>
</li>
<li>
<p><strong>Métodos:</strong></p>
<ul>
<li><strong><code>Enciende()</code></strong>: Cambia el estado del motor a <strong>encendido</strong> y establece las revoluciones a un ralentí de <strong>800 RPM</strong>.</li>
<li><strong><code>Apaga()</code></strong>: Cambia el estado del motor a <strong>apagado</strong> y establece las revoluciones a <strong>0 RPM</strong>.</li>
<li><strong><code>DarGas(int revoluciones)</code></strong>: <strong>Aumenta las revoluciones</strong> actuales según el parámetro <strong><code>revoluciones</code></strong> especificado.</li>
<li><strong><code>QuitarGas(int revoluciones)</code></strong>: <strong>Disminuye las revoluciones</strong> actuales según el parámetro <strong><code>revoluciones</code></strong>. Las revoluciones nunca deben bajar del ralentí (800 RPM) mientras el motor esté encendido.</li>
</ul>
</li>
<li>
<p><strong>Programa de Prueba (<code>Program.cs</code>):</strong></p>
 <div class="row">
 <div class="col-sm-6 my-auto">
<p>Crea un programa principal (<strong><code>Main</code></strong>) para demostrar el funcionamiento de la clase <strong><code>MotorGasolina</code></strong> con la siguiente secuencia de acciones:</p>
<ul>
<li>Crea una objeto motor con <strong>1600cc</strong> y <strong>4 cilindros</strong>.</li>
<li>Muestra el <strong>estado inicial</strong> del motor.</li>
<li><strong>Enciende</strong> el motor y muestra su nuevo estado.</li>
<li>Aumenta el régimen del motor en <strong>2000 RPM</strong> y muestra el estado.</li>
<li>Disminuye el régimen del motor <strong>1000 RPM</strong> y muestra el estado.</li>
<li>Finalmente, <strong>apaga</strong> el motor y muestra su estado final.</li>
</ul>
 </div>
 <div class="col-sm-6 my-auto">
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="331.2px" preserveAspectRatio="none" style="width:308px;height:331px;" version="1.1" viewBox="0 0 308 331" width="308.7px" zoomAndPan="magnify"><defs></defs><g><!--class MotorGasolina--><g class="entity" data-entity="MotorGasolina" data-source-line="12" data-uid="ent0002" id="entity_MotorGasolina"><rect fill="#FFFAFA" height="312.6234" rx="2.25" ry="2.25" style="stroke:#000000;stroke-width:0.45;" width="289.8703" x="6.3" y="6.3"></rect><ellipse cx="106.4417" cy="20.7" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke:#181818;stroke-width:0.9;"></ellipse><path d="M108.9308,16.9875 Q109.0714,16.7906 109.2401,16.6922 Q109.4089,16.5938 109.6058,16.5938 Q109.9433,16.5938 110.1542,16.8328 Q110.3651,17.0578 110.3651,17.6063 L110.3651,18.9141 Q110.3651,19.4625 110.1542,19.7016 Q109.9433,19.9406 109.6058,19.9406 Q109.2964,19.9406 109.1136,19.7578 Q108.9308,19.5891 108.8323,19.125 Q108.7901,18.8016 108.6214,18.6328 Q108.3261,18.2953 107.7776,18.0984 Q107.2292,17.9016 106.6667,17.9016 Q105.9776,17.9016 105.4011,18.1969 Q104.8386,18.4922 104.3886,19.1672 Q103.9526,19.8422 103.9526,20.7703 L103.9526,21.7547 Q103.9526,22.8656 104.7542,23.6109 Q105.5558,24.3422 106.9901,24.3422 Q107.8339,24.3422 108.4245,24.1172 Q108.7761,23.9766 109.1558,23.5828 Q109.3948,23.3438 109.5214,23.2734 Q109.662,23.2031 109.8448,23.2031 Q110.1401,23.2031 110.3651,23.4422 Q110.6042,23.6672 110.6042,23.9766 Q110.6042,24.2859 110.2948,24.6516 Q109.8448,25.1719 109.1276,25.4672 Q108.1573,25.875 106.9901,25.875 Q105.6261,25.875 104.5433,25.3125 Q103.6573,24.8625 103.0386,23.9063 Q102.4198,22.9359 102.4198,21.7828 L102.4198,20.7422 Q102.4198,19.5469 102.9683,18.5203 Q103.5308,17.4797 104.5151,16.9313 Q105.4995,16.3688 106.6104,16.3688 Q107.2714,16.3688 107.8479,16.5234 Q108.4386,16.6641 108.9308,16.9875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="81.9369" x="124.8917" y="25.8557">MotorGasolina</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="295.2703" y1="35.1" y2="35.1"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="144.98" x="11.7" y="51.7799">-cilindrada : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="137.2649" x="11.7" y="67.6283">-cilindros : int {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="96.6718" x="11.7" y="83.4768">-encendido : bool</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="98.7451" x="11.7" y="99.3252">-revoluciones : int</text><line style="stroke:#000000;stroke-width:0.45;" x1="7.2" x2="295.2703" y1="105.6938" y2="105.6938"></line><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="279.0703" x="11.7" y="122.3736">+MotorGasolina(in cilindrada : int, in cilindros : int)</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="116.5992" x="11.7" y="138.2221">+GetCilindrada() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="108.8842" x="11.7" y="154.0705">+GetCilindros() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="129.9313" x="11.7" y="169.9189">+GetEncendido() : bool</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="230.4483" x="11.7" y="185.7674">-SetEncendido(in encendido : bool) : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="135.5115" x="11.7" y="201.6158">+GetRevoluciones() : int</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="248.6162" x="11.7" y="217.4643">-SetRevoluciones(in revoluciones : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="141.8238" x="11.7" y="233.3127">+/GetConsumo() : dpuble</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="120.0999" x="11.7" y="249.1611">+/GetEstado() : string</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="101.9074" x="11.7" y="265.0096">+Enciende() : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="85.8006" x="11.7" y="280.858">+Apaga() : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="200.6341" x="11.7" y="296.7064">+DarGas(in revoluciones : int) : void</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="211.1423" x="11.7" y="312.5549">+QuiarGas(in revoluciones : int) : void</text></g><!--SRC=[ZP9DRy8m38Rl-HKvWlPvtMx04DfXsaSdxMmIhrY463afQ4FyzwMbZ50sYLwY-7to-hLLXvzHHzP2vIngIu8c4diL33ZKjzTtIeKv-IK8BBHn4C8WHg5f5V7Hi2_eEr4PCX3XzOWTYnuwCFDCUabNA76OZbAuydQ7VSmeOh7WEMRigEuqPB4eVvljW8vLuNcTCLtvNS279A6FIZMpw2UEB1C8xCY3sYYTlYjjA5sjW0Lzhyb7lH44- -pTr_QOuF0VWDwWjsGv0LDcrvO5L-mgapQCxLFLA1V7INhaJq9SwaDntxVVFfvW7FtYlNxhtDKud4hZVSv6of8MkPOwTmUgyHMJFLYzPRCTDMhCZjJaTxg9ZkDD7Pnzg1QxR7PPJHrcuZX4Q7E7z4lwijLIR4fHiTSn72oXX6xn0UgbdnNejQ9puArIFm00]--></g></svg></p><p></p>
 </div>
 </div>
</li>
</ol>
<p>Vamos explicar el proceso de definición de la clase en C# pero puedes descargar el código completo de la misma de ets enlace <strong><a href="assets/ejemplos/3_MotorGasolina_ejemplo.cs">MotorGasolina.cs</a></strong>.</p>
<p>Empezaremos pues definiendo el estado con las propiedades de solo lectura automáticas y aquellos campos que no se pueden definir como propiedades automáticas, como <strong><code>_encendido</code></strong> y <strong><code>_revoluciones</code></strong> por tener control al establecer su valor.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Cilindrada <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Cilindros <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> _encendido<span class="token punctuation">;</span>
<span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> _revoluciones<span class="token punctuation">;</span>
</code></pre><p>Para definir las propiedades de <strong><code>Revoluciones</code></strong> y <strong><code>Encendido</code></strong> puedo usar la refactorización de <strong>VSCode</strong> que hemos visto anteriormente. Por ejemplo, nos situamos encima del campo <strong><code>_encendido</code></strong> y pulsamos <strong><code>Ctrl+.</code></strong>. Seleccionamos la opción <strong><code>Encapsular campo 'Encendido' y usar la propiedad.</code></strong> nos generará el siguiente código:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> Encendido <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span> <span class="token operator">=&gt;</span> _encendido<span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span> <span class="token operator">=&gt;</span> _encendido <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre><p>que cambiaremos por ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> Encendido
<span class="token punctuation">{</span>
    <span class="token keyword keyword-get">get</span> <span class="token operator">=&gt;</span> _encendido<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span>
    <span class="token punctuation">{</span>
        Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">condition</span><span class="token punctuation">:</span> <span class="token keyword keyword-value">value</span> <span class="token operator">!=</span> _encendido<span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">message</span><span class="token punctuation">:</span> <span class="token string">"El motor ya está en el estado solicitado."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _encendido <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>un proceso similar haremos con el campo <strong><code>_revoluciones</code></strong> quedando así:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones
<span class="token punctuation">{</span>
    <span class="token keyword keyword-get">get</span> <span class="token operator">=&gt;</span> _revoluciones<span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> maxRevoluciones <span class="token operator">=</span> Cilindrada <span class="token operator">*</span> Cilindros <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span>
        Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">condition</span><span class="token punctuation">:</span> <span class="token keyword keyword-value">value</span> <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword keyword-value">value</span> <span class="token operator">&lt;=</span> maxRevoluciones<span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">message</span><span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">$"Las revoluciones deben estar entre 0 y </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">maxRevoluciones</span><span class="token punctuation">}</span></span><span class="token string">."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _revoluciones <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Las proiedades calculadas <strong><code>Consumo</code></strong> y <strong><code>Estado</code></strong> las definiremos cuerpo de expresión y multilínea a partir de el valor de otras propiedades. <strong>Fíjate que no accedemos al valor de los campos directamente, sino a través de las propiedades que hemos definido</strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Consumo <span class="token operator">=&gt;</span> Revoluciones <span class="token operator">/</span> <span class="token number">500.0</span> <span class="token operator">*</span> <span class="token punctuation">(</span>Cilindrada <span class="token operator">/</span> <span class="token number">1000.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> Cilindros <span class="token operator">*</span> <span class="token number">0.2</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Estado <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$""</span></span>"
                Cilindrada<span class="token punctuation">:</span> <span class="token punctuation">{</span>Cilindrada<span class="token punctuation">}</span> <span class="token class-name">cc</span>
                Cilindros<span class="token punctuation">:</span> <span class="token punctuation">{</span>Cilindros<span class="token punctuation">}</span>
                Revoluciones<span class="token punctuation">:</span> <span class="token punctuation">{</span>Revoluciones<span class="token punctuation">}</span> <span class="token class-name">RPM</span>
                Encendido<span class="token punctuation">:</span> <span class="token punctuation">{</span>Encendido<span class="token punctuation">}</span>
                Consumo<span class="token punctuation">:</span> <span class="token punctuation">{</span>Consumo<span class="token punctuation">:</span>F2<span class="token punctuation">}</span> L<span class="token operator">/</span>100km
                <span class="token string">""</span>"<span class="token punctuation">;</span>
</code></pre><p>Definimos el único constructor de la clase, que inicializa las propiedades de solo lectura y los campos privados. Fíjate que el campo <strong><code>_revoluciones</code></strong> se inicializa a <strong>0</strong> y el campo <strong><code>_encendido</code></strong> a <strong>false</strong> pero no usamos las propiedades porque, por ejemplo, produciría un error al intentar establecer el estado del motor a apagado cuando ya lo está.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token function">MotorGasolina</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> cilindrada<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> cilindros<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Cilindrada <span class="token operator">=</span> cilindrada<span class="token punctuation">;</span>
    Cilindros <span class="token operator">=</span> cilindros<span class="token punctuation">;</span>
    _revoluciones <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    _encendido <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Los métodos o operaciones que realiza el motor las podemos definir de la siguiente manera según las especificaciones:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Enciende</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Encendido <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    Revoluciones <span class="token operator">=</span> <span class="token number">800</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Apaga</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Encendido <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    Revoluciones <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Por último, los métodos <strong><code>DarGas(int revoluciones)</code></strong> y <strong><code>QuitarGas(int revoluciones)</code></strong> que aumentan o disminuyen las revoluciones del motor, asegurando que no se bajen de <strong>800 RPM</strong> mientras el motor esté encendido comprobarán que el motor esté encendido. <strong>Fíjate que el control del estado del estado de la propiedad revoluciones ya se hace en el setter y no hará falta repetirlo en cualquier método donde se asigne un valor a la propiedad <code>Revoluciones</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">DarGas</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> revoluciones<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>
        <span class="token named-parameter punctuation">condition</span><span class="token punctuation">:</span> Encendido<span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">message</span><span class="token punctuation">:</span> <span class="token string">"El motor debe estar encendido para dar Gas."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Revoluciones <span class="token operator">+=</span> revoluciones<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">QuitarGas</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> revoluciones<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>
        <span class="token named-parameter punctuation">condition</span><span class="token punctuation">:</span> Encendido<span class="token punctuation">,</span>
        <span class="token named-parameter punctuation">message</span><span class="token punctuation">:</span> <span class="token string">"El motor debe estar encendido para quitar Gas."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Revoluciones <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">Max</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span> Revoluciones <span class="token operator">-</span> revoluciones<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="row">
<div class="col-sm-7">
<p>Ya podemos usar la clase <strong><code>MotorGasolina</code></strong> asegurándonos que el estado del motor se mantiene adecuado y cualquier operación incorrecta se detecta y lanza un error. Si impolementamos el programa de prueba de las especificaciones anteriores, tendremos los siguientes código y salida por consola:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">MotorGasolina</span> motor <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token punctuation">(</span><span class="token named-parameter punctuation">cilindrada</span><span class="token punctuation">:</span> <span class="token number">1600</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">cilindros</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Estado inicial del motor:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>motor<span class="token punctuation">.</span>Estado<span class="token punctuation">)</span><span class="token punctuation">;</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"\nEncendiendo el motor..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
motor<span class="token punctuation">.</span><span class="token function">Enciende</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>motor<span class="token punctuation">.</span>Estado<span class="token punctuation">)</span><span class="token punctuation">;</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"\nAumentando revoluciones..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
motor<span class="token punctuation">.</span><span class="token function">DarGas</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>motor<span class="token punctuation">.</span>Estado<span class="token punctuation">)</span><span class="token punctuation">;</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"\nReduciendo revoluciones..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
motor<span class="token punctuation">.</span><span class="token function">QuitarGas</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>motor<span class="token punctuation">.</span>Estado<span class="token punctuation">)</span><span class="token punctuation">;</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"\nApagando el motor..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
motor<span class="token punctuation">.</span><span class="token function">Apaga</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>motor<span class="token punctuation">.</span>Estado<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<div class="col-sm-5">
<pre class="salida_consola">Estado inicial del motor:
Cilindrada: 1600 cc
Cilindros: 4
Revoluciones: 0 RPM
Encendido: False
Consumo: 0,00 L/100Km

Encendiendo el motor...
Cilindrada: 1600 cc
Cilindros: 4
Revoluciones: 800 RPM
Encendido: True
Consumo: 2,05 L/100Km

Aumentando revoluciones...
Cilindrada: 1600 cc
Cilindros: 4
Revoluciones: 2800 RPM
Encendido: True
Consumo: 7,17 L/100Km

Reduciendo revoluciones...
Cilindrada: 1600 cc
Cilindros: 4
Revoluciones: 1800 RPM
Encendido: True
Consumo: 4,61 L/100Km

Apagando el motor...
Cilindrada: 1600 cc
Cilindros: 4
Revoluciones: 0 RPM
Encendido: False
Consumo: 0,00 L/100Km</pre>
</div>
</div>
</div> <!-- fin ejemplo -->
<div style="page-break-after:always;"></div>
<h2 id="definiendo-value-objects-objetos-valor">Definiendo Value Objects (Objetos Valor) </h2>
<p>Los <strong><code>Value Objects</code></strong> son una <strong>definición conceptual</strong> fácil del condunfir por muchos motivos con los <strong>Tipos Valor</strong> (<strong><code>Value Types</code></strong>) que vimos en la <strong>unidad 12</strong>. Por eso debes prestar atención para entender la diferencia entre ambos conceptos. Podríamos simplificar diciendo que <strong>los <code>Value Types</code> o tipos valor son una forma de implementar los <code>Value Objects</code></strong> pero hay otras formas dependiendo del lenguaje que usemos porque no todos los lengajes permiten definir <strong><code>Value Types</code></strong>.</p>
<p>El concepto de <strong><a href="https://martinfowler.com/bliki/ValueObject.html">Value Object</a></strong> fue acuñado por el Ingeniero de Software <strong><a href="https://es.wikipedia.org/wiki/Martin_Fowler">Martin Fowler</a></strong> en el contexto del <strong><a href="https://martinfowler.com/bliki/DomainDrivenDesign.html">DDD (Domain Driven Design)</a></strong> que es un marco de trabajo para el desarrollo de software que se centra en la <strong>definición de un modelo de clases y relaciones entre ellas para representar el dominio del problema que se está resolviendo</strong>. En este contexto, los <strong><code>Value Objects</code></strong> son objetos que representan un valor o una propiedad en el dominio y <strong>no tienen identidad propia, ni estado</strong>. Es decir, dos instancias de un <strong><code>Value Object</code></strong> con los mismos valores son consideradas iguales.</p>
<h3 id="tips-para-definir-un-value-object">Tips para definir un Value Object </h3>
<p>Estas son las reglas que deberemos seguir para saber si queremos definir un <strong><code>Value Object</code></strong>:</p>
<ol>
<li>Deberían ser <strong>inmutables</strong>, esto es, cualquier operación sobre un <strong><code>value object</code></strong> debería producir un nuevo <strong><code>value object</code></strong> con el nuevo valor en lugar de modificar el existente.</li>
<li>De lo anterior deberemos deducir que las <strong>propiedades o campos que definan</strong> deberían ser <strong><code>value object</code></strong>.</li>
<li>No deberían tener ningún campo marcado con el stereotipo <strong><code>{id}</code></strong> que haga a los objetos únicos.</li>
<li>Los objetos representan entidades completamente intercambiables. Por ejemplo...
<ul>
<li>Un simple <strong>valor entero</strong> <strong><code>5</code></strong> es intercambiable por otro <strong><code>5</code></strong>. Sigo teniendo el mismo <em>'valor'</em>.</li>
<li>Un objeto <strong><code>billete de 5€</code></strong> es intercambiable por otro <strong><code>billete de 5€</code></strong>. Sigo teniendo la misma cosa. El mismo <em>'valor'</em>.</li>
<li>Un objeto naipe con el <strong><code>7 de picas</code></strong> es intercambiable por otro <strong><code>7 de picas</code></strong>. Puedo intercambiarlo por otra carta igual y además es inmutable porque si cambiara su valor sería otra carta completamente diferente.</li>
<li>Un objeto IP con el valor <strong><code>192.168.0.1</code></strong> es intercambiable por otro <strong><code>192.168.0.1</code></strong>.</li>
<li>Una objeto coordenada de la consola con los valores <strong><code>X (columna) = 40</code></strong> y <strong><code>Y (fila) = 10</code></strong> es intercambiable con otro objetos con los mismos valores.</li>
<li>Un objeto Fecha <strong><code>21/03/2030</code></strong> es intercambiable por otro objeto fecha idéntico. Seguiría teniendo el mismo valor.</li>
</ul>
</li>
<li>Tienen <strong>un constructor principal</strong> que recibe todos los valores necesarios para definir el objeto.</li>
<li>Deberían tener un método de <strong>comparación de igualdad</strong> para comparar si dos objetos son iguales en profundidad, esto es, son iguales todas sus propiedades.</li>
</ol>
<p>Dependiendo del lenguaje de programación que usemos, podemos definir los <strong><code>Value Objects</code></strong> de diferentes formas.</p>
<p>Existen lenguajes como <strong>JavaScript</strong> donde tenemos que ser nosotros, al definir una <em><strong>'clase normal'</strong></em>, quien le demos las características de un <strong><code>Value Object</code></strong>. En otros lenguajes, podemos usar palabras clave específicas del lenguaje pcomo <strong><code>struct</code></strong>, <strong><code>record</code></strong>, <strong><code>data class</code></strong>, etc para darle las características de forma directa.</p>
<p>Pero es muy importante que distingamos si estamos definiendo un tipo valor (<strong><code>Value Type</code></strong>) que se almacenan en la pila (<strong>Stack</strong>) o un tipo referencia (<strong><code>Reference Types</code></strong>) que se almacenan en la memoria montón (<strong>Heap</strong>) como ya hemos comentado en más de una ocasión.</p>
<div class="border rounded mb-3 shadow-sm p-3">
<p>Comparativa palabras reservadas específicas para definir <strong>Value Objects</strong> en diferentes lenguajes y cómo se almacenan en memoria:<br>
</p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="MINDMAP" height="222.3px" preserveAspectRatio="none" style="width:612px;height:222px;background:#FFFFFF;" version="1.1" viewBox="0 0 612 222" width="612.3px" zoomAndPan="magnify"><defs><filter height="300%" id="fk4eighwmrwnd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.6"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="5.2" dy="5.2" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><rect fill="#4682B4" filter="url(#fk4eighwmrwnd)" height="48.8922" rx="16.25" ry="16.25" style="stroke:#F0FFFF;stroke-width:1.95;" width="136.2486" x="13" y="85.9777"></rect><text fill="#F0FFFF" font-family="sans-serif" font-size="18.2" font-weight="bold" lengthAdjust="spacing" textLength="110.2486" x="26" y="117.8709">Value Object</text><rect fill="#F0F8FF" height="47.5516" rx="16.25" ry="16.25" style="stroke:#87CEEB;stroke-width:2.6;" width="162.5" x="214.2486" y="41.6152"></rect><text fill="#4682B4" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.6772" x="229.8486" y="70.7104">Como</text><text fill="#4682B4" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3.6118" x="264.5259" y="70.7104">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25.2891" x="268.1377" y="70.7104">Tipo</text><text fill="#4682B4" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3.6118" x="293.4268" y="70.7104">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32.5127" x="297.0386" y="70.7104">Valor</text><rect fill="#FFFFFF" height="99.582" rx="16.25" ry="16.25" style="stroke:#87CEEB;stroke-width:1.95;" width="173.6097" x="423.5486" y="15.6"></rect><text fill="#4682B4" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="14.9563" x="436.5486" y="40.7456">C#</text><text fill="#4682B4" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="113.1495" x="471.0088" y="40.7456">readonly record struct</text><text fill="#4682B4" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="27.9475" x="436.5486" y="55.462">Swift</text><text fill="#4682B4" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="28.6044" x="474.248" y="55.462">struct</text><text fill="#4682B4" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="22.1146" x="436.5486" y="70.1784">C++</text><text fill="#4682B4" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="28.6044" x="474.9164" y="70.1784">struct</text><text fill="#4682B4" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="25.9994" x="436.5486" y="84.8948">Rust</text><text fill="#4682B4" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="28.6044" x="475.5505" y="84.8948">struct</text><text fill="#4682B4" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="16.2475" x="436.5486" y="99.6112">Go</text><text fill="#4682B4" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="28.6044" x="472.2999" y="99.6112">struct</text><path d="M376.7486,65.391 L389.7486,65.391 C409.2486,65.391 391.0486,65.391 410.5486,65.391 L423.5486,65.391" fill="none" style="stroke:#4682B4;stroke-width:1.95;stroke-dasharray:3.9,3.9;"></path><path d="M149.2486,110.4238 L162.2486,110.4238 C181.7486,110.4238 181.7486,65.391 201.2486,65.391 L214.2486,65.391" fill="none" style="stroke:#4682B4;stroke-width:1.95;stroke-dasharray:3.9,3.9;"></path><rect fill="#F0F8FF" height="47.5516" rx="16.25" ry="16.25" style="stroke:#87CEEB;stroke-width:2.6;" width="164.8689" x="214.2486" y="139.0391"></rect><text fill="#4682B4" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.6772" x="229.8486" y="168.1342">Como</text><text fill="#4682B4" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3.6118" x="264.5259" y="168.1342">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25.2891" x="268.1377" y="168.1342">Tipo</text><text fill="#4682B4" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3.6118" x="293.4268" y="168.1342">&nbsp;</text><text fill="#4682B4" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="66.479" x="297.0386" y="168.1342">Referencia</text><rect fill="#FFFFFF" height="84.8656" rx="16.25" ry="16.25" style="stroke:#87CEEB;stroke-width:1.95;" width="139.955" x="425.9176" y="120.382"></rect><text fill="#4682B4" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="14.9563" x="438.9176" y="145.5276">C#</text><text fill="#4682B4" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="63.0703" x="486.3803" y="145.5276">record class</text><text fill="#4682B4" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="26.0279" x="438.9176" y="160.244">Java</text><text fill="#4682B4" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="33.1633" x="490.9506" y="160.244">record</text><text fill="#4682B4" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="33.1405" x="438.9176" y="174.9604">Kotlin</text><text fill="#4682B4" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="52.6786" x="491.5619" y="174.9604">data class</text><text fill="#4682B4" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="39.6475" x="438.9176" y="189.6769">Python</text><text fill="#4682B4" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="61.305" x="491.5676" y="189.6769">@dataclass</text><path d="M379.1176,162.8148 L392.1176,162.8148 C411.6176,162.8148 393.4176,162.8148 412.9176,162.8148 L425.9176,162.8148" fill="none" style="stroke:#4682B4;stroke-width:1.95;stroke-dasharray:3.9,3.9;"></path><path d="M149.2486,110.4238 L162.2486,110.4238 C181.7486,110.4238 181.7486,162.8148 201.2486,162.8148 L214.2486,162.8148" fill="none" style="stroke:#4682B4;stroke-width:1.95;stroke-dasharray:3.9,3.9;"></path><!--SRC=[dLHHJzim47xthpXfBsqGNPFI2J8q0QM0MAjLfB3dQs9I3yUk70SeYF- -SvAcxIWIcX-Y-FlkBjztTkuajsXi9bIIuOAnuzmk9V_1Qk1SO6emWrS6jCA4B-oyrMtNUxUkj14lMbcKfrAaAkFAGamFRfgGaL1yeAKsSFfI6DxWPnW_f4ONAgdOo78kpsInZhYWmhio7Hw95mx-mJRcnCDCowI1epac-ace57ebzhRfnDzqCi4aSN5-q41ZDAbGTUQsbUXXkINLCTEvY1yKptC8EjqFRLAVOlw1pVSj6EEpo8hijqZi77hz_feGQatuGNz7Sxhl7GURZcjxmIVi_MjYQZ1VeA63_fIBHjFHXgIPVfQkMQ__NmADqKyR1Po1wXBqFZWPlzFVPNVhSs_iZHr_hVy45iL8zVnEZp4Fxf22uDVi3uyjxJqOw4p3L2mqU1wHsdYUmxtGymPVY2-NuNG9bLpIIwnD0har1ULxNlGaxcqPrK23lRqwhO5kYhmAMaENUbMxWhw_4tF3xpcTJonmbw9ALIacbfZd572DZxYcAvBWdzfAeLP4WXQRZCdIpdLDdJYc94ZA2QVfiHef4udAtev7yCXDBhIYLWRTeDyvQ4LeuRgW2tW8VY_i7eL17mR3Q0gERxFMvMG4kIvCp24Hv5FC2ai5sin9XPj2MP7n4DokDHst8HgkG1YgHs5qEOxOzTsu2g9XPQE5jcNmjuFzCs4XuePqmTsOdVDxBAIbr5YxGH32xVHY_v2DKAK5flGXdhC1_GBMB4COHdy1]--></g></svg></p><br>
Fíjate que en algunos lenguajes no se pueden definir como <strong>tipos valor</strong> (<strong><code>Value Types</code></strong>).<p></p>
</div>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">Los Value Objects son el camino a la inmutabilidad, y la inmutabilidad es el camino a la simplicidad concurrente.</div>
        <div class="autor">- Greg Young</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<h3 id="value-object-como-tipo-referecia-reference-type-en-csharp">Value Object como tipo referecia (Reference Type) en CSharp </h3>
<p><strong>Es lo más común y recomendable ya que lo vamos a poder hacer en todos los lenguajes</strong>. Para ello, al definir la clase deberemos cumplir con las reglas de los <strong><code>Value Objects</code></strong> y en algunos de ellos como <strong>C#</strong>, <strong>Java</strong>, <strong>Python</strong> o <strong>Kotlin</strong> vamos a disponer incluso de una palabra reservada que me permitirá definirlos de forma más sencilla.</p>
<h4 id="representación-en-uml-de-un-value-object-como-tipo-referencia">Representación en UML de un Value Object como tipo referencia </h4>
<div class="row">
<div class="col-sm-6 my-auto">
<p>No tienen una representación directa en UML, pero podemos representarlos como una clase normal donde los campos sean <strong>privados</strong> y <strong><code>{readonly}</code></strong> y ninguno de ellos tenga el estereotipo <strong><code>{id}</code></strong>. Solo tengamos un constructor que reciba todos los valores necesarios para definir el objeto y un método de comparación de igualdad.</p>
</div>
<div class="col-sm-6 my-auto">
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="185px" preserveAspectRatio="none" style="width:234px;height:185px;background:#FFFFFF;" version="1.1" viewBox="0 0 234 185" width="234px" zoomAndPan="magnify"><defs></defs><g><!--class Punto2D--><g class="entity" data-entity="Punto2D" data-source-line="10" data-uid="ent0002" id="entity_Punto2D"><rect fill="#FFFAFA" height="164.3594" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="213.1816" x="7" y="7"></rect><ellipse cx="72.9824" cy="28.3516" fill="#FF7700" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M73.5762,31.6172 L76.0449,25.7422 L75.6543,25.7422 Q75.0449,25.7422 74.7793,25.5078 Q74.5137,25.2734 74.5137,24.8828 Q74.5137,24.5078 74.7793,24.2734 Q75.0449,24.0391 75.6543,24.0391 L77.9355,24.0391 Q78.5449,24.0391 78.8105,24.2734 Q79.0762,24.5078 79.0762,24.8828 Q79.0762,25.3516 78.6699,25.6172 Q78.4824,25.7422 77.8887,25.7422 L74.4043,34.1016 L72.7637,34.1016 L69.2793,25.7422 Q68.6855,25.7422 68.498,25.6172 Q68.0918,25.3516 68.0918,24.8828 Q68.0918,24.5078 68.3574,24.2734 Q68.623,24.0391 69.2324,24.0391 L71.5293,24.0391 Q72.1387,24.0391 72.3887,24.2734 Q72.6543,24.5078 72.6543,24.8828 Q72.6543,25.2734 72.3887,25.5078 Q72.1387,25.7422 71.5293,25.7422 L71.123,25.7422 L73.5762,31.6172 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="76.7168" x="91.4824" y="24.457">«valueObject»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.4824" x="102.5996" y="41.627">Punto2D</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="219.1816" y1="49.7031" y2="49.7031"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.4199" x="13" y="68.2363">-x : double {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.4199" x="13" y="85.8457">-y : double {readOnly}</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="219.1816" y1="92.9219" y2="92.9219"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201.1816" x="13" y="111.4551">+Punto2D(x : double, y : double)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.1133" x="13" y="129.0645">+GetX() : double</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.1133" x="13" y="146.6738">+GetY() : double</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195.7402" x="13" y="164.2832">+Equals(p : Punto2D) : boolean</text></g><!--SRC=[TOzBQyCm48Jl-XKBlTWq0TDBe8H0d3IbfmGCVHnbQskhbhNkMchgXlptEetJc3xs8dRcqunayDc18s2T5mwKPioS9Yj4KsfRIvOLP4OspTmvrgbtU9UHJVG7GZH0vioqNP0XXjZ8h1nOcswLESRTaJDvguxOGw4T9XMLE60NXwQOM27_7NO4VaGbbhP255eXO5Mx5YgiKkH6V3qSDjuwkbh2T1hSZovMgyaaYa9uayRZEdtflZkRYPs0RiRm3jUWoAS6OSSerTgQTjzxxR_UvQaZEDyV3VYmfsxHFGRXjtnMdtwhDwzUcYQeExqFFo0faK5fnVuJ]--></g></svg></p><p></p>
</div>
</div>
<h4 id="definir-un-value-object-por-referencia-simplificada">Definir un Value Object por referencia SIMPLIFICADA </h4>
<p>En C# podemos definir un <strong><code>Value Object</code> por referencia (como <code>reference type</code>)</strong> con la palabra reservada <strong><code>record class</code></strong> o simplemente <strong><code>record</code></strong> que es una forma de definir una clase inmutable con propiedades de solo lectura. Puedes ver la documentación oficial en el siguiente enlace <strong><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/builtin-types/record">Record types</a></strong>.</p>
<p>La sintaxis más compactas para definirlos sería la siguiente:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-record">record</span> <span class="token class-name"><span class="token keyword keyword-class">class</span></span> <span class="token function">TipoReferencia</span><span class="token punctuation">(</span><span class="token class-name">Tipo1</span> Propiedad1<span class="token punctuation">,</span> <span class="token class-name">Tipo2</span> Propiedad2<span class="token punctuation">,</span> <span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Métodos y propiedades adicionales si es necesario</span>
<span class="token punctuation">}</span>

<span class="token comment">// O simplemente como un record sin el modificador class</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-record">record</span> <span class="token class-name"><span class="token keyword keyword-class">class</span></span> <span class="token function">TipoReferencia</span><span class="token punctuation">(</span><span class="token class-name">Tipo1</span> Propiedad1<span class="token punctuation">,</span> <span class="token class-name">Tipo2</span> Propiedad2<span class="token punctuation">,</span> <span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>Fíjate que con solo una línea hemos definido un <strong><code>TipoReferencia</code></strong> con dos propiedades de solo lectura <strong><code>Propiedad1</code></strong> y <strong><code>Propiedad2</code></strong> y además un único constructor que recibe los valores de las propiedades.</p>
<p>Veamos un ejeplo más concreto implementando la definición de <strong><code>Punto2D</code></strong> usando <strong><code>record class</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-record">record</span> <span class="token class-name"><span class="token keyword keyword-class">class</span></span> <span class="token function">Punto2D</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-double">double</span></span> X<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> Y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Distancia</span><span class="token punctuation">(</span><span class="token class-name">Punto2D</span> p<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span>X <span class="token operator">-</span> p<span class="token punctuation">.</span>X<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span>Y <span class="token operator">-</span> p<span class="token punctuation">.</span>Y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="admonition warning">
<p class="admonition-title">Cuidado</p>
<p>Esta definición simplificada solo la usaremos <strong>cuando NO tenemos que realizar comprobaciones en los valores de las propiedades</strong>. Pues sea cual sea el valor que tengan el objeto estará correctamente definido.</p>
</div>
<h4 id="instanciar-un-value-object-definido-por-referencia">Instanciar un Value Object definido por referencia </h4>
<p>Si queremos crear una instáncia de <strong><code>Punto2D</code></strong> lo haremos como si fuera una clase normal:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">Punto2D</span> p1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">X</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">Y</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Punto2D</span> p2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">X</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">Y</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Punto2D</span> p3 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">X</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">Y</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Punto2D</span> p4 <span class="token operator">=</span> p3<span class="token punctuation">;</span>
</code></pre><h4 id="comparar-dos-value-objects-definido-por-referencia">Comparar dos Value Objects definido por referencia </h4>
<p>Aunque <strong><code>p1</code></strong> y <strong><code>p2</code></strong> son <strong>dos instancias diferentes</strong>, si comparamos sus valores, <strong>serán iguales</strong> porque los <strong><code>record</code></strong> implementan automáticamente la comparación de igualdad basándose en los valores de sus propiedades. Podremos usar tanto <strong><code>Equals</code></strong> como los operadores <strong><code>==</code></strong> y <strong><code>!=</code></strong> para comparar dos instancias de <strong><code>Punto2D</code></strong> y obtendremos el mismo resultado.</p>
<p>Por tanto, podemos comparar dos instancias de <strong><code>Punto2D</code></strong> de la siguiente manera:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token function">ReferenceEquals</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// False, porque p1 y p2 son diferentes instancias</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// True, porque los valores de X e Y son iguales.</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>p1 <span class="token operator">==</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// True, porque los valores de X e Y son iguales.</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>p1 <span class="token operator">!=</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// False, porque los valores de X e Y son iguales.</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token function">ReferenceEquals</span><span class="token punctuation">(</span>p2<span class="token punctuation">,</span> p3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// False, porque p2 y p3 son diferentes instancias</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span>p3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// False, porque los valores de X e Y son diferentes.</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token function">ReferenceEquals</span><span class="token punctuation">(</span>p3<span class="token punctuation">,</span> p4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// True, porque p3 y p4 son la misma referencia</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>p3<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span>p4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// True, porque los valores de X e Y son iguales.</span>
</code></pre><div style="page-break-after:always;"></div>
<h4 id="copiar-un-value-objects-definido-por-referencia">Copiar un Value Objects definido por referencia </h4>
<p>Puesto que son tipos referencia, si queremos hacer una copia no podremos hacer una simple asignación con <strong><code>=</code></strong>, pero dispondremos de la palabra reservada <strong><code>with</code></strong> que nos permite crear una copia e incluso momofificar en la copia alguna de sus propiedades. Lógicamente <strong>si fueramos a modificar el valor de todas las propiedades, podríamos hacer una copia con <code>new</code></strong> pero si solo queremos modificar una de ellas es más sencillo usar <strong><code>with</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// Crea una nueva instancia en p5 con los mismos valores que p1</span>
<span class="token class-name">Punto2D</span> p5 <span class="token operator">=</span> p1 <span class="token keyword keyword-with">with</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// Equivalente a lo anterior pero modificando la propiedades de la copia</span>
<span class="token class-name">Punto2D</span> p6 <span class="token operator">=</span> p1 <span class="token keyword keyword-with">with</span> <span class="token punctuation">{</span> X <span class="token operator">=</span> p1<span class="token punctuation">.</span>X <span class="token operator">+</span> <span class="token number">15</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="admonition warning">
<p class="admonition-title">Cuidado</p>
<p>La copia con <strong><code>with</code></strong> solo la podremos usar <strong>si hemos definido el <code>record class</code> con la sintaxis simplificada</strong> y no nos importa modificar el valor de una propiedad sin que afecte al estedo del objeto original.</p>
</div>
<h4 id="visualizar-un-value-object-definido-por-referencia">Visualizar un Value Object definido por referencia </h4>
<p>Al contrario de las clases normales, podemos mostrar el contenido de un <strong><code>record</code></strong> directamente sin necesidad de definirlo de forma explícita.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra: Punto2D { X = 10, Y = 20 }</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra: Punto2D { X = 10, Y = 20 }</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra: Punto2D { X = 10, Y = 20 }</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>p6<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Muestra: Punto2D { X = 25, Y = 20 }</span>
</code></pre><h4 id="definir-un-value-object-por-referencia-extendida">Definir un Value Object por referencia EXTENDIDA </h4>
<p>Imaginemos que queremos defininir una posición en un almacén que tiene un pasillo con una letra mayúscula entre <strong><code>A</code></strong> y <strong><code>Z</code></strong>, un estante con un número entre <strong><code>1</code></strong> y <strong><code>10</code></strong> y un nivel con un número entre <strong><code>1</code></strong> y <strong><code>5</code></strong>. Para ello, podemos definir la clase <strong><code>UbicacionAlmacen</code></strong> como <strong><code>Value Object</code></strong> a través de un <strong><code>record class</code></strong> pero como tenemos que cumplir unas restricciones no podemos definir propiedades y constructor junto con el tipo de forma simplificada. Por tanto, <strong>tendremos que usar la forma completa que hemos utilizado al definir una clase normal</strong> por ejemplo:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-record">record</span> <span class="token class-name"><span class="token keyword keyword-class">class</span></span> UbicacionAlmacen
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-char">char</span></span> Pasillo <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Estante <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Nivel <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">UbicacionAlmacen</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-char">char</span></span> pasillo<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> estante<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> nivel<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>pasillo <span class="token operator">&gt;=</span> <span class="token char">'A'</span> <span class="token operator">&amp;&amp;</span> pasillo <span class="token operator">&lt;=</span> <span class="token char">'Z'</span><span class="token punctuation">,</span> <span class="token string">"El pasillo debe estar entre A y Z"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>estante <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> estante <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"El estante debe estar entre 1 y 10"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>nivel <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> nivel <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"El nivel debe estar entre 1 y 5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Pasillo <span class="token operator">=</span> pasillo<span class="token punctuation">;</span>
        Estante <span class="token operator">=</span> estante<span class="token punctuation">;</span>
        Nivel <span class="token operator">=</span> nivel<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>
</code></pre><div class="admonition warning">
<p class="admonition-title">Aviso</p>
<p>Al usar <strong>propiedades automáticas de solo lectura <code>{ get; }</code></strong>, no podremos modificar el valor de las propiedades una vez que se ha creado la instancia del objeto en el constructor y nos aseguraremos que el estado del objeto es correcto. Sin embargo, <strong>ya no podremos usar la palabra reservada <code>with</code></strong> para crear una copia del objeto y modificar alguna de sus propiedades.</p>
</div>
<p>Si ejecutamos la siguiente prueba en C# veremos que se comporta como un <strong><code>Value Object</code></strong>:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">UbicacionAlmacen</span> ubicacion1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">pasillo</span><span class="token punctuation">:</span> <span class="token char">'B'</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">estante</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">nivel</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">UbicacionAlmacen</span> ubicacion2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">pasillo</span><span class="token punctuation">:</span> <span class="token char">'B'</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">estante</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">nivel</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Ubicación 1: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ubicacion1</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Ubicación 2: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ubicacion2</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Iguales: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token punctuation">(</span>ubicacion1 <span class="token operator">==</span> ubicacion2 <span class="token punctuation">?</span> <span class="token string">"Sí"</span> <span class="token punctuation">:</span> <span class="token string">"No"</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ❌ Ya no es posible hacer ...</span>
    <span class="token comment">// ubicacion2 = ubicacion2 with { Nivel = ubicacion2.Nivel - 1 };</span>

    <span class="token comment">// ✅ Usaremos el contsructor que comprobará que el nuevo nivel sea correcto</span>
    ubicacion2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span>ubicacion2<span class="token punctuation">.</span>Pasillo<span class="token punctuation">,</span> ubicacion2<span class="token punctuation">.</span>Estante<span class="token punctuation">,</span> ubicacion2<span class="token punctuation">.</span>Nivel <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Ubicación 1: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ubicacion1</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Ubicación 2: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ubicacion2</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Iguales: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token punctuation">(</span>ubicacion1 <span class="token operator">==</span> ubicacion2 <span class="token punctuation">?</span> <span class="token string">"Sí"</span> <span class="token punctuation">:</span> <span class="token string">"No"</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>Mostrará al ejecutarse:</strong></p>
<pre class="salida_consola">Ubicación 1: UbicacionAlmacen { Pasillo = B, Estante = 3, Nivel = 2 }
Ubicación 2: UbicacionAlmacen { Pasillo = B, Estante = 3, Nivel = 3 }
Iguales: No
Ubicación 1: UbicacionAlmacen { Pasillo = B, Estante = 3, Nivel = 2 }
Ubicación 2: UbicacionAlmacen { Pasillo = B, Estante = 3, Nivel = 2 }
Iguales: Sí
</pre> <!-- fin salida consola -->
<div style="page-break-after:always;"></div>
<div class="box_bg_lightgray">
<p>🚀 <strong>Ampliación opcional:</strong></p>
<p>¿Serías capaz de reconoces los elementos de de nuestra definición de <strong><code>Punto2D</code></strong> en C# en otros lenguajes cómo <strong>Python</strong> o <strong>Kotlin</strong>?</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-record">record</span> <span class="token class-name"><span class="token keyword keyword-class">class</span></span> <span class="token function">Punto2D</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-double">double</span></span> X<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> Y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Distancia</span><span class="token punctuation">(</span><span class="token class-name">Punto2D</span> p<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span>X <span class="token operator">-</span> p<span class="token punctuation">.</span>X<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span>Y <span class="token operator">-</span> p<span class="token punctuation">.</span>Y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Punto2D</span> p1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Punto2D</span> p2 <span class="token operator">=</span> p1 <span class="token keyword keyword-with">with</span> <span class="token punctuation">{</span> X <span class="token operator">=</span> <span class="token number">15</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>Python:</strong></p>
<pre data-role="codeBlock" data-info="python" class="language-python python"><code><span class="token keyword keyword-import">import</span> math
<span class="token keyword keyword-from">from</span> dataclasses <span class="token keyword keyword-import">import</span> dataclass

<span class="token decorator annotation punctuation">@dataclass</span><span class="token punctuation">(</span>frozen<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Punto2D</span><span class="token punctuation">:</span>
    x<span class="token punctuation">:</span> <span class="token builtin">float</span>
    y<span class="token punctuation">:</span> <span class="token builtin">float</span>

    <span class="token keyword keyword-def">def</span> <span class="token function">distancia</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> otro<span class="token punctuation">:</span> <span class="token string">'Punto2D'</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">float</span><span class="token punctuation">:</span>
        <span class="token keyword keyword-return">return</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">-</span> otro<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>y <span class="token operator">-</span> otro<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword keyword-def">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    p1 <span class="token operator">=</span> Punto2D<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
    p2 <span class="token operator">=</span> replace<span class="token punctuation">(</span>p1<span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span>
</code></pre><p><strong>Kotlin:</strong></p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token keyword keyword-data">data</span> <span class="token keyword keyword-class">class</span> <span class="token function">Punto2D</span><span class="token punctuation">(</span><span class="token keyword keyword-val">val</span> x<span class="token operator">:</span> Double<span class="token punctuation">,</span> <span class="token keyword keyword-val">val</span> y<span class="token operator">:</span> Double<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-fun">fun</span> <span class="token function">distancia</span><span class="token punctuation">(</span>otro<span class="token operator">:</span> Punto2D<span class="token punctuation">)</span><span class="token operator">:</span> Double <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">-</span> otro<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>y <span class="token operator">-</span> otro<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> p1 <span class="token operator">=</span> <span class="token function">Punto2D</span><span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">20.0</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-val">val</span> p2 <span class="token operator">=</span> p1<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">15.0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div style="page-break-after:always;"></div>
<div class="box_bg_lightgray">
<p>🎓 <strong>Caso de estudio:</strong></p>
<p>Vamos a definir una clase para modelar un <strong>ISBN</strong>. Un ISBN es un código normalizado internacional para libros <em>(<strong>International Standard Book Number</strong>)</em>. Los ISBN tuvieron 10 dígitos hasta diciembre de 2006 pero, desde enero de 2007, <strong>tienen siempre 13 dígitos</strong> que se corresponden con los números del código de barras <strong>EAN13</strong> (<em>código de barras de 13 dígitos</em>). Cada ISBN además, <strong>se compone de 5 elementos separados entre sí</strong> por un espacio o un guion. Tres de los cinco elementos <strong>pueden variar en longitud</strong>:</p>
<ol>
<li>
<p><strong>Prefijo</strong>: Actualmente sólo pueden ser <strong>978</strong> o <strong>979</strong>. Siempre tiene 3 dígitos de longitud.</p>
</li>
<li>
<p><strong>Grupo de registro</strong>: Identifica a un determinado país, una región geográfica o un área lingüística que participan en el sistema ISBN. Este elemento <strong>puede tener entre 1 y 5 dígitos</strong> de longitud.</p>
</li>
<li>
<p><strong>Titular</strong>: Identifica a un determinado editor o a un sello editorial. Puede tener <strong>hasta 7 dígitos</strong> de longitud.</p>
</li>
<li>
<p><strong>Publicación</strong>: Identifica una determinada edición y formato de un determinado título. Puede  ser de <strong>hasta 6 dígitos</strong> de longitud. Además, este elemento se rellenará con ceros por la izquierda si el ISBN no alcanzase los 13 dígitos.</p>
</li>
<li>
<p><strong>Dígito de control</strong>: Es siempre el último y único dígito que valida matemáticamente al resto  del número. Se calcula utilizando <strong>el sistema de módulo 10 con pesos alternativos de 1 y 3</strong>.</p>
<p><strong>Ejemplo:</strong> Para el ISBN <strong>978-1-78528-144</strong> el DC se calculará.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>suma  <span class="token operator">=</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">7</span> <span class="token operator">+</span> <span class="token number">8</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">4</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">=</span> 
    <span class="token operator">=</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">21</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">7</span> <span class="token operator">+</span> <span class="token number">24</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">=</span> <span class="token number">110</span>
resto <span class="token operator">=</span> suma <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">=</span> <span class="token number">110</span> <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">=</span> <span class="token number">0</span>
dc <span class="token operator">=</span> resto <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">?</span> <span class="token number">10</span> <span class="token operator">-</span> resto<span class="token punctuation">;</span>
</code></pre></li>
</ol>
<p>Cumple esta clase <strong>cumple todos los tips para ser un <code>Value Object</code></strong> pues es intercambiable por otro ISBN idéntico, es inmutable una vez se define y sus campos son a su vez <strong><code>Value Objects</code></strong> y una aproximación preliminar al diseño mediante UML de nuestro <strong><code>value object</code> como tipo referencia</strong> podría ser la siguiente:</p>
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="218.4px" preserveAspectRatio="none" style="width:423px;height:218px;" version="1.1" viewBox="0 0 423 218" width="423.2px" zoomAndPan="magnify"><defs></defs><g><!--class Isbn13--><g class="entity" data-entity="Isbn13" data-source-line="12" data-uid="ent0002" id="entity_Isbn13"><rect fill="#FFFAFA" height="201.925" rx="2" ry="2" style="stroke:#000000;stroke-width:0.4;" width="406.4672" x="5.6" y="5.6"></rect><ellipse cx="176.3469" cy="22.6813" fill="#FF7700" rx="8.8" ry="8.8" style="stroke:#181818;stroke-width:0.8;"></ellipse><path d="M176.8219,25.2938 L178.7969,20.5938 L178.4844,20.5938 Q177.9969,20.5938 177.7844,20.4063 Q177.5719,20.2188 177.5719,19.9063 Q177.5719,19.6063 177.7844,19.4188 Q177.9969,19.2313 178.4844,19.2313 L180.3094,19.2313 Q180.7969,19.2313 181.0094,19.4188 Q181.2219,19.6063 181.2219,19.9063 Q181.2219,20.2813 180.8969,20.4938 Q180.7469,20.5938 180.2719,20.5938 L177.4844,27.2813 L176.1719,27.2813 L173.3844,20.5938 Q172.9094,20.5938 172.7594,20.4938 Q172.4344,20.2813 172.4344,19.9063 Q172.4344,19.6063 172.6469,19.4188 Q172.8594,19.2313 173.3469,19.2313 L175.1844,19.2313 Q175.6719,19.2313 175.8719,19.4188 Q176.0844,19.6063 176.0844,19.9063 Q176.0844,20.2188 175.8719,20.4063 Q175.6719,20.5938 175.1844,20.5938 L174.8594,20.5938 L176.8219,25.2938 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.6" font-style="italic" lengthAdjust="spacing" textLength="61.3734" x="191.1469" y="19.5656">«valueObject»</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="33.6273" x="205.0199" y="33.3016">Isbn13</text><line style="stroke:#000000;stroke-width:0.4;" x1="6.4" x2="411.2672" y1="39.7625" y2="39.7625"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="126.9953" x="10.4" y="54.5891">-prefijo : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="181.1578" x="10.4" y="68.6766">-grupoDeRegistro : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="123.8781" x="10.4" y="82.7641">-titular : string {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="152.5289" x="10.4" y="96.8516">-publicacion : string {readOnly}</text><line style="stroke:#000000;stroke-width:0.4;" x1="6.4" x2="411.2672" y1="102.5125" y2="102.5125"></line><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="396.8672" x="10.4" y="117.3391">+Isbn13(in prefijo : int, in grupoDeRegistro : int, in titular : int, in publicacion : int)</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="100.5211" x="10.4" y="131.4266">+GetPrefijo() : string</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="155.925" x="10.4" y="145.5141">+GetGrupoDeRegistro() : string</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="99.8922" x="10.4" y="159.6016">+GetTitular() : string</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="126.0547" x="10.4" y="173.6891">+GetPublicacion() : string</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="135.3844" x="10.4" y="187.7766">+/GetDigitoDeControl() : int</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="185.1883" x="10.4" y="201.8641">+ATexto(in separador : string) : string</text></g><!--SRC=[VP5BRy8m48Jl-HMMUW7rHTK3LOMGU0Z42LHGUtQI9ImOErflIbl4V-y2eGaqmeTOyNoQ6QyDp5cnKuJ9WbMC116Ziu6Fj07LU7W90hz2cshIQnKPxNs7cJ3C64QHirFy4Qg4T8ZSfkUC8zKrEbgLf8dywWIwiYNaCXiViOy5CapNRWKbjhTFwZgAWQhDZi25rTIwJOcvb6UahHS9B0V1uIvgv4FxzAnQhThxtSrWq6ms6dNrgKq6ut0fesYtWssWPDshb62EIwTUbPS1s4Hj2NGyjkPxbnC9PQdhmniaACWraf4pe-aAaMQXmKX7yXQLr06xpVlNq9RgeUKx-LJKEIb5_EdaF4vEwtd047XoTAxL_ueKsl0yevAP7TCgjKcH-rz_5A2F2R8az9mLVtE0f5vET6RmnMv_VG_xDuzTCTEItUuN]--></g></svg></p><p></p>
<p>Puesto que va a ser un <strong><code>Value Object</code></strong> por referencia, lo definiremos como un <strong><code>record class</code></strong> pero usaremos la sintaxis normal para poder comrprobar que el estado del ISBN es correcto y que cumple con las especificaciones anteriores. Por tanto, la definición de la clase <strong><code>ISBN</code></strong> sería la siguiente (puedes descargar el código completo de este enlace <strong><a href="assets/ejemplos/6_isbn_record_class_ejemplo.cs">Isbn13.cs</a></strong>):</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-record">record</span> <span class="token class-name"><span class="token keyword keyword-class">class</span></span> Isbn13
<span class="token punctuation">{</span>
    <span class="token comment">// Constantes privadas y de clase para validación</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> PREFIJOS <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">978</span><span class="token punctuation">,</span> <span class="token number">979</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> MAX_LONGITUD_GRUPO <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> MAX_LONGITUD_TITULAR <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> MAX_LONGITUD_PUBLICACION <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> LONGITUD_ISBN <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>
    <span class="token comment">// Propiedades automáticas de solo lectura</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Prefijo <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> GrupoDeRegistro <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Titular <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Publicacion <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre><p>A continuación definimos la <strong>propiedad calculada <code>DigitoDeControl</code></strong> que calcula el dígito de control del ISBN según las especificaciones. Fíjate que no hace falta que comprobemos el estado de las propiedades porque ya se hizo en el constructor y sabemos que son válidas.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> DigitoDeControl
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-get">get</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn <span class="token operator">=</span> <span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> Prefijo<span class="token punctuation">,</span> GrupoDeRegistro<span class="token punctuation">,</span> Titular<span class="token punctuation">,</span> Publicacion<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword keyword-double">double</span></span> suma <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> isbn<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
                suma <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>isbn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword keyword-double">double</span></span> resto <span class="token operator">=</span> suma <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> resto <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> Convert<span class="token punctuation">.</span><span class="token function">ToInt32</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">-</span> resto<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><p>Definimos el <strong>constructor</strong> que recibe los valores de los cuatro elementos del ISBN y comprueba que son válidos según las especificaciones. De esta manera cualquier objeto ISBN que creemos será válido y no tendremos que preocuparnos de validar su estado posteriormente.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-public">public</span> <span class="token function">Isbn13</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> prefijo<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> grupoDeRegistro<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> titular<span class="token punctuation">,</span> <span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> publicacion<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Prefijo <span class="token operator">=</span> prefijo<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> esPrefijoValido <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">IndexOf</span><span class="token punctuation">(</span>PREFIJOS<span class="token punctuation">,</span> prefijo<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">condition</span><span class="token punctuation">:</span> esPrefijoValido<span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">message</span><span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">$"El prefijo </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">prefijo</span><span class="token punctuation">}</span></span><span class="token string"> no es válido. Debe ser 978 o 979."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        GrupoDeRegistro <span class="token operator">=</span> grupoDeRegistro<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">condition</span><span class="token punctuation">:</span> GrupoDeRegistro<span class="token punctuation">.</span>Length <span class="token operator">&lt;=</span> MAX_LONGITUD_GRUPO<span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">message</span><span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">$"El grupo de registro </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">grupoDeRegistro</span><span class="token punctuation">}</span></span><span class="token string"> es demasiado largo."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Titular <span class="token operator">=</span> titular<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">condition</span><span class="token punctuation">:</span> Titular<span class="token punctuation">.</span>Length <span class="token operator">&lt;=</span> MAX_LONGITUD_TITULAR<span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">message</span><span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">$"El titular </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">titular</span><span class="token punctuation">}</span></span><span class="token string"> es demasiado largo."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Publicacion <span class="token operator">=</span> publicacion<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">condition</span><span class="token punctuation">:</span> Publicacion<span class="token punctuation">.</span>Length <span class="token operator">&lt;=</span> MAX_LONGITUD_PUBLICACION<span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">message</span><span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">$"La publicación </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">publicacion</span><span class="token punctuation">}</span></span><span class="token string"> es demasiado larga."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> isbn <span class="token operator">=</span> <span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> prefijo<span class="token punctuation">,</span> grupoDeRegistro<span class="token punctuation">,</span> titular<span class="token punctuation">,</span> publicacion<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// No tenemos la seguridad de que siendo correctoas </span>
        <span class="token comment">// las longitudes de los elementos el total seamenor que 12.</span>
        Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">condition</span><span class="token punctuation">:</span> isbn<span class="token punctuation">.</span>Length <span class="token operator">&lt;=</span> LONGITUD_ISBN <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">message</span><span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">$"El ISBN </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">isbn</span><span class="token punctuation">}</span></span><span class="token string"> es demasiado largo."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Para que el ISBN tenga 13 dígitos, rellenamos con ceros a la izquierda la publicación</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> excesoLongitud <span class="token operator">=</span> isbn<span class="token punctuation">.</span>Length <span class="token operator">-</span> <span class="token punctuation">(</span>LONGITUD_ISBN <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>excesoLongitud <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            Publicacion <span class="token operator">=</span> Publicacion<span class="token punctuation">.</span><span class="token function">PadLeft</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>excesoLongitud<span class="token punctuation">)</span> <span class="token operator">+</span> Publicacion<span class="token punctuation">.</span>Length<span class="token punctuation">,</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><p>Por último, definimos el método <strong><code>ATexto</code></strong> que devuelve una representación del ISBN como texto, separando los elementos por un separador dado. Este método es útil para mostrar el ISBN de forma legible incluyendo su dígito de control correcto.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> separador<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        <span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>separador<span class="token punctuation">,</span> Prefijo<span class="token punctuation">,</span> GrupoDeRegistro<span class="token punctuation">,</span> Titular<span class="token punctuation">,</span> Publicacion<span class="token punctuation">,</span> DigitoDeControl<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Veamos un ejemplo de uso de la clase <strong><code>ISBN</code></strong> que hemos definido:</p>
<div class="row">
<div class="col-sm-6 my-auto">
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Isbn13</span> isbn1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token number">978</span><span class="token punctuation">,</span> <span class="token number">84</span><span class="token punctuation">,</span> <span class="token number">935489</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>isbn1<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Isbn13</span> isbn2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token number">978</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">78528</span><span class="token punctuation">,</span> <span class="token number">144</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>isbn2<span class="token punctuation">.</span><span class="token function">ATexto</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="col-sm-6 my-auto">
<p><strong>Mostrará por pantalla:</strong></p>
<pre class="salida_consola">978-84-935489-1-9
978 1 78528 144 0
</pre>
</div>
</div>
</div> <!-- fin caso de estudio -->
<div style="page-break-after:always;"></div>
<h2 id="anexo-i---value-object-como-tipo-valor-value-type-en-csharp">Anexo I - Value Object como tipo valor (Value Type) en CSharp </h2>
<h3 id="un-poco-de-historia-y-representación-en-uml">Un poco de historia y representación en UML </h3>
<p>Usaremos la palabra reservada <strong><code>struct</code></strong> que si te fijas en el diagrama de los value objects como tipos valor, es común a diferentes lenguajes como:  <strong>C#</strong>, <strong>C++</strong>, <strong>Go</strong>, <strong>Rust</strong> o <strong>Swift</strong>. Originariamente viene del lenguaje <strong><a href="https://en.wikipedia.org/wiki/ALGOL_68#struct,_union_&amp;_%5B:%5D:_Structures,_unions_and_arrays">ALGOL 68 (1968)</a></strong> y como ves se ha ido respetando a lo largo del tiempo.</p>
<p>A principios de la década del 2000 cuando <strong><a href="https://es.wikipedia.org/wiki/Anders_Hejlsberg">Anders Hejlsberg</a></strong> definió el lenguaje C#, incluyó la palabra reservada <strong><code>struct</code></strong> que permitía definir tipos tipos valor. Por ejemplo, si nos fijamos <strong><code>int</code></strong> es una alias para el tipo <strong><code>System.Int32</code></strong> y si nos fijamos en su <strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.int32">definición</a></strong>, este es un <strong><code>struct</code></strong>.</p>
<div class="row">
<div class="col-sm-6 my-auto">
<p>Por ejemplo, todas las clases que hemos visto en la <strong>unidad 12</strong> que definían <strong>tipos valor</strong>, cómo <strong><code>DateTime</code></strong>, <strong><code>TimeSpan</code></strong>, <strong><code>DateOnly</code></strong>, <strong><code>TimeOnly</code></strong>, etc. son un <strong><code>struct</code></strong></p>
<p>En diseño orientado a objetos a través de diagramas UML a los <strong>tipos valor</strong> también se les conoce como <strong><a href="https://www.uml-diagrams.org/data-type.html">Data Type</a></strong> y por tanto les pondermos el estereotipo <strong><code>&lt;&lt;dataType&gt;&gt;</code></strong> junto al nombre del tipo el cual nos indicará a partir de ahora que es un <strong><code>Value Object</code></strong> por valor.</p>
</div>
<div class="col-sm-6 my-auto">
<p></p><p align="center" class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="185px" preserveAspectRatio="none" style="width:234px;height:185px;background:#FFFFFF;" version="1.1" viewBox="0 0 234 185" width="234px" zoomAndPan="magnify"><defs></defs><g><!--class Punto2D--><g class="entity" data-entity="Punto2D" data-source-line="10" data-uid="ent0002" id="entity_Punto2D"><rect fill="#FFFAFA" height="164.3594" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="213.1816" x="7" y="7"></rect><ellipse cx="79.6504" cy="28.3516" fill="#FF7700" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M77.1973,31.6484 L77.1973,24.9922 Q76.6504,24.9766 76.3848,24.7422 Q76.1348,24.5078 76.1348,24.1328 Q76.1348,23.7578 76.4004,23.5234 Q76.666,23.2891 77.2754,23.2891 L80.8379,23.2891 Q81.666,23.2891 82.4629,23.6016 Q83.2598,23.8984 83.7441,24.3828 Q84.1035,24.7422 84.4941,25.3672 Q84.8848,25.9766 85.0879,26.6016 Q85.291,27.2109 85.291,28.1016 L85.291,28.9141 Q85.291,29.9922 84.916,30.8359 Q84.5566,31.6641 83.9629,32.1953 Q83.3691,32.7109 82.8535,32.9609 Q82.0254,33.3516 80.6973,33.3516 L77.2754,33.3516 Q76.666,33.3516 76.4004,33.1172 Q76.1348,32.8828 76.1348,32.4922 Q76.1348,32.1172 76.4004,31.8828 Q76.666,31.6484 77.1973,31.6484 Z M78.9004,31.6484 L80.7129,31.6484 Q81.7129,31.6484 82.2285,31.3516 Q82.9004,30.9766 83.2441,30.3984 Q83.5879,29.8047 83.5879,28.8672 L83.5879,28.0547 Q83.5879,27.2578 83.2754,26.6484 Q82.791,25.6953 82.1816,25.3516 Q81.5879,24.9922 80.6973,24.9922 L78.9004,24.9922 L78.9004,31.6484 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63.3809" x="98.1504" y="24.457">«dataType»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.4824" x="102.5996" y="41.627">Punto2D</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="219.1816" y1="49.7031" y2="49.7031"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.4199" x="13" y="68.2363">-x : double {readOnly}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.4199" x="13" y="85.8457">-y : double {readOnly}</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="219.1816" y1="92.9219" y2="92.9219"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201.1816" x="13" y="111.4551">+Punto2D(x : double, y : double)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.1133" x="13" y="129.0645">+GetX() : double</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.1133" x="13" y="146.6738">+GetY() : double</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195.7402" x="13" y="164.2832">+Equals(p : Punto2D) : boolean</text></g><!--SRC=[TOv1IyD048Nl-oi6l2HO8NWfI2aqhHLF5YAenqrsJ9PiTk9aGesb_ztKHXkgpcMOzxvvCmvV1OI0RLu86CkOYIMlL5DQNslM5MHEDyr2X6tQ2jvdv1FxWH2Da0KpRPVaY25sEYj7rgOVTOvnttAcrfiZzbHOmQIY4aViyd0f9ZR8VuSTWREenDDMgS8Q1AngwQ32AaLkrDVZi6czqFKAPhDWDRbOhwVJA0h1QD6FNOtpkTefwEiAtk463BMfGzWnQlFWNRSVlEvVx_BxG73QdupuSA3kK9w3y4S-gI-_rTktLhicg7jz23yWAP53xTN-4m00]--></g></svg></p><p></p>
</div>
</div>
<h3 id="definir-un-value-object-por-valor-simplificada">Definir un Value Object por valor SIMPLIFICADA </h3>
<p>En C# podemos definir un <strong><code>Value Object</code> por valor  (como <code>value type</code>)</strong> con <strong><code>readonly record struct</code></strong> una cla inmutable con propiedades de solo lectura. La sintaxis más compactas para definirlos sería la siguiente:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token keyword keyword-record">record</span> <span class="token class-name"><span class="token keyword keyword-struct">struct</span></span> <span class="token function">TipoValor</span><span class="token punctuation">(</span><span class="token class-name">Tipo1</span> Propiedad1<span class="token punctuation">,</span> <span class="token class-name">Tipo2</span> Propiedad2<span class="token punctuation">,</span> <span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Métodos y propiedades adicionales si es necesario</span>
<span class="token punctuation">}</span>

<span class="token comment">// O simplemente como un record sin el modificador class</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token keyword keyword-record">record</span> <span class="token class-name"><span class="token keyword keyword-struct">struct</span></span> <span class="token function">TipoValor</span><span class="token punctuation">(</span><span class="token class-name">Tipo1</span> Propiedad1<span class="token punctuation">,</span> <span class="token class-name">Tipo2</span> Propiedad2<span class="token punctuation">,</span> <span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>Fíjate que la sintaxis es muy similar a la de un <strong><code>record class</code></strong> pero con la palabra reservada <strong><code>struct</code></strong> y marcando las propiedades como <strong><code>readonly</code></strong> de forma global.</p>
<p>Si la <strong>definiramos por extensión</strong> sería equivalente a la siguiente definición donde podríamos quitar el <strong><code>readonly</code></strong> global porque las propiedades son <strong><code>{ get; }</code></strong> y por tanto ya son de solo lectura.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-record">record</span> <span class="token class-name"><span class="token keyword keyword-struct">struct</span></span> TipoValor
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Tipo1</span> Propiedad1 <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Tipo2</span> Propiedad2 <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">TipoValor</span><span class="token punctuation">(</span><span class="token class-name">Tipo1</span> propiedad1<span class="token punctuation">,</span> <span class="token class-name">Tipo2</span> propiedad2<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Propiedad1 <span class="token operator">=</span> propiedad1<span class="token punctuation">;</span>
        Propiedad2 <span class="token operator">=</span> propiedad2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Por ejemplo, si queremos definir un <strong><code>Punto2D</code></strong> como <strong><code>Value Object</code></strong> por valor, lo haremos de la siguiente manera...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token keyword keyword-record">record</span> <span class="token class-name"><span class="token keyword keyword-struct">struct</span></span> <span class="token function">Punto2D</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-double">double</span></span> X<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> Y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Distancia</span><span class="token punctuation">(</span><span class="token class-name">Punto2D</span> p<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span>X <span class="token operator">-</span> p<span class="token punctuation">.</span>X<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">Pow</span><span class="token punctuation">(</span>Y <span class="token operator">-</span> p<span class="token punctuation">.</span>Y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="uso-de-un-value-object-definido-por-valor">Uso de un Value Object definido por valor </h3>
<p>El uso es idéntico al de un <strong><code>Value Object</code></strong> por referencia. Pero teniendo encuenta que al asignar con <strong><code>=</code></strong> una instancia a otra, <strong>se copia el valor y no la referencia</strong>.</p>
<p>Lo mismo sucederá si lo pasamos por parámetro a un método, se pasará una copia del valor y no la referencia y por tanto es algo menos eficiente que un <strong><code>Value Object</code></strong> por referencia.</p>
<p>Deberemos llevar más cuidado al definir <strong><code>Value Object</code></strong> como tipo valor yaque al almacenarse en el <strong>Stack</strong> o Pila, no deberían de superar los <strong>16 bytes</strong> de tamaño por motivos de eficiencia en la lecturas y copias. Si ocupan más, nuestros programas se pueden ralentizar demasiado y podremos desbordar la pila que recordemos que tiene un tamaño menor al Heap.</p>
<div class="admonition tip">
<p class="admonition-title">Importante</p>
<p>Por todas las razones anteriores y porque existen lenguajes donde no se puede hacer, <strong>no es recomendable definir Value Objects como tipos valor</strong> salvo en las librerías de clases del propio lenguaje y por tanto, nosotros en ente curso no lo vamos a hacer.</p>
</div>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>