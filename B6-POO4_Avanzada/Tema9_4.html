<!DOCTYPE html><html><head>
      <title>Tema 9.4 Principios SOLID</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
.markdown-preview.markdown-preview .slides > section {
  height: 100%;
  font-size: 90%;
  overflow-y: auto !important;
}
.markdown-preview.markdown-preview .slide code {
  color: yellow;
}

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <style>/* 
Añade 

@import "../EstilosPersonalizadosMarkdownEnhanced.less"

justo después del front matter 
*/
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v14/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
.contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.fondo {
  background: url(https://programacioniesbalmis.github.io/Imagenes/BannersMoodle/banner.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
</style>
<h1 class="mume-header undefined" id="tema-94">Tema 9.4</h1>

<p><a href="./Tema9_4.pdf">Descargar estos apuntes</a></p>
<h2 class="mume-header undefined" id="%C3%ADndice">&#xCD;ndice</h2>

<ol>
<li><a href="#principios-solid">Principios SOLID</a>
<ol>
<li><a href="#conceptos-b%C3%A1sicos">Conceptos b&#xE1;sicos</a></li>
<li><a href="#s-principio-de-responsabilidad-simple-srp">S &#x2192; Principio de responsabilidad simple (SRP)</a></li>
<li><a href="#o-principio-de-abiertocerrado-ocp">O &#x2192; Principio de Abierto/Cerrado (OCP)</a></li>
<li><a href="#l-liskov-substitution-principle-lsp">L &#x2192; Liskov Substitution Principle (LSP)</a></li>
<li><a href="#i-principio-de-segregaci%C3%B3n-de-interfaces-isp">I &#x2192; Principio de Segregaci&#xF3;n de Interfaces (ISP)</a></li>
<li><a href="#d-principio-de-inversi%C3%B3n-de-dependencias-dip">D &#x2192; Principio de Inversi&#xF3;n de Dependencias (DIP)</a>
<ol>
<li><a href="#factory-patr%C3%B3n-creacional-factory-method">&#x1F3ED; Patr&#xF3;n creacional Factory Method</a></li>
<li><a href="#construction_worker-patr%C3%B3n-creacional-builder-simplificado">&#x1F477; Patr&#xF3;n creacional Builder (simplificado)</a></li>
</ol>
</li>
</ol>
</li>
</ol>
<div style="page-break-after:always;"></div>
<h2 class="mume-header" id="principios-solid">Principios SOLID</h2>

<h3 class="mume-header" id="conceptos-b%C3%A1sicos">Conceptos b&#xE1;sicos</h3>

<ul>
<li>La experiencia en el desarroll&#xF3; usando el paradigma POO, dio lugar a cinco reglas que todo desarrollador OO deber&#xED;a seguir para crear un sistema que sea <strong>f&#xE1;cil de mantener</strong> y <strong>escalable</strong> a trav&#xE9;s del tiempo.</li>
<li>Estas <strong>cinco reglas</strong> son conocidas como los principios <strong>SOLID</strong> y las vamos a enumerar a continuaci&#xF3;n.</li>
<li>Algunas ya las hemos visto indirectamente durante el curso.</li>
</ul>
<p align="center" style="zoom:1"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="210px" preserveAspectRatio="none" style="width:859px;height:210px;background:#FFFFFF;" version="1.1" viewBox="0 0 859 210" width="859px" zoomAndPan="magnify"><defs><filter height="300%" id="fo0uxq7em5ooj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#4169E1" filter="url(#fo0uxq7em5ooj)" height="158.7891" rx="12.5" ry="12.5" style="stroke:#00000000;stroke-width:1.5;" width="118" x="10" y="25"/><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="9" x="64.5" y="53.1318">S</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="25" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="33" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="41" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="49" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="57" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="65" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="73" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="81" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="89" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="97" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="105" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="0" x="71" y="85.3291"/><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="28" x="55" y="101.4277">SRP</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="0" x="71" y="117.5264"/><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="39" x="49.5" y="133.625">Single</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="87" x="25.5" y="149.7236">Responsibility</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54" x="42" y="165.8223">Principle</text><rect fill="#6495ED" filter="url(#fo0uxq7em5ooj)" height="158.7891" rx="12.5" ry="12.5" style="stroke:#00000000;stroke-width:1.5;" width="118" x="188" y="25"/><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="11" x="241.5" y="53.1318">O</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="203" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="211" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="219" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="227" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="235" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="243" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="251" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="259" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="267" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="275" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="283" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="0" x="249" y="85.3291"/><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="30" x="232" y="101.4277">OCP</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="0" x="249" y="117.5264"/><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="35" x="229.5" y="133.625">Open</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="44" x="225" y="149.7236">Closed</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54" x="220" y="165.8223">Principle</text><rect fill="#4169E1" filter="url(#fo0uxq7em5ooj)" height="158.7891" rx="12.5" ry="12.5" style="stroke:#00000000;stroke-width:1.5;" width="118" x="366" y="25"/><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="8" x="421" y="53.1318">L</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="381" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="389" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="397" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="405" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="413" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="421" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="429" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="437" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="445" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="453" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="461" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="0" x="427" y="85.3291"/><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="26" x="412" y="101.4277">LSP</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="0" x="427" y="117.5264"/><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="40" x="405" y="133.625">Liskov</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="74" x="388" y="149.7236">Substitution</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54" x="398" y="165.8223">Principle</text><rect fill="#6495ED" filter="url(#fo0uxq7em5ooj)" height="158.7891" rx="12.5" ry="12.5" style="stroke:#00000000;stroke-width:1.5;" width="118" x="544" y="25"/><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4" x="601" y="53.1318">I</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="559" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="567" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="575" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="583" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="591" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="599" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="607" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="615" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="623" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="631" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="639" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="0" x="605" y="85.3291"/><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="22" x="592" y="101.4277">ISP</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="0" x="605" y="117.5264"/><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="55" x="575.5" y="133.625">Interface</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="77" x="564.5" y="149.7236">Segregation</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54" x="576" y="165.8223">Principle</text><rect fill="#4169E1" filter="url(#fo0uxq7em5ooj)" height="158.7891" rx="12.5" ry="12.5" style="stroke:#00000000;stroke-width:1.5;" width="118" x="722" y="25"/><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="10" x="776" y="53.1318">D</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="737" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="745" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="753" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="761" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="769" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="777" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="785" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="793" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="801" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="809" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="817" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="0" x="783" y="85.3291"/><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="23" x="769.5" y="101.4277">DIP</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="0" x="783" y="117.5264"/><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="80" x="741" y="133.625">Dependency</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="57" x="752.5" y="149.7236">Inversion</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54" x="754" y="165.8223">Principle</text><path d="M662,104.3945 L672,104.3945 C687,104.3945 697,104.3945 712,104.3945 L722,104.3945 " fill="none" style="stroke:#00000000;stroke-width:1.0;"/><path d="M484,104.3945 L494,104.3945 C509,104.3945 519,104.3945 534,104.3945 L544,104.3945 " fill="none" style="stroke:#00000000;stroke-width:1.0;"/><path d="M306,104.3945 L316,104.3945 C331,104.3945 341,104.3945 356,104.3945 L366,104.3945 " fill="none" style="stroke:#00000000;stroke-width:1.0;"/><path d="M128,104.3945 L138,104.3945 C153,104.3945 163,104.3945 178,104.3945 L188,104.3945 " fill="none" style="stroke:#00000000;stroke-width:1.0;"/><!--MD5=[fd1cf5cc5fbab997e1000fefe93cd663]
@startmindmap
left to right direction
<style>
mindmapDiagram {
    Linecolor transparent
    FontName Arial
    FontColor white
    FontSize 14
    node {
        Padding 15
        Margin 15
        HorizontalAlignment center
        BackGroundColor white
    }
}
</style>

*[#royalblue]       **S**\n_______________________________________________________\n\n**SRP**\n\nSingle\nResponsibility\nPrinciple
**[#cornflowerblue]    **O**\n_______________________________________________________\n\n**OCP**\n\nOpen\nClosed\nPrinciple
***[#royalblue]     **L**\n_______________________________________________________\n\n**LSP**\n\nLiskov\n Substitution \nPrinciple
****[#cornflowerblue]  **I**\n_______________________________________________________\n\n**ISP**\n\nInterface\nSegregation\nPrinciple
*****[#royalblue]   **D**\n_______________________________________________________\n\n**DIP**\n\nDependency\nInversion\nPrinciple

@endmindmap

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><h3 class="mume-header" id="s-principio-de-responsabilidad-simple-srp">S &#x2192; Principio de responsabilidad simple (SRP)</h3>

<blockquote>
<p><strong>Definici&#xF3;n:</strong> Descrito por <strong>Robert C. Martin</strong>. Este principio establece que un componente del software (m&#xE9;todo, clase o m&#xF3;dulo) debe estar centrado en una <strong>&#xFA;nica tarea</strong> (tener solo una responsabilidad).</p>
</blockquote>
<p>C&#xF3;mo ocurr&#xED;a en programaci&#xF3;n modular, que si un m&#xF3;dulo hac&#xED;a m&#xE1;s de una cosa genera acoplamiento. Lo mismo suceder&#xE1; con nuestras clases.</p>
<blockquote>
<p>&#x270B; <strong>Importante:</strong> No siempre es tan obvio su incumplimiento. Por eso, siempre que a&#xF1;adamos un m&#xE9;todo a una clase deberemos pensar si realmente deber&#xED;a ir en la misma o realmente se est&#xE1; convirtiendo en un <strong>&apos;<em>Caj&#xF3;n Desastre</em>&apos;</strong>.</p>
</blockquote>
<p>Vemos c&#xF3;mo &apos;<strong>darnos cuenta</strong>&apos; de su incumplimiento a trav&#xE9;s de un par de ejemplos...</p>
<ol>
<li>
<p>Supongamos la siguiente clase <strong><code>Rect&#xE1;ngulo</code></strong> donde hemos a&#xF1;adido dos m&#xE9;todos de utilidad sobre un conjunto de objetos de la clase.</p>
<pre data-role="codeBlock" data-info="csharp{highlight=[10,11]}" class="language-csharp" data-line="10,11"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Rect</span>&#xE1;ngulo
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Alto <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Ancho <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> Rect&#xE1;<span class="token function">ngulo</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-double">double</span></span> alto<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> ancho<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Alto <span class="token operator">=</span> alto<span class="token punctuation">;</span>
        Ancho <span class="token operator">=</span> ancho<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-double">double</span> Suma&#xC1;<span class="token function">reas</span><span class="token punctuation">(</span>Rectangle<span class="token punctuation">[</span><span class="token punctuation">]</span> rect&#xE1;ngulos<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-double">double</span> SumaPer&#xED;<span class="token function">metros</span><span class="token punctuation">(</span>Rectangle<span class="token punctuation">[</span><span class="token punctuation">]</span> rect&#xE1;ngulos<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">








<div aria-hidden="true" class="line-highlight" data-range="10" data-start="10">
</div></div><div class="line-highlight-wrapper">









<div aria-hidden="true" class="line-highlight" data-range="11" data-start="11">
</div></div></pre> <div style="page-break-after:always;"></div>
<p>Por alg&#xFA;n tipo de requerimiento, estos sumatorios han acabado formando parte de nuestra l&#xF3;gica de la aplicaci&#xF3;n. En principio, podr&#xED;amos pensar que como la &#xFA;nica clase que interviene es <strong><code>Rect&#xE1;ngulo</code></strong> y adem&#xE1;s, vamos a realizar operaciones de utilidad sobre un conjunto de objetos de este tipo, su lugar m&#xE1;s apropiado ser&#xED;a la clase rect&#xE1;ngulo. Adem&#xE1;s, muchas veces al programar somos &apos;<em>vagos</em>&apos; y hacemos la opci&#xF3;n m&#xE1;s r&#xE1;pida y simple &apos;<em>sin pensar</em>&apos;.</p>
<p>Sin embargo, estas operaciones no forman parte de la l&#xF3;gica que podr&#xED;a tener un rect&#xE1;ngulo en la vida real, esto es, no definen operaciones sobre un objeto <strong><code>Rect&#xE1;ngulo</code></strong>. Una pista importante, es que en lugar de uno solo rect&#xE1;ngulo, al m&#xE9;todo llegan un conjunto de ellos y eso nos deber&#xED;a <strong>&apos;<em>chirriar</em>&apos;</strong>. Es m&#xE1;s, si fuera una operaci&#xF3;n sobre un solo objeto rect&#xE1;ngulo, no tendr&#xED;a sentido que fuera un m&#xE9;todo de clase sino uno de &apos;instancia&apos; de un determinado rect&#xE1;ngulo.</p>
<p>Para cumplir con el principio, quitamos la funcionalidad de sumatorios de la clase <strong><code>Rect&#xE1;ngulo</code></strong> e introducimos un par de clases encargadas de realizar las operaciones sobre el los conjuntos de rect&#xE1;ngulos, una posible implementaci&#xF3;n podr&#xED;a ser la siguiente...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">C</span>&#xE1;lculosSobre&#xC1;reas
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Suma</span><span class="token punctuation">(</span>Rect&#xE1;ngulo<span class="token punctuation">[</span><span class="token punctuation">]</span> rect&#xE1;ngulos<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">C</span>&#xE1;lculoSobrePer&#xED;metros
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Suma</span><span class="token punctuation">(</span>Rect&#xE1;ngulo<span class="token punctuation">[</span><span class="token punctuation">]</span> rect&#xE1;ngulos<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>Entonces as&#xED; cada clase tiene una sola responsabilidad: una representa un rect&#xE1;ngulo y las otras se encargan de hacer operaciones relacionadas con ellos.</p>
</li>
<li>
<p>Veamos otro ejemplo sutil, pero interesante de la aplicaci&#xF3;n de este principio ...</p>
<p>Supongamos que el estado de un objeto persona queremos formatearlo a cadena de diferentes formas para representarlo en diferentes sitios.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-class">class</span> <span class="token class-name">Persona</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-short">short</span></span> Edad <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">FomateaALinea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$&quot;Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Nombre</span><span class="token punctuation">}</span></span><span class="token string">, Edad: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Edad</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">FomateaATabla</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token string">&quot;Nombre&quot;</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token string">&quot;Edad&quot;</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token string">\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Nombre<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Edad<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>Aparentemente no deber&#xED;a haber problema porque <strong>esta vez parecen operaciones sobre objetos de la clase</strong> y adem&#xE1;s acceden a la propiedades del mismo. Pero, la clase puede empezar a ser <strong>&apos;<em>pesada</em>&apos;</strong> si, por requerimientos del cliente, tendremos que a&#xF1;adir muchos m&#xE9;todos de Formato y por tanto de alguna manera tambi&#xE9;n estar&#xED;amos incumpliendo este principio.</p>
<p>Una posibilidad, ser&#xED;a llevanos la responsabilidad del formateo a otras clases haciendo m&#xE1;s <strong>&apos;<em>liviana</em>&apos;</strong> de la siguiente manera...</p>
<pre data-role="codeBlock" data-info="csharp{highlight=[1,10]}" class="language-csharp" data-line="1,10"><span class="token keyword keyword-class">class</span> <span class="token class-name">FomateaPersonaATabla</span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Persona</span> Persona<span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">FomateaPersonaATabla</span><span class="token punctuation">(</span><span class="token class-name">Persona</span> persona<span class="token punctuation">)</span> <span class="token punctuation">{</span> &#x2026; <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token string">&quot;Nombre&quot;</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token string">&quot;Edad&quot;</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token string">\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Persona<span class="token punctuation">.</span>Nombre<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Persona<span class="token punctuation">.</span>Edad<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">FomateaPersonaALinea</span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Persona</span> Persona <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">FomateaPersonaALinea</span><span class="token punctuation">(</span><span class="token class-name">Persona</span> persona<span class="token punctuation">)</span> <span class="token punctuation">{</span> &#x2026; <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token interpolation-string"><span class="token string">$&quot;Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Persona<span class="token punctuation">.</span>Nombre</span><span class="token punctuation">}</span></span><span class="token string">, Edad: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Persona<span class="token punctuation">.</span>Edad</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>               
<div class="line-highlight-wrapper"><div aria-hidden="true" class="line-highlight" data-range="1" data-start="1">
</div></div><div class="line-highlight-wrapper">








<div aria-hidden="true" class="line-highlight" data-range="10" data-start="10">
</div></div></pre></li>
</ol>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">&quot;</div>
        <div class="cierra_comilla">&quot;</div>
        <div class="cita">SRP is one of the more important concept in OO design. It&#x2019;s also one of the simpler concepts to understand and adhere to. Yet oddly, SRP is often the most abused class design principle.</div>
        <div class="autor">- Robert C. Martin</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="o-principio-de-abiertocerrado-ocp">O &#x2192; Principio de Abierto/Cerrado (OCP)</h3>

<blockquote>
<p><strong>Definici&#xF3;n:</strong> Establece que el dise&#xF1;o debe ser <strong>abierto para poderse extender</strong>, pero <strong>cerrado para poderse modificar</strong>.</p>
</blockquote>
<p>En otras palabras, el Software debe ser dise&#xF1;ado pensando en el crecimiento de la aplicaci&#xF3;n, pero <strong>el nuevo c&#xF3;digo debe requerir el menor n&#xFA;mero de cambios en el c&#xF3;digo existente</strong>. Otra forma simple de expresarlo podr&#xED;a sere: &apos;<em>Abierto a lo nuevo, cerrado para lo viejo</em>&apos;.</p>
<p>Formas de aplicarlo en POO:</p>
<ol>
<li>El <strong>uso m&#xE1;s com&#xFA;n</strong> de extensi&#xF3;n es <strong>mediante el mecanismo de herencia y la invalidaci&#xF3;n</strong> o sobreescritura de m&#xE9;todos.</li>
<li>Utilizando una <strong>abstracci&#xF3;n</strong>, por ejemplo utilizando m&#xE9;todos que acepten una <strong>interface</strong>, de manera que podemos pasar cualquier clase que lo implemente.</li>
<li>Usando el Patr&#xF3;n <strong>Decorator</strong> c&#xF3;mo vimos en el tema y salida por ejemplo cuando vimos el &apos;<em>decorator</em>&apos; <strong><code>BufferedStream</code></strong> sobre un <strong><code>FileStream</code></strong>. De esta manera podremos a&#xF1;adir futuros &apos;<em>decoradores</em>&apos; sin modificar la clase original.</li>
</ol>
<p>Vamos a ver a trav&#xE9;s de un <strong>ejemplo</strong> como aplicar diferentes estrategias.<br>
Supongamos que realizamos la siguiente abstracci&#xF3;n de ordenador para tener el coste de diferentes configuraciones de ordenadores.</p>
<pre data-role="codeBlock" data-info="csharp{highlight=[9]}" class="language-csharp" data-line="9"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">OrdenadorB</span>&#xE1;sico
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Procesador <span class="token operator">=&gt;</span> <span class="token number">56D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> HDD <span class="token operator">=&gt;</span> <span class="token number">30D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-double">double</span> Gr&#xE1;fica <span class="token operator">=&gt;</span> <span class="token number">41.99D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> RAM <span class="token operator">=&gt;</span> <span class="token number">23.5D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> Procesador <span class="token operator">+</span> HDD <span class="token operator">+</span> Gr&#xE1;fica <span class="token operator">+</span> RAM<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">OrdenadorOficina</span> <span class="token punctuation">:</span> OrdenadorB&#xE1;sico
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Procesador <span class="token operator">=&gt;</span> <span class="token number">100D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> HDD <span class="token operator">=&gt;</span> <span class="token number">150D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-double">double</span> Gr&#xE1;fica <span class="token operator">=&gt;</span> <span class="token number">110D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> RAM <span class="token operator">=&gt;</span> <span class="token number">90D</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">







<div aria-hidden="true" class="line-highlight" data-range="9" data-start="9">
</div></div></pre><p>Podr&#xED;amos extender nuevas configuraciones adem&#xE1;s de <strong><code>OrdenadorOficina</code></strong> tales como: <strong><code>OrdenadorGammer</code></strong>, <strong><code>OrdenadorServidor</code></strong> y as&#xED; todas las que se nos ocurran en el futuro.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    OrdenadorB&#xE1;<span class="token class-name">sico</span> setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">OrdenadorOficina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">setup<span class="token punctuation">.</span>Precio</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>Hasta aqu&#xED; podemos decir que estamos cumpliendo <strong>OCP</strong>, ya que si queremos combinar otros precios solo tenemos que heredar de <strong><code>OrdenadorB&#xE1;sico</code></strong>. Sin embargo, nuestras configuraciones solo admiten <strong>4 componentes b&#xE1;sicos</strong> y si quisi&#xE9;ramos definir modelos con alg&#xFA;n componente nuevo en forma de propiedad como <strong><code>Refrigeraci&#xF3;n</code></strong>. <strong>&#xBF;C&#xF3;mo lo har&#xED;amos?</strong></p>
<div style="page-break-after:always;"></div>
<p>Bueno pues aplicando herencia, invalidaciones y ligadura din&#xE1;mica de la siguiente forma...</p>
<pre data-role="codeBlock" data-info="csharp{highlight=[1,7,8,15,16]}" class="language-csharp" data-line="1,7,8,15,16"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">OrdenadorGamming</span> <span class="token punctuation">:</span> OrdenadorB&#xE1;sico
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Procesador <span class="token operator">=&gt;</span> <span class="token number">360D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> HDD <span class="token operator">=&gt;</span> <span class="token number">255.20D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-double">double</span> Gr&#xE1;fica <span class="token operator">=&gt;</span> <span class="token number">120D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> RAM <span class="token operator">=&gt;</span> <span class="token number">110D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-double">double</span> Refrigeraci&#xF3;n <span class="token operator">=&gt;</span> <span class="token number">90D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Precio <span class="token operator">+</span> Refrigeraci&#xF3;n<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    OrdenadorB&#xE1;<span class="token class-name">sico</span> setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">OrdenadorOficina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">setup<span class="token punctuation">.</span>Precio</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">OrdenadorGamming</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">setup<span class="token punctuation">.</span>Precio</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper"><div aria-hidden="true" class="line-highlight" data-range="1" data-start="1">
</div></div><div class="line-highlight-wrapper">





<div aria-hidden="true" class="line-highlight" data-range="7" data-start="7">
</div></div><div class="line-highlight-wrapper">






<div aria-hidden="true" class="line-highlight" data-range="8" data-start="8">
</div></div><div class="line-highlight-wrapper">













<div aria-hidden="true" class="line-highlight" data-range="15" data-start="15">
</div></div><div class="line-highlight-wrapper">














<div aria-hidden="true" class="line-highlight" data-range="16" data-start="16">
</div></div></pre><blockquote>
<p>&#x270B; <strong>Importante:</strong> Seguimos teniendo la clase <strong><code>OrdenadorB&#xE1;sico</code></strong> &apos;<em>cerrada</em>&apos; a la modificaci&#xF3;n, pero en ocasiones esta estrategia puede ser poco &apos;<em>flexible</em>&apos;, sobre todo en casos en que las combinaciones posibles son much&#xED;simas y nos obligar&#xED;an a crear muchas de extensiones de funcionalidad. En nuestro ejemplo, no hemos contemplado que la cantidad de componentes posibles es enorme y puede darnos lugar a decenas de definiciones para nuestras configuraciones.</p>
</blockquote>
<p>En ese caso una alternativa m&#xE1;s <strong>&apos;<em>flexible</em>&apos;</strong>, ser&#xED;a usar una versi&#xF3;n del <strong>Patr&#xF3;n Decorator</strong>.</p>
<blockquote>
<p>&#x1F4CC; <strong>Nota:</strong> La idea de este ejemplo, <strong>no es aprendernos el patr&#xF3;n</strong>, sino m&#xE1;s bien ver una forma nueva de extender la funcionalidad de una clase ya dada y ver posibles usos de interfaces y tipos abstractos..</p>
</blockquote>
<p>Su esquema b&#xE1;sico ser&#xED;a el siguiente...</p>
<p align="center" style="zoom:1"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="237px" preserveAspectRatio="none" style="width:683px;height:237px;background:#FFFFFF;" version="1.1" viewBox="0 0 683 237" width="683px" zoomAndPan="magnify"><defs><filter height="300%" id="fib1v1tzimtbb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5b245d680efd3b4b372f51ee98913eea]
class IOrdenador--><rect codeline="10" fill="#FFFAFA" filter="url(#fib1v1tzimtbb)" height="32" id="IOrdenador" style="stroke:#000000;stroke-width:1.5;" width="95" x="345.5" y="7"/><ellipse cx="360.5" cy="23" fill="#B4A7E5" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M361.4531,19.6406 L361.4531,26.2969 L363.1719,26.2969 Q363.7813,26.2969 364.0469,26.5313 Q364.3125,26.7656 364.3125,27.1563 Q364.3125,27.5313 364.0469,27.7656 Q363.7813,28 363.1719,28 L358.0313,28 Q357.4219,28 357.1563,27.7656 Q356.8906,27.5313 356.8906,27.1406 Q356.8906,26.7656 357.1563,26.5313 Q357.4219,26.2969 358.0313,26.2969 L359.75,26.2969 L359.75,19.6406 L358.0313,19.6406 Q357.4219,19.6406 357.1563,19.4063 Q356.8906,19.1719 356.8906,18.7813 Q356.8906,18.4063 357.1563,18.1719 Q357.4219,17.9375 358.0313,17.9375 L363.1719,17.9375 Q363.7813,17.9375 364.0469,18.1719 Q364.3125,18.4063 364.3125,18.7813 Q364.3125,19.1719 364.0469,19.4063 Q363.7813,19.6406 363.1719,19.6406 L361.4531,19.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63" x="374.5" y="27.9102">IOrdenador</text><!--MD5=[3bdd0b9bfb9192f38ee7ee1c8bc4415f]
class ComponenteOrdenador--><rect codeline="13" fill="#FFFAFA" filter="url(#fib1v1tzimtbb)" height="32" id="ComponenteOrdenador" style="stroke:#000000;stroke-width:1.5;" width="163" x="311.5" y="99"/><ellipse cx="326.5" cy="115" fill="#A9DCDF" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M328.6875,116.7656 L324.5469,116.7656 L324.125,117.7969 L324.5469,117.7969 Q325.1563,117.7969 325.4219,118.0313 Q325.6875,118.2656 325.6875,118.6563 Q325.6875,119.0313 325.4219,119.2656 Q325.1563,119.5 324.5469,119.5 L322.25,119.5 Q321.6406,119.5 321.3906,119.2656 Q321.125,119.0313 321.125,118.6406 Q321.125,118.2656 321.4063,118.0313 Q321.6719,117.7813 322.2969,117.7969 L324.9688,111.1406 L323.8594,111.1406 Q323.25,111.1406 322.9844,110.9063 Q322.7188,110.6719 322.7188,110.2813 Q322.7188,109.9063 322.9844,109.6719 Q323.25,109.4375 323.8594,109.4375 L327.5313,109.4375 L330.9219,117.7969 Q331.5156,117.7969 331.7031,117.9375 Q332.0938,118.2031 332.0938,118.6563 Q332.0938,119.0313 331.8281,119.2656 Q331.5781,119.5 330.9688,119.5 L328.6719,119.5 Q328.0625,119.5 327.7969,119.2656 Q327.5313,119.0313 327.5313,118.6406 Q327.5313,118.2656 327.7969,118.0313 Q328.0625,117.7969 328.6719,117.7969 L329.0938,117.7969 L328.6875,116.7656 Z M327.9688,115.0625 L326.6094,111.6875 L325.2344,115.0625 L327.9688,115.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="131" x="340.5" y="119.9102">ComponenteOrdenador</text><!--MD5=[87936ef4f995019bfc02dbaa241137aa]
class CompHDDEspecífico--><rect codeline="16" fill="#FFFAFA" filter="url(#fib1v1tzimtbb)" height="32" id="CompHDDEspec&#xED;fico" style="stroke:#000000;stroke-width:1.5;" width="150" x="7" y="191"/><ellipse cx="22" cy="207" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M24.7656,202.875 Q24.9219,202.6563 25.1094,202.5469 Q25.2969,202.4375 25.5156,202.4375 Q25.8906,202.4375 26.125,202.7031 Q26.3594,202.9531 26.3594,203.5625 L26.3594,205.0156 Q26.3594,205.625 26.125,205.8906 Q25.8906,206.1563 25.5156,206.1563 Q25.1719,206.1563 24.9688,205.9531 Q24.7656,205.7656 24.6563,205.25 Q24.6094,204.8906 24.4219,204.7031 Q24.0938,204.3281 23.4844,204.1094 Q22.875,203.8906 22.25,203.8906 Q21.4844,203.8906 20.8438,204.2188 Q20.2188,204.5469 19.7188,205.2969 Q19.2344,206.0469 19.2344,207.0781 L19.2344,208.1719 Q19.2344,209.4063 20.125,210.2344 Q21.0156,211.0469 22.6094,211.0469 Q23.5469,211.0469 24.2031,210.7969 Q24.5938,210.6406 25.0156,210.2031 Q25.2813,209.9375 25.4219,209.8594 Q25.5781,209.7813 25.7813,209.7813 Q26.1094,209.7813 26.3594,210.0469 Q26.625,210.2969 26.625,210.6406 Q26.625,210.9844 26.2813,211.3906 Q25.7813,211.9688 24.9844,212.2969 Q23.9063,212.75 22.6094,212.75 Q21.0938,212.75 19.8906,212.125 Q18.9063,211.625 18.2188,210.5625 Q17.5313,209.4844 17.5313,208.2031 L17.5313,207.0469 Q17.5313,205.7188 18.1406,204.5781 Q18.7656,203.4219 19.8594,202.8125 Q20.9531,202.1875 22.1875,202.1875 Q22.9219,202.1875 23.5625,202.3594 Q24.2188,202.5156 24.7656,202.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="118" x="36" y="211.9102">CompHDDEspec&#xED;fico</text><!--MD5=[cf0ccb87445a379a99e960550f5b3aef]
class CompProcesadorEspecífico--><rect codeline="20" fill="#FFFAFA" filter="url(#fib1v1tzimtbb)" height="32" id="CompProcesadorEspec&#xED;fico" style="stroke:#000000;stroke-width:1.5;" width="187" x="192.5" y="191"/><ellipse cx="207.5" cy="207" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M210.2656,202.875 Q210.4219,202.6563 210.6094,202.5469 Q210.7969,202.4375 211.0156,202.4375 Q211.3906,202.4375 211.625,202.7031 Q211.8594,202.9531 211.8594,203.5625 L211.8594,205.0156 Q211.8594,205.625 211.625,205.8906 Q211.3906,206.1563 211.0156,206.1563 Q210.6719,206.1563 210.4688,205.9531 Q210.2656,205.7656 210.1563,205.25 Q210.1094,204.8906 209.9219,204.7031 Q209.5938,204.3281 208.9844,204.1094 Q208.375,203.8906 207.75,203.8906 Q206.9844,203.8906 206.3438,204.2188 Q205.7188,204.5469 205.2188,205.2969 Q204.7344,206.0469 204.7344,207.0781 L204.7344,208.1719 Q204.7344,209.4063 205.625,210.2344 Q206.5156,211.0469 208.1094,211.0469 Q209.0469,211.0469 209.7031,210.7969 Q210.0938,210.6406 210.5156,210.2031 Q210.7813,209.9375 210.9219,209.8594 Q211.0781,209.7813 211.2813,209.7813 Q211.6094,209.7813 211.8594,210.0469 Q212.125,210.2969 212.125,210.6406 Q212.125,210.9844 211.7813,211.3906 Q211.2813,211.9688 210.4844,212.2969 Q209.4063,212.75 208.1094,212.75 Q206.5938,212.75 205.3906,212.125 Q204.4063,211.625 203.7188,210.5625 Q203.0313,209.4844 203.0313,208.2031 L203.0313,207.0469 Q203.0313,205.7188 203.6406,204.5781 Q204.2656,203.4219 205.3594,202.8125 Q206.4531,202.1875 207.6875,202.1875 Q208.4219,202.1875 209.0625,202.3594 Q209.7188,202.5156 210.2656,202.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="155" x="221.5" y="211.9102">CompProcesadorEspec&#xED;fico</text><!--MD5=[e5896cf85c01591746d031a1e86fec3c]
class CompMemoriaEspecífico--><rect codeline="24" fill="#FFFAFA" filter="url(#fib1v1tzimtbb)" height="32" id="CompMemoriaEspec&#xED;fico" style="stroke:#000000;stroke-width:1.5;" width="171" x="414.5" y="191"/><ellipse cx="429.5" cy="207" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M432.2656,202.875 Q432.4219,202.6563 432.6094,202.5469 Q432.7969,202.4375 433.0156,202.4375 Q433.3906,202.4375 433.625,202.7031 Q433.8594,202.9531 433.8594,203.5625 L433.8594,205.0156 Q433.8594,205.625 433.625,205.8906 Q433.3906,206.1563 433.0156,206.1563 Q432.6719,206.1563 432.4688,205.9531 Q432.2656,205.7656 432.1563,205.25 Q432.1094,204.8906 431.9219,204.7031 Q431.5938,204.3281 430.9844,204.1094 Q430.375,203.8906 429.75,203.8906 Q428.9844,203.8906 428.3438,204.2188 Q427.7188,204.5469 427.2188,205.2969 Q426.7344,206.0469 426.7344,207.0781 L426.7344,208.1719 Q426.7344,209.4063 427.625,210.2344 Q428.5156,211.0469 430.1094,211.0469 Q431.0469,211.0469 431.7031,210.7969 Q432.0938,210.6406 432.5156,210.2031 Q432.7813,209.9375 432.9219,209.8594 Q433.0781,209.7813 433.2813,209.7813 Q433.6094,209.7813 433.8594,210.0469 Q434.125,210.2969 434.125,210.6406 Q434.125,210.9844 433.7813,211.3906 Q433.2813,211.9688 432.4844,212.2969 Q431.4063,212.75 430.1094,212.75 Q428.5938,212.75 427.3906,212.125 Q426.4063,211.625 425.7188,210.5625 Q425.0313,209.4844 425.0313,208.2031 L425.0313,207.0469 Q425.0313,205.7188 425.6406,204.5781 Q426.2656,203.4219 427.3594,202.8125 Q428.4531,202.1875 429.6875,202.1875 Q430.4219,202.1875 431.0625,202.3594 Q431.7188,202.5156 432.2656,202.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="139" x="443.5" y="211.9102">CompMemoriaEspec&#xED;fico</text><!--MD5=[777d36ac2a7a6a28df5687e10f21c34f]
class OrdenadorVacio--><rect codeline="28" fill="#FFFAFA" filter="url(#fib1v1tzimtbb)" height="32" id="OrdenadorVacio" style="stroke:#000000;stroke-width:1.5;" width="121" x="509.5" y="99"/><ellipse cx="524.5" cy="115" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M527.2656,110.875 Q527.4219,110.6563 527.6094,110.5469 Q527.7969,110.4375 528.0156,110.4375 Q528.3906,110.4375 528.625,110.7031 Q528.8594,110.9531 528.8594,111.5625 L528.8594,113.0156 Q528.8594,113.625 528.625,113.8906 Q528.3906,114.1563 528.0156,114.1563 Q527.6719,114.1563 527.4688,113.9531 Q527.2656,113.7656 527.1563,113.25 Q527.1094,112.8906 526.9219,112.7031 Q526.5938,112.3281 525.9844,112.1094 Q525.375,111.8906 524.75,111.8906 Q523.9844,111.8906 523.3438,112.2188 Q522.7188,112.5469 522.2188,113.2969 Q521.7344,114.0469 521.7344,115.0781 L521.7344,116.1719 Q521.7344,117.4063 522.625,118.2344 Q523.5156,119.0469 525.1094,119.0469 Q526.0469,119.0469 526.7031,118.7969 Q527.0938,118.6406 527.5156,118.2031 Q527.7813,117.9375 527.9219,117.8594 Q528.0781,117.7813 528.2813,117.7813 Q528.6094,117.7813 528.8594,118.0469 Q529.125,118.2969 529.125,118.6406 Q529.125,118.9844 528.7813,119.3906 Q528.2813,119.9688 527.4844,120.2969 Q526.4063,120.75 525.1094,120.75 Q523.5938,120.75 522.3906,120.125 Q521.4063,119.625 520.7188,118.5625 Q520.0313,117.4844 520.0313,116.2031 L520.0313,115.0469 Q520.0313,113.7188 520.6406,112.5781 Q521.2656,111.4219 522.3594,110.8125 Q523.4531,110.1875 524.6875,110.1875 Q525.4219,110.1875 526.0625,110.3594 Q526.7188,110.5156 527.2656,110.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="538.5" y="119.9102">OrdenadorVacio</text><!--MD5=[546c762eeb1bd89334696246ec7e7994]
class etc--><rect fill="#FFFAFA" filter="url(#fib1v1tzimtbb)" height="32" id="etc" style="stroke:#000000;stroke-width:1.5;" width="48" x="621" y="191"/><ellipse cx="636" cy="207" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M638.7656,202.875 Q638.9219,202.6563 639.1094,202.5469 Q639.2969,202.4375 639.5156,202.4375 Q639.8906,202.4375 640.125,202.7031 Q640.3594,202.9531 640.3594,203.5625 L640.3594,205.0156 Q640.3594,205.625 640.125,205.8906 Q639.8906,206.1563 639.5156,206.1563 Q639.1719,206.1563 638.9688,205.9531 Q638.7656,205.7656 638.6563,205.25 Q638.6094,204.8906 638.4219,204.7031 Q638.0938,204.3281 637.4844,204.1094 Q636.875,203.8906 636.25,203.8906 Q635.4844,203.8906 634.8438,204.2188 Q634.2188,204.5469 633.7188,205.2969 Q633.2344,206.0469 633.2344,207.0781 L633.2344,208.1719 Q633.2344,209.4063 634.125,210.2344 Q635.0156,211.0469 636.6094,211.0469 Q637.5469,211.0469 638.2031,210.7969 Q638.5938,210.6406 639.0156,210.2031 Q639.2813,209.9375 639.4219,209.8594 Q639.5781,209.7813 639.7813,209.7813 Q640.1094,209.7813 640.3594,210.0469 Q640.625,210.2969 640.625,210.6406 Q640.625,210.9844 640.2813,211.3906 Q639.7813,211.9688 638.9844,212.2969 Q637.9063,212.75 636.6094,212.75 Q635.0938,212.75 633.8906,212.125 Q632.9063,211.625 632.2188,210.5625 Q631.5313,209.4844 631.5313,208.2031 L631.5313,207.0469 Q631.5313,205.7188 632.1406,204.5781 Q632.7656,203.4219 633.8594,202.8125 Q634.9531,202.1875 636.1875,202.1875 Q636.9219,202.1875 637.5625,202.3594 Q638.2188,202.5156 638.7656,202.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="16" x="650" y="211.9102">etc</text><!--MD5=[5dec3aee2e9319eb5ff42af51d49eb27]
reverse link IOrdenador to ComponenteOrdenador--><path codeline="32" d="M380.53,59.12 C379.74,72.95 380.63,88.09 383.2,98.96 " fill="none" id="IOrdenador-backto-ComponenteOrdenador" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="none" points="373.59,58.18,383.15,39.27,387.47,60.01,373.59,58.18" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[65e2462c89e1d9dd5f1ca73dbf8ed8bd]
link ComponenteOrdenador to IOrdenador--><path codeline="33" d="M403.38,98.96 C407.13,83.95 407.5,60.8 404.48,44.19 " fill="none" id="ComponenteOrdenador-to-IOrdenador" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="403.43,39.27,401.3969,48.9067,404.4737,44.1598,409.2206,47.2367,403.43,39.27" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="273.4264" y="60.5572">ConfiguracionActual</text><!--MD5=[dfe08e4082581a88bb3acf39eef5fd9b]
reverse link ComponenteOrdenador to CompHDDEspecífico--><path codeline="34" d="M321.68,136.64 C264.42,153.21 185.36,176.09 133.96,190.96 " fill="none" id="ComponenteOrdenador-backto-CompHDDEspec&#xED;fico" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="none" points="319.79,129.9,340.95,131.06,323.68,143.35,319.79,129.9" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[c6afa446c9b3ab4849a4f240e98de42a]
reverse link ComponenteOrdenador to CompProcesadorEspecífico--><path codeline="35" d="M359.31,144.34 C340.94,159.79 318.96,178.28 303.88,190.96 " fill="none" id="ComponenteOrdenador-backto-CompProcesadorEspec&#xED;fico" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="none" points="355.04,138.78,374.85,131.27,364.05,149.5,355.04,138.78" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[b3ba2d9c1900eeb64edcb2920c0cc16c]
reverse link ComponenteOrdenador to CompMemoriaEspecífico--><path codeline="36" d="M426.69,144.34 C445.06,159.79 467.04,178.28 482.12,190.96 " fill="none" id="ComponenteOrdenador-backto-CompMemoriaEspec&#xED;fico" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="none" points="421.95,149.5,411.15,131.27,430.96,138.78,421.95,149.5" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[2347017619168a796716192b8f8e3348]
reverse link ComponenteOrdenador to etc--><path codeline="37" d="M454.21,137.86 C507.83,157.01 582.97,183.85 620.97,197.42 " fill="none" id="ComponenteOrdenador-backto-etc" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="none" points="451.66,144.38,435.18,131.06,456.37,131.2,451.66,144.38" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[2d6d3fd90dce146ee3e4c5328162f4fa]
reverse link IOrdenador to OrdenadorVacio--><path codeline="38" d="M440.56,48.18 C472.31,64.32 513.06,85.05 540.28,98.89 " fill="none" id="IOrdenador-backto-OrdenadorVacio" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="none" points="437.28,54.37,422.63,39.06,443.63,41.89,437.28,54.37" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[14ecfa7275fd90717a56dabbedd4807b]
@startuml
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide attributes
hide methods

interface IOrdenador {
    Precio : double <<get>>
}
abstract class ComponenteOrdenador {
    + {abstract} Precio : double <<get>>
}
class CompHDDEspecífico {
    + CompHDDEspecífico(in configuracion:IOrdenador)
    + ^Precio : double <<get>>
}
class CompProcesadorEspecífico {
    + CompProcesadorEspecífico(in configuracion:IOrdenador)
    + ^Precio : double <<get>>
}
class CompMemoriaEspecífico {
    + CompMemoriaEspecífico(in configuracion:IOrdenador)
    + ^Precio : double <<get>>
}
class OrdenadorVacio {
    + Precio : double <<get>>
}

IOrdenador <|- - ComponenteOrdenador
ComponenteOrdenador - -> "ConfiguracionActual" IOrdenador
ComponenteOrdenador <|- - CompHDDEspecífico
ComponenteOrdenador <|- - CompProcesadorEspecífico
ComponenteOrdenador <|- - CompMemoriaEspecífico
ComponenteOrdenador <|- - "etc"
IOrdenador <|- - OrdenadorVacio

@enduml

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><p>Para ello, definiremos la abstracci&#xF3;n de la funcionalidad de <strong><code>Ordenador</code></strong> a trav&#xE9;s de un interfaz.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">IOrdenador</span> 
<span class="token punctuation">{</span>
    <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<p>Definiremos el decorador componente que extender&#xE1; de <strong><code>IOrdenador</code></strong> y que referenciar&#xE1; a la configuraci&#xF3;n del ordenador actual (<strong>acumulada</strong>). Eto l e obliga a implementar la propiedad <strong><code>Precio</code></strong> donde a&#xF1;ada a esta configuraci&#xF3;n el precio de dicho componente &apos;<em>acumulado</em>&apos;.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ComponenteOrdenador</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IOrdenador</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-protected">protected</span> <span class="token return-type class-name">IOrdenador</span> ConfiguracionActual <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>Definiremos ahora extensiones de <strong><code>ComponenteOrdenador</code></strong> que envolver&#xE1;n objetos con la funcionalidad final del ordenador <strong><code>IOrdenador</code></strong>. La cual referenciar&#xE1; <strong>la configuraci&#xF3;n &apos;<em>acumulado</em>&apos; hasta el momento</strong> y la &apos;<em>decorar&#xE1;</em>&apos; a&#xF1;adi&#xE9;ndole el precio de un componente.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SSDRapido</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ComponenteOrdenador</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">SSDRapido</span><span class="token punctuation">(</span><span class="token class-name">IOrdenador</span> c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ConfiguracionActual <span class="token operator">=</span> c<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> ConfiguracionActual<span class="token punctuation">.</span>Precio <span class="token operator">+</span> <span class="token number">255.20D</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Procesador8Nucleos</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ComponenteOrdenador</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Procesador8Nucleos</span><span class="token punctuation">(</span><span class="token class-name">IOrdenador</span> c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ConfiguracionActual <span class="token operator">=</span> c<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> ConfiguracionActual<span class="token punctuation">.</span>Precio <span class="token operator">+</span> <span class="token number">360D</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Memoria16GB3600</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ComponenteOrdenador</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Memoria16GB3600</span><span class="token punctuation">(</span><span class="token class-name">IOrdenador</span> c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ConfiguracionActual <span class="token operator">=</span> c<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> ConfiguracionActual<span class="token punctuation">.</span>Precio <span class="token operator">+</span> <span class="token number">110D</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>De forma an&#xE1;loga a&#xF1;adir&#xED;amos todos los componentes que queramos a posteriori <strong>sin modificar el c&#xF3;digo anterior</strong> y as&#xED; cumpliendo <strong>OCP</strong>.</p>
<p>Ahora, definimos una clase ordenador con una <strong>configuraci&#xF3;n b&#xE1;sica o vac&#xED;a</strong> que iremos <strong>&apos;<em>decorando</em>&apos;</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">OrdenadorVacio</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IOrdenador</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> <span class="token number">0D</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>Por &#xFA;ltimo, podremos definir la configuraci&#xF3;n del ordenador de la siguiente manera...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token class-name">IOrdenador</span> setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">OrdenadorVacio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">SSDRapido</span><span class="token punctuation">(</span>setup<span class="token punctuation">)</span><span class="token punctuation">;</span>
    setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Procesador8Nucleos</span><span class="token punctuation">(</span>setup<span class="token punctuation">)</span><span class="token punctuation">;</span>
    setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Memoria16GB3600</span><span class="token punctuation">(</span>setup<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// Aqu&#xED; podr&#xED;amos a&#xF1;adir nuevos componentes futuros a la configuraci&#xF3;n</span>

    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">setup<span class="token punctuation">.</span>Precio</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>		
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h3 class="mume-header" id="l-liskov-substitution-principle-lsp">L &#x2192; Liskov Substitution Principle (LSP)</h3>

<p>Nos sonar&#xE1; en nombre porque ya lo hemos usado. Pricipalmente lo que buscaremos es definir bien sus subclases para que tambi&#xE9;n puedan ser tratadas como la propia abstracci&#xF3;n.</p>
<blockquote>
<p><strong>Definici&#xF3;n:</strong> Establece que las subclases deber&#xED;an poder extender a su superclase sin cambiar el comportamiento de la misma.</p>
</blockquote>
<p>En otras palabras, podr&#xED;amos decir que despu&#xE9;s de la sustituci&#xF3;n, no deber&#xED;a ser necesario ning&#xFA;n otro cambio para que el programa contin&#xFA;e funcionando como lo hac&#xED;a originalmente.</p>
<p>Veamos un <strong>ejemplo ilustrativo</strong> de concreci&#xF3;n que no nos permite aplicar <strong>LSP</strong> de forma correcta...</p>
<p>En la vida real tenemos &apos;<em>claro</em>&apos; que un cuadrado <strong>es un</strong> rect&#xE1;ngulo con los dos lados iguales. Por lo cual, podr&#xED;amos suponer en un principio que si cuadrado hereda de rect&#xE1;ngulo ser&#xED;a un caso de herencia v&#xE1;lido. Veamos que pasa si intentamos implementar este modelo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-class">class</span> <span class="token class-name">Rect</span>&#xE1;ngulo 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Alto <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Area <span class="token operator">=&gt;</span> Ancho <span class="token operator">*</span> Alto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>Invalidamos las propiedades para cuando cambiemos <strong><code>Ancho</code></strong> y <strong><code>Alto</code></strong> <strong>siga siendo un cuadrado</strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-class">class</span> <span class="token class-name">Cuadrado</span> <span class="token punctuation">:</span> Rect&#xE1;ngulo 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token punctuation">{</span> <span class="token keyword keyword-set">set</span> <span class="token punctuation">{</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Ancho <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Alto <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Alto  <span class="token punctuation">{</span> <span class="token keyword keyword-set">set</span> <span class="token punctuation">{</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Ancho <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Alto <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>Ahora si pasamos el siguiente test...</p>
<pre data-role="codeBlock" data-info="csharp{highlight=[9-11]}" class="language-csharp" data-line="9-11"><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">TestArea</span><span class="token punctuation">(</span><span class="token class-name">Rectangulo</span> r<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    r<span class="token punctuation">.</span>Ancho <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>  r<span class="token punctuation">.</span>Alto <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>   
    Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Area <span class="token operator">==</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">$&quot;&#xC1;rea </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">r<span class="token punctuation">.</span>Area</span><span class="token punctuation">}</span></span><span class="token string"> y no 20.&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">TestArea</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Rectangulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Creamos una una inst&#xE1;ncia de Cuadrado y hacemos una sustituci&#xF3;n</span>
    <span class="token comment">// de Liskov hacia la superclase la cual no pasar&#xE1; el text</span>
    <span class="token function">TestArea</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Cuadrado</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">







<div aria-hidden="true" class="line-highlight" data-range="9-11" data-start="9" data-end="11">


</div></div></pre><p>Vemos como el <strong>LSP no se cumple</strong> en el segundo Test, ya que al asignar 4 a <strong><code>Alto</code></strong> el <strong><code>Ancho</code></strong> pasa a ser tambi&#xE9;n 4 para cumplir la restricci&#xF3;n de cuadrado y <strong>el &#xE1;rea me devolver&#xE1; 16 en lugar de 20</strong> como esperaba en el test.</p>
<p>Una posible soluci&#xF3;n es hacer nuestro objeto <strong>inmutable</strong>, este es, no dar la posibilidad de que el <strong><code>Ancho</code></strong> y el <strong><code>Alto</code></strong> cambien despu&#xE9;s de su creaci&#xF3;n.</p>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="i-principio-de-segregaci%C3%B3n-de-interfaces-isp">I &#x2192; Principio de Segregaci&#xF3;n de Interfaces (ISP)</h3>

<blockquote>
<p><strong>Definici&#xF3;n:</strong> Este principio viene a decir, que ninguna clase deber&#xED;a implementar m&#xE9;todos definidos en un interface que luego no va a usar o no tienen sentido.</p>
</blockquote>
<p>Para cumplirlo, evitaremos interfaces grandes (&apos;<em>fat interfaces</em>&apos;) que definan muchos m&#xE9;todos. Por tanto, <strong>las reduciremos a aquellos que siempre se van a dar claramente en todas las clases que la implementen</strong>.</p>
<p>Tambi&#xE9;n podremos usar el mecanismo de extensi&#xF3;n o herencia de interfaces para realizar dicha segregaci&#xF3;n.</p>
<p>Veamos un <strong>ejemplo</strong> de incumplimiento de dicho principio. Para ello, supongamos la siguiente interfaz para <strong><code>Ave</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-interface">interface</span> <span class="token class-name">IAve</span> 
<span class="token punctuation">{</span>
    <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Vuela</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Nada</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Come</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PonHuevo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>Ahora definimos las siguientes clases que implementan la interfaz...</p>
<pre data-role="codeBlock" data-info="csharp{highlight=[11,18,20,27]}" class="language-csharp" data-line="11,18,20,27"><span class="token keyword keyword-class">class</span> <span class="token class-name">Pato</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IAve</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Come</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Soy un pato comiendo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Nada</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Soy un pato nadando.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PonHuevo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Soy un pato poniendo un huevo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Vuela</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Soy un pato volando&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Gorrion</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IAve</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Come</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Soy un gorri&#xF3;n comiendo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Nada</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token string">&quot;Los gorriones no nadamos :&apos;(&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PonHuevo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Soy un gorri&#xF3;n poniendo un huevo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Vuela</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Soy un gorri&#xF3;n volando&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Avestruz</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IAve</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Come</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Soy un avestruz comiendo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Nada</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token string">&quot;Los avestruces no nadamos :&apos;(&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PonHuevo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Soy un avestruz poniendo un huevo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Vuela</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">=&gt;</span> <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token string">&quot;Los avestruces no volamos :&apos;(&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Ping</span>&#xFC;ino <span class="token punctuation">:</span> IAve
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Come</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Soy un ping&#xFC;ino comiendo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Nada</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Soy un ping&#xFC;ino nadando.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PonHuevo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Soy un ping&#xFC;ino poniendo un huevo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Vuela</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">=&gt;</span> <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token string">&quot;Los ping&#xFC;inos no volamos :&apos;(&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">









<div aria-hidden="true" class="line-highlight" data-range="11" data-start="11">
</div></div><div class="line-highlight-wrapper">
















<div aria-hidden="true" class="line-highlight" data-range="18" data-start="18">
</div></div><div class="line-highlight-wrapper">


















<div aria-hidden="true" class="line-highlight" data-range="20" data-start="20">
</div></div><div class="line-highlight-wrapper">

























<div aria-hidden="true" class="line-highlight" data-range="27" data-start="27">
</div></div></pre><p>Si nos fijamos hay <strong>operaciones que no somos capaces de implementar</strong> en ciertas concreciones. Estamos obligados a definirlas por heredar del interfaz. Pero seguramente generaremos alg&#xFA;n tipo de excepci&#xF3;n al llamarlas y emn ese caso no estaremos siguiendo el principio de <strong>ISP</strong>.</p>
<div style="page-break-after:always;"></div>
<p>La mejor soluci&#xF3;n es <strong>segregar los interfaces</strong> y que cada <strong><code>Ave</code></strong> <strong>implemente aquellos que le corresponden</strong>.</p>
<p align="center" style="zoom:1"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="189px" preserveAspectRatio="none" style="width:414px;height:189px;background:#FFFFFF;" version="1.1" viewBox="0 0 414 189" width="414px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ws1a1recbihu" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[fc0c234df277991b04dc08b9523a8e71]
class INada--><rect codeline="11" fill="#FFFAFA" filter="url(#f1ws1a1recbihu)" height="62.0234" id="INada" style="stroke:#000000;stroke-width:1.5;" width="89" x="32" y="14"/><ellipse cx="47" cy="34.0938" fill="#B4A7E5" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M47.9531,30.7344 L47.9531,37.3906 L49.6719,37.3906 Q50.2813,37.3906 50.5469,37.625 Q50.8125,37.8594 50.8125,38.25 Q50.8125,38.625 50.5469,38.8594 Q50.2813,39.0938 49.6719,39.0938 L44.5313,39.0938 Q43.9219,39.0938 43.6563,38.8594 Q43.3906,38.625 43.3906,38.2344 Q43.3906,37.8594 43.6563,37.625 Q43.9219,37.3906 44.5313,37.3906 L46.25,37.3906 L46.25,30.7344 L44.5313,30.7344 Q43.9219,30.7344 43.6563,30.5 Q43.3906,30.2656 43.3906,29.875 Q43.3906,29.5 43.6563,29.2656 Q43.9219,29.0313 44.5313,29.0313 L49.6719,29.0313 Q50.2813,29.0313 50.5469,29.2656 Q50.8125,29.5 50.8125,29.875 Q50.8125,30.2656 50.5469,30.5 Q50.2813,30.7344 49.6719,30.7344 L47.9531,30.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="59" y="31.457">&#xAB;interface&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="34" x="72.5" y="46.5508">INada</text><line style="stroke:#000000;stroke-width:1.5;" x1="33" x2="120" y1="54.1875" y2="54.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="62" x="38" y="69.6064">Nada() : void</text><!--MD5=[041e6cdd1395bb6933b513a907709f03]
class IAve--><rect codeline="16" fill="#FFFAFA" filter="url(#f1ws1a1recbihu)" height="75.8594" id="IAve" style="stroke:#000000;stroke-width:1.5;" width="98" x="170.5" y="7"/><ellipse cx="189.55" cy="27.0938" fill="#B4A7E5" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M190.5031,23.7344 L190.5031,30.3906 L192.2219,30.3906 Q192.8313,30.3906 193.0969,30.625 Q193.3625,30.8594 193.3625,31.25 Q193.3625,31.625 193.0969,31.8594 Q192.8313,32.0938 192.2219,32.0938 L187.0813,32.0938 Q186.4719,32.0938 186.2063,31.8594 Q185.9406,31.625 185.9406,31.2344 Q185.9406,30.8594 186.2063,30.625 Q186.4719,30.3906 187.0813,30.3906 L188.8,30.3906 L188.8,23.7344 L187.0813,23.7344 Q186.4719,23.7344 186.2063,23.5 Q185.9406,23.2656 185.9406,22.875 Q185.9406,22.5 186.2063,22.2656 Q186.4719,22.0313 187.0813,22.0313 L192.2219,22.0313 Q192.8313,22.0313 193.0969,22.2656 Q193.3625,22.5 193.3625,22.875 Q193.3625,23.2656 193.0969,23.5 Q192.8313,23.7344 192.2219,23.7344 L190.5031,23.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="202.45" y="24.457">&#xAB;interface&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="25" x="220.45" y="39.5508">IAve</text><line style="stroke:#000000;stroke-width:1.5;" x1="171.5" x2="267.5" y1="47.1875" y2="47.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="64" x="176.5" y="62.6064">Come() : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="176.5" y="76.4424">PonHuevo() : void</text><!--MD5=[c8a4a5b7ac42a52105de745397653ae0]
class IVuela--><rect codeline="22" fill="#FFFAFA" filter="url(#f1ws1a1recbihu)" height="62.0234" id="IVuela" style="stroke:#000000;stroke-width:1.5;" width="89" x="311" y="14"/><ellipse cx="326" cy="34.0938" fill="#B4A7E5" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M326.9531,30.7344 L326.9531,37.3906 L328.6719,37.3906 Q329.2813,37.3906 329.5469,37.625 Q329.8125,37.8594 329.8125,38.25 Q329.8125,38.625 329.5469,38.8594 Q329.2813,39.0938 328.6719,39.0938 L323.5313,39.0938 Q322.9219,39.0938 322.6563,38.8594 Q322.3906,38.625 322.3906,38.2344 Q322.3906,37.8594 322.6563,37.625 Q322.9219,37.3906 323.5313,37.3906 L325.25,37.3906 L325.25,30.7344 L323.5313,30.7344 Q322.9219,30.7344 322.6563,30.5 Q322.3906,30.2656 322.3906,29.875 Q322.3906,29.5 322.6563,29.2656 Q322.9219,29.0313 323.5313,29.0313 L328.6719,29.0313 Q329.2813,29.0313 329.5469,29.2656 Q329.8125,29.5 329.8125,29.875 Q329.8125,30.2656 329.5469,30.5 Q329.2813,30.7344 328.6719,30.7344 L326.9531,30.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="338" y="31.457">&#xAB;interface&#xBB;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="36" x="350.5" y="46.5508">IVuela</text><line style="stroke:#000000;stroke-width:1.5;" x1="312" x2="399" y1="54.1875" y2="54.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="317" y="69.6064">Vuela() : void</text><!--MD5=[a4114eb0ccc18567b0aeedcd6c190c38]
class Pingüino--><rect codeline="27" fill="#FFFAFA" filter="url(#f1ws1a1recbihu)" height="32" id="Ping&#xFC;ino" style="stroke:#000000;stroke-width:1.5;" width="81" x="7" y="143"/><ellipse cx="22" cy="159" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M24.7656,154.875 Q24.9219,154.6563 25.1094,154.5469 Q25.2969,154.4375 25.5156,154.4375 Q25.8906,154.4375 26.125,154.7031 Q26.3594,154.9531 26.3594,155.5625 L26.3594,157.0156 Q26.3594,157.625 26.125,157.8906 Q25.8906,158.1563 25.5156,158.1563 Q25.1719,158.1563 24.9688,157.9531 Q24.7656,157.7656 24.6563,157.25 Q24.6094,156.8906 24.4219,156.7031 Q24.0938,156.3281 23.4844,156.1094 Q22.875,155.8906 22.25,155.8906 Q21.4844,155.8906 20.8438,156.2188 Q20.2188,156.5469 19.7188,157.2969 Q19.2344,158.0469 19.2344,159.0781 L19.2344,160.1719 Q19.2344,161.4063 20.125,162.2344 Q21.0156,163.0469 22.6094,163.0469 Q23.5469,163.0469 24.2031,162.7969 Q24.5938,162.6406 25.0156,162.2031 Q25.2813,161.9375 25.4219,161.8594 Q25.5781,161.7813 25.7813,161.7813 Q26.1094,161.7813 26.3594,162.0469 Q26.625,162.2969 26.625,162.6406 Q26.625,162.9844 26.2813,163.3906 Q25.7813,163.9688 24.9844,164.2969 Q23.9063,164.75 22.6094,164.75 Q21.0938,164.75 19.8906,164.125 Q18.9063,163.625 18.2188,162.5625 Q17.5313,161.4844 17.5313,160.2031 L17.5313,159.0469 Q17.5313,157.7188 18.1406,156.5781 Q18.7656,155.4219 19.8594,154.8125 Q20.9531,154.1875 22.1875,154.1875 Q22.9219,154.1875 23.5625,154.3594 Q24.2188,154.5156 24.7656,154.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="49" x="36" y="163.9102">Ping&#xFC;ino</text><!--MD5=[3116cc42dbd301fa339747e42482af38]
class Pato--><rect codeline="28" fill="#FFFAFA" filter="url(#f1ws1a1recbihu)" height="32" id="Pato" style="stroke:#000000;stroke-width:1.5;" width="57" x="123" y="143"/><ellipse cx="138" cy="159" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M140.7656,154.875 Q140.9219,154.6563 141.1094,154.5469 Q141.2969,154.4375 141.5156,154.4375 Q141.8906,154.4375 142.125,154.7031 Q142.3594,154.9531 142.3594,155.5625 L142.3594,157.0156 Q142.3594,157.625 142.125,157.8906 Q141.8906,158.1563 141.5156,158.1563 Q141.1719,158.1563 140.9688,157.9531 Q140.7656,157.7656 140.6563,157.25 Q140.6094,156.8906 140.4219,156.7031 Q140.0938,156.3281 139.4844,156.1094 Q138.875,155.8906 138.25,155.8906 Q137.4844,155.8906 136.8438,156.2188 Q136.2188,156.5469 135.7188,157.2969 Q135.2344,158.0469 135.2344,159.0781 L135.2344,160.1719 Q135.2344,161.4063 136.125,162.2344 Q137.0156,163.0469 138.6094,163.0469 Q139.5469,163.0469 140.2031,162.7969 Q140.5938,162.6406 141.0156,162.2031 Q141.2813,161.9375 141.4219,161.8594 Q141.5781,161.7813 141.7813,161.7813 Q142.1094,161.7813 142.3594,162.0469 Q142.625,162.2969 142.625,162.6406 Q142.625,162.9844 142.2813,163.3906 Q141.7813,163.9688 140.9844,164.2969 Q139.9063,164.75 138.6094,164.75 Q137.0938,164.75 135.8906,164.125 Q134.9063,163.625 134.2188,162.5625 Q133.5313,161.4844 133.5313,160.2031 L133.5313,159.0469 Q133.5313,157.7188 134.1406,156.5781 Q134.7656,155.4219 135.8594,154.8125 Q136.9531,154.1875 138.1875,154.1875 Q138.9219,154.1875 139.5625,154.3594 Q140.2188,154.5156 140.7656,154.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="25" x="152" y="163.9102">Pato</text><!--MD5=[17f03454ef5bc0488619f53382a223cb]
class Avestruz--><rect codeline="29" fill="#FFFAFA" filter="url(#f1ws1a1recbihu)" height="32" id="Avestruz" style="stroke:#000000;stroke-width:1.5;" width="77" x="215" y="143"/><ellipse cx="230" cy="159" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M232.7656,154.875 Q232.9219,154.6563 233.1094,154.5469 Q233.2969,154.4375 233.5156,154.4375 Q233.8906,154.4375 234.125,154.7031 Q234.3594,154.9531 234.3594,155.5625 L234.3594,157.0156 Q234.3594,157.625 234.125,157.8906 Q233.8906,158.1563 233.5156,158.1563 Q233.1719,158.1563 232.9688,157.9531 Q232.7656,157.7656 232.6563,157.25 Q232.6094,156.8906 232.4219,156.7031 Q232.0938,156.3281 231.4844,156.1094 Q230.875,155.8906 230.25,155.8906 Q229.4844,155.8906 228.8438,156.2188 Q228.2188,156.5469 227.7188,157.2969 Q227.2344,158.0469 227.2344,159.0781 L227.2344,160.1719 Q227.2344,161.4063 228.125,162.2344 Q229.0156,163.0469 230.6094,163.0469 Q231.5469,163.0469 232.2031,162.7969 Q232.5938,162.6406 233.0156,162.2031 Q233.2813,161.9375 233.4219,161.8594 Q233.5781,161.7813 233.7813,161.7813 Q234.1094,161.7813 234.3594,162.0469 Q234.625,162.2969 234.625,162.6406 Q234.625,162.9844 234.2813,163.3906 Q233.7813,163.9688 232.9844,164.2969 Q231.9063,164.75 230.6094,164.75 Q229.0938,164.75 227.8906,164.125 Q226.9063,163.625 226.2188,162.5625 Q225.5313,161.4844 225.5313,160.2031 L225.5313,159.0469 Q225.5313,157.7188 226.1406,156.5781 Q226.7656,155.4219 227.8594,154.8125 Q228.9531,154.1875 230.1875,154.1875 Q230.9219,154.1875 231.5625,154.3594 Q232.2188,154.5156 232.7656,154.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="45" x="244" y="163.9102">Avestruz</text><!--MD5=[0b8d12fcaa9fc8ddd5e0bbadc13d3596]
class Gorrión--><rect codeline="30" fill="#FFFAFA" filter="url(#f1ws1a1recbihu)" height="32" id="Gorri&#xF3;n" style="stroke:#000000;stroke-width:1.5;" width="73" x="327" y="143"/><ellipse cx="342" cy="159" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M344.7656,154.875 Q344.9219,154.6563 345.1094,154.5469 Q345.2969,154.4375 345.5156,154.4375 Q345.8906,154.4375 346.125,154.7031 Q346.3594,154.9531 346.3594,155.5625 L346.3594,157.0156 Q346.3594,157.625 346.125,157.8906 Q345.8906,158.1563 345.5156,158.1563 Q345.1719,158.1563 344.9688,157.9531 Q344.7656,157.7656 344.6563,157.25 Q344.6094,156.8906 344.4219,156.7031 Q344.0938,156.3281 343.4844,156.1094 Q342.875,155.8906 342.25,155.8906 Q341.4844,155.8906 340.8438,156.2188 Q340.2188,156.5469 339.7188,157.2969 Q339.2344,158.0469 339.2344,159.0781 L339.2344,160.1719 Q339.2344,161.4063 340.125,162.2344 Q341.0156,163.0469 342.6094,163.0469 Q343.5469,163.0469 344.2031,162.7969 Q344.5938,162.6406 345.0156,162.2031 Q345.2813,161.9375 345.4219,161.8594 Q345.5781,161.7813 345.7813,161.7813 Q346.1094,161.7813 346.3594,162.0469 Q346.625,162.2969 346.625,162.6406 Q346.625,162.9844 346.2813,163.3906 Q345.7813,163.9688 344.9844,164.2969 Q343.9063,164.75 342.6094,164.75 Q341.0938,164.75 339.8906,164.125 Q338.9063,163.625 338.2188,162.5625 Q337.5313,161.4844 337.5313,160.2031 L337.5313,159.0469 Q337.5313,157.7188 338.1406,156.5781 Q338.7656,155.4219 339.8594,154.8125 Q340.9531,154.1875 342.1875,154.1875 Q342.9219,154.1875 343.5625,154.3594 Q344.2188,154.5156 344.7656,154.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="41" x="356" y="163.9102">Gorri&#xF3;n</text><!--MD5=[83ef31d8e717a7011fa7b0acdec22924]
reverse link INada to Pingüino--><path d="M63.65,95.61 C59.24,112.65 54.62,130.49 51.46,142.7 " fill="none" id="INada-backto-Ping&#xFC;ino" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="56.94,93.62,68.73,76.01,70.49,97.13,56.94,93.62" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[1e7d333d3b54f08f90cba82391425841]
reverse link IAve to Pingüino--><path d="M153.08,89.25 C123.96,108.21 91.68,129.23 70.58,142.97 " fill="none" id="IAve-backto-Ping&#xFC;ino" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="149.63,83.14,170.21,78.09,157.27,94.87,149.63,83.14" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[5dd46e39b19fe69418a491989fd0f32c]
reverse link INada to Pato--><path d="M107.86,92.83 C119.82,110.68 132.63,129.82 141.26,142.7 " fill="none" id="INada-backto-Pato" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="101.91,96.53,96.6,76.01,113.54,88.74,101.91,96.53" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[ac2992367d720649b5ad25229546e21c]
reverse link IAve to Pato--><path d="M186.36,100.58 C176.9,116.17 167.34,131.91 160.64,142.95 " fill="none" id="IAve-backto-Pato" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="180.49,96.76,196.86,83.29,192.46,104.02,180.49,96.76" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[92b54d6c05e5df21739398e6dbba3bb3]
reverse link IVuela to Pato--><path d="M293.35,80.12 C255.17,101.08 208.17,126.89 179.01,142.89 " fill="none" id="IVuela-backto-Pato" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="290.08,73.93,310.98,70.44,296.82,86.2,290.08,73.93" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[adf58171f521b925f0a71578d883ca6e]
reverse link IAve to Avestruz--><path d="M236.68,102.59 C241.21,117.51 245.72,132.38 248.93,142.95 " fill="none" id="IAve-backto-Avestruz" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="229.93,104.47,230.82,83.29,243.33,100.4,229.93,104.47" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[cbdfd6e61573501107081baa12e89644]
reverse link IAve to Gorrión--><path d="M283.54,95.81 C305.52,112.9 328.5,130.78 344.15,142.95 " fill="none" id="IAve-backto-Gorri&#xF3;n" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="278.94,101.1,267.45,83.29,287.53,90.05,278.94,101.1" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[bbbff7afa92e880d55e86464301b7a85]
reverse link IVuela to Gorrión--><path d="M359.08,96.17 C360.29,113.04 361.54,130.62 362.41,142.7 " fill="none" id="IVuela-backto-Gorri&#xF3;n" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="352.09,96.46,357.64,76.01,366.05,95.46,352.09,96.46" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[844e4cbac473c3149ba38fe180eb3696]
@startuml
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide attributes
hide methods

show INada methods
interface INada <<interface>>
{
    Nada() : void
}
show IAve methods
interface IAve <<interface>>
{
    Come() : void
    PonHuevo() : void
}
show IVuela methods
interface IVuela <<interface>>
{
    Vuela() : void
}

class Pingüino implements INada, IAve
class Pato implements INada, IAve, IVuela
class Avestruz implements IAve
class Gorrión implements IAve, IVuela

@enduml

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><div class="contenedor">
<div class="fondo">
    <div class="abre_comilla">&quot;</div>
    <div class="cierra_comilla">&quot;</div>
    <div class="cita">The three chief virtues of a programmer are: Laziness, Impatience and Hubris.</div>
    <div class="autor">- Larry Wall.</div>
</div>
</div>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="d-principio-de-inversi%C3%B3n-de-dependencias-dip">D &#x2192; Principio de Inversi&#xF3;n de Dependencias (DIP)</h3>

<p>Es uno de los m&#xE1;s importantes y muy a tener en cuenta en nuestros dise&#xF1;os. El hacerlo, nos <strong>facilitar&#xE1; la labor de creaci&#xF3;n de test unitarios</strong>.</p>
<blockquote>
<p><strong>Definici&#xF3;n:</strong> Este principio establece que:</p>
<ol>
<li>Las clases de alto nivel <strong>no deber&#xED;an depender</strong> de las clases de bajo nivel. Ambas deber&#xED;an depender de las abstracciones.</li>
<li>Las abstracciones <strong>no deber&#xED;an depender</strong> de los detalles. Los detalles deber&#xED;an depender de las abstracciones.</li>
</ol>
</blockquote>
<p>En otras palabras, podemos decir que el objetivo de este principio es el uso de interfaces para conseguir que una clase interact&#xFA;e con otras clases, sin que las conozca directamente. De esta manera conseguiremos desacoplar las clases lo m&#xE1;ximo posible.<br>
Existen diferentes patrones muy usados en frameworks actuales tales como la <strong>inyecci&#xF3;n de dependencias</strong> o <strong>service locator</strong> que nos permitir&#xE1;n invertir el control.</p>
<p>Supongamos la siguiente relaci&#xF3;n todo parte en la que un <strong><code>Vehiculo</code></strong> est&#xE1; <strong>compuesto por</strong> un <strong><code>Motor</code></strong>.</p>
<blockquote>
<p>&#x1F4CC; <strong>Nota:</strong> El siguiente ejemplo es un modelo super simplificado para que entendamos el concepto de <strong>DIP</strong>.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp{highlight=17}" class="language-csharp" data-line="17"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Motor</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Inyecta combustible&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> RELACION_INYECCION_MARCHA_CILINDRADA_ETC<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Motor</span> Motor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span> 
        Motor <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Motor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span>Revoluciones<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">















<div aria-hidden="true" class="line-highlight" data-range="17" data-start="17">
</div></div></pre><p>Tenemos claramente una clase de alto nivel <strong><code>Vehiculo</code></strong> que <strong>depende</strong> de otra de Bajo nivel <strong><code>Motor</code></strong>. Esto significa que <strong><code>Vehiculo</code></strong> tiene que <strong>&apos;<em>conocer</em>&apos;</strong> una clase <strong><code>Motor</code></strong> &apos;<em>espec&#xED;fica</em>&apos; por la relaci&#xF3;n de composici&#xF3;n (<strong><code>l&#xED;nea 17</code></strong>).</p>
<p align="center" style="zoom:1"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="54px" preserveAspectRatio="none" style="width:270px;height:54px;background:#FFFFFF;" version="1.1" viewBox="0 0 270 54" width="270px" zoomAndPan="magnify"><defs><filter height="300%" id="f132buxca3vfdj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[1d6438b19b75334de94d74596f8416e5]
class Vehiculo--><rect fill="#FFFAFA" filter="url(#f132buxca3vfdj)" height="32" id="Vehiculo" style="stroke:#000000;stroke-width:1.5;" width="79" x="7" y="8.3564"/><ellipse cx="22" cy="24.3564" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M24.7656,20.2314 Q24.9219,20.0127 25.1094,19.9033 Q25.2969,19.7939 25.5156,19.7939 Q25.8906,19.7939 26.125,20.0596 Q26.3594,20.3096 26.3594,20.9189 L26.3594,22.3721 Q26.3594,22.9814 26.125,23.2471 Q25.8906,23.5127 25.5156,23.5127 Q25.1719,23.5127 24.9688,23.3096 Q24.7656,23.1221 24.6563,22.6064 Q24.6094,22.2471 24.4219,22.0596 Q24.0938,21.6846 23.4844,21.4658 Q22.875,21.2471 22.25,21.2471 Q21.4844,21.2471 20.8438,21.5752 Q20.2188,21.9033 19.7188,22.6533 Q19.2344,23.4033 19.2344,24.4346 L19.2344,25.5283 Q19.2344,26.7627 20.125,27.5908 Q21.0156,28.4033 22.6094,28.4033 Q23.5469,28.4033 24.2031,28.1533 Q24.5938,27.9971 25.0156,27.5596 Q25.2813,27.2939 25.4219,27.2158 Q25.5781,27.1377 25.7813,27.1377 Q26.1094,27.1377 26.3594,27.4033 Q26.625,27.6533 26.625,27.9971 Q26.625,28.3408 26.2813,28.7471 Q25.7813,29.3252 24.9844,29.6533 Q23.9063,30.1064 22.6094,30.1064 Q21.0938,30.1064 19.8906,29.4814 Q18.9063,28.9814 18.2188,27.9189 Q17.5313,26.8408 17.5313,25.5596 L17.5313,24.4033 Q17.5313,23.0752 18.1406,21.9346 Q18.7656,20.7783 19.8594,20.1689 Q20.9531,19.5439 22.1875,19.5439 Q22.9219,19.5439 23.5625,19.7158 Q24.2188,19.8721 24.7656,20.2314 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="47" x="36" y="29.2666">Vehiculo</text><!--MD5=[05f1a7330b1ceb1ed664acf8e30033c9]
class Motor--><rect fill="#FFFAFA" filter="url(#f132buxca3vfdj)" height="32" id="Motor" style="stroke:#000000;stroke-width:1.5;" width="62" x="194" y="8.3564"/><ellipse cx="209" cy="24.3564" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M211.7656,20.2314 Q211.9219,20.0127 212.1094,19.9033 Q212.2969,19.7939 212.5156,19.7939 Q212.8906,19.7939 213.125,20.0596 Q213.3594,20.3096 213.3594,20.9189 L213.3594,22.3721 Q213.3594,22.9814 213.125,23.2471 Q212.8906,23.5127 212.5156,23.5127 Q212.1719,23.5127 211.9688,23.3096 Q211.7656,23.1221 211.6563,22.6064 Q211.6094,22.2471 211.4219,22.0596 Q211.0938,21.6846 210.4844,21.4658 Q209.875,21.2471 209.25,21.2471 Q208.4844,21.2471 207.8438,21.5752 Q207.2188,21.9033 206.7188,22.6533 Q206.2344,23.4033 206.2344,24.4346 L206.2344,25.5283 Q206.2344,26.7627 207.125,27.5908 Q208.0156,28.4033 209.6094,28.4033 Q210.5469,28.4033 211.2031,28.1533 Q211.5938,27.9971 212.0156,27.5596 Q212.2813,27.2939 212.4219,27.2158 Q212.5781,27.1377 212.7813,27.1377 Q213.1094,27.1377 213.3594,27.4033 Q213.625,27.6533 213.625,27.9971 Q213.625,28.3408 213.2813,28.7471 Q212.7813,29.3252 211.9844,29.6533 Q210.9063,30.1064 209.6094,30.1064 Q208.0938,30.1064 206.8906,29.4814 Q205.9063,28.9814 205.2188,27.9189 Q204.5313,26.8408 204.5313,25.5596 L204.5313,24.4033 Q204.5313,23.0752 205.1406,21.9346 Q205.7656,20.7783 206.8594,20.1689 Q207.9531,19.5439 209.1875,19.5439 Q209.9219,19.5439 210.5625,19.7158 Q211.2188,19.8721 211.7656,20.2314 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="30" x="223" y="29.2666">Motor</text><!--MD5=[39d6d670ed73aadc8a599944e69f7420]
link Vehiculo to Motor--><path codeline="10" d="M98.23,24.3564 C98.23,24.3564 156,24.3564 180.55,24.3564 " fill="none" id="Vehiculo-Motor" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="193.83,24.3564,184.83,20.3564,188.83,24.3564,184.83,28.3564,193.83,24.3564" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="188.83" x2="180.83" y1="24.3564" y2="24.3564"/><polygon fill="#000000" points="86.23,24.3564,92.23,28.3564,98.23,24.3564,92.23,20.3564,86.23,24.3564" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="117" y="20.8516">tiene un</text><!--MD5=[04788dae6701592bc5756c4246afc4a4]
@startuml
left to right direction
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide attributes
hide methods
Vehiculo *- -> Motor : tiene un

@enduml

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><p>Pero... <strong>&#xBF;Qu&#xE9; pasa si queremos concretar m&#xE1;s el tipo de motor?</strong>. Por ejemplo queremos indicar que el vehiculo tiene un motor de gasolina (explosi&#xF3;n).</p>
<p>Tendr&#xED;amos que modificar la clase <strong><code>Vehiculo</code></strong> incumpliendo as&#xED; principio <strong>OCP</strong> y refactorizar la clase <strong><code>Vehiculo</code></strong> de la siguiente forma ...</p>
<pre data-role="codeBlock" data-info="csharp{highlight=[13,17]}" class="language-csharp" data-line="13,17"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">MotorGasolina</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Inyecta gasolina para explosi&#xF3;n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> RELACION_INYECCION_MARCHA_CILINDRADA_ETC_GASOLINA<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Motor</span> MotorGasolina <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span> 
        Motor <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span>Revoluciones<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">











<div aria-hidden="true" class="line-highlight" data-range="13" data-start="13">
</div></div><div class="line-highlight-wrapper">















<div aria-hidden="true" class="line-highlight" data-range="17" data-start="17">
</div></div></pre><p>Pero... <strong>&#xBF;Qu&#xE9; pasa si queremos a&#xF1;adir nuevos tipos de motor?</strong>. Por ejemplo, diesel o electrico.<br>
La respuesta es que no podremos, ya que creamos directamente el objeto de bajo nivel <strong><code>MotorGasolina</code></strong> dentro de la clase <strong><code>Vehiculo</code></strong> y eso nos genera una dependencia directa.</p>
<p>Para que cumpla <strong>DIP</strong> haremos que <strong><code>Vehiculo</code></strong> <strong>dependa de una abstracci&#xF3;n de</strong> <strong><code>Motor</code></strong> la cual tendremos que pasar o <strong>&apos;<em>inyectar</em>&apos;</strong> ya sea como par&#xE1;metro a trav&#xE9;s del constructor de vehiculo o a trav&#xE9;s de un setter. De esta manera conseguiremos que nuestro vehiculo tenga distintos tipos de motor sin modificar la clase <strong><code>Vehiculo</code></strong>.</p>
<blockquote>
<p>&#x270B; A este proceso se le denominar&#xE1; <strong>&apos;<em>Inversi&#xF3;n de Dependencias</em>&apos;</strong>.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp{highlight=[1-5,9,10]}" class="language-csharp" data-line="1-5,9,10"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Motor</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-protected">protected</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Motor</span> Motor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token class-name">Motor</span> m<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Motor <span class="token operator">=</span> m<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span>Revoluciones<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper"><div aria-hidden="true" class="line-highlight" data-range="1-5" data-start="1" data-end="5">




</div></div><div class="line-highlight-wrapper">







<div aria-hidden="true" class="line-highlight" data-range="9" data-start="9">
</div></div><div class="line-highlight-wrapper">








<div aria-hidden="true" class="line-highlight" data-range="10" data-start="10">
</div></div></pre><p>Ahora ya podremos implementar todas las concreciones de bajo nivel de <strong><code>Motor</code></strong> que se nos ocurran y depender&#xE1;n de la abstracci&#xF3;n <strong><code>Motor</code></strong> tal y como postula <strong>DIP</strong>.</p>
<div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">MotorGasolina</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Motor</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Inyecta gasolina para explosi&#xF3;n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> RELACION_INYECCION_MARCHA_CILINDRADA_ETC_GASOLINA<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">MotorDiesel</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Motor</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Inyecta gas&#xF3;leo para combusti&#xF3;n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> RELACION_INYECCION_MARCHA_CILINDRADA_ETC_DIESEL<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="factory-patr%C3%B3n-creacional-factory-method">&#x1F3ED; Patr&#xF3;n creacional Factory Method</h4>

<p>Pero... &#xBF;C&#xF3;mo realizar esta inversi&#xF3;n de dependencias teniendo en cuenta la relaci&#xF3;n de <strong>composici&#xF3;n</strong> entre <strong><code>Vehiculo</code></strong> y <strong><code>Motor</code></strong>?. Una posibilidad es usas el patr&#xF3;n <strong>Method Factory</strong>, el cual se encargar&#xE1; de de relacionar las dos clases.</p>
<p>El esquema <strong>tradicional</strong> y b&#xE1;sico del patr&#xF3;n ser&#xE1; el siguiente:</p>
<p align="center" style="zoom:1"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="203px" preserveAspectRatio="none" style="width:378px;height:203px;background:#FFFFFF;" version="1.1" viewBox="0 0 378 203" width="378px" zoomAndPan="magnify"><defs><filter height="300%" id="f1jd1hqa6oybbx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[72136138052d025cffdce3c22fbd185f]
class Product--><rect codeline="9" fill="#FFFAFA" filter="url(#f1jd1hqa6oybbx)" height="40" id="Product" style="stroke:#000000;stroke-width:1.5;" width="74" x="56" y="21"/><ellipse cx="71" cy="37" fill="#A9DCDF" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M73.1875,38.7656 L69.0469,38.7656 L68.625,39.7969 L69.0469,39.7969 Q69.6563,39.7969 69.9219,40.0313 Q70.1875,40.2656 70.1875,40.6563 Q70.1875,41.0313 69.9219,41.2656 Q69.6563,41.5 69.0469,41.5 L66.75,41.5 Q66.1406,41.5 65.8906,41.2656 Q65.625,41.0313 65.625,40.6406 Q65.625,40.2656 65.9063,40.0313 Q66.1719,39.7813 66.7969,39.7969 L69.4688,33.1406 L68.3594,33.1406 Q67.75,33.1406 67.4844,32.9063 Q67.2188,32.6719 67.2188,32.2813 Q67.2188,31.9063 67.4844,31.6719 Q67.75,31.4375 68.3594,31.4375 L72.0313,31.4375 L75.4219,39.7969 Q76.0156,39.7969 76.2031,39.9375 Q76.5938,40.2031 76.5938,40.6563 Q76.5938,41.0313 76.3281,41.2656 Q76.0781,41.5 75.4688,41.5 L73.1719,41.5 Q72.5625,41.5 72.2969,41.2656 Q72.0313,41.0313 72.0313,40.6406 Q72.0313,40.2656 72.2969,40.0313 Q72.5625,39.7969 73.1719,39.7969 L73.5938,39.7969 L73.1875,38.7656 Z M72.4688,37.0625 L71.1094,33.6875 L69.7344,37.0625 L72.4688,37.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="42" x="85" y="41.9102">Product</text><line style="stroke:#000000;stroke-width:1.5;" x1="57" x2="129" y1="53" y2="53"/><!--MD5=[990132e04f994323e3060f5453bb4352]
class ConcreteProduct--><rect codeline="10" fill="#FFFAFA" filter="url(#f1jd1hqa6oybbx)" height="40" id="ConcreteProduct" style="stroke:#000000;stroke-width:1.5;" width="124" x="7" y="143"/><ellipse cx="22" cy="159" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M24.7656,154.875 Q24.9219,154.6563 25.1094,154.5469 Q25.2969,154.4375 25.5156,154.4375 Q25.8906,154.4375 26.125,154.7031 Q26.3594,154.9531 26.3594,155.5625 L26.3594,157.0156 Q26.3594,157.625 26.125,157.8906 Q25.8906,158.1563 25.5156,158.1563 Q25.1719,158.1563 24.9688,157.9531 Q24.7656,157.7656 24.6563,157.25 Q24.6094,156.8906 24.4219,156.7031 Q24.0938,156.3281 23.4844,156.1094 Q22.875,155.8906 22.25,155.8906 Q21.4844,155.8906 20.8438,156.2188 Q20.2188,156.5469 19.7188,157.2969 Q19.2344,158.0469 19.2344,159.0781 L19.2344,160.1719 Q19.2344,161.4063 20.125,162.2344 Q21.0156,163.0469 22.6094,163.0469 Q23.5469,163.0469 24.2031,162.7969 Q24.5938,162.6406 25.0156,162.2031 Q25.2813,161.9375 25.4219,161.8594 Q25.5781,161.7813 25.7813,161.7813 Q26.1094,161.7813 26.3594,162.0469 Q26.625,162.2969 26.625,162.6406 Q26.625,162.9844 26.2813,163.3906 Q25.7813,163.9688 24.9844,164.2969 Q23.9063,164.75 22.6094,164.75 Q21.0938,164.75 19.8906,164.125 Q18.9063,163.625 18.2188,162.5625 Q17.5313,161.4844 17.5313,160.2031 L17.5313,159.0469 Q17.5313,157.7188 18.1406,156.5781 Q18.7656,155.4219 19.8594,154.8125 Q20.9531,154.1875 22.1875,154.1875 Q22.9219,154.1875 23.5625,154.3594 Q24.2188,154.5156 24.7656,154.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="92" x="36" y="163.9102">ConcreteProduct</text><line style="stroke:#000000;stroke-width:1.5;" x1="8" x2="130" y1="175" y2="175"/><!--MD5=[2c589014e840926a718801db2289e0a7]
class Creator--><rect codeline="12" fill="#FFFAFA" filter="url(#f1jd1hqa6oybbx)" height="67.6719" id="Creator" style="stroke:#000000;stroke-width:1.5;" width="149" x="211.5" y="7"/><ellipse cx="261.25" cy="23" fill="#A9DCDF" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M263.4375,24.7656 L259.2969,24.7656 L258.875,25.7969 L259.2969,25.7969 Q259.9063,25.7969 260.1719,26.0313 Q260.4375,26.2656 260.4375,26.6563 Q260.4375,27.0313 260.1719,27.2656 Q259.9063,27.5 259.2969,27.5 L257,27.5 Q256.3906,27.5 256.1406,27.2656 Q255.875,27.0313 255.875,26.6406 Q255.875,26.2656 256.1563,26.0313 Q256.4219,25.7813 257.0469,25.7969 L259.7188,19.1406 L258.6094,19.1406 Q258,19.1406 257.7344,18.9063 Q257.4688,18.6719 257.4688,18.2813 Q257.4688,17.9063 257.7344,17.6719 Q258,17.4375 258.6094,17.4375 L262.2813,17.4375 L265.6719,25.7969 Q266.2656,25.7969 266.4531,25.9375 Q266.8438,26.2031 266.8438,26.6563 Q266.8438,27.0313 266.5781,27.2656 Q266.3281,27.5 265.7188,27.5 L263.4219,27.5 Q262.8125,27.5 262.5469,27.2656 Q262.2813,27.0313 262.2813,26.6406 Q262.2813,26.2656 262.5469,26.0313 Q262.8125,25.7969 263.4219,25.7969 L263.8438,25.7969 L263.4375,24.7656 Z M262.7188,23.0625 L261.3594,19.6875 L259.9844,23.0625 L262.7188,23.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="41" x="281.75" y="27.9102">Creator</text><line style="stroke:#000000;stroke-width:1.5;" x1="212.5" x2="359.5" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacing" textLength="137" x="217.5" y="54.4189">+FactoryMethod() : Product;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78" x="217.5" y="68.2549">+AnOperation();</text><!--MD5=[9fa9675923b2c821721124a66decc968]
class ConcreteCreator--><rect codeline="18" fill="#FFFAFA" filter="url(#f1jd1hqa6oybbx)" height="53.8359" id="ConcreteCreator" style="stroke:#000000;stroke-width:1.5;" width="147" x="217.5" y="136"/><ellipse cx="243.3" cy="152" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M246.0656,147.875 Q246.2219,147.6563 246.4094,147.5469 Q246.5969,147.4375 246.8156,147.4375 Q247.1906,147.4375 247.425,147.7031 Q247.6594,147.9531 247.6594,148.5625 L247.6594,150.0156 Q247.6594,150.625 247.425,150.8906 Q247.1906,151.1563 246.8156,151.1563 Q246.4719,151.1563 246.2688,150.9531 Q246.0656,150.7656 245.9563,150.25 Q245.9094,149.8906 245.7219,149.7031 Q245.3938,149.3281 244.7844,149.1094 Q244.175,148.8906 243.55,148.8906 Q242.7844,148.8906 242.1438,149.2188 Q241.5188,149.5469 241.0188,150.2969 Q240.5344,151.0469 240.5344,152.0781 L240.5344,153.1719 Q240.5344,154.4063 241.425,155.2344 Q242.3156,156.0469 243.9094,156.0469 Q244.8469,156.0469 245.5031,155.7969 Q245.8938,155.6406 246.3156,155.2031 Q246.5813,154.9375 246.7219,154.8594 Q246.8781,154.7813 247.0813,154.7813 Q247.4094,154.7813 247.6594,155.0469 Q247.925,155.2969 247.925,155.6406 Q247.925,155.9844 247.5813,156.3906 Q247.0813,156.9688 246.2844,157.2969 Q245.2063,157.75 243.9094,157.75 Q242.3938,157.75 241.1906,157.125 Q240.2063,156.625 239.5188,155.5625 Q238.8313,154.4844 238.8313,153.2031 L238.8313,152.0469 Q238.8313,150.7188 239.4406,149.5781 Q240.0656,148.4219 241.1594,147.8125 Q242.2531,147.1875 243.4875,147.1875 Q244.2219,147.1875 244.8625,147.3594 Q245.5188,147.5156 246.0656,147.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="91" x="259.7" y="156.9102">ConcreteCreator</text><line style="stroke:#000000;stroke-width:1.5;" x1="218.5" x2="363.5" y1="168" y2="168"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="223.5" y="183.4189">+FactoryMethod() : Product;</text><!--MD5=[03f389ab946010d19db5823a3056b88d]
reverse link Product to ConcreteProduct--><path d="M85.26,80.69 C81.12,101.4 76.2,126 72.86,142.68 " fill="none" id="Product-backto-ConcreteProduct" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="none" points="78.41,79.25,89.2,61.01,92.14,82,78.41,79.25" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[ef1bc5798733e6fc5a6eca0cf841bcae]
reverse link Creator to ConcreteCreator--><path d="M288.23,95.57 C288.81,109.55 289.42,124 289.91,135.84 " fill="none" id="Creator-backto-ConcreteCreator" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="none" points="281.22,95.38,287.38,75.11,295.21,94.8,281.22,95.38" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[06871478789e3b38a6cc3594e938e9e2]
reverse link Product to Creator--><path codeline="23" d="M135.45,41 C157.71,41 185.62,41 211.35,41 " fill="none" id="Product-backto-Creator" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="130.21,41,139.21,45,135.21,41,139.21,37,130.21,41" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="153.25" y="34.4951">&#xAB;use&#xBB;</text><!--MD5=[a725d70ebb0444d9edb449c8e9408be0]
reverse link ConcreteProduct to ConcreteCreator--><path codeline="24" d="M136.21,163 C161.87,163 191.25,163 217.47,163 " fill="none" id="ConcreteProduct-backto-ConcreteCreator" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="131.13,163,140.13,167,136.13,163,140.13,159,131.13,163" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="149.25" y="156.4951">&#xAB;create&#xBB;</text><!--MD5=[c0a080ac5e4586426b2f8434b0a3de31]
@startuml
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide attributes

abstract class Product
class ConcreteProduct extends Product

abstract class Creator
{
    {abstract}  +FactoryMethod() : Product;
    +AnOperation();
}

class ConcreteCreator extends Creator
{
    +FactoryMethod() : Product;
}

Creator .l.> Product : <<use>>
ConcreteCreator .l.> ConcreteProduct : <<create>>

@enduml

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><p>Una posible descripci&#xF3;n de las clases y objetos que participan en este patr&#xF3;n podr&#xED;a ser:</p>
<ul>
<li><strong><code>Product</code></strong> Define la interfaz de objetos que crea el &apos;<em>Factory Method</em>&apos; en nuestros ejemplo queremos crear la abstracci&#xF3;n de motor de veh&#xED;culo <strong><code>Motor</code></strong>.</li>
<li><strong><code>ConcreteProduct</code></strong> Define las concreciones actuales y futuras de la abstracci&#xF3;n <strong><code>Product</code></strong> en nuestro caso <strong><code>MotorGasolina</code></strong> y <strong><code>MotorDisel</code></strong>.</li>
<li><strong><code>Creator</code></strong> Abstracci&#xF3;n que declara el <strong>m&#xE9;todo abstracto de de f&#xE1;brica</strong> (Method Factory), que devuelve un objeto de tipo <strong><code>Product</code></strong>. En nuestro caso esta clase de creaci&#xF3;n ser&#xE1; <strong><code>Vehiculo</code></strong> pues definir&#xE1; el m&#xE9;todo de fabrica que los crea con los diferentes motores.</li>
<li><strong><code>ConcreteCreator</code></strong> Concreci&#xF3;n del creador que invalida el m&#xE9;todo abstracto de f&#xE1;brica para devolver una instancia de <strong><code>ConcreteProduct</code></strong>. En nuestro caso esta clase podr&#xED;a representarse a trav&#xE9;s de los tipos <strong><code>VehiculoGasolina</code></strong> y <strong><code>VehiculoDiesel</code></strong>.</li>
</ul>
<div style="page-break-after:always;"></div>
<p>De tal manera que si tuvi&#xE9;ramos que sustanciar una implementaci&#xF3;n del patr&#xF3;n &apos;<em>Factory Method</em>&apos; podr&#xED;a ser la siguiente.</p>
<p align="center" style="zoom:1"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="339px" preserveAspectRatio="none" style="width:412px;height:339px;background:#FFFFFF;" version="1.1" viewBox="0 0 412 339" width="412px" zoomAndPan="magnify"><defs><filter height="300%" id="f1lq55rh812jlg" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[05f1a7330b1ceb1ed664acf8e30033c9]
class Motor--><rect codeline="9" fill="#FFFAFA" filter="url(#f1lq55rh812jlg)" height="40" id="Motor" style="stroke:#000000;stroke-width:1.5;" width="62" x="171.5" y="160"/><ellipse cx="186.5" cy="176" fill="#A9DCDF" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M188.6875,177.7656 L184.5469,177.7656 L184.125,178.7969 L184.5469,178.7969 Q185.1563,178.7969 185.4219,179.0313 Q185.6875,179.2656 185.6875,179.6563 Q185.6875,180.0313 185.4219,180.2656 Q185.1563,180.5 184.5469,180.5 L182.25,180.5 Q181.6406,180.5 181.3906,180.2656 Q181.125,180.0313 181.125,179.6406 Q181.125,179.2656 181.4063,179.0313 Q181.6719,178.7813 182.2969,178.7969 L184.9688,172.1406 L183.8594,172.1406 Q183.25,172.1406 182.9844,171.9063 Q182.7188,171.6719 182.7188,171.2813 Q182.7188,170.9063 182.9844,170.6719 Q183.25,170.4375 183.8594,170.4375 L187.5313,170.4375 L190.9219,178.7969 Q191.5156,178.7969 191.7031,178.9375 Q192.0938,179.2031 192.0938,179.6563 Q192.0938,180.0313 191.8281,180.2656 Q191.5781,180.5 190.9688,180.5 L188.6719,180.5 Q188.0625,180.5 187.7969,180.2656 Q187.5313,180.0313 187.5313,179.6406 Q187.5313,179.2656 187.7969,179.0313 Q188.0625,178.7969 188.6719,178.7969 L189.0938,178.7969 L188.6875,177.7656 Z M187.9688,176.0625 L186.6094,172.6875 L185.2344,176.0625 L187.9688,176.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="30" x="200.5" y="180.9102">Motor</text><line style="stroke:#000000;stroke-width:1.5;" x1="172.5" x2="232.5" y1="192" y2="192"/><!--MD5=[1ea3fadc10fb6f83e43c4292af5630ac]
class MotorGasolina--><rect codeline="10" fill="#FFFAFA" filter="url(#f1lq55rh812jlg)" height="40" id="MotorGasolina" style="stroke:#000000;stroke-width:1.5;" width="112" x="54.5" y="285"/><ellipse cx="69.5" cy="301" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M72.2656,296.875 Q72.4219,296.6563 72.6094,296.5469 Q72.7969,296.4375 73.0156,296.4375 Q73.3906,296.4375 73.625,296.7031 Q73.8594,296.9531 73.8594,297.5625 L73.8594,299.0156 Q73.8594,299.625 73.625,299.8906 Q73.3906,300.1563 73.0156,300.1563 Q72.6719,300.1563 72.4688,299.9531 Q72.2656,299.7656 72.1563,299.25 Q72.1094,298.8906 71.9219,298.7031 Q71.5938,298.3281 70.9844,298.1094 Q70.375,297.8906 69.75,297.8906 Q68.9844,297.8906 68.3438,298.2188 Q67.7188,298.5469 67.2188,299.2969 Q66.7344,300.0469 66.7344,301.0781 L66.7344,302.1719 Q66.7344,303.4063 67.625,304.2344 Q68.5156,305.0469 70.1094,305.0469 Q71.0469,305.0469 71.7031,304.7969 Q72.0938,304.6406 72.5156,304.2031 Q72.7813,303.9375 72.9219,303.8594 Q73.0781,303.7813 73.2813,303.7813 Q73.6094,303.7813 73.8594,304.0469 Q74.125,304.2969 74.125,304.6406 Q74.125,304.9844 73.7813,305.3906 Q73.2813,305.9688 72.4844,306.2969 Q71.4063,306.75 70.1094,306.75 Q68.5938,306.75 67.3906,306.125 Q66.4063,305.625 65.7188,304.5625 Q65.0313,303.4844 65.0313,302.2031 L65.0313,301.0469 Q65.0313,299.7188 65.6406,298.5781 Q66.2656,297.4219 67.3594,296.8125 Q68.4531,296.1875 69.6875,296.1875 Q70.4219,296.1875 71.0625,296.3594 Q71.7188,296.5156 72.2656,296.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80" x="83.5" y="305.9102">MotorGasolina</text><line style="stroke:#000000;stroke-width:1.5;" x1="55.5" x2="165.5" y1="317" y2="317"/><!--MD5=[ec8267426ca8c42156aa4a520caa9836]
class MotorDiesel--><rect codeline="11" fill="#FFFAFA" filter="url(#f1lq55rh812jlg)" height="40" id="MotorDiesel" style="stroke:#000000;stroke-width:1.5;" width="98" x="209.5" y="285"/><ellipse cx="224.5" cy="301" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M227.2656,296.875 Q227.4219,296.6563 227.6094,296.5469 Q227.7969,296.4375 228.0156,296.4375 Q228.3906,296.4375 228.625,296.7031 Q228.8594,296.9531 228.8594,297.5625 L228.8594,299.0156 Q228.8594,299.625 228.625,299.8906 Q228.3906,300.1563 228.0156,300.1563 Q227.6719,300.1563 227.4688,299.9531 Q227.2656,299.7656 227.1563,299.25 Q227.1094,298.8906 226.9219,298.7031 Q226.5938,298.3281 225.9844,298.1094 Q225.375,297.8906 224.75,297.8906 Q223.9844,297.8906 223.3438,298.2188 Q222.7188,298.5469 222.2188,299.2969 Q221.7344,300.0469 221.7344,301.0781 L221.7344,302.1719 Q221.7344,303.4063 222.625,304.2344 Q223.5156,305.0469 225.1094,305.0469 Q226.0469,305.0469 226.7031,304.7969 Q227.0938,304.6406 227.5156,304.2031 Q227.7813,303.9375 227.9219,303.8594 Q228.0781,303.7813 228.2813,303.7813 Q228.6094,303.7813 228.8594,304.0469 Q229.125,304.2969 229.125,304.6406 Q229.125,304.9844 228.7813,305.3906 Q228.2813,305.9688 227.4844,306.2969 Q226.4063,306.75 225.1094,306.75 Q223.5938,306.75 222.3906,306.125 Q221.4063,305.625 220.7188,304.5625 Q220.0313,303.4844 220.0313,302.2031 L220.0313,301.0469 Q220.0313,299.7188 220.6406,298.5781 Q221.2656,297.4219 222.3594,296.8125 Q223.4531,296.1875 224.6875,296.1875 Q225.4219,296.1875 226.0625,296.3594 Q226.7188,296.5156 227.2656,296.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="66" x="238.5" y="305.9102">MotorDiesel</text><line style="stroke:#000000;stroke-width:1.5;" x1="210.5" x2="306.5" y1="317" y2="317"/><!--MD5=[1d6438b19b75334de94d74596f8416e5]
class Vehiculo--><rect codeline="13" fill="#FFFAFA" filter="url(#f1lq55rh812jlg)" height="67.6719" id="Vehiculo" style="stroke:#000000;stroke-width:1.5;" width="131" x="137" y="7"/><ellipse cx="174.95" cy="23" fill="#A9DCDF" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M177.1375,24.7656 L172.9969,24.7656 L172.575,25.7969 L172.9969,25.7969 Q173.6063,25.7969 173.8719,26.0313 Q174.1375,26.2656 174.1375,26.6563 Q174.1375,27.0313 173.8719,27.2656 Q173.6063,27.5 172.9969,27.5 L170.7,27.5 Q170.0906,27.5 169.8406,27.2656 Q169.575,27.0313 169.575,26.6406 Q169.575,26.2656 169.8563,26.0313 Q170.1219,25.7813 170.7469,25.7969 L173.4188,19.1406 L172.3094,19.1406 Q171.7,19.1406 171.4344,18.9063 Q171.1688,18.6719 171.1688,18.2813 Q171.1688,17.9063 171.4344,17.6719 Q171.7,17.4375 172.3094,17.4375 L175.9813,17.4375 L179.3719,25.7969 Q179.9656,25.7969 180.1531,25.9375 Q180.5438,26.2031 180.5438,26.6563 Q180.5438,27.0313 180.2781,27.2656 Q180.0281,27.5 179.4188,27.5 L177.1219,27.5 Q176.5125,27.5 176.2469,27.2656 Q175.9813,27.0313 175.9813,26.6406 Q175.9813,26.2656 176.2469,26.0313 Q176.5125,25.7969 177.1219,25.7969 L177.5438,25.7969 L177.1375,24.7656 Z M176.4188,23.0625 L175.0594,19.6875 L173.6844,23.0625 L176.4188,23.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="48" x="194.05" y="27.9102">Vehiculo</text><line style="stroke:#000000;stroke-width:1.5;" x1="138" x2="267" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacing" textLength="119" x="143" y="54.4189">+MotorFactory() : Motor;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="143" y="68.2549">+Acelera();</text><!--MD5=[db0109afd0f251d99ad117cf9a476b39]
class VehiculoGasolina--><rect codeline="19" fill="#FFFAFA" filter="url(#f1lq55rh812jlg)" height="53.8359" id="VehiculoGasolina" style="stroke:#000000;stroke-width:1.5;" width="129" x="7" y="153"/><ellipse cx="22" cy="169" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M24.7656,164.875 Q24.9219,164.6563 25.1094,164.5469 Q25.2969,164.4375 25.5156,164.4375 Q25.8906,164.4375 26.125,164.7031 Q26.3594,164.9531 26.3594,165.5625 L26.3594,167.0156 Q26.3594,167.625 26.125,167.8906 Q25.8906,168.1563 25.5156,168.1563 Q25.1719,168.1563 24.9688,167.9531 Q24.7656,167.7656 24.6563,167.25 Q24.6094,166.8906 24.4219,166.7031 Q24.0938,166.3281 23.4844,166.1094 Q22.875,165.8906 22.25,165.8906 Q21.4844,165.8906 20.8438,166.2188 Q20.2188,166.5469 19.7188,167.2969 Q19.2344,168.0469 19.2344,169.0781 L19.2344,170.1719 Q19.2344,171.4063 20.125,172.2344 Q21.0156,173.0469 22.6094,173.0469 Q23.5469,173.0469 24.2031,172.7969 Q24.5938,172.6406 25.0156,172.2031 Q25.2813,171.9375 25.4219,171.8594 Q25.5781,171.7813 25.7813,171.7813 Q26.1094,171.7813 26.3594,172.0469 Q26.625,172.2969 26.625,172.6406 Q26.625,172.9844 26.2813,173.3906 Q25.7813,173.9688 24.9844,174.2969 Q23.9063,174.75 22.6094,174.75 Q21.0938,174.75 19.8906,174.125 Q18.9063,173.625 18.2188,172.5625 Q17.5313,171.4844 17.5313,170.2031 L17.5313,169.0469 Q17.5313,167.7188 18.1406,166.5781 Q18.7656,165.4219 19.8594,164.8125 Q20.9531,164.1875 22.1875,164.1875 Q22.9219,164.1875 23.5625,164.3594 Q24.2188,164.5156 24.7656,164.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="36" y="173.9102">VehiculoGasolina</text><line style="stroke:#000000;stroke-width:1.5;" x1="8" x2="135" y1="185" y2="185"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="13" y="200.4189">+MotorFactory() : Motor;</text><!--MD5=[f28e70b565dfa32f9b0e0277b3c4215b]
class VehiculoDiesel--><rect codeline="24" fill="#FFFAFA" filter="url(#f1lq55rh812jlg)" height="53.8359" id="VehiculoDiesel" style="stroke:#000000;stroke-width:1.5;" width="129" x="269" y="153"/><ellipse cx="290.3" cy="169" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M293.0656,164.875 Q293.2219,164.6563 293.4094,164.5469 Q293.5969,164.4375 293.8156,164.4375 Q294.1906,164.4375 294.425,164.7031 Q294.6594,164.9531 294.6594,165.5625 L294.6594,167.0156 Q294.6594,167.625 294.425,167.8906 Q294.1906,168.1563 293.8156,168.1563 Q293.4719,168.1563 293.2688,167.9531 Q293.0656,167.7656 292.9563,167.25 Q292.9094,166.8906 292.7219,166.7031 Q292.3938,166.3281 291.7844,166.1094 Q291.175,165.8906 290.55,165.8906 Q289.7844,165.8906 289.1438,166.2188 Q288.5188,166.5469 288.0188,167.2969 Q287.5344,168.0469 287.5344,169.0781 L287.5344,170.1719 Q287.5344,171.4063 288.425,172.2344 Q289.3156,173.0469 290.9094,173.0469 Q291.8469,173.0469 292.5031,172.7969 Q292.8938,172.6406 293.3156,172.2031 Q293.5813,171.9375 293.7219,171.8594 Q293.8781,171.7813 294.0813,171.7813 Q294.4094,171.7813 294.6594,172.0469 Q294.925,172.2969 294.925,172.6406 Q294.925,172.9844 294.5813,173.3906 Q294.0813,173.9688 293.2844,174.2969 Q292.2063,174.75 290.9094,174.75 Q289.3938,174.75 288.1906,174.125 Q287.2063,173.625 286.5188,172.5625 Q285.8313,171.4844 285.8313,170.2031 L285.8313,169.0469 Q285.8313,167.7188 286.4406,166.5781 Q287.0656,165.4219 288.1594,164.8125 Q289.2531,164.1875 290.4875,164.1875 Q291.2219,164.1875 291.8625,164.3594 Q292.5188,164.5156 293.0656,164.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="305.7" y="173.9102">VehiculoDiesel</text><line style="stroke:#000000;stroke-width:1.5;" x1="270" x2="397" y1="185" y2="185"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="275" y="200.4189">+MotorFactory() : Motor;</text><!--MD5=[a3c0884ac024f28d7c614e50bea7ca69]
reverse link Motor to MotorGasolina--><path d="M179.93,217.2 C171.93,229.45 162.63,243.05 153.5,255 C145.67,265.25 136.28,276.09 128.28,284.96 " fill="none" id="Motor-backto-MotorGasolina" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="none" points="174.23,213.12,190.9,200.03,186.03,220.66,174.23,213.12" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[940a3c5fa12f39abd3cf5ea0e8cf8856]
reverse link Motor to MotorDiesel--><path d="M219.62,218.61 C229.61,240.54 241.78,267.27 249.81,284.92 " fill="none" id="Motor-backto-MotorDiesel" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="none" points="213.17,221.32,211.25,200.22,225.91,215.52,213.17,221.32" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[f1bcc0e18bb231dbb88172e6a3ea49b0]
reverse link Vehiculo to VehiculoGasolina--><path d="M156.94,89.64 C136.61,110.91 113.44,135.14 96.37,152.99 " fill="none" id="Vehiculo-backto-VehiculoGasolina" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="none" points="151.91,84.78,170.79,75.16,162.03,94.46,151.91,84.78" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[e11242b05757c8614b18280a68f5c9fa]
reverse link Vehiculo to VehiculoDiesel--><path d="M259.07,88.87 C264.77,94.16 270.34,99.59 275.5,105 C289.81,120 304.19,138.33 315.06,152.99 " fill="none" id="Vehiculo-backto-VehiculoDiesel" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="none" points="254.17,93.88,243.93,75.32,263.51,83.44,254.17,93.88" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[39d6d670ed73aadc8a599944e69f7420]
link Vehiculo to Motor--><path codeline="29" d="M202.5,87.16 C202.5,87.16 202.5,129.07 202.5,146.49 " fill="none" id="Vehiculo-Motor" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="202.5,159.67,206.5,150.67,202.5,154.67,198.5,150.67,202.5,159.67" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="202.5" x2="202.5" y1="154.67" y2="146.67"/><polygon fill="#000000" points="202.5,75.16,198.5,81.16,202.5,87.16,206.5,81.16,202.5,75.16" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="203.5" y="119.4951">&#xAB;Tiene un&#xBB;</text><!--MD5=[612da9c2ce89b984e7e3bfd27b69a119]
link VehiculoGasolina to MotorGasolina--><path codeline="30" d="M79.77,207.09 C86.6,228.63 96.22,258.97 102.87,279.94 " fill="none" id="VehiculoGasolina-to-MotorGasolina" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="104.41,284.79,105.5001,275.0017,102.8975,280.0242,97.8749,277.4216,104.41,284.79" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="95.5" y="251.4951">&#xAB;create&#xBB;</text><!--MD5=[ec5730514411ddc072f05dc4c8b71f83]
link VehiculoDiesel to MotorDiesel--><path codeline="31" d="M317.59,207.09 C304.35,228.81 285.65,259.48 272.85,280.47 " fill="none" id="VehiculoDiesel-to-MotorDiesel" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="270.21,284.79,278.3063,279.182,272.8097,280.519,271.4727,275.0224,270.21,284.79" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="298.5" y="251.4951">&#xAB;create&#xBB;</text><!--MD5=[166f882cad2dac9a60b42255496828ed]
@startuml
skinparam classAttributeIconSize 0
skinparam ArrowColor Black
skinparam PackageBackgroundColor WhiteSmoke
skinparam ClassBorderColor Black
skinparam ClassBackgroundColor Snow

hide attributes

abstract class Motor
class MotorGasolina extends Motor
class MotorDiesel extends Motor

abstract class Vehiculo
{
    {abstract}  +MotorFactory() : Motor;
    +Acelera();
}

class VehiculoGasolina extends Vehiculo
{
    +MotorFactory() : Motor;
}

class VehiculoDiesel extends Vehiculo
{
    +MotorFactory() : Motor;
}

Vehiculo *- -> Motor : <<Tiene un>>
VehiculoGasolina ..> MotorGasolina : <<create>>
VehiculoDiesel ..> MotorDiesel : <<create>>

@enduml

PlantUML version 1.2021.12(Tue Oct 05 18:01:58 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg></p><pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Motor</span> Motor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-protected">protected</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Motor <span class="token operator">=</span> <span class="token function">MotorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>       

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Motor<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token operator">=&gt;</span> Motor<span class="token punctuation">.</span>Revoluciones<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token return-type class-name">Motor</span> <span class="token function">MotorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">VehiculoGasolina</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name">Motor</span> <span class="token function">MotorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">VehiculoDiesel</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name">Motor</span> <span class="token function">MotorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorDiesel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Vehiculo</span> vg <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoDiesel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Vehiculo</span> vd <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<blockquote>
<p>&#x270B; Si nos fijamos a efectos pr&#xE1;cticos seguir&#xE1; cumpli&#xE9;ndose la composici&#xF3;n porque las referencias a motor desaparecer&#xE1;n junto con el veh&#xED;culo.</p>
</blockquote>
<p>Adem&#xE1;s:</p>
<ol>
<li>
<p>Cumplimos <strong>DIP</strong> porque la clase de alto nivel <strong><code>Veh&#xED;culo</code></strong> depende solo de la abstracci&#xF3;n <strong><code>Motor</code></strong> y as&#xED; como las especificaciones de bajo nivel de motor.</p>
</li>
<li>
<p>El &apos;<em>Factory Method</em>&apos; es la que tiene dependencias de uso (<strong><code>&lt;&lt;use&gt;&gt;</code></strong>) con las clases implicadas y se encargara de crear inst&#xE1;ncias de los diferentes tipos de veh&#xED;culos asegur&#xE1;ndonos que al desaparecer un veh&#xED;culo desaparezca su motor.</p>
</li>
<li>
<p>La clase <strong><code>Principal</code></strong> usa las clases subclases &apos;<em>factor&#xED;a</em>&apos; para instanciar objetos veh&#xED;culo de forma simple y adem&#xE1;s podr&#xED;amos usar esta misma de <strong>forma simple</strong> en nuestros test para crear <strong><a href="https://es.wikipedia.org/wiki/Objeto_simulado">mocks</a></strong> de veh&#xED;culo para hacer pruebas unitarias.</p>
</li>
<li>
<p>Cumplimos el principio <strong>OCP</strong> porque si a&#xF1;adi&#xE9;semos un nuevo tipo de motor, las definiciones Vehiculo e Motor no tendr&#xED;amos que modificarlas (Cerradas para Modificaci&#xF3;n) y solo tendr&#xED;amos que definir nuevas concreciones (Abiertas para ampliaci&#xF3;n). Por ejemplo si a&#xF1;adimos un tipo de motor llamado <strong><code>MotorElectrico</code></strong> tendr&#xED;amos solo que definir las nuevas concreciones de las abstracciones ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">MotorElectrico</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Motor</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Aumenta intensidad corriente&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">VehiculoElectrico</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name">Motor</span> <span class="token function">MotorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorElectrico</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Vehiculo</span> vg <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoDiesel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Vehiculo</span> vd <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Vehiculo</span> ve <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoElectrico</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
</ol>
<p>Sin embargo, si a&#xF1;adi&#xE9;semos nuevos componentes al veh&#xED;culo como por ejemplo neum&#xE1;ticos de varios tipos. Las combinaciones de creaci&#xF3;n podr&#xED;an crecer y posiblemente necesitemos definir muchos tipos nuevos a modo de &apos;<em>factor&#xED;a</em>&apos;. Algo similar a la que nos suced&#xED;a con los componentes de ordenador y que solucionamos con un patr&#xF3;n Decorator.</p>
<p>Otro patr&#xF3;n creacional usado sobretodo por programadores de Java para facilitar sus test es el denominado <strong>Builder</strong>.</p>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="construction_worker-patr%C3%B3n-creacional-builder-simplificado">&#x1F477; Patr&#xF3;n creacional Builder (simplificado)</h4>

<p>En este ejemplo vamos a salirnos del dise&#xF1;o tradicional del patr&#xF3;n. Pero s&#xED;, vamos ver una propuesta simplificada bastante ilustrativa de la idea del mismo.</p>
<p>Supongamos como coment&#xE1;bamos, que queremos a&#xF1;adir neum&#xE1;ticos a nuestros veh&#xED;culos. Podemos definir la siguiente abstracci&#xF3;n de los datos de un neum&#xE1;tico con sus abstracciones...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">INeumaticos</span>
<span class="token punctuation">{</span>
    <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> IndiceVelocidad <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> IndiceCarga <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Radio <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Perfil <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">NeumaticosNormal</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">INeumaticos</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> IndiceVelocidad <span class="token operator">=&gt;</span> <span class="token string">&quot;H&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> IndiceCarga <span class="token operator">=&gt;</span> <span class="token number">88</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Radio <span class="token operator">=&gt;</span> <span class="token number">16</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Perfil <span class="token operator">=&gt;</span> <span class="token number">55</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token operator">=&gt;</span> <span class="token number">205</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">NeumaticosSport</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">INeumaticos</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> IndiceVelocidad <span class="token operator">=&gt;</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> IndiceCarga <span class="token operator">=&gt;</span> <span class="token number">92</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Radio <span class="token operator">=&gt;</span> <span class="token number">18</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Perfil <span class="token operator">=&gt;</span> <span class="token number">40</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token operator">=&gt;</span> <span class="token number">225</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>Vamos a modificar la definici&#xF3;n de veh&#xED;culo.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Motor</span> Motor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">INeumaticos</span> Neumaticos <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token class-name">Motor</span> motor<span class="token punctuation">,</span> <span class="token class-name">INeumaticos</span> neumaticos<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Motor <span class="token operator">=</span> motor<span class="token punctuation">;</span>
        Neumaticos <span class="token operator">=</span> neumaticos<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Motor<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token operator">=&gt;</span> Motor<span class="token punctuation">.</span>Revoluciones<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>F&#xED;jate que <strong>ya no es una clase abstracta</strong> y que adem&#xE1;s el constructor tiene m&#xE1;s sentido al recibir las abstracciones para cumplir <strong>DIP</strong>. Es una clase m&#xE1;s simple y sin definir m&#xE9;todos raros fuera de su &apos;<em>responsabilidad</em>&apos;.</p>
<div style="page-break-after:always;"></div>
<p>Definiremos ahora una clase <strong><code>Builder</code></strong> a modo de &apos;<em>obrero de la consrtrucci&#xF3;n</em>&apos; a la que le iremos pasando los componentes para ensamblar un determinado tipo de veh&#xED;culo. Dicha clase le podemos llamar <strong><code>VehiculoBuilder</code></strong></p>
<pre data-role="codeBlock" data-info="csharp {highlight=[3,4, 8-10, 22-26]}" class="language-csharp" data-line="3,4,8-10,22-26"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">VehiculoBuilder</span>
<span class="token punctuation">{</span>    
    <span class="token comment">// Debe definir propiedades autoimplementadas con los campos o </span>
    <span class="token comment">// &apos;piezas&apos; que necesita el &apos;obrero&apos; para ensamblar un objeto de tipo veh&#xED;culo.</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Motor</span> Motor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">INeumaticos</span> Neumaticos <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token comment">// Definimos Setters para cada una de las piezas pero de con un</span>
    <span class="token comment">// interfaz flu&#xED;do, para facilitar la sint&#xE1;xis de construcci&#xF3;n.</span>
    <span class="token comment">// Es la forma en que le pasamos al &apos;obrero&apos; las piezas necesarias para ensamplar el veh&#xED;culo.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">VehiculoBuilder</span> <span class="token function">SetMotor</span><span class="token punctuation">(</span><span class="token class-name">Motor</span> m<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Motor <span class="token operator">=</span> m<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">VehiculoBuilder</span> <span class="token function">SetNeumaticos</span><span class="token punctuation">(</span><span class="token class-name">INeumaticos</span> n<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Neumaticos <span class="token operator">=</span> n<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Por &#xFA;ltimo, definiremos un m&#xE9;tod llamado Build() que devulver&#xE1; un objeto veh&#xED;culo creado.</span>
    <span class="token comment">// F&#xED;jate que si no est&#xE1; definido uno de los compoenentes o piezas del veh&#xED;culo, </span>
    <span class="token comment">// el obrero crear&#xE1; una por defecto o que puede definirse en funci&#xF3;n de las otras. </span>
    <span class="token comment">// Por ejemplo, podr&#xED;amos decidir que si el motor es gasolina y no me han </span>
    <span class="token comment">// definido los neum&#xE1;ticos, podr&#xED;a montar por defecto neum&#xE1;ticos sport para ese tipo de motor.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Vehiculo</span> <span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Vehiculo</span><span class="token punctuation">(</span>
        Motor <span class="token operator">??</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        Neumaticos <span class="token operator">??</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NeumaticosNormal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">

<div aria-hidden="true" class="line-highlight" data-range="3" data-start="3">
</div></div><div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">






<div aria-hidden="true" class="line-highlight" data-range="8-10" data-start="8" data-end="10">


</div></div><div class="line-highlight-wrapper">




















<div aria-hidden="true" class="line-highlight" data-range="22-26" data-start="22" data-end="26">




</div></div></pre><p>Ahora crear, difenetes combinaciones de vh&#xED;culos ser&#xED;a bastante simple e intuitiva.</p>
<pre data-role="codeBlock" data-info="csharp  {highlight=[3, 6, 10,11]}" class="language-csharp" data-line="3,6,10,11"><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definimos el &apos;obrero que va a construir los veh&#xED;culos&apos;.</span>
    <span class="token class-name">VehiculoBuilder</span> builder <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x1F477;</span>

    <span class="token comment">// Creamos un veh&#xED;culo con motor de gasol&#xED;na y neum&#xE1;ticos sport.</span>
    <span class="token class-name">Vehiculo</span> gasolinaSport <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">SetMotor</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                    <span class="token punctuation">.</span><span class="token function">SetNeumaticos</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NeumaticosSport</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                    <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Le cambiamos el componente de neum&#xE1;ticos a obrero para que ahora</span>
    <span class="token comment">// me haga un veh&#xED;culo con motor de gasol&#xED;na y neum&#xE1;ticos normales. </span>
    <span class="token class-name">Vehiculo</span> gasolinaNormal <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">SetNeumaticos</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NeumaticosNormal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                    <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">

<div aria-hidden="true" class="line-highlight" data-range="3" data-start="3">
</div></div><div class="line-highlight-wrapper">




<div aria-hidden="true" class="line-highlight" data-range="6" data-start="6">
</div></div><div class="line-highlight-wrapper">








<div aria-hidden="true" class="line-highlight" data-range="10" data-start="10">
</div></div><div class="line-highlight-wrapper">









<div aria-hidden="true" class="line-highlight" data-range="11" data-start="11">
</div></div></pre><blockquote>
<p>&#x270B; <strong>Importante:</strong> Si te fijas bien en el c&#xF3;digo, podremos definir todas las combinaciones de motor y neum&#xE1;tico que queramos, simplemente definiendo nuesvas concreciones y sin tener que definir una factor&#xED;a espec&#xED;fica de la combinaci&#xF3;n. Adem&#xE1;s cumpliremos <strong>OCP</strong> y <strong>DIP</strong> ya que al definir nuevos tipos de neum&#xE1;tico o motor no tendremos que redefinir la clase <strong><code>Veh&#xED;culo</code></strong>, ni niguna de los &apos;<em>ensamblajes</em>&apos; de veh&#xED;culos ya creadas.</p>
</blockquote>

      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>