<!DOCTYPE html><html><head>
      <title>Tema 9.6 Principios SOLID</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v19/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
.markdown-preview.markdown-preview .contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.markdown-preview.markdown-preview .fondo {
  background: url(https://programacioniesbalmis.github.io/Imagenes/BannersMoodle/banner.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.markdown-preview.markdown-preview .cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.markdown-preview.markdown-preview .abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.markdown-preview.markdown-preview .cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.markdown-preview.markdown-preview .autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="tema-96">Tema 9.6 </h1>
<p>Descargar estos apuntes en <a href="./Tema9_6.pdf">pdf</a> o <a href="./Tema9_6.html">html</a></p>
<h2 id="índice">Índice </h2>

<div class="md-toc">
<details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#principios-solid" class="md-toc-link"><p>Principios SOLID</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#conceptos-básicos" class="md-toc-link">
            <p>Conceptos básicos</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#s--principio-de-responsabilidad-simple-srp" class="md-toc-link">
            <p>S → Principio de responsabilidad simple (SRP)</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#o--principio-de-abiertocerrado-ocp" class="md-toc-link">
            <p>O → Principio de Abierto/Cerrado (OCP)</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#l--liskov-substitution-principle-lsp" class="md-toc-link">
            <p>L → Liskov Substitution Principle (LSP)</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#i--principio-de-segregación-de-interfaces-isp" class="md-toc-link">
            <p>I → Principio de Segregación de Interfaces (ISP)</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#d--principio-de-inversión-de-dependencias-dip" class="md-toc-link"><p>D → Principio de Inversión de Dependencias (DIP)</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#factory-patrón-creacional-factory-method" class="md-toc-link">
            <p>🏭 Patrón creacional Factory Method</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#construction_worker-patrón-creacional-fluent-builder" class="md-toc-link">
            <p>👷 Patrón creacional Fluent Builder</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    
</div>
<div style="page-break-after:always;"></div>
<h2 id="principios-solid">Principios SOLID </h2>
<h3 id="conceptos-básicos">Conceptos básicos </h3>
<ul>
<li>La experiencia en el desarrolló usando el paradigma POO, dio lugar a cinco reglas que todo desarrollador OO debería seguir para crear un sistema que sea <strong>fácil de mantener</strong> y <strong>escalable</strong> a través del tiempo.</li>
<li>Estas <strong>cinco reglas</strong> son conocidas como los principios <strong>SOLID</strong> y las vamos a enumerar a continuación.</li>
<li>Algunas ya las hemos visto indirectamente durante el curso.</li>
</ul>
<p align="center" style="zoom:1" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="210px" preserveAspectRatio="none" style="width:852px;height:210px;background:#FFFFFF;" version="1.1" viewBox="0 0 852 210" width="852px" zoomAndPan="magnify"><defs></defs><g><rect fill="#4169E1" height="158.7891" rx="12.5" ry="12.5" style="stroke:none;stroke-width:1.5;" width="118" x="10" y="25"></rect><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="9" x="64.5" y="53.1318">S</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="25" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="33" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="41" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="49" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="57" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="65" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="73" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="81" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="89" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="97" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="105" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="67" y="85.3291">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="28" x="55" y="101.4277">SRP</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="67" y="117.5264">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="39" x="49.5" y="133.625">Single</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="87" x="25.5" y="149.7236">Responsibility</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54" x="42" y="165.8223">Principle</text><rect fill="#6495ED" height="158.7891" rx="12.5" ry="12.5" style="stroke:none;stroke-width:1.5;" width="118" x="188" y="25"></rect><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="11" x="241.5" y="53.1318">O</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="203" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="211" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="219" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="227" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="235" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="243" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="251" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="259" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="267" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="275" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="283" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="245" y="85.3291">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="30" x="232" y="101.4277">OCP</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="245" y="117.5264">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="35" x="229.5" y="133.625">Open</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="44" x="225" y="149.7236">Closed</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54" x="220" y="165.8223">Principle</text><rect fill="#4169E1" height="158.7891" rx="12.5" ry="12.5" style="stroke:none;stroke-width:1.5;" width="118" x="366" y="25"></rect><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="8" x="421" y="53.1318">L</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="381" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="389" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="397" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="405" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="413" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="421" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="429" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="437" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="445" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="453" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="461" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="423" y="85.3291">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="26" x="412" y="101.4277">LSP</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="423" y="117.5264">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="40" x="405" y="133.625">Liskov</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="74" x="388" y="149.7236">Substitution</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54" x="398" y="165.8223">Principle</text><rect fill="#6495ED" height="158.7891" rx="12.5" ry="12.5" style="stroke:none;stroke-width:1.5;" width="118" x="544" y="25"></rect><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4" x="601" y="53.1318">I</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="559" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="567" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="575" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="583" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="591" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="599" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="607" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="615" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="623" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="631" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="639" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="601" y="85.3291">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="22" x="592" y="101.4277">ISP</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="601" y="117.5264">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="55" x="575.5" y="133.625">Interface</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="77" x="564.5" y="149.7236">Segregation</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54" x="576" y="165.8223">Principle</text><rect fill="#4169E1" height="158.7891" rx="12.5" ry="12.5" style="stroke:none;stroke-width:1.5;" width="118" x="722" y="25"></rect><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="10" x="776" y="53.1318">D</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="737" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="745" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="753" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="761" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="769" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="777" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="785" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="793" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="801" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="809" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="817" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="779" y="85.3291">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="23" x="769.5" y="101.4277">DIP</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="779" y="117.5264">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="80" x="741" y="133.625">Dependency</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="57" x="752.5" y="149.7236">Inversion</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54" x="754" y="165.8223">Principle</text><!--SRC=[fPDHRzem4CVV_IbEsWjOQWUCLXEgfhP0Ewem4A5zMQR994SurJb7ZaD5ftxtELb06zlJk0TBlZlV_Nps_xfmohgCECbKBZIk7JW3bjADWuGineuCYwl2xJH-4atUY5HgLGO_17WBY34ssbXmLd6HAuliwiYTOVT5PGWtbfG-k8Pryik671vy8RqYTFlrdas2JUtAvYf9Y5FeNXnSKsLJujyzdusbLrz7wHjDAMSU0MA_e3satAhu-TwQafDZW3Vn9gxUDtSKykixQtPAhtI9tvgpKePIHlpz_opYY7s5nRog4N7eRwCnuWKMkU62LgJ9xIAUM-AOSer2UeROM5vhyuBs02Bbx6IAsR2XcENerw4s1IP_zlvx05869pSEmgPnGCMpsKOCORag7Bco-c9mXF2l0KWvEPbYigUOL7zZhMB_3Y6c5bDLOHnJ78z2oj792AD9Wp12_mG9ShohSBPeYoC2SUtZUssAkLRi7gS1D9dGFUzrUltp3wtbfeGxN7azGAypw7S6dGiOZfTGXTkYTJyFe32bZT5Bkd2MLlN8s-91RHKiIdQKuG2gNMivRKCutZjXp5koffQJU7YQ_ahoOdDXRboTVDa_koK78LgF1KzJCSArAhNpHsDJwNO0ZykxiuyYK9oMAlMDi113BqDdTmCOXpy1]--></g></svg></p><h3 id="s--principio-de-responsabilidad-simple-srp">S → Principio de responsabilidad simple (SRP) </h3>
<blockquote>
<p><strong>Definición:</strong> Descrito por <strong>Robert C. Martin</strong>. Este principio establece que un componente del software (método, clase o módulo) debe estar centrado en una <strong>única tarea</strong> (tener solo una responsabilidad).</p>
</blockquote>
<p>Cómo ocurría en programación modular, que si un módulo hacía más de una cosa genera acoplamiento. Lo mismo sucederá con nuestras clases.</p>
<blockquote>
<p>✋ <strong>Importante:</strong> No siempre es tan obvio su incumplimiento. Por eso, siempre que añadamos un método a una clase deberemos pensar si realmente debería ir en la misma o realmente se está convirtiendo en un <strong>'<em>Cajón Desastre</em>'</strong>.</p>
</blockquote>
<p>Vemos cómo '<strong>darnos cuenta</strong>' de su incumplimiento a través de un par de ejemplos...</p>
<ol>
<li>
<p>Supongamos la siguiente clase <strong><code>Rectangulo</code></strong> donde hemos añadido dos métodos de utilidad sobre un conjunto de objetos de la clase.</p>
<pre data-role="codeBlock" data-info="csharp{class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Rectangulo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Alto <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Ancho <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Rectangulo</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-double">double</span></span> alto<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> ancho<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Alto <span class="token operator">=</span> alto<span class="token punctuation">;</span>
        Ancho <span class="token operator">=</span> ancho<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-double">double</span> SumaÁ<span class="token function">reas</span><span class="token punctuation">(</span><span class="token class-name">Rectangle<span class="token punctuation">[</span><span class="token punctuation">]</span></span> Rectangulos<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-double">double</span> SumaPerí<span class="token function">metros</span><span class="token punctuation">(</span><span class="token class-name">Rectangle<span class="token punctuation">[</span><span class="token punctuation">]</span></span> Rectangulos<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre> <div style="page-break-after:always;"></div>
<p>Por algún tipo de requerimiento, estos sumatorios han acabado formando parte de nuestra lógica de la aplicación. En principio, podríamos pensar que como la única clase que interviene es <strong><code>Rectangulo</code></strong> y además, vamos a realizar operaciones de utilidad sobre un conjunto de objetos de este tipo, su lugar más apropiado sería la clase Rectangulo. Además, muchas veces al programar somos '<em>vagos</em>' y hacemos la opción más rápida y simple '<em>sin pensar</em>'.</p>
<p>Sin embargo, estas operaciones no forman parte de la lógica que podría tener un Rectangulo en la vida real, esto es, no definen operaciones sobre un objeto <strong><code>Rectangulo</code></strong>. Una pista importante, es que en lugar de uno solo Rectangulo, al método llegan un conjunto de ellos y eso nos debería <strong>'<em>chirriar</em>'</strong>. Es más, si fuera una operación sobre un solo objeto Rectangulo, no tendría sentido que fuera un método de clase sino uno de 'instancia' de un determinado Rectangulo.</p>
<p>Para cumplir con el principio, quitamos la funcionalidad de sumatorios de la clase <strong><code>Rectangulo</code></strong> e introducimos un par de clases encargadas de realizar las operaciones sobre el los conjuntos de Rectangulos, una posible implementación podría ser la siguiente...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">CalculosSobreAreas</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Suma</span><span class="token punctuation">(</span><span class="token class-name">Rectangulo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> Rectangulos<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">CalculoSobrePerimetros</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Suma</span><span class="token punctuation">(</span><span class="token class-name">Rectangulo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> Rectangulos<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Entonces así cada clase tiene una sola responsabilidad: una representa un Rectangulo y las otras se encargan de hacer operaciones relacionadas con ellos.</p>
</li>
<li>
<p>Veamos otro ejemplo sutil, pero interesante de la aplicación de este principio ...</p>
<p>Supongamos que el estado de un objeto persona queremos formatearlo a cadena de diferentes formas para representarlo en diferentes sitios.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Persona</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-short">short</span></span> Edad <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">FomateaALinea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Nombre</span><span class="token punctuation">}</span></span><span class="token string">, Edad: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Edad</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">FomateaATabla</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token string">"Nombre"</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token string">"Edad"</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token string">\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Nombre<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Edad<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Aparentemente no debería haber problema porque <strong>esta vez parecen operaciones sobre objetos de la clase</strong> y además acceden a la propiedades del mismo. Pero, la clase puede empezar a ser <strong>'<em>pesada</em>'</strong> si, por requerimientos del cliente, tendremos que añadir muchos métodos de Formato y por tanto de alguna manera también estaríamos incumpliendo este principio.</p>
<p>Una posibilidad, sería llevanos la responsabilidad del formateo a otras clases haciendo más <strong>'<em>liviana</em>'</strong> de la siguiente manera...</p>
<pre data-role="codeBlock" data-info="csharp{class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">FomateaPersonaATabla</span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Persona</span> Persona<span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">FomateaPersonaATabla</span><span class="token punctuation">(</span><span class="token class-name">Persona</span> persona<span class="token punctuation">)</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token string">"Nombre"</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token string">"Edad"</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token string">\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Persona<span class="token punctuation">.</span>Nombre<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Persona<span class="token punctuation">.</span>Edad<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">FomateaPersonaALinea</span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Persona</span> Persona <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">FomateaPersonaALinea</span><span class="token punctuation">(</span><span class="token class-name">Persona</span> persona<span class="token punctuation">)</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Persona<span class="token punctuation">.</span>Nombre</span><span class="token punctuation">}</span></span><span class="token string">, Edad: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Persona<span class="token punctuation">.</span>Edad</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>               
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></li>
</ol>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">SRP is one of the more important concept in OO design. It’s also one of the simpler concepts to understand and adhere to. Yet oddly, SRP is often the most abused class design principle.</div>
        <div class="autor">- Robert C. Martin</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<h3 id="o--principio-de-abiertocerrado-ocp">O → Principio de Abierto/Cerrado (OCP) </h3>
<blockquote>
<p><strong>Definición:</strong> Establece que el diseño debe ser <strong>abierto para poderse extender</strong>, pero <strong>cerrado para poderse modificar</strong>.</p>
</blockquote>
<p>En otras palabras, el Software debe ser diseñado pensando en el crecimiento de la aplicación, pero <strong>el nuevo código debe requerir el menor número de cambios en el código existente</strong>. Otra forma simple de expresarlo podría sere: '<em>Abierto a lo nuevo, cerrado para lo viejo</em>'.</p>
<p>Formas de aplicarlo en POO:</p>
<ol>
<li>El <strong>uso más común</strong> de extensión es <strong>mediante el mecanismo de herencia y la invalidación</strong> o sobreescritura de métodos.</li>
<li>Utilizando una <strong>abstracción</strong>, por ejemplo utilizando métodos que acepten una <strong>interface</strong>, de manera que podemos pasar cualquier clase que lo implemente.</li>
<li>Usando el Patrón <strong>Decorator</strong> cómo vimos en el tema y salida por ejemplo cuando vimos el '<em>decorator</em>' <strong><code>BufferedStream</code></strong> sobre un <strong><code>FileStream</code></strong>. De esta manera podremos añadir futuros '<em>decoradores</em>' sin modificar la clase original.</li>
</ol>
<p>Vamos a ver a través de un <strong>ejemplo</strong> como aplicar diferentes estrategias.<br>
Supongamos que realizamos la siguiente abstracción de ordenador para tener el coste de diferentes configuraciones de ordenadores.</p>
<pre data-role="codeBlock" data-info="csharp{class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">OrdenadorB</span>ásico
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Procesador <span class="token operator">=&gt;</span> <span class="token number">56D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> HDD <span class="token operator">=&gt;</span> <span class="token number">30D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-double">double</span> Gráfica <span class="token operator">=&gt;</span> <span class="token number">41.99D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> RAM <span class="token operator">=&gt;</span> <span class="token number">23.5D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> Procesador <span class="token operator">+</span> HDD <span class="token operator">+</span> Gráfica <span class="token operator">+</span> RAM<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">OrdenadorOficina</span> <span class="token punctuation">:</span> OrdenadorBásico
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Procesador <span class="token operator">=&gt;</span> <span class="token number">100D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> HDD <span class="token operator">=&gt;</span> <span class="token number">150D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-double">double</span> Gráfica <span class="token operator">=&gt;</span> <span class="token number">110D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> RAM <span class="token operator">=&gt;</span> <span class="token number">90D</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Podríamos extender nuevas configuraciones además de <strong><code>OrdenadorOficina</code></strong> tales como: <strong><code>OrdenadorGammer</code></strong>, <strong><code>OrdenadorServidor</code></strong> y así todas las que se nos ocurran en el futuro.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    OrdenadorBá<span class="token class-name">sico</span> setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">OrdenadorOficina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">setup<span class="token punctuation">.</span>Precio</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Hasta aquí podemos decir que estamos cumpliendo <strong>OCP</strong>, ya que si queremos combinar otros precios solo tenemos que heredar de <strong><code>OrdenadorBásico</code></strong>. Sin embargo, nuestras configuraciones solo admiten <strong>4 componentes básicos</strong> y si quisiéramos definir modelos con algún componente nuevo en forma de propiedad como <strong><code>Refrigeración</code></strong>. <strong>¿Cómo lo haríamos?</strong></p>
<div style="page-break-after:always;"></div>
<p>Bueno pues aplicando herencia, invalidaciones y ligadura dinámica de la siguiente forma...</p>
<pre data-role="codeBlock" data-info="csharp{class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">OrdenadorGamming</span> <span class="token punctuation">:</span> OrdenadorBásico
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Procesador <span class="token operator">=&gt;</span> <span class="token number">360D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> HDD <span class="token operator">=&gt;</span> <span class="token number">255.20D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-double">double</span> Gráfica <span class="token operator">=&gt;</span> <span class="token number">120D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> RAM <span class="token operator">=&gt;</span> <span class="token number">110D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-double">double</span> Refrigeración <span class="token operator">=&gt;</span> <span class="token number">90D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Precio <span class="token operator">+</span> Refrigeración<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    OrdenadorBá<span class="token class-name">sico</span> setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">OrdenadorOficina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">setup<span class="token punctuation">.</span>Precio</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">OrdenadorGamming</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">setup<span class="token punctuation">.</span>Precio</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><blockquote>
<p>✋ <strong>Importante:</strong> Seguimos teniendo la clase <strong><code>OrdenadorBásico</code></strong> '<em>cerrada</em>' a la modificación, pero en ocasiones esta estrategia puede ser poco '<em>flexible</em>', sobre todo en casos en que las combinaciones posibles son muchísimas y nos obligarían a crear muchas de extensiones de funcionalidad. En nuestro ejemplo, no hemos contemplado que la cantidad de componentes posibles es enorme y puede darnos lugar a decenas de definiciones para nuestras configuraciones.</p>
</blockquote>
<p>En ese caso una alternativa más <strong>'<em>flexible</em>'</strong>, sería usar una versión del <strong>Patrón Decorator</strong>.</p>
<blockquote>
<p>📌 <strong>Nota:</strong> La idea de este ejemplo, <strong>no es aprendernos el patrón</strong>, sino más bien ver una forma nueva de extender la funcionalidad de una clase ya dada y ver posibles usos de interfaces y tipos abstractos..</p>
</blockquote>
<p>Su esquema básico sería el siguiente...</p>
<p align="center" style="zoom:1" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="230px" preserveAspectRatio="none" style="width:725px;height:230px;background:#FFFFFF;" version="1.1" viewBox="0 0 725 230" width="725px" zoomAndPan="magnify"><defs></defs><g><!--class IOrdenador--><g id="elem_IOrdenador"><rect codeline="10" fill="#FFFAFA" height="32" id="IOrdenador" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="105" x="370.5" y="7"></rect><ellipse cx="385.5" cy="23" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M386.4531,19.6406 L386.4531,26.2969 L388.1719,26.2969 Q388.7813,26.2969 389.0469,26.5313 Q389.3125,26.7656 389.3125,27.1563 Q389.3125,27.5313 389.0469,27.7656 Q388.7813,28 388.1719,28 L383.0313,28 Q382.4219,28 382.1563,27.7656 Q381.8906,27.5313 381.8906,27.1406 Q381.8906,26.7656 382.1563,26.5313 Q382.4219,26.2969 383.0313,26.2969 L384.75,26.2969 L384.75,19.6406 L383.0313,19.6406 Q382.4219,19.6406 382.1563,19.4063 Q381.8906,19.1719 381.8906,18.7813 Q381.8906,18.4063 382.1563,18.1719 Q382.4219,17.9375 383.0313,17.9375 L388.1719,17.9375 Q388.7813,17.9375 389.0469,18.1719 Q389.3125,18.4063 389.3125,18.7813 Q389.3125,19.1719 389.0469,19.4063 Q388.7813,19.6406 388.1719,19.6406 L386.4531,19.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="73" x="399.5" y="28.7285">IOrdenador</text></g><!--class ComponenteOrdenador--><g id="elem_ComponenteOrdenador"><rect codeline="13" fill="#FFFAFA" height="32" id="ComponenteOrdenador" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="182" x="332" y="99"></rect><ellipse cx="347" cy="115" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M349.1875,116.7656 L345.0469,116.7656 L344.625,117.7969 L345.0469,117.7969 Q345.6563,117.7969 345.9219,118.0313 Q346.1875,118.2656 346.1875,118.6563 Q346.1875,119.0313 345.9219,119.2656 Q345.6563,119.5 345.0469,119.5 L342.75,119.5 Q342.1406,119.5 341.8906,119.2656 Q341.625,119.0313 341.625,118.6406 Q341.625,118.2656 341.9063,118.0313 Q342.1719,117.7813 342.7969,117.7969 L345.4688,111.1406 L344.3594,111.1406 Q343.75,111.1406 343.4844,110.9063 Q343.2188,110.6719 343.2188,110.2813 Q343.2188,109.9063 343.4844,109.6719 Q343.75,109.4375 344.3594,109.4375 L348.0313,109.4375 L351.4219,117.7969 Q352.0156,117.7969 352.2031,117.9375 Q352.5938,118.2031 352.5938,118.6563 Q352.5938,119.0313 352.3281,119.2656 Q352.0781,119.5 351.4688,119.5 L349.1719,119.5 Q348.5625,119.5 348.2969,119.2656 Q348.0313,119.0313 348.0313,118.6406 Q348.0313,118.2656 348.2969,118.0313 Q348.5625,117.7969 349.1719,117.7969 L349.5938,117.7969 L349.1875,116.7656 Z M348.4688,115.0625 L347.1094,111.6875 L345.7344,115.0625 L348.4688,115.0625 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="150" x="361" y="120.7285">ComponenteOrdenador</text></g><!--class CompHDDEspec?fico--><g id="elem_CompHDDEspecífico"><rect codeline="16" fill="#FFFAFA" height="32" id="CompHDDEspecífico" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="162" x="7" y="191"></rect><ellipse cx="22" cy="207" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M24.7656,202.875 Q24.9219,202.6563 25.1094,202.5469 Q25.2969,202.4375 25.5156,202.4375 Q25.8906,202.4375 26.125,202.7031 Q26.3594,202.9531 26.3594,203.5625 L26.3594,205.0156 Q26.3594,205.625 26.125,205.8906 Q25.8906,206.1563 25.5156,206.1563 Q25.1719,206.1563 24.9688,205.9531 Q24.7656,205.7656 24.6563,205.25 Q24.6094,204.8906 24.4219,204.7031 Q24.0938,204.3281 23.4844,204.1094 Q22.875,203.8906 22.25,203.8906 Q21.4844,203.8906 20.8438,204.2188 Q20.2188,204.5469 19.7188,205.2969 Q19.2344,206.0469 19.2344,207.0781 L19.2344,208.1719 Q19.2344,209.4063 20.125,210.2344 Q21.0156,211.0469 22.6094,211.0469 Q23.5469,211.0469 24.2031,210.7969 Q24.5938,210.6406 25.0156,210.2031 Q25.2813,209.9375 25.4219,209.8594 Q25.5781,209.7813 25.7813,209.7813 Q26.1094,209.7813 26.3594,210.0469 Q26.625,210.2969 26.625,210.6406 Q26.625,210.9844 26.2813,211.3906 Q25.7813,211.9688 24.9844,212.2969 Q23.9063,212.75 22.6094,212.75 Q21.0938,212.75 19.8906,212.125 Q18.9063,211.625 18.2188,210.5625 Q17.5313,209.4844 17.5313,208.2031 L17.5313,207.0469 Q17.5313,205.7188 18.1406,204.5781 Q18.7656,203.4219 19.8594,202.8125 Q20.9531,202.1875 22.1875,202.1875 Q22.9219,202.1875 23.5625,202.3594 Q24.2188,202.5156 24.7656,202.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="36" y="212.7285">CompHDDEspecífico</text></g><!--class CompProcesadorEspec?fico--><g id="elem_CompProcesadorEspecífico"><rect codeline="20" fill="#FFFAFA" height="32" id="CompProcesadorEspecífico" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="206" x="204" y="191"></rect><ellipse cx="219" cy="207" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M221.7656,202.875 Q221.9219,202.6563 222.1094,202.5469 Q222.2969,202.4375 222.5156,202.4375 Q222.8906,202.4375 223.125,202.7031 Q223.3594,202.9531 223.3594,203.5625 L223.3594,205.0156 Q223.3594,205.625 223.125,205.8906 Q222.8906,206.1563 222.5156,206.1563 Q222.1719,206.1563 221.9688,205.9531 Q221.7656,205.7656 221.6563,205.25 Q221.6094,204.8906 221.4219,204.7031 Q221.0938,204.3281 220.4844,204.1094 Q219.875,203.8906 219.25,203.8906 Q218.4844,203.8906 217.8438,204.2188 Q217.2188,204.5469 216.7188,205.2969 Q216.2344,206.0469 216.2344,207.0781 L216.2344,208.1719 Q216.2344,209.4063 217.125,210.2344 Q218.0156,211.0469 219.6094,211.0469 Q220.5469,211.0469 221.2031,210.7969 Q221.5938,210.6406 222.0156,210.2031 Q222.2813,209.9375 222.4219,209.8594 Q222.5781,209.7813 222.7813,209.7813 Q223.1094,209.7813 223.3594,210.0469 Q223.625,210.2969 223.625,210.6406 Q223.625,210.9844 223.2813,211.3906 Q222.7813,211.9688 221.9844,212.2969 Q220.9063,212.75 219.6094,212.75 Q218.0938,212.75 216.8906,212.125 Q215.9063,211.625 215.2188,210.5625 Q214.5313,209.4844 214.5313,208.2031 L214.5313,207.0469 Q214.5313,205.7188 215.1406,204.5781 Q215.7656,203.4219 216.8594,202.8125 Q217.9531,202.1875 219.1875,202.1875 Q219.9219,202.1875 220.5625,202.3594 Q221.2188,202.5156 221.7656,202.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="233" y="212.7285">CompProcesadorEspecífico</text></g><!--class CompMemoriaEspec?fico--><g id="elem_CompMemoriaEspecífico"><rect codeline="24" fill="#FFFAFA" height="32" id="CompMemoriaEspecífico" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="187" x="445.5" y="191"></rect><ellipse cx="460.5" cy="207" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M463.2656,202.875 Q463.4219,202.6563 463.6094,202.5469 Q463.7969,202.4375 464.0156,202.4375 Q464.3906,202.4375 464.625,202.7031 Q464.8594,202.9531 464.8594,203.5625 L464.8594,205.0156 Q464.8594,205.625 464.625,205.8906 Q464.3906,206.1563 464.0156,206.1563 Q463.6719,206.1563 463.4688,205.9531 Q463.2656,205.7656 463.1563,205.25 Q463.1094,204.8906 462.9219,204.7031 Q462.5938,204.3281 461.9844,204.1094 Q461.375,203.8906 460.75,203.8906 Q459.9844,203.8906 459.3438,204.2188 Q458.7188,204.5469 458.2188,205.2969 Q457.7344,206.0469 457.7344,207.0781 L457.7344,208.1719 Q457.7344,209.4063 458.625,210.2344 Q459.5156,211.0469 461.1094,211.0469 Q462.0469,211.0469 462.7031,210.7969 Q463.0938,210.6406 463.5156,210.2031 Q463.7813,209.9375 463.9219,209.8594 Q464.0781,209.7813 464.2813,209.7813 Q464.6094,209.7813 464.8594,210.0469 Q465.125,210.2969 465.125,210.6406 Q465.125,210.9844 464.7813,211.3906 Q464.2813,211.9688 463.4844,212.2969 Q462.4063,212.75 461.1094,212.75 Q459.5938,212.75 458.3906,212.125 Q457.4063,211.625 456.7188,210.5625 Q456.0313,209.4844 456.0313,208.2031 L456.0313,207.0469 Q456.0313,205.7188 456.6406,204.5781 Q457.2656,203.4219 458.3594,202.8125 Q459.4531,202.1875 460.6875,202.1875 Q461.4219,202.1875 462.0625,202.3594 Q462.7188,202.5156 463.2656,202.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="474.5" y="212.7285">CompMemoriaEspecífico</text></g><!--class OrdenadorVacio--><g id="elem_OrdenadorVacio"><rect codeline="28" fill="#FFFAFA" height="32" id="OrdenadorVacio" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="136" x="549" y="99"></rect><ellipse cx="564" cy="115" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M566.7656,110.875 Q566.9219,110.6563 567.1094,110.5469 Q567.2969,110.4375 567.5156,110.4375 Q567.8906,110.4375 568.125,110.7031 Q568.3594,110.9531 568.3594,111.5625 L568.3594,113.0156 Q568.3594,113.625 568.125,113.8906 Q567.8906,114.1563 567.5156,114.1563 Q567.1719,114.1563 566.9688,113.9531 Q566.7656,113.7656 566.6563,113.25 Q566.6094,112.8906 566.4219,112.7031 Q566.0938,112.3281 565.4844,112.1094 Q564.875,111.8906 564.25,111.8906 Q563.4844,111.8906 562.8438,112.2188 Q562.2188,112.5469 561.7188,113.2969 Q561.2344,114.0469 561.2344,115.0781 L561.2344,116.1719 Q561.2344,117.4063 562.125,118.2344 Q563.0156,119.0469 564.6094,119.0469 Q565.5469,119.0469 566.2031,118.7969 Q566.5938,118.6406 567.0156,118.2031 Q567.2813,117.9375 567.4219,117.8594 Q567.5781,117.7813 567.7813,117.7813 Q568.1094,117.7813 568.3594,118.0469 Q568.625,118.2969 568.625,118.6406 Q568.625,118.9844 568.2813,119.3906 Q567.7813,119.9688 566.9844,120.2969 Q565.9063,120.75 564.6094,120.75 Q563.0938,120.75 561.8906,120.125 Q560.9063,119.625 560.2188,118.5625 Q559.5313,117.4844 559.5313,116.2031 L559.5313,115.0469 Q559.5313,113.7188 560.1406,112.5781 Q560.7656,111.4219 561.8594,110.8125 Q562.9531,110.1875 564.1875,110.1875 Q564.9219,110.1875 565.5625,110.3594 Q566.2188,110.5156 566.7656,110.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="578" y="120.7285">OrdenadorVacio</text></g><!--class etc--><g id="elem_etc"><rect fill="#FFFAFA" height="32" id="etc" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="51" x="667.5" y="191"></rect><ellipse cx="682.5" cy="207" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M685.2656,202.875 Q685.4219,202.6563 685.6094,202.5469 Q685.7969,202.4375 686.0156,202.4375 Q686.3906,202.4375 686.625,202.7031 Q686.8594,202.9531 686.8594,203.5625 L686.8594,205.0156 Q686.8594,205.625 686.625,205.8906 Q686.3906,206.1563 686.0156,206.1563 Q685.6719,206.1563 685.4688,205.9531 Q685.2656,205.7656 685.1563,205.25 Q685.1094,204.8906 684.9219,204.7031 Q684.5938,204.3281 683.9844,204.1094 Q683.375,203.8906 682.75,203.8906 Q681.9844,203.8906 681.3438,204.2188 Q680.7188,204.5469 680.2188,205.2969 Q679.7344,206.0469 679.7344,207.0781 L679.7344,208.1719 Q679.7344,209.4063 680.625,210.2344 Q681.5156,211.0469 683.1094,211.0469 Q684.0469,211.0469 684.7031,210.7969 Q685.0938,210.6406 685.5156,210.2031 Q685.7813,209.9375 685.9219,209.8594 Q686.0781,209.7813 686.2813,209.7813 Q686.6094,209.7813 686.8594,210.0469 Q687.125,210.2969 687.125,210.6406 Q687.125,210.9844 686.7813,211.3906 Q686.2813,211.9688 685.4844,212.2969 Q684.4063,212.75 683.1094,212.75 Q681.5938,212.75 680.3906,212.125 Q679.4063,211.625 678.7188,210.5625 Q678.0313,209.4844 678.0313,208.2031 L678.0313,207.0469 Q678.0313,205.7188 678.6406,204.5781 Q679.2656,203.4219 680.3594,202.8125 Q681.4531,202.1875 682.6875,202.1875 Q683.4219,202.1875 684.0625,202.3594 Q684.7188,202.5156 685.2656,202.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19" x="696.5" y="212.7285">etc</text></g><!--reverse link IOrdenador to ComponenteOrdenador--><g id="link_IOrdenador_ComponenteOrdenador"><path codeline="32" d="M409.0649,56.8003 C405.1849,73.4503 409.28,82.4 413.2,98.96 " fill="none" id="IOrdenador-backto-ComponenteOrdenador" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="413.15,39.27,403.2214,55.4386,414.9083,58.162,413.15,39.27" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link ComponenteOrdenador to IOrdenador--><g id="link_ComponenteOrdenador_IOrdenador"><path codeline="33" d="M433.38,98.96 C437.52,82.4 438.9779,61.7452 434.8679,45.0952 " fill="none" id="ComponenteOrdenador-to-IOrdenador" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="433.43,39.27,431.7034,48.9663,434.6283,44.1243,439.4703,47.0491,433.43,39.27" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="303.4264" y="60.5572">ConfiguracionActual</text></g><!--reverse link ComponenteOrdenador to CompHDDEspec?fico--><g id="link_ComponenteOrdenador_CompHDDEspecífico"><path codeline="34" d="M349.5466,135.7308 C287.6166,152.3708 205.87,174.33 143.97,190.96 " fill="none" id="ComponenteOrdenador-backto-CompHDDEspecífico" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="366.93,131.06,347.9896,129.9363,351.1035,141.5252,366.93,131.06" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link ComponenteOrdenador to CompProcesadorEspec?fico--><g id="link_ComponenteOrdenador_CompProcesadorEspecífico"><path codeline="35" d="M389.3613,142.0976 C367.9513,158.7176 347.92,174.25 326.48,190.89 " fill="none" id="ComponenteOrdenador-backto-CompProcesadorEspecífico" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="403.58,131.06,385.6821,137.358,393.0405,146.8372,403.58,131.06" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link ComponenteOrdenador to CompMemoriaEspec?fico--><g id="link_ComponenteOrdenador_CompMemoriaEspecífico"><path codeline="36" d="M456.6387,142.0976 C478.0487,158.7176 498.08,174.25 519.52,190.89 " fill="none" id="ComponenteOrdenador-backto-CompMemoriaEspecífico" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="442.42,131.06,452.9595,146.8372,460.3179,137.358,442.42,131.06" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link ComponenteOrdenador to etc--><g id="link_ComponenteOrdenador_etc"><path codeline="37" d="M486.2714,136.5858 C532.1914,151.5758 587.51,169.78 650,191 C655.54,192.88 661.47,194.93 667.1,196.89 " fill="none" id="ComponenteOrdenador-backto-etc" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="469.16,131,484.4094,142.2896,488.1333,130.882,469.16,131" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link IOrdenador to OrdenadorVacio--><g id="link_IOrdenador_OrdenadorVacio"><path codeline="38" d="M471.7972,46.6377 C507.6072,63.2577 548.57,82.25 584.42,98.89 " fill="none" id="IOrdenador-backto-OrdenadorVacio" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="455.47,39.06,469.2713,52.0801,474.3231,41.1953,455.47,39.06" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--SRC=[hPB1Qi9048Rl-nH3JYqbqBC4GMEX7ae5eRqLriqOboGxONQ3KEiZzIdwObr9ZT4aqeEvX6N-__k7cR6PDgLaMO3AfRKJvrYlAeTpHMQfFn4UXMqa4sRQnfGJmpINAckL5lufKvpwNyfKcQIMlM-qmsL16RQqyI5fIfmWzyDgmGLgQMWhn4Od2FBOfQtV1ReD9LO8RHpoMYg4-Ql76vbuuqw0_nQCIXEC8A5gbID4KOfkF1Px8LVMiLIkdW34L9Haq9Ck4G-mEshtLtWdpFDizcHBL3_VQwseeNHBTzg07_XQfvMdQpAZK__tVwwF_oGkc1JQWsqek5Tni_mNB8Yr70hlbc-It3ZU3eWcSTWcMkSHVOLXtz95to64uHY2kDtlHBbAva7hu7gDJShvugzhUtTrtTATyB0-GAU2pYZEXob-0G00]--></g></svg></p><p>Para ello, definiremos la abstracción de la funcionalidad de <strong><code>Ordenador</code></strong> a través de un interfaz.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">IOrdenador</span> 
<span class="token punctuation">{</span>
    <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p>Definiremos el decorador componente que extenderá de <strong><code>IOrdenador</code></strong> y que referenciará a la configuración del ordenador actual (<strong>acumulada</strong>). Eto l e obliga a implementar la propiedad <strong><code>Precio</code></strong> donde añada a esta configuración el precio de dicho componente '<em>acumulado</em>'.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ComponenteOrdenador</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IOrdenador</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-protected">protected</span> <span class="token return-type class-name">IOrdenador</span> ConfiguracionActual <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Definiremos ahora extensiones de <strong><code>ComponenteOrdenador</code></strong> que envolverán objetos con la funcionalidad final del ordenador <strong><code>IOrdenador</code></strong>. La cual referenciará <strong>la configuración '<em>acumulado</em>' hasta el momento</strong> y la '<em>decorará</em>' añadiéndole el precio de un componente.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SSDRapido</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ComponenteOrdenador</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">SSDRapido</span><span class="token punctuation">(</span><span class="token class-name">IOrdenador</span> c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ConfiguracionActual <span class="token operator">=</span> c<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> ConfiguracionActual<span class="token punctuation">.</span>Precio <span class="token operator">+</span> <span class="token number">255.20D</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Procesador8Nucleos</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ComponenteOrdenador</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Procesador8Nucleos</span><span class="token punctuation">(</span><span class="token class-name">IOrdenador</span> c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ConfiguracionActual <span class="token operator">=</span> c<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> ConfiguracionActual<span class="token punctuation">.</span>Precio <span class="token operator">+</span> <span class="token number">360D</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Memoria16GB3600</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ComponenteOrdenador</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Memoria16GB3600</span><span class="token punctuation">(</span><span class="token class-name">IOrdenador</span> c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ConfiguracionActual <span class="token operator">=</span> c<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> ConfiguracionActual<span class="token punctuation">.</span>Precio <span class="token operator">+</span> <span class="token number">110D</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>De forma análoga añadiríamos todos los componentes que queramos a posteriori <strong>sin modificar el código anterior</strong> y así cumpliendo <strong>OCP</strong>.</p>
<p>Ahora, definimos una clase ordenador con una <strong>configuración básica o vacía</strong> que iremos <strong>'<em>decorando</em>'</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">OrdenadorVacio</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IOrdenador</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> <span class="token number">0D</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Por último, podremos definir la configuración del ordenador de la siguiente manera...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token class-name">IOrdenador</span> setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">OrdenadorVacio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">SSDRapido</span><span class="token punctuation">(</span>setup<span class="token punctuation">)</span><span class="token punctuation">;</span>
    setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Procesador8Nucleos</span><span class="token punctuation">(</span>setup<span class="token punctuation">)</span><span class="token punctuation">;</span>
    setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Memoria16GB3600</span><span class="token punctuation">(</span>setup<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// Aquí podríamos añadir nuevos componentes futuros a la configuración</span>

    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">setup<span class="token punctuation">.</span>Precio</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<h3 id="l--liskov-substitution-principle-lsp">L → Liskov Substitution Principle (LSP) </h3>
<p>Nos sonará en nombre porque ya lo hemos usado. Pricipalmente lo que buscaremos es definir bien sus subclases para que también puedan ser tratadas como la propia abstracción.</p>
<blockquote>
<p><strong>Definición:</strong> Establece que las subclases deberían poder extender a su superclase sin cambiar el comportamiento de la misma.</p>
</blockquote>
<p>En otras palabras, podríamos decir que después de la sustitución, no debería ser necesario ningún otro cambio para que el programa continúe funcionando como lo hacía originalmente.</p>
<p>Veamos un <strong>ejemplo ilustrativo</strong> de concreción que no nos permite aplicar <strong>LSP</strong> de forma correcta...</p>
<p>En la vida real tenemos '<em>claro</em>' que un cuadrado <strong>es un</strong> Rectangulo con los dos lados iguales. Por lo cual, podríamos suponer en un principio que si cuadrado hereda de Rectangulo sería un caso de herencia válido. Veamos que pasa si intentamos implementar este modelo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Rectangulo</span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Alto <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Area <span class="token operator">=&gt;</span> Ancho <span class="token operator">*</span> Alto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Invalidamos las propiedades para cuando cambiemos <strong><code>Ancho</code></strong> y <strong><code>Alto</code></strong> <strong>siga siendo un cuadrado</strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Cuadrado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Rectangulo</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token punctuation">{</span> <span class="token keyword keyword-set">set</span> <span class="token punctuation">{</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Ancho <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Alto <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Alto  <span class="token punctuation">{</span> <span class="token keyword keyword-set">set</span> <span class="token punctuation">{</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Ancho <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Alto <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Ahora si pasamos el siguiente test...</p>
<pre data-role="codeBlock" data-info="csharp{class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">TestArea</span><span class="token punctuation">(</span><span class="token class-name">Rectangulo</span> r<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    r<span class="token punctuation">.</span>Ancho <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>  r<span class="token punctuation">.</span>Alto <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>   
    Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Area <span class="token operator">==</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">$"Área </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">r<span class="token punctuation">.</span>Area</span><span class="token punctuation">}</span></span><span class="token string"> y no 20."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">TestArea</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Rectangulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Creamos una una instáncia de Cuadrado y hacemos una sustitución</span>
    <span class="token comment">// de Liskov hacia la superclase la cual no pasará el text</span>
    <span class="token function">TestArea</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Cuadrado</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Vemos como el <strong>LSP no se cumple</strong> en el segundo Test, ya que al asignar 4 a <strong><code>Alto</code></strong> el <strong><code>Ancho</code></strong> pasa a ser también 4 para cumplir la restricción de cuadrado y <strong>el área me devolverá 16 en lugar de 20</strong> como esperaba en el test.</p>
<p>Una posible solución es hacer nuestro objeto <strong>inmutable</strong>, este es, no dar la posibilidad de que el <strong><code>Ancho</code></strong> y el <strong><code>Alto</code></strong> cambien después de su creación.</p>
<div style="page-break-after:always;"></div>
<h3 id="i--principio-de-segregación-de-interfaces-isp">I → Principio de Segregación de Interfaces (ISP) </h3>
<blockquote>
<p><strong>Definición:</strong> Este principio viene a decir, que ninguna clase debería implementar métodos definidos en un interface que luego no va a usar o no tienen sentido.</p>
</blockquote>
<p>Para cumplirlo, evitaremos interfaces grandes ('<em>fat interfaces</em>') que definan muchos métodos. Por tanto, <strong>las reduciremos a aquellos que siempre se van a dar claramente en todas las clases que la implementen</strong>.</p>
<p>También podremos usar el mecanismo de extensión o herencia de interfaces para realizar dicha segregación.</p>
<p>Veamos un <strong>ejemplo</strong> de incumplimiento de dicho principio. Para ello, supongamos la siguiente interfaz para <strong><code>Ave</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-interface">interface</span> <span class="token class-name">IAve</span> 
<span class="token punctuation">{</span>
    <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Vuela</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Nada</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Come</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PonHuevo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Ahora definimos las siguientes clases que implementan la interfaz...</p>
<pre data-role="codeBlock" data-info="csharp{class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Pato</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IAve</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Come</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un pato comiendo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Nada</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un pato nadando."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PonHuevo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un pato poniendo un huevo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Vuela</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un pato volando"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Gorrion</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IAve</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Come</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un gorrión comiendo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Nada</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token string">"Los gorriones no nadamos :'("</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PonHuevo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un gorrión poniendo un huevo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Vuela</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un gorrión volando"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Avestruz</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IAve</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Come</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un avestruz comiendo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Nada</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token string">"Los avestruces no nadamos :'("</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PonHuevo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un avestruz poniendo un huevo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Vuela</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">=&gt;</span> <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token string">"Los avestruces no volamos :'("</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Ping</span>üino <span class="token punctuation">:</span> IAve
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Come</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un pingüino comiendo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Nada</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un pingüino nadando."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PonHuevo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un pingüino poniendo un huevo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Vuela</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">=&gt;</span> <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token string">"Los pingüinos no volamos :'("</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Si nos fijamos hay <strong>operaciones que no somos capaces de implementar</strong> en ciertas concreciones. Estamos obligados a definirlas por heredar del interfaz. Pero seguramente generaremos algún tipo de excepción al llamarlas y emn ese caso no estaremos siguiendo el principio de <strong>ISP</strong>.</p>
<div style="page-break-after:always;"></div>
<p>La mejor solución es <strong>segregar los interfaces</strong> y que cada <strong><code>Ave</code></strong> <strong>implemente aquellos que le corresponden</strong>.</p>
<p align="center" style="zoom:1" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="200px" preserveAspectRatio="none" style="width:435px;height:200px;background:#FFFFFF;" version="1.1" viewBox="0 0 435 200" width="435px" zoomAndPan="magnify"><defs></defs><g><!--class INada--><g id="elem_INada"><rect codeline="9" fill="#FFFAFA" height="68.3125" id="INada" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="93" x="27" y="16"></rect><ellipse cx="43.8" cy="37.3516" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M44.7531,33.9922 L44.7531,40.6484 L46.4719,40.6484 Q47.0813,40.6484 47.3469,40.8828 Q47.6125,41.1172 47.6125,41.5078 Q47.6125,41.8828 47.3469,42.1172 Q47.0813,42.3516 46.4719,42.3516 L41.3313,42.3516 Q40.7219,42.3516 40.4563,42.1172 Q40.1906,41.8828 40.1906,41.4922 Q40.1906,41.1172 40.4563,40.8828 Q40.7219,40.6484 41.3313,40.6484 L43.05,40.6484 L43.05,33.9922 L41.3313,33.9922 Q40.7219,33.9922 40.4563,33.7578 Q40.1906,33.5234 40.1906,33.1328 Q40.1906,32.7578 40.4563,32.5234 Q40.7219,32.2891 41.3313,32.2891 L46.4719,32.2891 Q47.0813,32.2891 47.3469,32.5234 Q47.6125,32.7578 47.6125,33.1328 Q47.6125,33.5234 47.3469,33.7578 Q47.0813,33.9922 46.4719,33.9922 L44.7531,33.9922 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="56.2" y="33.457">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="38" x="67.7" y="50.627">INada</text><line style="stroke:#000000;stroke-width:0.5;" x1="28" x2="119" y1="58.7031" y2="58.7031"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="33" y="77.2363">Nada() : void</text></g><!--class IAve--><g id="elem_IAve"><rect codeline="14" fill="#FFFAFA" height="85.9219" id="IAve" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="125" x="166" y="7"></rect><ellipse cx="197.2" cy="28.3516" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M198.1531,24.9922 L198.1531,31.6484 L199.8719,31.6484 Q200.4813,31.6484 200.7469,31.8828 Q201.0125,32.1172 201.0125,32.5078 Q201.0125,32.8828 200.7469,33.1172 Q200.4813,33.3516 199.8719,33.3516 L194.7313,33.3516 Q194.1219,33.3516 193.8563,33.1172 Q193.5906,32.8828 193.5906,32.4922 Q193.5906,32.1172 193.8563,31.8828 Q194.1219,31.6484 194.7313,31.6484 L196.45,31.6484 L196.45,24.9922 L194.7313,24.9922 Q194.1219,24.9922 193.8563,24.7578 Q193.5906,24.5234 193.5906,24.1328 Q193.5906,23.7578 193.8563,23.5234 Q194.1219,23.2891 194.7313,23.2891 L199.8719,23.2891 Q200.4813,23.2891 200.7469,23.5234 Q201.0125,23.7578 201.0125,24.1328 Q201.0125,24.5234 200.7469,24.7578 Q200.4813,24.9922 199.8719,24.9922 L198.1531,24.9922 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="212.8" y="24.457">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="27" x="229.8" y="41.627">IAve</text><line style="stroke:#000000;stroke-width:0.5;" x1="167" x2="290" y1="49.7031" y2="49.7031"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="172" y="68.2363">Come() : void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="172" y="85.8457">PonHuevo() : void</text></g><!--class IVuela--><g id="elem_IVuela"><rect codeline="20" fill="#FFFAFA" height="68.3125" id="IVuela" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="96" x="332.5" y="16"></rect><ellipse cx="350.65" cy="37.3516" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M351.6031,33.9922 L351.6031,40.6484 L353.3219,40.6484 Q353.9313,40.6484 354.1969,40.8828 Q354.4625,41.1172 354.4625,41.5078 Q354.4625,41.8828 354.1969,42.1172 Q353.9313,42.3516 353.3219,42.3516 L348.1813,42.3516 Q347.5719,42.3516 347.3063,42.1172 Q347.0406,41.8828 347.0406,41.4922 Q347.0406,41.1172 347.3063,40.8828 Q347.5719,40.6484 348.1813,40.6484 L349.9,40.6484 L349.9,33.9922 L348.1813,33.9922 Q347.5719,33.9922 347.3063,33.7578 Q347.0406,33.5234 347.0406,33.1328 Q347.0406,32.7578 347.3063,32.5234 Q347.5719,32.2891 348.1813,32.2891 L353.3219,32.2891 Q353.9313,32.2891 354.1969,32.5234 Q354.4625,32.7578 354.4625,33.1328 Q354.4625,33.5234 354.1969,33.7578 Q353.9313,33.9922 353.3219,33.9922 L351.6031,33.9922 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="363.35" y="33.457">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="40" x="373.85" y="50.627">IVuela</text><line style="stroke:#000000;stroke-width:0.5;" x1="333.5" x2="427.5" y1="58.7031" y2="58.7031"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="338.5" y="77.2363">Vuela() : void</text></g><!--class Ping?ino--><g id="elem_Pingüino"><rect codeline="25" fill="#FFFAFA" height="40" id="Pingüino" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="87" x="7" y="153"></rect><ellipse cx="22" cy="169" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M24.7656,164.875 Q24.9219,164.6563 25.1094,164.5469 Q25.2969,164.4375 25.5156,164.4375 Q25.8906,164.4375 26.125,164.7031 Q26.3594,164.9531 26.3594,165.5625 L26.3594,167.0156 Q26.3594,167.625 26.125,167.8906 Q25.8906,168.1563 25.5156,168.1563 Q25.1719,168.1563 24.9688,167.9531 Q24.7656,167.7656 24.6563,167.25 Q24.6094,166.8906 24.4219,166.7031 Q24.0938,166.3281 23.4844,166.1094 Q22.875,165.8906 22.25,165.8906 Q21.4844,165.8906 20.8438,166.2188 Q20.2188,166.5469 19.7188,167.2969 Q19.2344,168.0469 19.2344,169.0781 L19.2344,170.1719 Q19.2344,171.4063 20.125,172.2344 Q21.0156,173.0469 22.6094,173.0469 Q23.5469,173.0469 24.2031,172.7969 Q24.5938,172.6406 25.0156,172.2031 Q25.2813,171.9375 25.4219,171.8594 Q25.5781,171.7813 25.7813,171.7813 Q26.1094,171.7813 26.3594,172.0469 Q26.625,172.2969 26.625,172.6406 Q26.625,172.9844 26.2813,173.3906 Q25.7813,173.9688 24.9844,174.2969 Q23.9063,174.75 22.6094,174.75 Q21.0938,174.75 19.8906,174.125 Q18.9063,173.625 18.2188,172.5625 Q17.5313,171.4844 17.5313,170.2031 L17.5313,169.0469 Q17.5313,167.7188 18.1406,166.5781 Q18.7656,165.4219 19.8594,164.8125 Q20.9531,164.1875 22.1875,164.1875 Q22.9219,164.1875 23.5625,164.3594 Q24.2188,164.5156 24.7656,164.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="36" y="174.7285">Pingüino</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="93" y1="185" y2="185"></line></g><!--class Pato--><g id="elem_Pato"><rect codeline="26" fill="#FFFAFA" height="40" id="Pato" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="61" x="129" y="153"></rect><ellipse cx="144" cy="169" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M146.7656,164.875 Q146.9219,164.6563 147.1094,164.5469 Q147.2969,164.4375 147.5156,164.4375 Q147.8906,164.4375 148.125,164.7031 Q148.3594,164.9531 148.3594,165.5625 L148.3594,167.0156 Q148.3594,167.625 148.125,167.8906 Q147.8906,168.1563 147.5156,168.1563 Q147.1719,168.1563 146.9688,167.9531 Q146.7656,167.7656 146.6563,167.25 Q146.6094,166.8906 146.4219,166.7031 Q146.0938,166.3281 145.4844,166.1094 Q144.875,165.8906 144.25,165.8906 Q143.4844,165.8906 142.8438,166.2188 Q142.2188,166.5469 141.7188,167.2969 Q141.2344,168.0469 141.2344,169.0781 L141.2344,170.1719 Q141.2344,171.4063 142.125,172.2344 Q143.0156,173.0469 144.6094,173.0469 Q145.5469,173.0469 146.2031,172.7969 Q146.5938,172.6406 147.0156,172.2031 Q147.2813,171.9375 147.4219,171.8594 Q147.5781,171.7813 147.7813,171.7813 Q148.1094,171.7813 148.3594,172.0469 Q148.625,172.2969 148.625,172.6406 Q148.625,172.9844 148.2813,173.3906 Q147.7813,173.9688 146.9844,174.2969 Q145.9063,174.75 144.6094,174.75 Q143.0938,174.75 141.8906,174.125 Q140.9063,173.625 140.2188,172.5625 Q139.5313,171.4844 139.5313,170.2031 L139.5313,169.0469 Q139.5313,167.7188 140.1406,166.5781 Q140.7656,165.4219 141.8594,164.8125 Q142.9531,164.1875 144.1875,164.1875 Q144.9219,164.1875 145.5625,164.3594 Q146.2188,164.5156 146.7656,164.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="158" y="174.7285">Pato</text><line style="stroke:#000000;stroke-width:0.5;" x1="130" x2="189" y1="185" y2="185"></line></g><!--class Avestruz--><g id="elem_Avestruz"><rect codeline="27" fill="#FFFAFA" height="40" id="Avestruz" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="86" x="225.5" y="153"></rect><ellipse cx="240.5" cy="169" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M243.2656,164.875 Q243.4219,164.6563 243.6094,164.5469 Q243.7969,164.4375 244.0156,164.4375 Q244.3906,164.4375 244.625,164.7031 Q244.8594,164.9531 244.8594,165.5625 L244.8594,167.0156 Q244.8594,167.625 244.625,167.8906 Q244.3906,168.1563 244.0156,168.1563 Q243.6719,168.1563 243.4688,167.9531 Q243.2656,167.7656 243.1563,167.25 Q243.1094,166.8906 242.9219,166.7031 Q242.5938,166.3281 241.9844,166.1094 Q241.375,165.8906 240.75,165.8906 Q239.9844,165.8906 239.3438,166.2188 Q238.7188,166.5469 238.2188,167.2969 Q237.7344,168.0469 237.7344,169.0781 L237.7344,170.1719 Q237.7344,171.4063 238.625,172.2344 Q239.5156,173.0469 241.1094,173.0469 Q242.0469,173.0469 242.7031,172.7969 Q243.0938,172.6406 243.5156,172.2031 Q243.7813,171.9375 243.9219,171.8594 Q244.0781,171.7813 244.2813,171.7813 Q244.6094,171.7813 244.8594,172.0469 Q245.125,172.2969 245.125,172.6406 Q245.125,172.9844 244.7813,173.3906 Q244.2813,173.9688 243.4844,174.2969 Q242.4063,174.75 241.1094,174.75 Q239.5938,174.75 238.3906,174.125 Q237.4063,173.625 236.7188,172.5625 Q236.0313,171.4844 236.0313,170.2031 L236.0313,169.0469 Q236.0313,167.7188 236.6406,166.5781 Q237.2656,165.4219 238.3594,164.8125 Q239.4531,164.1875 240.6875,164.1875 Q241.4219,164.1875 242.0625,164.3594 Q242.7188,164.5156 243.2656,164.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="254.5" y="174.7285">Avestruz</text><line style="stroke:#000000;stroke-width:0.5;" x1="226.5" x2="310.5" y1="185" y2="185"></line></g><!--class Gorri?n--><g id="elem_Gorrión"><rect codeline="28" fill="#FFFAFA" height="40" id="Gorrión" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="80" x="346.5" y="153"></rect><ellipse cx="361.5" cy="169" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M364.2656,164.875 Q364.4219,164.6563 364.6094,164.5469 Q364.7969,164.4375 365.0156,164.4375 Q365.3906,164.4375 365.625,164.7031 Q365.8594,164.9531 365.8594,165.5625 L365.8594,167.0156 Q365.8594,167.625 365.625,167.8906 Q365.3906,168.1563 365.0156,168.1563 Q364.6719,168.1563 364.4688,167.9531 Q364.2656,167.7656 364.1563,167.25 Q364.1094,166.8906 363.9219,166.7031 Q363.5938,166.3281 362.9844,166.1094 Q362.375,165.8906 361.75,165.8906 Q360.9844,165.8906 360.3438,166.2188 Q359.7188,166.5469 359.2188,167.2969 Q358.7344,168.0469 358.7344,169.0781 L358.7344,170.1719 Q358.7344,171.4063 359.625,172.2344 Q360.5156,173.0469 362.1094,173.0469 Q363.0469,173.0469 363.7031,172.7969 Q364.0938,172.6406 364.5156,172.2031 Q364.7813,171.9375 364.9219,171.8594 Q365.0781,171.7813 365.2813,171.7813 Q365.6094,171.7813 365.8594,172.0469 Q366.125,172.2969 366.125,172.6406 Q366.125,172.9844 365.7813,173.3906 Q365.2813,173.9688 364.4844,174.2969 Q363.4063,174.75 362.1094,174.75 Q360.5938,174.75 359.3906,174.125 Q358.4063,173.625 357.7188,172.5625 Q357.0313,171.4844 357.0313,170.2031 L357.0313,169.0469 Q357.0313,167.7188 357.6406,166.5781 Q358.2656,165.4219 359.3594,164.8125 Q360.4531,164.1875 361.6875,164.1875 Q362.4219,164.1875 363.0625,164.3594 Q363.7188,164.5156 364.2656,164.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="375.5" y="174.7285">Gorrión</text><line style="stroke:#000000;stroke-width:0.5;" x1="347.5" x2="425.5" y1="185" y2="185"></line></g><!--reverse link INada to Ping?ino--><g id="link_INada_Pingüino"><path d="M63.8546,101.7426 C59.6446,123.8626 57.63,134.49 54.13,152.93 " fill="none" id="INada-backto-Pingüino" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="none" points="67.22,84.06,57.9604,100.6208,69.7487,102.8644,67.22,84.06" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link IAve to Ping?ino--><g id="link_IAve_Pingüino"><path d="M151.355,103.441 C121.485,123.751 102.06,136.95 78.6,152.9 " fill="none" id="IAve-backto-Pingüino" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="none" points="166.24,93.32,147.9813,98.4794,154.7286,108.4027,166.24,93.32" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link INada to Pato--><g id="link_INada_Pato"><path d="M107.4271,98.7323 C123.1471,120.8523 132.84,134.49 145.94,152.93 " fill="none" id="INada-backto-Pato" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="none" points="97,84.06,102.5364,102.208,112.3179,95.2566,97,84.06" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link IAve to Pato--><g id="link_IAve_Pato"><path d="M195.4544,108.9569 C183.8744,129.2669 179.49,136.95 170.39,152.9 " fill="none" id="IAve-backto-Pato" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="none" points="204.37,93.32,190.2421,105.985,200.6667,111.9288,204.37,93.32" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link IVuela to Pato--><g id="link_IVuela_Pato"><path d="M316.6592,88.5232 C308.7592,93.0932 316.21,88.71 308.5,93 C267.95,115.57 220.49,140.47 190.23,156.17 " fill="none" id="IVuela-backto-Pato" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="none" points="332.24,79.51,313.6548,83.3296,319.6636,93.7168,332.24,79.51" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link IAve to Avestruz--><g id="link_IAve_Avestruz"><path d="M248.1366,110.4114 C254.8466,130.7214 256.91,136.95 262.19,152.9 " fill="none" id="IAve-backto-Avestruz" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="none" points="242.49,93.32,242.4395,112.2936,253.8338,108.5292,242.49,93.32" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link IAve to Gorri?n--><g id="link_IAve_Gorrión"><path d="M298.0506,104.2643 C324.5706,124.5743 340.73,136.95 361.56,152.9 " fill="none" id="IAve-backto-Gorrión" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="none" points="283.76,93.32,294.4025,109.0278,301.6987,99.5008,283.76,93.32" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link IVuela to Gorri?n--><g id="link_IVuela_Gorrión"><path d="M383.034,102.0378 C384.134,124.1578 384.64,134.49 385.55,152.93 " fill="none" id="IVuela-backto-Gorrión" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="none" points="382.14,84.06,377.0414,102.3358,389.0266,101.7398,382.14,84.06" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--SRC=[TP0_QyCm4CLtVOeRMyZGkOI0xQ7DKWo6TbRjgtDOreMJv412FbNNRlbYzPyuYOCp2RtxlVTESXNPhHPTGswqSv7tGj_1upfdcz4UuKMv2nA9y2vXmmAnqNbrCqhRgounRezIEDXYmBusv36hkS8RDkcQOfO2PJvi0EwYCiixfJPK8EXnIwSKMO_oetE4zOSkD2oN5sMrKWS509t-z0olq30LwZZnH0tEMI3X6g-UJadPlWTi-57IPq0pMm_zP6Bh_nfIikNfZom3rLk3DLhlXbSi-iL6JFj7nE9SUoPRnNa9-mbz3NfZ4JhzsllncF8F]--></g></svg></p><div class="contenedor">
<div class="fondo">
    <div class="abre_comilla">"</div>
    <div class="cierra_comilla">"</div>
    <div class="cita">The three chief virtues of a programmer are: Laziness, Impatience and Hubris.</div>
    <div class="autor">- Larry Wall.</div>
</div>
</div>
<div style="page-break-after:always;"></div>
<h3 id="d--principio-de-inversión-de-dependencias-dip">D → Principio de Inversión de Dependencias (DIP) </h3>
<p>Es uno de los más importantes y muy a tener en cuenta en nuestros diseños. El hacerlo, nos <strong>facilitará la labor de creación de test unitarios</strong>.</p>
<blockquote>
<p><strong>Definición:</strong> Este principio establece que:</p>
<ol>
<li>Las clases de alto nivel <strong>no deberían depender</strong> de las clases de bajo nivel. Ambas deberían depender de las abstracciones.</li>
<li>Las abstracciones <strong>no deberían depender</strong> de los detalles. Los detalles deberían depender de las abstracciones.</li>
</ol>
</blockquote>
<p>En otras palabras, podemos decir que el objetivo de este principio es el uso de interfaces para conseguir que una clase interactúe con otras clases, sin que las conozca directamente. De esta manera conseguiremos desacoplar las clases lo máximo posible.<br>
Existen diferentes patrones muy usados en frameworks actuales tales como la <strong>inyección de dependencias</strong> o <strong>service locator</strong> que nos permitirán invertir el control.</p>
<p>Supongamos la siguiente relación todo parte en la que un <strong><code>Vehiculo</code></strong> está <strong>compuesto por</strong> un <strong><code>Motor</code></strong>.</p>
<blockquote>
<p>📌 <strong>Nota:</strong> El siguiente ejemplo es un modelo super simplificado para que entendamos el concepto de <strong>DIP</strong>.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp{class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Motor</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Inyecta combustible"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> RELACION_INYECCION_MARCHA_CILINDRADA_ETC<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Motor</span> Motor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span> 
        Motor <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Motor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span>Revoluciones<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Tenemos claramente una clase de alto nivel <strong><code>Vehiculo</code></strong> que <strong>depende</strong> de otra de Bajo nivel <strong><code>Motor</code></strong>. Esto significa que <strong><code>Vehiculo</code></strong> tiene que <strong>'<em>conocer</em>'</strong> una clase <strong><code>Motor</code></strong> '<em>específica</em>' por la relación de composición (<strong><code>línea 17</code></strong>).</p>
<p align="center" style="zoom:1" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="47px" preserveAspectRatio="none" style="width:276px;height:47px;background:#FFFFFF;" version="1.1" viewBox="0 0 276 47" width="276px" zoomAndPan="magnify"><defs></defs><g><!--class Vehiculo--><g id="elem_Vehiculo"><rect fill="#FFFAFA" height="32" id="Vehiculo" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="86" x="7" y="8.3564"></rect><ellipse cx="22" cy="24.3564" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M24.7656,20.2314 Q24.9219,20.0127 25.1094,19.9033 Q25.2969,19.7939 25.5156,19.7939 Q25.8906,19.7939 26.125,20.0596 Q26.3594,20.3096 26.3594,20.9189 L26.3594,22.3721 Q26.3594,22.9814 26.125,23.2471 Q25.8906,23.5127 25.5156,23.5127 Q25.1719,23.5127 24.9688,23.3096 Q24.7656,23.1221 24.6563,22.6064 Q24.6094,22.2471 24.4219,22.0596 Q24.0938,21.6846 23.4844,21.4658 Q22.875,21.2471 22.25,21.2471 Q21.4844,21.2471 20.8438,21.5752 Q20.2188,21.9033 19.7188,22.6533 Q19.2344,23.4033 19.2344,24.4346 L19.2344,25.5283 Q19.2344,26.7627 20.125,27.5908 Q21.0156,28.4033 22.6094,28.4033 Q23.5469,28.4033 24.2031,28.1533 Q24.5938,27.9971 25.0156,27.5596 Q25.2813,27.2939 25.4219,27.2158 Q25.5781,27.1377 25.7813,27.1377 Q26.1094,27.1377 26.3594,27.4033 Q26.625,27.6533 26.625,27.9971 Q26.625,28.3408 26.2813,28.7471 Q25.7813,29.3252 24.9844,29.6533 Q23.9063,30.1064 22.6094,30.1064 Q21.0938,30.1064 19.8906,29.4814 Q18.9063,28.9814 18.2188,27.9189 Q17.5313,26.8408 17.5313,25.5596 L17.5313,24.4033 Q17.5313,23.0752 18.1406,21.9346 Q18.7656,20.7783 19.8594,20.1689 Q20.9531,19.5439 22.1875,19.5439 Q22.9219,19.5439 23.5625,19.7158 Q24.2188,19.8721 24.7656,20.2314 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="36" y="30.085">Vehiculo</text></g><!--class Motor--><g id="elem_Motor"><rect fill="#FFFAFA" height="32" id="Motor" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="68" x="201" y="8.3564"></rect><ellipse cx="216" cy="24.3564" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M218.7656,20.2314 Q218.9219,20.0127 219.1094,19.9033 Q219.2969,19.7939 219.5156,19.7939 Q219.8906,19.7939 220.125,20.0596 Q220.3594,20.3096 220.3594,20.9189 L220.3594,22.3721 Q220.3594,22.9814 220.125,23.2471 Q219.8906,23.5127 219.5156,23.5127 Q219.1719,23.5127 218.9688,23.3096 Q218.7656,23.1221 218.6563,22.6064 Q218.6094,22.2471 218.4219,22.0596 Q218.0938,21.6846 217.4844,21.4658 Q216.875,21.2471 216.25,21.2471 Q215.4844,21.2471 214.8438,21.5752 Q214.2188,21.9033 213.7188,22.6533 Q213.2344,23.4033 213.2344,24.4346 L213.2344,25.5283 Q213.2344,26.7627 214.125,27.5908 Q215.0156,28.4033 216.6094,28.4033 Q217.5469,28.4033 218.2031,28.1533 Q218.5938,27.9971 219.0156,27.5596 Q219.2813,27.2939 219.4219,27.2158 Q219.5781,27.1377 219.7813,27.1377 Q220.1094,27.1377 220.3594,27.4033 Q220.625,27.6533 220.625,27.9971 Q220.625,28.3408 220.2813,28.7471 Q219.7813,29.3252 218.9844,29.6533 Q217.9063,30.1064 216.6094,30.1064 Q215.0938,30.1064 213.8906,29.4814 Q212.9063,28.9814 212.2188,27.9189 Q211.5313,26.8408 211.5313,25.5596 L211.5313,24.4033 Q211.5313,23.0752 212.1406,21.9346 Q212.7656,20.7783 213.8594,20.1689 Q214.9531,19.5439 216.1875,19.5439 Q216.9219,19.5439 217.5625,19.7158 Q218.2188,19.8721 218.7656,20.2314 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="230" y="30.085">Motor</text></g><!--link Vehiculo to Motor--><g id="link_Vehiculo_Motor"><path codeline="10" d="M105.44,24.3564 C138.18,24.3564 164.8,24.3564 194.91,24.3564 " fill="none" id="Vehiculo-Motor" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="93.44,24.3564,99.44,28.3564,105.44,24.3564,99.44,20.3564,93.44,24.3564" style="stroke:#000000;stroke-width:1.0;"></polygon><polygon fill="#000000" points="200.91,24.3564,191.91,20.3564,195.91,24.3564,191.91,28.3564,200.91,24.3564" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="124" y="20.8516">tiene un</text></g><!--SRC=[ROvD2y8m38Rl_HKv2mFF7eHr9m-2CD1pRUCQrZMIfWpyzKw6CCHJUCdpVYHyA2Y3q10L0Wbw9SwcZ9IVJjm4FhbIMbMXUrKyUSuzlH3s6wGLuRdZn08sEJzkNfT5kW7jSWRXciEAtI8fzXEFk66xJvDb2IZ_mrRW9whFF1iJAI2uxygowWarSYZcYf5yJGoxfZd2cNMn7K09CqBDvWq0]--></g></svg></p><p>Pero... <strong>¿Qué pasa si queremos concretar más el tipo de motor?</strong>. Por ejemplo queremos indicar que el vehiculo tiene un motor de gasolina (explosión).</p>
<p>Tendríamos que modificar la clase <strong><code>Vehiculo</code></strong> incumpliendo así principio <strong>OCP</strong> y refactorizar la clase <strong><code>Vehiculo</code></strong> de la siguiente forma ...</p>
<pre data-role="codeBlock" data-info="csharp{class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">MotorGasolina</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Inyecta gasolina para explosión"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> RELACION_INYECCION_MARCHA_CILINDRADA_ETC_GASOLINA<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Motor</span> MotorGasolina <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span> 
        Motor <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span>Revoluciones<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Pero... <strong>¿Qué pasa si queremos añadir nuevos tipos de motor?</strong>. Por ejemplo, diesel o electrico.<br>
La respuesta es que no podremos, ya que creamos directamente el objeto de bajo nivel <strong><code>MotorGasolina</code></strong> dentro de la clase <strong><code>Vehiculo</code></strong> y eso nos genera una dependencia directa.</p>
<p>Para que cumpla <strong>DIP</strong> haremos que <strong><code>Vehiculo</code></strong> <strong>dependa de una abstracción de</strong> <strong><code>Motor</code></strong> la cual tendremos que pasar o <strong>'<em>inyectar</em>'</strong> ya sea como parámetro a través del constructor de vehiculo o a través de un setter. De esta manera conseguiremos que nuestro vehiculo tenga distintos tipos de motor sin modificar la clase <strong><code>Vehiculo</code></strong>.</p>
<blockquote>
<p>✋ A este proceso se le denominará <strong>'<em>Inversión de Dependencias</em>'</strong>.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp{class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Motor</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-protected">protected</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Motor</span> Motor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token class-name">Motor</span> m<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Motor <span class="token operator">=</span> m<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span>Revoluciones<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Ahora ya podremos implementar todas las concreciones de bajo nivel de <strong><code>Motor</code></strong> que se nos ocurran y dependerán de la abstracción <strong><code>Motor</code></strong> tal y como postula <strong>DIP</strong>.</p>
<div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">MotorGasolina</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Motor</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Inyecta gasolina para explosión"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> RELACION_INYECCION_MARCHA_CILINDRADA_ETC_GASOLINA<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">MotorDiesel</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Motor</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Inyecta gasóleo para combustión"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> RELACION_INYECCION_MARCHA_CILINDRADA_ETC_DIESEL<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h4 id="factory-patrón-creacional-factory-method">🏭 Patrón creacional Factory Method </h4>
<p>Pero... ¿Cómo realizar esta inversión de dependencias teniendo en cuenta la relación de <strong>composición</strong> entre <strong><code>Vehiculo</code></strong> y <strong><code>Motor</code></strong>?. Una posibilidad es usas el patrón <strong>Method Factory</strong>, el cual se encargará de de relacionar las dos clases.</p>
<p>El esquema <strong>tradicional</strong> y básico del patrón será el siguiente:</p>
<p align="center" style="zoom:1" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="207px" preserveAspectRatio="none" style="width:429px;height:207px;background:#FFFFFF;" version="1.1" viewBox="0 0 429 207" width="429px" zoomAndPan="magnify"><defs></defs><g><!--class Product--><g id="elem_Product"><rect codeline="9" fill="#FFFAFA" height="40" id="Product" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="81" x="62" y="24.5"></rect><ellipse cx="77" cy="40.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M79.1875,42.2656 L75.0469,42.2656 L74.625,43.2969 L75.0469,43.2969 Q75.6563,43.2969 75.9219,43.5313 Q76.1875,43.7656 76.1875,44.1563 Q76.1875,44.5313 75.9219,44.7656 Q75.6563,45 75.0469,45 L72.75,45 Q72.1406,45 71.8906,44.7656 Q71.625,44.5313 71.625,44.1406 Q71.625,43.7656 71.9063,43.5313 Q72.1719,43.2813 72.7969,43.2969 L75.4688,36.6406 L74.3594,36.6406 Q73.75,36.6406 73.4844,36.4063 Q73.2188,36.1719 73.2188,35.7813 Q73.2188,35.4063 73.4844,35.1719 Q73.75,34.9375 74.3594,34.9375 L78.0313,34.9375 L81.4219,43.2969 Q82.0156,43.2969 82.2031,43.4375 Q82.5938,43.7031 82.5938,44.1563 Q82.5938,44.5313 82.3281,44.7656 Q82.0781,45 81.4688,45 L79.1719,45 Q78.5625,45 78.2969,44.7656 Q78.0313,44.5313 78.0313,44.1406 Q78.0313,43.7656 78.2969,43.5313 Q78.5625,43.2969 79.1719,43.2969 L79.5938,43.2969 L79.1875,42.2656 Z M78.4688,40.5625 L77.1094,37.1875 L75.7344,40.5625 L78.4688,40.5625 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="49" x="91" y="46.2285">Product</text><line style="stroke:#000000;stroke-width:0.5;" x1="63" x2="142" y1="56.5" y2="56.5"></line></g><!--class ConcreteProduct--><g id="elem_ConcreteProduct"><rect codeline="10" fill="#FFFAFA" height="40" id="ConcreteProduct" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="139" x="7" y="152"></rect><ellipse cx="22" cy="168" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M24.7656,163.875 Q24.9219,163.6563 25.1094,163.5469 Q25.2969,163.4375 25.5156,163.4375 Q25.8906,163.4375 26.125,163.7031 Q26.3594,163.9531 26.3594,164.5625 L26.3594,166.0156 Q26.3594,166.625 26.125,166.8906 Q25.8906,167.1563 25.5156,167.1563 Q25.1719,167.1563 24.9688,166.9531 Q24.7656,166.7656 24.6563,166.25 Q24.6094,165.8906 24.4219,165.7031 Q24.0938,165.3281 23.4844,165.1094 Q22.875,164.8906 22.25,164.8906 Q21.4844,164.8906 20.8438,165.2188 Q20.2188,165.5469 19.7188,166.2969 Q19.2344,167.0469 19.2344,168.0781 L19.2344,169.1719 Q19.2344,170.4063 20.125,171.2344 Q21.0156,172.0469 22.6094,172.0469 Q23.5469,172.0469 24.2031,171.7969 Q24.5938,171.6406 25.0156,171.2031 Q25.2813,170.9375 25.4219,170.8594 Q25.5781,170.7813 25.7813,170.7813 Q26.1094,170.7813 26.3594,171.0469 Q26.625,171.2969 26.625,171.6406 Q26.625,171.9844 26.2813,172.3906 Q25.7813,172.9688 24.9844,173.2969 Q23.9063,173.75 22.6094,173.75 Q21.0938,173.75 19.8906,173.125 Q18.9063,172.625 18.2188,171.5625 Q17.5313,170.4844 17.5313,169.2031 L17.5313,168.0469 Q17.5313,166.7188 18.1406,165.5781 Q18.7656,164.4219 19.8594,163.8125 Q20.9531,163.1875 22.1875,163.1875 Q22.9219,163.1875 23.5625,163.3594 Q24.2188,163.5156 24.7656,163.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="36" y="173.7285">ConcreteProduct</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="145" y1="184" y2="184"></line></g><!--class Creator--><g id="elem_Creator"><rect codeline="12" fill="#FFFAFA" height="75.2188" id="Creator" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="191" x="226" y="7"></rect><ellipse cx="293.25" cy="23" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M295.4375,24.7656 L291.2969,24.7656 L290.875,25.7969 L291.2969,25.7969 Q291.9063,25.7969 292.1719,26.0313 Q292.4375,26.2656 292.4375,26.6563 Q292.4375,27.0313 292.1719,27.2656 Q291.9063,27.5 291.2969,27.5 L289,27.5 Q288.3906,27.5 288.1406,27.2656 Q287.875,27.0313 287.875,26.6406 Q287.875,26.2656 288.1563,26.0313 Q288.4219,25.7813 289.0469,25.7969 L291.7188,19.1406 L290.6094,19.1406 Q290,19.1406 289.7344,18.9063 Q289.4688,18.6719 289.4688,18.2813 Q289.4688,17.9063 289.7344,17.6719 Q290,17.4375 290.6094,17.4375 L294.2813,17.4375 L297.6719,25.7969 Q298.2656,25.7969 298.4531,25.9375 Q298.8438,26.2031 298.8438,26.6563 Q298.8438,27.0313 298.5781,27.2656 Q298.3281,27.5 297.7188,27.5 L295.4219,27.5 Q294.8125,27.5 294.5469,27.2656 Q294.2813,27.0313 294.2813,26.6406 Q294.2813,26.2656 294.5469,26.0313 Q294.8125,25.7969 295.4219,25.7969 L295.8438,25.7969 L295.4375,24.7656 Z M294.7188,23.0625 L293.3594,19.6875 L291.9844,23.0625 L294.7188,23.0625 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="48" x="313.75" y="28.7285">Creator</text><line style="stroke:#000000;stroke-width:0.5;" x1="227" x2="416" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="179" x="232" y="57.5332">+FactoryMethod() : Product;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="232" y="75.1426">+AnOperation();</text></g><!--class ConcreteCreator--><g id="elem_ConcreteCreator"><rect codeline="18" fill="#FFFAFA" height="57.6094" id="ConcreteCreator" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="190" x="232.5" y="143"></rect><ellipse cx="270.9" cy="159" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M273.6656,154.875 Q273.8219,154.6563 274.0094,154.5469 Q274.1969,154.4375 274.4156,154.4375 Q274.7906,154.4375 275.025,154.7031 Q275.2594,154.9531 275.2594,155.5625 L275.2594,157.0156 Q275.2594,157.625 275.025,157.8906 Q274.7906,158.1563 274.4156,158.1563 Q274.0719,158.1563 273.8688,157.9531 Q273.6656,157.7656 273.5563,157.25 Q273.5094,156.8906 273.3219,156.7031 Q272.9938,156.3281 272.3844,156.1094 Q271.775,155.8906 271.15,155.8906 Q270.3844,155.8906 269.7438,156.2188 Q269.1188,156.5469 268.6188,157.2969 Q268.1344,158.0469 268.1344,159.0781 L268.1344,160.1719 Q268.1344,161.4063 269.025,162.2344 Q269.9156,163.0469 271.5094,163.0469 Q272.4469,163.0469 273.1031,162.7969 Q273.4938,162.6406 273.9156,162.2031 Q274.1813,161.9375 274.3219,161.8594 Q274.4781,161.7813 274.6813,161.7813 Q275.0094,161.7813 275.2594,162.0469 Q275.525,162.2969 275.525,162.6406 Q275.525,162.9844 275.1813,163.3906 Q274.6813,163.9688 273.8844,164.2969 Q272.8063,164.75 271.5094,164.75 Q269.9938,164.75 268.7906,164.125 Q267.8063,163.625 267.1188,162.5625 Q266.4313,161.4844 266.4313,160.2031 L266.4313,159.0469 Q266.4313,157.7188 267.0406,156.5781 Q267.6656,155.4219 268.7594,154.8125 Q269.8531,154.1875 271.0875,154.1875 Q271.8219,154.1875 272.4625,154.3594 Q273.1188,154.5156 273.6656,154.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="290.1" y="164.7285">ConcreteCreator</text><line style="stroke:#000000;stroke-width:0.5;" x1="233.5" x2="421.5" y1="175" y2="175"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="238.5" y="193.5332">+FactoryMethod() : Product;</text></g><!--reverse link Product to ConcreteProduct--><g id="link_Product_ConcreteProduct"><path d="M94.8964,82.1853 C90.0064,105.7753 85.39,128.09 80.49,151.76 " fill="none" id="Product-backto-ConcreteProduct" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="98.55,64.56,89.0213,80.9674,100.7715,83.4032,98.55,64.56" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Creator to ConcreteCreator--><g id="link_Creator_ConcreteCreator"><path d="M324.1123,100.1193 C325.0423,119.5093 325.3,124.97 326.16,142.9 " fill="none" id="Creator-backto-ConcreteCreator" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="323.25,82.14,318.1192,100.4068,330.1055,99.8319,323.25,82.14" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Product to Creator--><g id="link_Product_Creator"><path codeline="23" d="M149.18,44.5 C172.43,44.5 196.65,44.5 225.59,44.5 " fill="none" id="Product-backto-Creator" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="#000000" points="143.18,44.5,152.18,48.5,148.18,44.5,152.18,40.5,143.18,44.5" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="167" y="37.9951">«use»</text></g><!--reverse link ConcreteProduct to ConcreteCreator--><g id="link_ConcreteProduct_ConcreteCreator"><path codeline="24" d="M152.08,172 C178.78,172 203.72,172 232.4,172 " fill="none" id="ConcreteProduct-backto-ConcreteCreator" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="#000000" points="146.08,172,155.08,176,151.08,172,155.08,168,146.08,172" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="164.25" y="165.4951">«create»</text></g><!--SRC=[VOz1QyCm38Nl-XK-jXJApci998513sE577PsRT6Of5QH5RgjzB_FQUgkCsE-2EbzUdeEdVD7pVgWJAz3A4NOxGR1ZI7Vk2zKJn3kICbCfvfwObNrsdGFqZQsUezLB7kcmTi9Us-TO7EW3X_OUhnK4Llalyqc8BDgF9q0McTHwPGo0EXT4DP6flngosG78p1rDNd3A7YRAlmGzFQ7ohThHYt4S0OLtpcf5wKMBx4IVxwYj6HdS_MSJ5PNTb7wjoEo5aT-Db_11R88D-jxXD-d_hEFLcbvsI-B94HalHu25WNaDwvO_lSHDoCmRdm3]--></g></svg></p><p>Una posible descripción de las clases y objetos que participan en este patrón podría ser:</p>
<ul>
<li><strong><code>Product</code></strong> Define la interfaz de objetos que crea el '<em>Factory Method</em>' en nuestros ejemplo queremos crear la abstracción de motor de vehículo <strong><code>Motor</code></strong>.</li>
<li><strong><code>ConcreteProduct</code></strong> Define las concreciones actuales y futuras de la abstracción <strong><code>Product</code></strong> en nuestro caso <strong><code>MotorGasolina</code></strong> y <strong><code>MotorDisel</code></strong>.</li>
<li><strong><code>Creator</code></strong> Abstracción que declara el <strong>método abstracto de de fábrica</strong> (Method Factory), que devuelve un objeto de tipo <strong><code>Product</code></strong>. En nuestro caso esta clase de creación será <strong><code>Vehiculo</code></strong> pues definirá el método de fabrica que los crea con los diferentes motores.</li>
<li><strong><code>ConcreteCreator</code></strong> Concreción del creador que invalida el método abstracto de fábrica para devolver una instancia de <strong><code>ConcreteProduct</code></strong>. En nuestro caso esta clase podría representarse a través de los tipos <strong><code>VehiculoGasolina</code></strong> y <strong><code>VehiculoDiesel</code></strong>.</li>
</ul>
<div style="page-break-after:always;"></div>
<p>De tal manera que si tuviéramos que sustanciar una implementación del patrón '<em>Factory Method</em>' podría ser la siguiente.</p>
<p align="center" style="zoom:0.7" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="343px" preserveAspectRatio="none" style="width:486px;height:343px;background:#FFFFFF;" version="1.1" viewBox="0 0 486 343" width="486px" zoomAndPan="magnify"><defs></defs><g><!--class Motor--><g id="elem_Motor"><rect codeline="9" fill="#FFFAFA" height="40" id="Motor" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="69" x="208.5" y="169"></rect><ellipse cx="223.5" cy="185" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M225.6875,186.7656 L221.5469,186.7656 L221.125,187.7969 L221.5469,187.7969 Q222.1563,187.7969 222.4219,188.0313 Q222.6875,188.2656 222.6875,188.6563 Q222.6875,189.0313 222.4219,189.2656 Q222.1563,189.5 221.5469,189.5 L219.25,189.5 Q218.6406,189.5 218.3906,189.2656 Q218.125,189.0313 218.125,188.6406 Q218.125,188.2656 218.4063,188.0313 Q218.6719,187.7813 219.2969,187.7969 L221.9688,181.1406 L220.8594,181.1406 Q220.25,181.1406 219.9844,180.9063 Q219.7188,180.6719 219.7188,180.2813 Q219.7188,179.9063 219.9844,179.6719 Q220.25,179.4375 220.8594,179.4375 L224.5313,179.4375 L227.9219,187.7969 Q228.5156,187.7969 228.7031,187.9375 Q229.0938,188.2031 229.0938,188.6563 Q229.0938,189.0313 228.8281,189.2656 Q228.5781,189.5 227.9688,189.5 L225.6719,189.5 Q225.0625,189.5 224.7969,189.2656 Q224.5313,189.0313 224.5313,188.6406 Q224.5313,188.2656 224.7969,188.0313 Q225.0625,187.7969 225.6719,187.7969 L226.0938,187.7969 L225.6875,186.7656 Z M224.9688,185.0625 L223.6094,181.6875 L222.2344,185.0625 L224.9688,185.0625 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="37" x="237.5" y="190.7285">Motor</text><line style="stroke:#000000;stroke-width:0.5;" x1="209.5" x2="276.5" y1="201" y2="201"></line></g><!--class MotorGasolina--><g id="elem_MotorGasolina"><rect codeline="10" fill="#FFFAFA" height="40" id="MotorGasolina" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="124" x="73" y="296"></rect><ellipse cx="88" cy="312" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M90.7656,307.875 Q90.9219,307.6563 91.1094,307.5469 Q91.2969,307.4375 91.5156,307.4375 Q91.8906,307.4375 92.125,307.7031 Q92.3594,307.9531 92.3594,308.5625 L92.3594,310.0156 Q92.3594,310.625 92.125,310.8906 Q91.8906,311.1563 91.5156,311.1563 Q91.1719,311.1563 90.9688,310.9531 Q90.7656,310.7656 90.6563,310.25 Q90.6094,309.8906 90.4219,309.7031 Q90.0938,309.3281 89.4844,309.1094 Q88.875,308.8906 88.25,308.8906 Q87.4844,308.8906 86.8438,309.2188 Q86.2188,309.5469 85.7188,310.2969 Q85.2344,311.0469 85.2344,312.0781 L85.2344,313.1719 Q85.2344,314.4063 86.125,315.2344 Q87.0156,316.0469 88.6094,316.0469 Q89.5469,316.0469 90.2031,315.7969 Q90.5938,315.6406 91.0156,315.2031 Q91.2813,314.9375 91.4219,314.8594 Q91.5781,314.7813 91.7813,314.7813 Q92.1094,314.7813 92.3594,315.0469 Q92.625,315.2969 92.625,315.6406 Q92.625,315.9844 92.2813,316.3906 Q91.7813,316.9688 90.9844,317.2969 Q89.9063,317.75 88.6094,317.75 Q87.0938,317.75 85.8906,317.125 Q84.9063,316.625 84.2188,315.5625 Q83.5313,314.4844 83.5313,313.2031 L83.5313,312.0469 Q83.5313,310.7188 84.1406,309.5781 Q84.7656,308.4219 85.8594,307.8125 Q86.9531,307.1875 88.1875,307.1875 Q88.9219,307.1875 89.5625,307.3594 Q90.2188,307.5156 90.7656,307.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="102" y="317.7285">MotorGasolina</text><line style="stroke:#000000;stroke-width:0.5;" x1="74" x2="196" y1="328" y2="328"></line></g><!--class MotorDiesel--><g id="elem_MotorDiesel"><rect codeline="11" fill="#FFFAFA" height="40" id="MotorDiesel" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="107" x="238.5" y="296"></rect><ellipse cx="253.5" cy="312" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M256.2656,307.875 Q256.4219,307.6563 256.6094,307.5469 Q256.7969,307.4375 257.0156,307.4375 Q257.3906,307.4375 257.625,307.7031 Q257.8594,307.9531 257.8594,308.5625 L257.8594,310.0156 Q257.8594,310.625 257.625,310.8906 Q257.3906,311.1563 257.0156,311.1563 Q256.6719,311.1563 256.4688,310.9531 Q256.2656,310.7656 256.1563,310.25 Q256.1094,309.8906 255.9219,309.7031 Q255.5938,309.3281 254.9844,309.1094 Q254.375,308.8906 253.75,308.8906 Q252.9844,308.8906 252.3438,309.2188 Q251.7188,309.5469 251.2188,310.2969 Q250.7344,311.0469 250.7344,312.0781 L250.7344,313.1719 Q250.7344,314.4063 251.625,315.2344 Q252.5156,316.0469 254.1094,316.0469 Q255.0469,316.0469 255.7031,315.7969 Q256.0938,315.6406 256.5156,315.2031 Q256.7813,314.9375 256.9219,314.8594 Q257.0781,314.7813 257.2813,314.7813 Q257.6094,314.7813 257.8594,315.0469 Q258.125,315.2969 258.125,315.6406 Q258.125,315.9844 257.7813,316.3906 Q257.2813,316.9688 256.4844,317.2969 Q255.4063,317.75 254.1094,317.75 Q252.5938,317.75 251.3906,317.125 Q250.4063,316.625 249.7188,315.5625 Q249.0313,314.4844 249.0313,313.2031 L249.0313,312.0469 Q249.0313,310.7188 249.6406,309.5781 Q250.2656,308.4219 251.3594,307.8125 Q252.4531,307.1875 253.6875,307.1875 Q254.4219,307.1875 255.0625,307.3594 Q255.7188,307.5156 256.2656,307.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="267.5" y="317.7285">MotorDiesel</text><line style="stroke:#000000;stroke-width:0.5;" x1="239.5" x2="344.5" y1="328" y2="328"></line></g><!--class Vehiculo--><g id="elem_Vehiculo"><rect codeline="13" fill="#FFFAFA" height="75.2188" id="Vehiculo" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="164" x="161" y="7"></rect><ellipse cx="211.75" cy="23" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M213.9375,24.7656 L209.7969,24.7656 L209.375,25.7969 L209.7969,25.7969 Q210.4063,25.7969 210.6719,26.0313 Q210.9375,26.2656 210.9375,26.6563 Q210.9375,27.0313 210.6719,27.2656 Q210.4063,27.5 209.7969,27.5 L207.5,27.5 Q206.8906,27.5 206.6406,27.2656 Q206.375,27.0313 206.375,26.6406 Q206.375,26.2656 206.6563,26.0313 Q206.9219,25.7813 207.5469,25.7969 L210.2188,19.1406 L209.1094,19.1406 Q208.5,19.1406 208.2344,18.9063 Q207.9688,18.6719 207.9688,18.2813 Q207.9688,17.9063 208.2344,17.6719 Q208.5,17.4375 209.1094,17.4375 L212.7813,17.4375 L216.1719,25.7969 Q216.7656,25.7969 216.9531,25.9375 Q217.3438,26.2031 217.3438,26.6563 Q217.3438,27.0313 217.0781,27.2656 Q216.8281,27.5 216.2188,27.5 L213.9219,27.5 Q213.3125,27.5 213.0469,27.2656 Q212.7813,27.0313 212.7813,26.6406 Q212.7813,26.2656 213.0469,26.0313 Q213.3125,25.7969 213.9219,25.7969 L214.3438,25.7969 L213.9375,24.7656 Z M213.2188,23.0625 L211.8594,19.6875 L210.4844,23.0625 L213.2188,23.0625 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="54" x="232.25" y="28.7285">Vehiculo</text><line style="stroke:#000000;stroke-width:0.5;" x1="162" x2="324" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="152" x="167" y="57.5332">+MotorFactory(): Motor;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="167" y="75.1426">+Acelera();</text></g><!--class VehiculoGasolina--><g id="elem_VehiculoGasolina"><rect codeline="19" fill="#FFFAFA" height="57.6094" id="VehiculoGasolina" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="166" x="7" y="160"></rect><ellipse cx="32.8" cy="176" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M35.5656,171.875 Q35.7219,171.6563 35.9094,171.5469 Q36.0969,171.4375 36.3156,171.4375 Q36.6906,171.4375 36.925,171.7031 Q37.1594,171.9531 37.1594,172.5625 L37.1594,174.0156 Q37.1594,174.625 36.925,174.8906 Q36.6906,175.1563 36.3156,175.1563 Q35.9719,175.1563 35.7688,174.9531 Q35.5656,174.7656 35.4563,174.25 Q35.4094,173.8906 35.2219,173.7031 Q34.8938,173.3281 34.2844,173.1094 Q33.675,172.8906 33.05,172.8906 Q32.2844,172.8906 31.6437,173.2188 Q31.0187,173.5469 30.5187,174.2969 Q30.0344,175.0469 30.0344,176.0781 L30.0344,177.1719 Q30.0344,178.4063 30.925,179.2344 Q31.8156,180.0469 33.4094,180.0469 Q34.3469,180.0469 35.0031,179.7969 Q35.3938,179.6406 35.8156,179.2031 Q36.0813,178.9375 36.2219,178.8594 Q36.3781,178.7813 36.5813,178.7813 Q36.9094,178.7813 37.1594,179.0469 Q37.425,179.2969 37.425,179.6406 Q37.425,179.9844 37.0813,180.3906 Q36.5813,180.9688 35.7844,181.2969 Q34.7063,181.75 33.4094,181.75 Q31.8937,181.75 30.6906,181.125 Q29.7062,180.625 29.0187,179.5625 Q28.3312,178.4844 28.3312,177.2031 L28.3312,176.0469 Q28.3312,174.7188 28.9406,173.5781 Q29.5656,172.4219 30.6594,171.8125 Q31.7531,171.1875 32.9875,171.1875 Q33.7219,171.1875 34.3625,171.3594 Q35.0188,171.5156 35.5656,171.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="49.2" y="181.7285">VehiculoGasolina</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="172" y1="192" y2="192"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="13" y="210.5332">+MotorFactory() : Motor;</text></g><!--class VehiculoDiesel--><g id="elem_VehiculoDiesel"><rect codeline="24" fill="#FFFAFA" height="57.6094" id="VehiculoDiesel" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="166" x="313" y="160"></rect><ellipse cx="346.45" cy="176" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M349.2156,171.875 Q349.3719,171.6563 349.5594,171.5469 Q349.7469,171.4375 349.9656,171.4375 Q350.3406,171.4375 350.575,171.7031 Q350.8094,171.9531 350.8094,172.5625 L350.8094,174.0156 Q350.8094,174.625 350.575,174.8906 Q350.3406,175.1563 349.9656,175.1563 Q349.6219,175.1563 349.4188,174.9531 Q349.2156,174.7656 349.1063,174.25 Q349.0594,173.8906 348.8719,173.7031 Q348.5438,173.3281 347.9344,173.1094 Q347.325,172.8906 346.7,172.8906 Q345.9344,172.8906 345.2938,173.2188 Q344.6688,173.5469 344.1688,174.2969 Q343.6844,175.0469 343.6844,176.0781 L343.6844,177.1719 Q343.6844,178.4063 344.575,179.2344 Q345.4656,180.0469 347.0594,180.0469 Q347.9969,180.0469 348.6531,179.7969 Q349.0438,179.6406 349.4656,179.2031 Q349.7313,178.9375 349.8719,178.8594 Q350.0281,178.7813 350.2313,178.7813 Q350.5594,178.7813 350.8094,179.0469 Q351.075,179.2969 351.075,179.6406 Q351.075,179.9844 350.7313,180.3906 Q350.2313,180.9688 349.4344,181.2969 Q348.3563,181.75 347.0594,181.75 Q345.5438,181.75 344.3406,181.125 Q343.3563,180.625 342.6688,179.5625 Q341.9813,178.4844 341.9813,177.2031 L341.9813,176.0469 Q341.9813,174.7188 342.5906,173.5781 Q343.2156,172.4219 344.3094,171.8125 Q345.4031,171.1875 346.6375,171.1875 Q347.3719,171.1875 348.0125,171.3594 Q348.6688,171.5156 349.2156,171.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="364.55" y="181.7285">VehiculoDiesel</text><line style="stroke:#000000;stroke-width:0.5;" x1="314" x2="478" y1="192" y2="192"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="319" y="210.5332">+MotorFactory() : Motor;</text></g><!--reverse link Motor to MotorGasolina--><g id="link_Motor_MotorGasolina"><path d="M214.5939,222.882 C194.2439,246.442 171.76,272.45 151.48,295.93 " fill="none" id="Motor-backto-MotorGasolina" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="226.36,209.26,210.0533,218.96,219.1346,226.8041,226.36,209.26" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Motor to MotorDiesel--><g id="link_Motor_MotorDiesel"><path d="M257.1159,226.0197 C266.3459,249.5797 275.32,272.45 284.52,295.93 " fill="none" id="Motor-backto-MotorDiesel" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="250.55,209.26,251.5293,228.2084,262.7025,223.8311,250.55,209.26" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Vehiculo to VehiculoGasolina--><g id="link_Vehiculo_VehiculoGasolina"><path d="M190.4272,94.4669 C164.3972,118.7069 143.98,137.73 120.09,159.98 " fill="none" id="Vehiculo-backto-VehiculoGasolina" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="203.6,82.2,186.3382,90.076,194.5162,98.8579,203.6,82.2" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Vehiculo to VehiculoDiesel--><g id="link_Vehiculo_VehiculoDiesel"><path d="M296.9858,94.4025 C307.5558,104.0325 305.58,102.31 316,112 C332.83,127.66 351.46,145.34 366.51,159.7 " fill="none" id="Vehiculo-backto-VehiculoDiesel" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="283.68,82.28,292.945,98.8378,301.0267,89.9672,283.68,82.28" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--link Vehiculo to Motor--><g id="link_Vehiculo_Motor"><path codeline="29" d="M243,94.2 C243,121.91 243,140.81 243,162.91 " fill="none" id="Vehiculo-Motor" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="243,82.2,239,88.2,243,94.2,247,88.2,243,82.2" style="stroke:#000000;stroke-width:1.0;"></polygon><polygon fill="#000000" points="243,168.91,247,159.91,243,163.91,239,159.91,243,168.91" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="244" y="126.4951">«Tiene un»</text></g><!--link VehiculoGasolina to MotorGasolina--><g id="link_VehiculoGasolina_MotorGasolina"><path codeline="30" d="M100.1,218.05 C108.65,241.81 118.6477,269.5647 126.1177,290.3147 " fill="none" id="VehiculoGasolina-to-MotorGasolina" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="#000000" points="128.15,295.96,128.8651,286.1371,126.4564,291.2556,121.338,288.8469,128.15,295.96" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="118" y="262.4951">«create»</text></g><!--link VehiculoDiesel to MotorDiesel--><g id="link_VehiculoDiesel_MotorDiesel"><path codeline="31" d="M372.66,218.05 C352.9,241.81 328.937,270.5972 311.677,291.3472 " fill="none" id="VehiculoDiesel-to-MotorDiesel" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="#000000" points="307.84,295.96,316.6706,291.5988,311.0375,292.116,310.5202,286.4829,307.84,295.96" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="348" y="262.4951">«create»</text></g><!--SRC=[bP31Ri8m38RlVeeSOGYqyq2LMgPDEqoQr6axczIYKKCyEQdOXdZt5Kghad9PBedZBr_-n5V6VQ7WJccBtgSXYDdKWLuqkzpyahe7toEf2E_NR5bKPb5NWzPRK-AMicRQ2jUkQB7FqWJATrpHW5sVRifO2fBRiXQ8LBdZFK1f2bBOfVG0kF51K8Sslthbm0A3zJDwjiQXekz0hhX1F1hoPAD-xFsWqkZQCXn0DUFGjOzApSuddfg2vMSoVMWDopCtIpLP4fnCbt04k7QDeaMNH6BLcqUcw0d_y7IekflFatQ_wQzMxuOSgTeb2OpYBXP9zBUd4re80mtuIwYUljHNx1y0]--></g></svg></p><blockquote>
<p>📌 <strong>Nota:</strong> Aunque hemos implementado la generalización de <strong><code>Motor</code></strong> con una <strong>abstracción</strong>. Siempre que sea posible hacerla a través de un <strong>Interfaz</strong> será mejor usar esta última opción.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Motor</span> Motor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-protected">protected</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Motor <span class="token operator">=</span> <span class="token function">MotorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>       
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Motor<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token operator">=&gt;</span> Motor<span class="token punctuation">.</span>Revoluciones<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token return-type class-name">Motor</span> <span class="token function">MotorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">VehiculoGasolina</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name">Motor</span> <span class="token function">MotorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">VehiculoDiesel</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name">Motor</span> <span class="token function">MotorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorDiesel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> NUMERO_VEHICULOS_DE_MI_GARAJE <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token class-name">Vehiculo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> miGaraje <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Vehiculo</span><span class="token punctuation">[</span>NUMERO_VEHICULOS_DE_MI_GARAJE<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> miGaraje<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            miGaraje<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword keyword-switch">switch</span>
            <span class="token punctuation">{</span>
                <span class="token number">0</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoDiesel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                _ <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v <span class="token keyword keyword-in">in</span> miGaraje<span class="token punctuation">)</span> v<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<blockquote>
<p>✋ <strong>Importante:</strong> Si nos fijamos a efectos prácticos seguirá cumpliéndose la composición porque las referencias a motor desaparecerán junto con el vehículo.</p>
</blockquote>
<p>Además:</p>
<ol>
<li>
<p>Cumplimos <strong>DIP</strong> porque la clase de alto nivel <strong><code>Vehículo</code></strong> depende solo de la abstracción <strong><code>Motor</code></strong> y así como las especificaciones de bajo nivel de motor.</p>
</li>
<li>
<p>El '<em>Factory Method</em>' es la que tiene dependencias de uso (<strong><code>&lt;&lt;use&gt;&gt;</code></strong>) con las clases implicadas y se encargara de crear instáncias de los diferentes tipos de vehículos asegurándonos que al desaparecer un vehículo desaparezca su motor.</p>
</li>
<li>
<p>La clase <strong><code>Principal</code></strong> usa las clases subclases '<em>factoría</em>' para instanciar objetos vehículo de forma simple y además podríamos usar esta misma de <strong>forma simple</strong> en nuestros test para crear <strong><a href="https://es.wikipedia.org/wiki/Objeto_simulado">mocks</a></strong> de vehículo para hacer pruebas unitarias.</p>
</li>
<li>
<p>Cumplimos el principio <strong>OCP</strong> porque si añadiésemos un nuevo tipo de motor, las definiciones Vehiculo e Motor no tendríamos que modificarlas (Cerradas para Modificación) y solo tendríamos que definir nuevas concreciones (Abiertas para ampliación). Por ejemplo si añadimos un tipo de motor llamado <strong><code>MotorElectrico</code></strong> tendríamos solo que definir las nuevas concreciones de las abstracciones ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">MotorElectrico</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Motor</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Aumenta intensidad corriente"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">VehiculoElectrico</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name">Motor</span> <span class="token function">MotorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorElectrico</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> NUMERO_VEHICULOS_DE_MI_GARAJE <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token class-name">Vehiculo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> miGaraje <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Vehiculo</span><span class="token punctuation">[</span>NUMERO_VEHICULOS_DE_MI_GARAJE<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> miGaraje<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            miGaraje<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword keyword-switch">switch</span>
            <span class="token punctuation">{</span>
                <span class="token number">0</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoDiesel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token number">1</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoElectrico</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                _ <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v <span class="token keyword keyword-in">in</span> miGaraje<span class="token punctuation">)</span> v<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ol>
<p>Sin embargo, si añadiésemos nuevos componentes al vehículo como por ejemplo neumáticos de varios tipos. Las combinaciones de creación podrían crecer y posiblemente necesitemos definir muchos tipos nuevos a modo de '<em>factoría</em>'. Algo similar a la que nos sucedía con los componentes de ordenador y que solucionamos con un patrón Decorator.</p>
<p>Otro patrón creacional usado sobretodo por programadores de Java para facilitar sus test es el denominado <strong>Builder</strong>.</p>
<div style="page-break-after:always;"></div>
<h4 id="construction_worker-patrón-creacional-fluent-builder">👷 Patrón creacional Fluent Builder </h4>
<p>Existe un <a href="https://www.dofactory.com/net/builder-design-pattern">Classical Builder Pattern</a> pero es este caso vamos a implementar una versión más simplificada e incluso más usada, sobre todo entre programadores de Java, que nos hará tener una mejor idea de la utilidad del patrón.</p>
<p>Supongamos como comentábamos, que queremos añadir neumáticos a nuestros vehículos. Podemos definir la siguiente abstracción de los datos de un neumático con sus abstracciones...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">INeumaticos</span>
<span class="token punctuation">{</span>
    <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> IndiceVelocidad <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> IndiceCarga <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Radio <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Perfil <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">NeumaticosNormal</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">INeumaticos</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> IndiceVelocidad <span class="token operator">=&gt;</span> <span class="token string">"H"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> IndiceCarga <span class="token operator">=&gt;</span> <span class="token number">88</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Radio <span class="token operator">=&gt;</span> <span class="token number">16</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Perfil <span class="token operator">=&gt;</span> <span class="token number">55</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token operator">=&gt;</span> <span class="token number">205</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">NeumaticosSport</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">INeumaticos</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> IndiceVelocidad <span class="token operator">=&gt;</span> <span class="token string">"Y"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> IndiceCarga <span class="token operator">=&gt;</span> <span class="token number">92</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Radio <span class="token operator">=&gt;</span> <span class="token number">18</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Perfil <span class="token operator">=&gt;</span> <span class="token number">40</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token operator">=&gt;</span> <span class="token number">225</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Vamos a modificar la definición de vehículo.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Motor</span> Motor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">INeumaticos</span> Neumaticos <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token class-name">Motor</span> motor<span class="token punctuation">,</span> <span class="token class-name">INeumaticos</span> neumaticos<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Motor <span class="token operator">=</span> motor<span class="token punctuation">;</span>
        Neumaticos <span class="token operator">=</span> neumaticos<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Motor<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token operator">=&gt;</span> Motor<span class="token punctuation">.</span>Revoluciones<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Fíjate que <strong>ya no es una clase abstracta</strong> y que además el constructor tiene más sentido al recibir las abstracciones para cumplir <strong>DIP</strong>. Es una clase más simple y sin definir métodos raros fuera de su '<em>responsabilidad</em>'.</p>
<p>Definiremos ahora una clase <strong><code>Builder</code></strong> a modo de '<em>obrero de la consrtrucción</em>' a la que le iremos pasando los componentes para ensamblar un determinado tipo de vehículo. Dicha clase le podemos llamar <strong><code>VehiculoBuilder</code></strong></p>
<div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">VehiculoBuilder</span>
<span class="token punctuation">{</span>    
    <span class="token comment">// Debe definir propiedades autoimplementadas con los campos o </span>
    <span class="token comment">// 'piezas' que necesita el 'obrero' para ensamblar un objeto de tipo vehículo.</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Motor</span> Motor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">INeumaticos</span> Neumaticos <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token comment">// Definimos Setters para cada una de las piezas pero de con un</span>
    <span class="token comment">// interfaz fluído, para facilitar la sintáxis de construcción.</span>
    <span class="token comment">// Es la forma en que le pasamos al 'obrero' las piezas necesarias para ensamplar el vehículo.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">VehiculoBuilder</span> <span class="token function">SetMotor</span><span class="token punctuation">(</span><span class="token class-name">Motor</span> m<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Motor <span class="token operator">=</span> m<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">VehiculoBuilder</span> <span class="token function">SetNeumaticos</span><span class="token punctuation">(</span><span class="token class-name">INeumaticos</span> n<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Neumaticos <span class="token operator">=</span> n<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Por último, definiremos un métod llamado Build() que devulverá un objeto vehículo creado.</span>
    <span class="token comment">// Fíjate que si no está definido uno de los compoenentes o piezas del vehículo, </span>
    <span class="token comment">// el obrero creará una por defecto o que puede definirse en función de las otras. </span>
    <span class="token comment">// Por ejemplo, podríamos decidir que si el motor es gasolina y no me han </span>
    <span class="token comment">// definido los neumáticos, podría montar por defecto neumáticos sport para ese tipo de motor.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Vehiculo</span> <span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Vehiculo</span><span class="token punctuation">(</span>
            Motor <span class="token operator">??</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Neumaticos <span class="token operator">??</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NeumaticosNormal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Ahora crear, difenetes combinaciones de vhículos sería bastante simple e intuitiva.</p>
<pre data-role="codeBlock" data-info="csharp {class=&quot;line-numbers&quot;}" class="language-csharp csharp line-numbers"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definimos el 'obrero que va a construir los vehículos'.</span>
    <span class="token class-name">VehiculoBuilder</span> builder <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 👷</span>

    <span class="token comment">// Creamos un vehículo con motor de gasolína y neumáticos sport.</span>
    <span class="token class-name">Vehiculo</span> gasolinaSport  <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">SetMotor</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                     <span class="token punctuation">.</span><span class="token function">SetNeumaticos</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NeumaticosSport</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                     <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Le cambiamos el componente de neumáticos a obrero para que ahora</span>
    <span class="token comment">// me haga un vehículo con motor de gasolína y neumáticos normales. </span>
    <span class="token class-name">Vehiculo</span> gasolinaNormal <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">SetNeumaticos</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NeumaticosNormal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                     <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>Si te fijas bien en el código, podremos definir todas las combinaciones de motor y neumático que queramos, simplemente definiendo nuesvas concreciones y sin tener que definir una factoría específica de la combinación. Además cumpliremos <strong>OCP</strong> y <strong>DIP</strong> ya que al definir nuevos tipos de neumático o motor no tendremos que redefinir la clase <strong><code>Vehículo</code></strong>, ni niguna de los '<em>ensamblajes</em>' de vehículos ya creadas.</p>
<blockquote>
<p>📌 <strong>Nota:</strong> Esta sería una versión muy simplificada del patron '<em>Fluent Builder</em>' para que entendamos la idea. Exsiten otras propuestas de implementación donde el builder solo puede construir un objeto y además el set de los diferentes componentes del mismo está formazo ha hacerse y además en un determinado orden. De esa forma no podemos dejar ningún componente con un valor por defecto como en nuestra propuesta.</p>
</blockquote>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>