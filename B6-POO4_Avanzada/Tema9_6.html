<!DOCTYPE html><html><head>
      <title>Tema 9.6 Principios SOLID</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v19/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
.markdown-preview.markdown-preview .caso_estudio {
  background-color: #f5f5f5;
  border: 2px solid #969696;
  padding: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .ejercicio {
  background-color: #f5faf5;
  border: 2px solid #969b96;
  padding-left: 15px;
  padding-right: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.markdown-preview.markdown-preview .fondo {
  background: url(https://programacioniesbalmis.github.io/Imagenes/BannersMoodle/banner.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.markdown-preview.markdown-preview .cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.markdown-preview.markdown-preview .abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.markdown-preview.markdown-preview .cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.markdown-preview.markdown-preview .autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
.markdown-preview.markdown-preview .flotante {
  display: flex;
  justify-content: space-between;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: row;
  }
}
.markdown-preview.markdown-preview .flotante_izq {
  margin-right: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: auto;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: auto;
  }
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="tema-96">Tema 9.6 </h1>
<p>Descargar estos apuntes en <a href="./Tema9_6.pdf">pdf</a> o <a href="./Tema9_6.html">html</a></p>
<h2 id="índice">Índice </h2>

<div class="md-toc">
<details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#principios-solid" class="md-toc-link"><p>Principios SOLID</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#conceptos-básicos" class="md-toc-link">
            <p>Conceptos básicos</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#s--principio-de-responsabilidad-simple-srp" class="md-toc-link">
            <p>S → Principio de responsabilidad simple (SRP)</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#o--principio-de-abiertocerrado-ocp" class="md-toc-link">
            <p>O → Principio de Abierto/Cerrado (OCP)</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#l--liskov-substitution-principle-lsp" class="md-toc-link">
            <p>L → Liskov Substitution Principle (LSP)</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#i--principio-de-segregación-de-interfaces-isp" class="md-toc-link">
            <p>I → Principio de Segregación de Interfaces (ISP)</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#d--principio-de-inversión-de-dependencias-dip" class="md-toc-link"><p>D → Principio de Inversión de Dependencias (DIP)</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#factory-patrón-creacional-factory-method" class="md-toc-link">
            <p>🏭 Patrón creacional Factory Method</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#construction_worker-patrón-creacional-fluent-builder" class="md-toc-link">
            <p>👷 Patrón creacional Fluent Builder</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    
</div>
<div style="page-break-after:always;"></div>
<h2 id="principios-solid">Principios SOLID </h2>
<h3 id="conceptos-básicos">Conceptos básicos </h3>
<ul>
<li>La experiencia en el desarrolló usando el paradigma POO, dio lugar a cinco reglas que todo desarrollador OO debería seguir para crear un sistema que sea <strong>fácil de mantener</strong> y <strong>escalable</strong> a través del tiempo.</li>
<li>Estas <strong>cinco reglas</strong> son conocidas como los principios <strong>SOLID</strong> y las vamos a enumerar a continuación.</li>
<li>Algunas ya las hemos visto indirectamente durante el curso.</li>
</ul>
<p align="center" style="zoom:1" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="210px" preserveAspectRatio="none" style="width:852px;height:210px;background:#FFFFFF;" version="1.1" viewBox="0 0 852 210" width="852px" zoomAndPan="magnify"><defs></defs><g><rect fill="#4169E1" height="158.7891" rx="12.5" ry="12.5" style="stroke:none;stroke-width:1.5;" width="118" x="10" y="25"></rect><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="9" x="64.5" y="53.1318">S</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="25" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="33" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="41" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="49" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="57" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="65" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="73" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="81" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="89" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="97" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="105" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="67" y="85.3291">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="28" x="55" y="101.4277">SRP</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="67" y="117.5264">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="39" x="49.5" y="133.625">Single</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="87" x="25.5" y="149.7236">Responsibility</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54" x="42" y="165.8223">Principle</text><rect fill="#6495ED" height="158.7891" rx="12.5" ry="12.5" style="stroke:none;stroke-width:1.5;" width="118" x="188" y="25"></rect><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="11" x="241.5" y="53.1318">O</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="203" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="211" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="219" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="227" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="235" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="243" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="251" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="259" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="267" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="275" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="283" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="245" y="85.3291">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="30" x="232" y="101.4277">OCP</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="245" y="117.5264">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="35" x="229.5" y="133.625">Open</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="44" x="225" y="149.7236">Closed</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54" x="220" y="165.8223">Principle</text><rect fill="#4169E1" height="158.7891" rx="12.5" ry="12.5" style="stroke:none;stroke-width:1.5;" width="118" x="366" y="25"></rect><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="8" x="421" y="53.1318">L</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="381" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="389" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="397" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="405" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="413" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="421" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="429" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="437" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="445" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="453" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="461" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="423" y="85.3291">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="26" x="412" y="101.4277">LSP</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="423" y="117.5264">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="40" x="405" y="133.625">Liskov</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="74" x="388" y="149.7236">Substitution</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54" x="398" y="165.8223">Principle</text><rect fill="#6495ED" height="158.7891" rx="12.5" ry="12.5" style="stroke:none;stroke-width:1.5;" width="118" x="544" y="25"></rect><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="4" x="601" y="53.1318">I</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="559" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="567" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="575" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="583" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="591" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="599" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="607" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="615" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="623" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="631" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="639" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="601" y="85.3291">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="22" x="592" y="101.4277">ISP</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="601" y="117.5264">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="55" x="575.5" y="133.625">Interface</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="77" x="564.5" y="149.7236">Segregation</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54" x="576" y="165.8223">Principle</text><rect fill="#4169E1" height="158.7891" rx="12.5" ry="12.5" style="stroke:none;stroke-width:1.5;" width="118" x="722" y="25"></rect><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="10" x="776" y="53.1318">D</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="737" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="745" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="753" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="761" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="769" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="777" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="785" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="793" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="801" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="809" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="8" x="817" y="69.2305">_</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="779" y="85.3291">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="23" x="769.5" y="101.4277">DIP</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="4" x="779" y="117.5264">&nbsp;</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="80" x="741" y="133.625">Dependency</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="57" x="752.5" y="149.7236">Inversion</text><text fill="#FFFFFF" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54" x="754" y="165.8223">Principle</text><!--SRC=[fPDHRnen3CVVyoaixQMDr0uOdIPKJMqvw637G1pjoswQmfqvh0O79JagElMxBuSEjh4zZJn4YktOlpZ-tpYlh5yHvokr5XeN7hm1IyNIGquMCq-6nRNpMuqVHHqNaIgiMi4F0M75n9WPRInugzYjbKNsEq_ViF-YLWYtbfG-cBgxuESbUJpO4df1QBPtPpOvrhchDL5vJbn0y-fW6YbR4Fzk-MGilOGyIjzgAdWL420B6zf3o9tAdkwjAJa_1dWLh-BwRVr68R- -iMQhz5oN-As-AsKYPShV_s-bd7B8C9rKEL9EmciqfZn5jpRiQ4wQ_3RbYINEQArHoC2G6SiBRPxH7a2a79zCCUxM5ECrXhshZSFypzf_Dq3A-EJ2SL8NZiazcKtAa9HpvycNrOZ14SA_6Y3bu6IAmPvYKCt6GcNX7n8iB1QgmZYcE6w5bD792D6WHeWmV46Ed6qhd0rQTqGWRe9_hqqnqOhzmoY6EXAQbwr6gttvxcosBA6Fyw07Q3KwxKQdSGNTtWmgzxaukv_4u4nfCmoITjxIVDVoSp5K6mNJaZsji0FLG0oZpti3z7X3rkoa98QFery1xziNT-GXGHj8u74a8boeKljm8pELL3lmCEjVV12nug9KHSYDJdI3yhpTTg2N_0G0]--></g></svg></p><h3 id="s--principio-de-responsabilidad-simple-srp">S → Principio de responsabilidad simple (SRP) </h3>
<blockquote>
<p><strong>Definición:</strong> Descrito por <strong>Robert C. Martin</strong>. Este principio establece que un componente del software (método, clase o módulo) debe estar centrado en una <strong>única tarea</strong> (tener solo una responsabilidad).</p>
</blockquote>
<p>Cómo ocurría en programación modular, que si un módulo hacía más de una cosa genera acoplamiento. Lo mismo sucederá con nuestras clases.</p>
<blockquote>
<p>✋ <strong>Importante:</strong> No siempre es tan obvio su incumplimiento. Por eso, siempre que añadamos un método a una clase deberemos pensar si realmente debería ir en la misma o realmente se está convirtiendo en un <strong>'<em>Cajón Desastre</em>'</strong>.</p>
</blockquote>
<p>Vemos cómo '<strong>darnos cuenta</strong>' de su incumplimiento a través de un par de ejemplos...</p>
<ol>
<li>
<p>Supongamos la siguiente clase <strong><code>Rectangulo</code></strong> donde hemos añadido dos métodos de utilidad sobre un conjunto de objetos de la clase.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Rectangulo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Alto <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Ancho <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Rectangulo</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-double">double</span></span> alto<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-double">double</span></span> ancho<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Alto <span class="token operator">=</span> alto<span class="token punctuation">;</span>
        Ancho <span class="token operator">=</span> ancho<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-double">double</span> SumaÁ<span class="token function">reas</span><span class="token punctuation">(</span><span class="token class-name">Rectangle<span class="token punctuation">[</span><span class="token punctuation">]</span></span> Rectangulos<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-double">double</span> SumaPerí<span class="token function">metros</span><span class="token punctuation">(</span><span class="token class-name">Rectangle<span class="token punctuation">[</span><span class="token punctuation">]</span></span> Rectangulos<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div style="page-break-after:always;"></div>
<p>Por algún tipo de requerimiento, estos sumatorios han acabado formando parte de nuestra lógica de la aplicación. En principio, podríamos pensar que como la única clase que interviene es <strong><code>Rectangulo</code></strong> y además, vamos a realizar operaciones de utilidad sobre un conjunto de objetos de este tipo, su lugar más apropiado sería la clase <strong><code>Rectangulo</code></strong>. Además, muchas veces al programar somos '<em>vagos</em>' y hacemos la opción más rápida y simple '<em>sin pensar</em>'.</p>
<p>Sin embargo, estas operaciones no forman parte de la lógica que podría tener un Rectangulo en la vida real, esto es, no definen operaciones sobre un objeto <strong><code>Rectangulo</code></strong>. Una pista importante, es que en lugar de uno solo Rectangulo, al método llegan un conjunto de ellos y eso nos debería <strong>'<em>chirriar</em>'</strong>. Es más, si fuera una operación sobre un solo objeto Rectangulo, no tendría sentido que fuera un método de clase sino uno de 'instancia' de un determinado Rectangulo.</p>
<p>Para cumplir con el principio, quitamos la funcionalidad de sumatorios de la clase <strong><code>Rectangulo</code></strong> e introducimos un par de clases encargadas de realizar las operaciones sobre el los conjuntos de Rectangulos, una posible implementación podría ser la siguiente...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">CalculosSobreAreas</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Suma</span><span class="token punctuation">(</span><span class="token class-name">Rectangulo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> Rectangulos<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">CalculoSobrePerimetros</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> <span class="token function">Suma</span><span class="token punctuation">(</span><span class="token class-name">Rectangulo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> Rectangulos<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Entonces así cada clase tiene una sola responsabilidad: una representa un Rectangulo y las otras se encargan de hacer operaciones relacionadas con ellos.</p>
</li>
<li>
<p>Veamos otro ejemplo sutil, pero interesante de la aplicación de este principio ...</p>
<p>Supongamos que el estado de un objeto persona queremos formatearlo a cadena de diferentes formas para representarlo en diferentes sitios.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Persona</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-short">short</span></span> Edad <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">FomateaALinea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Nombre</span><span class="token punctuation">}</span></span><span class="token string">, Edad: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Edad</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">FomateaATabla</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token string">"Nombre"</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token string">"Edad"</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token string">\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Nombre<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Edad<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Aparentemente no debería haber problema porque <strong>esta vez parecen operaciones sobre objetos de la clase</strong> y además acceden a la propiedades del mismo. Pero, la clase puede empezar a ser <strong>'<em>pesada</em>'</strong> si, por requerimientos del cliente, tendremos que añadir muchos métodos de Formato y por tanto de alguna manera también estaríamos incumpliendo este principio.</p>
<p>Una posibilidad, sería llevanos la responsabilidad del formateo a otras clases haciendo más <strong>'<em>liviana</em>'</strong> de la siguiente manera...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">FomateaPersonaATabla</span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Persona</span> Persona<span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">FomateaPersonaATabla</span><span class="token punctuation">(</span><span class="token class-name">Persona</span> persona<span class="token punctuation">)</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token string">"Nombre"</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token string">"Edad"</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token string">\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Persona<span class="token punctuation">.</span>Nombre<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Persona<span class="token punctuation">.</span>Edad<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">FomateaPersonaALinea</span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Persona</span> Persona <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">FomateaPersonaALinea</span><span class="token punctuation">(</span><span class="token class-name">Persona</span> persona<span class="token punctuation">)</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token interpolation-string"><span class="token string">$"Nombre: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Persona<span class="token punctuation">.</span>Nombre</span><span class="token punctuation">}</span></span><span class="token string">, Edad: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Persona<span class="token punctuation">.</span>Edad</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>               
</code></pre></li>
</ol>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">SRP is one of the more important concept in OO design. It’s also one of the simpler concepts to understand and adhere to. Yet oddly, SRP is often the most abused class design principle.</div>
        <div class="autor">- Robert C. Martin</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<h3 id="o--principio-de-abiertocerrado-ocp">O → Principio de Abierto/Cerrado (OCP) </h3>
<blockquote>
<p><strong>Definición:</strong> Establece que el diseño debe ser <strong>abierto para poderse extender</strong>, pero <strong>cerrado para poderse modificar</strong>.</p>
</blockquote>
<p>En otras palabras, el Software debe ser diseñado pensando en el crecimiento de la aplicación, pero <strong>el nuevo código debe requerir el menor número de cambios en el código existente</strong>. Otra forma simple de expresarlo podría sere: '<em>Abierto a lo nuevo, cerrado para lo viejo</em>'.</p>
<p>Formas de aplicarlo en POO:</p>
<ol>
<li>El <strong>uso más común</strong> de extensión es <strong>mediante el mecanismo de herencia y la invalidación</strong> o sobreescritura de métodos.</li>
<li>Utilizando una <strong>abstracción</strong>, por ejemplo utilizando métodos que acepten una <strong>interface</strong>, de manera que podemos pasar cualquier clase que lo implemente.</li>
<li>Usando el Patrón <strong>Decorator</strong> cómo vimos en el tema y salida por ejemplo cuando vimos el '<em>decorator</em>' <strong><code>BufferedStream</code></strong> sobre un <strong><code>FileStream</code></strong>. De esta manera podremos añadir futuros '<em>decoradores</em>' sin modificar la clase original.</li>
</ol>
<p>Vamos a ver a través de un <strong>ejemplo</strong> como aplicar diferentes estrategias.<br>
Supongamos que realizamos la siguiente abstracción de ordenador para tener el coste de diferentes configuraciones de ordenadores.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">OrdenadorB</span>ásico
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Procesador <span class="token operator">=&gt;</span> <span class="token number">56D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> HDD <span class="token operator">=&gt;</span> <span class="token number">30D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-double">double</span> Gráfica <span class="token operator">=&gt;</span> <span class="token number">41.99D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> RAM <span class="token operator">=&gt;</span> <span class="token number">23.5D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> Procesador <span class="token operator">+</span> HDD <span class="token operator">+</span> Gráfica <span class="token operator">+</span> RAM<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">OrdenadorOficina</span> <span class="token punctuation">:</span> OrdenadorBásico
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Procesador <span class="token operator">=&gt;</span> <span class="token number">100D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> HDD <span class="token operator">=&gt;</span> <span class="token number">150D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-double">double</span> Gráfica <span class="token operator">=&gt;</span> <span class="token number">110D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> RAM <span class="token operator">=&gt;</span> <span class="token number">90D</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Podríamos extender nuevas configuraciones además de <strong><code>OrdenadorOficina</code></strong> tales como: <strong><code>OrdenadorGammer</code></strong>, <strong><code>OrdenadorServidor</code></strong> y así todas las que se nos ocurran en el futuro.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    OrdenadorBá<span class="token class-name">sico</span> setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">OrdenadorOficina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">setup<span class="token punctuation">.</span>Precio</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Hasta aquí podemos decir que estamos cumpliendo <strong>OCP</strong>, ya que si queremos combinar otros precios solo tenemos que heredar de <strong><code>OrdenadorBásico</code></strong>. Sin embargo, nuestras configuraciones solo admiten <strong>4 componentes básicos</strong> y si quisiéramos definir modelos con algún componente nuevo en forma de propiedad como <strong><code>Refrigeración</code></strong>. <strong>¿Cómo lo haríamos?</strong></p>
<p>Bueno pues aplicando herencia, invalidaciones y ligadura dinámica de la siguiente forma...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">OrdenadorGamming</span> <span class="token punctuation">:</span> OrdenadorBásico
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Procesador <span class="token operator">=&gt;</span> <span class="token number">360D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> HDD <span class="token operator">=&gt;</span> <span class="token number">255.20D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-double">double</span> Gráfica <span class="token operator">=&gt;</span> <span class="token number">120D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> RAM <span class="token operator">=&gt;</span> <span class="token number">110D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-double">double</span> Refrigeración <span class="token operator">=&gt;</span> <span class="token number">90D</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Precio <span class="token operator">+</span> Refrigeración<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    OrdenadorBá<span class="token class-name">sico</span> setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">OrdenadorOficina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">setup<span class="token punctuation">.</span>Precio</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">OrdenadorGamming</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">setup<span class="token punctuation">.</span>Precio</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><blockquote>
<p>✋ <strong>Importante:</strong> Seguimos teniendo la clase <strong><code>OrdenadorBásico</code></strong> '<em>cerrada</em>' a la modificación, pero en ocasiones esta estrategia puede ser poco '<em>flexible</em>', sobre todo en casos en que las combinaciones posibles son muchísimas y nos obligarían a crear muchas de extensiones de funcionalidad. En nuestro ejemplo, no hemos contemplado que la cantidad de componentes posibles es enorme y puede darnos lugar a decenas de definiciones para nuestras configuraciones.</p>
</blockquote>
<p>En ese caso una alternativa más <strong>'<em>flexible</em>'</strong>, sería usar una versión del <strong>Patrón Decorator</strong>.</p>
<blockquote>
<p>📌 <strong>Nota:</strong> La idea de este ejemplo, <strong>no es aprendernos el patrón</strong>, sino más bien ver una forma nueva de extender la funcionalidad de una clase ya dada y ver posibles usos de interfaces y tipos abstractos..</p>
</blockquote>
<p>Su esquema básico sería el siguiente...</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="199.8px" preserveAspectRatio="none" style="width:748px;height:199px;background:#FFFFFF;" version="1.1" viewBox="0 0 748 199" width="748.2px" zoomAndPan="magnify"><defs></defs><g><!--class IOrdenador--><g id="elem_IOrdenador"><rect codeline="11" fill="#FFFAFA" height="34.5656" id="IOrdenador" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="88.2" x="418.5" y="4.2"></rect><ellipse cx="438.84" cy="13.8" fill="#B4A7E5" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"></ellipse><path d="M439.4119,11.7844 L439.4119,15.7781 L440.4431,15.7781 Q440.8088,15.7781 440.9681,15.9188 Q441.1275,16.0594 441.1275,16.2938 Q441.1275,16.5188 440.9681,16.6594 Q440.8088,16.8 440.4431,16.8 L437.3588,16.8 Q436.9931,16.8 436.8337,16.6594 Q436.6744,16.5188 436.6744,16.2844 Q436.6744,16.0594 436.8337,15.9188 Q436.9931,15.7781 437.3588,15.7781 L438.39,15.7781 L438.39,11.7844 L437.3588,11.7844 Q436.9931,11.7844 436.8337,11.6437 Q436.6744,11.5031 436.6744,11.2687 Q436.6744,11.0438 436.8337,10.9031 Q436.9931,10.7625 437.3588,10.7625 L440.4431,10.7625 Q440.8088,10.7625 440.9681,10.9031 Q441.1275,11.0438 441.1275,11.2687 Q441.1275,11.5031 440.9681,11.6437 Q440.8088,11.7844 440.4431,11.7844 L439.4119,11.7844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="43.8" x="449.76" y="17.2371">IOrdenador</text><line style="stroke:#000000;stroke-width:0.3;" x1="419.1" x2="506.1" y1="23.4" y2="23.4"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="81" x="422.1" y="34.5199">Precio : double «get»</text></g><!--class ComponenteOrdenador--><g id="elem_ComponenteOrdenador"><rect codeline="14" fill="#FFFAFA" height="34.5656" id="ComponenteOrdenador" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="109.2" x="408" y="75"></rect><ellipse cx="417" cy="84.6" fill="#A9DCDF" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"></ellipse><path d="M418.3125,85.6594 L415.8281,85.6594 L415.575,86.2781 L415.8281,86.2781 Q416.1937,86.2781 416.3531,86.4188 Q416.5125,86.5594 416.5125,86.7938 Q416.5125,87.0188 416.3531,87.1594 Q416.1937,87.3 415.8281,87.3 L414.45,87.3 Q414.0844,87.3 413.9344,87.1594 Q413.775,87.0188 413.775,86.7844 Q413.775,86.5594 413.9437,86.4188 Q414.1031,86.2688 414.4781,86.2781 L416.0813,82.2844 L415.4156,82.2844 Q415.05,82.2844 414.8906,82.1438 Q414.7313,82.0031 414.7313,81.7688 Q414.7313,81.5438 414.8906,81.4031 Q415.05,81.2625 415.4156,81.2625 L417.6188,81.2625 L419.6531,86.2781 Q420.0094,86.2781 420.1219,86.3625 Q420.3563,86.5219 420.3563,86.7938 Q420.3563,87.0188 420.1969,87.1594 Q420.0469,87.3 419.6813,87.3 L418.3031,87.3 Q417.9375,87.3 417.7781,87.1594 Q417.6188,87.0188 417.6188,86.7844 Q417.6188,86.5594 417.7781,86.4188 Q417.9375,86.2781 418.3031,86.2781 L418.5563,86.2781 L418.3125,85.6594 Z M417.8812,84.6375 L417.0656,82.6125 L416.2406,84.6375 L417.8812,84.6375 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="90" x="425.4" y="88.0371">ComponenteOrdenador</text><line style="stroke:#000000;stroke-width:0.3;" x1="408.6" x2="516.6" y1="94.2" y2="94.2"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="85.8" x="411.6" y="105.3199">+Precio : double «get»</text></g><!--class CompHDDEspec?fico--><g id="elem_CompHDDEspecífico"><rect codeline="17" fill="#FFFAFA" height="49.9313" id="CompHDDEspecífico" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="201.6" x="4.2" y="145.8"></rect><ellipse cx="63.45" cy="155.4" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"></ellipse><path d="M65.1094,152.925 Q65.2031,152.7938 65.3156,152.7281 Q65.4281,152.6625 65.5594,152.6625 Q65.7844,152.6625 65.925,152.8219 Q66.0656,152.9719 66.0656,153.3375 L66.0656,154.2094 Q66.0656,154.575 65.925,154.7344 Q65.7844,154.8937 65.5594,154.8937 Q65.3531,154.8937 65.2313,154.7719 Q65.1094,154.6594 65.0438,154.35 Q65.0156,154.1344 64.9031,154.0219 Q64.7063,153.7969 64.3406,153.6656 Q63.975,153.5344 63.6,153.5344 Q63.1406,153.5344 62.7562,153.7313 Q62.3812,153.9281 62.0813,154.3781 Q61.7906,154.8281 61.7906,155.4469 L61.7906,156.1031 Q61.7906,156.8438 62.325,157.3406 Q62.8594,157.8281 63.8156,157.8281 Q64.3781,157.8281 64.7719,157.6781 Q65.0063,157.5844 65.2594,157.3219 Q65.4188,157.1625 65.5031,157.1156 Q65.5969,157.0688 65.7188,157.0688 Q65.9156,157.0688 66.0656,157.2281 Q66.225,157.3781 66.225,157.5844 Q66.225,157.7906 66.0188,158.0344 Q65.7188,158.3813 65.2406,158.5781 Q64.5938,158.85 63.8156,158.85 Q62.9063,158.85 62.1844,158.475 Q61.5938,158.175 61.1813,157.5375 Q60.7688,156.8906 60.7688,156.1219 L60.7688,155.4281 Q60.7688,154.6313 61.1344,153.9469 Q61.5094,153.2531 62.1656,152.8875 Q62.8219,152.5125 63.5625,152.5125 Q64.0031,152.5125 64.3875,152.6156 Q64.7813,152.7094 65.1094,152.925 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="78" x="75.75" y="158.8371">CompHDDEspecífico</text><line style="stroke:#000000;stroke-width:0.3;" x1="4.8" x2="205.2" y1="165" y2="165"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="88.8" x="7.8" y="176.1199">+^Precio : double «get»</text><line style="stroke:#000000;stroke-width:0.3;" x1="4.8" x2="205.2" y1="180.3656" y2="180.3656"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="194.4" x="7.8" y="191.4855">+CompHDDEspecífico(in configuracion:IOrdenador)</text></g><!--class CompProcesadorEspec?fico--><g id="elem_CompProcesadorEspecífico"><rect codeline="21" fill="#FFFAFA" height="49.9313" id="CompProcesadorEspecífico" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="228" x="226.8" y="145.8"></rect><ellipse cx="286.05" cy="155.4" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"></ellipse><path d="M287.7094,152.925 Q287.8031,152.7938 287.9156,152.7281 Q288.0281,152.6625 288.1594,152.6625 Q288.3844,152.6625 288.525,152.8219 Q288.6656,152.9719 288.6656,153.3375 L288.6656,154.2094 Q288.6656,154.575 288.525,154.7344 Q288.3844,154.8937 288.1594,154.8937 Q287.9531,154.8937 287.8313,154.7719 Q287.7094,154.6594 287.6438,154.35 Q287.6156,154.1344 287.5031,154.0219 Q287.3063,153.7969 286.9406,153.6656 Q286.575,153.5344 286.2,153.5344 Q285.7406,153.5344 285.3563,153.7313 Q284.9813,153.9281 284.6813,154.3781 Q284.3906,154.8281 284.3906,155.4469 L284.3906,156.1031 Q284.3906,156.8438 284.925,157.3406 Q285.4594,157.8281 286.4156,157.8281 Q286.9781,157.8281 287.3719,157.6781 Q287.6063,157.5844 287.8594,157.3219 Q288.0188,157.1625 288.1031,157.1156 Q288.1969,157.0688 288.3187,157.0688 Q288.5156,157.0688 288.6656,157.2281 Q288.825,157.3781 288.825,157.5844 Q288.825,157.7906 288.6188,158.0344 Q288.3187,158.3813 287.8406,158.5781 Q287.1937,158.85 286.4156,158.85 Q285.5062,158.85 284.7844,158.475 Q284.1937,158.175 283.7813,157.5375 Q283.3688,156.8906 283.3688,156.1219 L283.3688,155.4281 Q283.3688,154.6313 283.7344,153.9469 Q284.1094,153.2531 284.7656,152.8875 Q285.4219,152.5125 286.1625,152.5125 Q286.6031,152.5125 286.9875,152.6156 Q287.3812,152.7094 287.7094,152.925 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="104.4" x="298.35" y="158.8371">CompProcesadorEspecífico</text><line style="stroke:#000000;stroke-width:0.3;" x1="227.4" x2="454.2" y1="165" y2="165"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="88.8" x="230.4" y="176.1199">+^Precio : double «get»</text><line style="stroke:#000000;stroke-width:0.3;" x1="227.4" x2="454.2" y1="180.3656" y2="180.3656"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="220.8" x="230.4" y="191.4855">+CompProcesadorEspecífico(in configuracion:IOrdenador)</text></g><!--class CompMemoriaEspec?fico--><g id="elem_CompMemoriaEspecífico"><rect codeline="25" fill="#FFFAFA" height="49.9313" id="CompMemoriaEspecífico" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="216.6" x="476.1" y="145.8"></rect><ellipse cx="535.35" cy="155.4" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"></ellipse><path d="M537.0094,152.925 Q537.1031,152.7938 537.2156,152.7281 Q537.3281,152.6625 537.4594,152.6625 Q537.6844,152.6625 537.825,152.8219 Q537.9656,152.9719 537.9656,153.3375 L537.9656,154.2094 Q537.9656,154.575 537.825,154.7344 Q537.6844,154.8937 537.4594,154.8937 Q537.2531,154.8937 537.1313,154.7719 Q537.0094,154.6594 536.9438,154.35 Q536.9156,154.1344 536.8031,154.0219 Q536.6062,153.7969 536.2406,153.6656 Q535.875,153.5344 535.5,153.5344 Q535.0406,153.5344 534.6563,153.7313 Q534.2813,153.9281 533.9812,154.3781 Q533.6906,154.8281 533.6906,155.4469 L533.6906,156.1031 Q533.6906,156.8438 534.225,157.3406 Q534.7594,157.8281 535.7156,157.8281 Q536.2781,157.8281 536.6719,157.6781 Q536.9063,157.5844 537.1594,157.3219 Q537.3188,157.1625 537.4031,157.1156 Q537.4969,157.0688 537.6188,157.0688 Q537.8156,157.0688 537.9656,157.2281 Q538.125,157.3781 538.125,157.5844 Q538.125,157.7906 537.9187,158.0344 Q537.6188,158.3813 537.1406,158.5781 Q536.4938,158.85 535.7156,158.85 Q534.8063,158.85 534.0844,158.475 Q533.4938,158.175 533.0813,157.5375 Q532.6687,156.8906 532.6687,156.1219 L532.6687,155.4281 Q532.6687,154.6313 533.0344,153.9469 Q533.4094,153.2531 534.0656,152.8875 Q534.7219,152.5125 535.4625,152.5125 Q535.9031,152.5125 536.2875,152.6156 Q536.6813,152.7094 537.0094,152.925 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="93" x="547.65" y="158.8371">CompMemoriaEspecífico</text><line style="stroke:#000000;stroke-width:0.3;" x1="476.7" x2="692.1" y1="165" y2="165"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="88.8" x="479.7" y="176.1199">+^Precio : double «get»</text><line style="stroke:#000000;stroke-width:0.3;" x1="476.7" x2="692.1" y1="180.3656" y2="180.3656"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="209.4" x="479.7" y="191.4855">+CompMemoriaEspecífico(in configuracion:IOrdenador)</text></g><!--class OrdenadorVacio--><g id="elem_OrdenadorVacio"><rect codeline="29" fill="#FFFAFA" height="34.5656" id="OrdenadorVacio" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="93" x="538.5" y="75"></rect><ellipse cx="552.63" cy="84.6" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"></ellipse><path d="M554.2894,82.125 Q554.3831,81.9937 554.4956,81.9281 Q554.6081,81.8625 554.7394,81.8625 Q554.9644,81.8625 555.105,82.0219 Q555.2456,82.1719 555.2456,82.5375 L555.2456,83.4094 Q555.2456,83.775 555.105,83.9344 Q554.9644,84.0938 554.7394,84.0938 Q554.5331,84.0938 554.4113,83.9719 Q554.2894,83.8594 554.2238,83.55 Q554.1956,83.3344 554.0831,83.2219 Q553.8862,82.9969 553.5206,82.8656 Q553.155,82.7344 552.78,82.7344 Q552.3206,82.7344 551.9363,82.9312 Q551.5613,83.1281 551.2612,83.5781 Q550.9706,84.0281 550.9706,84.6469 L550.9706,85.3031 Q550.9706,86.0438 551.505,86.5406 Q552.0394,87.0281 552.9956,87.0281 Q553.5581,87.0281 553.9519,86.8781 Q554.1863,86.7844 554.4394,86.5219 Q554.5988,86.3625 554.6831,86.3156 Q554.7769,86.2688 554.8988,86.2688 Q555.0956,86.2688 555.2456,86.4281 Q555.405,86.5781 555.405,86.7844 Q555.405,86.9906 555.1987,87.2344 Q554.8988,87.5813 554.4206,87.7781 Q553.7738,88.05 552.9956,88.05 Q552.0863,88.05 551.3644,87.675 Q550.7738,87.375 550.3612,86.7375 Q549.9487,86.0906 549.9487,85.3219 L549.9487,84.6281 Q549.9487,83.8313 550.3144,83.1469 Q550.6894,82.4531 551.3456,82.0875 Q552.0019,81.7125 552.7425,81.7125 Q553.1831,81.7125 553.5675,81.8156 Q553.9613,81.9094 554.2894,82.125 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="62.4" x="562.17" y="88.0371">OrdenadorVacio</text><line style="stroke:#000000;stroke-width:0.3;" x1="539.1" x2="630.9" y1="94.2" y2="94.2"></line><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="85.8" x="542.1" y="105.3199">+Precio : double «get»</text></g><!--class etc--><g id="elem_etc"><rect fill="#FFFAFA" height="19.2" id="etc" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="30.6" x="713.7" y="161.1"></rect><ellipse cx="722.7" cy="170.7" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke:#181818;stroke-width:0.6;"></ellipse><path d="M724.3594,168.225 Q724.4531,168.0938 724.5656,168.0281 Q724.6781,167.9625 724.8094,167.9625 Q725.0344,167.9625 725.175,168.1219 Q725.3156,168.2719 725.3156,168.6375 L725.3156,169.5094 Q725.3156,169.875 725.175,170.0344 Q725.0344,170.1938 724.8094,170.1938 Q724.6031,170.1938 724.4812,170.0719 Q724.3594,169.9594 724.2937,169.65 Q724.2656,169.4344 724.1531,169.3219 Q723.9563,169.0969 723.5906,168.9656 Q723.225,168.8344 722.85,168.8344 Q722.3906,168.8344 722.0063,169.0313 Q721.6313,169.2281 721.3313,169.6781 Q721.0406,170.1281 721.0406,170.7469 L721.0406,171.4031 Q721.0406,172.1437 721.575,172.6406 Q722.1094,173.1281 723.0656,173.1281 Q723.6281,173.1281 724.0219,172.9781 Q724.2563,172.8844 724.5094,172.6219 Q724.6687,172.4625 724.7531,172.4156 Q724.8469,172.3688 724.9688,172.3688 Q725.1656,172.3688 725.3156,172.5281 Q725.475,172.6781 725.475,172.8844 Q725.475,173.0906 725.2688,173.3344 Q724.9688,173.6813 724.4906,173.8781 Q723.8438,174.15 723.0656,174.15 Q722.1563,174.15 721.4344,173.775 Q720.8438,173.475 720.4313,172.8375 Q720.0188,172.1906 720.0188,171.4219 L720.0188,170.7281 Q720.0188,169.9313 720.3844,169.2469 Q720.7594,168.5531 721.4156,168.1875 Q722.0719,167.8125 722.8125,167.8125 Q723.2531,167.8125 723.6375,167.9156 Q724.0313,168.0094 724.3594,168.225 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="11.4" x="731.1" y="174.1371">etc</text></g><!--reverse link IOrdenador to ComponenteOrdenador--><g id="link_IOrdenador_ComponenteOrdenador"><path codeline="33" d="M454.6427,49.7698 C453.3287,60.6298 454.62,63.984 455.928,74.868 " fill="none" id="IOrdenador-backto-ComponenteOrdenador" style="stroke:#000000;stroke-width:0.6;"></path><polygon fill="none" points="455.94,39.048,451.0688,49.3374,458.2167,50.2022,455.94,39.048" style="stroke:#000000;stroke-width:0.6;"></polygon></g><!--link ComponenteOrdenador to IOrdenador--><g id="link_ComponenteOrdenador_IOrdenador"><path codeline="34" d="M469.662,74.868 C471.048,63.984 471.5057,53.4788 470.1137,42.6188 " fill="none" id="ComponenteOrdenador-to-IOrdenador" style="stroke:#000000;stroke-width:0.6;"></path><polygon fill="#000000" points="469.656,39.048,467.962,44.7093,470.0374,42.0237,472.7231,44.0991,469.656,39.048" style="stroke:#000000;stroke-width:0.6;"></polygon><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="69" x="394.9957" y="51.7796">ConfiguracionActual</text></g><!--reverse link ComponenteOrdenador to CompHDDEspec?fico--><g id="link_ComponenteOrdenador_CompHDDEspecífico"><path codeline="35" d="M397.4191,106.8725 C347.4331,117.5225 282.006,131.508 216,145.8 C212.724,146.508 209.388,147.234 206.028,147.96 " fill="none" id="ComponenteOrdenador-backto-CompHDDEspecífico" style="stroke:#000000;stroke-width:0.6;"></path><polygon fill="none" points="407.982,104.622,396.6689,103.3516,398.1693,110.3935,407.982,104.622" style="stroke:#000000;stroke-width:0.6;"></polygon></g><!--reverse link ComponenteOrdenador to CompProcesadorEspec?fico--><g id="link_ComponenteOrdenador_CompProcesadorEspecífico"><path codeline="36" d="M426.8942,115.5998 C410.3042,126.0998 397.8,134.022 379.344,145.704 " fill="none" id="ComponenteOrdenador-backto-CompProcesadorEspecífico" style="stroke:#000000;stroke-width:0.6;"></path><polygon fill="none" points="436.02,109.824,424.9689,112.5579,428.8195,118.6417,436.02,109.824" style="stroke:#000000;stroke-width:0.6;"></polygon></g><!--reverse link ComponenteOrdenador to CompMemoriaEspec?fico--><g id="link_ComponenteOrdenador_CompMemoriaEspecífico"><path codeline="37" d="M498.3058,115.5998 C514.8958,126.0998 527.4,134.022 545.856,145.704 " fill="none" id="ComponenteOrdenador-backto-CompMemoriaEspecífico" style="stroke:#000000;stroke-width:0.6;"></path><polygon fill="none" points="489.18,109.824,496.3805,118.6417,500.2311,112.5579,489.18,109.824" style="stroke:#000000;stroke-width:0.6;"></polygon></g><!--reverse link ComponenteOrdenador to etc--><g id="link_ComponenteOrdenador_etc"><path codeline="38" d="M527.8208,109.8175 C531.4268,110.6935 524.514,108.996 528,109.8 C605.454,127.692 632.658,109.158 703.2,145.8 C710.298,149.49 716.838,155.694 721.56,160.914 " fill="none" id="ComponenteOrdenador-backto-etc" style="stroke:#000000;stroke-width:0.6;"></path><polygon fill="none" points="517.326,107.268,526.9709,113.3157,528.6706,106.3192,517.326,107.268" style="stroke:#000000;stroke-width:0.6;"></polygon></g><!--reverse link IOrdenador to OrdenadorVacio--><g id="link_IOrdenador_OrdenadorVacio"><path codeline="39" d="M501.6168,44.3857 C520.7928,55.2877 536.268,64.092 555.432,74.988 " fill="none" id="IOrdenador-backto-OrdenadorVacio" style="stroke:#000000;stroke-width:0.6;"></path><polygon fill="none" points="492.228,39.048,499.8375,47.5153,503.396,41.2561,492.228,39.048" style="stroke:#000000;stroke-width:0.6;"></polygon></g><!--SRC=[hPB1IiD048Rl-nHBJef4F7aefT2cWZs8WO3UXCrcaYxDxeJP3KLh7ycdyCNSKatJ9YaUciiIvl-_VvWPkrAc4YGqbwMmTkeSgRHsi91e4lK1_8xPHZ8bmdM49HAVbKAkMgNO_ue2Pluf26kJxMMlI-KWqRY2bZRQ9SsGCg1-s5vmWaeChXcpKfI-gTjxnfOg0mwwSkzSWqw1B6FAEA1SIE2BPyyt8lFE3UF-YmcaGZxY6TQfPup71RZ9X6sPIAqZ8Tr-13n2NQ41Jpf5tF3DdtPxXdV0FCxd3xO2-VsLAuaDfLkwKeRxYUUgg3rTeHaT-h_-TRtz9p4cb61tjg7WNiN5yfz08oan5DujNoIvSRpi44tYi8srpcFy6OPzIsTzXn264nv4xNwdqjMY35e7rsjiKeuNVrxRkwlpbkw4X_K1E1bqHd4yJFO3]--></g></svg></p><p>Para ello, definiremos la abstracción de la funcionalidad de <strong><code>Ordenador</code></strong> a través de un interfaz.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">IOrdenador</span> <span class="token punctuation">{</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre><p>Definiremos el decorador componente que extenderá de <strong><code>IOrdenador</code></strong> y que referenciará a la configuración del ordenador actual (<strong>acumulada</strong>). Eto l e obliga a implementar la propiedad <strong><code>Precio</code></strong> donde añada a esta configuración el precio de dicho componente '<em>acumulado</em>'.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">ComponenteOrdenador</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IOrdenador</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-protected">protected</span> <span class="token return-type class-name">IOrdenador</span> ConfiguracionActual <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Definiremos ahora extensiones de <strong><code>ComponenteOrdenador</code></strong> que envolverán objetos con la funcionalidad final del ordenador <strong><code>IOrdenador</code></strong>. La cual referenciará <strong>la configuración '<em>acumulado</em>' hasta el momento</strong> y la '<em>decorará</em>' añadiéndole el precio de un componente.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SSDRapido</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ComponenteOrdenador</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">SSDRapido</span><span class="token punctuation">(</span><span class="token class-name">IOrdenador</span> c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ConfiguracionActual <span class="token operator">=</span> c<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> ConfiguracionActual<span class="token punctuation">.</span>Precio <span class="token operator">+</span> <span class="token number">255.20D</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Procesador8Nucleos</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ComponenteOrdenador</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Procesador8Nucleos</span><span class="token punctuation">(</span><span class="token class-name">IOrdenador</span> c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ConfiguracionActual <span class="token operator">=</span> c<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> ConfiguracionActual<span class="token punctuation">.</span>Precio <span class="token operator">+</span> <span class="token number">360D</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Memoria16GB3600</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ComponenteOrdenador</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Memoria16GB3600</span><span class="token punctuation">(</span><span class="token class-name">IOrdenador</span> c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ConfiguracionActual <span class="token operator">=</span> c<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> ConfiguracionActual<span class="token punctuation">.</span>Precio <span class="token operator">+</span> <span class="token number">110D</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>De forma análoga añadiríamos todos los componentes que queramos a posteriori <strong>sin modificar el código anterior</strong> y así cumpliendo <strong>OCP</strong>.</p>
<p>Ahora, definimos una clase ordenador con una <strong>configuración básica o vacía</strong> que iremos <strong>'<em>decorando</em>'</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">OrdenadorVacio</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IOrdenador</span></span> <span class="token punctuation">{</span> <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-double">double</span></span> Precio <span class="token operator">=&gt;</span> <span class="token number">0D</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre><p>Por último, podremos definir la configuración del ordenador de la siguiente manera...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token class-name">IOrdenador</span> setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">OrdenadorVacio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">SSDRapido</span><span class="token punctuation">(</span>setup<span class="token punctuation">)</span><span class="token punctuation">;</span>
    setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Procesador8Nucleos</span><span class="token punctuation">(</span>setup<span class="token punctuation">)</span><span class="token punctuation">;</span>
    setup <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Memoria16GB3600</span><span class="token punctuation">(</span>setup<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Aquí podríamos añadir nuevos componentes futuros a la configuración</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Precio: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">setup<span class="token punctuation">.</span>Precio</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<h3 id="l--liskov-substitution-principle-lsp">L → Liskov Substitution Principle (LSP) </h3>
<p>Nos sonará en nombre porque ya lo hemos usado. Pricipalmente lo que buscaremos es definir bien sus subclases para que también puedan ser tratadas como la propia abstracción.</p>
<blockquote>
<p><strong>Definición:</strong> Establece que las subclases deberían poder extender a su superclase sin cambiar el comportamiento de la misma.</p>
</blockquote>
<p>En otras palabras, podríamos decir que después de la sustitución, no debería ser necesario ningún otro cambio para que el programa continúe funcionando como lo hacía originalmente.</p>
<p>Veamos un <strong>ejemplo ilustrativo</strong> de concreción que no nos permite aplicar <strong>LSP</strong> de forma correcta...</p>
<p>En la vida real tenemos '<em>claro</em>' que un cuadrado <strong>es un</strong> Rectangulo con los dos lados iguales. Por lo cual, podríamos suponer en un principio que si cuadrado hereda de Rectangulo sería un caso de herencia válido. Veamos que pasa si intentamos implementar este modelo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Rectangulo</span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-virtual">virtual</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Alto <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Area <span class="token operator">=&gt;</span> Ancho <span class="token operator">*</span> Alto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Invalidamos las propiedades para cuando cambiemos <strong><code>Ancho</code></strong> y <strong><code>Alto</code></strong> <strong>siga siendo un cuadrado</strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Cuadrado</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Rectangulo</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token punctuation">{</span> <span class="token keyword keyword-set">set</span> <span class="token punctuation">{</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Ancho <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Alto <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Alto  <span class="token punctuation">{</span> <span class="token keyword keyword-set">set</span> <span class="token punctuation">{</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Ancho <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span>Alto <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Ahora si pasamos el siguiente test...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">TestArea</span><span class="token punctuation">(</span><span class="token class-name">Rectangulo</span> r<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    r<span class="token punctuation">.</span>Ancho <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>  r<span class="token punctuation">.</span>Alto <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>   
    Debug<span class="token punctuation">.</span><span class="token function">Assert</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Area <span class="token operator">==</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">$"Área </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">r<span class="token punctuation">.</span>Area</span><span class="token punctuation">}</span></span><span class="token string"> y no 20."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">TestArea</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Rectangulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Creamos una una instáncia de Cuadrado y hacemos una sustitución</span>
    <span class="token comment">// de Liskov hacia la superclase la cual no pasará el text</span>
    <span class="token function">TestArea</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Cuadrado</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
</code></pre><p>Vemos como el <strong>LSP no se cumple</strong> en el segundo Test, ya que al asignar 4 a <strong><code>Alto</code></strong> el <strong><code>Ancho</code></strong> pasa a ser también 4 para cumplir la restricción de cuadrado y <strong>el área me devolverá 16 en lugar de 20</strong> como esperaba en el test.<br>
Una posible solución es hacer nuestro objeto <strong>inmutable</strong>, este es, no dar la posibilidad de que el <strong><code>Ancho</code></strong> y el <strong><code>Alto</code></strong> cambien después de su creación.</p>
<h3 id="i--principio-de-segregación-de-interfaces-isp">I → Principio de Segregación de Interfaces (ISP) </h3>
<blockquote>
<p><strong>Definición:</strong> Este principio viene a decir, que ninguna clase debería implementar métodos definidos en un interface que luego no va a usar o no tienen sentido.</p>
</blockquote>
<p>Para cumplirlo, evitaremos interfaces grandes ('<em>fat interfaces</em>') que definan muchos métodos. Por tanto, <strong>las reduciremos a aquellos que siempre se van a dar claramente en todas las clases que la implementen</strong>.</p>
<p>También podremos usar el mecanismo de extensión o herencia de interfaces para realizar dicha segregación.</p>
<p>Veamos un <strong>ejemplo</strong> de incumplimiento de dicho principio. Para ello, supongamos la siguiente interfaz para <strong><code>Ave</code></strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-interface">interface</span> <span class="token class-name">IAve</span> 
<span class="token punctuation">{</span>
    <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Vuela</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Nada</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Come</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PonHuevo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Ahora definimos las siguientes clases que implementan la interfaz...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Pato</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IAve</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Come</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un pato comiendo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Nada</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un pato nadando."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PonHuevo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un pato poniendo un huevo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Vuela</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un pato volando"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Gorrion</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IAve</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Come</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un gorrión comiendo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Nada</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token string">"Los gorriones no nadamos :'("</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PonHuevo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un gorrión poniendo un huevo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Vuela</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un gorrión volando"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Avestruz</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IAve</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Come</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un avestruz comiendo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Nada</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token string">"Los avestruces no nadamos :'("</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PonHuevo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un avestruz poniendo un huevo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Vuela</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">=&gt;</span> <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token string">"Los avestruces no volamos :'("</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Ping</span>üino <span class="token punctuation">:</span> IAve
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Come</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un pingüino comiendo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Nada</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un pingüino nadando."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">PonHuevo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Soy un pingüino poniendo un huevo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Vuela</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">=&gt;</span> <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token string">"Los pingüinos no volamos :'("</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Si nos fijamos hay <strong>operaciones que no somos capaces de implementar</strong> en ciertas concreciones. Estamos obligados a definirlas por heredar del interfaz. Pero seguramente generaremos algún tipo de excepción al llamarlas y emn ese caso no estaremos siguiendo el principio de <strong>ISP</strong>.</p>
<p>La mejor solución es <strong>segregar los interfaces</strong> y que cada <strong><code>Ave</code></strong> <strong>implemente aquellos que le corresponden</strong>.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="200px" preserveAspectRatio="none" style="width:435px;height:200px;background:#FFFFFF;" version="1.1" viewBox="0 0 435 200" width="435px" zoomAndPan="magnify"><defs></defs><g><!--class INada--><g id="elem_INada"><rect codeline="9" fill="#FFFAFA" height="68.3125" id="INada" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="93" x="27" y="16"></rect><ellipse cx="43.8" cy="37.3516" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M44.7531,33.9922 L44.7531,40.6484 L46.4719,40.6484 Q47.0813,40.6484 47.3469,40.8828 Q47.6125,41.1172 47.6125,41.5078 Q47.6125,41.8828 47.3469,42.1172 Q47.0813,42.3516 46.4719,42.3516 L41.3313,42.3516 Q40.7219,42.3516 40.4563,42.1172 Q40.1906,41.8828 40.1906,41.4922 Q40.1906,41.1172 40.4563,40.8828 Q40.7219,40.6484 41.3313,40.6484 L43.05,40.6484 L43.05,33.9922 L41.3313,33.9922 Q40.7219,33.9922 40.4563,33.7578 Q40.1906,33.5234 40.1906,33.1328 Q40.1906,32.7578 40.4563,32.5234 Q40.7219,32.2891 41.3313,32.2891 L46.4719,32.2891 Q47.0813,32.2891 47.3469,32.5234 Q47.6125,32.7578 47.6125,33.1328 Q47.6125,33.5234 47.3469,33.7578 Q47.0813,33.9922 46.4719,33.9922 L44.7531,33.9922 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="56.2" y="33.457">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="38" x="67.7" y="50.627">INada</text><line style="stroke:#000000;stroke-width:0.5;" x1="28" x2="119" y1="58.7031" y2="58.7031"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="33" y="77.2363">Nada() : void</text></g><!--class IAve--><g id="elem_IAve"><rect codeline="14" fill="#FFFAFA" height="85.9219" id="IAve" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="125" x="166" y="7"></rect><ellipse cx="197.2" cy="28.3516" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M198.1531,24.9922 L198.1531,31.6484 L199.8719,31.6484 Q200.4813,31.6484 200.7469,31.8828 Q201.0125,32.1172 201.0125,32.5078 Q201.0125,32.8828 200.7469,33.1172 Q200.4813,33.3516 199.8719,33.3516 L194.7313,33.3516 Q194.1219,33.3516 193.8563,33.1172 Q193.5906,32.8828 193.5906,32.4922 Q193.5906,32.1172 193.8563,31.8828 Q194.1219,31.6484 194.7313,31.6484 L196.45,31.6484 L196.45,24.9922 L194.7313,24.9922 Q194.1219,24.9922 193.8563,24.7578 Q193.5906,24.5234 193.5906,24.1328 Q193.5906,23.7578 193.8563,23.5234 Q194.1219,23.2891 194.7313,23.2891 L199.8719,23.2891 Q200.4813,23.2891 200.7469,23.5234 Q201.0125,23.7578 201.0125,24.1328 Q201.0125,24.5234 200.7469,24.7578 Q200.4813,24.9922 199.8719,24.9922 L198.1531,24.9922 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="212.8" y="24.457">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="27" x="229.8" y="41.627">IAve</text><line style="stroke:#000000;stroke-width:0.5;" x1="167" x2="290" y1="49.7031" y2="49.7031"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="172" y="68.2363">Come() : void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="172" y="85.8457">PonHuevo() : void</text></g><!--class IVuela--><g id="elem_IVuela"><rect codeline="20" fill="#FFFAFA" height="68.3125" id="IVuela" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="96" x="332.5" y="16"></rect><ellipse cx="350.65" cy="37.3516" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M351.6031,33.9922 L351.6031,40.6484 L353.3219,40.6484 Q353.9313,40.6484 354.1969,40.8828 Q354.4625,41.1172 354.4625,41.5078 Q354.4625,41.8828 354.1969,42.1172 Q353.9313,42.3516 353.3219,42.3516 L348.1813,42.3516 Q347.5719,42.3516 347.3063,42.1172 Q347.0406,41.8828 347.0406,41.4922 Q347.0406,41.1172 347.3063,40.8828 Q347.5719,40.6484 348.1813,40.6484 L349.9,40.6484 L349.9,33.9922 L348.1813,33.9922 Q347.5719,33.9922 347.3063,33.7578 Q347.0406,33.5234 347.0406,33.1328 Q347.0406,32.7578 347.3063,32.5234 Q347.5719,32.2891 348.1813,32.2891 L353.3219,32.2891 Q353.9313,32.2891 354.1969,32.5234 Q354.4625,32.7578 354.4625,33.1328 Q354.4625,33.5234 354.1969,33.7578 Q353.9313,33.9922 353.3219,33.9922 L351.6031,33.9922 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="363.35" y="33.457">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="40" x="373.85" y="50.627">IVuela</text><line style="stroke:#000000;stroke-width:0.5;" x1="333.5" x2="427.5" y1="58.7031" y2="58.7031"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="338.5" y="77.2363">Vuela() : void</text></g><!--class Ping?ino--><g id="elem_Pingüino"><rect codeline="25" fill="#FFFAFA" height="40" id="Pingüino" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="87" x="7" y="153"></rect><ellipse cx="22" cy="169" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M24.7656,164.875 Q24.9219,164.6563 25.1094,164.5469 Q25.2969,164.4375 25.5156,164.4375 Q25.8906,164.4375 26.125,164.7031 Q26.3594,164.9531 26.3594,165.5625 L26.3594,167.0156 Q26.3594,167.625 26.125,167.8906 Q25.8906,168.1563 25.5156,168.1563 Q25.1719,168.1563 24.9688,167.9531 Q24.7656,167.7656 24.6563,167.25 Q24.6094,166.8906 24.4219,166.7031 Q24.0938,166.3281 23.4844,166.1094 Q22.875,165.8906 22.25,165.8906 Q21.4844,165.8906 20.8438,166.2188 Q20.2188,166.5469 19.7188,167.2969 Q19.2344,168.0469 19.2344,169.0781 L19.2344,170.1719 Q19.2344,171.4063 20.125,172.2344 Q21.0156,173.0469 22.6094,173.0469 Q23.5469,173.0469 24.2031,172.7969 Q24.5938,172.6406 25.0156,172.2031 Q25.2813,171.9375 25.4219,171.8594 Q25.5781,171.7813 25.7813,171.7813 Q26.1094,171.7813 26.3594,172.0469 Q26.625,172.2969 26.625,172.6406 Q26.625,172.9844 26.2813,173.3906 Q25.7813,173.9688 24.9844,174.2969 Q23.9063,174.75 22.6094,174.75 Q21.0938,174.75 19.8906,174.125 Q18.9063,173.625 18.2188,172.5625 Q17.5313,171.4844 17.5313,170.2031 L17.5313,169.0469 Q17.5313,167.7188 18.1406,166.5781 Q18.7656,165.4219 19.8594,164.8125 Q20.9531,164.1875 22.1875,164.1875 Q22.9219,164.1875 23.5625,164.3594 Q24.2188,164.5156 24.7656,164.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="36" y="174.7285">Pingüino</text><line style="stroke:#000000;stroke-width:0.5;" x1="8" x2="93" y1="185" y2="185"></line></g><!--class Pato--><g id="elem_Pato"><rect codeline="26" fill="#FFFAFA" height="40" id="Pato" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="61" x="129" y="153"></rect><ellipse cx="144" cy="169" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M146.7656,164.875 Q146.9219,164.6563 147.1094,164.5469 Q147.2969,164.4375 147.5156,164.4375 Q147.8906,164.4375 148.125,164.7031 Q148.3594,164.9531 148.3594,165.5625 L148.3594,167.0156 Q148.3594,167.625 148.125,167.8906 Q147.8906,168.1563 147.5156,168.1563 Q147.1719,168.1563 146.9688,167.9531 Q146.7656,167.7656 146.6563,167.25 Q146.6094,166.8906 146.4219,166.7031 Q146.0938,166.3281 145.4844,166.1094 Q144.875,165.8906 144.25,165.8906 Q143.4844,165.8906 142.8438,166.2188 Q142.2188,166.5469 141.7188,167.2969 Q141.2344,168.0469 141.2344,169.0781 L141.2344,170.1719 Q141.2344,171.4063 142.125,172.2344 Q143.0156,173.0469 144.6094,173.0469 Q145.5469,173.0469 146.2031,172.7969 Q146.5938,172.6406 147.0156,172.2031 Q147.2813,171.9375 147.4219,171.8594 Q147.5781,171.7813 147.7813,171.7813 Q148.1094,171.7813 148.3594,172.0469 Q148.625,172.2969 148.625,172.6406 Q148.625,172.9844 148.2813,173.3906 Q147.7813,173.9688 146.9844,174.2969 Q145.9063,174.75 144.6094,174.75 Q143.0938,174.75 141.8906,174.125 Q140.9063,173.625 140.2188,172.5625 Q139.5313,171.4844 139.5313,170.2031 L139.5313,169.0469 Q139.5313,167.7188 140.1406,166.5781 Q140.7656,165.4219 141.8594,164.8125 Q142.9531,164.1875 144.1875,164.1875 Q144.9219,164.1875 145.5625,164.3594 Q146.2188,164.5156 146.7656,164.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="158" y="174.7285">Pato</text><line style="stroke:#000000;stroke-width:0.5;" x1="130" x2="189" y1="185" y2="185"></line></g><!--class Avestruz--><g id="elem_Avestruz"><rect codeline="27" fill="#FFFAFA" height="40" id="Avestruz" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="86" x="225.5" y="153"></rect><ellipse cx="240.5" cy="169" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M243.2656,164.875 Q243.4219,164.6563 243.6094,164.5469 Q243.7969,164.4375 244.0156,164.4375 Q244.3906,164.4375 244.625,164.7031 Q244.8594,164.9531 244.8594,165.5625 L244.8594,167.0156 Q244.8594,167.625 244.625,167.8906 Q244.3906,168.1563 244.0156,168.1563 Q243.6719,168.1563 243.4688,167.9531 Q243.2656,167.7656 243.1563,167.25 Q243.1094,166.8906 242.9219,166.7031 Q242.5938,166.3281 241.9844,166.1094 Q241.375,165.8906 240.75,165.8906 Q239.9844,165.8906 239.3438,166.2188 Q238.7188,166.5469 238.2188,167.2969 Q237.7344,168.0469 237.7344,169.0781 L237.7344,170.1719 Q237.7344,171.4063 238.625,172.2344 Q239.5156,173.0469 241.1094,173.0469 Q242.0469,173.0469 242.7031,172.7969 Q243.0938,172.6406 243.5156,172.2031 Q243.7813,171.9375 243.9219,171.8594 Q244.0781,171.7813 244.2813,171.7813 Q244.6094,171.7813 244.8594,172.0469 Q245.125,172.2969 245.125,172.6406 Q245.125,172.9844 244.7813,173.3906 Q244.2813,173.9688 243.4844,174.2969 Q242.4063,174.75 241.1094,174.75 Q239.5938,174.75 238.3906,174.125 Q237.4063,173.625 236.7188,172.5625 Q236.0313,171.4844 236.0313,170.2031 L236.0313,169.0469 Q236.0313,167.7188 236.6406,166.5781 Q237.2656,165.4219 238.3594,164.8125 Q239.4531,164.1875 240.6875,164.1875 Q241.4219,164.1875 242.0625,164.3594 Q242.7188,164.5156 243.2656,164.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="254.5" y="174.7285">Avestruz</text><line style="stroke:#000000;stroke-width:0.5;" x1="226.5" x2="310.5" y1="185" y2="185"></line></g><!--class Gorri?n--><g id="elem_Gorrión"><rect codeline="28" fill="#FFFAFA" height="40" id="Gorrión" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="80" x="346.5" y="153"></rect><ellipse cx="361.5" cy="169" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M364.2656,164.875 Q364.4219,164.6563 364.6094,164.5469 Q364.7969,164.4375 365.0156,164.4375 Q365.3906,164.4375 365.625,164.7031 Q365.8594,164.9531 365.8594,165.5625 L365.8594,167.0156 Q365.8594,167.625 365.625,167.8906 Q365.3906,168.1563 365.0156,168.1563 Q364.6719,168.1563 364.4688,167.9531 Q364.2656,167.7656 364.1563,167.25 Q364.1094,166.8906 363.9219,166.7031 Q363.5938,166.3281 362.9844,166.1094 Q362.375,165.8906 361.75,165.8906 Q360.9844,165.8906 360.3438,166.2188 Q359.7188,166.5469 359.2188,167.2969 Q358.7344,168.0469 358.7344,169.0781 L358.7344,170.1719 Q358.7344,171.4063 359.625,172.2344 Q360.5156,173.0469 362.1094,173.0469 Q363.0469,173.0469 363.7031,172.7969 Q364.0938,172.6406 364.5156,172.2031 Q364.7813,171.9375 364.9219,171.8594 Q365.0781,171.7813 365.2813,171.7813 Q365.6094,171.7813 365.8594,172.0469 Q366.125,172.2969 366.125,172.6406 Q366.125,172.9844 365.7813,173.3906 Q365.2813,173.9688 364.4844,174.2969 Q363.4063,174.75 362.1094,174.75 Q360.5938,174.75 359.3906,174.125 Q358.4063,173.625 357.7188,172.5625 Q357.0313,171.4844 357.0313,170.2031 L357.0313,169.0469 Q357.0313,167.7188 357.6406,166.5781 Q358.2656,165.4219 359.3594,164.8125 Q360.4531,164.1875 361.6875,164.1875 Q362.4219,164.1875 363.0625,164.3594 Q363.7188,164.5156 364.2656,164.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="375.5" y="174.7285">Gorrión</text><line style="stroke:#000000;stroke-width:0.5;" x1="347.5" x2="425.5" y1="185" y2="185"></line></g><!--reverse link INada to Ping?ino--><g id="link_INada_Pingüino"><path d="M63.8546,101.7426 C59.6446,123.8626 57.63,134.49 54.13,152.93 " fill="none" id="INada-backto-Pingüino" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="none" points="67.22,84.06,57.9604,100.6208,69.7487,102.8644,67.22,84.06" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link IAve to Ping?ino--><g id="link_IAve_Pingüino"><path d="M151.355,103.441 C121.485,123.751 102.06,136.95 78.6,152.9 " fill="none" id="IAve-backto-Pingüino" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="none" points="166.24,93.32,147.9813,98.4794,154.7286,108.4027,166.24,93.32" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link INada to Pato--><g id="link_INada_Pato"><path d="M107.4271,98.7323 C123.1471,120.8523 132.84,134.49 145.94,152.93 " fill="none" id="INada-backto-Pato" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="none" points="97,84.06,102.5364,102.208,112.3179,95.2566,97,84.06" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link IAve to Pato--><g id="link_IAve_Pato"><path d="M195.4544,108.9569 C183.8744,129.2669 179.49,136.95 170.39,152.9 " fill="none" id="IAve-backto-Pato" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="none" points="204.37,93.32,190.2421,105.985,200.6667,111.9288,204.37,93.32" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link IVuela to Pato--><g id="link_IVuela_Pato"><path d="M316.6592,88.5232 C308.7592,93.0932 316.21,88.71 308.5,93 C267.95,115.57 220.49,140.47 190.23,156.17 " fill="none" id="IVuela-backto-Pato" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="none" points="332.24,79.51,313.6548,83.3296,319.6636,93.7168,332.24,79.51" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link IAve to Avestruz--><g id="link_IAve_Avestruz"><path d="M248.1366,110.4114 C254.8466,130.7214 256.91,136.95 262.19,152.9 " fill="none" id="IAve-backto-Avestruz" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="none" points="242.49,93.32,242.4395,112.2936,253.8338,108.5292,242.49,93.32" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link IAve to Gorri?n--><g id="link_IAve_Gorrión"><path d="M298.0506,104.2643 C324.5706,124.5743 340.73,136.95 361.56,152.9 " fill="none" id="IAve-backto-Gorrión" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="none" points="283.76,93.32,294.4025,109.0278,301.6987,99.5008,283.76,93.32" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link IVuela to Gorri?n--><g id="link_IVuela_Gorrión"><path d="M383.034,102.0378 C384.134,124.1578 384.64,134.49 385.55,152.93 " fill="none" id="IVuela-backto-Gorrión" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="none" points="382.14,84.06,377.0414,102.3358,389.0266,101.7398,382.14,84.06" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--SRC=[TP0_QyCm4CLtVOeRMyZGkOI0xQ7DKWo6TbRjgtDOreMJv412FbNNRlbYzPyuYOCp2RtxlVTESXNPhHPTGswqSv7tGj_1upfdcz4UuKMv2nA9y2vXmmAnqNbrCqhRgounRezIEDXYmBusv36hkS8RDkcQOfO2PJvi0EwYCiixfJPK8EXnIwSKMO_oetE4zOSkD2oN5sMrKWS509t-z0olq30LwZZnH0tEMI3X6g-UJadPlWTi-57IPq0pMm_zP6Bh_nfIikNfZom3rLk3DLhlXbSi-iL6JFj7nE9SUoPRnNa9-mbz3NfZ4JhzsllncF8F]--></g></svg></p><div class="contenedor">
<div class="fondo">
    <div class="abre_comilla">"</div>
    <div class="cierra_comilla">"</div>
    <div class="cita">The three chief virtues of a programmer are: Laziness, Impatience and Hubris.</div>
    <div class="autor">- Larry Wall.</div>
</div>
</div>
<div style="page-break-after:always;"></div>
<h3 id="d--principio-de-inversión-de-dependencias-dip">D → Principio de Inversión de Dependencias (DIP) </h3>
<p>Es uno de los más importantes y muy a tener en cuenta en nuestros diseños. El hacerlo, nos <strong>facilitará la labor de creación de test unitarios</strong>.</p>
<blockquote>
<p><strong>Definición:</strong> Este principio establece que:</p>
<ol>
<li>Las clases de alto nivel <strong>no deberían depender</strong> de las clases de bajo nivel. Ambas deberían depender de las abstracciones.</li>
<li>Las abstracciones <strong>no deberían depender</strong> de los detalles. Los detalles deberían depender de las abstracciones.</li>
</ol>
</blockquote>
<p>En otras palabras, podemos decir que el objetivo de este principio es el uso de interfaces para conseguir que una clase interactúe con otras clases, sin que las conozca directamente. De esta manera conseguiremos desacoplar las clases lo máximo posible.<br>
Existen diferentes patrones muy usados en frameworks actuales tales como la <strong>inyección de dependencias</strong> o <strong>service locator</strong> que nos permitirán invertir el control.</p>
<p>Supongamos la siguiente relación todo parte en la que un <strong><code>Vehiculo</code></strong> está <strong>compuesto por</strong> un <strong><code>Motor</code></strong>.</p>
<blockquote>
<p>📌 <strong>Nota:</strong> El siguiente ejemplo es un modelo super simplificado para que entendamos el concepto de <strong>DIP</strong>.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Motor</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Inyecta combustible"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> RELACION_INYECCION_MARCHA_CILINDRADA_ETC<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Motor</span> Motor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span> 
        Motor <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Motor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span>Revoluciones<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Tenemos claramente una clase de alto nivel <strong><code>Vehiculo</code></strong> que <strong>depende</strong> de otra de Bajo nivel <strong><code>Motor</code></strong>. Esto significa que <strong><code>Vehiculo</code></strong> tiene que <strong>'<em>conocer</em>'</strong> una clase <strong><code>Motor</code></strong> '<em>específica</em>' por la relación de composición (<strong><code>línea 17</code></strong>).</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="47px" preserveAspectRatio="none" style="width:276px;height:47px;background:#FFFFFF;" version="1.1" viewBox="0 0 276 47" width="276px" zoomAndPan="magnify"><defs></defs><g><!--class Vehiculo--><g id="elem_Vehiculo"><rect fill="#FFFAFA" height="32" id="Vehiculo" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="86" x="7" y="8.3564"></rect><ellipse cx="22" cy="24.3564" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M24.7656,20.2314 Q24.9219,20.0127 25.1094,19.9033 Q25.2969,19.7939 25.5156,19.7939 Q25.8906,19.7939 26.125,20.0596 Q26.3594,20.3096 26.3594,20.9189 L26.3594,22.3721 Q26.3594,22.9814 26.125,23.2471 Q25.8906,23.5127 25.5156,23.5127 Q25.1719,23.5127 24.9688,23.3096 Q24.7656,23.1221 24.6563,22.6064 Q24.6094,22.2471 24.4219,22.0596 Q24.0938,21.6846 23.4844,21.4658 Q22.875,21.2471 22.25,21.2471 Q21.4844,21.2471 20.8438,21.5752 Q20.2188,21.9033 19.7188,22.6533 Q19.2344,23.4033 19.2344,24.4346 L19.2344,25.5283 Q19.2344,26.7627 20.125,27.5908 Q21.0156,28.4033 22.6094,28.4033 Q23.5469,28.4033 24.2031,28.1533 Q24.5938,27.9971 25.0156,27.5596 Q25.2813,27.2939 25.4219,27.2158 Q25.5781,27.1377 25.7813,27.1377 Q26.1094,27.1377 26.3594,27.4033 Q26.625,27.6533 26.625,27.9971 Q26.625,28.3408 26.2813,28.7471 Q25.7813,29.3252 24.9844,29.6533 Q23.9063,30.1064 22.6094,30.1064 Q21.0938,30.1064 19.8906,29.4814 Q18.9063,28.9814 18.2188,27.9189 Q17.5313,26.8408 17.5313,25.5596 L17.5313,24.4033 Q17.5313,23.0752 18.1406,21.9346 Q18.7656,20.7783 19.8594,20.1689 Q20.9531,19.5439 22.1875,19.5439 Q22.9219,19.5439 23.5625,19.7158 Q24.2188,19.8721 24.7656,20.2314 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="36" y="30.085">Vehiculo</text></g><!--class Motor--><g id="elem_Motor"><rect fill="#FFFAFA" height="32" id="Motor" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="68" x="201" y="8.3564"></rect><ellipse cx="216" cy="24.3564" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M218.7656,20.2314 Q218.9219,20.0127 219.1094,19.9033 Q219.2969,19.7939 219.5156,19.7939 Q219.8906,19.7939 220.125,20.0596 Q220.3594,20.3096 220.3594,20.9189 L220.3594,22.3721 Q220.3594,22.9814 220.125,23.2471 Q219.8906,23.5127 219.5156,23.5127 Q219.1719,23.5127 218.9688,23.3096 Q218.7656,23.1221 218.6563,22.6064 Q218.6094,22.2471 218.4219,22.0596 Q218.0938,21.6846 217.4844,21.4658 Q216.875,21.2471 216.25,21.2471 Q215.4844,21.2471 214.8438,21.5752 Q214.2188,21.9033 213.7188,22.6533 Q213.2344,23.4033 213.2344,24.4346 L213.2344,25.5283 Q213.2344,26.7627 214.125,27.5908 Q215.0156,28.4033 216.6094,28.4033 Q217.5469,28.4033 218.2031,28.1533 Q218.5938,27.9971 219.0156,27.5596 Q219.2813,27.2939 219.4219,27.2158 Q219.5781,27.1377 219.7813,27.1377 Q220.1094,27.1377 220.3594,27.4033 Q220.625,27.6533 220.625,27.9971 Q220.625,28.3408 220.2813,28.7471 Q219.7813,29.3252 218.9844,29.6533 Q217.9063,30.1064 216.6094,30.1064 Q215.0938,30.1064 213.8906,29.4814 Q212.9063,28.9814 212.2188,27.9189 Q211.5313,26.8408 211.5313,25.5596 L211.5313,24.4033 Q211.5313,23.0752 212.1406,21.9346 Q212.7656,20.7783 213.8594,20.1689 Q214.9531,19.5439 216.1875,19.5439 Q216.9219,19.5439 217.5625,19.7158 Q218.2188,19.8721 218.7656,20.2314 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="230" y="30.085">Motor</text></g><!--link Vehiculo to Motor--><g id="link_Vehiculo_Motor"><path codeline="10" d="M105.44,24.3564 C138.18,24.3564 164.8,24.3564 194.91,24.3564 " fill="none" id="Vehiculo-Motor" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="#000000" points="93.44,24.3564,99.44,28.3564,105.44,24.3564,99.44,20.3564,93.44,24.3564" style="stroke:#000000;stroke-width:1.0;"></polygon><polygon fill="#000000" points="200.91,24.3564,191.91,20.3564,195.91,24.3564,191.91,28.3564,200.91,24.3564" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="124" y="20.8516">tiene un</text></g><!--SRC=[ROvD2y8m38Rl_HKv2mFF7eHr9m-2CD1pRUCQrZMIfWpyzKw6CCHJUCdpVYHyA2Y3q10L0Wbw9SwcZ9IVJjm4FhbIMbMXUrKyUSuzlH3s6wGLuRdZn08sEJzkNfT5kW7jSWRXciEAtI8fzXEFk66xJvDb2IZ_mrRW9whFF1iJAI2uxygowWarSYZcYf5yJGoxfZd2cNMn7K09CqBDvWq0]--></g></svg></p><p>Pero... <strong>¿Qué pasa si queremos concretar más el tipo de motor?</strong>. Por ejemplo queremos indicar que el vehiculo tiene un motor de gasolina (explosión).</p>
<p>Tendríamos que modificar la clase <strong><code>Vehiculo</code></strong> incumpliendo así principio <strong>OCP</strong> y refactorizar la clase <strong><code>Vehiculo</code></strong> de la siguiente forma ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">MotorGasolina</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Inyecta gasolina para explosión"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> RELACION_INYECCION_MARCHA_CILINDRADA_ETC_GASOLINA<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Motor</span> MotorGasolina <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span> 
        Motor <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span>Revoluciones<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Pero... <strong>¿Qué pasa si queremos añadir nuevos tipos de motor?</strong>. Por ejemplo, diesel o electrico.<br>
La respuesta es que no podremos, ya que creamos directamente el objeto de bajo nivel <strong><code>MotorGasolina</code></strong> dentro de la clase <strong><code>Vehiculo</code></strong> y eso nos genera una dependencia directa.</p>
<p>Para que cumpla <strong>DIP</strong> haremos que <strong><code>Vehiculo</code></strong> <strong>dependa de una abstracción de</strong> <strong><code>Motor</code></strong> la cual tendremos que pasar o <strong>'<em>inyectar</em>'</strong> ya sea como parámetro a través del constructor de vehiculo o a través de un setter. De esta manera conseguiremos que nuestro vehiculo tenga distintos tipos de motor sin modificar la clase <strong><code>Vehiculo</code></strong>.</p>
<blockquote>
<p>📌 <strong>Nota</strong>: A este proceso se le denominará <strong>'<em>Inversión de Dependencias</em>'</strong>.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Motor</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-protected">protected</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Motor</span> Motor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token class-name">Motor</span> m<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Motor <span class="token operator">=</span> m<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token operator">=&gt;</span>  Motor<span class="token punctuation">.</span>Revoluciones<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Ahora ya podremos implementar todas las concreciones de bajo nivel de <strong><code>Motor</code></strong> que se nos ocurran y dependerán de la abstracción <strong><code>Motor</code></strong> tal y como postula <strong>DIP</strong>.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">MotorGasolina</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Motor</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Inyecta gasolina para explosión"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> RELACION_INYECCION_MARCHA_CILINDRADA_ETC_GASOLINA<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">MotorDiesel</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Motor</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Inyecta gasóleo para combustión"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> RELACION_INYECCION_MARCHA_CILINDRADA_ETC_DIESEL<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<h4 id="factory-patrón-creacional-factory-method">🏭 Patrón creacional Factory Method </h4>
<p>Pero... ¿Cómo realizar esta inversión de dependencias teniendo en cuenta la relación de <strong>composición</strong> entre <strong><code>Vehiculo</code></strong> y <strong><code>Motor</code></strong>?. Una posibilidad es usas el patrón <strong>Method Factory</strong>, el cual se encargará de de relacionar las dos clases.</p>
<p>El esquema <strong>tradicional</strong> y básico del patrón será el siguiente:</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="207px" preserveAspectRatio="none" style="width:429px;height:207px;background:#FFFFFF;" version="1.1" viewBox="0 0 429 207" width="429px" zoomAndPan="magnify"><defs></defs><g><!--class Product--><g id="elem_Product"><rect codeline="9" fill="#FFFAFA" height="32" id="Product" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="81" x="62" y="28.5"></rect><ellipse cx="77" cy="44.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M79.1875,46.2656 L75.0469,46.2656 L74.625,47.2969 L75.0469,47.2969 Q75.6563,47.2969 75.9219,47.5313 Q76.1875,47.7656 76.1875,48.1563 Q76.1875,48.5313 75.9219,48.7656 Q75.6563,49 75.0469,49 L72.75,49 Q72.1406,49 71.8906,48.7656 Q71.625,48.5313 71.625,48.1406 Q71.625,47.7656 71.9063,47.5313 Q72.1719,47.2813 72.7969,47.2969 L75.4688,40.6406 L74.3594,40.6406 Q73.75,40.6406 73.4844,40.4063 Q73.2188,40.1719 73.2188,39.7813 Q73.2188,39.4063 73.4844,39.1719 Q73.75,38.9375 74.3594,38.9375 L78.0313,38.9375 L81.4219,47.2969 Q82.0156,47.2969 82.2031,47.4375 Q82.5938,47.7031 82.5938,48.1563 Q82.5938,48.5313 82.3281,48.7656 Q82.0781,49 81.4688,49 L79.1719,49 Q78.5625,49 78.2969,48.7656 Q78.0313,48.5313 78.0313,48.1406 Q78.0313,47.7656 78.2969,47.5313 Q78.5625,47.2969 79.1719,47.2969 L79.5938,47.2969 L79.1875,46.2656 Z M78.4688,44.5625 L77.1094,41.1875 L75.7344,44.5625 L78.4688,44.5625 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="49" x="91" y="50.2285">Product</text></g><!--class ConcreteProduct--><g id="elem_ConcreteProduct"><rect codeline="10" fill="#FFFAFA" height="32" id="ConcreteProduct" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="139" x="7" y="156"></rect><ellipse cx="22" cy="172" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M24.7656,167.875 Q24.9219,167.6563 25.1094,167.5469 Q25.2969,167.4375 25.5156,167.4375 Q25.8906,167.4375 26.125,167.7031 Q26.3594,167.9531 26.3594,168.5625 L26.3594,170.0156 Q26.3594,170.625 26.125,170.8906 Q25.8906,171.1563 25.5156,171.1563 Q25.1719,171.1563 24.9688,170.9531 Q24.7656,170.7656 24.6563,170.25 Q24.6094,169.8906 24.4219,169.7031 Q24.0938,169.3281 23.4844,169.1094 Q22.875,168.8906 22.25,168.8906 Q21.4844,168.8906 20.8438,169.2188 Q20.2188,169.5469 19.7188,170.2969 Q19.2344,171.0469 19.2344,172.0781 L19.2344,173.1719 Q19.2344,174.4063 20.125,175.2344 Q21.0156,176.0469 22.6094,176.0469 Q23.5469,176.0469 24.2031,175.7969 Q24.5938,175.6406 25.0156,175.2031 Q25.2813,174.9375 25.4219,174.8594 Q25.5781,174.7813 25.7813,174.7813 Q26.1094,174.7813 26.3594,175.0469 Q26.625,175.2969 26.625,175.6406 Q26.625,175.9844 26.2813,176.3906 Q25.7813,176.9688 24.9844,177.2969 Q23.9063,177.75 22.6094,177.75 Q21.0938,177.75 19.8906,177.125 Q18.9063,176.625 18.2188,175.5625 Q17.5313,174.4844 17.5313,173.2031 L17.5313,172.0469 Q17.5313,170.7188 18.1406,169.5781 Q18.7656,168.4219 19.8594,167.8125 Q20.9531,167.1875 22.1875,167.1875 Q22.9219,167.1875 23.5625,167.3594 Q24.2188,167.5156 24.7656,167.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="36" y="177.7285">ConcreteProduct</text></g><!--class Creator--><g id="elem_Creator"><rect codeline="12" fill="#FFFAFA" height="75.2188" id="Creator" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="191" x="226" y="7"></rect><ellipse cx="293.25" cy="23" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M295.4375,24.7656 L291.2969,24.7656 L290.875,25.7969 L291.2969,25.7969 Q291.9063,25.7969 292.1719,26.0313 Q292.4375,26.2656 292.4375,26.6563 Q292.4375,27.0313 292.1719,27.2656 Q291.9063,27.5 291.2969,27.5 L289,27.5 Q288.3906,27.5 288.1406,27.2656 Q287.875,27.0313 287.875,26.6406 Q287.875,26.2656 288.1563,26.0313 Q288.4219,25.7813 289.0469,25.7969 L291.7188,19.1406 L290.6094,19.1406 Q290,19.1406 289.7344,18.9063 Q289.4688,18.6719 289.4688,18.2813 Q289.4688,17.9063 289.7344,17.6719 Q290,17.4375 290.6094,17.4375 L294.2813,17.4375 L297.6719,25.7969 Q298.2656,25.7969 298.4531,25.9375 Q298.8438,26.2031 298.8438,26.6563 Q298.8438,27.0313 298.5781,27.2656 Q298.3281,27.5 297.7188,27.5 L295.4219,27.5 Q294.8125,27.5 294.5469,27.2656 Q294.2813,27.0313 294.2813,26.6406 Q294.2813,26.2656 294.5469,26.0313 Q294.8125,25.7969 295.4219,25.7969 L295.8438,25.7969 L295.4375,24.7656 Z M294.7188,23.0625 L293.3594,19.6875 L291.9844,23.0625 L294.7188,23.0625 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="48" x="313.75" y="28.7285">Creator</text><line style="stroke:#000000;stroke-width:0.5;" x1="227" x2="416" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="179" x="232" y="57.5332">+FactoryMethod() : Product;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="232" y="75.1426">+AnOperation();</text></g><!--class ConcreteCreator--><g id="elem_ConcreteCreator"><rect codeline="18" fill="#FFFAFA" height="57.6094" id="ConcreteCreator" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="190" x="232.5" y="143"></rect><ellipse cx="270.9" cy="159" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"></ellipse><path d="M273.6656,154.875 Q273.8219,154.6563 274.0094,154.5469 Q274.1969,154.4375 274.4156,154.4375 Q274.7906,154.4375 275.025,154.7031 Q275.2594,154.9531 275.2594,155.5625 L275.2594,157.0156 Q275.2594,157.625 275.025,157.8906 Q274.7906,158.1563 274.4156,158.1563 Q274.0719,158.1563 273.8688,157.9531 Q273.6656,157.7656 273.5563,157.25 Q273.5094,156.8906 273.3219,156.7031 Q272.9938,156.3281 272.3844,156.1094 Q271.775,155.8906 271.15,155.8906 Q270.3844,155.8906 269.7438,156.2188 Q269.1188,156.5469 268.6188,157.2969 Q268.1344,158.0469 268.1344,159.0781 L268.1344,160.1719 Q268.1344,161.4063 269.025,162.2344 Q269.9156,163.0469 271.5094,163.0469 Q272.4469,163.0469 273.1031,162.7969 Q273.4938,162.6406 273.9156,162.2031 Q274.1813,161.9375 274.3219,161.8594 Q274.4781,161.7813 274.6813,161.7813 Q275.0094,161.7813 275.2594,162.0469 Q275.525,162.2969 275.525,162.6406 Q275.525,162.9844 275.1813,163.3906 Q274.6813,163.9688 273.8844,164.2969 Q272.8063,164.75 271.5094,164.75 Q269.9938,164.75 268.7906,164.125 Q267.8063,163.625 267.1188,162.5625 Q266.4313,161.4844 266.4313,160.2031 L266.4313,159.0469 Q266.4313,157.7188 267.0406,156.5781 Q267.6656,155.4219 268.7594,154.8125 Q269.8531,154.1875 271.0875,154.1875 Q271.8219,154.1875 272.4625,154.3594 Q273.1188,154.5156 273.6656,154.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="290.1" y="164.7285">ConcreteCreator</text><line style="stroke:#000000;stroke-width:0.5;" x1="233.5" x2="421.5" y1="175" y2="175"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="238.5" y="193.5332">+FactoryMethod() : Product;</text></g><!--reverse link Product to ConcreteProduct--><g id="link_Product_ConcreteProduct"><path d="M95.6568,78.5154 C90.6368,102.7354 84.62,131.83 79.63,155.88 " fill="none" id="Product-backto-ConcreteProduct" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="99.31,60.89,89.7817,77.2977,101.532,79.7331,99.31,60.89" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Creator to ConcreteCreator--><g id="link_Creator_ConcreteCreator"><path d="M324.1123,100.1193 C325.0423,119.5093 325.3,124.97 326.16,142.9 " fill="none" id="Creator-backto-ConcreteCreator" style="stroke:#000000;stroke-width:1.0;"></path><polygon fill="none" points="323.25,82.14,318.1192,100.4068,330.1055,99.8319,323.25,82.14" style="stroke:#000000;stroke-width:1.0;"></polygon></g><!--reverse link Product to Creator--><g id="link_Product_Creator"><path codeline="23" d="M149.18,44.5 C172.43,44.5 196.65,44.5 225.59,44.5 " fill="none" id="Product-backto-Creator" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="#000000" points="143.18,44.5,152.18,48.5,148.18,44.5,152.18,40.5,143.18,44.5" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="167" y="37.9951">«use»</text></g><!--reverse link ConcreteProduct to ConcreteCreator--><g id="link_ConcreteProduct_ConcreteCreator"><path codeline="24" d="M152.08,172 C178.78,172 203.72,172 232.4,172 " fill="none" id="ConcreteProduct-backto-ConcreteCreator" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"></path><polygon fill="#000000" points="146.08,172,155.08,176,151.08,172,155.08,168,146.08,172" style="stroke:#000000;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="164.25" y="165.4951">«create»</text></g><!--SRC=[VOzFQyCm3CNl-XG-jXJApci998713cE577PsRD6O95QG5VgFVlSvJTDrOSmN8R-VtfD2xNodMRVAD3g4L8HTsGk-6_A5EwDwWV10KcOwvDGGgwpHfdwITh7LUynYsJFrtexOL-K4YvPgV6Bp8IaZjiX_cut0pAhmT02ed4M5RISdrM9R8WS0NGPXRMGyGUsOR6y4nYudRnW5xxyAZuBU_b3pwPnH2p5SGCLtcTIhKgktM8bF7oWLsSLIlKuccnkxIlrdXwp5aLyiDt25sGftwySAlwF-iuzMq_2wMIUJ497jjW-O933Fk67psmVS3C0myGq0]--></g></svg></p><p>Una posible descripción de las clases y objetos que participan en este patrón podría ser:</p>
<ul>
<li><strong><code>Product</code></strong> Define la interfaz de objetos que crea el '<em>Factory Method</em>' en nuestros ejemplo queremos crear la abstracción de motor de vehículo <strong><code>Motor</code></strong>.</li>
<li><strong><code>ConcreteProduct</code></strong> Define las concreciones actuales y futuras de la abstracción <strong><code>Product</code></strong> en nuestro caso <strong><code>MotorGasolina</code></strong> y <strong><code>MotorDisel</code></strong>.</li>
<li><strong><code>Creator</code></strong> Abstracción que declara el <strong>método abstracto de de fábrica</strong> (Method Factory), que devuelve un objeto de tipo <strong><code>Product</code></strong>. En nuestro caso esta clase de creación será <strong><code>Vehiculo</code></strong> pues definirá el método de fabrica que los crea con los diferentes motores.</li>
<li><strong><code>ConcreteCreator</code></strong> Concreción del creador que invalida el método abstracto de fábrica para devolver una instancia de <strong><code>ConcreteProduct</code></strong>. En nuestro caso esta clase podría representarse a través de los tipos <strong><code>VehiculoGasolina</code></strong> y <strong><code>VehiculoDiesel</code></strong>.</li>
</ul>
<p>De tal manera que si tuviéramos que sustanciar una implementación del patrón '<em>Factory Method</em>' podría ser la siguiente.</p>
<p align="center" class="puml"><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="234.5px" preserveAspectRatio="none" style="width:340px;height:234px;background:#FFFFFF;" version="1.1" viewBox="0 0 340 234" width="340.2px" zoomAndPan="magnify"><defs></defs><g><!--class Motor--><g id="elem_Motor"><rect codeline="11" fill="#FFFAFA" height="22.4" id="Motor" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.3499999999999999;" width="48.3" x="145.95" y="121.1"></rect><ellipse cx="156.45" cy="132.3" fill="#A9DCDF" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.6999999999999998;"></ellipse><path d="M157.9812,133.5359 L155.0828,133.5359 L154.7875,134.2578 L155.0828,134.2578 Q155.5094,134.2578 155.6953,134.4219 Q155.8812,134.5859 155.8812,134.8594 Q155.8812,135.1219 155.6953,135.2859 Q155.5094,135.45 155.0828,135.45 L153.475,135.45 Q153.0484,135.45 152.8734,135.2859 Q152.6875,135.1219 152.6875,134.8484 Q152.6875,134.5859 152.8844,134.4219 Q153.0703,134.2469 153.5078,134.2578 L155.3781,129.5984 L154.6016,129.5984 Q154.175,129.5984 153.9891,129.4344 Q153.8031,129.2703 153.8031,128.9969 Q153.8031,128.7344 153.9891,128.5703 Q154.175,128.4062 154.6016,128.4062 L157.1719,128.4062 L159.5453,134.2578 Q159.9609,134.2578 160.0922,134.3562 Q160.3656,134.5422 160.3656,134.8594 Q160.3656,135.1219 160.1797,135.2859 Q160.0047,135.45 159.5781,135.45 L157.9703,135.45 Q157.5437,135.45 157.3578,135.2859 Q157.1719,135.1219 157.1719,134.8484 Q157.1719,134.5859 157.3578,134.4219 Q157.5437,134.2578 157.9703,134.2578 L158.2656,134.2578 L157.9812,133.5359 Z M157.4781,132.3437 L156.5266,129.9812 L155.5641,132.3437 L157.4781,132.3437 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="25.9" x="166.25" y="136.31">Motor</text></g><!--class MotorGasolina--><g id="elem_MotorGasolina"><rect codeline="12" fill="#FFFAFA" height="22.4" id="MotorGasolina" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.3499999999999999;" width="86.8" x="51.1" y="207.2"></rect><ellipse cx="61.6" cy="218.4" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.6999999999999998;"></ellipse><path d="M63.5359,215.5125 Q63.6453,215.3594 63.7766,215.2828 Q63.9078,215.2062 64.0609,215.2062 Q64.3234,215.2062 64.4875,215.3922 Q64.6516,215.5672 64.6516,215.9937 L64.6516,217.0109 Q64.6516,217.4375 64.4875,217.6234 Q64.3234,217.8094 64.0609,217.8094 Q63.8203,217.8094 63.6781,217.6672 Q63.5359,217.5359 63.4594,217.175 Q63.4266,216.9234 63.2953,216.7922 Q63.0656,216.5297 62.6391,216.3766 Q62.2125,216.2234 61.775,216.2234 Q61.2391,216.2234 60.7906,216.4531 Q60.3531,216.6828 60.0031,217.2078 Q59.6641,217.7328 59.6641,218.4547 L59.6641,219.2203 Q59.6641,220.0844 60.2875,220.6641 Q60.9109,221.2328 62.0266,221.2328 Q62.6828,221.2328 63.1422,221.0578 Q63.4156,220.9484 63.7109,220.6422 Q63.8969,220.4562 63.9953,220.4016 Q64.1047,220.3469 64.2469,220.3469 Q64.4766,220.3469 64.6516,220.5328 Q64.8375,220.7078 64.8375,220.9484 Q64.8375,221.1891 64.5969,221.4734 Q64.2469,221.8781 63.6891,222.1078 Q62.9344,222.425 62.0266,222.425 Q60.9656,222.425 60.1234,221.9875 Q59.4344,221.6375 58.9531,220.8937 Q58.4719,220.1391 58.4719,219.2422 L58.4719,218.4328 Q58.4719,217.5031 58.8984,216.7047 Q59.3359,215.8953 60.1016,215.4687 Q60.8672,215.0312 61.7312,215.0312 Q62.2453,215.0312 62.6937,215.1516 Q63.1531,215.2609 63.5359,215.5125 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="64.4" x="71.4" y="222.41">MotorGasolina</text></g><!--class MotorDiesel--><g id="elem_MotorDiesel"><rect codeline="13" fill="#FFFAFA" height="22.4" id="MotorDiesel" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.3499999999999999;" width="74.9" x="166.95" y="207.2"></rect><ellipse cx="177.45" cy="218.4" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.6999999999999998;"></ellipse><path d="M179.3859,215.5125 Q179.4953,215.3594 179.6266,215.2828 Q179.7578,215.2062 179.9109,215.2062 Q180.1734,215.2062 180.3375,215.3922 Q180.5016,215.5672 180.5016,215.9937 L180.5016,217.0109 Q180.5016,217.4375 180.3375,217.6234 Q180.1734,217.8094 179.9109,217.8094 Q179.6703,217.8094 179.5281,217.6672 Q179.3859,217.5359 179.3094,217.175 Q179.2766,216.9234 179.1453,216.7922 Q178.9156,216.5297 178.4891,216.3766 Q178.0625,216.2234 177.625,216.2234 Q177.0891,216.2234 176.6406,216.4531 Q176.2031,216.6828 175.8531,217.2078 Q175.5141,217.7328 175.5141,218.4547 L175.5141,219.2203 Q175.5141,220.0844 176.1375,220.6641 Q176.7609,221.2328 177.8766,221.2328 Q178.5328,221.2328 178.9922,221.0578 Q179.2656,220.9484 179.5609,220.6422 Q179.7469,220.4562 179.8453,220.4016 Q179.9547,220.3469 180.0969,220.3469 Q180.3266,220.3469 180.5016,220.5328 Q180.6875,220.7078 180.6875,220.9484 Q180.6875,221.1891 180.4469,221.4734 Q180.0969,221.8781 179.5391,222.1078 Q178.7844,222.425 177.8766,222.425 Q176.8156,222.425 175.9734,221.9875 Q175.2844,221.6375 174.8031,220.8937 Q174.3219,220.1391 174.3219,219.2422 L174.3219,218.4328 Q174.3219,217.5031 174.7484,216.7047 Q175.1859,215.8953 175.9516,215.4687 Q176.7172,215.0312 177.5812,215.0312 Q178.0953,215.0312 178.5437,215.1516 Q179.0031,215.2609 179.3859,215.5125 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="52.5" x="187.25" y="222.41">MotorDiesel</text></g><!--class Vehiculo--><g id="elem_Vehiculo"><rect codeline="15" fill="#FFFAFA" height="52.6531" id="Vehiculo" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.3499999999999999;" width="114.8" x="112.7" y="4.9"></rect><ellipse cx="148.225" cy="16.1" fill="#A9DCDF" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.6999999999999998;"></ellipse><path d="M149.7562,17.3359 L146.8578,17.3359 L146.5625,18.0578 L146.8578,18.0578 Q147.2844,18.0578 147.4703,18.2219 Q147.6562,18.3859 147.6562,18.6594 Q147.6562,18.9219 147.4703,19.0859 Q147.2844,19.25 146.8578,19.25 L145.25,19.25 Q144.8234,19.25 144.6484,19.0859 Q144.4625,18.9219 144.4625,18.6484 Q144.4625,18.3859 144.6594,18.2219 Q144.8453,18.0469 145.2828,18.0578 L147.1531,13.3984 L146.3766,13.3984 Q145.95,13.3984 145.7641,13.2344 Q145.5781,13.0703 145.5781,12.7969 Q145.5781,12.5344 145.7641,12.3703 Q145.95,12.2062 146.3766,12.2062 L148.9469,12.2062 L151.3203,18.0578 Q151.7359,18.0578 151.8672,18.1562 Q152.1406,18.3422 152.1406,18.6594 Q152.1406,18.9219 151.9547,19.0859 Q151.7797,19.25 151.3531,19.25 L149.7453,19.25 Q149.3187,19.25 149.1328,19.0859 Q148.9469,18.9219 148.9469,18.6484 Q148.9469,18.3859 149.1328,18.2219 Q149.3187,18.0578 149.7453,18.0578 L150.0406,18.0578 L149.7562,17.3359 Z M149.2531,16.1437 L148.3016,13.7812 L147.3391,16.1437 L149.2531,16.1437 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="37.8" x="162.575" y="20.11">Vehiculo</text><line style="stroke:#000000;stroke-width:0.3499999999999999;" x1="113.4" x2="226.8" y1="27.3" y2="27.3"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="106.4" x="116.9" y="40.2732">+MotorFactory(): Motor;</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="49" x="116.9" y="52.5998">+Acelera();</text></g><!--class VehiculoGasolina--><g id="elem_VehiculoGasolina"><rect codeline="21" fill="#FFFAFA" height="40.3266" id="VehiculoGasolina" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.3499999999999999;" width="116.2" x="4.9" y="112"></rect><ellipse cx="22.96" cy="123.2" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.6999999999999998;"></ellipse><path d="M24.8959,120.3125 Q25.0053,120.1594 25.1366,120.0828 Q25.2678,120.0062 25.4209,120.0062 Q25.6834,120.0062 25.8475,120.1922 Q26.0116,120.3672 26.0116,120.7937 L26.0116,121.8109 Q26.0116,122.2375 25.8475,122.4234 Q25.6834,122.6094 25.4209,122.6094 Q25.1803,122.6094 25.0381,122.4672 Q24.8959,122.3359 24.8194,121.975 Q24.7866,121.7234 24.6553,121.5922 Q24.4256,121.3297 23.9991,121.1766 Q23.5725,121.0234 23.135,121.0234 Q22.5991,121.0234 22.1506,121.2531 Q21.7131,121.4828 21.3631,122.0078 Q21.0241,122.5328 21.0241,123.2547 L21.0241,124.0203 Q21.0241,124.8844 21.6475,125.4641 Q22.2709,126.0328 23.3866,126.0328 Q24.0428,126.0328 24.5022,125.8578 Q24.7756,125.7484 25.0709,125.4422 Q25.2569,125.2562 25.3553,125.2016 Q25.4647,125.1469 25.6069,125.1469 Q25.8366,125.1469 26.0116,125.3328 Q26.1975,125.5078 26.1975,125.7484 Q26.1975,125.9891 25.9569,126.2734 Q25.6069,126.6781 25.0491,126.9078 Q24.2944,127.225 23.3866,127.225 Q22.3256,127.225 21.4834,126.7875 Q20.7944,126.4375 20.3131,125.6937 Q19.8319,124.9391 19.8319,124.0422 L19.8319,123.2328 Q19.8319,122.3031 20.2584,121.5047 Q20.6959,120.6953 21.4616,120.2687 Q22.2272,119.8312 23.0912,119.8312 Q23.6053,119.8312 24.0537,119.9516 Q24.5131,120.0609 24.8959,120.3125 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="77" x="34.44" y="127.21">VehiculoGasolina</text><line style="stroke:#000000;stroke-width:0.3499999999999999;" x1="5.6" x2="120.4" y1="134.4" y2="134.4"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="107.8" x="9.1" y="147.3732">+MotorFactory() : Motor;</text></g><!--class VehiculoDiesel--><g id="elem_VehiculoDiesel"><rect codeline="26" fill="#FFFAFA" height="40.3266" id="VehiculoDiesel" rx="1.75" ry="1.75" style="stroke:#000000;stroke-width:0.3499999999999999;" width="116.2" x="219.1" y="112"></rect><ellipse cx="242.515" cy="123.2" fill="#ADD1B2" rx="7.7" ry="7.7" style="stroke:#181818;stroke-width:0.6999999999999998;"></ellipse><path d="M244.4509,120.3125 Q244.5603,120.1594 244.6916,120.0828 Q244.8228,120.0062 244.9759,120.0062 Q245.2384,120.0062 245.4025,120.1922 Q245.5666,120.3672 245.5666,120.7937 L245.5666,121.8109 Q245.5666,122.2375 245.4025,122.4234 Q245.2384,122.6094 244.9759,122.6094 Q244.7353,122.6094 244.5931,122.4672 Q244.4509,122.3359 244.3744,121.975 Q244.3416,121.7234 244.2103,121.5922 Q243.9806,121.3297 243.5541,121.1766 Q243.1275,121.0234 242.69,121.0234 Q242.1541,121.0234 241.7056,121.2531 Q241.2681,121.4828 240.9181,122.0078 Q240.5791,122.5328 240.5791,123.2547 L240.5791,124.0203 Q240.5791,124.8844 241.2025,125.4641 Q241.8259,126.0328 242.9416,126.0328 Q243.5978,126.0328 244.0572,125.8578 Q244.3306,125.7484 244.6259,125.4422 Q244.8119,125.2562 244.9103,125.2016 Q245.0197,125.1469 245.1619,125.1469 Q245.3916,125.1469 245.5666,125.3328 Q245.7525,125.5078 245.7525,125.7484 Q245.7525,125.9891 245.5119,126.2734 Q245.1619,126.6781 244.6041,126.9078 Q243.8494,127.225 242.9416,127.225 Q241.8806,127.225 241.0384,126.7875 Q240.3494,126.4375 239.8681,125.6937 Q239.3869,124.9391 239.3869,124.0422 L239.3869,123.2328 Q239.3869,122.3031 239.8134,121.5047 Q240.2509,120.6953 241.0166,120.2687 Q241.7822,119.8312 242.6462,119.8312 Q243.1603,119.8312 243.6087,119.9516 Q244.0681,120.0609 244.4509,120.3125 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="65.1" x="255.185" y="127.21">VehiculoDiesel</text><line style="stroke:#000000;stroke-width:0.3499999999999999;" x1="219.8" x2="334.6" y1="134.4" y2="134.4"></line><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="107.8" x="223.3" y="147.3732">+MotorFactory() : Motor;</text></g><!--reverse link Motor to MotorGasolina--><g id="link_Motor_MotorGasolina"><path d="M153.3041,153.2211 C144.2671,164.0641 137.725,171.689 124.6,186.2 C118.209,193.27 110.817,201.012 104.958,207.053 " fill="none" id="Motor-backto-MotorGasolina" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><polygon fill="none" points="161.371,143.542,150.0777,150.5321,156.5304,155.9101,161.371,143.542" style="stroke:#000000;stroke-width:0.6999999999999998;"></polygon></g><!--reverse link Motor to MotorDiesel--><g id="link_Motor_MotorDiesel"><path d="M179.1732,155.404 C185.7672,171.7 193.515,190.82 200.088,207.06 " fill="none" id="Motor-backto-MotorDiesel" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><polygon fill="none" points="174.447,143.724,175.2799,156.9794,183.0665,153.8286,174.447,143.724" style="stroke:#000000;stroke-width:0.6999999999999998;"></polygon></g><!--reverse link Vehiculo to VehiculoGasolina--><g id="link_Vehiculo_VehiculoGasolina"><path d="M133.299,66.1269 C115.078,83.0949 100.786,96.411 84.063,111.986 " fill="none" id="Vehiculo-backto-VehiculoGasolina" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><polygon fill="none" points="142.52,57.54,130.4368,63.0532,136.1613,69.2005,142.52,57.54" style="stroke:#000000;stroke-width:0.6999999999999998;"></polygon></g><!--reverse link Vehiculo to VehiculoDiesel--><g id="link_Vehiculo_VehiculoDiesel"><path d="M207.8901,66.0818 C215.2891,72.8228 213.906,71.617 221.2,78.4 C232.981,89.362 246.022,101.738 256.557,111.79 " fill="none" id="Vehiculo-backto-VehiculoDiesel" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><polygon fill="none" points="198.576,57.596,205.0615,69.1864,210.7187,62.9771,198.576,57.596" style="stroke:#000000;stroke-width:0.6999999999999998;"></polygon></g><!--link Vehiculo to Motor--><g id="link_Vehiculo_Motor"><path codeline="31" d="M170.1,65.94 C170.1,86.485 170.1,101.668 170.1,116.69 " fill="none" id="Vehiculo-Motor" style="stroke:#000000;stroke-width:0.6999999999999998;"></path><polygon fill="#000000" points="170.1,57.54,167.3,61.74,170.1,65.94,172.9,61.74,170.1,57.54" style="stroke:#000000;stroke-width:0.6999999999999998;"></polygon><polygon fill="#000000" points="170.1,120.89,172.9,114.59,170.1,117.39,167.3,114.59,170.1,120.89" style="stroke:#000000;stroke-width:0.6999999999999998;"></polygon><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="44.1" x="170.8" y="88.5466">«Tiene un»</text></g><!--link VehiculoGasolina to MotorGasolina--><g id="link_VehiculoGasolina_MotorGasolina"><path codeline="32" d="M70.308,152.642 C76.629,169.652 84.0694,189.6553 89.1234,203.2493 " fill="none" id="VehiculoGasolina-to-MotorGasolina" style="stroke:#000000;stroke-width:0.6999999999999998;stroke-dasharray:7.0,7.0;"></path><polygon fill="#000000" points="90.587,207.186,91.0161,200.3052,89.3673,203.9054,85.7671,202.2566,90.587,207.186" style="stroke:#000000;stroke-width:0.6999999999999998;"></polygon><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="35" x="83.3" y="183.7466">«create»</text></g><!--link VehiculoDiesel to MotorDiesel--><g id="link_VehiculoDiesel_MotorDiesel"><path codeline="33" d="M260.316,152.642 C245.7,169.652 227.8575,190.4067 216.1745,204.0007 " fill="none" id="VehiculoDiesel-to-MotorDiesel" style="stroke:#000000;stroke-width:0.6999999999999998;stroke-dasharray:7.0,7.0;"></path><polygon fill="#000000" points="213.437,207.186,219.6668,204.2331,215.7183,204.5316,215.4197,200.5831,213.437,207.186" style="stroke:#000000;stroke-width:0.6999999999999998;"></polygon><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="35" x="241.5" y="183.7466">«create»</text></g><!--SRC=[bP31Ri8m343l_WeVOOXgjqa3LMgPDkqmQHBJTWwf1H5fZ9nKZ27-VOL2LL8kv98uVdvsujV6RPIe4hLLtcSXY5bKWTurkxdv8tm4toAP26zdR5amjqglEwdFEbHBokjjALovei5-LYRGlEGrTTZPiLFEKf3SbZL0f9extWAiJ458vIRiiAHoGU81l5Qs7ZHv0b0B7qJfqBm6FpYmGEVyfZnRunJIRo1Nt21U37coKJxsVjFAwCeox07hjR-a3uYZKyLh7R3i1iFdnZ0vSQDCaoLHW-443W3NhjveKPD8ZAsvPugUS8VdWkB3U9msztL-Elqov0WhbwRG6pT9qkXlZnLQI0NgyEUXMleSNx7_]--></g></svg></p><blockquote>
<p>📌 <strong>Nota:</strong> Aunque hemos implementado la generalización de <strong><code>Motor</code></strong> con una <strong>abstracción</strong>. Siempre que sea posible hacerla a través de un <strong>Interfaz</strong> será mejor usar esta última opción.</p>
</blockquote>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Motor</span> Motor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-protected">protected</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Motor <span class="token operator">=</span> <span class="token function">MotorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>       
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Motor<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token operator">=&gt;</span> Motor<span class="token punctuation">.</span>Revoluciones<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-abstract">abstract</span> <span class="token return-type class-name">Motor</span> <span class="token function">MotorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">VehiculoGasolina</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name">Motor</span> <span class="token function">MotorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">VehiculoDiesel</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name">Motor</span> <span class="token function">MotorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorDiesel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> NUMERO_VEHICULOS_DE_MI_GARAJE <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token class-name">Vehiculo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> miGaraje <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Vehiculo</span><span class="token punctuation">[</span>NUMERO_VEHICULOS_DE_MI_GARAJE<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> miGaraje<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            miGaraje<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword keyword-switch">switch</span>
            <span class="token punctuation">{</span>
                <span class="token number">0</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoDiesel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                _ <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v <span class="token keyword keyword-in">in</span> miGaraje<span class="token punctuation">)</span> v<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><blockquote>
<p>✋ <strong>Importante:</strong> Si nos fijamos a efectos prácticos seguirá cumpliéndose la composición porque las referencias a motor desaparecerán junto con el vehículo.</p>
</blockquote>
<p>Además:</p>
<ol>
<li>
<p>Cumplimos <strong>DIP</strong> porque la clase de alto nivel <strong><code>Vehículo</code></strong> depende solo de la abstracción <strong><code>Motor</code></strong> y así como las especificaciones de bajo nivel de motor.</p>
</li>
<li>
<p>El '<em>Factory Method</em>' es la que tiene dependencias de uso (<strong><code>&lt;&lt;use&gt;&gt;</code></strong>) con las clases implicadas y se encargara de crear instáncias de los diferentes tipos de vehículos asegurándonos que al desaparecer un vehículo desaparezca su motor.</p>
</li>
<li>
<p>La clase <strong><code>Principal</code></strong> usa las clases subclases '<em>factoría</em>' para instanciar objetos vehículo de forma simple y además podríamos usar esta misma de <strong>forma simple</strong> en nuestros test para crear <strong><a href="https://es.wikipedia.org/wiki/Objeto_simulado">mocks</a></strong> de vehículo para hacer pruebas unitarias.</p>
</li>
<li>
<p>Cumplimos el principio <strong>OCP</strong> porque si añadiésemos un nuevo tipo de motor, las definiciones Vehiculo e Motor no tendríamos que modificarlas (Cerradas para Modificación) y solo tendríamos que definir nuevas concreciones (Abiertas para ampliación). Por ejemplo si añadimos un tipo de motor llamado <strong><code>MotorElectrico</code></strong> tendríamos solo que definir las nuevas concreciones de las abstracciones ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">MotorElectrico</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Motor</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Aumenta intensidad corriente"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Revoluciones <span class="token operator">+=</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">VehiculoElectrico</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Vehiculo</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name">Motor</span> <span class="token function">MotorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorElectrico</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Principal</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> NUMERO_VEHICULOS_DE_MI_GARAJE <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token class-name">Vehiculo<span class="token punctuation">[</span><span class="token punctuation">]</span></span> miGaraje <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Vehiculo</span><span class="token punctuation">[</span>NUMERO_VEHICULOS_DE_MI_GARAJE<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> miGaraje<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            miGaraje<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword keyword-switch">switch</span>
            <span class="token punctuation">{</span>
                <span class="token number">0</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoDiesel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token number">1</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoElectrico</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                _ <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Vehiculo</span> v <span class="token keyword keyword-in">in</span> miGaraje<span class="token punctuation">)</span> v<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ol>
<p>Sin embargo, si añadiésemos nuevos componentes al vehículo como por ejemplo neumáticos de varios tipos. Las combinaciones de creación podrían crecer y posiblemente necesitemos definir muchos tipos nuevos a modo de '<em>factoría</em>'. Algo similar a la que nos sucedía con los componentes de ordenador y que solucionamos con un patrón Decorator.</p>
<p>Otro patrón creacional usado sobretodo por programadores de Java para facilitar sus test es el denominado <strong>Builder</strong>.</p>
<div style="page-break-after:always;"></div>
<h4 id="construction_worker-patrón-creacional-fluent-builder">👷 Patrón creacional Fluent Builder </h4>
<p>Existe un <a href="https://www.dofactory.com/net/builder-design-pattern">Classical Builder Pattern</a> pero es este caso vamos a implementar una versión más simplificada e incluso más usada, sobre todo entre programadores de Java, que nos hará tener una mejor idea de la utilidad del patrón.</p>
<p>Supongamos como comentábamos, que queremos añadir neumáticos a nuestros vehículos. Podemos definir la siguiente abstracción de los datos de un neumático con sus abstracciones...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-interface">interface</span> <span class="token class-name">INeumaticos</span>
<span class="token punctuation">{</span>
    <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> IndiceVelocidad <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> IndiceCarga <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Radio <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Perfil <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">NeumaticosNormal</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">INeumaticos</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> IndiceVelocidad <span class="token operator">=&gt;</span> <span class="token string">"H"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> IndiceCarga <span class="token operator">=&gt;</span> <span class="token number">88</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Radio <span class="token operator">=&gt;</span> <span class="token number">16</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Perfil <span class="token operator">=&gt;</span> <span class="token number">55</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token operator">=&gt;</span> <span class="token number">205</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">NeumaticosSport</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">INeumaticos</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> IndiceVelocidad <span class="token operator">=&gt;</span> <span class="token string">"Y"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> IndiceCarga <span class="token operator">=&gt;</span> <span class="token number">92</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Radio <span class="token operator">=&gt;</span> <span class="token number">18</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Perfil <span class="token operator">=&gt;</span> <span class="token number">40</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Ancho <span class="token operator">=&gt;</span> <span class="token number">225</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Vamos a modificar la definición de vehículo.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Vehiculo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Motor</span> Motor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">INeumaticos</span> Neumaticos <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Vehiculo</span><span class="token punctuation">(</span><span class="token class-name">Motor</span> motor<span class="token punctuation">,</span> <span class="token class-name">INeumaticos</span> neumaticos<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Motor <span class="token operator">=</span> motor<span class="token punctuation">;</span>
        Neumaticos <span class="token operator">=</span> neumaticos<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Motor<span class="token punctuation">.</span><span class="token function">Acelera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Revoluciones <span class="token operator">=&gt;</span> Motor<span class="token punctuation">.</span>Revoluciones<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Fíjate que <strong>ya no es una clase abstracta</strong> y que además el constructor tiene más sentido al recibir las abstracciones para cumplir <strong>DIP</strong>. Es una clase más simple y sin definir métodos raros fuera de su '<em>responsabilidad</em>'.</p>
<p>Definiremos ahora una clase <strong><code>Builder</code></strong> a modo de '<em>obrero de la consrtrucción</em>' a la que le iremos pasando los componentes para ensamblar un determinado tipo de vehículo. Dicha clase le podemos llamar <strong><code>VehiculoBuilder</code></strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">VehiculoBuilder</span>
<span class="token punctuation">{</span>    
    <span class="token comment">// Debe definir propiedades autoimplementadas con los campos o </span>
    <span class="token comment">// 'piezas' que necesita el 'obrero' para ensamblar un objeto de tipo vehículo.</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">Motor</span> Motor <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">INeumaticos</span> Neumaticos <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token comment">// Definimos Setters para cada una de las piezas pero de con un</span>
    <span class="token comment">// interfaz fluído, para facilitar la sintáxis de construcción.</span>
    <span class="token comment">// Es la forma en que le pasamos al 'obrero' las piezas necesarias para ensamplar el vehículo.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">VehiculoBuilder</span> <span class="token function">SetMotor</span><span class="token punctuation">(</span><span class="token class-name">Motor</span> m<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Motor <span class="token operator">=</span> m<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">VehiculoBuilder</span> <span class="token function">SetNeumaticos</span><span class="token punctuation">(</span><span class="token class-name">INeumaticos</span> n<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Neumaticos <span class="token operator">=</span> n<span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Por último, definiremos un métod llamado Build() que devulverá un objeto vehículo creado.</span>
    <span class="token comment">// Fíjate que si no está definido uno de los compoenentes o piezas del vehículo, </span>
    <span class="token comment">// el obrero creará una por defecto o que puede definirse en función de las otras. </span>
    <span class="token comment">// Por ejemplo, podríamos decidir que si el motor es gasolina y no me han </span>
    <span class="token comment">// definido los neumáticos, podría montar por defecto neumáticos sport para ese tipo de motor.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">Vehiculo</span> <span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Vehiculo</span><span class="token punctuation">(</span>
            Motor <span class="token operator">??</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Neumaticos <span class="token operator">??</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NeumaticosNormal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Ahora crear, difenetes combinaciones de vhículos sería bastante simple e intuitiva.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definimos el 'obrero que va a construir los vehículos'.</span>
    <span class="token class-name">VehiculoBuilder</span> builder <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">VehiculoBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 👷</span>

    <span class="token comment">// Creamos un vehículo con motor de gasolína y neumáticos sport.</span>
    <span class="token class-name">Vehiculo</span> gasolinaSport  <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">SetMotor</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">MotorGasolina</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                     <span class="token punctuation">.</span><span class="token function">SetNeumaticos</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NeumaticosSport</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                     <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Le cambiamos el componente de neumáticos a obrero para que ahora</span>
    <span class="token comment">// me haga un vehículo con motor de gasolína y neumáticos normales. </span>
    <span class="token class-name">Vehiculo</span> gasolinaNormal <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">SetNeumaticos</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">NeumaticosNormal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                     <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Si te fijas bien en el código, podremos definir todas las combinaciones de motor y neumático que queramos, simplemente definiendo nuesvas concreciones y sin tener que definir una factoría específica de la combinación. Además cumpliremos <strong>OCP</strong> y <strong>DIP</strong> ya que al definir nuevos tipos de neumático o motor no tendremos que redefinir la clase <strong><code>Vehículo</code></strong>, ni niguna de los '<em>ensamblajes</em>' de vehículos ya creadas.</p>
<blockquote>
<p>📌 <strong>Nota:</strong> Esta sería una versión muy simplificada del patron <strong>'<em>Fluent Builder</em>'</strong> para que entendamos la idea. Exsiten otras propuestas de implementación donde el builder solo puede construir un objeto y además el set de los diferentes componentes del mismo está formazo ha hacerse y además en un determinado orden. De esa forma no podemos dejar ningún componente con un valor por defecto como en nuestra propuesta.</p>
</blockquote>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>