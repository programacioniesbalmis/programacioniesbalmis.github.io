<!DOCTYPE html><html><head>
      <title>Programaci√≥n 1¬∫ DAM Tema 10.2</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v19/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
.markdown-preview.markdown-preview .contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.markdown-preview.markdown-preview .fondo {
  background: url(https://programacioniesbalmis.github.io/Imagenes/BannersMoodle/banner.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.markdown-preview.markdown-preview .cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.markdown-preview.markdown-preview .abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.markdown-preview.markdown-preview .cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.markdown-preview.markdown-preview .autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="tema-102">Tema 10.2 </h1>
<p>Descargar estos apuntes en <a href="./Tema10_2.pdf">pdf</a> o <a href="./Tema10_2.html">html</a></p>
<h2 id="√≠ndice">√çndice </h2>

<div class="md-toc">
<details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#colecciones-tipo-tabla-en-las-bcl" class="md-toc-link"><p>Colecciones tipo tabla en las BCL</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#colecci√≥n-listt" class="md-toc-link"><p>Colecci√≥n List&lt;T&gt;</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#conversiones-entre-listt-y-otras-colecciones" class="md-toc-link">
            <p>Conversiones entre List&lt;T&gt; y otras colecciones</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#el-tad-cola" class="md-toc-link"><p>El TAD Cola</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#queuet-el-tad-cola-en-las-bcl" class="md-toc-link">
            <p>Queue&lt;T&gt; el TAD Cola en las BCL</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#el-tad-pila" class="md-toc-link"><p>El TAD Pila</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#satckt-el-tad-pila-en-las-bcl" class="md-toc-link">
            <p>Satck&lt;T&gt; el TAD Pila en las BCL</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#colecci√≥n-dictionaryk-v" class="md-toc-link"><p>Colecci√≥n Dictionary&lt;K, V&gt;</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#profundizando-en-el-uso-de-los-diccionarios" class="md-toc-link"><p>Profundizando en el uso de los diccionarios</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#usando-tipos-propios-como-claves" class="md-toc-link">
            <p>Usando tipos propios como claves</p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    
        </div>
      </details>
    
</div>
<div style="page-break-after:always;"></div>
<h2 id="colecciones-tipo-tabla-en-las-bcl">Colecciones tipo tabla en las BCL </h2>
<h3 id="colecci√≥n-listt">Colecci√≥n List&lt;T&gt; </h3>
<p>Las listas son una especie de arrays din√°micos que encapsulan las operaciones a√±adir o quitar elementos en cualquier momento y de cualquier parte del array. Para trabajar con ellas se utiliza el TAD <strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.collections.generic.list-1">List&lt;T&gt;</a></strong> de C#.</p>
<p>Por ejemplo, si creamos una lista de tipo <strong><code>Persona</code></strong> podremos acceder a datos de forma id√©ntica a los Arrays ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Persona</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Edad <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Persona</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> edad<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        Edad <span class="token operator">=</span> edad<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Nombre</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Edad</span><span class="token punctuation">}</span></span><span class="token string"> a√±os"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Ejemplo</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Definiremos la lista del tipo Persona y aunque es posible,</span>
        <span class="token comment">// no har√° falta dimensionarla previamente. </span>
        <span class="token class-name"><span class="token keyword keyword-var">var</span></span> personas <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>Persona<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Introduce las persona a leer: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> numeroPersonas <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numeroPersonas<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Nombre </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">i<span class="token operator">+</span><span class="token number">1</span></span><span class="token punctuation">}</span></span><span class="token string">: "</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre <span class="token operator">=</span> Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">;</span>
            Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Edad </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">i<span class="token operator">+</span><span class="token number">1</span></span><span class="token punctuation">}</span></span><span class="token string">: "</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword keyword-int">int</span></span> edad <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// La operaci√≥n de a√±adir se simplifica y no habr√° que hacer un Resize</span>
            personas<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Persona</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> edad<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Puedo recorrer la colecci√≥n como en los arrays tradicionales.</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> personas<span class="token punctuation">.</span>Count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>personas<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-var">var</span></span> p <span class="token keyword keyword-in">in</span> personas<span class="token punctuation">)</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Principales <strong>operaciones</strong> que se pueden realizar en una lista:</p>
<ul>
<li>
<p><strong>Inicializar</strong> la Lista, para poder usarla.<br>
Es lo primero que debemos hacer es instanciar la lista para luego ir a√±adiendo elementos. Esto se hace definiendo una variable de tipo <strong><code>List&lt;T&gt;</code></strong> y usando el  operador <strong><code>new</code></strong> para inicializarla.<br>
Supongamos una lista de cadenas, la inicializaci√≥n se har√≠a de la siguiente manera...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// Se instanciar√°n indic√°ndo el tipo que va a contener List&lt;T&gt; lista = new List&lt;T&gt;();</span>
<span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span> textos <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Puedo darles una capacidad inicial como a los arrays si la se.</span>
<span class="token class-name"><span class="token keyword keyword-var">var</span></span> textos <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Puedo definir unos datos iniciales como en los arrays.</span>
<span class="token class-name"><span class="token keyword keyword-var">var</span></span> textos <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token string">"texto1"</span><span class="token punctuation">,</span> <span class="token string">"texto2"</span><span class="token punctuation">,</span> <span class="token string">"texto3"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></li>
</ul>
<div style="page-break-after:always;"></div>
<ul>
<li>
<p><strong>A√±adir</strong> datos una vez tenemos la lista creada, podemos a√±adir datos de dos formas:</p>
<ol>
<li>
<p>Usando el m√©todo de inst√°ncia <strong>Add</strong>, a√±adiremos un elemento al final de ella.<br>
<strong><code>textos.Add("cadena a√±adida")</code></strong></p>
</li>
<li>
<p>Usando el m√©todo de inst√°ncia <strong>Insert</strong>, a√±adiremos  un  elemento en la posici√≥n que indiquemos.<br>
<strong><code>textos.Insert(1, "otra cadena")</code></strong></p>
</li>
</ol>
<blockquote>
<p>‚úã <strong>Importante:</strong> A la hora de gestionar las listas, hay que tener en cuenta que las posiciones empiezan a numerarse por el cero. Adem√°s, si se intenta sobrepasar o acceder a una posici√≥n mayor al tama√±o de la lista se producir√° una excepci√≥n similar a lo que ocurre con los arrays.</p>
</blockquote>
</li>
<li>
<p><strong>Modificar</strong> un dato. Como en los arrays, si queremos cambiar directamente el  valor  de uno de los datos de la lista, basta con que accedamos a su posici√≥n y modifiquemos o le asignemos otro valor.<br>
<strong><code>textos[1] = "Hola"</code></strong></p>
</li>
<li>
<p><strong>Eliminar</strong> un dato de la lista, en este caso tambi√©n tenemos varias alternativas:</p>
<ol>
<li>
<p>Usando el m√©todo de inst√°ncia <strong>Remove</strong>, eliminamos el elemento que coincida con el que se pasa como par√°metro.<br>
<strong><code>textos.Remove("Hola");</code></strong><br>
Elimina el elemento <strong><code>"Hola"</code></strong> de la lista y si hubiera varios, eliminar√≠a el <strong>primero</strong> que se encuentre.</p>
</li>
<li>
<p>Usando el m√©todo de inst√°ncia <strong>RemoveAt</strong>, elimina el elemento de la posici√≥n que indiquemos:<br>
<strong><code>textos.RemoveAt(0);</code></strong></p>
</li>
</ol>
<blockquote>
<p>‚úã <strong>Importante:</strong> Debemos tener en cuenta que estas operaciones cambiar√°n el tama√±o de la lista y por tanto deberemos llevar cuidado si eliminamos elementos mientras la recorremos o si nos hemos guardado la posici√≥n de alg√∫n dato ya que cambiar√° tras la eliminaci√≥n de un elemento anterior.</p>
</blockquote>
</li>
<li>
<p><strong>Recorrer</strong> los elementos de la lista a trav√©s de un bucle <strong><code>for</code></strong> o <strong><code>forech</code></strong> como vimos en el ejemplo anterior.</p>
<blockquote>
<p>üìå <strong>Nota:</strong> La longitud de la lista ya no es la propiedad <strong><code>Lenght</code></strong> como en los arrays, sino la propiedad <strong><code>Count</code></strong>.</p>
</blockquote>
</li>
</ul>
<h4 id="conversiones-entre-listt-y-otras-colecciones">Conversiones entre List&lt;T&gt; y otras colecciones </h4>
<p>Como ya vimos con las colecciones vinculadas, podemos crear una <strong><code>List&lt;T&gt;</code></strong> a partir de cualquier colecci√≥n que implemente <strong><code>IEnumerable&lt;T&gt;</code></strong>, pero tendremos que tener cuidado si son tipos referencia mutables, porque ambas colecciones compartir√°n la referencia a esos objetos.</p>
<ol>
<li>
<p>Convertir colecci√≥n a <strong><code>List&lt;T&gt;</code></strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> v <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// Lista a partir de un array.</span>
<span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span> l1 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">LinkedList<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span> ll <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">LinkedList<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ll<span class="token punctuation">.</span><span class="token function">AddLast</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ll<span class="token punctuation">.</span><span class="token function">AddLast</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Lista a partir de una lista enlazada.</span>
<span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span> l2 <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>ll<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// o tambi√©n</span>
<span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span> l2 <span class="token operator">=</span> Enumerable<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ToList</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>ll<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
<li>
<p>Convertir <strong><code>List&lt;T&gt;</code></strong> a otra colecci√≥n.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span> l <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
l<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
l<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Al implementar List&lt;T&gt; IEnumerable&lt;T&gt; </span>
<span class="token comment">// podremos pasarla como secuencia a cualquier colecci√≥n</span>
<span class="token class-name">LinkedList<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span> ll <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">LinkedList<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Para convertir a array las colecciones que internamente son tablas</span>
<span class="token comment">// suelen implementar el m√©todo ToArray() de paso inmediato.</span>
<span class="token class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> v <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">ToArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// o tambi√©n</span>
<span class="token class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> v <span class="token operator">=</span> Enumerable<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ToArray</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
</ol>
<div style="page-break-after:always;"></div>
<blockquote>
<p>üéì <strong>Caso de estudio:</strong></p>
<p>Supongamos que tenemos un <strong>array de enteros muy grande</strong> (en nuestra prueba vamos a usar <strong>500000</strong> enteros) y queremos hacer una funci√≥n que reciba dicho array y me filtre los datos devolvi√©ndome √∫nicamente los enteros pares. Para ello, vamos a utilizar diferentes algoritmos o estrat√©gias as√≠ como diferentes colecciones para realizar el filtrado y testear as√≠ las diferentes caracter√≠sticas que hemos descrito a lo largo de este tema 10.</p>
<p>Vamos a definir el primer lugar un m√©todo que me genere el array de n√∫meros enteros a filtrar de forma aleatoria. Una posibilidad podr√≠a ser el siguiente c√≥digo...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-using">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>
<span class="token keyword keyword-using">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span>
<span class="token keyword keyword-using">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Diagnostics</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">CasoDeEstudio</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token function">ArrayNumeros</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> LIMITE <span class="token operator">=</span> <span class="token number">500000</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> numeros <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name"><span class="token keyword keyword-int">int</span></span><span class="token punctuation">[</span>LIMITE<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name">Random</span> seed <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numeros<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            numeros<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> seed<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> LIMITE <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-return">return</span> numeros<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><p>En primer lugar vamos a utilizar √∫nicamente arrays y para filtrar vamos a crear otro array que re-dimensionaremos en 1 como hemos hecho a lo largo del curso.</p>
<p>üìå <strong>Nota:</strong> Recordemos que la operaci√≥n <strong><code>Resize</code></strong> sobre un array tiene un coste temporal alto y que los arrays no permiten operaciones de eliminaci√≥n de elementos que me permitir√≠a optar por una estrategia de obtener los pares eliminando los impares.<br>
Una posible implementaci√≥n podr√≠a ser la siguiente....</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token function">ObtenerParesArraysYResize</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> numeros<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> pares <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Empty</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numeros<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>numeros<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                Array<span class="token punctuation">.</span><span class="token function">Resize</span><span class="token punctuation">(</span><span class="token keyword keyword-ref">ref</span> pares<span class="token punctuation">,</span> pares<span class="token punctuation">.</span>Length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                pares<span class="token punctuation">[</span><span class="token operator">^</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> numeros<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token keyword keyword-return">return</span> pares<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><p>Ahora vamos a utilizar la misma estrategia pero usando internamente una colecci√≥n de tipo <strong><code>List&lt;int&gt;</code></strong> en lugar de un <strong><code>int[]</code></strong>. Internamente es similar, pero recordemos que su implementaci√≥n se ha optimizado para <strong>a√±adir elementos al final</strong>.</p>
<p>Una posible implementaci√≥n podr√≠a ser la siguiente....</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token function">ObtenerParesUsandoListYAdd</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> numeros<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span> pares <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numeros<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>numeros<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
               pares<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>numeros<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-return">return</span> pares<span class="token punctuation">.</span><span class="token function">ToArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></blockquote>
<div style="page-break-after:always;"></div>
<blockquote>
<p>üéì <strong>Caso de estudio continuaci√≥n ...</strong></p>
<p>En la siguiente implementaci√≥n aprovechando que las listas implementan el m√©todo <strong><code>RemoveAt(int pos)</code></strong> para borrar en una posici√≥n determinada. Vamos a implementar el algoritmo borrando aquellos n√∫meros impares que encontremos.</p>
<p>üìå <strong>Nota:</strong> Recuerda que el borrado es costoso en <strong><code>List&lt;T&gt;</code></strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token function">ObtenerParesUsandoListYRemoveAt</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> numeros<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Convierto el array de entrada a una lista para las operaciones.</span>
        <span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span> lpares <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>numeros<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name"><span class="token keyword keyword-var">var</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">// Mientras no hayamos llegado el final del array...</span>
        <span class="token keyword keyword-while">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> lpares<span class="token punctuation">.</span>Count<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>lpares<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token comment">// Si borramos no hacemos i++ porque al borrar el siguiente </span>
                <span class="token comment">// elemento ocupar√° el lugar del que estamos borrando.</span>
                lpares<span class="token punctuation">.</span><span class="token function">RemoveAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-else">else</span>
                i<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Vuelvo a transformar la lista en un array </span>
        <span class="token comment">// que es lo que devuelve el m√©todo.</span>
        <span class="token keyword keyword-return">return</span> lpares<span class="token punctuation">.</span><span class="token function">ToArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><p>Ahora vamos a implementar un algoritmo an√°logo pero usando <strong><code>LinkedList&lt;T&gt;</code></strong> que es m√°s eficiente para borrados.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token function">ObtenerParesUsandoLinkedListYRemove</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> numeros<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Convierto el array de entrada a una lista enlazada.</span>
        <span class="token class-name">LinkedList<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span> llpares <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">LinkedList<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>numeros<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name"><span class="token keyword keyword-var">var</span></span> it <span class="token operator">=</span> llpares<span class="token punctuation">.</span>First<span class="token punctuation">;</span>
        <span class="token comment">// Mientras el iterador de nodos apunte a alg√∫n nodo.</span>
        <span class="token keyword keyword-while">while</span><span class="token punctuation">(</span>it <span class="token operator">!=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Me quedo con la referencia al siguiente nodo por</span>
            <span class="token comment">// si al hacer el Remove del mismo se perdiese.</span>
            <span class="token class-name"><span class="token keyword keyword-var">var</span></span> s <span class="token operator">=</span> it<span class="token punctuation">.</span>Next<span class="token punctuation">;</span>

            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>it<span class="token punctuation">.</span>Value <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
                llpares<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            it <span class="token operator">=</span> s<span class="token punctuation">;</span> <span class="token comment">// Tanto si borro como sino voy al siguiente.</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Paso de nuevo la lista enlazada a un array </span>
        <span class="token comment">// que es lo que devuelve el m√©todo.</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> pares  <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name"><span class="token keyword keyword-int">int</span></span><span class="token punctuation">[</span>llpares<span class="token punctuation">.</span>Count<span class="token punctuation">]</span><span class="token punctuation">;</span>
        llpares<span class="token punctuation">.</span><span class="token function">CopyTo</span><span class="token punctuation">(</span>pares<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> pares<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><p>Voy a realizar un programa principal donde '<em>cronometre</em>' el tiempo de ejecuci√≥n de cada uno de los m√©todos que he implementado, operando sobre el mismo array generado aleatoriamente y as√≠ poder comparar las diferentes estrat√©gias.</p>
</blockquote>
<div style="page-break-after:always;"></div>
<blockquote>
<p>üéì <strong>Caso de estudio continuaci√≥n ...</strong></p>
<p>En la siguiente implementaci√≥n aprovechando que las listas implementan el m√©todo</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Stopwatch</span> c <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Stopwatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Instancio un cronometro.</span>

        <span class="token class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> numeros <span class="token operator">=</span> <span class="token function">ArrayNumeros</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Genero el array de 500000 n√∫meros.</span>

        c<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Usando Arrays y Resize, t -&gt; "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _ <span class="token operator">=</span> <span class="token function">ObtenerParesArraysYResize</span><span class="token punctuation">(</span>numeros<span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">c<span class="token punctuation">.</span>ElapsedMilliseconds</span><span class="token punctuation">}</span></span><span class="token string"> ms"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        c<span class="token punctuation">.</span><span class="token function">Restart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Usando List y Add, t -&gt; "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _ <span class="token operator">=</span> <span class="token function">ObtenerParesUsandoListYAdd</span><span class="token punctuation">(</span>numeros<span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">c<span class="token punctuation">.</span>ElapsedMilliseconds</span><span class="token punctuation">}</span></span><span class="token string"> ms"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        c<span class="token punctuation">.</span><span class="token function">Restart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Usando List y RemoveAt, t -&gt; "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _ <span class="token operator">=</span> <span class="token function">ObtenerParesUsandoListYRemoveAt</span><span class="token punctuation">(</span>numeros<span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">c<span class="token punctuation">.</span>ElapsedMilliseconds</span><span class="token punctuation">}</span></span><span class="token string"> ms"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        c<span class="token punctuation">.</span><span class="token function">Restart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Usando LinkedList y Remove, t -&gt; "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _ <span class="token operator">=</span> <span class="token function">ObtenerParesUsandoLinkedListYRemove</span><span class="token punctuation">(</span>numeros<span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">c<span class="token punctuation">.</span>ElapsedMilliseconds</span><span class="token punctuation">}</span></span><span class="token string"> ms"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Tras ejecutar el programa principal obtengo los siguientes tiempos ...</p>
<pre data-role="codeBlock" data-info="text" class="language-text text"><code>Usando Arrays y Resize, t -&gt; 21402 ms
Usando List y Add, t -&gt; 11 ms
Usando List y RemoveAt, t -&gt; 5830 ms
Usando LinkedList y Remove, t -&gt; 42 ms
</code></pre><p>Si nos fijamos en los resultados, podemos destacar que:</p>
<ol>
<li>Usar el <strong><code>List&lt;T&gt;</code></strong> con <strong><code>Add</code></strong> es <strong>2000 veces m√°s r√°pido</strong> que hacer un <strong><code>Resize</code></strong> para a√±adir cada n√∫mero par.</li>
<li><strong>Borrar</strong> una posici√≥n en un <strong><code>LinkedList&lt;T&gt;</code></strong> ha sido <strong>138 veces m√°s r√°pido</strong> que hacerlo en un <strong><code>List&lt;T&gt;</code></strong>.</li>
<li>La mejor estrateg√≠a para filtrar ha sido a√±adir en un <strong><code>List&lt;T&gt;</code></strong>.</li>
</ol>
<p>Prueba a ejecutar el programa con diferentes tama√±os del array de entrada y ejecuciones aleatorias y reflexiona sobre las implementaciones propuestas.</p>
</blockquote>
<div style="page-break-after:always;"></div>
<h3 id="el-tad-cola">El TAD Cola </h3>
<p>Los elementos se a√±aden por el final y se suprimen por el principio denominado <strong>frente de la cola</strong>. Por esta raz√≥n, tambi√©n se les conoce como estructuras <strong>FIFO</strong>, acr√≥nimo en ingles de <em>'<strong>Primero</strong> en Entrar, <strong>Primero</strong> en Salir'</em>.<br>
Podremos implementar el TAD Cola de forma vinculada o con una tabla. Pero su funcionalidad ser√° la misma, porque realmente lo que implementa son ciertas operaciones b√°sicas que veremos a continuaci√≥n.</p>
<h4 id="queuet-el-tad-cola-en-las-bcl">Queue&lt;T&gt; el TAD Cola en las BCL </h4>
<p>En las BCL est√° <strong>implementado como tabla</strong> y no de forma vinculada.</p>
<p>Las <strong>operaciones b√°sicas</strong> son:</p>
<p>‚Ä¢ <strong>Encolar</strong> (<strong><code>c.Enqueue(T dato)</code></strong>).<br>
‚Ä¢ <strong>Desencolar</strong> (<strong><code>c.Dequeue() ‚Üí T</code></strong>).<br>
‚Ä¢ <strong>Borrar</strong> toda la cola (<strong><code>c.Clear()</code></strong>)<br>
‚Ä¢ <strong>Consultar el frente</strong> de la cola sin desencolar (<strong><code>c.Peek() ‚Üí T</code></strong>).<br>
‚Ä¢ Ver si est√° <strong>vac√≠a</strong> (<strong><code>c.Count == 0</code></strong>).</p>
<p></p><p align="center" style="zoom:0.6" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="1291pt" height="381pt" viewBox="0.00 0.00 1290.58 381.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 377.2)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-377.2 1286.58,-377.2 1286.58,4 -4,4"></polygon>
<g id="clust2" class="cluster">
<title>cluster2</title>
<polygon fill="none" stroke="Transparent" points="267.58,-143.8 267.58,-365.2 385.58,-365.2 385.58,-143.8 267.58,-143.8"></polygon>
</g>
<g id="clust4" class="cluster">
<title>cluster4</title>
<polygon fill="none" stroke="Transparent" points="519.58,-109 519.58,-365.2 637.58,-365.2 637.58,-109 519.58,-109"></polygon>
</g>
<g id="clust1" class="cluster">
<title>cluster1</title>
<polygon fill="none" stroke="Transparent" points="141.58,-161.2 141.58,-365.2 259.58,-365.2 259.58,-161.2 141.58,-161.2"></polygon>
</g>
<g id="clust5" class="cluster">
<title>cluster0</title>
<polygon fill="none" stroke="Transparent" points="645.58,-91.6 645.58,-361.8 715.58,-361.8 715.58,-91.6 645.58,-91.6"></polygon>
</g>
<g id="clust6" class="cluster">
<title>cluster5</title>
<polygon fill="none" stroke="Transparent" points="723.58,-8 723.58,-361.8 861.58,-361.8 861.58,-8 723.58,-8"></polygon>
</g>
<g id="clust7" class="cluster">
<title>cluster6</title>
<polygon fill="none" stroke="Transparent" points="869.58,-8 869.58,-361.8 1007.58,-361.8 1007.58,-8 869.58,-8"></polygon>
</g>
<g id="clust8" class="cluster">
<title>cluster7</title>
<polygon fill="none" stroke="Transparent" points="1015.58,-8 1015.58,-361.8 1153.58,-361.8 1153.58,-8 1015.58,-8"></polygon>
</g>
<g id="clust9" class="cluster">
<title>cluster8</title>
<polygon fill="none" stroke="Transparent" points="1161.58,-8 1161.58,-361.8 1274.58,-361.8 1274.58,-8 1161.58,-8"></polygon>
</g>
<g id="clust3" class="cluster">
<title>cluster3</title>
<polygon fill="none" stroke="Transparent" points="393.58,-126.4 393.58,-365.2 511.58,-365.2 511.58,-126.4 393.58,-126.4"></polygon>
</g>
<!-- vacio -->
<g id="node1" class="node">
<title>vacio</title>
</g>
<!-- cola -->
<g id="node2" class="node">
<title>cola</title>
<text text-anchor="middle" x="65.58" y="-194.8" font-family="Arial" font-size="14.00">Operaciones FIFO</text>
<text text-anchor="middle" x="65.58" y="-178" font-family="Arial" font-size="14.00">sobre una Cola c</text>
</g>
<!-- vacio&#45;&gt;cola -->
<g id="edge1" class="edge">
<title>vacio-&gt;cola</title>
<path fill="none" stroke="Transparent" d="M65.58,-317.81C65.58,-294.37 65.58,-251.7 65.58,-222.52"></path>
<polygon fill="Transparent" stroke="Transparent" points="69.08,-222.83 65.58,-212.83 62.08,-222.83 69.08,-222.83"></polygon>
</g>
<!-- dato1 -->
<g id="node3" class="node">
<title>dato1</title>
<polygon fill="none" stroke="black" points="163.68,-318.4 163.68,-353.2 189.47,-353.2 189.47,-318.4 163.68,-318.4"></polygon>
<text text-anchor="start" x="172.68" y="-331.6" font-family="Arial" font-size="14.00">2</text>
</g>
<!-- cola1 -->
<g id="node4" class="node">
<title>cola1</title>
<polygon fill="none" stroke="black" points="163.68,-173.2 163.68,-208 189.47,-208 189.47,-173.2 163.68,-173.2"></polygon>
<text text-anchor="start" x="172.68" y="-186.4" font-family="Arial" font-size="14.00">1</text>
</g>
<!-- dato1&#45;&gt;cola1 -->
<g id="edge2" class="edge">
<title>dato1-&gt;cola1</title>
<path fill="none" stroke="black" d="M176.58,-314.59C176.58,-290.81 176.58,-251.06 176.58,-223.21"></path>
<polygon fill="black" stroke="black" points="180.08,-223.22 176.58,-213.22 173.08,-223.22 180.08,-223.22"></polygon>
<text text-anchor="middle" x="218.6" y="-293.8" font-family="Arial" font-size="14.00">c.Enqueue(2)</text>
</g>
<!-- dato2 -->
<g id="node5" class="node">
<title>dato2</title>
<polygon fill="none" stroke="black" points="289.68,-318.4 289.68,-353.2 315.47,-353.2 315.47,-318.4 289.68,-318.4"></polygon>
<text text-anchor="start" x="298.68" y="-331.6" font-family="Arial" font-size="14.00">3</text>
</g>
<!-- cola2 -->
<g id="node6" class="node">
<title>cola2</title>
<polygon fill="none" stroke="black" points="289.68,-190.6 289.68,-225.4 315.47,-225.4 315.47,-190.6 289.68,-190.6"></polygon>
<text text-anchor="start" x="298.68" y="-203.8" font-family="Arial" font-size="14.00">2</text>
<polygon fill="none" stroke="black" points="289.68,-155.8 289.68,-190.6 315.47,-190.6 315.47,-155.8 289.68,-155.8"></polygon>
<text text-anchor="start" x="298.68" y="-169" font-family="Arial" font-size="14.00">1</text>
</g>
<!-- dato2&#45;&gt;cola2 -->
<g id="edge3" class="edge">
<title>dato2-&gt;cola2</title>
<path fill="none" stroke="black" d="M302.58,-314.59C302.58,-295.4 302.58,-265.8 302.58,-240.45"></path>
<polygon fill="black" stroke="black" points="306.08,-240.67 302.58,-230.67 299.08,-240.67 306.08,-240.67"></polygon>
<text text-anchor="middle" x="344.6" y="-293.8" font-family="Arial" font-size="14.00">c.Enqueue(3)</text>
</g>
<!-- dato3 -->
<g id="node7" class="node">
<title>dato3</title>
<polygon fill="none" stroke="black" points="415.68,-318.4 415.68,-353.2 441.47,-353.2 441.47,-318.4 415.68,-318.4"></polygon>
<text text-anchor="start" x="424.68" y="-331.6" font-family="Arial" font-size="14.00">4</text>
</g>
<!-- cola3 -->
<g id="node8" class="node">
<title>cola3</title>
<polygon fill="none" stroke="black" points="415.68,-208 415.68,-242.8 441.47,-242.8 441.47,-208 415.68,-208"></polygon>
<text text-anchor="start" x="424.68" y="-221.2" font-family="Arial" font-size="14.00">3</text>
<polygon fill="none" stroke="black" points="415.68,-173.2 415.68,-208 441.47,-208 441.47,-173.2 415.68,-173.2"></polygon>
<text text-anchor="start" x="424.68" y="-186.4" font-family="Arial" font-size="14.00">2</text>
<polygon fill="none" stroke="black" points="415.68,-138.4 415.68,-173.2 441.47,-173.2 441.47,-138.4 415.68,-138.4"></polygon>
<text text-anchor="start" x="424.68" y="-151.6" font-family="Arial" font-size="14.00">1</text>
</g>
<!-- dato3&#45;&gt;cola3 -->
<g id="edge4" class="edge">
<title>dato3-&gt;cola3</title>
<path fill="none" stroke="black" d="M428.58,-314.59C428.58,-299.69 428.58,-278.52 428.58,-257.94"></path>
<polygon fill="black" stroke="black" points="432.08,-258.12 428.58,-248.12 425.08,-258.12 432.08,-258.12"></polygon>
<text text-anchor="middle" x="470.6" y="-293.8" font-family="Arial" font-size="14.00">c.Enqueue(4)</text>
</g>
<!-- dato4 -->
<g id="node9" class="node">
<title>dato4</title>
<polygon fill="none" stroke="black" points="541.68,-318.4 541.68,-353.2 567.47,-353.2 567.47,-318.4 541.68,-318.4"></polygon>
<text text-anchor="start" x="550.68" y="-331.6" font-family="Arial" font-size="14.00">5</text>
</g>
<!-- cola4 -->
<g id="node10" class="node">
<title>cola4</title>
<polygon fill="none" stroke="black" points="541.68,-225.4 541.68,-260.2 567.47,-260.2 567.47,-225.4 541.68,-225.4"></polygon>
<text text-anchor="start" x="550.68" y="-238.6" font-family="Arial" font-size="14.00">4</text>
<polygon fill="none" stroke="black" points="541.68,-190.6 541.68,-225.4 567.47,-225.4 567.47,-190.6 541.68,-190.6"></polygon>
<text text-anchor="start" x="550.68" y="-203.8" font-family="Arial" font-size="14.00">3</text>
<polygon fill="none" stroke="black" points="541.68,-155.8 541.68,-190.6 567.47,-190.6 567.47,-155.8 541.68,-155.8"></polygon>
<text text-anchor="start" x="550.68" y="-169" font-family="Arial" font-size="14.00">2</text>
<polygon fill="none" stroke="black" points="541.68,-121 541.68,-155.8 567.47,-155.8 567.47,-121 541.68,-121"></polygon>
<text text-anchor="start" x="550.68" y="-134.2" font-family="Arial" font-size="14.00">1</text>
</g>
<!-- dato4&#45;&gt;cola4 -->
<g id="edge5" class="edge">
<title>dato4-&gt;cola4</title>
<path fill="none" stroke="black" d="M554.58,-314.59C554.58,-303.9 554.58,-289.98 554.58,-275.36"></path>
<polygon fill="black" stroke="black" points="558.08,-275.6 554.58,-265.6 551.08,-275.6 558.08,-275.6"></polygon>
<text text-anchor="middle" x="596.6" y="-293.8" font-family="Arial" font-size="14.00">c.Enqueue(5)</text>
</g>
<!-- dato0 -->
<g id="node11" class="node">
<title>dato0</title>
</g>
<!-- cola0 -->
<g id="node12" class="node">
<title>cola0</title>
<polygon fill="none" stroke="black" points="667.68,-242.8 667.68,-277.6 693.47,-277.6 693.47,-242.8 667.68,-242.8"></polygon>
<text text-anchor="start" x="676.68" y="-256" font-family="Arial" font-size="14.00">5</text>
<polygon fill="none" stroke="black" points="667.68,-208 667.68,-242.8 693.47,-242.8 693.47,-208 667.68,-208"></polygon>
<text text-anchor="start" x="676.68" y="-221.2" font-family="Arial" font-size="14.00">4</text>
<polygon fill="none" stroke="black" points="667.68,-173.2 667.68,-208 693.47,-208 693.47,-173.2 667.68,-173.2"></polygon>
<text text-anchor="start" x="676.68" y="-186.4" font-family="Arial" font-size="14.00">3</text>
<polygon fill="none" stroke="black" points="667.68,-138.4 667.68,-173.2 693.47,-173.2 693.47,-138.4 667.68,-138.4"></polygon>
<text text-anchor="start" x="676.68" y="-151.6" font-family="Arial" font-size="14.00">2</text>
<polygon fill="none" stroke="black" points="667.68,-103.6 667.68,-138.4 693.47,-138.4 693.47,-103.6 667.68,-103.6"></polygon>
<text text-anchor="start" x="676.68" y="-116.8" font-family="Arial" font-size="14.00">1</text>
</g>
<!-- dato0&#45;&gt;cola0 -->
<g id="edge6" class="edge">
<title>dato0-&gt;cola0</title>
<path fill="none" stroke="Transparent" d="M680.58,-317.81C680.58,-310.89 680.58,-302.29 680.58,-292.86"></path>
<polygon fill="Transparent" stroke="Transparent" points="684.08,-292.96 680.58,-282.96 677.08,-292.96 684.08,-292.96"></polygon>
</g>
<!-- vacio5 -->
<g id="node13" class="node">
<title>vacio5</title>
</g>
<!-- cola5 -->
<g id="node15" class="node">
<title>cola5</title>
<polygon fill="none" stroke="black" points="745.68,-225.4 745.68,-260.2 771.47,-260.2 771.47,-225.4 745.68,-225.4"></polygon>
<text text-anchor="start" x="754.68" y="-238.6" font-family="Arial" font-size="14.00">5</text>
<polygon fill="none" stroke="black" points="745.68,-190.6 745.68,-225.4 771.47,-225.4 771.47,-190.6 745.68,-190.6"></polygon>
<text text-anchor="start" x="754.68" y="-203.8" font-family="Arial" font-size="14.00">4</text>
<polygon fill="none" stroke="black" points="745.68,-155.8 745.68,-190.6 771.47,-190.6 771.47,-155.8 745.68,-155.8"></polygon>
<text text-anchor="start" x="754.68" y="-169" font-family="Arial" font-size="14.00">3</text>
<polygon fill="none" stroke="black" points="745.68,-121 745.68,-155.8 771.47,-155.8 771.47,-121 745.68,-121"></polygon>
<text text-anchor="start" x="754.68" y="-134.2" font-family="Arial" font-size="14.00">2</text>
</g>
<!-- vacio5&#45;&gt;cola5 -->
<g id="edge7" class="edge">
<title>vacio5-&gt;cola5</title>
<path fill="none" stroke="Transparent" d="M758.58,-317.81C758.58,-306.8 758.58,-291.53 758.58,-275.42"></path>
<polygon fill="Transparent" stroke="Transparent" points="762.08,-275.69 758.58,-265.69 755.08,-275.69 762.08,-275.69"></polygon>
</g>
<!-- dato5 -->
<g id="node14" class="node">
<title>dato5</title>
<polygon fill="none" stroke="black" points="745.68,-20 745.68,-54.8 771.47,-54.8 771.47,-20 745.68,-20"></polygon>
<text text-anchor="start" x="754.68" y="-33.2" font-family="Arial" font-size="14.00">1</text>
</g>
<!-- cola5&#45;&gt;dato5 -->
<g id="edge8" class="edge">
<title>cola5-&gt;dato5</title>
<path fill="none" stroke="black" d="M758.58,-117.1C758.58,-100.45 758.58,-83.6 758.58,-69.79"></path>
<polygon fill="black" stroke="black" points="762.08,-70.03 758.58,-60.03 755.08,-70.03 762.08,-70.03"></polygon>
<text text-anchor="middle" x="810.71" y="-71" font-family="Arial" font-size="14.00">c.Dequeue() ‚Üí 1</text>
</g>
<!-- vacio6 -->
<g id="node16" class="node">
<title>vacio6</title>
</g>
<!-- cola6 -->
<g id="node18" class="node">
<title>cola6</title>
<polygon fill="none" stroke="black" points="891.68,-208 891.68,-242.8 917.47,-242.8 917.47,-208 891.68,-208"></polygon>
<text text-anchor="start" x="900.68" y="-221.2" font-family="Arial" font-size="14.00">5</text>
<polygon fill="none" stroke="black" points="891.68,-173.2 891.68,-208 917.47,-208 917.47,-173.2 891.68,-173.2"></polygon>
<text text-anchor="start" x="900.68" y="-186.4" font-family="Arial" font-size="14.00">4</text>
<polygon fill="none" stroke="black" points="891.68,-138.4 891.68,-173.2 917.47,-173.2 917.47,-138.4 891.68,-138.4"></polygon>
<text text-anchor="start" x="900.68" y="-151.6" font-family="Arial" font-size="14.00">3</text>
</g>
<!-- vacio6&#45;&gt;cola6 -->
<g id="edge9" class="edge">
<title>vacio6-&gt;cola6</title>
<path fill="none" stroke="Transparent" d="M904.58,-317.81C904.58,-302.86 904.58,-280.08 904.58,-257.98"></path>
<polygon fill="Transparent" stroke="Transparent" points="908.08,-258.04 904.58,-248.04 901.08,-258.04 908.08,-258.04"></polygon>
</g>
<!-- dato6 -->
<g id="node17" class="node">
<title>dato6</title>
<polygon fill="none" stroke="black" points="891.68,-20 891.68,-54.8 917.47,-54.8 917.47,-20 891.68,-20"></polygon>
<text text-anchor="start" x="900.68" y="-33.2" font-family="Arial" font-size="14.00">2</text>
</g>
<!-- cola6&#45;&gt;dato6 -->
<g id="edge10" class="edge">
<title>cola6-&gt;dato6</title>
<path fill="none" stroke="black" d="M904.58,-134.59C904.58,-112.84 904.58,-88.63 904.58,-69.94"></path>
<polygon fill="black" stroke="black" points="908.08,-70.05 904.58,-60.05 901.08,-70.05 908.08,-70.05"></polygon>
<text text-anchor="middle" x="956.71" y="-71" font-family="Arial" font-size="14.00">c.Dequeue() ‚Üí 2</text>
</g>
<!-- vacio7 -->
<g id="node19" class="node">
<title>vacio7</title>
</g>
<!-- cola7 -->
<g id="node21" class="node">
<title>cola7</title>
<polygon fill="none" stroke="black" points="1037.68,-190.6 1037.68,-225.4 1063.47,-225.4 1063.47,-190.6 1037.68,-190.6"></polygon>
<text text-anchor="start" x="1046.68" y="-203.8" font-family="Arial" font-size="14.00">5</text>
<polygon fill="none" stroke="black" points="1037.68,-155.8 1037.68,-190.6 1063.47,-190.6 1063.47,-155.8 1037.68,-155.8"></polygon>
<text text-anchor="start" x="1046.68" y="-169" font-family="Arial" font-size="14.00">4</text>
</g>
<!-- vacio7&#45;&gt;cola7 -->
<g id="edge11" class="edge">
<title>vacio7-&gt;cola7</title>
<path fill="none" stroke="Transparent" d="M1050.58,-317.81C1050.58,-298.82 1050.58,-267.2 1050.58,-240.36"></path>
<polygon fill="Transparent" stroke="Transparent" points="1054.08,-240.72 1050.58,-230.72 1047.08,-240.72 1054.08,-240.72"></polygon>
</g>
<!-- dato7 -->
<g id="node20" class="node">
<title>dato7</title>
<polygon fill="none" stroke="black" points="1037.68,-20 1037.68,-54.8 1063.47,-54.8 1063.47,-20 1037.68,-20"></polygon>
<text text-anchor="start" x="1046.68" y="-33.2" font-family="Arial" font-size="14.00">3</text>
</g>
<!-- cola7&#45;&gt;dato7 -->
<g id="edge12" class="edge">
<title>cola7-&gt;dato7</title>
<path fill="none" stroke="black" d="M1050.58,-151.84C1050.58,-126.54 1050.58,-93.64 1050.58,-69.79"></path>
<polygon fill="black" stroke="black" points="1054.08,-70.07 1050.58,-60.07 1047.08,-70.07 1054.08,-70.07"></polygon>
<text text-anchor="middle" x="1102.71" y="-71" font-family="Arial" font-size="14.00">c.Dequeue() ‚Üí 3</text>
</g>
<!-- vacio8 -->
<g id="node22" class="node">
<title>vacio8</title>
</g>
<!-- cola8 -->
<g id="node24" class="node">
<title>cola8</title>
<polygon fill="none" stroke="black" points="1183.68,-190.6 1183.68,-225.4 1209.47,-225.4 1209.47,-190.6 1183.68,-190.6"></polygon>
<text text-anchor="start" x="1192.68" y="-203.8" font-family="Arial" font-size="14.00">5</text>
<polygon fill="none" stroke="black" points="1183.68,-155.8 1183.68,-190.6 1209.47,-190.6 1209.47,-155.8 1183.68,-155.8"></polygon>
<text text-anchor="start" x="1192.68" y="-169" font-family="Arial" font-size="14.00">4</text>
</g>
<!-- vacio8&#45;&gt;cola8 -->
<g id="edge13" class="edge">
<title>vacio8-&gt;cola8</title>
<path fill="none" stroke="Transparent" d="M1196.58,-317.81C1196.58,-298.82 1196.58,-267.2 1196.58,-240.36"></path>
<polygon fill="Transparent" stroke="Transparent" points="1200.08,-240.72 1196.58,-230.72 1193.08,-240.72 1200.08,-240.72"></polygon>
</g>
<!-- dato8 -->
<g id="node23" class="node">
<title>dato8</title>
<polygon fill="none" stroke="black" points="1183.68,-20 1183.68,-54.8 1209.47,-54.8 1209.47,-20 1183.68,-20"></polygon>
<text text-anchor="start" x="1192.68" y="-33.2" font-family="Arial" font-size="14.00">4</text>
</g>
<!-- cola8&#45;&gt;dato8 -->
<g id="edge14" class="edge">
<title>cola8-&gt;dato8</title>
<path fill="none" stroke="gray" stroke-dasharray="5,2" d="M1196.58,-151.84C1196.58,-126.54 1196.58,-93.64 1196.58,-69.79"></path>
<polygon fill="gray" stroke="gray" points="1200.08,-70.07 1196.58,-60.07 1193.08,-70.07 1200.08,-70.07"></polygon>
<text text-anchor="middle" x="1236.25" y="-71" font-family="Arial" font-size="14.00">c.Peek() ‚Üí 4</text>
</g>
</g>
</svg>
</p><p></p>
<p>El siguiente c√≥digo equivaldr√≠a a las operaciones descritas en la ilustraci√≥n.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Creamos una cola con un elemento inicial a partir de otra colecci√≥n.</span>
    <span class="token class-name">Queue<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Queue<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Cola -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>    
        c<span class="token punctuation">.</span><span class="token function">Enqueue</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Encolando el </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">i</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Cola -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>Count <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Desencolado el </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">c<span class="token punctuation">.</span><span class="token function">Dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Cola -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Consultando el frente de la cola </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">c<span class="token punctuation">.</span><span class="token function">Peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Cola -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Aunque a simple vista son una concreci√≥n de las listas, puede ser interesante tener solo un subconjunto de operaciones m√°s limitado, enfocado a ciertos problemas y que nos pueda proporcionar m√°s '<em>robustez</em>' de cara a errores, legibilidad del c√≥digo e incluso rendimiento en la ejecuci√≥n del mismo.</p>
<p>Normalmente las colas se usar para gestionar datos, eventos o procesos as√≠ncronos por orden de llegada. El ejemplo m√°s paradigm√°tico ser√≠a la <strong>cola de impresi√≥n</strong>, que ir√° encolando los '<em>trabajos</em>' de impresi√≥n y desencol√°ndolos por orden conforme quede libre un recurso de impresi√≥n.</p>
<div style="page-break-after:always;"></div>
<blockquote>
<p>üéì <strong>Caso de estudio:</strong></p>
<p>Hemos visto que internamente el tipo <strong><code>Queue&lt;T&gt;</code></strong> est√° implementado con una <strong>tabla o '<em>Array</em>'</strong>. Pero, tambi√©n podr√≠a estarlo como una <strong>lista vinculada</strong>. Para ello, vamos a definir nosotros la colecci√≥n <strong><code>LinkedQueue&lt;T&gt;</code></strong> y vamos usar internamente una <strong><code>LinkedList&lt;T&gt;</code></strong> linked list para hacerlo y generar√° excepciones del tipo <strong><code>LinkedQueueException</code></strong> si no se puede realizar la operaci√≥n.</p>
<p>Nuestra va ofrecernos solo las operaciones t√≠picas de una cola como son:</p>
<ul>
<li>LinkedQueue()</li>
<li>LinkedQueue(IEnumerable secuencia)</li>
<li>void Enqueue(T data)</li>
<li>T Dequeue()</li>
<li>T Peek()</li>
<li>void Clear()</li>
<li>bool Empty { get; }</li>
<li>int Count { get; }</li>
<li>Adem√°s implementar√° el interfaz IEnumerable<t></t></li>
</ul>
<p>Se nos podr√≠a ocurrir establecer una relaci√≥n de her√©ncia del tipo <strong><code>class LinkedQueue&lt;T&gt; : LinkedList&lt;T&gt;</code></strong>. Pero esto ser√≠a incorrecto pues nuestra cola adem√°s de sus operaciones espec√≠ficas, tambi√©n nos ofrecer√≠a las de la lista vinculada. Realmente lo que sucede es que una cola <strong>no es una</strong> lista vinculada y por tanto en este caso la mejor opci√≥n es definir una <strong>composici√≥n</strong>.</p>
<p>Nuestra definici√≥n pues <strong>'<em>envolver√°</em>'</strong> encapsulando el tipo <strong><code>LinkedList&lt;T&gt;</code></strong> en el que se va a apoyar ofreciendo solo las operaciones de cola que gestionaremos a trav√©s del tipo envuelto. A este tipo de dise√±o se le conoce como <strong>Wrapper</strong>.</p>
<p>¬øSe te ocurre c√≥mo hacerlo?. Si no es as√≠ a continuaci√≥n puedes implementar para su estudio la siguiente propuesta comentada.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// Definici√≥n del tipo que concretar√° la excepciones de la cola vinculada.</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">LinkedQueueException</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Exception</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">LinkedQueueException</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> message<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Definimos nuestro tipo parametrizado con el comportamiento de </span>
<span class="token comment">// una secuencia iterable como otras colecciones.</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">LinkedQueue<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Tipo al que estamos 'envolviendo' y sobre el que implementaremos las </span>
    <span class="token comment">// operaciones de cola. Debe ser 'transparente' para el usuario de nuestra definici√≥n.</span>
    <span class="token keyword keyword-private">private</span> <span class="token return-type class-name">LinkedList<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> Lista <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token comment">// Definimos los 2 constructores que llamar√°n a los constructores del tipo 'envuelto'.</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">LinkedQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Lista <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">LinkedList<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">LinkedQueue</span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> secuencia<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Lista <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">LinkedList<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>secuencia<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Algunas de las propiedades y operaciones sobre el tipo envuelto son triviales.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> Empty <span class="token operator">=&gt;</span> Lista<span class="token punctuation">.</span>Count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Count <span class="token operator">=&gt;</span> Lista<span class="token punctuation">.</span>Count<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Lista<span class="token punctuation">.</span><span class="token function">Clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">,</span> Lista<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></blockquote>
<div style="page-break-after:always;"></div>
<blockquote>
<p>üéì <strong>Caso de estudio continuaci√≥n</strong></p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code>    <span class="token comment">// Encolar a√±ade al final de la lista.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Enqueue</span><span class="token punctuation">(</span><span class="token class-name">T</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Lista<span class="token punctuation">.</span><span class="token function">AddLast</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Desencolar extrae el elemento del principio de la lista. </span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">T</span> <span class="token function">Dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>Empty<span class="token punctuation">)</span>
            <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">LinkedQueueException</span><span class="token punctuation">(</span><span class="token string">"No se puede desencolar en un cola vac√≠a."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">LinkedListNode<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> nodo <span class="token operator">=</span> Lista<span class="token punctuation">.</span>First<span class="token operator">!</span><span class="token punctuation">;</span>
        Lista<span class="token punctuation">.</span><span class="token function">RemoveFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> nodo<span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">T</span> <span class="token function">Peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>Empty<span class="token punctuation">)</span>
            <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">LinkedQueueException</span><span class="token punctuation">(</span><span class="token string">"No se puede consultar el frente de una cola vac√≠a."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> Lista<span class="token punctuation">.</span>First<span class="token operator">!</span><span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Para implementar IEnumerable&lt;T&gt; nos basamos en que ya est√° implementado en</span>
    <span class="token comment">// la colecci√≥n subyacente y realmente devolvemos el objeto </span>
    <span class="token comment">// iterador que devuelva la misma.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name">IEnumerator<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> <span class="token function">GetEnumerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Lista<span class="token punctuation">.</span><span class="token function">GetEnumerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>IEnumerator</span> 
    System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>IEnumerable<span class="token punctuation">.</span><span class="token function">GetEnumerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">GetEnumerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Vamos a usar nuestra definici√≥n cola para implementar un simple programa que simule '<em>El juego de la bomba</em>' en el cual una bomba programada para explotar en un tiempo aleatorio. Es pasada entre los jugadores de forma rotativa del tal manera que cada jugador la retendr√° un tiempo 'aleatorio' que el estime oportuno para que le explote a un compa√±ero y no le vuelva a llegar.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Program</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Cola de jugadores.</span>
        <span class="token class-name">LinkedQueue<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span> jugadores <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">LinkedQueue<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
            <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name"><span class="token keyword keyword-string">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span>
                <span class="token string">"Pepe"</span><span class="token punctuation">,</span> <span class="token string">"Mar√≠a"</span><span class="token punctuation">,</span> <span class="token string">"Juan"</span><span class="token punctuation">,</span> <span class="token string">"Sara"</span> 
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Random</span> seed <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> segundosHastaExplosion <span class="token operator">=</span> seed<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> explosion<span class="token punctuation">;</span>
        <span class="token keyword keyword-do">do</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Desencolamos al jugador que recibir√° la bomba.</span>
            <span class="token class-name"><span class="token keyword keyword-string">string</span></span> jugador <span class="token operator">=</span> jugadores<span class="token punctuation">.</span><span class="token function">Dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword keyword-int">int</span></span> espera <span class="token operator">=</span> seed<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">jugador</span><span class="token punctuation">}</span></span><span class="token string"> esperando para pasar la bomba."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Thread<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>espera <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Espera aleatoria.</span>
            segundosHastaExplosion <span class="token operator">-=</span> espera<span class="token punctuation">;</span>
            explosion <span class="token operator">=</span> segundosHastaExplosion <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// Comprobamos si ha explotado.</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>explosion<span class="token punctuation">)</span>
                <span class="token comment">// Si no ha explotado encolamos de nuevo al </span>
                <span class="token comment">// jugador para que vuelva a recibir la bomba.</span>
                jugadores<span class="token punctuation">.</span><span class="token function">Enqueue</span><span class="token punctuation">(</span>jugador<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-else">else</span>
                Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"La bomba le ha explotado a </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">jugador</span><span class="token punctuation">}</span></span><span class="token string">."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-while">while</span><span class="token punctuation">(</span><span class="token operator">!</span>explosion<span class="token punctuation">)</span><span class="token punctuation">;</span>
        jugadores<span class="token punctuation">.</span><span class="token function">Clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></blockquote>
<div style="page-break-after:always;"></div>
<h3 id="el-tad-pila">El TAD Pila </h3>
<p>Los elementos se a√±aden y extraen <strong>por el mismo extremo</strong> que denominaremos <strong>cabeza de la pila</strong>. Por esta raz√≥n, tambi√©n se les conoce como estructuras <strong>LIFO</strong>, acr√≥nimo en ingles de <em>'<strong>√öltimo</strong> en Entrar, <strong>Primero</strong> en Salir'</em>.</p>
<p>Al igual que suced√≠a con las colas, podremos implementar el TAD Pila de forma vinculada o con una tabla. Pero su funcionalidad ser√° la misma, porque realmente lo que implementa son ciertas operaciones b√°sicas que veremos a continuaci√≥n.</p>
<h4 id="satckt-el-tad-pila-en-las-bcl">Satck&lt;T&gt; el TAD Pila en las BCL </h4>
<p>En las BCL est√° <strong>implementado como tabla</strong> y no de forma vinculada.</p>
<p>Las <strong>operaciones b√°sicas</strong> son:</p>
<p>‚Ä¢ <strong>Apilar</strong> (<strong><code>p.Push(T dato)</code></strong>).<br>
‚Ä¢ <strong>Desapilar</strong> (<strong><code>p.Pop() ‚Üí T</code></strong>).<br>
‚Ä¢ <strong>Borrar</strong> toda la pila (<strong><code>p.Clear()</code></strong>)<br>
‚Ä¢ <strong>Consultar la cabeza</strong> de la cola sin desapilar (<strong><code>p.Peek() ‚Üí T</code></strong>).<br>
‚Ä¢ Ver si est√° <strong>vac√≠a</strong> (<strong><code>p.Count == 0</code></strong>).</p>
<p></p><p align="center" style="zoom:0.6" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="1105pt" height="298pt" viewBox="0.00 0.00 1105.19 297.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 293.6)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-293.6 1101.19,-293.6 1101.19,4 -4,4"></polygon>
<g id="clust2" class="cluster">
<title>cluster2</title>
<polygon fill="none" stroke="Transparent" points="243.19,-60.2 243.19,-281.6 338.19,-281.6 338.19,-60.2 243.19,-60.2"></polygon>
</g>
<g id="clust1" class="cluster">
<title>cluster1</title>
<polygon fill="none" stroke="Transparent" points="140.19,-77.6 140.19,-281.6 235.19,-281.6 235.19,-77.6 140.19,-77.6"></polygon>
</g>
<g id="clust7" class="cluster">
<title>cluster6</title>
<polygon fill="none" stroke="Transparent" points="745.19,-42.8 745.19,-281.6 852.19,-281.6 852.19,-42.8 745.19,-42.8"></polygon>
</g>
<g id="clust9" class="cluster">
<title>cluster8</title>
<polygon fill="none" stroke="Transparent" points="975.19,-60.2 975.19,-281.6 1089.19,-281.6 1089.19,-60.2 975.19,-60.2"></polygon>
</g>
<g id="clust6" class="cluster">
<title>cluster5</title>
<polygon fill="none" stroke="Transparent" points="630.19,-25.4 630.19,-281.6 737.19,-281.6 737.19,-25.4 630.19,-25.4"></polygon>
</g>
<g id="clust8" class="cluster">
<title>cluster7</title>
<polygon fill="none" stroke="Transparent" points="860.19,-60.2 860.19,-281.6 967.19,-281.6 967.19,-60.2 860.19,-60.2"></polygon>
</g>
<g id="clust5" class="cluster">
<title>cluster0</title>
<polygon fill="none" stroke="Transparent" points="552.19,-8 552.19,-278.2 622.19,-278.2 622.19,-8 552.19,-8"></polygon>
</g>
<g id="clust3" class="cluster">
<title>cluster3</title>
<polygon fill="none" stroke="Transparent" points="346.19,-42.8 346.19,-281.6 441.19,-281.6 441.19,-42.8 346.19,-42.8"></polygon>
</g>
<g id="clust4" class="cluster">
<title>cluster4</title>
<polygon fill="none" stroke="Transparent" points="449.19,-25.4 449.19,-281.6 544.19,-281.6 544.19,-25.4 449.19,-25.4"></polygon>
</g>
<!-- vacio -->
<g id="node1" class="node">
<title>vacio</title>
</g>
<!-- pila -->
<g id="node2" class="node">
<title>pila</title>
<text text-anchor="middle" x="65.19" y="-111.2" font-family="Arial" font-size="14.00">Operaciones LIFO</text>
<text text-anchor="middle" x="65.19" y="-94.4" font-family="Arial" font-size="14.00">sobre una Pila p</text>
</g>
<!-- vacio&#45;&gt;pila -->
<g id="edge1" class="edge">
<title>vacio-&gt;pila</title>
<path fill="none" stroke="Transparent" d="M65.19,-234.21C65.19,-210.77 65.19,-168.1 65.19,-138.92"></path>
<polygon fill="Transparent" stroke="Transparent" points="68.69,-139.23 65.19,-129.23 61.69,-139.23 68.69,-139.23"></polygon>
</g>
<!-- dato1 -->
<g id="node3" class="node">
<title>dato1</title>
<polygon fill="none" stroke="black" points="162.3,-234.8 162.3,-269.6 188.09,-269.6 188.09,-234.8 162.3,-234.8"></polygon>
<text text-anchor="start" x="171.3" y="-248" font-family="Arial" font-size="14.00">2</text>
</g>
<!-- pila1 -->
<g id="node4" class="node">
<title>pila1</title>
<polygon fill="none" stroke="black" points="162.3,-89.6 162.3,-124.4 188.09,-124.4 188.09,-89.6 162.3,-89.6"></polygon>
<text text-anchor="start" x="171.3" y="-102.8" font-family="Arial" font-size="14.00">1</text>
</g>
<!-- dato1&#45;&gt;pila1 -->
<g id="edge2" class="edge">
<title>dato1-&gt;pila1</title>
<path fill="none" stroke="black" d="M175.19,-230.99C175.19,-207.21 175.19,-167.46 175.19,-139.61"></path>
<polygon fill="black" stroke="black" points="178.69,-139.62 175.19,-129.62 171.69,-139.62 178.69,-139.62"></polygon>
<text text-anchor="middle" x="205.54" y="-210.2" font-family="Arial" font-size="14.00">p.Push(2)</text>
</g>
<!-- dato2 -->
<g id="node5" class="node">
<title>dato2</title>
<polygon fill="none" stroke="black" points="265.3,-234.8 265.3,-269.6 291.09,-269.6 291.09,-234.8 265.3,-234.8"></polygon>
<text text-anchor="start" x="274.3" y="-248" font-family="Arial" font-size="14.00">3</text>
</g>
<!-- pila2 -->
<g id="node6" class="node">
<title>pila2</title>
<polygon fill="none" stroke="black" points="265.3,-107 265.3,-141.8 291.09,-141.8 291.09,-107 265.3,-107"></polygon>
<text text-anchor="start" x="274.3" y="-120.2" font-family="Arial" font-size="14.00">2</text>
<polygon fill="none" stroke="black" points="265.3,-72.2 265.3,-107 291.09,-107 291.09,-72.2 265.3,-72.2"></polygon>
<text text-anchor="start" x="274.3" y="-85.4" font-family="Arial" font-size="14.00">1</text>
</g>
<!-- dato2&#45;&gt;pila2 -->
<g id="edge3" class="edge">
<title>dato2-&gt;pila2</title>
<path fill="none" stroke="black" d="M278.19,-230.99C278.19,-211.8 278.19,-182.2 278.19,-156.85"></path>
<polygon fill="black" stroke="black" points="281.69,-157.07 278.19,-147.07 274.69,-157.07 281.69,-157.07"></polygon>
<text text-anchor="middle" x="308.54" y="-210.2" font-family="Arial" font-size="14.00">p.Push(3)</text>
</g>
<!-- dato3 -->
<g id="node7" class="node">
<title>dato3</title>
<polygon fill="none" stroke="black" points="368.3,-234.8 368.3,-269.6 394.09,-269.6 394.09,-234.8 368.3,-234.8"></polygon>
<text text-anchor="start" x="377.3" y="-248" font-family="Arial" font-size="14.00">4</text>
</g>
<!-- pila3 -->
<g id="node8" class="node">
<title>pila3</title>
<polygon fill="none" stroke="black" points="368.3,-124.4 368.3,-159.2 394.09,-159.2 394.09,-124.4 368.3,-124.4"></polygon>
<text text-anchor="start" x="377.3" y="-137.6" font-family="Arial" font-size="14.00">3</text>
<polygon fill="none" stroke="black" points="368.3,-89.6 368.3,-124.4 394.09,-124.4 394.09,-89.6 368.3,-89.6"></polygon>
<text text-anchor="start" x="377.3" y="-102.8" font-family="Arial" font-size="14.00">2</text>
<polygon fill="none" stroke="black" points="368.3,-54.8 368.3,-89.6 394.09,-89.6 394.09,-54.8 368.3,-54.8"></polygon>
<text text-anchor="start" x="377.3" y="-68" font-family="Arial" font-size="14.00">1</text>
</g>
<!-- dato3&#45;&gt;pila3 -->
<g id="edge4" class="edge">
<title>dato3-&gt;pila3</title>
<path fill="none" stroke="black" d="M381.19,-230.99C381.19,-216.09 381.19,-194.92 381.19,-174.34"></path>
<polygon fill="black" stroke="black" points="384.69,-174.52 381.19,-164.52 377.69,-174.52 384.69,-174.52"></polygon>
<text text-anchor="middle" x="411.54" y="-210.2" font-family="Arial" font-size="14.00">p.Push(4)</text>
</g>
<!-- dato4 -->
<g id="node9" class="node">
<title>dato4</title>
<polygon fill="none" stroke="black" points="471.3,-234.8 471.3,-269.6 497.09,-269.6 497.09,-234.8 471.3,-234.8"></polygon>
<text text-anchor="start" x="480.3" y="-248" font-family="Arial" font-size="14.00">5</text>
</g>
<!-- pila4 -->
<g id="node10" class="node">
<title>pila4</title>
<polygon fill="none" stroke="black" points="471.3,-141.8 471.3,-176.6 497.09,-176.6 497.09,-141.8 471.3,-141.8"></polygon>
<text text-anchor="start" x="480.3" y="-155" font-family="Arial" font-size="14.00">4</text>
<polygon fill="none" stroke="black" points="471.3,-107 471.3,-141.8 497.09,-141.8 497.09,-107 471.3,-107"></polygon>
<text text-anchor="start" x="480.3" y="-120.2" font-family="Arial" font-size="14.00">3</text>
<polygon fill="none" stroke="black" points="471.3,-72.2 471.3,-107 497.09,-107 497.09,-72.2 471.3,-72.2"></polygon>
<text text-anchor="start" x="480.3" y="-85.4" font-family="Arial" font-size="14.00">2</text>
<polygon fill="none" stroke="black" points="471.3,-37.4 471.3,-72.2 497.09,-72.2 497.09,-37.4 471.3,-37.4"></polygon>
<text text-anchor="start" x="480.3" y="-50.6" font-family="Arial" font-size="14.00">1</text>
</g>
<!-- dato4&#45;&gt;pila4 -->
<g id="edge5" class="edge">
<title>dato4-&gt;pila4</title>
<path fill="none" stroke="black" d="M484.19,-230.99C484.19,-220.3 484.19,-206.38 484.19,-191.76"></path>
<polygon fill="black" stroke="black" points="487.69,-192 484.19,-182 480.69,-192 487.69,-192"></polygon>
<text text-anchor="middle" x="514.54" y="-210.2" font-family="Arial" font-size="14.00">p.Push(5)</text>
</g>
<!-- dato0 -->
<g id="node11" class="node">
<title>dato0</title>
</g>
<!-- pila0 -->
<g id="node12" class="node">
<title>pila0</title>
<polygon fill="none" stroke="black" points="574.3,-159.2 574.3,-194 600.09,-194 600.09,-159.2 574.3,-159.2"></polygon>
<text text-anchor="start" x="583.3" y="-172.4" font-family="Arial" font-size="14.00">5</text>
<polygon fill="none" stroke="black" points="574.3,-124.4 574.3,-159.2 600.09,-159.2 600.09,-124.4 574.3,-124.4"></polygon>
<text text-anchor="start" x="583.3" y="-137.6" font-family="Arial" font-size="14.00">4</text>
<polygon fill="none" stroke="black" points="574.3,-89.6 574.3,-124.4 600.09,-124.4 600.09,-89.6 574.3,-89.6"></polygon>
<text text-anchor="start" x="583.3" y="-102.8" font-family="Arial" font-size="14.00">3</text>
<polygon fill="none" stroke="black" points="574.3,-54.8 574.3,-89.6 600.09,-89.6 600.09,-54.8 574.3,-54.8"></polygon>
<text text-anchor="start" x="583.3" y="-68" font-family="Arial" font-size="14.00">2</text>
<polygon fill="none" stroke="black" points="574.3,-20 574.3,-54.8 600.09,-54.8 600.09,-20 574.3,-20"></polygon>
<text text-anchor="start" x="583.3" y="-33.2" font-family="Arial" font-size="14.00">1</text>
</g>
<!-- dato0&#45;&gt;pila0 -->
<g id="edge6" class="edge">
<title>dato0-&gt;pila0</title>
<path fill="none" stroke="Transparent" d="M587.19,-234.21C587.19,-227.29 587.19,-218.69 587.19,-209.26"></path>
<polygon fill="Transparent" stroke="Transparent" points="590.69,-209.36 587.19,-199.36 583.69,-209.36 590.69,-209.36"></polygon>
</g>
<!-- dato5 -->
<g id="node13" class="node">
<title>dato5</title>
<polygon fill="none" stroke="black" points="652.3,-234.8 652.3,-269.6 678.09,-269.6 678.09,-234.8 652.3,-234.8"></polygon>
<text text-anchor="start" x="661.3" y="-248" font-family="Arial" font-size="14.00">5</text>
</g>
<!-- pila5 -->
<g id="node14" class="node">
<title>pila5</title>
<polygon fill="none" stroke="black" points="652.3,-141.8 652.3,-176.6 678.09,-176.6 678.09,-141.8 652.3,-141.8"></polygon>
<text text-anchor="start" x="661.3" y="-155" font-family="Arial" font-size="14.00">4</text>
<polygon fill="none" stroke="black" points="652.3,-107 652.3,-141.8 678.09,-141.8 678.09,-107 652.3,-107"></polygon>
<text text-anchor="start" x="661.3" y="-120.2" font-family="Arial" font-size="14.00">3</text>
<polygon fill="none" stroke="black" points="652.3,-72.2 652.3,-107 678.09,-107 678.09,-72.2 652.3,-72.2"></polygon>
<text text-anchor="start" x="661.3" y="-85.4" font-family="Arial" font-size="14.00">2</text>
<polygon fill="none" stroke="black" points="652.3,-37.4 652.3,-72.2 678.09,-72.2 678.09,-37.4 652.3,-37.4"></polygon>
<text text-anchor="start" x="661.3" y="-50.6" font-family="Arial" font-size="14.00">1</text>
</g>
<!-- dato5&#45;&gt;pila5 -->
<g id="edge7" class="edge">
<title>dato5-&gt;pila5</title>
<path fill="none" stroke="black" d="M665.19,-219.68C665.19,-208.03 665.19,-194.28 665.19,-180.49"></path>
<polygon fill="black" stroke="black" points="661.69,-219.47 665.19,-229.47 668.69,-219.47 661.69,-219.47"></polygon>
<text text-anchor="middle" x="701.77" y="-210.2" font-family="Arial" font-size="14.00">p.Pop() ‚Üí 5</text>
</g>
<!-- dato6 -->
<g id="node15" class="node">
<title>dato6</title>
<polygon fill="none" stroke="black" points="767.3,-234.8 767.3,-269.6 793.09,-269.6 793.09,-234.8 767.3,-234.8"></polygon>
<text text-anchor="start" x="776.3" y="-248" font-family="Arial" font-size="14.00">4</text>
</g>
<!-- pila6 -->
<g id="node16" class="node">
<title>pila6</title>
<polygon fill="none" stroke="black" points="767.3,-124.4 767.3,-159.2 793.09,-159.2 793.09,-124.4 767.3,-124.4"></polygon>
<text text-anchor="start" x="776.3" y="-137.6" font-family="Arial" font-size="14.00">3</text>
<polygon fill="none" stroke="black" points="767.3,-89.6 767.3,-124.4 793.09,-124.4 793.09,-89.6 767.3,-89.6"></polygon>
<text text-anchor="start" x="776.3" y="-102.8" font-family="Arial" font-size="14.00">2</text>
<polygon fill="none" stroke="black" points="767.3,-54.8 767.3,-89.6 793.09,-89.6 793.09,-54.8 767.3,-54.8"></polygon>
<text text-anchor="start" x="776.3" y="-68" font-family="Arial" font-size="14.00">1</text>
</g>
<!-- dato6&#45;&gt;pila6 -->
<g id="edge8" class="edge">
<title>dato6-&gt;pila6</title>
<path fill="none" stroke="black" d="M780.19,-219.72C780.19,-203.09 780.19,-182.21 780.19,-163"></path>
<polygon fill="black" stroke="black" points="776.69,-219.47 780.19,-229.47 783.69,-219.47 776.69,-219.47"></polygon>
<text text-anchor="middle" x="816.77" y="-210.2" font-family="Arial" font-size="14.00">p.Pop() ‚Üí 4</text>
</g>
<!-- dato7 -->
<g id="node17" class="node">
<title>dato7</title>
<polygon fill="none" stroke="black" points="882.3,-234.8 882.3,-269.6 908.09,-269.6 908.09,-234.8 882.3,-234.8"></polygon>
<text text-anchor="start" x="891.3" y="-248" font-family="Arial" font-size="14.00">3</text>
</g>
<!-- pila7 -->
<g id="node18" class="node">
<title>pila7</title>
<polygon fill="none" stroke="black" points="882.3,-107 882.3,-141.8 908.09,-141.8 908.09,-107 882.3,-107"></polygon>
<text text-anchor="start" x="891.3" y="-120.2" font-family="Arial" font-size="14.00">2</text>
<polygon fill="none" stroke="black" points="882.3,-72.2 882.3,-107 908.09,-107 908.09,-72.2 882.3,-72.2"></polygon>
<text text-anchor="start" x="891.3" y="-85.4" font-family="Arial" font-size="14.00">1</text>
</g>
<!-- dato7&#45;&gt;pila7 -->
<g id="edge9" class="edge">
<title>dato7-&gt;pila7</title>
<path fill="none" stroke="black" d="M895.19,-219.69C895.19,-197.83 895.19,-168.62 895.19,-145.56"></path>
<polygon fill="black" stroke="black" points="891.69,-219.47 895.19,-229.47 898.69,-219.47 891.69,-219.47"></polygon>
<text text-anchor="middle" x="931.77" y="-210.2" font-family="Arial" font-size="14.00">p.Pop() ‚Üí 3</text>
</g>
<!-- dato8 -->
<g id="node19" class="node">
<title>dato8</title>
<polygon fill="none" stroke="black" points="997.3,-234.8 997.3,-269.6 1023.09,-269.6 1023.09,-234.8 997.3,-234.8"></polygon>
<text text-anchor="start" x="1006.3" y="-248" font-family="Arial" font-size="14.00">2</text>
</g>
<!-- pila8 -->
<g id="node20" class="node">
<title>pila8</title>
<polygon fill="none" stroke="black" points="997.3,-107 997.3,-141.8 1023.09,-141.8 1023.09,-107 997.3,-107"></polygon>
<text text-anchor="start" x="1006.3" y="-120.2" font-family="Arial" font-size="14.00">2</text>
<polygon fill="none" stroke="black" points="997.3,-72.2 997.3,-107 1023.09,-107 1023.09,-72.2 997.3,-72.2"></polygon>
<text text-anchor="start" x="1006.3" y="-85.4" font-family="Arial" font-size="14.00">1</text>
</g>
<!-- dato8&#45;&gt;pila8 -->
<g id="edge10" class="edge">
<title>dato8-&gt;pila8</title>
<path fill="none" stroke="gray" stroke-dasharray="5,2" d="M1010.19,-219.69C1010.19,-197.83 1010.19,-168.62 1010.19,-145.56"></path>
<polygon fill="gray" stroke="gray" points="1006.69,-219.47 1010.19,-229.47 1013.69,-219.47 1006.69,-219.47"></polygon>
<text text-anchor="middle" x="1050.27" y="-210.2" font-family="Arial" font-size="14.00">p.Peek() ‚Üí 2</text>
</g>
</g>
</svg>
</p><p></p>
<p>El siguiente c√≥digo equivaldr√≠a a las operaciones descritas en la ilustraci√≥n.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Creamos una pila con un elemento inicial a partir de otra colecci√≥n.</span>
    <span class="token class-name">Stack<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span> p <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Stack<span class="token punctuation">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name"><span class="token keyword keyword-int">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Pila -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>    
        p<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Apilando el </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">i</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Pila -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>Count <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Desapilando el </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">Pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Pila -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Consultando la cabeza de la pila </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p<span class="token punctuation">.</span><span class="token function">Peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Pila -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<blockquote>
<p>üéì <strong>Caso de estudio:</strong></p>
<p>Un t√≠pico ejemplo de uso de pilas es comprobar si una <strong>expresi√≥n est√° balanceada</strong> o no. Por ejemplo, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>3</mn><mo>+</mo><mn>4</mn><mo stretchy="false">)</mo><mo>‚àó</mo><mo stretchy="false">(</mo><mn>2</mn><mo>‚àí</mo><mn>5</mn><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mn>2</mn><mo>‚àó</mo><mn>4</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">((3 + 4) * (2 - 5 / (2 * 4)))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">((</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">‚àó</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">‚àí</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">5/</span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">‚àó</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mclose">)))</span></span></span></span> est√° balanceada porque se abren tantos par√©ntesis como se cierran de forma correcta.</p>
<p>Para ello, vamos a definir un m√©todo est√°tico denominado <strong><code>bool VerificaParentesis(in string expresion)</code></strong> que me diga si la cadena con la expresi√≥n de entrada lo est√° o no.</p>
<p>El algoritmo consistir√° en recorrer la cadena y cada vez que encontremos el caracter <strong><code>'('</code></strong> <strong>apilarlo</strong> y cuando encontremos un <strong><code>')'</code></strong> <strong>desapilar</strong> de la cadena. Si desapilamos y no hay nada en la pila, significar√° que no hay ning√∫n par√©ntesis de apertura para el de cierre que acabamos de encontrar. Adem√°s, si tras recorrer todas la expresi√≥n quedan elementos en la pila significar√° que no todos los par√©ntesis de apertura se has logrado cerrar.</p>
<p><strong>¬øSer√≠as capaz de escribir una propuesta de soluci√≥n tal usando <strong><code>Stack&lt;T&gt;</code></strong> para realizar el algoritmo?</strong></p>
<p>Si no se te ocurre ninguna, aqu√≠ tienes una...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-class">class</span> <span class="token class-name">Program</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">VerificaParentesis</span><span class="token punctuation">(</span><span class="token keyword keyword-in">in</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> expresion<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-var">var</span></span> p <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Stack<span class="token punctuation">&lt;</span><span class="token keyword keyword-char">char</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> balanceados <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> expresion<span class="token punctuation">.</span>Length <span class="token operator">&amp;&amp;</span> balanceados<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>expresion<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'('</span><span class="token punctuation">)</span>
                p<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span><span class="token char">'('</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>expresion<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">')'</span><span class="token punctuation">)</span>
                balanceados <span class="token operator">=</span> p<span class="token punctuation">.</span>Count <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span><span class="token function">Pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token char">'('</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        balanceados <span class="token operator">=</span> balanceados <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span>Count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> balanceados<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token function">VerificaParentesis</span><span class="token punctuation">(</span><span class="token string">"((3 + 4) * (2 - 5 / (2 * 4)))"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token function">VerificaParentesis</span><span class="token punctuation">(</span><span class="token string">"(3 + 4) * (2 - 5 / (2 * 4)))"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token function">VerificaParentesis</span><span class="token punctuation">(</span><span class="token string">"((3 + 4) * (2 - 5 / (2 * 4))"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></blockquote>
<div style="page-break-after:always;"></div>
<h3 id="colecci√≥n-dictionaryk-v">Colecci√≥n Dictionary&lt;K, V&gt; </h3>
<p>Las tablas hash o <strong>Diccionarios</strong>, son otro tipo de colecciones, pero que tienen un comportamiento particular.</p>
<p>Hasta ahora, todos los elementos de una colecci√≥n se acceden a trav√©s de un √≠ndice num√©rico. Si tenemos una lista, el primer elemento ocupa la posici√≥n 0, el siguiente la 1, etc. Si queremos acceder al cuarto elemento de una lista llamada <strong><code>miLista</code></strong>, tenemos que poner <strong><code>miLista[3]</code></strong>, y <strong>si no sabemos la posici√≥n</strong> debemos usar un bucle.</p>
<p>Para evitar el bucle y realizar un acceso directo podemos usar tablas hash. En este tipo de colecciones, cada dato que agregamos a ella no tiene asociado un √≠ndice num√©rico, sino un objeto <strong>clave</strong> que lo identifica.</p>
<p>De esta manera, si conocemos la <strong>clave</strong> del dato, podemos acceder directamente a sus datos sin tener que recorrer toda la lista.</p>
<p>Por ejemplo, podemos asociar el dni de cada persona con sus datos completos, teniendo al final una tabla como esta:</p>
<table>
<thead>
<tr>
<th>Clave</th>
<th>Valor</th>
</tr>
</thead>
<tbody>
<tr>
<td>11224441K</td>
<td>Nombre = "Pepe" Edad = 30</td>
</tr>
<tr>
<td>11335499M</td>
<td>Nombre = "Mar√≠a" Edad = 22</td>
</tr>
<tr>
<td>12345678O</td>
<td>Nombre = "Juan" Edad = 33</td>
</tr>
<tr>
<td>13898743Y</td>
<td>Nombre = "Sara" Edad = 27</td>
</tr>
</tbody>
</table>
<blockquote>
<p>‚úã <strong>Importante:</strong> Si quiero consultar los datos de Mar√≠a, buscar√© por su clave que es su dni. F√≠jate que la clave puede ser cualquier tipo de dato. En este caso es un string, pero podr√≠an ser enteros u otro tipo cualquiera, siempre que nos aseguremos que <strong>no haya dos claves repetidas</strong>.</p>
</blockquote>
<p>Si nos fijamos, el funcionamiento es similar a un diccionario real. Si quiero consultar el significado de una palabra y s√© cu√°l es esa palabra, voy a la p√°gina donde est√° y la consulto, sin tener que ir palabra a palabra comprobando si es esa la que busco.</p>
<p>Como ya hemos comentado, las tablas hash en C# se manejan con el TAD <strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.collections.generic.dictionary-2">Dictionary&lt;K, V&gt;</a></strong> y sus operaciones b√°sicas son...</p>
<ul>
<li>
<p><strong>Inicializar</strong> podemos crear un diccionario en C# inicializ√°ndolo de la siguiente forma...<br>
<strong><code>Dictionary&lt;TClave, TValor&gt; tabla = new Dictionary&lt;TClave, TValor&gt;()</code></strong><br>
Donde realmente los elemento de mi colecci√≥n ser√°n objetos del tipo <strong><code>KeyValuePair&lt;TClave, TValor&gt;</code></strong> que guardar√° una clave y su valor. No obstante, muy raramente los vamos a trabajar a trav√©s de √©l.</p>
</li>
<li>
<p><strong>A√±adir</strong> un dato al diccionario creado, se puede realizar de varias formas, una de ellas es usar el m√©todo <strong><code>Add</code></strong>, indicando la clave que queremos asociar a cada elemento y el elemento en s√≠.</p>
<blockquote>
<p>üíÄ La operaci√≥n <strong><code>Add</code></strong> generar√° una excepci√≥n si a√±adimos una clave ya existente.</p>
</blockquote>
<p>Si por ejemplo estamos haciendo una tabla de elementos de tipo <strong><code>Persona</code></strong>, la clave puede ser el <strong>dni</strong> de la persona en s√≠, y el elemento a guardar el resto de datos podr√≠amos hacer...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">,</span> Persona<span class="token punctuation">&gt;</span></span> <span class="token function">LeeDatos</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">,</span> Persona<span class="token punctuation">&gt;</span></span> personas <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">,</span> Persona<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"Introduce las persona a leer: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword keyword-int">int</span></span> numeroPersonas <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numeroPersonas<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"DNI </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">i <span class="token operator">+</span> <span class="token number">1</span></span><span class="token punctuation">}</span></span><span class="token string">: "</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> dni <span class="token operator">=</span> Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Nombre </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">i <span class="token operator">+</span> <span class="token number">1</span></span><span class="token punctuation">}</span></span><span class="token string">: "</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre <span class="token operator">=</span> Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Edad </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">i <span class="token operator">+</span> <span class="token number">1</span></span><span class="token punctuation">}</span></span><span class="token string">: "</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-int">int</span></span> edad <span class="token operator">=</span> <span class="token keyword keyword-int">int</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// A√±adir con el m√©todo add.</span>
        personas<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>dni<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Persona</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> edad<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-return">return</span> personas<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></li>
<li>
<p><strong>Eliminar</strong> un dato de la lista, para ello usamos el m√©todo <strong>Remove</strong> con la clave del valor que queremos eliminar como argumento. Si no existe la clave obtendremos una excepci√≥n.<br>
<strong><code>personas.Remove("11223314L")</code></strong></p>
</li>
<li>
<p><strong>Modificar/A√±adir</strong> el valor de un dato almacenado en el diccionario. Tambi√©n se accede indizando la clave y se asigna el objeto.<br>
<strong><code>personas["11224441K"] = new Persona("Pepe", 31)</code></strong></p>
<blockquote>
<p>‚úã <strong>Importante:</strong> Funciona igual que el <strong><code>Add</code></strong> solo que si la clave existe modificar√° su valor asociado sin generar una excepci√≥n.<br>
üíÄ Adem√°s, como en el caso del borrado, si intentamos acceder a un valor del Dictionary del que no existe la clave el sistema lanzar√° una excepci√≥n. Por lo que es buena pr√°ctica utilizar el m√©todo <strong><code>ContainsKey(clave)</code></strong>, para comprobar si existe la clave antes de acceder al valor a trav√©s de ella.</p>
</blockquote>
</li>
<li>
<p><strong>Para obtener claves y valores por separado</strong> dispondremos de las propiedades <strong><code>Keys</code></strong> y <strong><code>Values</code></strong> que me devolver√°n una secuencia que implementa <strong><code>IEnumerable&lt;T&gt;</code></strong> y que por ende puedo transformar a alg√∫n tipo de colecci√≥n de las que conocemos ya sea un array o una lista como hemos visto a lo largo del tema.</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span> litaDNIs <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>personas<span class="token punctuation">.</span>Keys<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Persona<span class="token punctuation">[</span><span class="token punctuation">]</span></span> arrayPersonas <span class="token operator">=</span> Enumerable<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ToArray</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Persona<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>personas<span class="token punctuation">.</span>Values<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
<li>
<p><strong>Recorrer</strong> diccionarios no es lo com√∫n, ya que su acceso es mediante clave. Aunque se puede realizar el acceso a todos los elementos usando un <strong><code>foreach</code></strong>.</p>
<p>Por ejemplo, este bucle saca las edades de todas las personas:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> dni <span class="token keyword keyword-in">in</span> personas<span class="token punctuation">.</span>Keys<span class="token punctuation">)</span> 
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>personas<span class="token punctuation">[</span>dni<span class="token punctuation">]</span><span class="token punctuation">.</span>Edad<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><blockquote>
<p>üìå <strong>Nota:</strong> Es posible que el orden de salida no sea el mismo que cuando se introdujeron los datos, ya que las tablas hash tienen un mecanismo de ordenaci√≥n diferente.</p>
</blockquote>
<p>Realmente si tenemos en cuenta que nuestro diccionario realmente es una secuencia de valores del tipo <strong><code>KeyValuePair&lt;string, Persona&gt;</code></strong>. Podr√≠amos recorrer sus valores tambi√©n de la siguiente forma...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">KeyValuePair<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">,</span> Persona<span class="token punctuation">&gt;</span></span> par <span class="token keyword keyword-in">in</span> personas<span class="token punctuation">)</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">par<span class="token punctuation">.</span>Key</span><span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">par<span class="token punctuation">.</span>Value</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
</ul>
<h4 id="profundizando-en-el-uso-de-los-diccionarios">Profundizando en el uso de los diccionarios </h4>
<p>Para entender alguna de las propiedades y m√©todos que implementa la clase <strong><code>Dictionary&lt;K, V&gt;</code></strong> deberemos entender como funcionan los mismos internamente. Para ello, supongamos la tabla de pares clave-valor que hemos puesto antes de ejemplo. Donde la clave era un <strong><code>string</code></strong> con el DNI y el valor un objeto de tipo <strong><code>Persona</code></strong>.</p>
<p>Una posible <strong>aproximaci√≥n</strong> a como se organiza la informaci√≥n internamente podr√≠a ser el siguiente....</p>
<blockquote>
<p>üìå <strong>Nota:</strong> Para simplificar no hemos representado las referencias a los objetos <strong><code>string</code></strong> y <strong><code>persona</code></strong></p>
</blockquote>
<p></p><p align="center" style="zoom:0.6" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="699pt" height="421pt" viewBox="0.00 0.00 698.89 421.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 417)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-417 694.89,-417 694.89,4 -4,4"></polygon>
<g id="clust2" class="cluster">
<title>cluster1</title>
<polygon fill="none" stroke="Transparent" points="216.17,-8 216.17,-405 330.52,-405 330.52,-8 216.17,-8"></polygon>
<text text-anchor="middle" x="273.35" y="-388.4" font-family="Arial" font-size="14.00">Tabla de</text>
<text text-anchor="middle" x="273.35" y="-371.6" font-family="Arial" font-size="14.00">capacidad 1000</text>
</g>
<g id="clust1" class="cluster">
<title>cluster0</title>
<polygon fill="none" stroke="Transparent" points="8,-72 8,-311 123.89,-311 123.89,-72 8,-72"></polygon>
<text text-anchor="middle" x="65.95" y="-294.4" font-family="Arial" font-size="14.00">Claves</text>
</g>
<g id="clust3" class="cluster">
<title>cluster2</title>
<polygon fill="none" stroke="Transparent" points="347.52,-43 347.52,-343 682.89,-343 682.89,-43 347.52,-43"></polygon>
<text text-anchor="middle" x="515.21" y="-326.4" font-family="Arial" font-size="14.00">Registros</text>
<text text-anchor="middle" x="515.21" y="-309.6" font-family="Arial" font-size="14.00">(Pares Clave-Valor)</text>
</g>
<!-- k1 -->
<g id="node1" class="node">
<title>k1</title>
<polygon fill="none" stroke="black" points="115.5,-170 16.39,-170 16.39,-134 115.5,-134 115.5,-170"></polygon>
<text text-anchor="middle" x="65.95" y="-147.8" font-family="Arial" font-size="14.00">"12345678O"</text>
</g>
<!-- i2 -->
<g id="node6" class="node">
<title>i2</title>
<polygon fill="none" stroke="black" points="252.17,-203.4 252.17,-238.2 293.52,-238.2 293.52,-203.4 252.17,-203.4"></polygon>
<text text-anchor="start" x="261.17" y="-216.6" font-family="Arial" font-size="14.00">872</text>
<polygon fill="none" stroke="black" points="252.17,-168.6 252.17,-203.4 293.52,-203.4 293.52,-168.6 252.17,-168.6"></polygon>
<text text-anchor="start" x="261.17" y="-181.8" font-family="Arial" font-size="14.00">873</text>
<polygon fill="none" stroke="black" points="252.17,-133.8 252.17,-168.6 293.52,-168.6 293.52,-133.8 252.17,-133.8"></polygon>
<text text-anchor="start" x="261.17" y="-147" font-family="Arial" font-size="14.00">874</text>
</g>
<!-- k1&#45;&gt;i2 -->
<g id="edge7" class="edge">
<title>k1-&gt;i2:index</title>
<path fill="none" stroke="gray" stroke-dasharray="5,2" d="M115.74,-161.02C157.88,-168.81 215.66,-179.49 239.67,-183.93"></path>
<polygon fill="gray" stroke="gray" points="238.89,-187.35 249.36,-185.72 240.16,-180.47 238.89,-187.35"></polygon>
<text text-anchor="middle" x="170.03" y="-173.2" font-family="Arial" font-size="14.00">Hash%1000</text>
</g>
<!-- k2 -->
<g id="node2" class="node">
<title>k2</title>
<polygon fill="none" stroke="black" points="114.73,-278 17.16,-278 17.16,-242 114.73,-242 114.73,-278"></polygon>
<text text-anchor="middle" x="65.95" y="-255.8" font-family="Arial" font-size="14.00">"11224441K"</text>
</g>
<!-- i1 -->
<g id="node5" class="node">
<title>i1</title>
<polygon fill="none" stroke="black" points="252.17,-317 252.17,-351.8 293.52,-351.8 293.52,-317 252.17,-317"></polygon>
<text text-anchor="start" x="261.17" y="-330.2" font-family="Arial" font-size="14.00">000</text>
<polygon fill="none" stroke="black" points="252.17,-282.2 252.17,-317 293.52,-317 293.52,-282.2 252.17,-282.2"></polygon>
<text text-anchor="start" x="261.17" y="-295.4" font-family="Arial" font-size="14.00">001</text>
</g>
<!-- k2&#45;&gt;i1 -->
<g id="edge8" class="edge">
<title>k2-&gt;i1:index</title>
<path fill="none" stroke="gray" stroke-dasharray="5,2" d="M114.78,-270.41C157.14,-279.62 215.86,-292.39 239.91,-297.62"></path>
<polygon fill="gray" stroke="gray" points="238.85,-300.97 249.37,-299.68 240.34,-294.13 238.85,-300.97"></polygon>
<text text-anchor="middle" x="170.03" y="-294.2" font-family="Arial" font-size="14.00">Hash%1000</text>
</g>
<!-- k3 -->
<g id="node3" class="node">
<title>k3</title>
<polygon fill="none" stroke="black" points="114.73,-116 17.16,-116 17.16,-80 114.73,-80 114.73,-116"></polygon>
<text text-anchor="middle" x="65.95" y="-93.8" font-family="Arial" font-size="14.00">"13898743Y"</text>
</g>
<!-- i3 -->
<g id="node7" class="node">
<title>i3</title>
<polygon fill="none" stroke="black" points="252.17,-55 252.17,-89.8 293.52,-89.8 293.52,-55 252.17,-55"></polygon>
<text text-anchor="start" x="261.17" y="-68.2" font-family="Arial" font-size="14.00">998</text>
<polygon fill="none" stroke="black" points="252.17,-20.2 252.17,-55 293.52,-55 293.52,-20.2 252.17,-20.2"></polygon>
<text text-anchor="start" x="261.17" y="-33.4" font-family="Arial" font-size="14.00">999</text>
</g>
<!-- k3&#45;&gt;i3 -->
<g id="edge9" class="edge">
<title>k3-&gt;i3:index</title>
<path fill="none" stroke="gray" stroke-dasharray="5,2" d="M114.78,-91.24C156.93,-85.28 215.27,-77.03 239.55,-73.6"></path>
<polygon fill="gray" stroke="gray" points="239.94,-77.08 249.35,-72.21 238.96,-70.15 239.94,-77.08"></polygon>
<text text-anchor="middle" x="170.03" y="-93.2" font-family="Arial" font-size="14.00">Hash%1000</text>
</g>
<!-- k4 -->
<g id="node4" class="node">
<title>k4</title>
<polygon fill="none" stroke="black" points="115.89,-224 16,-224 16,-188 115.89,-188 115.89,-224"></polygon>
<text text-anchor="middle" x="65.95" y="-201.8" font-family="Arial" font-size="14.00">"11335499M"</text>
</g>
<!-- k4&#45;&gt;i2 -->
<g id="edge10" class="edge">
<title>k4-&gt;i2:index</title>
<path fill="none" stroke="gray" stroke-dasharray="5,2" d="M116.23,-200.64C158.36,-196.06 215.85,-189.81 239.73,-187.21"></path>
<polygon fill="gray" stroke="gray" points="239.78,-190.72 249.34,-186.16 239.02,-183.77 239.78,-190.72"></polygon>
<text text-anchor="middle" x="170.03" y="-202.2" font-family="Arial" font-size="14.00">Hash%1000</text>
</g>
<!-- i1&#45;&gt;i2 -->
<g id="edge1" class="edge">
<title>i1-&gt;i2</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M272.85,-278.35C272.85,-266.24 272.85,-254.14 272.85,-242.03"></path>
</g>
<!-- r1 -->
<g id="node8" class="node">
<title>r1</title>
<polygon fill="none" stroke="black" points="368.18,-254.6 368.18,-289.4 467.74,-289.4 467.74,-254.6 368.18,-254.6"></polygon>
<text text-anchor="start" x="377.18" y="-267.8" font-family="Arial" font-size="14.00">"11224441K"</text>
<polygon fill="none" stroke="black" points="467.74,-254.6 467.74,-289.4 662.24,-289.4 662.24,-254.6 467.74,-254.6"></polygon>
<text text-anchor="start" x="476.74" y="-267.8" font-family="Arial" font-size="14.00">Nombre = "Pepe" Edad = 30</text>
</g>
<!-- i1&#45;&gt;r1 -->
<g id="edge5" class="edge">
<title>i1:index-&gt;r1:key</title>
<path fill="none" stroke="black" d="M294.85,-300C294.85,-300 336.4,-283.92 356.53,-276.13"></path>
<polygon fill="black" stroke="black" points="357.73,-279.42 365.8,-272.55 355.21,-272.89 357.73,-279.42"></polygon>
</g>
<!-- i2&#45;&gt;i3 -->
<g id="edge2" class="edge">
<title>i2-&gt;i3</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M272.85,-130.08C272.85,-117.93 272.85,-105.78 272.85,-93.63"></path>
</g>
<!-- r2 -->
<g id="node9" class="node">
<title>r2</title>
<polygon fill="none" stroke="black" points="363.52,-193.6 363.52,-228.4 465.42,-228.4 465.42,-193.6 363.52,-193.6"></polygon>
<text text-anchor="start" x="372.52" y="-206.8" font-family="Arial" font-size="14.00">"11335499M"</text>
<polygon fill="none" stroke="black" points="465.42,-193.6 465.42,-228.4 666.89,-228.4 666.89,-193.6 465.42,-193.6"></polygon>
<text text-anchor="start" x="474.42" y="-206.8" font-family="Arial" font-size="14.00">Nombre = "Mar√≠a" Edad = 22</text>
</g>
<!-- i2&#45;&gt;r2 -->
<g id="edge4" class="edge">
<title>i2:index-&gt;r2:key</title>
<path fill="none" stroke="black" d="M294.85,-186C294.85,-186 332.74,-200.06 351.68,-207.09"></path>
<polygon fill="black" stroke="black" points="350.2,-210.28 360.79,-210.47 352.63,-203.71 350.2,-210.28"></polygon>
</g>
<!-- r4 -->
<g id="node11" class="node">
<title>r4</title>
<polygon fill="none" stroke="black" points="369.74,-54.6 369.74,-89.4 469.3,-89.4 469.3,-54.6 369.74,-54.6"></polygon>
<text text-anchor="start" x="378.74" y="-67.8" font-family="Arial" font-size="14.00">"13898743Y"</text>
<polygon fill="none" stroke="black" points="469.3,-54.6 469.3,-89.4 660.68,-89.4 660.68,-54.6 469.3,-54.6"></polygon>
<text text-anchor="start" x="478.3" y="-67.8" font-family="Arial" font-size="14.00">Nombre = "Sara" Edad = 27</text>
</g>
<!-- i3&#45;&gt;r4 -->
<g id="edge6" class="edge">
<title>i3:index-&gt;r4:key</title>
<path fill="none" stroke="black" d="M294.85,-72C294.85,-72 337.11,-72 357.91,-72"></path>
<polygon fill="black" stroke="black" points="357.69,-75.5 367.69,-72 357.69,-68.5 357.69,-75.5"></polygon>
</g>
<!-- r3 -->
<g id="node10" class="node">
<title>r3</title>
<polygon fill="none" stroke="black" points="368.57,-115.6 368.57,-150.4 469.69,-150.4 469.69,-115.6 368.57,-115.6"></polygon>
<text text-anchor="start" x="377.57" y="-128.8" font-family="Arial" font-size="14.00">"12345678O"</text>
<polygon fill="none" stroke="black" points="469.69,-115.6 469.69,-150.4 661.85,-150.4 661.85,-115.6 469.69,-115.6"></polygon>
<text text-anchor="start" x="478.69" y="-128.8" font-family="Arial" font-size="14.00">Nombre = "Juan" Edad = 33</text>
</g>
<!-- r2&#45;&gt;r3 -->
<g id="edge3" class="edge">
<title>r2:key-&gt;r3:key</title>
<path fill="none" stroke="black" d="M417.89,-162.04C416.41,-174.48 414.21,-193 414.21,-193"></path>
<polygon fill="black" stroke="black" points="421.32,-162.85 419.03,-152.5 414.37,-162.02 421.32,-162.85"></polygon>
</g>
</g>
</svg>
</p><p></p>
<p>Si nos fijamos, internamente el diccionario guarda una tabla de <strong><code>n</code></strong> elementos de capacidad y esto es importante para que funcionen de manera eficiente. De hecho si a priori conocemos cuantos elementos va a tener diccionario podremos dimensionarla en el constructor. Por ejemplo, si queremos que tenga una capacidad de <strong>1000</strong> como en nuestro ejemplo podr√≠amos construir el diccionario de la siguiente manara ...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token class-name"><span class="token keyword keyword-var">var</span></span> personas <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">,</span> Persona<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>Internamente calcula el Hash de la <strong>clave</strong>. En C# el Hash es un valor num√©rico entero que se obtiene a trav√©s del m√©todo <strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.object.gethashcode">GetHashCode()</a></strong> que cualquier objeto implemente por estar definido en la clase <strong><code>Object</code></strong> como virtual y que por tanto podremos invalidar en nuestras definiciones de tipos.</p>
<p>Si consultamos como funciona la <strong>funci√≥n de Hash</strong> por ejemplo en la <strong><a href="https://es.wikipedia.org/wiki/Funci%C3%B3n_hash">Wikipedia</a></strong> podemos deducir que, para un determinado estado de un objeto, esta me devuelve un valor num√©rico '<em>√∫nico</em>'.</p>
<p>Pero... ¬øPara que nos sirve calcular el Hash de la clave?. Si nos fijamos en el diagrama, lo que hace el diccionario es calcular el m√≥dulo del Hash entre la capacidad de la tabla <strong><code>Hash % 1000</code></strong> esto nos asegurar√° obtener un resto entre <strong><code>0 y 999</code></strong> que son √≠ndices v√°lidos para la tabla definida. Por tanto, podemos inferir que el Hash me permitir√° crear una <strong>correspondencia entre</strong> los <strong>objetos usados como clave</strong> (<strong><code>string</code></strong> en nuestro caso) y un <strong>√≠ndice</strong> d√≥nde guardar <strong>el valor asociado</strong> en la tabla, tal y como se muestra en la ilustraci√≥n.</p>
<p>Pero... ¬øSi la tabla tiene poca capacidad entonces, las posibilidades de que el resto de dividir el Hash de dos claves por el tama√±o me de el mismo √≠ndice es muy alta?. Efectivamente, por eso si nos fijamos en la ilustraci√≥n hay dos DNI que al dar el mismo √≠ndice se deben guardar en la misma posici√≥n, por ejemplo a trav√©s de una lista enlazada. Una vez vamos a esa posici√≥n de la tabla deberemos buscar la clave en la lista. Es por esa raz√≥n, que cada registro de la lista guarda pares de clave-valor y no √∫nicamente el valor. Adem√°s, para saber buscar la clave en la lista deberemos saber si dos claves son iguales y por ello <strong>los objetos que usemos como clave deben implementar</strong> la interfaz <strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.iequatable-1">IEquatable&lt;T&gt;</a></strong>.</p>
<blockquote>
<p>‚úã <strong>Importante:</strong> No debemos preocuparnos por <strong>los tipos b√°sicos y los definidos en las BCL</strong>, puesto que <strong><code>IEquatable&lt;T&gt;</code></strong> est√° implementado en todos ellos.</p>
<p>üì£ <strong>Resumen:</strong></p>
<p>Podemos decir que <strong>para que un tipo pueda hacer de clave</strong> debe invalidar <strong><code>GetHashCode()</code></strong> y debe implementar <strong><code>IEquatable&lt;T&gt;</code></strong>. Afortunadamente, no debemos preocuparnos porque <strong>los tipos b√°sicos y los definidos en las BCL</strong> cumplen estas condiciones.</p>
</blockquote>
<blockquote>
<p>üí° <strong>Tips:</strong> Del funcionamiento descrito podemos entender los siguiente m√©todos de optimizaci√≥n y rendimiento de los diccionarios ...</p>
<ol>
<li>
<p><strong><code>int EnsureCapacity(int capacity)</code></strong><br>
<strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.collections.generic.dictionary-2.ensurecapacity">EnsureCapacity</a></strong> me permitir√° definir el tama√±o de la tabla interna del diccionario si tengo muchas entradas evitando as√≠ que se repitan √≠ndices en las claves.</p>
</li>
<li>
<p><strong><code>void TrimExcess()</code></strong><br>
<strong><a href="https://docs.microsoft.com/es-es/dotnet/api/system.collections.generic.dictionary-2.trimexcess">TrimExcess</a></strong> si he realizado un Clear() o voy a tener pocos elementos en el diccionario me permitir√° reducir el tama√±o de la tabla adecu√°ndolo al n√∫mero de entradas.</p>
</li>
</ol>
</blockquote>
<div class="contenedor">
    <div class="fondo">
        <div class="abre_comilla">"</div>
        <div class="cierra_comilla">"</div>
        <div class="cita">The possible solutions to a given problem emerge as the leaves of a tree, each node representing a point of deliberation and decision.</div>
        <div class="autor">- Niklaus Wirth.</div>
    </div>
</div>
<div style="page-break-after:always;"></div>
<h5 id="usando-tipos-propios-como-claves">Usando tipos propios como claves </h5>
<p>Imaginemos que queremos definir un diccionario donde la <strong>clave</strong> ahora ser√° la clase <strong><code>Persona</code></strong> que hemos utilizado a lo largo del tema y el valor ser√° una lista de cadenas con los nombres de las mascotas de esa persona.</p>
<p>La definici√≥n b√°sica del tipo <strong><code>Persona</code></strong> para usarlo como clave ser√≠a la siguiente...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// Debe implementar IEquatable&lt;Persona&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Persona</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IEquatable<span class="token punctuation">&lt;</span>Persona<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Edad <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">Persona</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> edad<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        Edad <span class="token operator">=</span> edad<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Es interesante que redefinamos el ToString para que represente el estado del</span>
    <span class="token comment">// objeto mediante una cadena.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Nombre</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Edad</span><span class="token punctuation">}</span></span><span class="token string"> a√±os"</span></span><span class="token punctuation">;</span>
    <span class="token comment">// Invalidamos GetHashCode() y una forma simple es usar la funci√≥n</span>
    <span class="token comment">// HashCode.Combine(...) para generar el hashcode a partir de los par√°metros.</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-override">override</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> <span class="token function">GetHashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> HashCode<span class="token punctuation">.</span><span class="token function">Combine</span><span class="token punctuation">(</span>Nombre<span class="token punctuation">,</span> Edad<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Implementamos el interfaz, que nos obliga a implementar Equals y podemos </span>
    <span class="token comment">// comparar f√°cilmente dos objetos, viendo si tienen el mismo Hash o no.</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AllowNull</span></span><span class="token punctuation">]</span> <span class="token class-name">Persona</span> o<span class="token punctuation">)</span>
    <span class="token operator">=&gt;</span> o <span class="token operator">!=</span> <span class="token keyword keyword-null">null</span> <span class="token operator">&amp;&amp;</span> Nombre <span class="token operator">==</span> o<span class="token punctuation">.</span>Nombre <span class="token operator">&amp;&amp;</span> Edad <span class="token operator">==</span> o<span class="token punctuation">.</span>Edad<span class="token punctuation">;</span>

    <span class="token comment">// Comparar por HasCode no ser√≠a una opci√≥n v√°lida ya que seg√∫n la longitud</span>
    <span class="token comment">// del Hash existe la posibilidad de que objetos diferentes me devuelvan el</span>
    <span class="token comment">// el mismo Hash.</span>
<span class="token punctuation">}</span>
</code></pre><p>Analicemos la siguiente propuesta c√≥digo de ejemplo comentado donde usamos la clase <strong><code>Persona</code></strong> que hemos definido como clave...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definimos el diccionario donde la clave es una persona y</span>
    <span class="token comment">// el valor una lista de mascotas.</span>
    <span class="token class-name">Dictionary<span class="token punctuation">&lt;</span>Persona<span class="token punctuation">,</span> List<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> mascotasXPersona <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Creamos un objeto persona pepe y para ese objeto  </span>
    <span class="token comment">// a√±adimos una lista vac√≠a de mascotas.</span>
    <span class="token class-name">Persona</span> pepe <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Persona</span><span class="token punctuation">(</span><span class="token string">"Pepe"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    mascotasXPersona<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>pepe<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Usamos la misma referencia al objeto pepe para acceder</span>
    <span class="token comment">// a su lista de mascotas y a√±adir dos nombres.</span>
    mascotasXPersona<span class="token punctuation">[</span>pepe<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"Snowball"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mascotasXPersona<span class="token punctuation">[</span>pepe<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"Velvet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Creamos un objeto persona de nombre Mar√≠a del que no nos guardamos la </span>
    <span class="token comment">// referencia y a√±adimos una lista inicializada en la definici√≥n con dos mascotas.</span>
    mascotasXPersona<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Persona</span><span class="token punctuation">(</span><span class="token string">"Mar√≠a"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token string">"Simba"</span><span class="token punctuation">,</span> <span class="token string">"Bella"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// A√±adimos una tercera mascota a Mar√≠a, pero volvemos a instanciar otro objeto</span>
    <span class="token comment">// Persona para Mar√≠a porque no nos guardamos la referencia como con pepe.</span>
    <span class="token comment">// No deber√≠a ser problema porque ambos deber√≠an generar el mismo Hash y adem√°s</span>
    <span class="token comment">// sabemos comparar objetos persona con Equal.</span>
    mascotasXPersona<span class="token punctuation">[</span><span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Persona</span><span class="token punctuation">(</span><span class="token string">"Mar√≠a"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"Lucy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Mostramos la lista de mascotas por persona.</span>
    <span class="token keyword keyword-foreach">foreach</span> <span class="token punctuation">(</span><span class="token class-name">Persona</span> p <span class="token keyword keyword-in">in</span> mascotasXPersona<span class="token punctuation">.</span>Keys<span class="token punctuation">)</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">p</span><span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword keyword-string">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">,</span> mascotasXPersona<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Prueba a ejecutar este c√≥digo y comprueba que funciona correctamente. Prueba ahora a eliminar la invalidaci√≥n de <strong><code>GetHashCode()</code></strong> de <strong><code>Persona</code></strong> y ver que sucede. Deber√≠as obtener un error en la <strong><code>l√≠nea 24</code></strong> puesto que estamos intentado usar como clave de acceso un objeto <strong><code>Persona</code></strong> de nombre <strong>Mar√≠a</strong> y edad <strong>22</strong> a√±os que <em>'supuestamente'</em> no est√° definida en el diccionario porque su Hash es diferente al del objeto con que se a√±adi√≥.</p>
<div style="page-break-after:always;"></div>
<blockquote>
<p>üéì <strong>Caso de estudio:</strong></p>
<p>Vamos su uso a trav√©s de un simple <strong>programa de ejemplo</strong> que realice un peque√±o examen sobre las capitales de la UE. Para ello, el programa preguntar√° 5 capitales. Puntuando con 2 puntos cada pregunta acertada.</p>
<p>Veamos una posible soluci√≥n usando diccionarios y otras colecciones vistas en el tema...</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Definimos el diccionario con los pa√≠ses y sus capitales.</span>
    <span class="token class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">,</span> <span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span> capitalesPorPais <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">,</span> <span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token punctuation">{</span><span class="token string">"Espa√±a"</span><span class="token punctuation">,</span> <span class="token string">"Madrid"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// Par clave pa√≠s, valor capital.</span>
        <span class="token punctuation">{</span><span class="token string">"Portugal"</span><span class="token punctuation">,</span> <span class="token string">"Lisboa"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
        <span class="token punctuation">{</span><span class="token string">"Francia"</span><span class="token punctuation">,</span> <span class="token string">"Paris"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string">"Luxemburgo"</span><span class="token punctuation">,</span> <span class="token string">"Luxemburgo"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
        <span class="token punctuation">{</span><span class="token string">"Irlanda"</span><span class="token punctuation">,</span> <span class="token string">"Dublin"</span><span class="token punctuation">}</span>
        
    <span class="token punctuation">}</span><span class="token punctuation">;</span>  
    <span class="token comment">// Aunque hemos definido por extensi√≥n. Podemos a√±adir elemetos a posteriori.</span>
    capitalesPorPais<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"Belgica"</span><span class="token punctuation">,</span> <span class="token string">"Bruselas"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    capitalesPorPais<span class="token punctuation">[</span><span class="token string">"Alemania"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Berlin"</span><span class="token punctuation">;</span>

    <span class="token comment">// Obtenemos una lista de claves indizable por un entero.</span>
    <span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span> paises <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>capitalesPorPais<span class="token punctuation">.</span>Keys<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Lista donde almacenar√© los pa√≠ses ya preguntados para no repetirnos.</span>
    <span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span> paisesPreguntados <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> NUMERO_PREGUNTAS <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token class-name">Random</span> semilla <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword keyword-uint">uint</span></span> puntos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> NUMERO_PREGUNTAS<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> paisPreguntado<span class="token punctuation">;</span>

        <span class="token comment">// Buscamos un pa√≠s que √∫n no hayamos preguntado.</span>
        <span class="token keyword keyword-do">do</span>
        <span class="token punctuation">{</span>
            paisPreguntado <span class="token operator">=</span> paises<span class="token punctuation">[</span>semilla<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> paises<span class="token punctuation">.</span>Count<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span>paisesPreguntados<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>paisPreguntado<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        paisesPreguntados<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>paisPreguntado<span class="token punctuation">)</span><span class="token punctuation">;</span>

        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"¬øCual es la capital de </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">paisPreguntado</span><span class="token punctuation">}</span></span><span class="token string">? &gt; "</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> capitalRespondida <span class="token operator">=</span> Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">ToUpper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> respuestaCorrecta <span class="token operator">=</span> capitalRespondida <span class="token operator">==</span> capitalesPorPais<span class="token punctuation">[</span>paisPreguntado<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ToUpper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>respuestaCorrecta<span class="token punctuation">)</span> 
            puntos <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-string">string</span></span> mensaje <span class="token operator">=</span> <span class="token punctuation">(</span>respuestaCorrecta
                            <span class="token punctuation">?</span> <span class="token string">"Correcto !!"</span>
                            <span class="token punctuation">:</span> <span class="token interpolation-string"><span class="token string">$"Incorrecto !!\nLa respuesta es </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">capitalesPorPais<span class="token punctuation">[</span>paisPreguntado<span class="token punctuation">]</span></span><span class="token punctuation">}</span></span><span class="token string">."</span></span><span class="token punctuation">)</span>
                            <span class="token operator">+</span> <span class="token interpolation-string"><span class="token string">$"\nLlevas </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">puntos</span><span class="token punctuation">}</span></span><span class="token string"> puntos.\n"</span></span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>mensaje<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Tu nota final es </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">puntos</span><span class="token punctuation">}</span></span><span class="token string">."</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></blockquote>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>